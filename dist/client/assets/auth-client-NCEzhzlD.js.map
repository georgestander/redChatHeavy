{"version":3,"file":"auth-client-NCEzhzlD.js","sources":["../../../node_modules/.pnpm/@better-auth+core@1.4.18_@better-auth+utils@0.3.0_@better-fetch+fetch@1.1.21_better-call@1.1._svxzrtvy72dhm4ez6zlzo775rm/node_modules/@better-auth/core/dist/env/env-impl.mjs","../../../node_modules/.pnpm/@better-auth+core@1.4.18_@better-auth+utils@0.3.0_@better-fetch+fetch@1.1.21_better-call@1.1._svxzrtvy72dhm4ez6zlzo775rm/node_modules/@better-auth/core/dist/env/color-depth.mjs","../../../node_modules/.pnpm/@better-auth+core@1.4.18_@better-auth+utils@0.3.0_@better-fetch+fetch@1.1.21_better-call@1.1._svxzrtvy72dhm4ez6zlzo775rm/node_modules/@better-auth/core/dist/env/logger.mjs","../../../node_modules/.pnpm/@better-auth+core@1.4.18_@better-auth+utils@0.3.0_@better-fetch+fetch@1.1.21_better-call@1.1._svxzrtvy72dhm4ez6zlzo775rm/node_modules/@better-auth/core/dist/utils/string.mjs","../../../node_modules/.pnpm/@better-auth+core@1.4.18_@better-auth+utils@0.3.0_@better-fetch+fetch@1.1.21_better-call@1.1._svxzrtvy72dhm4ez6zlzo775rm/node_modules/@better-auth/core/dist/error/index.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/utils/url.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/fetch-plugins.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/parser.mjs","../../../node_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js","../../../node_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js","../../../node_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/query.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/broadcast-channel.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/focus-manager.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/online-manager.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/session-refresh.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/session-atom.mjs","../../../node_modules/.pnpm/defu@6.1.4/node_modules/defu/dist/defu.mjs","../../../node_modules/.pnpm/@better-fetch+fetch@1.1.21/node_modules/@better-fetch/fetch/dist/index.js","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/config.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/utils/is-atom.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/proxy.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/react/react-store.mjs","../../../node_modules/.pnpm/better-auth@1.4.18_better-sqlite3@12.6.2_drizzle-kit@0.25.0_drizzle-orm@0.34.1_@cloudflare+wo_gnuc4skgho5hqg2jqlfi6hk52u/node_modules/better-auth/dist/client/react/index.mjs","../../../lib/auth-client.ts"],"sourcesContent":["//#region src/env/env-impl.ts\nconst _envShim = Object.create(null);\nconst _getEnv = (useShim) => globalThis.process?.env || globalThis.Deno?.env.toObject() || globalThis.__env__ || (useShim ? _envShim : globalThis);\nconst env = new Proxy(_envShim, {\n\tget(_, prop) {\n\t\treturn _getEnv()[prop] ?? _envShim[prop];\n\t},\n\thas(_, prop) {\n\t\treturn prop in _getEnv() || prop in _envShim;\n\t},\n\tset(_, prop, value) {\n\t\tconst env$1 = _getEnv(true);\n\t\tenv$1[prop] = value;\n\t\treturn true;\n\t},\n\tdeleteProperty(_, prop) {\n\t\tif (!prop) return false;\n\t\tconst env$1 = _getEnv(true);\n\t\tdelete env$1[prop];\n\t\treturn true;\n\t},\n\townKeys() {\n\t\tconst env$1 = _getEnv(true);\n\t\treturn Object.keys(env$1);\n\t}\n});\nfunction toBoolean(val) {\n\treturn val ? val !== \"false\" : false;\n}\nconst nodeENV = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV || \"\";\n/** Detect if `NODE_ENV` environment variable is `production` */\nconst isProduction = nodeENV === \"production\";\n/** Detect if `NODE_ENV` environment variable is `dev` or `development` */\nconst isDevelopment = () => nodeENV === \"dev\" || nodeENV === \"development\";\n/** Detect if `NODE_ENV` environment variable is `test` */\nconst isTest = () => nodeENV === \"test\" || toBoolean(env.TEST);\n/**\n* Get environment variable with fallback\n*/\nfunction getEnvVar(key, fallback) {\n\tif (typeof process !== \"undefined\" && process.env) return process.env[key] ?? fallback;\n\tif (typeof Deno !== \"undefined\") return Deno.env.get(key) ?? fallback;\n\tif (typeof Bun !== \"undefined\") return Bun.env[key] ?? fallback;\n\treturn fallback;\n}\n/**\n* Get boolean environment variable\n*/\nfunction getBooleanEnvVar(key, fallback = true) {\n\tconst value = getEnvVar(key);\n\tif (!value) return fallback;\n\treturn value !== \"0\" && value.toLowerCase() !== \"false\" && value !== \"\";\n}\n/**\n* Common environment variables used in Better Auth\n*/\nconst ENV = Object.freeze({\n\tget BETTER_AUTH_SECRET() {\n\t\treturn getEnvVar(\"BETTER_AUTH_SECRET\");\n\t},\n\tget AUTH_SECRET() {\n\t\treturn getEnvVar(\"AUTH_SECRET\");\n\t},\n\tget BETTER_AUTH_TELEMETRY() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ID() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ID\");\n\t},\n\tget NODE_ENV() {\n\t\treturn getEnvVar(\"NODE_ENV\", \"development\");\n\t},\n\tget PACKAGE_VERSION() {\n\t\treturn getEnvVar(\"PACKAGE_VERSION\", \"0.0.0\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ENDPOINT() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ENDPOINT\", \"\");\n\t}\n});\n\n//#endregion\nexport { ENV, env, getBooleanEnvVar, getEnvVar, isDevelopment, isProduction, isTest, nodeENV };\n//# sourceMappingURL=env-impl.mjs.map","import { env, getEnvVar } from \"./env-impl.mjs\";\n\n//#region src/env/color-depth.ts\nconst COLORS_2 = 1;\nconst COLORS_16 = 4;\nconst COLORS_256 = 8;\nconst COLORS_16m = 24;\nconst TERM_ENVS = {\n\teterm: COLORS_16,\n\tcons25: COLORS_16,\n\tconsole: COLORS_16,\n\tcygwin: COLORS_16,\n\tdtterm: COLORS_16,\n\tgnome: COLORS_16,\n\thurd: COLORS_16,\n\tjfbterm: COLORS_16,\n\tkonsole: COLORS_16,\n\tkterm: COLORS_16,\n\tmlterm: COLORS_16,\n\tmosh: COLORS_16m,\n\tputty: COLORS_16,\n\tst: COLORS_16,\n\t\"rxvt-unicode-24bit\": COLORS_16m,\n\tterminator: COLORS_16m,\n\t\"xterm-kitty\": COLORS_16m\n};\nconst CI_ENVS_MAP = new Map(Object.entries({\n\tAPPVEYOR: COLORS_256,\n\tBUILDKITE: COLORS_256,\n\tCIRCLECI: COLORS_16m,\n\tDRONE: COLORS_256,\n\tGITEA_ACTIONS: COLORS_16m,\n\tGITHUB_ACTIONS: COLORS_16m,\n\tGITLAB_CI: COLORS_256,\n\tTRAVIS: COLORS_256\n}));\nconst TERM_ENVS_REG_EXP = [\n\t/ansi/,\n\t/color/,\n\t/linux/,\n\t/direct/,\n\t/^con[0-9]*x[0-9]/,\n\t/^rxvt/,\n\t/^screen/,\n\t/^xterm/,\n\t/^vt100/,\n\t/^vt220/\n];\nfunction getColorDepth() {\n\tif (getEnvVar(\"FORCE_COLOR\") !== void 0) switch (getEnvVar(\"FORCE_COLOR\")) {\n\t\tcase \"\":\n\t\tcase \"1\":\n\t\tcase \"true\": return COLORS_16;\n\t\tcase \"2\": return COLORS_256;\n\t\tcase \"3\": return COLORS_16m;\n\t\tdefault: return COLORS_2;\n\t}\n\tif (getEnvVar(\"NODE_DISABLE_COLORS\") !== void 0 && getEnvVar(\"NODE_DISABLE_COLORS\") !== \"\" || getEnvVar(\"NO_COLOR\") !== void 0 && getEnvVar(\"NO_COLOR\") !== \"\" || getEnvVar(\"TERM\") === \"dumb\") return COLORS_2;\n\tif (getEnvVar(\"TMUX\")) return COLORS_16m;\n\tif (\"TF_BUILD\" in env && \"AGENT_NAME\" in env) return COLORS_16;\n\tif (\"CI\" in env) {\n\t\tfor (const { 0: envName, 1: colors } of CI_ENVS_MAP) if (envName in env) return colors;\n\t\tif (getEnvVar(\"CI_NAME\") === \"codeship\") return COLORS_256;\n\t\treturn COLORS_2;\n\t}\n\tif (\"TEAMCITY_VERSION\" in env) return /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.exec(getEnvVar(\"TEAMCITY_VERSION\")) !== null ? COLORS_16 : COLORS_2;\n\tswitch (getEnvVar(\"TERM_PROGRAM\")) {\n\t\tcase \"iTerm.app\":\n\t\t\tif (!getEnvVar(\"TERM_PROGRAM_VERSION\") || /^[0-2]\\./.exec(getEnvVar(\"TERM_PROGRAM_VERSION\")) !== null) return COLORS_256;\n\t\t\treturn COLORS_16m;\n\t\tcase \"HyperTerm\":\n\t\tcase \"MacTerm\": return COLORS_16m;\n\t\tcase \"Apple_Terminal\": return COLORS_256;\n\t}\n\tif (getEnvVar(\"COLORTERM\") === \"truecolor\" || getEnvVar(\"COLORTERM\") === \"24bit\") return COLORS_16m;\n\tif (getEnvVar(\"TERM\")) {\n\t\tif (/truecolor/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_16m;\n\t\tif (/^xterm-256/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_256;\n\t\tconst termEnv = getEnvVar(\"TERM\").toLowerCase();\n\t\tif (TERM_ENVS[termEnv]) return TERM_ENVS[termEnv];\n\t\tif (TERM_ENVS_REG_EXP.some((term) => term.exec(termEnv) !== null)) return COLORS_16;\n\t}\n\tif (getEnvVar(\"COLORTERM\")) return COLORS_16;\n\treturn COLORS_2;\n}\n\n//#endregion\nexport { getColorDepth };\n//# sourceMappingURL=color-depth.mjs.map","import { getColorDepth } from \"./color-depth.mjs\";\n\n//#region src/env/logger.ts\nconst TTY_COLORS = {\n\treset: \"\\x1B[0m\",\n\tbright: \"\\x1B[1m\",\n\tdim: \"\\x1B[2m\",\n\tundim: \"\\x1B[22m\",\n\tunderscore: \"\\x1B[4m\",\n\tblink: \"\\x1B[5m\",\n\treverse: \"\\x1B[7m\",\n\thidden: \"\\x1B[8m\",\n\tfg: {\n\t\tblack: \"\\x1B[30m\",\n\t\tred: \"\\x1B[31m\",\n\t\tgreen: \"\\x1B[32m\",\n\t\tyellow: \"\\x1B[33m\",\n\t\tblue: \"\\x1B[34m\",\n\t\tmagenta: \"\\x1B[35m\",\n\t\tcyan: \"\\x1B[36m\",\n\t\twhite: \"\\x1B[37m\"\n\t},\n\tbg: {\n\t\tblack: \"\\x1B[40m\",\n\t\tred: \"\\x1B[41m\",\n\t\tgreen: \"\\x1B[42m\",\n\t\tyellow: \"\\x1B[43m\",\n\t\tblue: \"\\x1B[44m\",\n\t\tmagenta: \"\\x1B[45m\",\n\t\tcyan: \"\\x1B[46m\",\n\t\twhite: \"\\x1B[47m\"\n\t}\n};\nconst levels = [\n\t\"debug\",\n\t\"info\",\n\t\"success\",\n\t\"warn\",\n\t\"error\"\n];\nfunction shouldPublishLog(currentLogLevel, logLevel) {\n\treturn levels.indexOf(logLevel) >= levels.indexOf(currentLogLevel);\n}\nconst levelColors = {\n\tinfo: TTY_COLORS.fg.blue,\n\tsuccess: TTY_COLORS.fg.green,\n\twarn: TTY_COLORS.fg.yellow,\n\terror: TTY_COLORS.fg.red,\n\tdebug: TTY_COLORS.fg.magenta\n};\nconst formatMessage = (level, message, colorsEnabled) => {\n\tconst timestamp = (/* @__PURE__ */ new Date()).toISOString();\n\tif (colorsEnabled) return `${TTY_COLORS.dim}${timestamp}${TTY_COLORS.reset} ${levelColors[level]}${level.toUpperCase()}${TTY_COLORS.reset} ${TTY_COLORS.bright}[Better Auth]:${TTY_COLORS.reset} ${message}`;\n\treturn `${timestamp} ${level.toUpperCase()} [Better Auth]: ${message}`;\n};\nconst createLogger = (options) => {\n\tconst enabled = options?.disabled !== true;\n\tconst logLevel = options?.level ?? \"warn\";\n\tconst colorsEnabled = options?.disableColors !== void 0 ? !options.disableColors : getColorDepth() !== 1;\n\tconst LogFunc = (level, message, args = []) => {\n\t\tif (!enabled || !shouldPublishLog(logLevel, level)) return;\n\t\tconst formattedMessage = formatMessage(level, message, colorsEnabled);\n\t\tif (!options || typeof options.log !== \"function\") {\n\t\t\tif (level === \"error\") console.error(formattedMessage, ...args);\n\t\t\telse if (level === \"warn\") console.warn(formattedMessage, ...args);\n\t\t\telse console.log(formattedMessage, ...args);\n\t\t\treturn;\n\t\t}\n\t\toptions.log(level === \"success\" ? \"info\" : level, message, ...args);\n\t};\n\treturn {\n\t\t...Object.fromEntries(levels.map((level) => [level, (...[message, ...args]) => LogFunc(level, message, args)])),\n\t\tget level() {\n\t\t\treturn logLevel;\n\t\t}\n\t};\n};\nconst logger = createLogger();\n\n//#endregion\nexport { TTY_COLORS, createLogger, levels, logger, shouldPublishLog };\n//# sourceMappingURL=logger.mjs.map","//#region src/utils/string.ts\nfunction capitalizeFirstLetter(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n//#endregion\nexport { capitalizeFirstLetter };\n//# sourceMappingURL=string.mjs.map","import { BASE_ERROR_CODES } from \"./codes.mjs\";\n\n//#region src/error/index.ts\nvar BetterAuthError = class extends Error {\n\tconstructor(message, options) {\n\t\tsuper(message, options);\n\t\tthis.name = \"BetterAuthError\";\n\t\tthis.message = message;\n\t\tthis.stack = \"\";\n\t}\n};\n\n//#endregion\nexport { BASE_ERROR_CODES, BetterAuthError };\n//# sourceMappingURL=index.mjs.map","import { env } from \"@better-auth/core/env\";\nimport { BetterAuthError } from \"@better-auth/core/error\";\n\n//#region src/utils/url.ts\nfunction checkHasPath(url) {\n\ttry {\n\t\treturn (new URL(url).pathname.replace(/\\/+$/, \"\") || \"/\") !== \"/\";\n\t} catch {\n\t\tthrow new BetterAuthError(`Invalid base URL: ${url}. Please provide a valid base URL.`);\n\t}\n}\nfunction assertHasProtocol(url) {\n\ttry {\n\t\tconst parsedUrl = new URL(url);\n\t\tif (parsedUrl.protocol !== \"http:\" && parsedUrl.protocol !== \"https:\") throw new BetterAuthError(`Invalid base URL: ${url}. URL must include 'http://' or 'https://'`);\n\t} catch (error) {\n\t\tif (error instanceof BetterAuthError) throw error;\n\t\tthrow new BetterAuthError(`Invalid base URL: ${url}. Please provide a valid base URL.`, { cause: error });\n\t}\n}\nfunction withPath(url, path = \"/api/auth\") {\n\tassertHasProtocol(url);\n\tif (checkHasPath(url)) return url;\n\tconst trimmedUrl = url.replace(/\\/+$/, \"\");\n\tif (!path || path === \"/\") return trimmedUrl;\n\tpath = path.startsWith(\"/\") ? path : `/${path}`;\n\treturn `${trimmedUrl}${path}`;\n}\nfunction validateProxyHeader(header, type) {\n\tif (!header || header.trim() === \"\") return false;\n\tif (type === \"proto\") return header === \"http\" || header === \"https\";\n\tif (type === \"host\") {\n\t\tif ([\n\t\t\t/\\.\\./,\n\t\t\t/\\0/,\n\t\t\t/[\\s]/,\n\t\t\t/^[.]/,\n\t\t\t/[<>'\"]/,\n\t\t\t/javascript:/i,\n\t\t\t/file:/i,\n\t\t\t/data:/i\n\t\t].some((pattern) => pattern.test(header))) return false;\n\t\treturn /^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*(:[0-9]{1,5})?$/.test(header) || /^(\\d{1,3}\\.){3}\\d{1,3}(:[0-9]{1,5})?$/.test(header) || /^\\[[0-9a-fA-F:]+\\](:[0-9]{1,5})?$/.test(header) || /^localhost(:[0-9]{1,5})?$/i.test(header);\n\t}\n\treturn false;\n}\nfunction getBaseURL(url, path, request, loadEnv, trustedProxyHeaders) {\n\tif (url) return withPath(url, path);\n\tif (loadEnv !== false) {\n\t\tconst fromEnv = env.BETTER_AUTH_URL || env.NEXT_PUBLIC_BETTER_AUTH_URL || env.PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_AUTH_URL || (env.BASE_URL !== \"/\" ? env.BASE_URL : void 0);\n\t\tif (fromEnv) return withPath(fromEnv, path);\n\t}\n\tconst fromRequest = request?.headers.get(\"x-forwarded-host\");\n\tconst fromRequestProto = request?.headers.get(\"x-forwarded-proto\");\n\tif (fromRequest && fromRequestProto && trustedProxyHeaders) {\n\t\tif (validateProxyHeader(fromRequestProto, \"proto\") && validateProxyHeader(fromRequest, \"host\")) try {\n\t\t\treturn withPath(`${fromRequestProto}://${fromRequest}`, path);\n\t\t} catch (_error) {}\n\t}\n\tif (request) {\n\t\tconst url$1 = getOrigin(request.url);\n\t\tif (!url$1) throw new BetterAuthError(\"Could not get origin from request. Please provide a valid base URL.\");\n\t\treturn withPath(url$1, path);\n\t}\n\tif (typeof window !== \"undefined\" && window.location) return withPath(window.location.origin, path);\n}\nfunction getOrigin(url) {\n\ttry {\n\t\tconst parsedUrl = new URL(url);\n\t\treturn parsedUrl.origin === \"null\" ? null : parsedUrl.origin;\n\t} catch {\n\t\treturn null;\n\t}\n}\nfunction getProtocol(url) {\n\ttry {\n\t\treturn new URL(url).protocol;\n\t} catch {\n\t\treturn null;\n\t}\n}\nfunction getHost(url) {\n\ttry {\n\t\treturn new URL(url).host;\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n//#endregion\nexport { getBaseURL, getHost, getOrigin, getProtocol };\n//# sourceMappingURL=url.mjs.map","//#region src/client/fetch-plugins.ts\nconst redirectPlugin = {\n\tid: \"redirect\",\n\tname: \"Redirect\",\n\thooks: { onSuccess(context) {\n\t\tif (context.data?.url && context.data?.redirect) {\n\t\t\tif (typeof window !== \"undefined\" && window.location) {\n\t\t\t\tif (window.location) try {\n\t\t\t\t\twindow.location.href = context.data.url;\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t}\n\t} }\n};\n\n//#endregion\nexport { redirectPlugin };\n//# sourceMappingURL=fetch-plugins.mjs.map","//#region src/client/parser.ts\nconst PROTO_POLLUTION_PATTERNS = {\n\tproto: /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/,\n\tconstructor: /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/,\n\tprotoShort: /\"__proto__\"\\s*:/,\n\tconstructorShort: /\"constructor\"\\s*:/\n};\nconst JSON_SIGNATURE = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nconst SPECIAL_VALUES = {\n\ttrue: true,\n\tfalse: false,\n\tnull: null,\n\tundefined: void 0,\n\tnan: NaN,\n\tinfinity: Number.POSITIVE_INFINITY,\n\t\"-infinity\": Number.NEGATIVE_INFINITY\n};\nconst ISO_DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d{1,7}))?(?:Z|([+-])(\\d{2}):(\\d{2}))$/;\nfunction isValidDate(date) {\n\treturn date instanceof Date && !isNaN(date.getTime());\n}\nfunction parseISODate(value) {\n\tconst match = ISO_DATE_REGEX.exec(value);\n\tif (!match) return null;\n\tconst [, year, month, day, hour, minute, second, ms, offsetSign, offsetHour, offsetMinute] = match;\n\tconst date = new Date(Date.UTC(parseInt(year, 10), parseInt(month, 10) - 1, parseInt(day, 10), parseInt(hour, 10), parseInt(minute, 10), parseInt(second, 10), ms ? parseInt(ms.padEnd(3, \"0\"), 10) : 0));\n\tif (offsetSign) {\n\t\tconst offset = (parseInt(offsetHour, 10) * 60 + parseInt(offsetMinute, 10)) * (offsetSign === \"+\" ? -1 : 1);\n\t\tdate.setUTCMinutes(date.getUTCMinutes() + offset);\n\t}\n\treturn isValidDate(date) ? date : null;\n}\nfunction betterJSONParse(value, options = {}) {\n\tconst { strict = false, warnings = false, reviver, parseDates = true } = options;\n\tif (typeof value !== \"string\") return value;\n\tconst trimmed = value.trim();\n\tif (trimmed.length > 0 && trimmed[0] === \"\\\"\" && trimmed.endsWith(\"\\\"\") && !trimmed.slice(1, -1).includes(\"\\\"\")) return trimmed.slice(1, -1);\n\tconst lowerValue = trimmed.toLowerCase();\n\tif (lowerValue.length <= 9 && lowerValue in SPECIAL_VALUES) return SPECIAL_VALUES[lowerValue];\n\tif (!JSON_SIGNATURE.test(trimmed)) {\n\t\tif (strict) throw new SyntaxError(\"[better-json] Invalid JSON\");\n\t\treturn value;\n\t}\n\tif (Object.entries(PROTO_POLLUTION_PATTERNS).some(([key, pattern]) => {\n\t\tconst matches = pattern.test(trimmed);\n\t\tif (matches && warnings) console.warn(`[better-json] Detected potential prototype pollution attempt using ${key} pattern`);\n\t\treturn matches;\n\t}) && strict) throw new Error(\"[better-json] Potential prototype pollution attempt detected\");\n\ttry {\n\t\tconst secureReviver = (key, value$1) => {\n\t\t\tif (key === \"__proto__\" || key === \"constructor\" && value$1 && typeof value$1 === \"object\" && \"prototype\" in value$1) {\n\t\t\t\tif (warnings) console.warn(`[better-json] Dropping \"${key}\" key to prevent prototype pollution`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (parseDates && typeof value$1 === \"string\") {\n\t\t\t\tconst date = parseISODate(value$1);\n\t\t\t\tif (date) return date;\n\t\t\t}\n\t\t\treturn reviver ? reviver(key, value$1) : value$1;\n\t\t};\n\t\treturn JSON.parse(trimmed, secureReviver);\n\t} catch (error) {\n\t\tif (strict) throw error;\n\t\treturn value;\n\t}\n}\nfunction parseJSON(value, options = { strict: true }) {\n\treturn betterJSONParse(value, options);\n}\n\n//#endregion\nexport { parseJSON };\n//# sourceMappingURL=parser.mjs.map","import { clean } from '../clean-stores/index.js'\n\nlet listenerQueue = []\nlet lqIndex = 0\nconst QUEUE_ITEMS_PER_LISTENER = 4\nexport let epoch = 0\n\n/* @__NO_SIDE_EFFECTS__ */\nexport const atom = initialValue => {\n  let listeners = []\n  let $atom = {\n    get() {\n      if (!$atom.lc) {\n        $atom.listen(() => {})()\n      }\n      return $atom.value\n    },\n    lc: 0,\n    listen(listener) {\n      $atom.lc = listeners.push(listener)\n\n      return () => {\n        for (\n          let i = lqIndex + QUEUE_ITEMS_PER_LISTENER;\n          i < listenerQueue.length;\n\n        ) {\n          if (listenerQueue[i] === listener) {\n            listenerQueue.splice(i, QUEUE_ITEMS_PER_LISTENER)\n          } else {\n            i += QUEUE_ITEMS_PER_LISTENER\n          }\n        }\n\n        let index = listeners.indexOf(listener)\n        if (~index) {\n          listeners.splice(index, 1)\n          if (!--$atom.lc) $atom.off()\n        }\n      }\n    },\n    notify(oldValue, changedKey) {\n      epoch++\n      let runListenerQueue = !listenerQueue.length\n      for (let listener of listeners) {\n        listenerQueue.push(listener, $atom.value, oldValue, changedKey)\n      }\n\n      if (runListenerQueue) {\n        for (\n          lqIndex = 0;\n          lqIndex < listenerQueue.length;\n          lqIndex += QUEUE_ITEMS_PER_LISTENER\n        ) {\n          listenerQueue[lqIndex](\n            listenerQueue[lqIndex + 1],\n            listenerQueue[lqIndex + 2],\n            listenerQueue[lqIndex + 3]\n          )\n        }\n        listenerQueue.length = 0\n      }\n    },\n    /* It will be called on last listener unsubscribing.\n       We will redefine it in onMount and onStop. */\n    off() {},\n    set(newValue) {\n      let oldValue = $atom.value\n      if (oldValue !== newValue) {\n        $atom.value = newValue\n        $atom.notify(oldValue)\n      }\n    },\n    subscribe(listener) {\n      let unbind = $atom.listen(listener)\n      listener($atom.value)\n      return unbind\n    },\n    value: initialValue\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    $atom[clean] = () => {\n      listeners = []\n      $atom.lc = 0\n      $atom.off()\n    }\n  }\n\n  return $atom\n}\n\nexport const readonlyType = store => store\n","import { clean } from '../clean-stores/index.js'\n\nconst START = 0\nconst STOP = 1\nconst SET = 2\nconst NOTIFY = 3\nconst MOUNT = 5\nconst UNMOUNT = 6\nconst REVERT_MUTATION = 10\n\nexport let on = (object, listener, eventKey, mutateStore) => {\n  object.events = object.events || {}\n  if (!object.events[eventKey + REVERT_MUTATION]) {\n    object.events[eventKey + REVERT_MUTATION] = mutateStore(eventProps => {\n      // eslint-disable-next-line no-sequences\n      object.events[eventKey].reduceRight((event, l) => (l(event), event), {\n        shared: {},\n        ...eventProps\n      })\n    })\n  }\n  object.events[eventKey] = object.events[eventKey] || []\n  object.events[eventKey].push(listener)\n  return () => {\n    let currentListeners = object.events[eventKey]\n    let index = currentListeners.indexOf(listener)\n    currentListeners.splice(index, 1)\n    if (!currentListeners.length) {\n      delete object.events[eventKey]\n      object.events[eventKey + REVERT_MUTATION]()\n      delete object.events[eventKey + REVERT_MUTATION]\n    }\n  }\n}\n\nexport let onStart = ($store, listener) =>\n  on($store, listener, START, runListeners => {\n    let originListen = $store.listen\n    $store.listen = arg => {\n      if (!$store.lc && !$store.starting) {\n        $store.starting = true\n        runListeners()\n        delete $store.starting\n      }\n      return originListen(arg)\n    }\n    return () => {\n      $store.listen = originListen\n    }\n  })\n\nexport let onStop = ($store, listener) =>\n  on($store, listener, STOP, runListeners => {\n    let originOff = $store.off\n    $store.off = () => {\n      runListeners()\n      originOff()\n    }\n    return () => {\n      $store.off = originOff\n    }\n  })\n\nexport let onSet = ($store, listener) =>\n  on($store, listener, SET, runListeners => {\n    let originSet = $store.set\n    let originSetKey = $store.setKey\n    if ($store.setKey) {\n      $store.setKey = (changed, changedValue) => {\n        let isAborted\n        let abort = () => {\n          isAborted = true\n        }\n\n        runListeners({\n          abort,\n          changed,\n          newValue: { ...$store.value, [changed]: changedValue }\n        })\n        if (!isAborted) return originSetKey(changed, changedValue)\n      }\n    }\n    $store.set = newValue => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, newValue })\n      if (!isAborted) return originSet(newValue)\n    }\n    return () => {\n      $store.set = originSet\n      $store.setKey = originSetKey\n    }\n  })\n\nexport let onNotify = ($store, listener) =>\n  on($store, listener, NOTIFY, runListeners => {\n    let originNotify = $store.notify\n    $store.notify = (oldValue, changed) => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, changed, oldValue })\n      if (!isAborted) return originNotify(oldValue, changed)\n    }\n    return () => {\n      $store.notify = originNotify\n    }\n  })\n\nexport let STORE_UNMOUNT_DELAY = 1000\n\nexport let onMount = ($store, initialize) => {\n  let listener = payload => {\n    let destroy = initialize(payload)\n    if (destroy) $store.events[UNMOUNT].push(destroy)\n  }\n  return on($store, listener, MOUNT, runListeners => {\n    let originListen = $store.listen\n    $store.listen = (...args) => {\n      if (!$store.lc && !$store.active) {\n        $store.active = true\n        runListeners()\n      }\n      return originListen(...args)\n    }\n\n    let originOff = $store.off\n    $store.events[UNMOUNT] = []\n    $store.off = () => {\n      originOff()\n      setTimeout(() => {\n        if ($store.active && !$store.lc) {\n          $store.active = false\n          for (let destroy of $store.events[UNMOUNT]) destroy()\n          $store.events[UNMOUNT] = []\n        }\n      }, STORE_UNMOUNT_DELAY)\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      let originClean = $store[clean]\n      $store[clean] = () => {\n        for (let destroy of $store.events[UNMOUNT]) destroy()\n        $store.events[UNMOUNT] = []\n        $store.active = false\n        originClean()\n      }\n    }\n\n    return () => {\n      $store.listen = originListen\n      $store.off = originOff\n    }\n  })\n}\n","export function listenKeys($store, keys, listener) {\n  let keysSet = new Set(keys).add(undefined)\n  return $store.listen((value, oldValue, changed) => {\n    if (keysSet.has(changed)) {\n      listener(value, oldValue, changed)\n    }\n  })\n}\n\nexport function subscribeKeys($store, keys, listener) {\n  let unbind = listenKeys($store, keys, listener)\n  listener($store.value)\n  return unbind\n}\n","import { atom, onMount } from \"nanostores\";\n\n//#region src/client/query.ts\nconst isServer = () => typeof window === \"undefined\";\nconst useAuthQuery = (initializedAtom, path, $fetch, options) => {\n\tconst value = atom({\n\t\tdata: null,\n\t\terror: null,\n\t\tisPending: true,\n\t\tisRefetching: false,\n\t\trefetch: (queryParams) => fn(queryParams)\n\t});\n\tconst fn = async (queryParams) => {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst opts = typeof options === \"function\" ? options({\n\t\t\t\tdata: value.get().data,\n\t\t\t\terror: value.get().error,\n\t\t\t\tisPending: value.get().isPending\n\t\t\t}) : options;\n\t\t\t$fetch(path, {\n\t\t\t\t...opts,\n\t\t\t\tquery: {\n\t\t\t\t\t...opts?.query,\n\t\t\t\t\t...queryParams?.query\n\t\t\t\t},\n\t\t\t\tasync onSuccess(context) {\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\tdata: context.data,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tisPending: false,\n\t\t\t\t\t\tisRefetching: false,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onSuccess?.(context);\n\t\t\t\t},\n\t\t\t\tasync onError(context) {\n\t\t\t\t\tconst { request } = context;\n\t\t\t\t\tconst retryAttempts = typeof request.retry === \"number\" ? request.retry : request.retry?.attempts;\n\t\t\t\t\tconst retryAttempt = request.retryAttempt || 0;\n\t\t\t\t\tif (retryAttempts && retryAttempt < retryAttempts) return;\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\terror: context.error,\n\t\t\t\t\t\tdata: null,\n\t\t\t\t\t\tisPending: false,\n\t\t\t\t\t\tisRefetching: false,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onError?.(context);\n\t\t\t\t},\n\t\t\t\tasync onRequest(context) {\n\t\t\t\t\tconst currentValue = value.get();\n\t\t\t\t\tvalue.set({\n\t\t\t\t\t\tisPending: currentValue.data === null,\n\t\t\t\t\t\tdata: currentValue.data,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tisRefetching: true,\n\t\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t\t});\n\t\t\t\t\tawait opts?.onRequest?.(context);\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tvalue.set({\n\t\t\t\t\terror,\n\t\t\t\t\tdata: null,\n\t\t\t\t\tisPending: false,\n\t\t\t\t\tisRefetching: false,\n\t\t\t\t\trefetch: value.value.refetch\n\t\t\t\t});\n\t\t\t}).finally(() => {\n\t\t\t\tresolve(void 0);\n\t\t\t});\n\t\t});\n\t};\n\tinitializedAtom = Array.isArray(initializedAtom) ? initializedAtom : [initializedAtom];\n\tlet isMounted = false;\n\tfor (const initAtom of initializedAtom) initAtom.subscribe(async () => {\n\t\tif (isServer()) return;\n\t\tif (isMounted) await fn();\n\t\telse onMount(value, () => {\n\t\t\tconst timeoutId = setTimeout(async () => {\n\t\t\t\tif (!isMounted) {\n\t\t\t\t\tawait fn();\n\t\t\t\t\tisMounted = true;\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t\treturn () => {\n\t\t\t\tvalue.off();\n\t\t\t\tinitAtom.off();\n\t\t\t\tclearTimeout(timeoutId);\n\t\t\t};\n\t\t});\n\t});\n\treturn value;\n};\n\n//#endregion\nexport { useAuthQuery };\n//# sourceMappingURL=query.mjs.map","//#region src/client/broadcast-channel.ts\nconst kBroadcastChannel = Symbol.for(\"better-auth:broadcast-channel\");\nconst now = () => Math.floor(Date.now() / 1e3);\nvar WindowBroadcastChannel = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tname;\n\tconstructor(name = \"better-auth.message\") {\n\t\tthis.name = name;\n\t}\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tpost(message) {\n\t\tif (typeof window === \"undefined\") return;\n\t\ttry {\n\t\t\tlocalStorage.setItem(this.name, JSON.stringify({\n\t\t\t\t...message,\n\t\t\t\ttimestamp: now()\n\t\t\t}));\n\t\t} catch {}\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst handler = (event) => {\n\t\t\tif (event.key !== this.name) return;\n\t\t\tconst message = JSON.parse(event.newValue ?? \"{}\");\n\t\t\tif (message?.event !== \"session\" || !message?.data) return;\n\t\t\tthis.listeners.forEach((listener) => listener(message));\n\t\t};\n\t\twindow.addEventListener(\"storage\", handler);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"storage\", handler);\n\t\t};\n\t}\n};\nfunction getGlobalBroadcastChannel(name = \"better-auth.message\") {\n\tif (!globalThis[kBroadcastChannel]) globalThis[kBroadcastChannel] = new WindowBroadcastChannel(name);\n\treturn globalThis[kBroadcastChannel];\n}\n\n//#endregion\nexport { getGlobalBroadcastChannel, kBroadcastChannel };\n//# sourceMappingURL=broadcast-channel.mjs.map","//#region src/client/focus-manager.ts\nconst kFocusManager = Symbol.for(\"better-auth:focus-manager\");\nvar WindowFocusManager = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tsetFocused(focused) {\n\t\tthis.listeners.forEach((listener) => listener(focused));\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof document === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst visibilityHandler = () => {\n\t\t\tif (document.visibilityState === \"visible\") this.setFocused(true);\n\t\t};\n\t\tdocument.addEventListener(\"visibilitychange\", visibilityHandler, false);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"visibilitychange\", visibilityHandler, false);\n\t\t};\n\t}\n};\nfunction getGlobalFocusManager() {\n\tif (!globalThis[kFocusManager]) globalThis[kFocusManager] = new WindowFocusManager();\n\treturn globalThis[kFocusManager];\n}\n\n//#endregion\nexport { getGlobalFocusManager, kFocusManager };\n//# sourceMappingURL=focus-manager.mjs.map","//#region src/client/online-manager.ts\nconst kOnlineManager = Symbol.for(\"better-auth:online-manager\");\nvar WindowOnlineManager = class {\n\tlisteners = /* @__PURE__ */ new Set();\n\tisOnline = typeof navigator !== \"undefined\" ? navigator.onLine : true;\n\tsubscribe(listener) {\n\t\tthis.listeners.add(listener);\n\t\treturn () => {\n\t\t\tthis.listeners.delete(listener);\n\t\t};\n\t}\n\tsetOnline(online) {\n\t\tthis.isOnline = online;\n\t\tthis.listeners.forEach((listener) => listener(online));\n\t}\n\tsetup() {\n\t\tif (typeof window === \"undefined\" || typeof window.addEventListener === \"undefined\") return () => {};\n\t\tconst onOnline = () => this.setOnline(true);\n\t\tconst onOffline = () => this.setOnline(false);\n\t\twindow.addEventListener(\"online\", onOnline, false);\n\t\twindow.addEventListener(\"offline\", onOffline, false);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"online\", onOnline, false);\n\t\t\twindow.removeEventListener(\"offline\", onOffline, false);\n\t\t};\n\t}\n};\nfunction getGlobalOnlineManager() {\n\tif (!globalThis[kOnlineManager]) globalThis[kOnlineManager] = new WindowOnlineManager();\n\treturn globalThis[kOnlineManager];\n}\n\n//#endregion\nexport { getGlobalOnlineManager, kOnlineManager };\n//# sourceMappingURL=online-manager.mjs.map","import { getGlobalBroadcastChannel } from \"./broadcast-channel.mjs\";\nimport { getGlobalFocusManager } from \"./focus-manager.mjs\";\nimport { getGlobalOnlineManager } from \"./online-manager.mjs\";\n\n//#region src/client/session-refresh.ts\nconst now = () => Math.floor(Date.now() / 1e3);\n/**\n* Rate limit: don't refetch on focus if a session request was made within this many seconds\n*/\nconst FOCUS_REFETCH_RATE_LIMIT_SECONDS = 5;\nfunction createSessionRefreshManager(opts) {\n\tconst { sessionAtom, sessionSignal, $fetch, options = {} } = opts;\n\tconst refetchInterval = options.sessionOptions?.refetchInterval ?? 0;\n\tconst refetchOnWindowFocus = options.sessionOptions?.refetchOnWindowFocus ?? true;\n\tconst refetchWhenOffline = options.sessionOptions?.refetchWhenOffline ?? false;\n\tconst state = {\n\t\tlastSync: 0,\n\t\tlastSessionRequest: 0,\n\t\tcachedSession: void 0\n\t};\n\tconst shouldRefetch = () => {\n\t\treturn refetchWhenOffline || getGlobalOnlineManager().isOnline;\n\t};\n\tconst triggerRefetch = (event) => {\n\t\tif (!shouldRefetch()) return;\n\t\tif (event?.event === \"storage\") {\n\t\t\tstate.lastSync = now();\n\t\t\tsessionSignal.set(!sessionSignal.get());\n\t\t\treturn;\n\t\t}\n\t\tconst currentSession = sessionAtom.get();\n\t\tif (event?.event === \"poll\") {\n\t\t\tstate.lastSessionRequest = now();\n\t\t\t$fetch(\"/get-session\").then((res) => {\n\t\t\t\tif (res.error) sessionAtom.set({\n\t\t\t\t\t...currentSession,\n\t\t\t\t\tdata: null,\n\t\t\t\t\terror: res.error\n\t\t\t\t});\n\t\t\t\telse sessionAtom.set({\n\t\t\t\t\t...currentSession,\n\t\t\t\t\tdata: res.data,\n\t\t\t\t\terror: null\n\t\t\t\t});\n\t\t\t\tstate.lastSync = now();\n\t\t\t\tsessionSignal.set(!sessionSignal.get());\n\t\t\t}).catch(() => {});\n\t\t\treturn;\n\t\t}\n\t\tif (event?.event === \"visibilitychange\") {\n\t\t\tif (now() - state.lastSessionRequest < FOCUS_REFETCH_RATE_LIMIT_SECONDS) return;\n\t\t\tstate.lastSessionRequest = now();\n\t\t}\n\t\tif (currentSession?.data === null || currentSession?.data === void 0 || event?.event === \"visibilitychange\") {\n\t\t\tstate.lastSync = now();\n\t\t\tsessionSignal.set(!sessionSignal.get());\n\t\t}\n\t};\n\tconst broadcastSessionUpdate = (trigger) => {\n\t\tgetGlobalBroadcastChannel().post({\n\t\t\tevent: \"session\",\n\t\t\tdata: { trigger },\n\t\t\tclientId: Math.random().toString(36).substring(7)\n\t\t});\n\t};\n\tconst setupPolling = () => {\n\t\tif (refetchInterval && refetchInterval > 0) state.pollInterval = setInterval(() => {\n\t\t\tif (sessionAtom.get()?.data) triggerRefetch({ event: \"poll\" });\n\t\t}, refetchInterval * 1e3);\n\t};\n\tconst setupBroadcast = () => {\n\t\tstate.unsubscribeBroadcast = getGlobalBroadcastChannel().subscribe(() => {\n\t\t\ttriggerRefetch({ event: \"storage\" });\n\t\t});\n\t};\n\tconst setupFocusRefetch = () => {\n\t\tif (!refetchOnWindowFocus) return;\n\t\tstate.unsubscribeFocus = getGlobalFocusManager().subscribe(() => {\n\t\t\ttriggerRefetch({ event: \"visibilitychange\" });\n\t\t});\n\t};\n\tconst setupOnlineRefetch = () => {\n\t\tstate.unsubscribeOnline = getGlobalOnlineManager().subscribe((online) => {\n\t\t\tif (online) triggerRefetch({ event: \"visibilitychange\" });\n\t\t});\n\t};\n\tconst init = () => {\n\t\tsetupPolling();\n\t\tsetupBroadcast();\n\t\tsetupFocusRefetch();\n\t\tsetupOnlineRefetch();\n\t\tgetGlobalBroadcastChannel().setup();\n\t\tgetGlobalFocusManager().setup();\n\t\tgetGlobalOnlineManager().setup();\n\t};\n\tconst cleanup = () => {\n\t\tif (state.pollInterval) {\n\t\t\tclearInterval(state.pollInterval);\n\t\t\tstate.pollInterval = void 0;\n\t\t}\n\t\tif (state.unsubscribeBroadcast) {\n\t\t\tstate.unsubscribeBroadcast();\n\t\t\tstate.unsubscribeBroadcast = void 0;\n\t\t}\n\t\tif (state.unsubscribeFocus) {\n\t\t\tstate.unsubscribeFocus();\n\t\t\tstate.unsubscribeFocus = void 0;\n\t\t}\n\t\tif (state.unsubscribeOnline) {\n\t\t\tstate.unsubscribeOnline();\n\t\t\tstate.unsubscribeOnline = void 0;\n\t\t}\n\t\tstate.lastSync = 0;\n\t\tstate.lastSessionRequest = 0;\n\t\tstate.cachedSession = void 0;\n\t};\n\treturn {\n\t\tinit,\n\t\tcleanup,\n\t\ttriggerRefetch,\n\t\tbroadcastSessionUpdate\n\t};\n}\n\n//#endregion\nexport { createSessionRefreshManager };\n//# sourceMappingURL=session-refresh.mjs.map","import { useAuthQuery } from \"./query.mjs\";\nimport { createSessionRefreshManager } from \"./session-refresh.mjs\";\nimport { atom, onMount } from \"nanostores\";\n\n//#region src/client/session-atom.ts\nfunction getSessionAtom($fetch, options) {\n\tconst $signal = atom(false);\n\tconst session = useAuthQuery($signal, \"/get-session\", $fetch, { method: \"GET\" });\n\tonMount(session, () => {\n\t\tconst refreshManager = createSessionRefreshManager({\n\t\t\tsessionAtom: session,\n\t\t\tsessionSignal: $signal,\n\t\t\t$fetch,\n\t\t\toptions\n\t\t});\n\t\trefreshManager.init();\n\t\treturn () => {\n\t\t\trefreshManager.cleanup();\n\t\t};\n\t});\n\treturn {\n\t\tsession,\n\t\t$sessionSignal: $signal\n\t};\n}\n\n//#endregion\nexport { getSessionAtom };\n//# sourceMappingURL=session-atom.mjs.map","function isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  if (prototype !== null && prototype !== Object.prototype && Object.getPrototypeOf(prototype) !== null) {\n    return false;\n  }\n  if (Symbol.iterator in value) {\n    return false;\n  }\n  if (Symbol.toStringTag in value) {\n    return Object.prototype.toString.call(value) === \"[object Module]\";\n  }\n  return true;\n}\n\nfunction _defu(baseObject, defaults, namespace = \".\", merger) {\n  if (!isPlainObject(defaults)) {\n    return _defu(baseObject, {}, namespace, merger);\n  }\n  const object = Object.assign({}, defaults);\n  for (const key in baseObject) {\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = baseObject[key];\n    if (value === null || value === void 0) {\n      continue;\n    }\n    if (merger && merger(object, key, value, namespace)) {\n      continue;\n    }\n    if (Array.isArray(value) && Array.isArray(object[key])) {\n      object[key] = [...value, ...object[key]];\n    } else if (isPlainObject(value) && isPlainObject(object[key])) {\n      object[key] = _defu(\n        value,\n        object[key],\n        (namespace ? `${namespace}.` : \"\") + key.toString(),\n        merger\n      );\n    } else {\n      object[key] = value;\n    }\n  }\n  return object;\n}\nfunction createDefu(merger) {\n  return (...arguments_) => (\n    // eslint-disable-next-line unicorn/no-array-reduce\n    arguments_.reduce((p, c) => _defu(p, c, \"\", merger), {})\n  );\n}\nconst defu = createDefu();\nconst defuFn = createDefu((object, key, currentValue) => {\n  if (object[key] !== void 0 && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\nconst defuArrayFn = createDefu((object, key, currentValue) => {\n  if (Array.isArray(object[key]) && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\n\nexport { createDefu, defu as default, defu, defuArrayFn, defuFn };\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/error.ts\nvar BetterFetchError = class extends Error {\n  constructor(status, statusText, error) {\n    super(statusText || status.toString(), {\n      cause: error\n    });\n    this.status = status;\n    this.statusText = statusText;\n    this.error = error;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\n\n// src/plugins.ts\nvar initializePlugins = async (url, options) => {\n  var _a, _b, _c, _d, _e, _f;\n  let opts = options || {};\n  const hooks = {\n    onRequest: [options == null ? void 0 : options.onRequest],\n    onResponse: [options == null ? void 0 : options.onResponse],\n    onSuccess: [options == null ? void 0 : options.onSuccess],\n    onError: [options == null ? void 0 : options.onError],\n    onRetry: [options == null ? void 0 : options.onRetry]\n  };\n  if (!options || !(options == null ? void 0 : options.plugins)) {\n    return {\n      url,\n      options: opts,\n      hooks\n    };\n  }\n  for (const plugin of (options == null ? void 0 : options.plugins) || []) {\n    if (plugin.init) {\n      const pluginRes = await ((_a = plugin.init) == null ? void 0 : _a.call(plugin, url.toString(), options));\n      opts = pluginRes.options || opts;\n      url = pluginRes.url;\n    }\n    hooks.onRequest.push((_b = plugin.hooks) == null ? void 0 : _b.onRequest);\n    hooks.onResponse.push((_c = plugin.hooks) == null ? void 0 : _c.onResponse);\n    hooks.onSuccess.push((_d = plugin.hooks) == null ? void 0 : _d.onSuccess);\n    hooks.onError.push((_e = plugin.hooks) == null ? void 0 : _e.onError);\n    hooks.onRetry.push((_f = plugin.hooks) == null ? void 0 : _f.onRetry);\n  }\n  return {\n    url,\n    options: opts,\n    hooks\n  };\n};\n\n// src/retry.ts\nvar LinearRetryStrategy = class {\n  constructor(options) {\n    this.options = options;\n  }\n  shouldAttemptRetry(attempt, response) {\n    if (this.options.shouldRetry) {\n      return Promise.resolve(\n        attempt < this.options.attempts && this.options.shouldRetry(response)\n      );\n    }\n    return Promise.resolve(attempt < this.options.attempts);\n  }\n  getDelay() {\n    return this.options.delay;\n  }\n};\nvar ExponentialRetryStrategy = class {\n  constructor(options) {\n    this.options = options;\n  }\n  shouldAttemptRetry(attempt, response) {\n    if (this.options.shouldRetry) {\n      return Promise.resolve(\n        attempt < this.options.attempts && this.options.shouldRetry(response)\n      );\n    }\n    return Promise.resolve(attempt < this.options.attempts);\n  }\n  getDelay(attempt) {\n    const delay = Math.min(\n      this.options.maxDelay,\n      this.options.baseDelay * 2 ** attempt\n    );\n    return delay;\n  }\n};\nfunction createRetryStrategy(options) {\n  if (typeof options === \"number\") {\n    return new LinearRetryStrategy({\n      type: \"linear\",\n      attempts: options,\n      delay: 1e3\n    });\n  }\n  switch (options.type) {\n    case \"linear\":\n      return new LinearRetryStrategy(options);\n    case \"exponential\":\n      return new ExponentialRetryStrategy(options);\n    default:\n      throw new Error(\"Invalid retry strategy\");\n  }\n}\n\n// src/auth.ts\nvar getAuthHeader = async (options) => {\n  const headers = {};\n  const getValue = async (value) => typeof value === \"function\" ? await value() : value;\n  if (options == null ? void 0 : options.auth) {\n    if (options.auth.type === \"Bearer\") {\n      const token = await getValue(options.auth.token);\n      if (!token) {\n        return headers;\n      }\n      headers[\"authorization\"] = `Bearer ${token}`;\n    } else if (options.auth.type === \"Basic\") {\n      const [username, password] = await Promise.all([\n        getValue(options.auth.username),\n        getValue(options.auth.password)\n      ]);\n      if (!username || !password) {\n        return headers;\n      }\n      headers[\"authorization\"] = `Basic ${btoa(`${username}:${password}`)}`;\n    } else if (options.auth.type === \"Custom\") {\n      const [prefix, value] = await Promise.all([\n        getValue(options.auth.prefix),\n        getValue(options.auth.value)\n      ]);\n      if (!value) {\n        return headers;\n      }\n      headers[\"authorization\"] = `${prefix != null ? prefix : \"\"} ${value}`;\n    }\n  }\n  return headers;\n};\n\n// src/utils.ts\nvar JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\nfunction detectResponseType(request) {\n  const _contentType = request.headers.get(\"content-type\");\n  const textTypes = /* @__PURE__ */ new Set([\n    \"image/svg\",\n    \"application/xml\",\n    \"application/xhtml\",\n    \"application/html\"\n  ]);\n  if (!_contentType) {\n    return \"json\";\n  }\n  const contentType = _contentType.split(\";\").shift() || \"\";\n  if (JSON_RE.test(contentType)) {\n    return \"json\";\n  }\n  if (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n    return \"text\";\n  }\n  return \"blob\";\n}\nfunction isJSONParsable(value) {\n  try {\n    JSON.parse(value);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isJSONSerializable(value) {\n  if (value === void 0) {\n    return false;\n  }\n  const t = typeof value;\n  if (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n    return true;\n  }\n  if (t !== \"object\") {\n    return false;\n  }\n  if (Array.isArray(value)) {\n    return true;\n  }\n  if (value.buffer) {\n    return false;\n  }\n  return value.constructor && value.constructor.name === \"Object\" || typeof value.toJSON === \"function\";\n}\nfunction jsonParse(text) {\n  try {\n    return JSON.parse(text);\n  } catch (error) {\n    return text;\n  }\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction getFetch(options) {\n  if (options == null ? void 0 : options.customFetchImpl) {\n    return options.customFetchImpl;\n  }\n  if (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n    return globalThis.fetch;\n  }\n  if (typeof window !== \"undefined\" && isFunction(window.fetch)) {\n    return window.fetch;\n  }\n  throw new Error(\"No fetch implementation found\");\n}\nfunction isPayloadMethod(method) {\n  if (!method) {\n    return false;\n  }\n  const payloadMethod = [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n  return payloadMethod.includes(method.toUpperCase());\n}\nfunction isRouteMethod(method) {\n  const routeMethod = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n  if (!method) {\n    return false;\n  }\n  return routeMethod.includes(method.toUpperCase());\n}\nasync function getHeaders(opts) {\n  const headers = new Headers(opts == null ? void 0 : opts.headers);\n  const authHeader = await getAuthHeader(opts);\n  for (const [key, value] of Object.entries(authHeader || {})) {\n    headers.set(key, value);\n  }\n  if (!headers.has(\"content-type\")) {\n    const t = detectContentType(opts == null ? void 0 : opts.body);\n    if (t) {\n      headers.set(\"content-type\", t);\n    }\n  }\n  return headers;\n}\nfunction getURL(url, options) {\n  if (url.startsWith(\"@\")) {\n    const m = url.toString().split(\"@\")[1].split(\"/\")[0];\n    if (methods.includes(m)) {\n      url = url.replace(`@${m}/`, \"/\");\n    }\n  }\n  let _url;\n  try {\n    if (url.startsWith(\"http\")) {\n      _url = url;\n    } else {\n      let baseURL = options == null ? void 0 : options.baseURL;\n      if (baseURL && !(baseURL == null ? void 0 : baseURL.endsWith(\"/\"))) {\n        baseURL = baseURL + \"/\";\n      }\n      if (url.startsWith(\"/\")) {\n        _url = new URL(url.substring(1), baseURL);\n      } else {\n        _url = new URL(url, options == null ? void 0 : options.baseURL);\n      }\n    }\n  } catch (e) {\n    if (e instanceof TypeError) {\n      if (!(options == null ? void 0 : options.baseURL)) {\n        throw TypeError(\n          `Invalid URL ${url}. Are you passing in a relative url but not setting the baseURL?`\n        );\n      }\n      throw TypeError(\n        `Invalid URL ${url}. Please validate that you are passing the correct input.`\n      );\n    }\n    throw e;\n  }\n  if (options == null ? void 0 : options.params) {\n    if (Array.isArray(options == null ? void 0 : options.params)) {\n      const params = (options == null ? void 0 : options.params) ? Array.isArray(options.params) ? `/${options.params.join(\"/\")}` : `/${Object.values(options.params).join(\"/\")}` : \"\";\n      _url = _url.toString().split(\"/:\")[0];\n      _url = `${_url.toString()}${params}`;\n    } else {\n      for (const [key, value] of Object.entries(options == null ? void 0 : options.params)) {\n        _url = _url.toString().replace(`:${key}`, String(value));\n      }\n    }\n  }\n  const __url = new URL(_url);\n  const queryParams = options == null ? void 0 : options.query;\n  if (queryParams) {\n    for (const [key, value] of Object.entries(queryParams)) {\n      __url.searchParams.append(key, String(value));\n    }\n  }\n  return __url;\n}\nfunction detectContentType(body) {\n  if (isJSONSerializable(body)) {\n    return \"application/json\";\n  }\n  return null;\n}\nfunction getBody(options) {\n  if (!(options == null ? void 0 : options.body)) {\n    return null;\n  }\n  const headers = new Headers(options == null ? void 0 : options.headers);\n  if (isJSONSerializable(options.body) && !headers.has(\"content-type\")) {\n    for (const [key, value] of Object.entries(options == null ? void 0 : options.body)) {\n      if (value instanceof Date) {\n        options.body[key] = value.toISOString();\n      }\n    }\n    return JSON.stringify(options.body);\n  }\n  if (headers.has(\"content-type\") && headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") {\n    if (isJSONSerializable(options.body)) {\n      return new URLSearchParams(options.body).toString();\n    }\n    return options.body;\n  }\n  return options.body;\n}\nfunction getMethod(url, options) {\n  var _a;\n  if (options == null ? void 0 : options.method) {\n    return options.method.toUpperCase();\n  }\n  if (url.startsWith(\"@\")) {\n    const pMethod = (_a = url.split(\"@\")[1]) == null ? void 0 : _a.split(\"/\")[0];\n    if (!methods.includes(pMethod)) {\n      return (options == null ? void 0 : options.body) ? \"POST\" : \"GET\";\n    }\n    return pMethod.toUpperCase();\n  }\n  return (options == null ? void 0 : options.body) ? \"POST\" : \"GET\";\n}\nfunction getTimeout(options, controller) {\n  let abortTimeout;\n  if (!(options == null ? void 0 : options.signal) && (options == null ? void 0 : options.timeout)) {\n    abortTimeout = setTimeout(() => controller == null ? void 0 : controller.abort(), options == null ? void 0 : options.timeout);\n  }\n  return {\n    abortTimeout,\n    clearTimeout: () => {\n      if (abortTimeout) {\n        clearTimeout(abortTimeout);\n      }\n    }\n  };\n}\nfunction bodyParser(data, responseType) {\n  if (responseType === \"json\") {\n    return JSON.parse(data);\n  }\n  return data;\n}\nvar ValidationError = class _ValidationError extends Error {\n  constructor(issues, message) {\n    super(message || JSON.stringify(issues, null, 2));\n    this.issues = issues;\n    Object.setPrototypeOf(this, _ValidationError.prototype);\n  }\n};\nasync function parseStandardSchema(schema, input) {\n  const result = await schema[\"~standard\"].validate(input);\n  if (result.issues) {\n    throw new ValidationError(result.issues);\n  }\n  return result.value;\n}\n\n// src/create-fetch/schema.ts\nvar methods = [\"get\", \"post\", \"put\", \"patch\", \"delete\"];\nvar createSchema = (schema, config) => {\n  return {\n    schema,\n    config\n  };\n};\n\n// src/create-fetch/index.ts\nvar applySchemaPlugin = (config) => ({\n  id: \"apply-schema\",\n  name: \"Apply Schema\",\n  version: \"1.0.0\",\n  async init(url, options) {\n    var _a, _b, _c, _d;\n    const schema = ((_b = (_a = config.plugins) == null ? void 0 : _a.find(\n      (plugin) => {\n        var _a2;\n        return ((_a2 = plugin.schema) == null ? void 0 : _a2.config) ? url.startsWith(plugin.schema.config.baseURL || \"\") || url.startsWith(plugin.schema.config.prefix || \"\") : false;\n      }\n    )) == null ? void 0 : _b.schema) || config.schema;\n    if (schema) {\n      let urlKey = url;\n      if ((_c = schema.config) == null ? void 0 : _c.prefix) {\n        if (urlKey.startsWith(schema.config.prefix)) {\n          urlKey = urlKey.replace(schema.config.prefix, \"\");\n          if (schema.config.baseURL) {\n            url = url.replace(schema.config.prefix, schema.config.baseURL);\n          }\n        }\n      }\n      if ((_d = schema.config) == null ? void 0 : _d.baseURL) {\n        if (urlKey.startsWith(schema.config.baseURL)) {\n          urlKey = urlKey.replace(schema.config.baseURL, \"\");\n        }\n      }\n      const keySchema = schema.schema[urlKey];\n      if (keySchema) {\n        let opts = __spreadProps(__spreadValues({}, options), {\n          method: keySchema.method,\n          output: keySchema.output\n        });\n        if (!(options == null ? void 0 : options.disableValidation)) {\n          opts = __spreadProps(__spreadValues({}, opts), {\n            body: keySchema.input ? await parseStandardSchema(keySchema.input, options == null ? void 0 : options.body) : options == null ? void 0 : options.body,\n            params: keySchema.params ? await parseStandardSchema(keySchema.params, options == null ? void 0 : options.params) : options == null ? void 0 : options.params,\n            query: keySchema.query ? await parseStandardSchema(keySchema.query, options == null ? void 0 : options.query) : options == null ? void 0 : options.query\n          });\n        }\n        return {\n          url,\n          options: opts\n        };\n      }\n    }\n    return {\n      url,\n      options\n    };\n  }\n});\nvar createFetch = (config) => {\n  async function $fetch(url, options) {\n    const opts = __spreadProps(__spreadValues(__spreadValues({}, config), options), {\n      plugins: [...(config == null ? void 0 : config.plugins) || [], applySchemaPlugin(config || {}), ...(options == null ? void 0 : options.plugins) || []]\n    });\n    if (config == null ? void 0 : config.catchAllError) {\n      try {\n        return await betterFetch(url, opts);\n      } catch (error) {\n        return {\n          data: null,\n          error: {\n            status: 500,\n            statusText: \"Fetch Error\",\n            message: \"Fetch related error. Captured by catchAllError option. See error property for more details.\",\n            error\n          }\n        };\n      }\n    }\n    return await betterFetch(url, opts);\n  }\n  return $fetch;\n};\n\n// src/url.ts\nfunction getURL2(url, option) {\n  const { baseURL, params, query } = option || {\n    query: {},\n    params: {},\n    baseURL: \"\"\n  };\n  let basePath = url.startsWith(\"http\") ? url.split(\"/\").slice(0, 3).join(\"/\") : baseURL || \"\";\n  if (url.startsWith(\"@\")) {\n    const m = url.toString().split(\"@\")[1].split(\"/\")[0];\n    if (methods.includes(m)) {\n      url = url.replace(`@${m}/`, \"/\");\n    }\n  }\n  if (!basePath.endsWith(\"/\")) basePath += \"/\";\n  let [path, urlQuery] = url.replace(basePath, \"\").split(\"?\");\n  const queryParams = new URLSearchParams(urlQuery);\n  for (const [key, value] of Object.entries(query || {})) {\n    if (value == null) continue;\n    let serializedValue;\n    if (typeof value === \"string\") {\n      serializedValue = value;\n    } else if (Array.isArray(value)) {\n      for (const val of value) {\n        queryParams.append(key, val);\n      }\n      continue;\n    } else {\n      serializedValue = JSON.stringify(value);\n    }\n    queryParams.set(key, serializedValue);\n  }\n  if (params) {\n    if (Array.isArray(params)) {\n      const paramPaths = path.split(\"/\").filter((p) => p.startsWith(\":\"));\n      for (const [index, key] of paramPaths.entries()) {\n        const value = params[index];\n        path = path.replace(key, value);\n      }\n    } else {\n      for (const [key, value] of Object.entries(params)) {\n        path = path.replace(`:${key}`, String(value));\n      }\n    }\n  }\n  path = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n  if (path.startsWith(\"/\")) path = path.slice(1);\n  let queryParamString = queryParams.toString();\n  queryParamString = queryParamString.length > 0 ? `?${queryParamString}`.replace(/\\+/g, \"%20\") : \"\";\n  if (!basePath.startsWith(\"http\")) {\n    return `${basePath}${path}${queryParamString}`;\n  }\n  const _url = new URL(`${path}${queryParamString}`, basePath);\n  return _url;\n}\n\n// src/fetch.ts\nvar betterFetch = async (url, options) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const {\n    hooks,\n    url: __url,\n    options: opts\n  } = await initializePlugins(url, options);\n  const fetch = getFetch(opts);\n  const controller = new AbortController();\n  const signal = (_a = opts.signal) != null ? _a : controller.signal;\n  const _url = getURL2(__url, opts);\n  const body = getBody(opts);\n  const headers = await getHeaders(opts);\n  const method = getMethod(__url, opts);\n  let context = __spreadProps(__spreadValues({}, opts), {\n    url: _url,\n    headers,\n    body,\n    method,\n    signal\n  });\n  for (const onRequest of hooks.onRequest) {\n    if (onRequest) {\n      const res = await onRequest(context);\n      if (typeof res === \"object\" && res !== null) {\n        context = res;\n      }\n    }\n  }\n  if (\"pipeTo\" in context && typeof context.pipeTo === \"function\" || typeof ((_b = options == null ? void 0 : options.body) == null ? void 0 : _b.pipe) === \"function\") {\n    if (!(\"duplex\" in context)) {\n      context.duplex = \"half\";\n    }\n  }\n  const { clearTimeout: clearTimeout2 } = getTimeout(opts, controller);\n  let response = await fetch(context.url, context);\n  clearTimeout2();\n  const responseContext = {\n    response,\n    request: context\n  };\n  for (const onResponse of hooks.onResponse) {\n    if (onResponse) {\n      const r = await onResponse(__spreadProps(__spreadValues({}, responseContext), {\n        response: ((_c = options == null ? void 0 : options.hookOptions) == null ? void 0 : _c.cloneResponse) ? response.clone() : response\n      }));\n      if (r instanceof Response) {\n        response = r;\n      } else if (typeof r === \"object\" && r !== null) {\n        response = r.response;\n      }\n    }\n  }\n  if (response.ok) {\n    const hasBody = context.method !== \"HEAD\";\n    if (!hasBody) {\n      return {\n        data: \"\",\n        error: null\n      };\n    }\n    const responseType = detectResponseType(response);\n    const successContext = {\n      data: null,\n      response,\n      request: context\n    };\n    if (responseType === \"json\" || responseType === \"text\") {\n      const text = await response.text();\n      const parser2 = (_d = context.jsonParser) != null ? _d : jsonParse;\n      successContext.data = await parser2(text);\n    } else {\n      successContext.data = await response[responseType]();\n    }\n    if (context == null ? void 0 : context.output) {\n      if (context.output && !context.disableValidation) {\n        successContext.data = await parseStandardSchema(\n          context.output,\n          successContext.data\n        );\n      }\n    }\n    for (const onSuccess of hooks.onSuccess) {\n      if (onSuccess) {\n        await onSuccess(__spreadProps(__spreadValues({}, successContext), {\n          response: ((_e = options == null ? void 0 : options.hookOptions) == null ? void 0 : _e.cloneResponse) ? response.clone() : response\n        }));\n      }\n    }\n    if (options == null ? void 0 : options.throw) {\n      return successContext.data;\n    }\n    return {\n      data: successContext.data,\n      error: null\n    };\n  }\n  const parser = (_f = options == null ? void 0 : options.jsonParser) != null ? _f : jsonParse;\n  const responseText = await response.text();\n  const isJSONResponse = isJSONParsable(responseText);\n  const errorObject = isJSONResponse ? await parser(responseText) : null;\n  const errorContext = {\n    response,\n    responseText,\n    request: context,\n    error: __spreadProps(__spreadValues({}, errorObject), {\n      status: response.status,\n      statusText: response.statusText\n    })\n  };\n  for (const onError of hooks.onError) {\n    if (onError) {\n      await onError(__spreadProps(__spreadValues({}, errorContext), {\n        response: ((_g = options == null ? void 0 : options.hookOptions) == null ? void 0 : _g.cloneResponse) ? response.clone() : response\n      }));\n    }\n  }\n  if (options == null ? void 0 : options.retry) {\n    const retryStrategy = createRetryStrategy(options.retry);\n    const _retryAttempt = (_h = options.retryAttempt) != null ? _h : 0;\n    if (await retryStrategy.shouldAttemptRetry(_retryAttempt, response)) {\n      for (const onRetry of hooks.onRetry) {\n        if (onRetry) {\n          await onRetry(responseContext);\n        }\n      }\n      const delay = retryStrategy.getDelay(_retryAttempt);\n      await new Promise((resolve) => setTimeout(resolve, delay));\n      return await betterFetch(url, __spreadProps(__spreadValues({}, options), {\n        retryAttempt: _retryAttempt + 1\n      }));\n    }\n  }\n  if (options == null ? void 0 : options.throw) {\n    throw new BetterFetchError(\n      response.status,\n      response.statusText,\n      isJSONResponse ? errorObject : responseText\n    );\n  }\n  return {\n    data: null,\n    error: __spreadProps(__spreadValues({}, errorObject), {\n      status: response.status,\n      statusText: response.statusText\n    })\n  };\n};\nexport {\n  BetterFetchError,\n  ValidationError,\n  applySchemaPlugin,\n  betterFetch,\n  bodyParser,\n  createFetch,\n  createRetryStrategy,\n  createSchema,\n  detectContentType,\n  detectResponseType,\n  getBody,\n  getFetch,\n  getHeaders,\n  getMethod,\n  getTimeout,\n  getURL,\n  initializePlugins,\n  isFunction,\n  isJSONParsable,\n  isJSONSerializable,\n  isPayloadMethod,\n  isRouteMethod,\n  jsonParse,\n  methods,\n  parseStandardSchema\n};\n//# sourceMappingURL=index.js.map","import { getBaseURL } from \"../utils/url.mjs\";\nimport { redirectPlugin } from \"./fetch-plugins.mjs\";\nimport { parseJSON } from \"./parser.mjs\";\nimport { getSessionAtom } from \"./session-atom.mjs\";\nimport { defu as defu$1 } from \"defu\";\nimport { createFetch } from \"@better-fetch/fetch\";\n\n//#region src/client/config.ts\nconst getClientConfig = (options, loadEnv) => {\n\tconst isCredentialsSupported = \"credentials\" in Request.prototype;\n\tconst baseURL = getBaseURL(options?.baseURL, options?.basePath, void 0, loadEnv) ?? \"/api/auth\";\n\tconst pluginsFetchPlugins = options?.plugins?.flatMap((plugin) => plugin.fetchPlugins).filter((pl) => pl !== void 0) || [];\n\tconst lifeCyclePlugin = {\n\t\tid: \"lifecycle-hooks\",\n\t\tname: \"lifecycle-hooks\",\n\t\thooks: {\n\t\t\tonSuccess: options?.fetchOptions?.onSuccess,\n\t\t\tonError: options?.fetchOptions?.onError,\n\t\t\tonRequest: options?.fetchOptions?.onRequest,\n\t\t\tonResponse: options?.fetchOptions?.onResponse\n\t\t}\n\t};\n\tconst { onSuccess: _onSuccess, onError: _onError, onRequest: _onRequest, onResponse: _onResponse, ...restOfFetchOptions } = options?.fetchOptions || {};\n\tconst $fetch = createFetch({\n\t\tbaseURL,\n\t\t...isCredentialsSupported ? { credentials: \"include\" } : {},\n\t\tmethod: \"GET\",\n\t\tjsonParser(text) {\n\t\t\tif (!text) return null;\n\t\t\treturn parseJSON(text, { strict: false });\n\t\t},\n\t\tcustomFetchImpl: fetch,\n\t\t...restOfFetchOptions,\n\t\tplugins: [\n\t\t\tlifeCyclePlugin,\n\t\t\t...restOfFetchOptions.plugins || [],\n\t\t\t...options?.disableDefaultFetchPlugins ? [] : [redirectPlugin],\n\t\t\t...pluginsFetchPlugins\n\t\t]\n\t});\n\tconst { $sessionSignal, session } = getSessionAtom($fetch, options);\n\tconst plugins = options?.plugins || [];\n\tlet pluginsActions = {};\n\tconst pluginsAtoms = {\n\t\t$sessionSignal,\n\t\tsession\n\t};\n\tconst pluginPathMethods = {\n\t\t\"/sign-out\": \"POST\",\n\t\t\"/revoke-sessions\": \"POST\",\n\t\t\"/revoke-other-sessions\": \"POST\",\n\t\t\"/delete-user\": \"POST\"\n\t};\n\tconst atomListeners = [{\n\t\tsignal: \"$sessionSignal\",\n\t\tmatcher(path) {\n\t\t\treturn path === \"/sign-out\" || path === \"/update-user\" || path === \"/sign-up/email\" || path === \"/sign-in/email\" || path === \"/delete-user\" || path === \"/verify-email\" || path === \"/revoke-sessions\" || path === \"/revoke-session\" || path === \"/change-email\";\n\t\t}\n\t}];\n\tfor (const plugin of plugins) {\n\t\tif (plugin.getAtoms) Object.assign(pluginsAtoms, plugin.getAtoms?.($fetch));\n\t\tif (plugin.pathMethods) Object.assign(pluginPathMethods, plugin.pathMethods);\n\t\tif (plugin.atomListeners) atomListeners.push(...plugin.atomListeners);\n\t}\n\tconst $store = {\n\t\tnotify: (signal) => {\n\t\t\tpluginsAtoms[signal].set(!pluginsAtoms[signal].get());\n\t\t},\n\t\tlisten: (signal, listener) => {\n\t\t\tpluginsAtoms[signal].subscribe(listener);\n\t\t},\n\t\tatoms: pluginsAtoms\n\t};\n\tfor (const plugin of plugins) if (plugin.getActions) pluginsActions = defu$1(plugin.getActions?.($fetch, $store, options) ?? {}, pluginsActions);\n\treturn {\n\t\tget baseURL() {\n\t\t\treturn baseURL;\n\t\t},\n\t\tpluginsActions,\n\t\tpluginsAtoms,\n\t\tpluginPathMethods,\n\t\tatomListeners,\n\t\t$fetch,\n\t\t$store\n\t};\n};\n\n//#endregion\nexport { getClientConfig };\n//# sourceMappingURL=config.mjs.map","//#region src/utils/is-atom.ts\nfunction isAtom(value) {\n\treturn typeof value === \"object\" && value !== null && \"get\" in value && typeof value.get === \"function\" && \"lc\" in value && typeof value.lc === \"number\";\n}\n\n//#endregion\nexport { isAtom };\n//# sourceMappingURL=is-atom.mjs.map","import { isAtom } from \"../utils/is-atom.mjs\";\n\n//#region src/client/proxy.ts\nfunction getMethod(path, knownPathMethods, args) {\n\tconst method = knownPathMethods[path];\n\tconst { fetchOptions, query: _query, ...body } = args || {};\n\tif (method) return method;\n\tif (fetchOptions?.method) return fetchOptions.method;\n\tif (body && Object.keys(body).length > 0) return \"POST\";\n\treturn \"GET\";\n}\nfunction createDynamicPathProxy(routes, client, knownPathMethods, atoms, atomListeners) {\n\tfunction createProxy(path = []) {\n\t\treturn new Proxy(function() {}, {\n\t\t\tget(_, prop) {\n\t\t\t\tif (typeof prop !== \"string\") return;\n\t\t\t\tif (prop === \"then\" || prop === \"catch\" || prop === \"finally\") return;\n\t\t\t\tconst fullPath = [...path, prop];\n\t\t\t\tlet current = routes;\n\t\t\t\tfor (const segment of fullPath) if (current && typeof current === \"object\" && segment in current) current = current[segment];\n\t\t\t\telse {\n\t\t\t\t\tcurrent = void 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (typeof current === \"function\") return current;\n\t\t\t\tif (isAtom(current)) return current;\n\t\t\t\treturn createProxy(fullPath);\n\t\t\t},\n\t\t\tapply: async (_, __, args) => {\n\t\t\t\tconst routePath = \"/\" + path.map((segment) => segment.replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`)).join(\"/\");\n\t\t\t\tconst arg = args[0] || {};\n\t\t\t\tconst fetchOptions = args[1] || {};\n\t\t\t\tconst { query, fetchOptions: argFetchOptions, ...body } = arg;\n\t\t\t\tconst options = {\n\t\t\t\t\t...fetchOptions,\n\t\t\t\t\t...argFetchOptions\n\t\t\t\t};\n\t\t\t\tconst method = getMethod(routePath, knownPathMethods, arg);\n\t\t\t\treturn await client(routePath, {\n\t\t\t\t\t...options,\n\t\t\t\t\tbody: method === \"GET\" ? void 0 : {\n\t\t\t\t\t\t...body,\n\t\t\t\t\t\t...options?.body || {}\n\t\t\t\t\t},\n\t\t\t\t\tquery: query || options?.query,\n\t\t\t\t\tmethod,\n\t\t\t\t\tasync onSuccess(context) {\n\t\t\t\t\t\tawait options?.onSuccess?.(context);\n\t\t\t\t\t\tif (!atomListeners || options.disableSignal) return;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* We trigger listeners\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tconst matches = atomListeners.filter((s) => s.matcher(routePath));\n\t\t\t\t\t\tif (!matches.length) return;\n\t\t\t\t\t\tconst visited = /* @__PURE__ */ new Set();\n\t\t\t\t\t\tfor (const match of matches) {\n\t\t\t\t\t\t\tconst signal = atoms[match.signal];\n\t\t\t\t\t\t\tif (!signal) return;\n\t\t\t\t\t\t\tif (visited.has(match.signal)) continue;\n\t\t\t\t\t\t\tvisited.add(match.signal);\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t* To avoid race conditions we set the signal in a setTimeout\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tconst val = signal.get();\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsignal.set(!val);\n\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn createProxy();\n}\n\n//#endregion\nexport { createDynamicPathProxy };\n//# sourceMappingURL=proxy.mjs.map","import { listenKeys } from \"nanostores\";\nimport { useCallback, useRef, useSyncExternalStore } from \"react\";\n\n//#region src/client/react/react-store.ts\n/**\n* Subscribe to store changes and get store's value.\n*\n* Can be used with store builder too.\n*\n* ```js\n* import { useStore } from 'nanostores/react'\n*\n* import { router } from '../store/router'\n*\n* export const Layout = () => {\n*   let page = useStore(router)\n*   if (page.route === 'home') {\n*     return <HomePage />\n*   } else {\n*     return <Error404 />\n*   }\n* }\n* ```\n*\n* @param store Store instance.\n* @returns Store value.\n*/\nfunction useStore(store, options = {}) {\n\tconst snapshotRef = useRef(store.get());\n\tconst { keys, deps = [store, keys] } = options;\n\tconst subscribe = useCallback((onChange) => {\n\t\tconst emitChange = (value) => {\n\t\t\tif (snapshotRef.current === value) return;\n\t\t\tsnapshotRef.current = value;\n\t\t\tonChange();\n\t\t};\n\t\temitChange(store.value);\n\t\tif (keys?.length) return listenKeys(store, keys, emitChange);\n\t\treturn store.listen(emitChange);\n\t}, deps);\n\tconst get = () => snapshotRef.current;\n\treturn useSyncExternalStore(subscribe, get, get);\n}\n\n//#endregion\nexport { useStore };\n//# sourceMappingURL=react-store.mjs.map","import { getClientConfig } from \"../config.mjs\";\nimport { createDynamicPathProxy } from \"../proxy.mjs\";\nimport { useStore } from \"./react-store.mjs\";\nimport { capitalizeFirstLetter } from \"@better-auth/core/utils\";\n\n//#region src/client/react/index.ts\nfunction getAtomKey(str) {\n\treturn `use${capitalizeFirstLetter(str)}`;\n}\nfunction createAuthClient(options) {\n\tconst { pluginPathMethods, pluginsActions, pluginsAtoms, $fetch, $store, atomListeners } = getClientConfig(options);\n\tconst resolvedHooks = {};\n\tfor (const [key, value] of Object.entries(pluginsAtoms)) resolvedHooks[getAtomKey(key)] = () => useStore(value);\n\treturn createDynamicPathProxy({\n\t\t...pluginsActions,\n\t\t...resolvedHooks,\n\t\t$fetch,\n\t\t$store\n\t}, $fetch, pluginPathMethods, pluginsAtoms, atomListeners);\n}\n\n//#endregion\nexport { createAuthClient, useStore };\n//# sourceMappingURL=index.mjs.map","import { createAuthClient } from \"better-auth/react\";\n\n// baseURL is optional when the auth server is on the same origin.\n// Provide baseURL if the frontend and auth server are on different domains.\nconst authClient = createAuthClient();\n\nexport default authClient;\n"],"names":["_envShim","_getEnv","useShim","define_globalThis_process_env_default","env","_","prop","value","env$1","getEnvVar","key","fallback","define_process_env_default","COLORS_2","COLORS_16","COLORS_256","COLORS_16m","TERM_ENVS","CI_ENVS_MAP","TERM_ENVS_REG_EXP","getColorDepth","envName","colors","termEnv","term","TTY_COLORS","levels","shouldPublishLog","currentLogLevel","logLevel","levelColors","formatMessage","level","message","colorsEnabled","timestamp","createLogger","options","LogFunc","args","formattedMessage","capitalizeFirstLetter","str","BetterAuthError","checkHasPath","url","assertHasProtocol","parsedUrl","error","withPath","path","trimmedUrl","getBaseURL","request","loadEnv","trustedProxyHeaders","fromEnv","redirectPlugin","context","PROTO_POLLUTION_PATTERNS","JSON_SIGNATURE","SPECIAL_VALUES","ISO_DATE_REGEX","isValidDate","date","parseISODate","match","year","month","day","hour","minute","second","ms","offsetSign","offsetHour","offsetMinute","offset","betterJSONParse","strict","warnings","reviver","parseDates","trimmed","lowerValue","pattern","matches","value$1","parseJSON","listenerQueue","lqIndex","QUEUE_ITEMS_PER_LISTENER","atom","initialValue","listeners","$atom","listener","index","oldValue","changedKey","runListenerQueue","newValue","unbind","MOUNT","UNMOUNT","REVERT_MUTATION","on","object","eventKey","mutateStore","eventProps","event","l","currentListeners","STORE_UNMOUNT_DELAY","onMount","$store","initialize","payload","destroy","runListeners","originListen","originOff","listenKeys","keys","keysSet","changed","isServer","useAuthQuery","initializedAtom","$fetch","queryParams","fn","resolve","opts","retryAttempts","retryAttempt","currentValue","isMounted","initAtom","timeoutId","kBroadcastChannel","now","WindowBroadcastChannel","name","handler","getGlobalBroadcastChannel","kFocusManager","WindowFocusManager","focused","visibilityHandler","getGlobalFocusManager","kOnlineManager","WindowOnlineManager","online","onOnline","onOffline","getGlobalOnlineManager","FOCUS_REFETCH_RATE_LIMIT_SECONDS","createSessionRefreshManager","sessionAtom","sessionSignal","refetchInterval","refetchOnWindowFocus","refetchWhenOffline","state","shouldRefetch","triggerRefetch","currentSession","res","broadcastSessionUpdate","trigger","setupPolling","setupBroadcast","setupFocusRefetch","setupOnlineRefetch","getSessionAtom","$signal","session","refreshManager","isPlainObject","prototype","_defu","baseObject","defaults","namespace","merger","createDefu","arguments_","p","c","defu","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","__spreadValues","a","b","__spreadProps","BetterFetchError","status","statusText","initializePlugins","_a","_b","_c","_d","_e","_f","hooks","plugin","pluginRes","LinearRetryStrategy","attempt","response","ExponentialRetryStrategy","createRetryStrategy","getAuthHeader","headers","getValue","token","username","password","prefix","JSON_RE","detectResponseType","_contentType","textTypes","contentType","isJSONParsable","isJSONSerializable","jsonParse","text","isFunction","getFetch","getHeaders","authHeader","t","detectContentType","body","getBody","getMethod","pMethod","methods","getTimeout","controller","abortTimeout","ValidationError","_ValidationError","issues","parseStandardSchema","schema","input","result","applySchemaPlugin","config","_a2","urlKey","keySchema","createFetch","betterFetch","getURL2","option","baseURL","params","query","basePath","m","urlQuery","serializedValue","val","paramPaths","queryParamString","_g","_h","__url","fetch","signal","_url","method","onRequest","clearTimeout2","responseContext","onResponse","r","responseType","successContext","parser2","onSuccess","parser","responseText","isJSONResponse","errorObject","errorContext","onError","retryStrategy","_retryAttempt","onRetry","delay","getClientConfig","isCredentialsSupported","pluginsFetchPlugins","lifeCyclePlugin","_onSuccess","_onError","_onRequest","_onResponse","restOfFetchOptions","$sessionSignal","plugins","pluginsActions","pluginsAtoms","pluginPathMethods","atomListeners","defu$1","isAtom","knownPathMethods","fetchOptions","_query","createDynamicPathProxy","routes","client","atoms","createProxy","fullPath","current","segment","__","routePath","letter","arg","argFetchOptions","s","visited","useStore","store","snapshotRef","useRef","deps","subscribe","useCallback","onChange","emitChange","get","useSyncExternalStore","getAtomKey","createAuthClient","resolvedHooks","authClient"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}