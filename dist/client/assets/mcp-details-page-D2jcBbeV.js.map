{"version":3,"file":"mcp-details-page-D2jcBbeV.js","sources":["../../../node_modules/.pnpm/lucide-react@0.553.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/book-text.js","../../../node_modules/.pnpm/lucide-react@0.553.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../../components/settings/mcp-details-page.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20\",\n      key: \"k3hazp\"\n    }\n  ],\n  [\"path\", { d: \"M8 11h8\", key: \"vwpz6n\" }],\n  [\"path\", { d: \"M8 7h6\", key: \"1f0q6e\" }]\n];\nconst BookText = createLucideIcon(\"book-text\", __iconNode);\n\nexport { __iconNode, BookText as default };\n//# sourceMappingURL=book-text.js.map\n","/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n];\nconst CircleAlert = createLucideIcon(\"circle-alert\", __iconNode);\n\nexport { __iconNode, CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","\"use client\";\n\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport {\n  AlertCircle,\n  BookText,\n  ChevronLeft,\n  FileText,\n  Loader2,\n  Trash2,\n  Wrench,\n} from \"lucide-react\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport Link from \"@/components/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { useRouter, useSearchParams } from \"@/hooks/use-navigation\";\nimport { mcpKeys } from \"@/lib/query-keys\";\nimport { useSession } from \"@/providers/session-provider\";\nimport {\n  checkAuth as checkConnectorAuth,\n  deleteConnector as deleteConnectorAction,\n  discover as discoverConnector,\n  list as listConnectorsAction,\n  testConnection as testConnectionAction,\n  toggleEnabled as toggleEnabledAction,\n} from \"@/server/actions/mcp\";\nimport { ConnectorHeader } from \"./connector-header\";\nimport { McpConnectDialog } from \"./mcp-connect-dialog\";\nimport { SettingsPageContent } from \"./settings-page\";\n\nconst HTTP_STATUS_REGEX = /HTTP (\\d{3})/;\n\nfunction formatMcpError(message: string): string {\n  const httpMatch = message.match(HTTP_STATUS_REGEX);\n  if (httpMatch) {\n    const status = httpMatch[1];\n    if (status === \"502\") {\n      return \"MCP server is temporarily unavailable (502 Bad Gateway)\";\n    }\n    if (status === \"503\") {\n      return \"MCP server is temporarily unavailable (503 Service Unavailable)\";\n    }\n    if (status === \"504\") {\n      return \"MCP server timed out (504 Gateway Timeout)\";\n    }\n    if (status === \"500\") {\n      return \"MCP server encountered an internal error (500)\";\n    }\n    if (status === \"401\" || status === \"403\") {\n      return \"Authentication failed. Try reconnecting.\";\n    }\n    return `MCP server returned HTTP ${status}`;\n  }\n  if (message.length > 200) {\n    return `${message.slice(0, 200)}...`;\n  }\n  return message;\n}\n\nexport function McpDetailsPage({ connectorId }: { connectorId: string }) {\n  const queryClient = useQueryClient();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { data: session } = useSession();\n  const hasSession = !!session?.user;\n\n  const [connectOpen, setConnectOpen] = useState(false);\n\n  const queryKey = mcpKeys.list;\n\n  const { data: connectors, isLoading: isLoadingConnectors } = useQuery({\n    queryKey: mcpKeys.list,\n    queryFn: listConnectorsAction,\n    enabled: hasSession,\n  });\n\n  const connector = useMemo(\n    () => connectors?.find((c) => c.id === connectorId) ?? null,\n    [connectors, connectorId]\n  );\n\n  const canEdit = connector?.userId !== null;\n\n  const { mutate: toggleEnabled } = useMutation({\n    mutationFn: toggleEnabledAction,\n    onMutate: async (newData) => {\n      await queryClient.cancelQueries({ queryKey });\n      const prev = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old: typeof connectors) => {\n        if (!old) {\n          return old;\n        }\n        return old.map((c) =>\n          c.id === newData.id ? { ...c, enabled: newData.enabled } : c\n        );\n      });\n      return { prev };\n    },\n    onError: (_err, _newData, context) => {\n      queryClient.setQueryData(queryKey, context?.prev);\n      toast.error(\"Failed to update connector\");\n    },\n    onSettled: () => {\n      queryClient.invalidateQueries({ queryKey });\n    },\n  });\n\n  const { mutate: deleteConnector } = useMutation({\n    mutationFn: deleteConnectorAction,\n    onMutate: async (data) => {\n      await queryClient.cancelQueries({ queryKey });\n      const prev = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old: typeof connectors) => {\n        if (!old) {\n          return old;\n        }\n        return old.filter((c) => c.id !== data.id);\n      });\n      return { prev };\n    },\n    onError: (_err, _data, context) => {\n      queryClient.setQueryData(queryKey, context?.prev);\n      toast.error(\"Failed to uninstall connector\");\n    },\n    onSuccess: () => {\n      toast.success(\"Connector uninstalled\");\n      router.push(\"/settings/connectors\");\n    },\n    onSettled: () => {\n      queryClient.invalidateQueries({ queryKey });\n    },\n  });\n\n  const {\n    data: discovery,\n    isLoading: isLoadingDiscovery,\n    error: discoveryError,\n    refetch: refetchDiscovery,\n  } = useQuery({\n    queryKey: mcpKeys.discover(connectorId),\n    queryFn: () => discoverConnector({ id: connectorId }),\n    enabled: hasSession && connector !== null,\n    retry: false,\n  });\n\n  const { data: authStatus } = useQuery({\n    queryKey: mcpKeys.checkAuth(connectorId),\n    queryFn: () => checkConnectorAuth({ id: connectorId }),\n    enabled: hasSession && connector !== null,\n    staleTime: 30_000,\n  });\n\n  const { data: connectionStatus } = useQuery({\n    queryKey: mcpKeys.testConnection(connectorId),\n    queryFn: () => testConnectionAction({ id: connectorId }),\n    enabled: hasSession && connector !== null,\n    staleTime: 30_000,\n    retry: false,\n  });\n\n  const isConnectorAuthenticated = authStatus?.isAuthenticated ?? false;\n  const isIncompatible = connectionStatus?.status === \"incompatible\";\n\n  const discoveryErrorMessage =\n    discoveryError instanceof Error ? discoveryError.message : null;\n  const needsOAuth =\n    discoveryErrorMessage?.includes(\"OAuth authorization\") ?? false;\n\n  useEffect(() => {\n    const connected = searchParams.get(\"connected\");\n    const err = searchParams.get(\"error\");\n\n    if (connected) {\n      toast.success(\"Authorization successful\");\n    }\n    if (err) {\n      toast.error(err);\n    }\n\n    if (connected || err) {\n      router.replace(`/settings/connectors/${connectorId}`);\n      queryClient.invalidateQueries({\n        queryKey: mcpKeys.checkAuth(connectorId),\n      });\n      queryClient.invalidateQueries({\n        queryKey: mcpKeys.discover(connectorId),\n      });\n      refetchDiscovery();\n    }\n  }, [connectorId, queryClient, refetchDiscovery, router, searchParams]);\n\n  useEffect(() => {\n    if (!(connector && isConnectorAuthenticated)) {\n      return;\n    }\n    queryClient.invalidateQueries({\n      queryKey: mcpKeys.discover(connector.id),\n    });\n    refetchDiscovery();\n  }, [connector, isConnectorAuthenticated, queryClient, refetchDiscovery]);\n\n  const handleToggleEnabled = useCallback(\n    (enabled: boolean) => {\n      if (!connector) {\n        return;\n      }\n      toggleEnabled({ id: connector.id, enabled });\n    },\n    [connector, toggleEnabled]\n  );\n\n  const handleUninstall = useCallback(() => {\n    if (!connector) {\n      return;\n    }\n    deleteConnector({ id: connector.id });\n  }, [connector, deleteConnector]);\n\n  if (isLoadingConnectors) {\n    return (\n      <SettingsPageContent className=\"gap-4\">\n        <div className=\"animate-pulse space-y-3\">\n          {[1, 2].map((i) => (\n            <div className=\"h-20 rounded-lg bg-muted/50\" key={i} />\n          ))}\n        </div>\n      </SettingsPageContent>\n    );\n  }\n\n  if (!connector) {\n    return (\n      <SettingsPageContent className=\"gap-4\">\n        <Button asChild className=\"w-fit\" size=\"sm\" variant=\"ghost\">\n          <Link href=\"/settings/connectors\">\n            <ChevronLeft className=\"size-4\" />\n            Back\n          </Link>\n        </Button>\n        <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n          <AlertCircle className=\"size-6 text-destructive\" />\n          <p className=\"mt-2 font-medium text-sm\">Connector not found</p>\n          <p className=\"mt-1 text-muted-foreground text-xs\">\n            It may have been deleted or you donâ€™t have access.\n          </p>\n        </div>\n      </SettingsPageContent>\n    );\n  }\n\n  const showConnectButton =\n    needsOAuth && !isConnectorAuthenticated && !isIncompatible;\n  const showDiscovery = discovery && !needsOAuth && !isIncompatible;\n\n  return (\n    <SettingsPageContent className=\"gap-4\">\n      <Button asChild className=\"w-fit\" size=\"sm\" variant=\"ghost\">\n        <Link href=\"/settings/connectors\">\n          <ChevronLeft className=\"size-4\" />\n          Back\n        </Link>\n      </Button>\n\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <ConnectorHeader\n          isCustom={connector.userId !== null}\n          name={connector.name}\n          type={connector.type}\n          url={connector.url}\n        />\n\n        <div className=\"flex shrink-0 items-center gap-6\">\n          <div className=\"flex items-center gap-2\">\n            <Switch\n              checked={connector.enabled}\n              disabled={!canEdit}\n              id=\"connector-enabled\"\n              onCheckedChange={handleToggleEnabled}\n            />\n            <Label\n              className=\"text-muted-foreground text-xs\"\n              htmlFor=\"connector-enabled\"\n            >\n              Enabled\n            </Label>\n          </div>\n\n          {canEdit ? (\n            <Button onClick={handleUninstall} size=\"sm\" variant=\"destructive\">\n              <Trash2 className=\"size-4\" />\n              Uninstall\n            </Button>\n          ) : null}\n        </div>\n      </div>\n\n      <Separator className=\"my-2\" />\n\n      <DiscoveryContent\n        connectionError={connectionStatus?.error}\n        discovery={discovery ?? null}\n        discoveryError={discoveryErrorMessage}\n        isIncompatible={isIncompatible}\n        isLoading={\n          (needsOAuth && isConnectorAuthenticated) || isLoadingDiscovery\n        }\n        needsOAuth={needsOAuth}\n        onConnect={() => setConnectOpen(true)}\n        showConnectButton={showConnectButton}\n        showDiscovery={showDiscovery ?? false}\n      />\n\n      <McpConnectDialog\n        connector={connector}\n        onClose={() => setConnectOpen(false)}\n        open={connectOpen}\n      />\n    </SettingsPageContent>\n  );\n}\n\nfunction DiscoveryContent({\n  isLoading,\n  showConnectButton,\n  onConnect,\n  isIncompatible,\n  connectionError,\n  discoveryError,\n  needsOAuth,\n  showDiscovery,\n  discovery,\n}: {\n  isLoading: boolean;\n  showConnectButton: boolean;\n  onConnect: () => void;\n  isIncompatible: boolean;\n  connectionError?: string;\n  discoveryError: string | null;\n  needsOAuth: boolean;\n  showDiscovery: boolean;\n  discovery: {\n    tools: { name: string }[];\n    resources: { name: string }[];\n    prompts: { name: string }[];\n  } | null;\n}) {\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"size-6 animate-spin text-muted-foreground\" />\n      </div>\n    );\n  }\n\n  if (showConnectButton) {\n    return (\n      <div className=\"flex flex-col items-center gap-4 py-12 text-center\">\n        <p className=\"font-medium text-sm\">Authorization required</p>\n        <p className=\"max-w-xs text-muted-foreground text-xs\">\n          Connect this connector to access its tools and resources.\n        </p>\n        <Button onClick={onConnect}>Connect</Button>\n      </div>\n    );\n  }\n\n  if (isIncompatible) {\n    return (\n      <div className=\"flex flex-col items-center gap-2 py-12 text-center\">\n        <AlertCircle className=\"size-6 text-destructive\" />\n        <p className=\"font-medium text-sm\">Incompatible server</p>\n        <p className=\"max-w-xs text-muted-foreground text-xs\">\n          {connectionError ??\n            \"This server requires pre-configured OAuth credentials.\"}\n        </p>\n      </div>\n    );\n  }\n\n  if (discoveryError && !needsOAuth) {\n    return (\n      <div className=\"flex flex-col items-center gap-2 py-12 text-center\">\n        <AlertCircle className=\"size-6 text-destructive\" />\n        <p className=\"text-muted-foreground text-sm\">\n          Failed to connect to MCP server\n        </p>\n        <p className=\"max-w-xs text-muted-foreground text-xs\">\n          {formatMcpError(discoveryError)}\n        </p>\n      </div>\n    );\n  }\n\n  if (showDiscovery && discovery) {\n    return (\n      <ScrollArea className=\"max-h-[60vh]\">\n        <div className=\"space-y-4\">\n          <DetailsSection\n            icon={<Wrench className=\"size-4\" />}\n            items={discovery.tools.map((t) => t.name)}\n            title=\"Tools\"\n          />\n          <DetailsSection\n            icon={<FileText className=\"size-4\" />}\n            items={discovery.resources.map((r) => r.name)}\n            title=\"Resources\"\n          />\n          <DetailsSection\n            icon={<BookText className=\"size-4\" />}\n            items={discovery.prompts.map((p) => p.name)}\n            title=\"Prompts\"\n          />\n        </div>\n      </ScrollArea>\n    );\n  }\n\n  return null;\n}\n\nfunction DetailsSection({\n  title,\n  icon,\n  items,\n}: {\n  title: string;\n  icon: React.ReactNode;\n  items: string[];\n}) {\n  const count = items.length;\n\n  return (\n    <div className=\"rounded-lg border bg-card p-3\">\n      <div className=\"flex items-center gap-2\">\n        <div className=\"text-muted-foreground\">{icon}</div>\n        <span className=\"font-medium text-sm\">{title}</span>\n        <span className=\"text-muted-foreground text-xs\">({count})</span>\n      </div>\n      <Separator className=\"my-3\" />\n      {count === 0 ? (\n        <p className=\"text-muted-foreground text-xs italic\">None available</p>\n      ) : (\n        <div className=\"flex flex-wrap gap-1.5\">\n          {items.map((name) => (\n            <span\n              className=\"rounded-md bg-muted px-2 py-1 font-mono text-xs\"\n              key={name}\n              title={name}\n            >\n              {name}\n            </span>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["__iconNode","BookText","createLucideIcon","CircleAlert","HTTP_STATUS_REGEX","formatMcpError","message","httpMatch","status","McpDetailsPage","connectorId","queryClient","useQueryClient","router","useRouter","searchParams","useSearchParams","session","useSession","hasSession","connectOpen","setConnectOpen","useState","queryKey","mcpKeys","connectors","isLoadingConnectors","useQuery","listConnectorsAction","connector","useMemo","c","canEdit","toggleEnabled","useMutation","toggleEnabledAction","newData","prev","old","_err","_newData","context","toast","deleteConnector","deleteConnectorAction","data","_data","discovery","isLoadingDiscovery","discoveryError","refetchDiscovery","discoverConnector","authStatus","checkConnectorAuth","connectionStatus","testConnectionAction","isConnectorAuthenticated","isIncompatible","discoveryErrorMessage","needsOAuth","useEffect","connected","err","handleToggleEnabled","useCallback","enabled","handleUninstall","jsx","SettingsPageContent","jsxs","Button","Link","ChevronLeft","AlertCircle","showConnectButton","showDiscovery","ConnectorHeader","Switch","Label","Trash2","Separator","DiscoveryContent","McpConnectDialog","isLoading","onConnect","connectionError","Loader2","ScrollArea","DetailsSection","Wrench","t","FileText","r","p","title","icon","items","count","name"],"mappings":"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","x_google_ignoreList":[0,1]}