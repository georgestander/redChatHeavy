{"version":3,"file":"app-sidebar-history-conditional-BvYi30A1.js","sources":["../../../node_modules/.pnpm/lucide-react@0.553.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/folder-plus.js","../../../components/sidebar-chat-item.tsx","../../../components/sidebar-chats-list.tsx","../../../components/delete-project-dialog.tsx","../../../components/project-menu-items.tsx","../../../components/sidebar-project-item.tsx","../../../components/sidebar-projects.tsx","../../../components/sidebar-history.tsx","../../../components/ui/empty.tsx","../../../components/app-sidebar-history-conditional.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.553.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 10v6\", key: \"1bos4e\" }],\n  [\"path\", { d: \"M9 13h6\", key: \"1uhe8q\" }],\n  [\n    \"path\",\n    {\n      d: \"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z\",\n      key: \"1kt360\"\n    }\n  ]\n];\nconst FolderPlus = createLucideIcon(\"folder-plus\", __iconNode);\n\nexport { __iconNode, FolderPlus as default };\n//# sourceMappingURL=folder-plus.js.map\n","\"use client\";\nimport { MoreHorizontal } from \"lucide-react\";\nimport { memo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { ChatMenuItems } from \"@/components/chat-menu-items\";\nimport Link from \"@/components/link\";\nimport { ShareDialog } from \"@/components/share-button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  SidebarMenuAction,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from \"@/components/ui/sidebar\";\nimport { useRouter } from \"@/hooks/use-navigation\";\nimport type { UIChat } from \"@/lib/types/ui-chat\";\n\nconst PureSidebarChatItem = ({\n  chat,\n  isActive,\n  onDelete,\n  onRename,\n  onPin,\n  setOpenMobile,\n  prefetch = false,\n}: {\n  chat: UIChat;\n  isActive: boolean;\n  onDelete: (chatId: string) => void;\n  onRename: (chatId: string, title: string) => void;\n  onPin: (chatId: string, isPinned: boolean) => void;\n  setOpenMobile: (open: boolean) => void;\n  prefetch?: boolean;\n}) => {\n  const chatHref: `/project/${string}/chat/${string}` | `/chat/${string}` =\n    chat.projectId\n      ? `/project/${chat.projectId}/chat/${chat.id}`\n      : `/chat/${chat.id}`;\n  const router = useRouter();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editTitle, setEditTitle] = useState(chat.title);\n  const [shareDialogOpen, setShareDialogOpen] = useState(false);\n\n  const handleRename = async () => {\n    if (editTitle.trim() === \"\" || editTitle === chat.title) {\n      setIsEditing(false);\n      setEditTitle(chat.title);\n      return;\n    }\n\n    try {\n      await onRename(chat.id, editTitle.trim());\n      setIsEditing(false);\n      toast.success(\"Chat renamed successfully\");\n    } catch (_error) {\n      setEditTitle(chat.title);\n      setIsEditing(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\") {\n      handleRename();\n    } else if (e.key === \"Escape\") {\n      setIsEditing(false);\n      setEditTitle(chat.title);\n    }\n  };\n\n  return (\n    <SidebarMenuItem>\n      {isEditing ? (\n        <div className=\"flex w-full items-center gap-2 overflow-hidden rounded-md bg-background p-2 text-left text-sm\">\n          <Input\n            autoFocus\n            className=\"h-auto border-0 bg-transparent p-0 text-sm focus-visible:ring-0 focus-visible:ring-offset-0\"\n            maxLength={255}\n            onBlur={handleRename}\n            onChange={(e) => setEditTitle(e.target.value)}\n            onKeyDown={handleKeyDown}\n            value={editTitle}\n          />\n        </div>\n      ) : (\n        <SidebarMenuButton asChild isActive={isActive}>\n          <Link\n            href={chatHref}\n            onClick={(e) => {\n              // Allow middle-click and ctrl+click to open in new tab\n              if (e.button === 1 || e.ctrlKey || e.metaKey) {\n                return;\n              }\n              e.preventDefault();\n              router.push(chatHref);\n              setOpenMobile(false);\n            }}\n            prefetch={prefetch}\n          >\n            <span>{chat.title}</span>\n          </Link>\n        </SidebarMenuButton>\n      )}\n\n      <DropdownMenu modal={true}>\n        <DropdownMenuTrigger asChild>\n          <SidebarMenuAction\n            className=\"mr-0.5 data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            showOnHover={!isActive}\n          >\n            <MoreHorizontal size={16} />\n            <span className=\"sr-only\">More</span>\n          </SidebarMenuAction>\n        </DropdownMenuTrigger>\n\n        <DropdownMenuContent align=\"end\" side=\"bottom\">\n          <ChatMenuItems\n            isPinned={chat.isPinned}\n            onDelete={() => onDelete(chat.id)}\n            onRename={() => {\n              setIsEditing(true);\n              setEditTitle(chat.title);\n            }}\n            onShare={() => setShareDialogOpen(true)}\n            onTogglePin={() => onPin(chat.id, !chat.isPinned)}\n          />\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {shareDialogOpen && (\n        <ShareDialog\n          chatId={chat.id}\n          onOpenChange={setShareDialogOpen}\n          open={shareDialogOpen}\n        />\n      )}\n    </SidebarMenuItem>\n  );\n};\n\nexport const SidebarChatItem = memo(\n  PureSidebarChatItem,\n  (prevProps, nextProps) => {\n    if (prevProps.isActive !== nextProps.isActive) {\n      return false;\n    }\n    if (prevProps.prefetch !== nextProps.prefetch) {\n      return false;\n    }\n    if (prevProps.chat.id !== nextProps.chat.id) {\n      return false;\n    }\n    if (prevProps.chat.title !== nextProps.chat.title) {\n      return false;\n    }\n    if (prevProps.chat.isPinned !== nextProps.chat.isPinned) {\n      return false;\n    }\n    return true;\n  }\n);\n","import { isToday, isYesterday, subMonths, subWeeks } from \"date-fns\";\nimport { useMemo, useState } from \"react\";\nimport { useSidebar } from \"@/components/ui/sidebar\";\nimport {\n  useGetAllChats,\n  usePinChat,\n  useRenameChat,\n} from \"@/hooks/chat-sync-hooks\";\nimport { usePathname } from \"@/hooks/use-navigation\";\nimport type { UIChat } from \"@/lib/types/ui-chat\";\nimport { parseChatIdFromPathname } from \"@/providers/parse-chat-id-from-pathname\";\nimport { DeleteChatDialog } from \"./delete-chat-dialog\";\nimport { SidebarChatItem } from \"./sidebar-chat-item\";\nimport { Skeleton } from \"./ui/skeleton\";\n\ntype GroupedChats = {\n  pinned: UIChat[];\n  today: UIChat[];\n  yesterday: UIChat[];\n  lastWeek: UIChat[];\n  lastMonth: UIChat[];\n  older: UIChat[];\n};\n\nexport function SidebarChatsList() {\n  const pathname = usePathname();\n  const { data: allChats, isLoading } = useGetAllChats({ limit: 50 });\n  const { setOpenMobile } = useSidebar();\n  const { mutate: renameChatMutation } = useRenameChat();\n  const { mutate: pinChatMutation } = usePinChat();\n  const [deleteId, setDeleteId] = useState<string | null>(null);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n\n  // Filter chats: non-project chats only (projectId == null)\n  const chats = useMemo(\n    () => allChats?.filter((chat) => chat.projectId === null) ?? [],\n    [allChats]\n  );\n\n  // Extract chatId from URL for /chat routes and /project routes\n  const chatId = useMemo(() => {\n    const parsed = parseChatIdFromPathname(pathname);\n    return parsed.id;\n  }, [pathname]);\n\n  const groupedChats = useMemo(() => {\n    const now = new Date();\n    const oneWeekAgo = subWeeks(now, 1);\n    const oneMonthAgo = subMonths(now, 1);\n\n    // Separate pinned and non-pinned chats\n    const pinnedChats = chats.filter((chat) => chat.isPinned);\n    const nonPinnedChats = chats.filter((chat) => !chat.isPinned);\n\n    const groups = nonPinnedChats.reduce(\n      (acc, chat) => {\n        const chatDate = new Date(chat.updatedAt);\n\n        if (isToday(chatDate)) {\n          acc.today.push(chat);\n        } else if (isYesterday(chatDate)) {\n          acc.yesterday.push(chat);\n        } else if (chatDate > oneWeekAgo) {\n          acc.lastWeek.push(chat);\n        } else if (chatDate > oneMonthAgo) {\n          acc.lastMonth.push(chat);\n        } else {\n          acc.older.push(chat);\n        }\n\n        return acc;\n      },\n      {\n        pinned: [],\n        today: [],\n        yesterday: [],\n        lastWeek: [],\n        lastMonth: [],\n        older: [],\n      } as GroupedChats\n    );\n\n    // Add pinned chats (sorted by most recently updated first)\n    groups.pinned = pinnedChats.sort(\n      (a, b) =>\n        new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime()\n    );\n\n    return groups;\n  }, [chats]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col\">\n        {[44, 32, 28, 64, 52].map((item) => (\n          <div\n            className=\"flex h-8 items-center gap-2 rounded-md px-2\"\n            key={item}\n          >\n            <Skeleton className=\"h-4 flex-1\" style={{ width: `${item}%` }} />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (chats.length === 0) {\n    return (\n      <div className=\"flex w-full flex-row items-center justify-center gap-2 px-2 py-4 text-sm text-zinc-500\">\n        Start chatting to see your conversation history!\n      </div>\n    );\n  }\n\n  const prefetchLimit = 10;\n  let renderedChatsCount = 0;\n  const shouldPrefetchNextChat = () => {\n    const shouldPrefetch = renderedChatsCount < prefetchLimit;\n    renderedChatsCount += 1;\n    return shouldPrefetch;\n  };\n\n  return (\n    <>\n      {groupedChats.pinned.length > 0 && (\n        <>\n          <div className=\"px-2 py-1 text-sidebar-foreground/50 text-xs\">\n            Pinned\n          </div>\n          {groupedChats.pinned.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n\n      {groupedChats.today.length > 0 && (\n        <>\n          <div\n            className={`px-2 py-1 text-sidebar-foreground/50 text-xs ${groupedChats.pinned.length > 0 ? \"mt-6\" : \"\"}`}\n          >\n            Today\n          </div>\n          {groupedChats.today.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n\n      {groupedChats.yesterday.length > 0 && (\n        <>\n          <div className=\"mt-6 px-2 py-1 text-sidebar-foreground/50 text-xs\">\n            Yesterday\n          </div>\n          {groupedChats.yesterday.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n\n      {groupedChats.lastWeek.length > 0 && (\n        <>\n          <div className=\"mt-6 px-2 py-1 text-sidebar-foreground/50 text-xs\">\n            Last 7 days\n          </div>\n          {groupedChats.lastWeek.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n\n      {groupedChats.lastMonth.length > 0 && (\n        <>\n          <div className=\"mt-6 px-2 py-1 text-sidebar-foreground/50 text-xs\">\n            Last 30 days\n          </div>\n          {groupedChats.lastMonth.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n\n      {groupedChats.older.length > 0 && (\n        <>\n          <div className=\"mt-6 px-2 py-1 text-sidebar-foreground/50 text-xs\">\n            Older\n          </div>\n          {groupedChats.older.map((chat) => (\n            <SidebarChatItem\n              chat={chat}\n              isActive={chat.id === chatId}\n              key={chat.id}\n              onDelete={(id) => {\n                setDeleteId(id);\n                setShowDeleteDialog(true);\n              }}\n              onPin={(id, isPinned) => {\n                pinChatMutation({ chatId: id, isPinned });\n              }}\n              onRename={(id, title) => {\n                renameChatMutation({ chatId: id, title });\n              }}\n              prefetch={shouldPrefetchNextChat()}\n              setOpenMobile={setOpenMobile}\n            />\n          ))}\n        </>\n      )}\n      <DeleteChatDialog\n        deleteId={deleteId}\n        setShowDeleteDialog={setShowDeleteDialog}\n        showDeleteDialog={showDeleteDialog}\n      />\n    </>\n  );\n}\n","\"use client\";\n\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useCallback } from \"react\";\nimport { toast } from \"sonner\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { usePathname, useRouter } from \"@/hooks/use-navigation\";\nimport { projectKeys } from \"@/lib/query-keys\";\nimport { remove } from \"@/server/actions/project\";\n\ntype DeleteProjectDialogProps = {\n  deleteId: string | null;\n  showDeleteDialog: boolean;\n  setShowDeleteDialog: (show: boolean) => void;\n};\n\nexport function DeleteProjectDialog({\n  deleteId,\n  showDeleteDialog,\n  setShowDeleteDialog,\n}: DeleteProjectDialogProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const queryClient = useQueryClient();\n\n  const deleteMutation = useMutation({\n    mutationFn: remove,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: projectKeys.list,\n      });\n      toast.success(\"Project deleted\");\n    },\n    onError: () => {\n      toast.error(\"Failed to delete project\");\n    },\n  });\n\n  const handleDelete = useCallback(async () => {\n    if (!deleteId) {\n      return;\n    }\n    try {\n      await deleteMutation.mutateAsync({ id: deleteId });\n    } catch {\n      // error surfaced via onError above\n    }\n\n    setShowDeleteDialog(false);\n\n    // If we are inside this project's route, navigate home\n    const inProjectRoute =\n      typeof pathname === \"string\" &&\n      (pathname === `/project/${deleteId}` ||\n        pathname.startsWith(`/project/${deleteId}/`));\n    if (inProjectRoute) {\n      router.push(\"/\");\n    }\n  }, [deleteId, deleteMutation, pathname, router, setShowDeleteDialog]);\n\n  return (\n    <AlertDialog onOpenChange={setShowDeleteDialog} open={showDeleteDialog}>\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle>Delete this project?</AlertDialogTitle>\n          <AlertDialogDescription>\n            This action cannot be undone. This will permanently delete the\n            project and its associations.\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel>Cancel</AlertDialogCancel>\n          <AlertDialogAction onClick={handleDelete}>Delete</AlertDialogAction>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n}\n","\"use client\";\n\nimport { Pencil, Trash2 } from \"lucide-react\";\nimport { DropdownMenuItem } from \"@/components/ui/dropdown-menu\";\n\ntype ProjectMenuItemsProps = {\n  onRename: () => void;\n  onDelete: () => void;\n};\n\nexport function ProjectMenuItems({\n  onRename,\n  onDelete,\n}: ProjectMenuItemsProps) {\n  return (\n    <>\n      <DropdownMenuItem className=\"cursor-pointer\" onClick={onRename}>\n        <Pencil size={16} />\n        <span>Rename</span>\n      </DropdownMenuItem>\n      <DropdownMenuItem\n        className=\"cursor-pointer text-destructive focus:bg-destructive/15 focus:text-destructive dark:text-red-500\"\n        onSelect={onDelete}\n      >\n        <Trash2 size={16} />\n        <span>Delete</span>\n      </DropdownMenuItem>\n    </>\n  );\n}\n","\"use client\";\n\nimport { MoreHorizontal } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { DeleteProjectDialog } from \"@/components/delete-project-dialog\";\nimport Link from \"@/components/link\";\nimport {\n  type ProjectDetailsData,\n  ProjectDetailsDialog,\n} from \"@/components/project-details-dialog\";\nimport { ProjectIcon } from \"@/components/project-icon\";\nimport { ProjectMenuItems } from \"@/components/project-menu-items\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  SidebarMenuAction,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from \"@/components/ui/sidebar\";\nimport { useRenameProject } from \"@/hooks/chat-sync-hooks\";\nimport { useRouter } from \"@/hooks/use-navigation\";\nimport type { Project } from \"@/lib/db/schema\";\nimport type { ProjectColorName, ProjectIconName } from \"@/lib/project-icons\";\n\nexport function SidebarProjectItem({\n  project,\n  isActive,\n  setOpenMobile,\n}: {\n  project: Project;\n  isActive: boolean;\n  setOpenMobile: (open: boolean) => void;\n}) {\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const router = useRouter();\n\n  const { mutateAsync: renameProject, isPending } = useRenameProject();\n\n  const projectHref = `/project/${project.id}` as const;\n\n  const handleRename = async (data: ProjectDetailsData) => {\n    await renameProject({\n      id: project.id,\n      updates: {\n        name: data.name,\n        icon: data.icon,\n        iconColor: data.color,\n      },\n    });\n  };\n\n  return (\n    <SidebarMenuItem>\n      <SidebarMenuButton asChild className=\"cursor-pointer\" isActive={isActive}>\n        <Link\n          href={projectHref}\n          onClick={(e) => {\n            if (e.button === 1 || e.ctrlKey || e.metaKey) {\n              return;\n            }\n            e.preventDefault();\n            router.push(projectHref);\n            setOpenMobile(false);\n          }}\n          prefetch={false}\n        >\n          <ProjectIcon\n            color={project.iconColor as ProjectColorName}\n            icon={project.icon as ProjectIconName}\n            size={16}\n          />\n          <span>{project.name}</span>\n        </Link>\n      </SidebarMenuButton>\n\n      <DropdownMenu modal={true}>\n        <DropdownMenuTrigger asChild>\n          <SidebarMenuAction\n            className=\"mr-0.5 data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground\"\n            showOnHover={!isActive}\n          >\n            <MoreHorizontal size={16} />\n            <span className=\"sr-only\">More</span>\n          </SidebarMenuAction>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\" side=\"bottom\">\n          <ProjectMenuItems\n            onDelete={() => setShowDeleteDialog(true)}\n            onRename={() => setShowEditDialog(true)}\n          />\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <ProjectDetailsDialog\n        initialColor={project.iconColor as ProjectColorName}\n        initialIcon={project.icon as ProjectIconName}\n        initialName={project.name}\n        isLoading={isPending}\n        mode=\"edit\"\n        onOpenChange={setShowEditDialog}\n        onSubmit={handleRename}\n        open={showEditDialog}\n      />\n\n      <DeleteProjectDialog\n        deleteId={project.id}\n        setShowDeleteDialog={setShowDeleteDialog}\n        showDeleteDialog={showDeleteDialog}\n      />\n    </SidebarMenuItem>\n  );\n}\n","\"use client\";\n\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { FolderPlus } from \"lucide-react\";\nimport { useMemo, useState } from \"react\";\nimport {\n  type ProjectDetailsData,\n  ProjectDetailsDialog,\n} from \"@/components/project-details-dialog\";\nimport { SidebarProjectItem } from \"@/components/sidebar-project-item\";\nimport {\n  SidebarMenuButton,\n  SidebarMenuItem,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\nimport { usePathname, useRouter } from \"@/hooks/use-navigation\";\nimport type { Project } from \"@/lib/db/schema\";\nimport { projectKeys } from \"@/lib/query-keys\";\nimport { parseChatIdFromPathname } from \"@/providers/parse-chat-id-from-pathname\";\nimport { create, list } from \"@/server/actions/project\";\n\nexport function SidebarProjects() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const queryClient = useQueryClient();\n  const { setOpenMobile } = useSidebar();\n  const { data: projects, isLoading } = useQuery({\n    queryKey: projectKeys.list,\n    queryFn: () => list(),\n    select: (data): Project[] =>\n      data.map((project) => ({\n        ...project,\n        createdAt: new Date(project.createdAt),\n        updatedAt: new Date(project.updatedAt),\n      })),\n  });\n  const [newProjectDialogOpen, setNewProjectDialogOpen] = useState(false);\n\n  // Auto-expand project if we're on a project route\n  const currentProjectId = useMemo(\n    () => parseChatIdFromPathname(pathname).projectId,\n    [pathname]\n  );\n\n  const createProjectMutation = useMutation({\n    mutationFn: create,\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({\n        queryKey: projectKeys.list,\n      });\n      setNewProjectDialogOpen(false);\n      setOpenMobile(false);\n      router.push(`/project/${data.id}`);\n    },\n  });\n\n  const handleCreateProject = (data: ProjectDetailsData) => {\n    createProjectMutation.mutate({\n      name: data.name,\n      icon: data.icon,\n      iconColor: data.color,\n    });\n  };\n\n  return (\n    <>\n      <SidebarMenuItem>\n        <SidebarMenuButton\n          className=\"cursor-pointer\"\n          onClick={() => setNewProjectDialogOpen(true)}\n        >\n          <FolderPlus className=\"size-4\" />\n          <span>New project</span>\n        </SidebarMenuButton>\n      </SidebarMenuItem>\n      {!isLoading &&\n        projects?.map((project) => {\n          const isActive = currentProjectId === project.id;\n          return (\n            <SidebarProjectItem\n              isActive={isActive}\n              key={project.id}\n              project={project}\n              setOpenMobile={setOpenMobile}\n            />\n          );\n        })}\n\n      <ProjectDetailsDialog\n        isLoading={createProjectMutation.isPending}\n        mode=\"create\"\n        onOpenChange={setNewProjectDialogOpen}\n        onSubmit={handleCreateProject}\n        open={newProjectDialogOpen}\n      />\n    </>\n  );\n}\n","\"use client\";\n\nimport {\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarMenu,\n} from \"@/components/ui/sidebar\";\nimport { useSession } from \"@/providers/session-provider\";\nimport { SidebarChatsList } from \"./sidebar-chats-list\";\nimport { SidebarProjects } from \"./sidebar-projects\";\n\nexport function SidebarHistory() {\n  const { data: session } = useSession();\n  const isAuthenticated = !!session?.user;\n\n  return (\n    <>\n      {isAuthenticated && (\n        <SidebarGroup>\n          <SidebarGroupLabel>Projects</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              <SidebarProjects />\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      )}\n      <SidebarGroup>\n        <SidebarGroupLabel>Chats</SidebarGroupLabel>\n        <SidebarGroupContent>\n          <SidebarMenu>\n            <SidebarChatsList />\n          </SidebarMenu>\n        </SidebarGroupContent>\n      </SidebarGroup>\n    </>\n  );\n}\n","import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","\"use client\";\n\nimport { LogIn } from \"lucide-react\";\nimport Link from \"@/components/link\";\nimport { SidebarHistory } from \"@/components/sidebar-history\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Empty,\n  EmptyContent,\n  EmptyDescription,\n  EmptyHeader,\n  EmptyTitle,\n} from \"@/components/ui/empty\";\nimport {\n  SidebarGroup,\n  SidebarGroupContent,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\nimport { useSession } from \"@/providers/session-provider\";\n\nexport function AppSidebarHistoryConditional() {\n  const { open, openMobile } = useSidebar();\n  const { data: session } = useSession();\n\n  if (!(open || openMobile)) {\n    return null;\n  }\n\n  if (!session?.user) {\n    return (\n      <SidebarGroup>\n        <SidebarGroupContent>\n          <Empty className=\"h-full\">\n            <EmptyHeader>\n              <EmptyTitle>Sign In</EmptyTitle>\n              <EmptyDescription>\n                Sign in to save your chat history\n              </EmptyDescription>\n            </EmptyHeader>\n            <EmptyContent>\n              <Button asChild size=\"sm\" variant=\"outline\">\n                <Link href=\"/login\">\n                  <LogIn />\n                  Sign In\n                </Link>\n              </Button>\n            </EmptyContent>\n          </Empty>\n        </SidebarGroupContent>\n      </SidebarGroup>\n    );\n  }\n\n  return <SidebarHistory />;\n}\n"],"names":["__iconNode","FolderPlus","createLucideIcon","PureSidebarChatItem","chat","isActive","onDelete","onRename","onPin","setOpenMobile","prefetch","chatHref","router","useRouter","isEditing","setIsEditing","useState","editTitle","setEditTitle","shareDialogOpen","setShareDialogOpen","handleRename","toast","handleKeyDown","e","SidebarMenuItem","jsx","Input","SidebarMenuButton","Link","jsxs","DropdownMenu","DropdownMenuTrigger","SidebarMenuAction","MoreHorizontal","DropdownMenuContent","ChatMenuItems","ShareDialog","SidebarChatItem","memo","prevProps","nextProps","SidebarChatsList","pathname","usePathname","allChats","isLoading","useGetAllChats","useSidebar","renameChatMutation","useRenameChat","pinChatMutation","usePinChat","deleteId","setDeleteId","showDeleteDialog","setShowDeleteDialog","chats","useMemo","chatId","parseChatIdFromPathname","groupedChats","now","oneWeekAgo","subWeeks","oneMonthAgo","subMonths","pinnedChats","groups","acc","chatDate","isToday","isYesterday","a","item","Skeleton","prefetchLimit","renderedChatsCount","shouldPrefetchNextChat","shouldPrefetch","Fragment","id","isPinned","title","DeleteChatDialog","DeleteProjectDialog","queryClient","useQueryClient","deleteMutation","useMutation","remove","projectKeys","handleDelete","useCallback","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","ProjectMenuItems","DropdownMenuItem","Pencil","Trash2","SidebarProjectItem","project","showEditDialog","setShowEditDialog","renameProject","isPending","useRenameProject","projectHref","data","ProjectIcon","ProjectDetailsDialog","SidebarProjects","projects","useQuery","list","newProjectDialogOpen","setNewProjectDialogOpen","currentProjectId","createProjectMutation","create","handleCreateProject","SidebarHistory","session","useSession","isAuthenticated","SidebarGroup","SidebarGroupLabel","SidebarGroupContent","SidebarMenu","Empty","className","props","cn","EmptyHeader","EmptyTitle","EmptyDescription","EmptyContent","AppSidebarHistoryConditional","open","openMobile","Button","LogIn"],"mappings":"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","x_google_ignoreList":[0]}