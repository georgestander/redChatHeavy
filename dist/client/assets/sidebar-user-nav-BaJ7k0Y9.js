import{r as l,j as e}from"./client-BXVv_YeC.js";import{r as $,c as F,z as P}from"./index-BbKsfTxS.js";import H from"./link-WNlkKt4p.js";import{u as U,a as g}from"./index-CWLAyDMs.js";import{P as w}from"./index-C-kxXg33.js";import{c as u}from"./utils-D-FPgC8r.js";import{D as q,a as G,b as B,e as O,d as S,f as V,c as x}from"./dropdown-menu-DLPkoSE_.js";import{u as K,g as k,S as L,a as b}from"./sidebar-C0WHgcyX.js";import{e as W}from"./chat-sync-hooks-DcZBFnAH.js";import{a as J}from"./use-navigation-QuPGD7m8.js";import{a as Q}from"./auth-client-NCEzhzlD.js";import{useSession as X}from"./session-provider-DBOweKPF.js";import{L as Y,D as Z}from"./log-in-D92fC-_M.js";import{c as h}from"./createLucideIcon-CqP9863P.js";import{S as ee}from"./settings-CKiPG57k.js";import"./index-C_VP89m5.js";import"./index-B4KKYCLu.js";import"./button-BvmNNHkl.js";import"./index-B4ZZijhN.js";import"./index-DhI-dh9t.js";import"./index-ClCXh67x.js";import"./input-CaNkDFJs.js";import"./useQuery-DtNLQT6k.js";import"./query-Cv3hDNY5.js";import"./QueryClientProvider-BboFp7b3.js";import"./useMutation-BU4p8oK4.js";import"./mutation-DaBpc3iQ.js";import"./index-BMGOATel.js";import"./credits-C6GN1dxI.js";import"./config-DrLGYCgI.js";import"./chat-id-provider-BiTIqLva.js";const ae=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],te=h("chevrons-up-down",ae);const se=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],re=h("log-out",se);const ne=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],oe=h("moon",ne);const ie=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],de=h("sun",ie);var le=$();function ce(){return le.useSyncExternalStore(me,()=>!0,()=>!1)}function me(){return()=>{}}var y="Avatar",[ue]=F(y),[pe,M]=ue(y),C=l.forwardRef((a,t)=>{const{__scopeAvatar:n,...o}=a,[d,s]=l.useState("idle");return e.jsx(pe,{scope:n,imageLoadingStatus:d,onImageLoadingStatusChange:s,children:e.jsx(w.span,{...o,ref:t})})});C.displayName=y;var I="AvatarImage",_=l.forwardRef((a,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:d=()=>{},...s}=a,m=M(I,n),i=fe(o,s),r=U(c=>{d(c),m.onImageLoadingStatusChange(c)});return g(()=>{i!=="idle"&&r(i)},[i,r]),i==="loaded"?e.jsx(w.img,{...s,ref:t,src:o}):null});_.displayName=I;var E="AvatarFallback",R=l.forwardRef((a,t)=>{const{__scopeAvatar:n,delayMs:o,...d}=a,s=M(E,n),[m,i]=l.useState(o===void 0);return l.useEffect(()=>{if(o!==void 0){const r=window.setTimeout(()=>i(!0),o);return()=>window.clearTimeout(r)}},[o]),m&&s.imageLoadingStatus!=="loaded"?e.jsx(w.span,{...d,ref:t}):null});R.displayName=E;function A(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fe(a,{referrerPolicy:t,crossOrigin:n}){const o=ce(),d=l.useRef(null),s=o?(d.current||(d.current=new window.Image),d.current):null,[m,i]=l.useState(()=>A(s,a));return g(()=>{i(A(s,a))},[s,a]),g(()=>{const r=f=>()=>{i(f)};if(!s)return;const c=r("loaded"),p=r("error");return s.addEventListener("load",c),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",p)}},[s,n,t]),m}var z=C,D=_,T=R;const v=l.forwardRef(({className:a,...t},n)=>e.jsx(z,{className:u("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),ref:n,...t}));v.displayName=z.displayName;const j=l.forwardRef(({className:a,...t},n)=>e.jsx(D,{className:u("aspect-square h-full w-full",a),ref:n,...t}));j.displayName=D.displayName;const N=l.forwardRef(({className:a,...t},n)=>e.jsx(T,{className:u("flex h-full w-full items-center justify-center rounded-full bg-muted",a),ref:n,...t}));N.displayName=T.displayName;function Ve(){const{data:a}=X(),{credits:t}=W(),{setTheme:n,resolvedTheme:o}=P(),d=J(),{isMobile:s,state:m}=K(),i=!s&&m==="collapsed",r=a?.user;if(!r)return e.jsx(k,{children:e.jsx(L,{children:e.jsxs(b,{onClick:()=>d.push("/login"),children:[e.jsx(Y,{className:"size-4"}),e.jsx("span",{children:"Sign in"})]})})});const c=r.name||r.email||"User",p=c.slice(0,2).toUpperCase(),f=r.image||`https://avatar.vercel.sh/${r.email}`;return e.jsx(k,{children:e.jsx(L,{children:e.jsxs(q,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(b,{className:u("mx-auto data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",i&&"flex flex-col items-center justify-center"),size:"lg",children:[e.jsxs(v,{className:u("size-8 rounded-lg",i&&"size-6"),children:[e.jsx(j,{alt:c,src:f}),e.jsx(N,{className:"rounded-lg",children:p})]}),e.jsxs("div",{className:u("grid flex-1 text-left text-sm leading-tight",i&&"hidden"),children:[e.jsx("span",{className:"truncate font-medium",children:r.name||r.email}),e.jsxs("span",{className:"flex items-center gap-1 truncate text-xs",children:[e.jsx(Z,{className:"size-3"}),((t??0)/100).toFixed(2)]})]}),e.jsx(te,{className:u("ml-auto size-4",i&&"hidden")})]})}),e.jsxs(B,{align:"end",className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:s?"bottom":"right",sideOffset:4,children:[e.jsx(O,{className:"p-0 font-normal",children:e.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[e.jsxs(v,{className:"h-8 w-8 rounded-lg",children:[e.jsx(j,{alt:c,src:f}),e.jsx(N,{className:"rounded-lg",children:p})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:r.name||r.email}),e.jsx("span",{className:"truncate text-xs",children:r.email})]})]})}),e.jsx(S,{}),e.jsxs(V,{children:[e.jsx(x,{asChild:!0,children:e.jsxs(H,{href:"/settings",children:[e.jsx(ee,{className:"mr-2 size-4"}),"Settings"]})}),e.jsxs(x,{onClick:()=>n(o==="light"?"dark":"light"),children:[o==="light"?e.jsx(oe,{className:"mr-2 size-4"}):e.jsx(de,{className:"mr-2 size-4"}),"Toggle Theme"]})]}),e.jsx(S,{}),e.jsxs(x,{onClick:async()=>{await Q.signOut(),window.location.href="/"},children:[e.jsx(re,{className:"mr-2 size-4"}),"Log out"]})]})]})})})}export{Ve as SidebarUserNav};
//# sourceMappingURL=sidebar-user-nav-BaJ7k0Y9.js.map
