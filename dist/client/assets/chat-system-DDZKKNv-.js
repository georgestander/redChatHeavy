const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-D4QpJJKB.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-CgJxNhIT.js","assets/ruby-Cw6WdidG.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BaeVxFsk.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-CkoXwp7k.js","assets/fortran-free-form-BxgE0vQu.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-BOOCDP_w.js","assets/gdshader-DkwncUOv.js","assets/gdscript-C5YyOfLZ.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-CxzCAyBv.js","assets/r-Dspwwk_N.js","assets/latex-DGMBWnxU.js","assets/tex-CvyZ59Mk.js","assets/liquid-DYVedYrR.js","assets/marko-DZsq8hO1.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-BpAMiNFr.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-Dhbhpdrm.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-Uh8Bk_45.js","assets/csharp-COcwbKMJ.js","assets/rst-D5oM4XIm.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/surrealql-Bq5Q-fJD.js","assets/svelte-zxCyuUbr.js","assets/templ-P3uqSqPl.js","assets/go-CxLEBnE3.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-ChbOoGGc.js","assets/vue-DN_0RTcg.js","assets/vue-html-AaS7Mt5G.js","assets/vue-vine-CQOfvN7w.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js"])))=>i.map(i=>d[i]);
import{r as K,b as LBe,j as I,R as mt,g as cu,d as Ise,e as Vh,f as NBe,_ as xe}from"./client-BXVv_YeC.js";import{c as We,g as vk,a as zd,b as $Be,d as F3,e as zBe,f as BBe,C as QBe}from"./utils-D-FPgC8r.js";import{c as Cn}from"./createLucideIcon-CqP9863P.js";import{u as jBe,T as fs,i as hs,j as ps,h as VBe,k as zz,l as yk,c as vL}from"./sidebar-C0WHgcyX.js";import{B as xn,S as FBe,c as Bz}from"./button-BvmNNHkl.js";import{a as Rse,b as GBe}from"./use-navigation-QuPGD7m8.js";import{c as Ka,b as WBe,t as UBe,u as no,s as vt,d as DT,e as Lse,l as qBe,r as m1,o as sr,f as Yt,g as Sa,h as pd,i as ZBe,j as v_,k as HBe,n as XBe,m as xr,_ as YBe}from"./config-DrLGYCgI.js";import{useSession as Ia}from"./session-provider-DBOweKPF.js";import{L as Nse}from"./log-in-D92fC-_M.js";import{t as En}from"./index-BMGOATel.js";import{D as KBe,S as $se,h as zse,C as JBe,j as eQe,k as tQe,l as Sp,P as Tp,m as nQe,n as rQe,o as g1,p as v1,q as y1,L as G3,r as iQe,s as aQe,i as oQe,G as sQe}from"./project-details-dialog-CdFBmXpU.js";import{D as y_,a as x_,b as __,R as lQe,I as uQe,g as Bse,c as kd,d as cQe}from"./dropdown-menu-DLPkoSE_.js";import{I as Qse}from"./input-CaNkDFJs.js";import{i as dQe,j as IT,k as jse,m as fQe,n as hQe,b as pQe,a as Vse,o as mQe,q as gQe,s as Fse,e as vQe,t as Gse,v as yQe,u as xQe,w as _Qe,c as OQe,x as bQe,p as jw,g as wQe,y as Wse}from"./chat-sync-hooks-DcZBFnAH.js";import{u as Cp,c as Use}from"./useQuery-DtNLQT6k.js";import{u as xk}from"./chat-id-provider-BiTIqLva.js";import{C as O_,a as qse,p as SQe,b as TQe}from"./select-C-PLIKjq.js";import{r as CQe,z as Zse,c as kQe}from"./index-BbKsfTxS.js";import{L as du,G as x1,T as AQe}from"./trash-2-DP4m9RAL.js";import{R as PQe,V as EQe,a as Hse,C as MQe,S as Xse}from"./scroll-area-DLgGIp4C.js";import{u as b_}from"./chat-models-provider-CB5B-j5r.js";import{useDefaultModel as DQe,useModelChange as IQe}from"./default-model-provider-CA0S3DY5.js";import{P as YS}from"./plus-Dvf0tjwj.js";import{u as _k}from"./QueryClientProvider-BboFp7b3.js";import{u as Ok}from"./useMutation-BU4p8oK4.js";import{C as RQe,W as Yse,L as LQe}from"./label-1ycYdh1s.js";import{t as NQe,u as Kse,T as $Qe,a as zQe,R as BQe,b as QQe,C as jQe,O as VQe,D as FQe,X as bc,c as GQe,d as WQe,_ as kp,P as Jse,S as Qz}from"./index-C-kxXg33.js";import{C as UQe}from"./card-BBGN6tFH.js";import{P as vs,c as la,b as w_,a as qQe,d as bk}from"./index-CWLAyDMs.js";import{u as ip,a as ZQe}from"./index-B4ZZijhN.js";import{u as wk}from"./index-B4KKYCLu.js";import{u as HQe}from"./index-DhI-dh9t.js";import{B as Sk,F as tv,g as ele,l as XQe,m as W3,E as tle,e as YQe,i as KQe}from"./get-google-favicon-url-Bedu1OEO.js";import Ad from"./link-WNlkKt4p.js";import{S as JQe}from"./search-CeF-vcTf.js";import{F as _1,S as eje}from"./switch-7fStXT0_.js";import{D as Tk,f as tje,d as Ck,a as jz,b as kk,c as Vz,g as nje,e as nle}from"./dialog-BVCtBu-i.js";import{r as Bd}from"./index-C_VP89m5.js";import{B as rje,g as Ak,M as rle,I as ije}from"./model-selector-logo-CxG4duZO.js";import{I as Fz}from"./image-BO2RBlRM.js";import{t as oi,c as nv,n as Pk,s as aJ,m as aje,a as ile,b as oJ,d as Vw}from"./startOfDay-DFs_GiEJ.js";import{A as oje,R as sje,c as ale,C as lje,a as uje}from"./index-ClCXh67x.js";import{A as U3}from"./credits-C6GN1dxI.js";import{P as cje}from"./plug-DkltJc0a.js";import{S as dje}from"./settings-CKiPG57k.js";import{u as fje}from"./index-D3le2-Ql.js";import{C as hje,a as pje,b as mje,c as gje,d as vje,e as yje,M as xje}from"./command-CP3kQh9u.js";import{E as _je}from"./ellipsis-jqpQO7ZS.js";class sJ extends Error{constructor(e,i){super(e),this.name="ParseError",this.type=i.type,this.field=i.field,this.value=i.value,this.line=i.line}}function yL(t){}function Oje(t){if(typeof t=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:e=yL,onError:i=yL,onRetry:s=yL,onComment:u}=t;let d="",h=!0,m,y="",_="";function b(L){const z=h?L.replace(/^\xEF\xBB\xBF/,""):L,[$,Q]=bje(`${d}${z}`);for(const B of $)T(B);d=Q,h=!1}function T(L){if(L===""){A();return}if(L.startsWith(":")){u&&u(L.slice(L.startsWith(": ")?2:1));return}const z=L.indexOf(":");if(z!==-1){const $=L.slice(0,z),Q=L[z+1]===" "?2:1,B=L.slice(z+Q);C($,B,L);return}C(L,"",L)}function C(L,z,$){switch(L){case"event":_=z;break;case"data":y=`${y}${z}
`;break;case"id":m=z.includes("\0")?void 0:z;break;case"retry":/^\d+$/.test(z)?s(parseInt(z,10)):i(new sJ(`Invalid \`retry\` value: "${z}"`,{type:"invalid-retry",value:z,line:$}));break;default:i(new sJ(`Unknown field "${L.length>20?`${L.slice(0,20)}…`:L}"`,{type:"unknown-field",field:L,value:z,line:$}));break}}function A(){y.length>0&&e({id:m,event:_||void 0,data:y.endsWith(`
`)?y.slice(0,-1):y}),m=void 0,y="",_=""}function D(L={}){d&&L.consume&&T(d),h=!0,m=void 0,y="",_="",d=""}return{feed:b,reset:D}}function bje(t){const e=[];let i="",s=0;for(;s<t.length;){const u=t.indexOf("\r",s),d=t.indexOf(`
`,s);let h=-1;if(u!==-1&&d!==-1?h=Math.min(u,d):u!==-1?u===t.length-1?h=-1:h=u:d!==-1&&(h=d),h===-1){i=t.slice(s);break}else{const m=t.slice(s,h);e.push(m),s=h+1,t[s-1]==="\r"&&t[s]===`
`&&s++}}return[e,i]}class wje extends TransformStream{constructor({onError:e,onRetry:i,onComment:s}={}){let u;super({start(d){u=Oje({onEvent:h=>{d.enqueue(h)},onError(h){e==="terminate"?d.error(h):typeof e=="function"&&e(h)},onRetry:i,onComment:s})},transform(d){u.feed(d)}})}}const ole={byChatId:t=>["vote","byChatId",t]};const Sje=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Tje=Cn("arrow-down",Sje);const Cje=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sle=Cn("arrow-up",Cje);const kje=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Aje=Cn("chart-line",kje);const Pje=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gz=Cn("chevron-right",Pje);const Eje=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lJ=Cn("circle-check-big",Eje);const Mje=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dje=Cn("circle-check",Mje);const Ije=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uJ=Cn("circle-x",Ije);const Rje=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lje=Cn("circle",Rje);const Nje=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cJ=Cn("clock",Nje);const $je=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],zje=Cn("code-xml",$je);const Bje=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],Qje=Cn("corner-down-left",Bje);const jje=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],Vje=Cn("dot",jje);const Fje=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lle=Cn("download",Fje);const Gje=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],S_=Cn("file",Gje);const Wje=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Uje=Cn("funnel",Wje);const qje=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Zje=Cn("grip-vertical",qje);const Hje=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xje=Cn("history",Hje);const Yje=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],Kje=Cn("images",Yje);const Jje=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],eVe=Cn("list",Jje);const tVe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],nVe=Cn("maximize-2",tVe);const rVe=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],ule=Cn("maximize",rVe);const iVe=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],aVe=Cn("minimize-2",iVe);const oVe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],cle=Cn("paperclip",oVe);const sVe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Eh=Cn("pen-line",sVe);const lVe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uVe=Cn("pen",lVe);const cVe=[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982",key:"bjo8r8"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353",key:"16h5ne"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dVe=Cn("pencil-off",cVe);const fVe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hVe=Cn("play",fVe);const pVe=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Wz=Cn("redo-2",pVe);const mVe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],dle=Cn("refresh-ccw",mVe);const gVe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],dJ=Cn("settings-2",gVe);const vVe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Uz=Cn("sparkles",vVe);const yVe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],fle=Cn("square",yVe);const xVe=[["path",{d:"m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44",key:"k4qptu"}],["path",{d:"m13.56 11.747 4.332-.924",key:"19l80z"}],["path",{d:"m16 21-3.105-6.21",key:"7oh9d"}],["path",{d:"M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z",key:"m7xp4m"}],["path",{d:"m6.158 8.633 1.114 4.456",key:"74o979"}],["path",{d:"m8 21 3.105-6.21",key:"1fvxut"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],_Ve=Cn("telescope",xVe);const OVe=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],bVe=Cn("terminal",OVe);const wVe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],SVe=Cn("text-align-start",wVe);const TVe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],CVe=Cn("thumbs-up",TVe);const kVe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],AVe=Cn("thumbs-down",kVe);const PVe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],qz=Cn("undo-2",PVe),Ek=K.createContext(null);Ek.displayName="PanelGroupContext";const Vr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Zz=10,Xh=K.useLayoutEffect,fJ=LBe.useId,EVe=typeof fJ=="function"?fJ:()=>null;let MVe=0;function Hz(t=null){const e=EVe(),i=K.useRef(t||e||null);return i.current===null&&(i.current=""+MVe++),t??i.current}function hle({children:t,className:e="",collapsedSize:i,collapsible:s,defaultSize:u,forwardedRef:d,id:h,maxSize:m,minSize:y,onCollapse:_,onExpand:b,onResize:T,order:C,style:A,tagName:D="div",...L}){const z=K.useContext(Ek);if(z===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:$,expandPanel:Q,getPanelSize:B,getPanelStyle:q,groupId:Y,isPanelCollapsed:G,reevaluatePanelConstraints:H,registerPanel:V,resizePanel:F,unregisterPanel:te}=z,ae=Hz(h),oe=K.useRef({callbacks:{onCollapse:_,onExpand:b,onResize:T},constraints:{collapsedSize:i,collapsible:s,defaultSize:u,maxSize:m,minSize:y},id:ae,idIsFromProps:h!==void 0,order:C});K.useRef({didLogMissingDefaultSizeWarning:!1}),Xh(()=>{const{callbacks:de,constraints:he}=oe.current,ue={...he};oe.current.id=ae,oe.current.idIsFromProps=h!==void 0,oe.current.order=C,de.onCollapse=_,de.onExpand=b,de.onResize=T,he.collapsedSize=i,he.collapsible=s,he.defaultSize=u,he.maxSize=m,he.minSize=y,(ue.collapsedSize!==he.collapsedSize||ue.collapsible!==he.collapsible||ue.maxSize!==he.maxSize||ue.minSize!==he.minSize)&&H(oe.current,ue)}),Xh(()=>{const de=oe.current;return V(de),()=>{te(de)}},[C,ae,V,te]),K.useImperativeHandle(d,()=>({collapse:()=>{$(oe.current)},expand:de=>{Q(oe.current,de)},getId(){return ae},getSize(){return B(oe.current)},isCollapsed(){return G(oe.current)},isExpanded(){return!G(oe.current)},resize:de=>{F(oe.current,de)}}),[$,Q,B,G,ae,F]);const fe=q(oe.current,u);return K.createElement(D,{...L,children:t,className:e,id:ae,style:{...fe,...A},[Vr.groupId]:Y,[Vr.panel]:"",[Vr.panelCollapsible]:s||void 0,[Vr.panelId]:ae,[Vr.panelSize]:parseFloat(""+fe.flexGrow).toFixed(1)})}const ple=K.forwardRef((t,e)=>K.createElement(hle,{...t,forwardedRef:e}));hle.displayName="Panel";ple.displayName="forwardRef(Panel)";let q3=null,KS=-1,_d=null;function DVe(t,e,i){const s=(e&xle)!==0,u=(e&_le)!==0,d=(e&Ole)!==0,h=(e&ble)!==0;if(e){if(s)return d?"se-resize":h?"ne-resize":"e-resize";if(u)return d?"sw-resize":h?"nw-resize":"w-resize";if(d)return"s-resize";if(h)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function IVe(){_d!==null&&(document.head.removeChild(_d),q3=null,_d=null,KS=-1)}function xL(t,e,i){var s,u;const d=DVe(t,e);if(q3!==d){if(q3=d,_d===null&&(_d=document.createElement("style"),document.head.appendChild(_d)),KS>=0){var h;(h=_d.sheet)===null||h===void 0||h.removeRule(KS)}KS=(s=(u=_d.sheet)===null||u===void 0?void 0:u.insertRule(`*{cursor: ${d} !important;}`))!==null&&s!==void 0?s:-1}}function mle(t){return t.type==="keydown"}function gle(t){return t.type.startsWith("pointer")}function vle(t){return t.type.startsWith("mouse")}function Mk(t){if(gle(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(vle(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function RVe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function LVe(t,e,i){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function NVe(t,e){if(t===e)throw new Error("Cannot compare node with itself");const i={a:mJ(t),b:mJ(e)};let s;for(;i.a.at(-1)===i.b.at(-1);)t=i.a.pop(),e=i.b.pop(),s=t;_n(s,"Stacking order can only be calculated for elements with a common ancestor");const u={a:pJ(hJ(i.a)),b:pJ(hJ(i.b))};if(u.a===u.b){const d=s.childNodes,h={a:i.a.at(-1),b:i.b.at(-1)};let m=d.length;for(;m--;){const y=d[m];if(y===h.a)return 1;if(y===h.b)return-1}}return Math.sign(u.a-u.b)}const $Ve=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function zVe(t){var e;const i=getComputedStyle((e=yle(t))!==null&&e!==void 0?e:t).display;return i==="flex"||i==="inline-flex"}function BVe(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||zVe(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||$Ve.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function hJ(t){let e=t.length;for(;e--;){const i=t[e];if(_n(i,"Missing node"),BVe(i))return i}return null}function pJ(t){return t&&Number(getComputedStyle(t).zIndex)||0}function mJ(t){const e=[];for(;t;)e.push(t),t=yle(t);return e}function yle(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const xle=1,_le=2,Ole=4,ble=8,QVe=RVe()==="coarse";let Hs=[],Bg=!1,Od=new Map,Dk=new Map;const O1=new Set;function jVe(t,e,i,s,u){var d;const{ownerDocument:h}=e,m={direction:i,element:e,hitAreaMargins:s,setResizeHandlerState:u},y=(d=Od.get(h))!==null&&d!==void 0?d:0;return Od.set(h,y+1),O1.add(m),RT(),function(){var b;Dk.delete(t),O1.delete(m);const T=(b=Od.get(h))!==null&&b!==void 0?b:1;if(Od.set(h,T-1),RT(),T===1&&Od.delete(h),Hs.includes(m)){const C=Hs.indexOf(m);C>=0&&Hs.splice(C,1),Ik(),u("up",!0,null)}}}function VVe(t){const{target:e}=t,{x:i,y:s}=Mk(t);Bg=!0,Xz({target:e,x:i,y:s}),RT(),Hs.length>0&&(LT("down",t),Ik(),t.preventDefault(),wle(e)||t.stopImmediatePropagation())}function _L(t){const{x:e,y:i}=Mk(t);if(Bg&&t.type!=="pointerleave"&&t.buttons===0&&(Bg=!1,LT("up",t)),!Bg){const{target:s}=t;Xz({target:s,x:e,y:i})}LT("move",t),Ik(),Hs.length>0&&t.preventDefault()}function OL(t){const{target:e}=t,{x:i,y:s}=Mk(t);Dk.clear(),Bg=!1,Hs.length>0&&(t.preventDefault(),wle(e)||t.stopImmediatePropagation()),LT("up",t),Xz({target:e,x:i,y:s}),Ik(),RT()}function wle(t){let e=t;for(;e;){if(e.hasAttribute(Vr.resizeHandle))return!0;e=e.parentElement}return!1}function Xz({target:t,x:e,y:i}){Hs.splice(0);let s=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(s=t),O1.forEach(u=>{const{element:d,hitAreaMargins:h}=u,m=d.getBoundingClientRect(),{bottom:y,left:_,right:b,top:T}=m,C=QVe?h.coarse:h.fine;if(e>=_-C&&e<=b+C&&i>=T-C&&i<=y+C){if(s!==null&&document.contains(s)&&d!==s&&!d.contains(s)&&!s.contains(d)&&NVe(s,d)>0){let D=s,L=!1;for(;D&&!D.contains(d);){if(LVe(D.getBoundingClientRect(),m)){L=!0;break}D=D.parentElement}if(L)return}Hs.push(u)}})}function bL(t,e){Dk.set(t,e)}function Ik(){let t=!1,e=!1;Hs.forEach(s=>{const{direction:u}=s;u==="horizontal"?t=!0:e=!0});let i=0;Dk.forEach(s=>{i|=s}),t&&e?xL("intersection",i):t?xL("horizontal",i):e?xL("vertical",i):IVe()}let wL;function RT(){var t;(t=wL)===null||t===void 0||t.abort(),wL=new AbortController;const e={capture:!0,signal:wL.signal};O1.size&&(Bg?(Hs.length>0&&Od.forEach((i,s)=>{const{body:u}=s;i>0&&(u.addEventListener("contextmenu",OL,e),u.addEventListener("pointerleave",_L,e),u.addEventListener("pointermove",_L,e))}),Od.forEach((i,s)=>{const{body:u}=s;u.addEventListener("pointerup",OL,e),u.addEventListener("pointercancel",OL,e)})):Od.forEach((i,s)=>{const{body:u}=s;i>0&&(u.addEventListener("pointerdown",VVe,e),u.addEventListener("pointermove",_L,e))}))}function LT(t,e){O1.forEach(i=>{const{setResizeHandlerState:s}=i,u=Hs.includes(i);s(t,u,e)})}function FVe(){const[t,e]=K.useState(0);return K.useCallback(()=>e(i=>i+1),[])}function _n(t,e){if(!t)throw console.error(e),Error(e)}function ap(t,e,i=Zz){return t.toFixed(i)===e.toFixed(i)?0:t>e?1:-1}function sc(t,e,i=Zz){return ap(t,e,i)===0}function Eo(t,e,i){return ap(t,e,i)===0}function GVe(t,e,i){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const u=t[s],d=e[s];if(!Eo(u,d,i))return!1}return!0}function Cg({panelConstraints:t,panelIndex:e,size:i}){const s=t[e];_n(s!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:u=0,collapsible:d,maxSize:h=100,minSize:m=0}=s;if(ap(i,m)<0)if(d){const y=(u+m)/2;ap(i,y)<0?i=u:i=m}else i=m;return i=Math.min(h,i),i=parseFloat(i.toFixed(Zz)),i}function Sx({delta:t,initialLayout:e,panelConstraints:i,pivotIndices:s,prevLayout:u,trigger:d}){if(Eo(t,0))return e;const h=[...e],[m,y]=s;_n(m!=null,"Invalid first pivot index"),_n(y!=null,"Invalid second pivot index");let _=0;if(d==="keyboard"){{const T=t<0?y:m,C=i[T];_n(C,`Panel constraints not found for index ${T}`);const{collapsedSize:A=0,collapsible:D,minSize:L=0}=C;if(D){const z=e[T];if(_n(z!=null,`Previous layout not found for panel index ${T}`),Eo(z,A)){const $=L-z;ap($,Math.abs(t))>0&&(t=t<0?0-$:$)}}}{const T=t<0?m:y,C=i[T];_n(C,`No panel constraints found for index ${T}`);const{collapsedSize:A=0,collapsible:D,minSize:L=0}=C;if(D){const z=e[T];if(_n(z!=null,`Previous layout not found for panel index ${T}`),Eo(z,L)){const $=z-A;ap($,Math.abs(t))>0&&(t=t<0?0-$:$)}}}}{const T=t<0?1:-1;let C=t<0?y:m,A=0;for(;;){const L=e[C];_n(L!=null,`Previous layout not found for panel index ${C}`);const $=Cg({panelConstraints:i,panelIndex:C,size:100})-L;if(A+=$,C+=T,C<0||C>=i.length)break}const D=Math.min(Math.abs(t),Math.abs(A));t=t<0?0-D:D}{let C=t<0?m:y;for(;C>=0&&C<i.length;){const A=Math.abs(t)-Math.abs(_),D=e[C];_n(D!=null,`Previous layout not found for panel index ${C}`);const L=D-A,z=Cg({panelConstraints:i,panelIndex:C,size:L});if(!Eo(D,z)&&(_+=D-z,h[C]=z,_.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?C--:C++}}if(GVe(u,h))return u;{const T=t<0?y:m,C=e[T];_n(C!=null,`Previous layout not found for panel index ${T}`);const A=C+_,D=Cg({panelConstraints:i,panelIndex:T,size:A});if(h[T]=D,!Eo(D,A)){let L=A-D,$=t<0?y:m;for(;$>=0&&$<i.length;){const Q=h[$];_n(Q!=null,`Previous layout not found for panel index ${$}`);const B=Q+L,q=Cg({panelConstraints:i,panelIndex:$,size:B});if(Eo(Q,q)||(L-=q-Q,h[$]=q),Eo(L,0))break;t>0?$--:$++}}}const b=h.reduce((T,C)=>C+T,0);return Eo(b,100)?h:u}function WVe({layout:t,panelsArray:e,pivotIndices:i}){let s=0,u=100,d=0,h=0;const m=i[0];_n(m!=null,"No pivot index found"),e.forEach((T,C)=>{const{constraints:A}=T,{maxSize:D=100,minSize:L=0}=A;C===m?(s=L,u=D):(d+=L,h+=D)});const y=Math.min(u,100-d),_=Math.max(s,100-h),b=t[m];return{valueMax:y,valueMin:_,valueNow:b}}function b1(t,e=document){return Array.from(e.querySelectorAll(`[${Vr.resizeHandleId}][data-panel-group-id="${t}"]`))}function Sle(t,e,i=document){const u=b1(t,i).findIndex(d=>d.getAttribute(Vr.resizeHandleId)===e);return u??null}function Tle(t,e,i){const s=Sle(t,e,i);return s!=null?[s,s+1]:[-1,-1]}function UVe(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function Cle(t,e=document){if(UVe(e)&&e.dataset.panelGroupId==t)return e;const i=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return i||null}function Rk(t,e=document){const i=e.querySelector(`[${Vr.resizeHandleId}="${t}"]`);return i||null}function qVe(t,e,i,s=document){var u,d,h,m;const y=Rk(e,s),_=b1(t,s),b=y?_.indexOf(y):-1,T=(u=(d=i[b])===null||d===void 0?void 0:d.id)!==null&&u!==void 0?u:null,C=(h=(m=i[b+1])===null||m===void 0?void 0:m.id)!==null&&h!==void 0?h:null;return[T,C]}function ZVe({committedValuesRef:t,eagerValuesRef:e,groupId:i,layout:s,panelDataArray:u,panelGroupElement:d,setLayout:h}){K.useRef({didWarnAboutMissingResizeHandle:!1}),Xh(()=>{if(!d)return;const m=b1(i,d);for(let y=0;y<u.length-1;y++){const{valueMax:_,valueMin:b,valueNow:T}=WVe({layout:s,panelsArray:u,pivotIndices:[y,y+1]}),C=m[y];if(C!=null){const A=u[y];_n(A,`No panel data found for index "${y}"`),C.setAttribute("aria-controls",A.id),C.setAttribute("aria-valuemax",""+Math.round(_)),C.setAttribute("aria-valuemin",""+Math.round(b)),C.setAttribute("aria-valuenow",T!=null?""+Math.round(T):"")}}return()=>{m.forEach((y,_)=>{y.removeAttribute("aria-controls"),y.removeAttribute("aria-valuemax"),y.removeAttribute("aria-valuemin"),y.removeAttribute("aria-valuenow")})}},[i,s,u,d]),K.useEffect(()=>{if(!d)return;const m=e.current;_n(m,"Eager values not found");const{panelDataArray:y}=m,_=Cle(i,d);_n(_!=null,`No group found for id "${i}"`);const b=b1(i,d);_n(b,`No resize handles found for group id "${i}"`);const T=b.map(C=>{const A=C.getAttribute(Vr.resizeHandleId);_n(A,"Resize handle element has no handle id attribute");const[D,L]=qVe(i,A,y,d);if(D==null||L==null)return()=>{};const z=$=>{if(!$.defaultPrevented)switch($.key){case"Enter":{$.preventDefault();const Q=y.findIndex(B=>B.id===D);if(Q>=0){const B=y[Q];_n(B,`No panel data found for index ${Q}`);const q=s[Q],{collapsedSize:Y=0,collapsible:G,minSize:H=0}=B.constraints;if(q!=null&&G){const V=Sx({delta:Eo(q,Y)?H-Y:Y-q,initialLayout:s,panelConstraints:y.map(F=>F.constraints),pivotIndices:Tle(i,A,d),prevLayout:s,trigger:"keyboard"});s!==V&&h(V)}}break}}};return C.addEventListener("keydown",z),()=>{C.removeEventListener("keydown",z)}});return()=>{T.forEach(C=>C())}},[d,t,e,i,s,u,h])}function gJ(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function kle(t,e){const i=t==="horizontal",{x:s,y:u}=Mk(e);return i?s:u}function HVe(t,e,i,s,u){const d=i==="horizontal",h=Rk(e,u);_n(h,`No resize handle element found for id "${e}"`);const m=h.getAttribute(Vr.groupId);_n(m,"Resize handle element has no group id attribute");let{initialCursorPosition:y}=s;const _=kle(i,t),b=Cle(m,u);_n(b,`No group element found for id "${m}"`);const T=b.getBoundingClientRect(),C=d?T.width:T.height;return(_-y)/C*100}function XVe(t,e,i,s,u,d){if(mle(t)){const h=i==="horizontal";let m=0;t.shiftKey?m=100:u!=null?m=u:m=10;let y=0;switch(t.key){case"ArrowDown":y=h?0:m;break;case"ArrowLeft":y=h?-m:0;break;case"ArrowRight":y=h?m:0;break;case"ArrowUp":y=h?0:-m;break;case"End":y=100;break;case"Home":y=-100;break}return y}else return s==null?0:HVe(t,e,i,s,d)}function YVe({panelDataArray:t}){const e=Array(t.length),i=t.map(d=>d.constraints);let s=0,u=100;for(let d=0;d<t.length;d++){const h=i[d];_n(h,`Panel constraints not found for index ${d}`);const{defaultSize:m}=h;m!=null&&(s++,e[d]=m,u-=m)}for(let d=0;d<t.length;d++){const h=i[d];_n(h,`Panel constraints not found for index ${d}`);const{defaultSize:m}=h;if(m!=null)continue;const y=t.length-s,_=u/y;s++,e[d]=_,u-=_}return e}function hg(t,e,i){e.forEach((s,u)=>{const d=t[u];_n(d,`Panel data not found for index ${u}`);const{callbacks:h,constraints:m,id:y}=d,{collapsedSize:_=0,collapsible:b}=m,T=i[y];if(T==null||s!==T){i[y]=s;const{onCollapse:C,onExpand:A,onResize:D}=h;D&&D(s,T),b&&(C||A)&&(A&&(T==null||sc(T,_))&&!sc(s,_)&&A(),C&&(T==null||!sc(T,_))&&sc(s,_)&&C())}})}function Fw(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0}function KVe({defaultSize:t,dragState:e,layout:i,panelData:s,panelIndex:u,precision:d=3}){const h=i[u];let m;return h==null?m=t!=null?t.toFixed(d):"1":s.length===1?m="1":m=h.toFixed(d),{flexBasis:0,flexGrow:m,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function JVe(t,e=10){let i=null;return(...u)=>{i!==null&&clearTimeout(i),i=setTimeout(()=>{t(...u)},e)}}function vJ(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,i)=>{localStorage.setItem(e,i)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Ale(t){return`react-resizable-panels:${t}`}function Ple(t){return t.map(e=>{const{constraints:i,id:s,idIsFromProps:u,order:d}=e;return u?s:d?`${d}:${JSON.stringify(i)}`:JSON.stringify(i)}).sort((e,i)=>e.localeCompare(i)).join(",")}function Ele(t,e){try{const i=Ale(t),s=e.getItem(i);if(s){const u=JSON.parse(s);if(typeof u=="object"&&u!=null)return u}}catch{}return null}function e8e(t,e,i){var s,u;const d=(s=Ele(t,i))!==null&&s!==void 0?s:{},h=Ple(e);return(u=d[h])!==null&&u!==void 0?u:null}function t8e(t,e,i,s,u){var d;const h=Ale(t),m=Ple(e),y=(d=Ele(t,u))!==null&&d!==void 0?d:{};y[m]={expandToSizes:Object.fromEntries(i.entries()),layout:s};try{u.setItem(h,JSON.stringify(y))}catch(_){console.error(_)}}function yJ({layout:t,panelConstraints:e}){const i=[...t],s=i.reduce((d,h)=>d+h,0);if(i.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${i.map(d=>`${d}%`).join(", ")}`);if(!Eo(s,100)&&i.length>0)for(let d=0;d<e.length;d++){const h=i[d];_n(h!=null,`No layout data found for index ${d}`);const m=100/s*h;i[d]=m}let u=0;for(let d=0;d<e.length;d++){const h=i[d];_n(h!=null,`No layout data found for index ${d}`);const m=Cg({panelConstraints:e,panelIndex:d,size:h});h!=m&&(u+=h-m,i[d]=m)}if(!Eo(u,0))for(let d=0;d<e.length;d++){const h=i[d];_n(h!=null,`No layout data found for index ${d}`);const m=h+u,y=Cg({panelConstraints:e,panelIndex:d,size:m});if(h!==y&&(u-=y-h,i[d]=y,Eo(u,0)))break}return i}const n8e=100,Tx={getItem:t=>(vJ(Tx),Tx.getItem(t)),setItem:(t,e)=>{vJ(Tx),Tx.setItem(t,e)}},xJ={};function Mle({autoSaveId:t=null,children:e,className:i="",direction:s,forwardedRef:u,id:d=null,onLayout:h=null,keyboardResizeBy:m=null,storage:y=Tx,style:_,tagName:b="div",...T}){const C=Hz(d),A=K.useRef(null),[D,L]=K.useState(null),[z,$]=K.useState([]),Q=FVe(),B=K.useRef({}),q=K.useRef(new Map),Y=K.useRef(0),G=K.useRef({autoSaveId:t,direction:s,dragState:D,id:C,keyboardResizeBy:m,onLayout:h,storage:y}),H=K.useRef({layout:z,panelDataArray:[],panelDataArrayChanged:!1});K.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),K.useImperativeHandle(u,()=>({getId:()=>G.current.id,getLayout:()=>{const{layout:se}=H.current;return se},setLayout:se=>{const{onLayout:Ae}=G.current,{layout:we,panelDataArray:Le}=H.current,Z=yJ({layout:se,panelConstraints:Le.map(ve=>ve.constraints)});gJ(we,Z)||($(Z),H.current.layout=Z,Ae&&Ae(Z),hg(Le,Z,B.current))}}),[]),Xh(()=>{G.current.autoSaveId=t,G.current.direction=s,G.current.dragState=D,G.current.id=C,G.current.onLayout=h,G.current.storage=y}),ZVe({committedValuesRef:G,eagerValuesRef:H,groupId:C,layout:z,panelDataArray:H.current.panelDataArray,setLayout:$,panelGroupElement:A.current}),K.useEffect(()=>{const{panelDataArray:se}=H.current;if(t){if(z.length===0||z.length!==se.length)return;let Ae=xJ[t];Ae==null&&(Ae=JVe(t8e,n8e),xJ[t]=Ae);const we=[...se],Le=new Map(q.current);Ae(t,we,Le,z,y)}},[t,z,y]),K.useEffect(()=>{});const V=K.useCallback(se=>{const{onLayout:Ae}=G.current,{layout:we,panelDataArray:Le}=H.current;if(se.constraints.collapsible){const Z=Le.map(et=>et.constraints),{collapsedSize:ve=0,panelSize:ze,pivotIndices:Qe}=Th(Le,se,we);if(_n(ze!=null,`Panel size not found for panel "${se.id}"`),!sc(ze,ve)){q.current.set(se.id,ze);const He=xg(Le,se)===Le.length-1?ze-ve:ve-ze,yt=Sx({delta:He,initialLayout:we,panelConstraints:Z,pivotIndices:Qe,prevLayout:we,trigger:"imperative-api"});Fw(we,yt)||($(yt),H.current.layout=yt,Ae&&Ae(yt),hg(Le,yt,B.current))}}},[]),F=K.useCallback((se,Ae)=>{const{onLayout:we}=G.current,{layout:Le,panelDataArray:Z}=H.current;if(se.constraints.collapsible){const ve=Z.map(Ee=>Ee.constraints),{collapsedSize:ze=0,panelSize:Qe=0,minSize:et=0,pivotIndices:He}=Th(Z,se,Le),yt=Ae??et;if(sc(Qe,ze)){const Ee=q.current.get(se.id),Ue=Ee!=null&&Ee>=yt?Ee:yt,Ge=xg(Z,se)===Z.length-1?Qe-Ue:Ue-Qe,De=Sx({delta:Ge,initialLayout:Le,panelConstraints:ve,pivotIndices:He,prevLayout:Le,trigger:"imperative-api"});Fw(Le,De)||($(De),H.current.layout=De,we&&we(De),hg(Z,De,B.current))}}},[]),te=K.useCallback(se=>{const{layout:Ae,panelDataArray:we}=H.current,{panelSize:Le}=Th(we,se,Ae);return _n(Le!=null,`Panel size not found for panel "${se.id}"`),Le},[]),ae=K.useCallback((se,Ae)=>{const{panelDataArray:we}=H.current,Le=xg(we,se);return KVe({defaultSize:Ae,dragState:D,layout:z,panelData:we,panelIndex:Le})},[D,z]),oe=K.useCallback(se=>{const{layout:Ae,panelDataArray:we}=H.current,{collapsedSize:Le=0,collapsible:Z,panelSize:ve}=Th(we,se,Ae);return _n(ve!=null,`Panel size not found for panel "${se.id}"`),Z===!0&&sc(ve,Le)},[]),fe=K.useCallback(se=>{const{layout:Ae,panelDataArray:we}=H.current,{collapsedSize:Le=0,collapsible:Z,panelSize:ve}=Th(we,se,Ae);return _n(ve!=null,`Panel size not found for panel "${se.id}"`),!Z||ap(ve,Le)>0},[]),de=K.useCallback(se=>{const{panelDataArray:Ae}=H.current;Ae.push(se),Ae.sort((we,Le)=>{const Z=we.order,ve=Le.order;return Z==null&&ve==null?0:Z==null?-1:ve==null?1:Z-ve}),H.current.panelDataArrayChanged=!0,Q()},[Q]);Xh(()=>{if(H.current.panelDataArrayChanged){H.current.panelDataArrayChanged=!1;const{autoSaveId:se,onLayout:Ae,storage:we}=G.current,{layout:Le,panelDataArray:Z}=H.current;let ve=null;if(se){const Qe=e8e(se,Z,we);Qe&&(q.current=new Map(Object.entries(Qe.expandToSizes)),ve=Qe.layout)}ve==null&&(ve=YVe({panelDataArray:Z}));const ze=yJ({layout:ve,panelConstraints:Z.map(Qe=>Qe.constraints)});gJ(Le,ze)||($(ze),H.current.layout=ze,Ae&&Ae(ze),hg(Z,ze,B.current))}}),Xh(()=>{const se=H.current;return()=>{se.layout=[]}},[]);const he=K.useCallback(se=>{let Ae=!1;const we=A.current;return we&&window.getComputedStyle(we,null).getPropertyValue("direction")==="rtl"&&(Ae=!0),function(Z){Z.preventDefault();const ve=A.current;if(!ve)return()=>null;const{direction:ze,dragState:Qe,id:et,keyboardResizeBy:He,onLayout:yt}=G.current,{layout:Ee,panelDataArray:Ue}=H.current,{initialLayout:ke}=Qe??{},Ge=Tle(et,se,ve);let De=XVe(Z,se,ze,Qe,He,ve);const Pt=ze==="horizontal";Pt&&Ae&&(De=-De);const dt=Ue.map(ut=>ut.constraints),Ze=Sx({delta:De,initialLayout:ke??Ee,panelConstraints:dt,pivotIndices:Ge,prevLayout:Ee,trigger:mle(Z)?"keyboard":"mouse-or-touch"}),nn=!Fw(Ee,Ze);(gle(Z)||vle(Z))&&Y.current!=De&&(Y.current=De,!nn&&De!==0?Pt?bL(se,De<0?xle:_le):bL(se,De<0?Ole:ble):bL(se,0)),nn&&($(Ze),H.current.layout=Ze,yt&&yt(Ze),hg(Ue,Ze,B.current))}},[]),ue=K.useCallback((se,Ae)=>{const{onLayout:we}=G.current,{layout:Le,panelDataArray:Z}=H.current,ve=Z.map(Ee=>Ee.constraints),{panelSize:ze,pivotIndices:Qe}=Th(Z,se,Le);_n(ze!=null,`Panel size not found for panel "${se.id}"`);const He=xg(Z,se)===Z.length-1?ze-Ae:Ae-ze,yt=Sx({delta:He,initialLayout:Le,panelConstraints:ve,pivotIndices:Qe,prevLayout:Le,trigger:"imperative-api"});Fw(Le,yt)||($(yt),H.current.layout=yt,we&&we(yt),hg(Z,yt,B.current))},[]),ne=K.useCallback((se,Ae)=>{const{layout:we,panelDataArray:Le}=H.current,{collapsedSize:Z=0,collapsible:ve}=Ae,{collapsedSize:ze=0,collapsible:Qe,maxSize:et=100,minSize:He=0}=se.constraints,{panelSize:yt}=Th(Le,se,we);yt!=null&&(ve&&Qe&&sc(yt,Z)?sc(Z,ze)||ue(se,ze):yt<He?ue(se,He):yt>et&&ue(se,et))},[ue]),me=K.useCallback((se,Ae)=>{const{direction:we}=G.current,{layout:Le}=H.current;if(!A.current)return;const Z=Rk(se,A.current);_n(Z,`Drag handle element not found for id "${se}"`);const ve=kle(we,Ae);L({dragHandleId:se,dragHandleRect:Z.getBoundingClientRect(),initialCursorPosition:ve,initialLayout:Le})},[]),ge=K.useCallback(()=>{L(null)},[]),ee=K.useCallback(se=>{const{panelDataArray:Ae}=H.current,we=xg(Ae,se);we>=0&&(Ae.splice(we,1),delete B.current[se.id],H.current.panelDataArrayChanged=!0,Q())},[Q]),be=K.useMemo(()=>({collapsePanel:V,direction:s,dragState:D,expandPanel:F,getPanelSize:te,getPanelStyle:ae,groupId:C,isPanelCollapsed:oe,isPanelExpanded:fe,reevaluatePanelConstraints:ne,registerPanel:de,registerResizeHandle:he,resizePanel:ue,startDragging:me,stopDragging:ge,unregisterPanel:ee,panelGroupElement:A.current}),[V,D,s,F,te,ae,C,oe,fe,ne,de,he,ue,me,ge,ee]),Me={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return K.createElement(Ek.Provider,{value:be},K.createElement(b,{...T,children:e,className:i,id:d,ref:A,style:{...Me,..._},[Vr.group]:"",[Vr.groupDirection]:s,[Vr.groupId]:C}))}const Dle=K.forwardRef((t,e)=>K.createElement(Mle,{...t,forwardedRef:e}));Mle.displayName="PanelGroup";Dle.displayName="forwardRef(PanelGroup)";function xg(t,e){return t.findIndex(i=>i===e||i.id===e.id)}function Th(t,e,i){const s=xg(t,e),d=s===t.length-1?[s-1,s]:[s,s+1],h=i[s];return{...e.constraints,panelSize:h,pivotIndices:d}}function r8e({disabled:t,handleId:e,resizeHandler:i,panelGroupElement:s}){K.useEffect(()=>{if(t||i==null||s==null)return;const u=Rk(e,s);if(u==null)return;const d=h=>{if(!h.defaultPrevented)switch(h.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{h.preventDefault(),i(h);break}case"F6":{h.preventDefault();const m=u.getAttribute(Vr.groupId);_n(m,`No group element found for id "${m}"`);const y=b1(m,s),_=Sle(m,e,s);_n(_!==null,`No resize element found for id "${e}"`);const b=h.shiftKey?_>0?_-1:y.length-1:_+1<y.length?_+1:0;y[b].focus();break}}};return u.addEventListener("keydown",d),()=>{u.removeEventListener("keydown",d)}},[s,t,e,i])}function Ile({children:t=null,className:e="",disabled:i=!1,hitAreaMargins:s,id:u,onBlur:d,onClick:h,onDragging:m,onFocus:y,onPointerDown:_,onPointerUp:b,style:T={},tabIndex:C=0,tagName:A="div",...D}){var L,z;const $=K.useRef(null),Q=K.useRef({onClick:h,onDragging:m,onPointerDown:_,onPointerUp:b});K.useEffect(()=>{Q.current.onClick=h,Q.current.onDragging=m,Q.current.onPointerDown=_,Q.current.onPointerUp=b});const B=K.useContext(Ek);if(B===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:q,groupId:Y,registerResizeHandle:G,startDragging:H,stopDragging:V,panelGroupElement:F}=B,te=Hz(u),[ae,oe]=K.useState("inactive"),[fe,de]=K.useState(!1),[he,ue]=K.useState(null),ne=K.useRef({state:ae});Xh(()=>{ne.current.state=ae}),K.useEffect(()=>{if(i)ue(null);else{const be=G(te);ue(()=>be)}},[i,te,G]);const me=(L=s?.coarse)!==null&&L!==void 0?L:15,ge=(z=s?.fine)!==null&&z!==void 0?z:5;K.useEffect(()=>{if(i||he==null)return;const be=$.current;_n(be,"Element ref not attached");let Me=!1;return jVe(te,be,q,{coarse:me,fine:ge},(Ae,we,Le)=>{if(!we){oe("inactive");return}switch(Ae){case"down":{oe("drag"),Me=!1,_n(Le,'Expected event to be defined for "down" action'),H(te,Le);const{onDragging:Z,onPointerDown:ve}=Q.current;Z?.(!0),ve?.();break}case"move":{const{state:Z}=ne.current;Me=!0,Z!=="drag"&&oe("hover"),_n(Le,'Expected event to be defined for "move" action'),he(Le);break}case"up":{oe("hover"),V();const{onClick:Z,onDragging:ve,onPointerUp:ze}=Q.current;ve?.(!1),ze?.(),Me||Z?.();break}}})},[me,q,i,ge,G,te,he,H,V]),r8e({disabled:i,handleId:te,resizeHandler:he,panelGroupElement:F});const ee={touchAction:"none",userSelect:"none"};return K.createElement(A,{...D,children:t,className:e,id:u,onBlur:()=>{de(!1),d?.()},onFocus:()=>{de(!0),y?.()},ref:$,role:"separator",style:{...ee,...T},tabIndex:C,[Vr.groupDirection]:q,[Vr.groupId]:Y,[Vr.resizeHandle]:"",[Vr.resizeHandleActive]:ae==="drag"?"pointer":fe?"keyboard":void 0,[Vr.resizeHandleEnabled]:!i,[Vr.resizeHandleId]:te,[Vr.resizeHandleState]:ae})}Ile.displayName="PanelResizeHandle";const i8e=({className:t,...e})=>I.jsx(Dle,{className:We("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),Rle=ple,a8e=({withHandle:t,className:e,...i})=>I.jsx(Ile,{className:We("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...i,children:t&&I.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:I.jsx(Zje,{className:"h-2.5 w-2.5"})})}),Lle=K.createContext(null);function Yz(){const t=K.useContext(Lle);if(!t)throw new Error("ChatLayout components must be used within <ChatLayout />");return t}const o8e=({className:t,children:e,isSecondaryPanelVisible:i=!1,...s})=>{const{state:u}=jBe();return I.jsx(Lle.Provider,{value:{isSecondaryPanelVisible:i},children:I.jsx(i8e,{className:We("@container flex h-dvh max-h-dvh w-full min-w-0 max-w-screen flex-col bg-background md:max-w-[calc(100vw-var(--sidebar-width))]",u==="collapsed"&&"md:max-w-screen",t),direction:"horizontal",...s,children:e})})},s8e=({className:t,defaultSize:e=65,minSize:i=40,...s})=>{const{isSecondaryPanelVisible:u}=Yz();return I.jsx(Rle,{className:We(u&&"hidden md:block",t),defaultSize:e,minSize:i,...s})},l8e=({defaultSize:t=35,minSize:e=25,...i})=>{const{isSecondaryPanelVisible:s}=Yz();return s?I.jsx(Rle,{defaultSize:t,minSize:e,...i}):null},u8e=({className:t,withHandle:e=!0,...i})=>{const{isSecondaryPanelVisible:s}=Yz();return s?I.jsx(a8e,{className:We("hidden md:flex",t),withHandle:e,...i}):null},c8e=({size:t=16})=>I.jsxs("svg",{strokeLinejoin:"round",style:{color:"currentcolor",width:t,height:t},viewBox:"0 0 16 16",children:[I.jsx("title",{children:"Git"}),I.jsx("g",{clipPath:"url(#clip0_872_3147)",children:I.jsx("path",{clipRule:"evenodd",d:"M8 0C3.58 0 0 3.57879 0 7.99729C0 11.5361 2.29 14.5251 5.47 15.5847C5.87 15.6547 6.02 15.4148 6.02 15.2049C6.02 15.0149 6.01 14.3851 6.01 13.7154C4 14.0852 3.48 13.2255 3.32 12.7757C3.23 12.5458 2.84 11.836 2.5 11.6461C2.22 11.4961 1.82 11.1262 2.49 11.1162C3.12 11.1062 3.57 11.696 3.72 11.936C4.44 13.1455 5.59 12.8057 6.05 12.5957C6.12 12.0759 6.33 11.726 6.56 11.5261C4.78 11.3262 2.92 10.6364 2.92 7.57743C2.92 6.70773 3.23 5.98797 3.74 5.42816C3.66 5.22823 3.38 4.40851 3.82 3.30888C3.82 3.30888 4.49 3.09895 6.02 4.1286C6.66 3.94866 7.34 3.85869 8.02 3.85869C8.7 3.85869 9.38 3.94866 10.02 4.1286C11.55 3.08895 12.22 3.30888 12.22 3.30888C12.66 4.40851 12.38 5.22823 12.3 5.42816C12.81 5.98797 13.12 6.69773 13.12 7.57743C13.12 10.6464 11.25 11.3262 9.47 11.5261C9.76 11.776 10.01 12.2558 10.01 13.0056C10.01 14.0752 10 14.9349 10 15.2049C10 15.4148 10.15 15.6647 10.55 15.5847C12.1381 15.0488 13.5182 14.0284 14.4958 12.6673C15.4735 11.3062 15.9996 9.67293 16 7.99729C16 3.57879 12.42 0 8 0Z",fill:"currentColor",fillRule:"evenodd"})}),I.jsx("defs",{children:I.jsx("clipPath",{id:"clip0_872_3147",children:I.jsx("rect",{fill:"white",height:"16",width:"16"})})})]}),d8e=({size:t=16})=>I.jsxs("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:[I.jsx("title",{children:"Summarize"}),I.jsx("path",{clipRule:"evenodd",d:"M1.75 12H1V10.5H1.75H5.25H6V12H5.25H1.75ZM1.75 7.75H1V6.25H1.75H4.25H5V7.75H4.25H1.75ZM1.75 3.5H1V2H1.75H7.25H8V3.5H7.25H1.75ZM12.5303 14.7803C12.2374 15.0732 11.7626 15.0732 11.4697 14.7803L9.21967 12.5303L8.68934 12L9.75 10.9393L10.2803 11.4697L11.25 12.4393V2.75V2H12.75V2.75V12.4393L13.7197 11.4697L14.25 10.9393L15.3107 12L14.7803 12.5303L12.5303 14.7803Z",fill:"currentColor",fillRule:"evenodd"})]});function f8e(){const{data:t}=Ia(),e=t?.user,i=Rse();return I.jsxs("div",{className:"flex items-center gap-2",children:[!e&&I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsxs(xn,{className:"h-8 px-3",onClick:()=>{i.push("/login"),i.refresh()},size:"sm",variant:"outline",children:[I.jsx(Nse,{className:"mr-2 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Sign in"})]})}),I.jsx(ps,{children:"Sign in to your account"})]}),I.jsx(xn,{asChild:!0,size:"icon",type:"button",variant:"ghost",children:I.jsx("a",{className:"flex items-center justify-center",href:Ka.githubUrl,rel:"noopener noreferrer",target:"_blank",children:I.jsx(c8e,{size:20})})})]})}const h8e=K.memo(f8e),Nle=K.forwardRef(({...t},e)=>I.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));Nle.displayName="Breadcrumb";const $le=K.forwardRef(({className:t,...e},i)=>I.jsx("ol",{ref:i,className:We("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));$le.displayName="BreadcrumbList";const Kz=K.forwardRef(({className:t,...e},i)=>I.jsx("li",{ref:i,className:We("inline-flex items-center gap-1.5",t),...e}));Kz.displayName="BreadcrumbItem";const zle=K.forwardRef(({asChild:t,className:e,...i},s)=>{const u=t?FBe:"a";return I.jsx(u,{ref:s,className:We("transition-colors hover:text-foreground",e),...i})});zle.displayName="BreadcrumbLink";const Ble=K.forwardRef(({className:t,...e},i)=>I.jsx("span",{ref:i,role:"link","aria-disabled":"true","aria-current":"page",className:We("font-normal text-foreground",t),...e}));Ble.displayName="BreadcrumbPage";const Qle=({children:t,className:e,...i})=>I.jsx("li",{role:"presentation","aria-hidden":"true",className:We("[&>svg]:w-3.5 [&>svg]:h-3.5",e),...i,children:t??I.jsx(Gz,{})});Qle.displayName="BreadcrumbSeparator";function p8e(t){return{...t,createdAt:t.createdAt instanceof Date?t.createdAt:new Date(t.createdAt),updatedAt:t.updatedAt instanceof Date?t.updatedAt:new Date(t.updatedAt)}}function m8e(t){return{...t,metadata:{...t.metadata,createdAt:t.metadata.createdAt instanceof Date?t.metadata.createdAt:new Date(t.metadata.createdAt)}}}function g8e(t,{enabled:e}={}){return Cp({queryKey:IT.publicChat(t),queryFn:async()=>{const i=await dQe({chatId:t});return p8e(i)},enabled:e??!0})}function VSt(t){return Cp({queryKey:IT.publicMessages(t),queryFn:async()=>(await jse({chatId:t})).map(m8e),enabled:!!t})}function v8e({chatId:t,projectId:e,user:i,isReadonly:s,hasMessages:u,className:d}){const{id:h,isPersisted:m,source:y}=xk(),_=y==="share",b=!!i,{data:T}=fQe(h,{enabled:!_&&m}),{data:C}=g8e(h,{enabled:_}),A=T?.projectId??C?.projectId??null,{data:D,isFetching:L}=hQe(A,{enabled:b&&!!A}),z=T?.title??C?.title??"",$=!z,Q=A?D?.name??(L?"Loading project…":void 0):void 0,[B,q]=K.useState(!1),[Y,G]=K.useState(""),[H,V]=K.useState(null),[F,te]=K.useState(!1),[ae,oe]=K.useState(!1),{mutate:fe}=pQe(),{mutateAsync:de}=Vse();if(O8e({isEditing:B,setDraft:G,value:T?.title}),!(T||C))return null;const he=!s&&!!T,ue=()=>{fe({chatId:h,isPinned:!T?.isPinned})},ne=()=>x8e({chatId:h,chatTitleDraft:Y,privateChat:T,renameChat:de,setChatTitleDraft:G,setIsChatEditing:q}),me=_8e({onEnter:()=>{ne().catch(()=>{})},onEscape:()=>{q(!1),G(T?.title??"")}}),ge=()=>{V(h),te(!0)},ee=()=>{q(!0),G(T?.title??"")};return $?null:I.jsxs(I.Fragment,{children:[I.jsx(Nle,{className:We("min-w-0",d),children:I.jsxs($le,{className:"flex-nowrap",children:[I.jsx(b8e,{projectColor:D?.iconColor,projectIcon:D?.icon,projectId:A,projectLabel:Q}),I.jsx(Kz,{className:"min-w-0",children:I.jsx(y8e,{canManageChat:he,chatLabel:z,chatTitleDraft:Y,handleChatInputKeyDown:me,handleChatRename:ne,isChatEditing:B,isPinned:!!T?.isPinned,onChatTitleChange:be=>G(be),onShare:()=>oe(!0),onTogglePin:ue,openChatDeleteDialog:ge,showShare:!!u,startChatRename:ee})})]})}),I.jsx(KBe,{deleteId:H,setShowDeleteDialog:te,showDeleteDialog:F}),I.jsx($se,{chatId:h,onOpenChange:oe,open:ae})]})}const y8e=K.memo(function({canManageChat:e,chatLabel:i,chatTitleDraft:s,handleChatInputKeyDown:u,handleChatRename:d,isChatEditing:h,isPinned:m,onChatTitleChange:y,onShare:_,onTogglePin:b,openChatDeleteDialog:T,showShare:C,startChatRename:A}){return h?I.jsx(Qse,{autoFocus:!0,className:"h-7 w-[220px] bg-background px-2 py-1 text-sm",maxLength:255,onBlur:d,onChange:D=>y(D.target.value),onKeyDown:u,value:s}):e?I.jsxs(y_,{children:[I.jsx(x_,{asChild:!0,children:I.jsxs("button",{className:"group flex min-w-0 items-center gap-1.5 rounded-md border border-transparent bg-transparent px-2 py-1 font-medium text-foreground text-sm transition hover:bg-muted focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",type:"button",children:[I.jsx("span",{className:"truncate",children:i}),I.jsx(O_,{"aria-hidden":!0,className:"size-4 shrink-0 text-muted-foreground"})]})}),I.jsx(__,{align:"end",children:I.jsx(JBe,{isPinned:m,onDelete:T,onRename:A,onShare:_,onTogglePin:b,showShare:C})})]}):I.jsx(Ble,{children:i})});async function x8e({chatId:t,chatTitleDraft:e,privateChat:i,renameChat:s,setChatTitleDraft:u,setIsChatEditing:d}){if(!i){d(!1);return}const h=e.trim();if(!h||h===i.title){d(!1),u(i.title??"");return}try{await s({chatId:t,title:h}),En.success("Chat renamed successfully")}catch{}finally{d(!1)}}function _8e({onEnter:t,onEscape:e}){return i=>{if(i.key==="Enter"){t();return}i.key==="Escape"&&e()}}function O8e({isEditing:t,setDraft:e,value:i}){K.useEffect(()=>{t||e(i??"")},[t,e,i])}function b8e({projectLabel:t,projectId:e,projectIcon:i,projectColor:s}){return t&&e?I.jsxs(I.Fragment,{children:[I.jsx(Kz,{children:I.jsx(zle,{"aria-label":t,className:"flex items-center",href:`/project/${e}`,title:t,children:i&&s?I.jsx(zse,{color:s,icon:i,size:16}):t})}),I.jsx(Qle,{})]}):null}function w8e({chatId:t,isReadonly:e,hasMessages:i,projectId:s,user:u,className:d}){return I.jsxs("header",{className:We("sticky top-0 flex items-center justify-between gap-2 bg-background px-2 py-1.5 md:px-2",d),children:[I.jsxs("div",{className:"flex flex-1 items-center justify-between gap-2 overflow-hidden",children:[I.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[I.jsx(VBe,{className:"md:hidden"}),I.jsx(v8e,{chatId:t,className:"ml-2",hasMessages:i,isReadonly:e,projectId:s,user:u})]}),!e&&i&&I.jsx(eQe,{chatId:t,className:"hidden md:flex"}),e&&I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsxs("div",{className:"flex items-center gap-1.5 rounded-md bg-muted/50 px-2 py-1 text-muted-foreground text-sm",children:[I.jsx(tQe,{className:"opacity-70",size:14}),I.jsx("span",{children:"Shared"})]})}),I.jsx(ps,{children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"font-medium",children:"Shared Chat"}),I.jsx("div",{className:"mt-1 text-muted-foreground text-xs",children:"This is a shared chat"})]})})]})]}),I.jsx(h8e,{})]})}const S8e=K.memo(w8e),_J=t=>{let e;const i=new Set,s=(_,b)=>{const T=typeof _=="function"?_(e):_;if(!Object.is(T,e)){const C=e;e=b??(typeof T!="object"||T===null)?T:Object.assign({},e,T),i.forEach(A=>A(e,C))}},u=()=>e,m={setState:s,getState:u,getInitialState:()=>y,subscribe:_=>(i.add(_),()=>i.delete(_))},y=e=t(s,u,m);return m},jle=(t=>t?_J(t):_J),T8e=t=>t;function Vle(t,e=T8e){const i=mt.useSyncExternalStore(t.subscribe,mt.useCallback(()=>e(t.getState()),[t,e]),mt.useCallback(()=>e(t.getInitialState()),[t,e]));return mt.useDebugValue(i),i}const OJ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,RWSDK_ENV:"client",SSR:!1},bJ=t=>!!t.dispatchFromDevtools&&typeof t.dispatch=="function",w1=new Map,Gw=t=>{const e=w1.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([i,s])=>[i,s.getState()])):{}},C8e=(t,e,i)=>{if(t===void 0)return{type:"untracked",connection:e.connect(i)};const s=w1.get(i.name);if(s)return{type:"tracked",store:t,...s};const u={connection:e.connect(i),stores:{}};return w1.set(i.name,u),{type:"tracked",store:t,...u}},k8e=(t,e)=>{if(e===void 0)return;const i=w1.get(t);i&&(delete i.stores[e],Object.keys(i.stores).length===0&&w1.delete(t))},A8e=t=>{var e,i;if(!t)return;const s=t.split(`
`),u=s.findIndex(h=>h.includes("api.setState"));if(u<0)return;const d=((e=s[u+1])==null?void 0:e.trim())||"";return(i=/.+ (.+) .+/.exec(d))==null?void 0:i[1]},P8e=(t,e={})=>(i,s,u)=>{const{enabled:d,anonymousActionType:h,store:m,...y}=e;let _;try{_=(d??(OJ?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!_)return t(i,s,u);const{connection:b,...T}=C8e(m,_,y);let C=!0;u.setState=((L,z,$)=>{const Q=i(L,z);if(!C)return Q;const B=$===void 0?{type:h||A8e(new Error().stack)||"anonymous"}:typeof $=="string"?{type:$}:$;return m===void 0?(b?.send(B,s()),Q):(b?.send({...B,type:`${m}/${B.type}`},{...Gw(y.name),[m]:u.getState()}),Q)}),u.devtools={cleanup:()=>{b&&typeof b.unsubscribe=="function"&&b.unsubscribe(),k8e(y.name,m)}};const A=(...L)=>{const z=C;C=!1,i(...L),C=z},D=t(u.setState,s,u);if(T.type==="untracked"?b?.init(D):(T.stores[T.store]=u,b?.init(Object.fromEntries(Object.entries(T.stores).map(([L,z])=>[L,L===T.store?D:z.getState()])))),bJ(u)){let L=!1;const z=u.dispatch;u.dispatch=(...$)=>{(OJ?"production":void 0)!=="production"&&$[0].type==="__setState"&&!L&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),L=!0),z(...$)}}return b.subscribe(L=>{var z;switch(L.type){case"ACTION":if(typeof L.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return SL(L.payload,$=>{if($.type==="__setState"){if(m===void 0){A($.state);return}Object.keys($.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Q=$.state[m];if(Q==null)return;JSON.stringify(u.getState())!==JSON.stringify(Q)&&A(Q);return}bJ(u)&&u.dispatch($)});case"DISPATCH":switch(L.payload.type){case"RESET":return A(D),m===void 0?b?.init(u.getState()):b?.init(Gw(y.name));case"COMMIT":if(m===void 0){b?.init(u.getState());return}return b?.init(Gw(y.name));case"ROLLBACK":return SL(L.state,$=>{if(m===void 0){A($),b?.init(u.getState());return}A($[m]),b?.init(Gw(y.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return SL(L.state,$=>{if(m===void 0){A($);return}JSON.stringify(u.getState())!==JSON.stringify($[m])&&A($[m])});case"IMPORT_STATE":{const{nextLiftedState:$}=L.payload,Q=(z=$.computedStates.slice(-1)[0])==null?void 0:z.state;if(!Q)return;A(m===void 0?Q:Q[m]),b?.send(null,$);return}case"PAUSE_RECORDING":return C=!C}return}}),D},Fle=P8e,SL=(t,e)=>{let i;try{i=JSON.parse(t)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}i!==void 0&&e(i)},E8e=t=>(e,i,s)=>{const u=s.subscribe;return s.subscribe=((h,m,y)=>{let _=h;if(m){const b=y?.equalityFn||Object.is;let T=h(s.getState());_=C=>{const A=h(C);if(!b(T,A)){const D=T;m(T=A,D)}},y?.fireImmediately&&m(T,T)}return u(_)}),t(e,i,s)},Gle=E8e,wJ=t=>Symbol.iterator in t,SJ=t=>"entries"in t,TJ=(t,e)=>{const i=t instanceof Map?t:new Map(t.entries()),s=e instanceof Map?e:new Map(e.entries());if(i.size!==s.size)return!1;for(const[u,d]of i)if(!s.has(u)||!Object.is(d,s.get(u)))return!1;return!0},M8e=(t,e)=>{const i=t[Symbol.iterator](),s=e[Symbol.iterator]();let u=i.next(),d=s.next();for(;!u.done&&!d.done;){if(!Object.is(u.value,d.value))return!1;u=i.next(),d=s.next()}return!!u.done&&!!d.done};function T_(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:wJ(t)&&wJ(e)?SJ(t)&&SJ(e)?TJ(t,e):M8e(t,e):TJ({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function D8e(t){const e=mt.useRef(void 0);return i=>{const s=t(i);return T_(e.current,s)?e.current:e.current=s}}var Wle="vercel.ai.error",I8e=Symbol.for(Wle),CJ,kJ,Qd=class Ule extends(kJ=Error,CJ=I8e,kJ){constructor({name:e,message:i,cause:s}){super(i),this[CJ]=!0,this.name=e,this.cause=s}static isInstance(e){return Ule.hasMarker(e,Wle)}static hasMarker(e,i){const s=Symbol.for(i);return e!=null&&typeof e=="object"&&s in e&&typeof e[s]=="boolean"&&e[s]===!0}};function qle(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var Zle="AI_InvalidArgumentError",Hle=`vercel.ai.error.${Zle}`,R8e=Symbol.for(Hle),AJ,PJ,L8e=class extends(PJ=Qd,AJ=R8e,PJ){constructor({message:t,cause:e,argument:i}){super({name:Zle,message:t,cause:e}),this[AJ]=!0,this.argument=i}static isInstance(t){return Qd.hasMarker(t,Hle)}},Xle="AI_JSONParseError",Yle=`vercel.ai.error.${Xle}`,N8e=Symbol.for(Yle),EJ,MJ,DJ=class extends(MJ=Qd,EJ=N8e,MJ){constructor({text:t,cause:e}){super({name:Xle,message:`JSON parsing failed: Text: ${t}.
Error message: ${qle(e)}`,cause:e}),this[EJ]=!0,this.text=t}static isInstance(t){return Qd.hasMarker(t,Yle)}},Kle="AI_TypeValidationError",Jle=`vercel.ai.error.${Kle}`,$8e=Symbol.for(Jle),IJ,RJ,rv=class Z3 extends(RJ=Qd,IJ=$8e,RJ){constructor({value:e,cause:i}){super({name:Kle,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${qle(i)}`,cause:i}),this[IJ]=!0,this.value=e}static isInstance(e){return Qd.hasMarker(e,Jle)}static wrap({value:e,cause:i}){return Z3.isInstance(i)&&i.value===e?i:new Z3({value:e,cause:i})}},S1;(function(t){t.assertEqual=u=>{};function e(u){}t.assertIs=e;function i(u){throw new Error}t.assertNever=i,t.arrayToEnum=u=>{const d={};for(const h of u)d[h]=h;return d},t.getValidEnumValues=u=>{const d=t.objectKeys(u).filter(m=>typeof u[u[m]]!="number"),h={};for(const m of d)h[m]=u[m];return t.objectValues(h)},t.objectValues=u=>t.objectKeys(u).map(function(d){return u[d]}),t.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const d=[];for(const h in u)Object.prototype.hasOwnProperty.call(u,h)&&d.push(h);return d},t.find=(u,d)=>{for(const h of u)if(d(h))return h},t.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&Number.isFinite(u)&&Math.floor(u)===u;function s(u,d=" | "){return u.map(h=>typeof h=="string"?`'${h}'`:h).join(d)}t.joinValues=s,t.jsonStringifyReplacer=(u,d)=>typeof d=="bigint"?d.toString():d})(S1||(S1={}));var LJ;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(LJ||(LJ={}));S1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);S1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class NT extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){const i=e||function(d){return d.message},s={_errors:[]},u=d=>{for(const h of d.issues)if(h.code==="invalid_union")h.unionErrors.map(u);else if(h.code==="invalid_return_type")u(h.returnTypeError);else if(h.code==="invalid_arguments")u(h.argumentsError);else if(h.path.length===0)s._errors.push(i(h));else{let m=s,y=0;for(;y<h.path.length;){const _=h.path[y];y===h.path.length-1?(m[_]=m[_]||{_errors:[]},m[_]._errors.push(i(h))):m[_]=m[_]||{_errors:[]},m=m[_],y++}}};return u(this),s}static assert(e){if(!(e instanceof NT))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,S1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){const i=Object.create(null),s=[];for(const u of this.issues)if(u.path.length>0){const d=u.path[0];i[d]=i[d]||[],i[d].push(e(u))}else s.push(e(u));return{formErrors:s,fieldErrors:i}}get formErrors(){return this.flatten()}}NT.create=t=>new NT(t);var NJ;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(NJ||(NJ={}));var dn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(dn||(dn={}));var C_=({prefix:t,size:e=16,alphabet:i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:s="-"}={})=>{const u=()=>{const d=i.length,h=new Array(e);for(let m=0;m<e;m++)h[m]=i[Math.random()*d|0];return h.join("")};if(t==null)return u;if(i.includes(s))throw new L8e({argument:"separator",message:`The separator "${s}" must not be part of the alphabet "${i}".`});return()=>`${t}${s}${u()}`},z8e=C_();function $J(t=globalThis){var e,i,s;return t.window?"runtime/browser":(e=t.navigator)!=null&&e.userAgent?`runtime/${t.navigator.userAgent.toLowerCase()}`:(s=(i=t.process)==null?void 0:i.versions)!=null&&s.node?`runtime/node.js/${t.process.version.substring(0)}`:t.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Mh(t){if(t==null)return{};const e={};if(t instanceof Headers)t.forEach((i,s)=>{e[s.toLowerCase()]=i});else{Array.isArray(t)||(t=Object.entries(t));for(const[i,s]of t)s!=null&&(e[i.toLowerCase()]=s)}return e}function zJ(t,...e){const i=new Headers(Mh(t)),s=i.get("user-agent")||"";return i.set("user-agent",[s,...e].filter(Boolean).join(" ")),Object.fromEntries(i.entries())}var B8e=/"__proto__"\s*:/,Q8e=/"constructor"\s*:/;function BJ(t){const e=JSON.parse(t);return e===null||typeof e!="object"||B8e.test(t)===!1&&Q8e.test(t)===!1?e:j8e(e)}function j8e(t){let e=[t];for(;e.length;){const i=e;e=[];for(const s of i){if(Object.prototype.hasOwnProperty.call(s,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const u in s){const d=s[u];d&&typeof d=="object"&&e.push(d)}}}return t}function V8e(t){const{stackTraceLimit:e}=Error;try{Error.stackTraceLimit=0}catch{return BJ(t)}try{return BJ(t)}finally{Error.stackTraceLimit=e}}function JS(t){if(t.type==="object"){t.additionalProperties=!1;const e=t.properties;if(e!=null)for(const i in e)e[i]=JS(e[i])}return t.type==="array"&&t.items!=null&&(Array.isArray(t.items)?t.items=t.items.map(e=>JS(e)):t.items=JS(t.items)),t}var F8e=Symbol("Let zodToJsonSchema decide on which parser to use"),QJ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},G8e=t=>typeof t=="string"?{...QJ,name:t}:{...QJ,...t};function Lo(){return{}}function W8e(t,e){var i,s,u;const d={type:"array"};return(i=t.type)!=null&&i._def&&((u=(s=t.type)==null?void 0:s._def)==null?void 0:u.typeName)!==dn.ZodAny&&(d.items=nr(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&(d.minItems=t.minLength.value),t.maxLength&&(d.maxItems=t.maxLength.value),t.exactLength&&(d.minItems=t.exactLength.value,d.maxItems=t.exactLength.value),d}function U8e(t){const e={type:"integer",format:"int64"};if(!t.checks)return e;for(const i of t.checks)switch(i.kind){case"min":i.inclusive?e.minimum=i.value:e.exclusiveMinimum=i.value;break;case"max":i.inclusive?e.maximum=i.value:e.exclusiveMaximum=i.value;break;case"multipleOf":e.multipleOf=i.value;break}return e}function q8e(){return{type:"boolean"}}function eue(t,e){return nr(t.type._def,e)}var Z8e=(t,e)=>nr(t.innerType._def,e);function tue(t,e,i){const s=i??e.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((u,d)=>tue(t,e,u))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return H8e(t)}}var H8e=t=>{const e={type:"integer",format:"unix-time"};for(const i of t.checks)switch(i.kind){case"min":e.minimum=i.value;break;case"max":e.maximum=i.value;break}return e};function X8e(t,e){return{...nr(t.innerType._def,e),default:t.defaultValue()}}function Y8e(t,e){return e.effectStrategy==="input"?nr(t.schema._def,e):Lo()}function K8e(t){return{type:"string",enum:Array.from(t.values)}}var J8e=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function eFe(t,e){const i=[nr(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),nr(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(u=>!!u),s=[];return i.forEach(u=>{if(J8e(u))s.push(...u.allOf);else{let d=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:h,...m}=u;d=m}s.push(d)}}),s.length?{allOf:s}:void 0}function tFe(t){const e=typeof t.value;return e!=="bigint"&&e!=="number"&&e!=="boolean"&&e!=="string"?{type:Array.isArray(t.value)?"array":"object"}:{type:e==="bigint"?"integer":e,const:t.value}}var TL=void 0,Bs={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(TL===void 0&&(TL=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),TL),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function nue(t,e){const i={type:"string"};if(t.checks)for(const s of t.checks)switch(s.kind){case"min":i.minLength=typeof i.minLength=="number"?Math.max(i.minLength,s.value):s.value;break;case"max":i.maxLength=typeof i.maxLength=="number"?Math.min(i.maxLength,s.value):s.value;break;case"email":switch(e.emailStrategy){case"format:email":Qs(i,"email",s.message,e);break;case"format:idn-email":Qs(i,"idn-email",s.message,e);break;case"pattern:zod":wa(i,Bs.email,s.message,e);break}break;case"url":Qs(i,"uri",s.message,e);break;case"uuid":Qs(i,"uuid",s.message,e);break;case"regex":wa(i,s.regex,s.message,e);break;case"cuid":wa(i,Bs.cuid,s.message,e);break;case"cuid2":wa(i,Bs.cuid2,s.message,e);break;case"startsWith":wa(i,RegExp(`^${CL(s.value,e)}`),s.message,e);break;case"endsWith":wa(i,RegExp(`${CL(s.value,e)}$`),s.message,e);break;case"datetime":Qs(i,"date-time",s.message,e);break;case"date":Qs(i,"date",s.message,e);break;case"time":Qs(i,"time",s.message,e);break;case"duration":Qs(i,"duration",s.message,e);break;case"length":i.minLength=typeof i.minLength=="number"?Math.max(i.minLength,s.value):s.value,i.maxLength=typeof i.maxLength=="number"?Math.min(i.maxLength,s.value):s.value;break;case"includes":{wa(i,RegExp(CL(s.value,e)),s.message,e);break}case"ip":{s.version!=="v6"&&Qs(i,"ipv4",s.message,e),s.version!=="v4"&&Qs(i,"ipv6",s.message,e);break}case"base64url":wa(i,Bs.base64url,s.message,e);break;case"jwt":wa(i,Bs.jwt,s.message,e);break;case"cidr":{s.version!=="v6"&&wa(i,Bs.ipv4Cidr,s.message,e),s.version!=="v4"&&wa(i,Bs.ipv6Cidr,s.message,e);break}case"emoji":wa(i,Bs.emoji(),s.message,e);break;case"ulid":{wa(i,Bs.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Qs(i,"binary",s.message,e);break}case"contentEncoding:base64":{i.contentEncoding="base64";break}case"pattern:zod":{wa(i,Bs.base64,s.message,e);break}}break}case"nanoid":wa(i,Bs.nanoid,s.message,e)}return i}function CL(t,e){return e.patternStrategy==="escape"?rFe(t):t}var nFe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rFe(t){let e="";for(let i=0;i<t.length;i++)nFe.has(t[i])||(e+="\\"),e+=t[i];return e}function Qs(t,e,i,s){var u;t.format||(u=t.anyOf)!=null&&u.some(d=>d.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format}),delete t.format),t.anyOf.push({format:e,...i&&s.errorMessages&&{errorMessage:{format:i}}})):t.format=e}function wa(t,e,i,s){var u;t.pattern||(u=t.allOf)!=null&&u.some(d=>d.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern}),delete t.pattern),t.allOf.push({pattern:jJ(e,s),...i&&s.errorMessages&&{errorMessage:{pattern:i}}})):t.pattern=jJ(e,s)}function jJ(t,e){var i;if(!e.applyRegexFlags||!t.flags)return t.source;const s={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},u=s.i?t.source.toLowerCase():t.source;let d="",h=!1,m=!1,y=!1;for(let _=0;_<u.length;_++){if(h){d+=u[_],h=!1;continue}if(s.i){if(m){if(u[_].match(/[a-z]/)){y?(d+=u[_],d+=`${u[_-2]}-${u[_]}`.toUpperCase(),y=!1):u[_+1]==="-"&&((i=u[_+2])!=null&&i.match(/[a-z]/))?(d+=u[_],y=!0):d+=`${u[_]}${u[_].toUpperCase()}`;continue}}else if(u[_].match(/[a-z]/)){d+=`[${u[_]}${u[_].toUpperCase()}]`;continue}}if(s.m){if(u[_]==="^"){d+=`(^|(?<=[\r
]))`;continue}else if(u[_]==="$"){d+=`($|(?=[\r
]))`;continue}}if(s.s&&u[_]==="."){d+=m?`${u[_]}\r
`:`[${u[_]}\r
]`;continue}d+=u[_],u[_]==="\\"?h=!0:m&&u[_]==="]"?m=!1:!m&&u[_]==="["&&(m=!0)}try{new RegExp(d)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return d}function rue(t,e){var i,s,u,d,h,m;const y={type:"object",additionalProperties:(i=nr(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]}))!=null?i:e.allowedAdditionalProperties};if(((s=t.keyType)==null?void 0:s._def.typeName)===dn.ZodString&&((u=t.keyType._def.checks)!=null&&u.length)){const{type:_,...b}=nue(t.keyType._def,e);return{...y,propertyNames:b}}else{if(((d=t.keyType)==null?void 0:d._def.typeName)===dn.ZodEnum)return{...y,propertyNames:{enum:t.keyType._def.values}};if(((h=t.keyType)==null?void 0:h._def.typeName)===dn.ZodBranded&&t.keyType._def.type._def.typeName===dn.ZodString&&((m=t.keyType._def.type._def.checks)!=null&&m.length)){const{type:_,...b}=eue(t.keyType._def,e);return{...y,propertyNames:b}}}return y}function iFe(t,e){if(e.mapStrategy==="record")return rue(t,e);const i=nr(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||Lo(),s=nr(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||Lo();return{type:"array",maxItems:125,items:{type:"array",items:[i,s],minItems:2,maxItems:2}}}function aFe(t){const e=t.values,s=Object.keys(t.values).filter(d=>typeof e[e[d]]!="number").map(d=>e[d]),u=Array.from(new Set(s.map(d=>typeof d)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:s}}function oFe(){return{not:Lo()}}function sFe(){return{type:"null"}}var H3={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function lFe(t,e){const i=t.options instanceof Map?Array.from(t.options.values()):t.options;if(i.every(s=>s._def.typeName in H3&&(!s._def.checks||!s._def.checks.length))){const s=i.reduce((u,d)=>{const h=H3[d._def.typeName];return h&&!u.includes(h)?[...u,h]:u},[]);return{type:s.length>1?s:s[0]}}else if(i.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=i.reduce((u,d)=>{const h=typeof d._def.value;switch(h){case"string":case"number":case"boolean":return[...u,h];case"bigint":return[...u,"integer"];case"object":if(d._def.value===null)return[...u,"null"];default:return u}},[]);if(s.length===i.length){const u=s.filter((d,h,m)=>m.indexOf(d)===h);return{type:u.length>1?u:u[0],enum:i.reduce((d,h)=>d.includes(h._def.value)?d:[...d,h._def.value],[])}}}else if(i.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:i.reduce((s,u)=>[...s,...u._def.values.filter(d=>!s.includes(d))],[])};return uFe(t,e)}var uFe=(t,e)=>{const i=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((s,u)=>nr(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${u}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return i.length?{anyOf:i}:void 0};function cFe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return{type:[H3[t.innerType._def.typeName],"null"]};const i=nr(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return i&&{anyOf:[i,{type:"null"}]}}function dFe(t){const e={type:"number"};if(!t.checks)return e;for(const i of t.checks)switch(i.kind){case"int":e.type="integer";break;case"min":i.inclusive?e.minimum=i.value:e.exclusiveMinimum=i.value;break;case"max":i.inclusive?e.maximum=i.value:e.exclusiveMaximum=i.value;break;case"multipleOf":e.multipleOf=i.value;break}return e}function fFe(t,e){const i={type:"object",properties:{}},s=[],u=t.shape();for(const h in u){let m=u[h];if(m===void 0||m._def===void 0)continue;const y=pFe(m),_=nr(m._def,{...e,currentPath:[...e.currentPath,"properties",h],propertyPath:[...e.currentPath,"properties",h]});_!==void 0&&(i.properties[h]=_,y||s.push(h))}s.length&&(i.required=s);const d=hFe(t,e);return d!==void 0&&(i.additionalProperties=d),i}function hFe(t,e){if(t.catchall._def.typeName!=="ZodNever")return nr(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function pFe(t){try{return t.isOptional()}catch{return!0}}var mFe=(t,e)=>{var i;if(e.currentPath.toString()===((i=e.propertyPath)==null?void 0:i.toString()))return nr(t.innerType._def,e);const s=nr(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return s?{anyOf:[{not:Lo()},s]}:Lo()},gFe=(t,e)=>{if(e.pipeStrategy==="input")return nr(t.in._def,e);if(e.pipeStrategy==="output")return nr(t.out._def,e);const i=nr(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=nr(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",i?"1":"0"]});return{allOf:[i,s].filter(u=>u!==void 0)}};function vFe(t,e){return nr(t.type._def,e)}function yFe(t,e){const s={type:"array",uniqueItems:!0,items:nr(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&(s.minItems=t.minSize.value),t.maxSize&&(s.maxItems=t.maxSize.value),s}function xFe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((i,s)=>nr(i._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((i,s)=>s===void 0?i:[...i,s],[]),additionalItems:nr(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((i,s)=>nr(i._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((i,s)=>s===void 0?i:[...i,s],[])}}function _Fe(){return{not:Lo()}}function OFe(){return Lo()}var bFe=(t,e)=>nr(t.innerType._def,e),wFe=(t,e,i)=>{switch(e){case dn.ZodString:return nue(t,i);case dn.ZodNumber:return dFe(t);case dn.ZodObject:return fFe(t,i);case dn.ZodBigInt:return U8e(t);case dn.ZodBoolean:return q8e();case dn.ZodDate:return tue(t,i);case dn.ZodUndefined:return _Fe();case dn.ZodNull:return sFe();case dn.ZodArray:return W8e(t,i);case dn.ZodUnion:case dn.ZodDiscriminatedUnion:return lFe(t,i);case dn.ZodIntersection:return eFe(t,i);case dn.ZodTuple:return xFe(t,i);case dn.ZodRecord:return rue(t,i);case dn.ZodLiteral:return tFe(t);case dn.ZodEnum:return K8e(t);case dn.ZodNativeEnum:return aFe(t);case dn.ZodNullable:return cFe(t,i);case dn.ZodOptional:return mFe(t,i);case dn.ZodMap:return iFe(t,i);case dn.ZodSet:return yFe(t,i);case dn.ZodLazy:return()=>t.getter()._def;case dn.ZodPromise:return vFe(t,i);case dn.ZodNaN:case dn.ZodNever:return oFe();case dn.ZodEffects:return Y8e(t,i);case dn.ZodAny:return Lo();case dn.ZodUnknown:return OFe();case dn.ZodDefault:return X8e(t,i);case dn.ZodBranded:return eue(t,i);case dn.ZodReadonly:return bFe(t,i);case dn.ZodCatch:return Z8e(t,i);case dn.ZodPipeline:return gFe(t,i);case dn.ZodFunction:case dn.ZodVoid:case dn.ZodSymbol:return;default:return(s=>{})()}},SFe=(t,e)=>{let i=0;for(;i<t.length&&i<e.length&&t[i]===e[i];i++);return[(t.length-i).toString(),...e.slice(i)].join("/")};function nr(t,e,i=!1){var s;const u=e.seen.get(t);if(e.override){const y=(s=e.override)==null?void 0:s.call(e,t,e,u,i);if(y!==F8e)return y}if(u&&!i){const y=TFe(u,e);if(y!==void 0)return y}const d={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,d);const h=wFe(t,t.typeName,e),m=typeof h=="function"?nr(h(),e):h;if(m&&CFe(t,e,m),e.postProcess){const y=e.postProcess(m,t,e);return d.jsonSchema=m,y}return d.jsonSchema=m,m}var TFe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:SFe(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((i,s)=>e.currentPath[s]===i)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),Lo()):e.$refStrategy==="seen"?Lo():void 0}},CFe=(t,e,i)=>(t.description&&(i.description=t.description),i),kFe=t=>{const e=G8e(t),i=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:i,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,u])=>[u._def,{def:u._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}},AFe=(t,e)=>{var i;const s=kFe(e);let u=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((_,[b,T])=>{var C;return{..._,[b]:(C=nr(T._def,{...s,currentPath:[...s.basePath,s.definitionPath,b]},!0))!=null?C:Lo()}},{}):void 0;const d=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,h=(i=nr(t._def,d===void 0?s:{...s,currentPath:[...s.basePath,s.definitionPath,d]},!1))!=null?i:Lo(),m=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;m!==void 0&&(h.title=m);const y=d===void 0?u?{...h,[s.definitionPath]:u}:h:{$ref:[...s.$refStrategy==="relative"?[]:s.basePath,s.definitionPath,d].join("/"),[s.definitionPath]:{...u,[d]:h}};return y.$schema="http://json-schema.org/draft-07/schema#",y},X3=Symbol.for("vercel.ai.schema");function PFe(t){let e;return()=>(e==null&&(e=t()),e)}function Lk(t,{validate:e}={}){return{[X3]:!0,_type:void 0,get jsonSchema(){return typeof t=="function"&&(t=t()),t},validate:e}}function EFe(t){return typeof t=="object"&&t!==null&&X3 in t&&t[X3]===!0&&"jsonSchema"in t&&"validate"in t}function Jz(t){return t==null?Lk({properties:{},additionalProperties:!1}):EFe(t)?t:"~standard"in t?t["~standard"].vendor==="zod"?iue(t):MFe(t):t()}function MFe(t){return Lk(()=>t["~standard"].jsonSchema.input({target:"draft-07"}),{validate:async e=>{const i=await t["~standard"].validate(e);return"value"in i?{success:!0,value:i.value}:{success:!1,error:new rv({value:e,cause:i.issues})}}})}function DFe(t,e){var i;const s=(i=void 0)!=null?i:!1;return Lk(()=>AFe(t,{$refStrategy:s?"root":"none"}),{validate:async u=>{const d=await t.safeParseAsync(u);return d.success?{success:!0,value:d.data}:{success:!1,error:d.error}}})}function IFe(t,e){var i;const s=(i=void 0)!=null?i:!1;return Lk(()=>JS(UBe(t,{target:"draft-7",io:"input",reused:s?"ref":"inline"})),{validate:async u=>{const d=await WBe(t,u);return d.success?{success:!0,value:d.data}:{success:!1,error:d.error}}})}function RFe(t){return"_zod"in t}function iue(t,e){return RFe(t)?IFe(t):DFe(t)}async function VJ({value:t,schema:e}){const i=await T1({value:t,schema:e});if(!i.success)throw rv.wrap({value:t,cause:i.error});return i.value}async function T1({value:t,schema:e}){const i=Jz(e);try{if(i.validate==null)return{success:!0,value:t,rawValue:t};const s=await i.validate(t);return s.success?{success:!0,value:s.value,rawValue:t}:{success:!1,error:rv.wrap({value:t,cause:s.error}),rawValue:t}}catch(s){return{success:!1,error:rv.wrap({value:t,cause:s}),rawValue:t}}}async function op({text:t,schema:e}){try{const i=V8e(t);return e==null?{success:!0,value:i,rawValue:i}:await T1({value:i,schema:e})}catch(i){return{success:!1,error:DJ.isInstance(i)?i:new DJ({text:t,cause:i}),rawValue:void 0}}}function LFe({stream:t,schema:e}){return t.pipeThrough(new TextDecoderStream).pipeThrough(new wje).pipeThrough(new TransformStream({async transform({data:i},s){i!=="[DONE]"&&s.enqueue(await op({text:i,schema:e}))}}))}async function vd(t){return typeof t=="function"&&(t=t()),Promise.resolve(t)}var NFe=Object.defineProperty,$Fe=(t,e)=>{for(var i in e)NFe(t,i,{get:e[i],enumerable:!0})},aue="AI_NoObjectGeneratedError",oue=`vercel.ai.error.${aue}`,zFe=Symbol.for(oue),sue,Pd=class extends Qd{constructor({message:t="No object generated.",cause:e,text:i,response:s,usage:u,finishReason:d}){super({name:aue,message:t,cause:e}),this[sue]=!0,this.text=i,this.response=s,this.usage=u,this.finishReason=d}static isInstance(t){return Qd.hasMarker(t,oue)}};sue=zFe;var FJ="6.0.1",lue=no([vt(),DT(Uint8Array),DT(ArrayBuffer),Lse(t=>{var e,i;return(i=(e=globalThis.Buffer)==null?void 0:e.isBuffer(t))!=null?i:!1},{message:"Must be a Buffer"})]),C1=qBe(()=>no([HBe(),vt(),XBe(),Sa(),m1(vt(),C1.optional()),v_(C1)])),Ln=m1(vt(),m1(vt(),C1.optional())),uue=sr({type:Yt("text"),text:vt(),providerOptions:Ln.optional()}),BFe=sr({type:Yt("image"),image:no([lue,DT(URL)]),mediaType:vt().optional(),providerOptions:Ln.optional()}),cue=sr({type:Yt("file"),data:no([lue,DT(URL)]),filename:vt().optional(),mediaType:vt(),providerOptions:Ln.optional()}),QFe=sr({type:Yt("reasoning"),text:vt(),providerOptions:Ln.optional()}),jFe=sr({type:Yt("tool-call"),toolCallId:vt(),toolName:vt(),input:pd(),providerOptions:Ln.optional(),providerExecuted:Sa().optional()}),VFe=ZBe("type",[sr({type:Yt("text"),value:vt(),providerOptions:Ln.optional()}),sr({type:Yt("json"),value:C1,providerOptions:Ln.optional()}),sr({type:Yt("execution-denied"),reason:vt().optional(),providerOptions:Ln.optional()}),sr({type:Yt("error-text"),value:vt(),providerOptions:Ln.optional()}),sr({type:Yt("error-json"),value:C1,providerOptions:Ln.optional()}),sr({type:Yt("content"),value:v_(no([sr({type:Yt("text"),text:vt(),providerOptions:Ln.optional()}),sr({type:Yt("media"),data:vt(),mediaType:vt()}),sr({type:Yt("file-data"),data:vt(),mediaType:vt(),filename:vt().optional(),providerOptions:Ln.optional()}),sr({type:Yt("file-url"),url:vt(),providerOptions:Ln.optional()}),sr({type:Yt("file-id"),fileId:no([vt(),m1(vt(),vt())]),providerOptions:Ln.optional()}),sr({type:Yt("image-data"),data:vt(),mediaType:vt(),providerOptions:Ln.optional()}),sr({type:Yt("image-url"),url:vt(),providerOptions:Ln.optional()}),sr({type:Yt("image-file-id"),fileId:no([vt(),m1(vt(),vt())]),providerOptions:Ln.optional()}),sr({type:Yt("custom"),providerOptions:Ln.optional()})]))})]),due=sr({type:Yt("tool-result"),toolCallId:vt(),toolName:vt(),output:VFe,providerOptions:Ln.optional()}),FFe=sr({type:Yt("tool-approval-request"),approvalId:vt(),toolCallId:vt()}),GFe=sr({type:Yt("tool-approval-response"),approvalId:vt(),approved:Sa(),reason:vt().optional()}),WFe=sr({role:Yt("system"),content:vt(),providerOptions:Ln.optional()}),UFe=sr({role:Yt("user"),content:no([vt(),v_(no([uue,BFe,cue]))]),providerOptions:Ln.optional()}),qFe=sr({role:Yt("assistant"),content:no([vt(),v_(no([uue,cue,QFe,jFe,due,FFe]))]),providerOptions:Ln.optional()}),ZFe=sr({role:Yt("tool"),content:v_(no([due,GFe])),providerOptions:Ln.optional()});no([WFe,UFe,qFe,ZFe]);function fue(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;const i={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const u=e[s];if(u===void 0)continue;const d=s in t?t[s]:void 0,h=u!==null&&typeof u=="object"&&!Array.isArray(u)&&!(u instanceof Date)&&!(u instanceof RegExp),m=d!=null&&typeof d=="object"&&!Array.isArray(d)&&!(d instanceof Date)&&!(d instanceof RegExp);h&&m?i[s]=fue(d,u):i[s]=u}return i}var HFe={};$Fe(HFe,{array:()=>JFe,choice:()=>e7e,json:()=>t7e,object:()=>KFe,text:()=>YFe});function XFe(t){const e=["ROOT"];let i=-1,s=null;function u(y,_,b){switch(y){case'"':{i=_,e.pop(),e.push(b),e.push("INSIDE_STRING");break}case"f":case"t":case"n":{i=_,s=_,e.pop(),e.push(b),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(b),e.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{i=_,e.pop(),e.push(b),e.push("INSIDE_NUMBER");break}case"{":{i=_,e.pop(),e.push(b),e.push("INSIDE_OBJECT_START");break}case"[":{i=_,e.pop(),e.push(b),e.push("INSIDE_ARRAY_START");break}}}function d(y,_){switch(y){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{i=_,e.pop();break}}}function h(y,_){switch(y){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{i=_,e.pop();break}}}for(let y=0;y<t.length;y++){const _=t[y];switch(e[e.length-1]){case"ROOT":u(_,y,"FINISH");break;case"INSIDE_OBJECT_START":{switch(_){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}case"}":{i=y,e.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{_==='"'&&(e.pop(),e.push("INSIDE_OBJECT_KEY"));break}case"INSIDE_OBJECT_KEY":{_==='"'&&(e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY"));break}case"INSIDE_OBJECT_AFTER_KEY":{_===":"&&(e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE"));break}case"INSIDE_OBJECT_BEFORE_VALUE":{u(_,y,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{d(_,y);break}case"INSIDE_STRING":{switch(_){case'"':{e.pop(),i=y;break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:i=y}break}case"INSIDE_ARRAY_START":{_==="]"?(i=y,e.pop()):(i=y,u(_,y,"INSIDE_ARRAY_AFTER_VALUE"));break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(_){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{i=y,e.pop();break}default:{i=y;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{u(_,y,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),i=y;break}case"INSIDE_NUMBER":{switch(_){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{i=y;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(_,y),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&d(_,y);break}case"}":{e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&d(_,y);break}case"]":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(_,y);break}default:{e.pop();break}}break}case"INSIDE_LITERAL":{const T=t.substring(s,y+1);!"false".startsWith(T)&&!"true".startsWith(T)&&!"null".startsWith(T)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?d(_,y):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(_,y)):i=y;break}}}let m=t.slice(0,i+1);for(let y=e.length-1;y>=0;y--)switch(e[y]){case"INSIDE_STRING":{m+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{m+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{m+="]";break}case"INSIDE_LITERAL":{const b=t.substring(s,t.length);"true".startsWith(b)?m+="true".slice(b.length):"false".startsWith(b)?m+="false".slice(b.length):"null".startsWith(b)&&(m+="null".slice(b.length))}}return m}async function k_(t){if(t===void 0)return{value:void 0,state:"undefined-input"};let e=await op({text:t});return e.success?{value:e.value,state:"successful-parse"}:(e=await op({text:XFe(t)}),e.success?{value:e.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var YFe=()=>({responseFormat:Promise.resolve({type:"text"}),async parseCompleteOutput({text:t}){return t},async parsePartialOutput({text:t}){return{partial:t}}}),KFe=({schema:t,name:e,description:i})=>{const s=Jz(t);return{responseFormat:vd(s.jsonSchema).then(u=>({type:"json",schema:u,...e!=null&&{name:e},...i!=null&&{description:i}})),async parseCompleteOutput({text:u},d){const h=await op({text:u});if(!h.success)throw new Pd({message:"No object generated: could not parse the response.",cause:h.error,text:u,response:d.response,usage:d.usage,finishReason:d.finishReason});const m=await T1({value:h.value,schema:s});if(!m.success)throw new Pd({message:"No object generated: response did not match schema.",cause:m.error,text:u,response:d.response,usage:d.usage,finishReason:d.finishReason});return m.value},async parsePartialOutput({text:u}){const d=await k_(u);switch(d.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:d.value}}}}},JFe=({element:t,name:e,description:i})=>{const s=Jz(t);return{responseFormat:vd(s.jsonSchema).then(u=>{const{$schema:d,...h}=u;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:h}},required:["elements"],additionalProperties:!1},...e!=null&&{name:e},...i!=null&&{description:i}}}),async parseCompleteOutput({text:u},d){const h=await op({text:u});if(!h.success)throw new Pd({message:"No object generated: could not parse the response.",cause:h.error,text:u,response:d.response,usage:d.usage,finishReason:d.finishReason});const m=h.value;if(m==null||typeof m!="object"||!("elements"in m)||!Array.isArray(m.elements))throw new Pd({message:"No object generated: response did not match schema.",cause:new rv({value:m,cause:"response must be an object with an elements array"}),text:u,response:d.response,usage:d.usage,finishReason:d.finishReason});for(const y of m.elements){const _=await T1({value:y,schema:s});if(!_.success)throw new Pd({message:"No object generated: response did not match schema.",cause:_.error,text:u,response:d.response,usage:d.usage,finishReason:d.finishReason})}return m.elements},async parsePartialOutput({text:u}){const d=await k_(u);switch(d.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const h=d.value;if(h==null||typeof h!="object"||!("elements"in h)||!Array.isArray(h.elements))return;const m=d.state==="repaired-parse"&&h.elements.length>0?h.elements.slice(0,-1):h.elements,y=[];for(const _ of m){const b=await T1({value:_,schema:s});b.success&&y.push(b.value)}return{partial:y}}}}}},e7e=({options:t,name:e,description:i})=>({responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:t}},required:["result"],additionalProperties:!1},...e!=null&&{name:e},...i!=null&&{description:i}}),async parseCompleteOutput({text:s},u){const d=await op({text:s});if(!d.success)throw new Pd({message:"No object generated: could not parse the response.",cause:d.error,text:s,response:u.response,usage:u.usage,finishReason:u.finishReason});const h=d.value;if(h==null||typeof h!="object"||!("result"in h)||typeof h.result!="string"||!t.includes(h.result))throw new Pd({message:"No object generated: response did not match schema.",cause:new rv({value:h,cause:"response must be an object that contains a choice value."}),text:s,response:u.response,usage:u.usage,finishReason:u.finishReason});return h.result},async parsePartialOutput({text:s}){const u=await k_(s);switch(u.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const d=u.value;if(d==null||typeof d!="object"||!("result"in d)||typeof d.result!="string")return;const h=t.filter(m=>m.startsWith(d.result));return u.state==="successful-parse"?h.includes(d.result)?{partial:d.result}:void 0:h.length===1?{partial:h[0]}:void 0}}}}),t7e=({name:t,description:e}={})=>({responseFormat:Promise.resolve({type:"json",...t!=null&&{name:t},...e!=null&&{description:e}}),async parseCompleteOutput({text:i},s){const u=await op({text:i});if(!u.success)throw new Pd({message:"No object generated: could not parse the response.",cause:u.error,text:i,response:s.response,usage:s.usage,finishReason:s.finishReason});return u.value},async parsePartialOutput({text:i}){const s=await k_(i);switch(s.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return s.value===void 0?void 0:{partial:s.value}}}});C_({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(t,e){e.enqueue(`data: ${JSON.stringify(t)}

`)},flush(t){t.enqueue(`data: [DONE]

`)}})}});var n7e=PFe(()=>iue(no([xr({type:Yt("text-start"),id:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("text-delta"),id:vt(),delta:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("text-end"),id:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("error"),errorText:vt()}),xr({type:Yt("tool-input-start"),toolCallId:vt(),toolName:vt(),providerExecuted:Sa().optional(),dynamic:Sa().optional(),title:vt().optional()}),xr({type:Yt("tool-input-delta"),toolCallId:vt(),inputTextDelta:vt()}),xr({type:Yt("tool-input-available"),toolCallId:vt(),toolName:vt(),input:pd(),providerExecuted:Sa().optional(),providerMetadata:Ln.optional(),dynamic:Sa().optional(),title:vt().optional()}),xr({type:Yt("tool-input-error"),toolCallId:vt(),toolName:vt(),input:pd(),providerExecuted:Sa().optional(),providerMetadata:Ln.optional(),dynamic:Sa().optional(),errorText:vt(),title:vt().optional()}),xr({type:Yt("tool-approval-request"),approvalId:vt(),toolCallId:vt()}),xr({type:Yt("tool-output-available"),toolCallId:vt(),output:pd(),providerExecuted:Sa().optional(),dynamic:Sa().optional(),preliminary:Sa().optional()}),xr({type:Yt("tool-output-error"),toolCallId:vt(),errorText:vt(),providerExecuted:Sa().optional(),dynamic:Sa().optional()}),xr({type:Yt("tool-output-denied"),toolCallId:vt()}),xr({type:Yt("reasoning-start"),id:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("reasoning-delta"),id:vt(),delta:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("reasoning-end"),id:vt(),providerMetadata:Ln.optional()}),xr({type:Yt("source-url"),sourceId:vt(),url:vt(),title:vt().optional(),providerMetadata:Ln.optional()}),xr({type:Yt("source-document"),sourceId:vt(),mediaType:vt(),title:vt(),filename:vt().optional(),providerMetadata:Ln.optional()}),xr({type:Yt("file"),url:vt(),mediaType:vt(),providerMetadata:Ln.optional()}),xr({type:Lse(t=>typeof t=="string"&&t.startsWith("data-"),{message:'Type must start with "data-"'}),id:vt().optional(),data:pd(),transient:Sa().optional()}),xr({type:Yt("start-step")}),xr({type:Yt("finish-step")}),xr({type:Yt("start"),messageId:vt().optional(),messageMetadata:pd().optional()}),xr({type:Yt("finish"),finishReason:YBe(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:pd().optional()}),xr({type:Yt("abort")}),xr({type:Yt("message-metadata"),messageMetadata:pd()})])));function r7e(t){return t.type.startsWith("data-")}function i7e(t){return t.type.startsWith("data-")}function a7e(t){return t.type==="text"}function o7e(t){return t.type==="reasoning"}function $T(t){return t.type.startsWith("tool-")}function s7e(t){return t.type==="dynamic-tool"}function zT(t){return $T(t)||s7e(t)}function GJ(t){return t.type.split("-").slice(1).join("-")}function l7e({lastMessage:t,messageId:e}){return{message:t?.role==="assistant"?t:{id:e,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function u7e({stream:t,messageMetadataSchema:e,dataPartSchemas:i,runUpdateMessageJob:s,onError:u,onToolCall:d,onData:h}){return t.pipeThrough(new TransformStream({async transform(m,y){await s(async({state:_,write:b})=>{var T,C,A,D;function L(B){const Y=_.message.parts.filter(zT).find(G=>G.toolCallId===B);if(Y==null)throw new Error(`no tool invocation found for tool call ${B}`);return Y}function z(B){var q;const Y=_.message.parts.find(V=>$T(V)&&V.toolCallId===B.toolCallId),G=B,H=Y;Y!=null?(Y.state=B.state,H.input=G.input,H.output=G.output,H.errorText=G.errorText,H.rawInput=G.rawInput,H.preliminary=G.preliminary,B.title!==void 0&&(H.title=B.title),H.providerExecuted=(q=G.providerExecuted)!=null?q:Y.providerExecuted,G.providerMetadata!=null&&Y.state==="input-available"&&(Y.callProviderMetadata=G.providerMetadata)):_.message.parts.push({type:`tool-${B.toolName}`,toolCallId:B.toolCallId,state:B.state,title:B.title,input:G.input,output:G.output,rawInput:G.rawInput,errorText:G.errorText,providerExecuted:G.providerExecuted,preliminary:G.preliminary,...G.providerMetadata!=null?{callProviderMetadata:G.providerMetadata}:{}})}function $(B){var q,Y;const G=_.message.parts.find(F=>F.type==="dynamic-tool"&&F.toolCallId===B.toolCallId),H=B,V=G;G!=null?(G.state=B.state,V.toolName=B.toolName,V.input=H.input,V.output=H.output,V.errorText=H.errorText,V.rawInput=(q=H.rawInput)!=null?q:V.rawInput,V.preliminary=H.preliminary,B.title!==void 0&&(V.title=B.title),V.providerExecuted=(Y=H.providerExecuted)!=null?Y:G.providerExecuted,H.providerMetadata!=null&&G.state==="input-available"&&(G.callProviderMetadata=H.providerMetadata)):_.message.parts.push({type:"dynamic-tool",toolName:B.toolName,toolCallId:B.toolCallId,state:B.state,input:H.input,output:H.output,errorText:H.errorText,preliminary:H.preliminary,providerExecuted:H.providerExecuted,title:B.title,...H.providerMetadata!=null?{callProviderMetadata:H.providerMetadata}:{}})}async function Q(B){if(B!=null){const q=_.message.metadata!=null?fue(_.message.metadata,B):B;e!=null&&await VJ({value:q,schema:e}),_.message.metadata=q}}switch(m.type){case"text-start":{const B={type:"text",text:"",providerMetadata:m.providerMetadata,state:"streaming"};_.activeTextParts[m.id]=B,_.message.parts.push(B),b();break}case"text-delta":{const B=_.activeTextParts[m.id];B.text+=m.delta,B.providerMetadata=(T=m.providerMetadata)!=null?T:B.providerMetadata,b();break}case"text-end":{const B=_.activeTextParts[m.id];B.state="done",B.providerMetadata=(C=m.providerMetadata)!=null?C:B.providerMetadata,delete _.activeTextParts[m.id],b();break}case"reasoning-start":{const B={type:"reasoning",text:"",providerMetadata:m.providerMetadata,state:"streaming"};_.activeReasoningParts[m.id]=B,_.message.parts.push(B),b();break}case"reasoning-delta":{const B=_.activeReasoningParts[m.id];B.text+=m.delta,B.providerMetadata=(A=m.providerMetadata)!=null?A:B.providerMetadata,b();break}case"reasoning-end":{const B=_.activeReasoningParts[m.id];B.providerMetadata=(D=m.providerMetadata)!=null?D:B.providerMetadata,B.state="done",delete _.activeReasoningParts[m.id],b();break}case"file":{_.message.parts.push({type:"file",mediaType:m.mediaType,url:m.url}),b();break}case"source-url":{_.message.parts.push({type:"source-url",sourceId:m.sourceId,url:m.url,title:m.title,providerMetadata:m.providerMetadata}),b();break}case"source-document":{_.message.parts.push({type:"source-document",sourceId:m.sourceId,mediaType:m.mediaType,title:m.title,filename:m.filename,providerMetadata:m.providerMetadata}),b();break}case"tool-input-start":{const B=_.message.parts.filter($T);_.partialToolCalls[m.toolCallId]={text:"",toolName:m.toolName,index:B.length,dynamic:m.dynamic,title:m.title},m.dynamic?$({toolCallId:m.toolCallId,toolName:m.toolName,state:"input-streaming",input:void 0,providerExecuted:m.providerExecuted,title:m.title}):z({toolCallId:m.toolCallId,toolName:m.toolName,state:"input-streaming",input:void 0,providerExecuted:m.providerExecuted,title:m.title}),b();break}case"tool-input-delta":{const B=_.partialToolCalls[m.toolCallId];B.text+=m.inputTextDelta;const{value:q}=await k_(B.text);B.dynamic?$({toolCallId:m.toolCallId,toolName:B.toolName,state:"input-streaming",input:q,title:B.title}):z({toolCallId:m.toolCallId,toolName:B.toolName,state:"input-streaming",input:q,title:B.title}),b();break}case"tool-input-available":{m.dynamic?$({toolCallId:m.toolCallId,toolName:m.toolName,state:"input-available",input:m.input,providerExecuted:m.providerExecuted,providerMetadata:m.providerMetadata,title:m.title}):z({toolCallId:m.toolCallId,toolName:m.toolName,state:"input-available",input:m.input,providerExecuted:m.providerExecuted,providerMetadata:m.providerMetadata,title:m.title}),b(),d&&!m.providerExecuted&&await d({toolCall:m});break}case"tool-input-error":{m.dynamic?$({toolCallId:m.toolCallId,toolName:m.toolName,state:"output-error",input:m.input,errorText:m.errorText,providerExecuted:m.providerExecuted,providerMetadata:m.providerMetadata}):z({toolCallId:m.toolCallId,toolName:m.toolName,state:"output-error",input:void 0,rawInput:m.input,errorText:m.errorText,providerExecuted:m.providerExecuted,providerMetadata:m.providerMetadata}),b();break}case"tool-approval-request":{const B=L(m.toolCallId);B.state="approval-requested",B.approval={id:m.approvalId},b();break}case"tool-output-denied":{const B=L(m.toolCallId);B.state="output-denied",b();break}case"tool-output-available":{const B=L(m.toolCallId);B.type==="dynamic-tool"?$({toolCallId:m.toolCallId,toolName:B.toolName,state:"output-available",input:B.input,output:m.output,preliminary:m.preliminary,providerExecuted:m.providerExecuted,title:B.title}):z({toolCallId:m.toolCallId,toolName:GJ(B),state:"output-available",input:B.input,output:m.output,providerExecuted:m.providerExecuted,preliminary:m.preliminary,title:B.title}),b();break}case"tool-output-error":{const B=L(m.toolCallId);B.type==="dynamic-tool"?$({toolCallId:m.toolCallId,toolName:B.toolName,state:"output-error",input:B.input,errorText:m.errorText,providerExecuted:m.providerExecuted,title:B.title}):z({toolCallId:m.toolCallId,toolName:GJ(B),state:"output-error",input:B.input,rawInput:B.rawInput,errorText:m.errorText,providerExecuted:m.providerExecuted,title:B.title}),b();break}case"start-step":{_.message.parts.push({type:"step-start"});break}case"finish-step":{_.activeTextParts={},_.activeReasoningParts={};break}case"start":{m.messageId!=null&&(_.message.id=m.messageId),await Q(m.messageMetadata),(m.messageId!=null||m.messageMetadata!=null)&&b();break}case"finish":{m.finishReason!=null&&(_.finishReason=m.finishReason),await Q(m.messageMetadata),m.messageMetadata!=null&&b();break}case"message-metadata":{await Q(m.messageMetadata),m.messageMetadata!=null&&b();break}case"error":{u?.(new Error(m.errorText));break}default:if(r7e(m)){i?.[m.type]!=null&&await VJ({value:m.data,schema:i[m.type]});const B=m;if(B.transient){h?.(B);break}const q=B.id!=null?_.message.parts.find(Y=>B.type===Y.type&&B.id===Y.id):void 0;q!=null?q.data=B.data:_.message.parts.push(B),h?.(B),b()}}y.enqueue(m)})}}))}async function c7e({stream:t,onError:e}){const i=t.getReader();try{for(;;){const{done:s}=await i.read();if(s)break}}catch(s){e?.(s)}finally{i.releaseLock()}}C_({prefix:"aitxt",size:24});C_({prefix:"aiobj",size:24});var d7e=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(t){return new Promise((e,i)=>{this.queue.push(async()=>{try{await t(),e()}catch(s){i(s)}}),this.processQueue()})}};C_({prefix:"aiobj",size:24});async function f7e(t){if(t==null)return[];if(!globalThis.FileList||!(t instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(t).map(async e=>{const{name:i,type:s}=e,u=await new Promise((d,h)=>{const m=new FileReader;m.onload=y=>{var _;d((_=y.target)==null?void 0:_.result)},m.onerror=y=>h(y),m.readAsDataURL(e)});return{type:"file",mediaType:s,filename:i,url:u}}))}var h7e=class{constructor({api:t="/api/chat",credentials:e,headers:i,body:s,fetch:u,prepareSendMessagesRequest:d,prepareReconnectToStreamRequest:h}){this.api=t,this.credentials=e,this.headers=i,this.body=s,this.fetch=u,this.prepareSendMessagesRequest=d,this.prepareReconnectToStreamRequest=h}async sendMessages({abortSignal:t,...e}){var i,s,u,d,h;const m=await vd(this.body),y=await vd(this.headers),_=await vd(this.credentials),b={...Mh(y),...Mh(e.headers)},T=await((i=this.prepareSendMessagesRequest)==null?void 0:i.call(this,{api:this.api,id:e.chatId,messages:e.messages,body:{...m,...e.body},headers:b,credentials:_,requestMetadata:e.metadata,trigger:e.trigger,messageId:e.messageId})),C=(s=T?.api)!=null?s:this.api,A=T?.headers!==void 0?Mh(T.headers):b,D=T?.body!==void 0?T.body:{...m,...e.body,id:e.chatId,messages:e.messages,trigger:e.trigger,messageId:e.messageId},L=(u=T?.credentials)!=null?u:_,$=await((d=this.fetch)!=null?d:globalThis.fetch)(C,{method:"POST",headers:zJ({"Content-Type":"application/json",...A},`ai-sdk/${FJ}`,$J()),body:JSON.stringify(D),credentials:L,signal:t});if(!$.ok)throw new Error((h=await $.text())!=null?h:"Failed to fetch the chat response.");if(!$.body)throw new Error("The response body is empty.");return this.processResponseStream($.body)}async reconnectToStream(t){var e,i,s,u,d;const h=await vd(this.body),m=await vd(this.headers),y=await vd(this.credentials),_={...Mh(m),...Mh(t.headers)},b=await((e=this.prepareReconnectToStreamRequest)==null?void 0:e.call(this,{api:this.api,id:t.chatId,body:{...h,...t.body},headers:_,credentials:y,requestMetadata:t.metadata})),T=(i=b?.api)!=null?i:`${this.api}/${t.chatId}/stream`,C=b?.headers!==void 0?Mh(b.headers):_,A=(s=b?.credentials)!=null?s:y,L=await((u=this.fetch)!=null?u:globalThis.fetch)(T,{method:"GET",headers:zJ(C,`ai-sdk/${FJ}`,$J()),credentials:A});if(L.status===204)return null;if(!L.ok)throw new Error((d=await L.text())!=null?d:"Failed to fetch the chat response.");if(!L.body)throw new Error("The response body is empty.");return this.processResponseStream(L.body)}},hue=class extends h7e{constructor(t={}){super(t)}processResponseStream(t){return LFe({stream:t,schema:n7e}).pipeThrough(new TransformStream({async transform(e,i){if(!e.success)throw e.error;i.enqueue(e.value)}}))}},p7e=class{constructor({generateId:t=z8e,id:e=t(),transport:i=new hue,messageMetadataSchema:s,dataPartSchemas:u,state:d,onError:h,onToolCall:m,onFinish:y,onData:_,sendAutomaticallyWhen:b}){this.activeResponse=void 0,this.jobExecutor=new d7e,this.sendMessage=async(T,C)=>{var A,D,L,z;if(T==null){await this.makeRequest({trigger:"submit-message",messageId:(A=this.lastMessage)==null?void 0:A.id,...C});return}let $;if("text"in T||"files"in T?$={parts:[...Array.isArray(T.files)?T.files:await f7e(T.files),..."text"in T&&T.text!=null?[{type:"text",text:T.text}]:[]]}:$=T,T.messageId!=null){const Q=this.state.messages.findIndex(B=>B.id===T.messageId);if(Q===-1)throw new Error(`message with id ${T.messageId} not found`);if(this.state.messages[Q].role!=="user")throw new Error(`message with id ${T.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,Q+1),this.state.replaceMessage(Q,{...$,id:T.messageId,role:(D=$.role)!=null?D:"user",metadata:T.metadata})}else this.state.pushMessage({...$,id:(L=$.id)!=null?L:this.generateId(),role:(z=$.role)!=null?z:"user",metadata:T.metadata});await this.makeRequest({trigger:"submit-message",messageId:T.messageId,...C})},this.regenerate=async({messageId:T,...C}={})=>{const A=T==null?this.state.messages.length-1:this.state.messages.findIndex(D=>D.id===T);if(A===-1)throw new Error(`message ${T} not found`);this.state.messages=this.state.messages.slice(0,this.messages[A].role==="assistant"?A:A+1),await this.makeRequest({trigger:"regenerate-message",messageId:T,...C})},this.resumeStream=async(T={})=>{await this.makeRequest({trigger:"resume-stream",...T})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:T,approved:C,reason:A})=>this.jobExecutor.run(async()=>{var D,L;const z=this.state.messages,$=z[z.length-1],Q=B=>zT(B)&&B.state==="approval-requested"&&B.approval.id===T?{...B,state:"approval-responded",approval:{id:T,approved:C,reason:A}}:B;this.state.replaceMessage(z.length-1,{...$,parts:$.parts.map(Q)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(Q)),this.status!=="streaming"&&this.status!=="submitted"&&((D=this.sendAutomaticallyWhen)!=null&&D.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(L=this.lastMessage)==null?void 0:L.id})}),this.addToolOutput=async({state:T="output-available",tool:C,toolCallId:A,output:D,errorText:L})=>this.jobExecutor.run(async()=>{var z,$;const Q=this.state.messages,B=Q[Q.length-1],q=Y=>zT(Y)&&Y.toolCallId===A?{...Y,state:T,output:D,errorText:L}:Y;this.state.replaceMessage(Q.length-1,{...B,parts:B.parts.map(q)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(q)),this.status!=="streaming"&&this.status!=="submitted"&&((z=this.sendAutomaticallyWhen)!=null&&z.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:($=this.lastMessage)==null?void 0:$.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var T;this.status!=="streaming"&&this.status!=="submitted"||(T=this.activeResponse)!=null&&T.abortController&&this.activeResponse.abortController.abort()},this.id=e,this.transport=i,this.generateId=t,this.messageMetadataSchema=s,this.dataPartSchemas=u,this.state=d,this.onError=h,this.onToolCall=m,this.onFinish=y,this.onData=_,this.sendAutomaticallyWhen=b}get status(){return this.state.status}setStatus({status:t,error:e}){this.status!==t&&(this.state.status=t,this.state.error=e)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(t){this.state.messages=t}async makeRequest({trigger:t,metadata:e,headers:i,body:s,messageId:u}){var d,h,m,y;this.setStatus({status:"submitted",error:void 0});const _=this.lastMessage;let b=!1,T=!1,C=!1;try{const A={state:l7e({lastMessage:this.state.snapshot(_),messageId:this.generateId()}),abortController:new AbortController};A.abortController.signal.addEventListener("abort",()=>{b=!0}),this.activeResponse=A;let D;if(t==="resume-stream"){const z=await this.transport.reconnectToStream({chatId:this.id,metadata:e,headers:i,body:s});if(z==null){this.setStatus({status:"ready"});return}D=z}else D=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:A.abortController.signal,metadata:e,headers:i,body:s,trigger:t,messageId:u});const L=z=>this.jobExecutor.run(()=>z({state:A.state,write:()=>{var $;this.setStatus({status:"streaming"}),A.state.message.id===(($=this.lastMessage)==null?void 0:$.id)?this.state.replaceMessage(this.state.messages.length-1,A.state.message):this.state.pushMessage(A.state.message)}}));await c7e({stream:u7e({stream:D,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:L,onError:z=>{throw z}}),onError:z=>{throw z}}),this.setStatus({status:"ready"})}catch(A){if(b||A.name==="AbortError")return b=!0,this.setStatus({status:"ready"}),null;C=!0,A instanceof TypeError&&(A.message.toLowerCase().includes("fetch")||A.message.toLowerCase().includes("network"))&&(T=!0),this.onError&&A instanceof Error&&this.onError(A),this.setStatus({status:"error",error:A})}finally{try{(h=this.onFinish)==null||h.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:b,isDisconnect:T,isError:C,finishReason:(d=this.activeResponse)==null?void 0:d.state.finishReason})}catch(A){console.error(A)}this.activeResponse=void 0}(m=this.sendAutomaticallyWhen)!=null&&m.call(this,{messages:this.state.messages})&&!C&&await this.makeRequest({trigger:"submit-message",messageId:(y=this.lastMessage)==null?void 0:y.id,metadata:e,headers:i,body:s})}},kL,WJ;function m7e(){if(WJ)return kL;WJ=1;function t(e,i){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let s,u=0;return function(...h){clearTimeout(s);const m=Date.now(),y=m-u,_=i-y;_<=0?(u=m,e.apply(this,h)):s=setTimeout(()=>{u=Date.now(),e.apply(this,h)},_)}}return kL=t,kL}var g7e=m7e();const v7e=cu(g7e);var pue=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},_r=(t,e,i)=>(pue(t,e,"read from private field"),i?i.call(t):e.get(t)),jl=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},md=(t,e,i,s)=>(pue(t,e,"write to private field"),e.set(t,i),i);function y7e(t,e){return e!=null?v7e(t,e):t}var ts,eT,tT,Cx,kx,Ax,_g,Y3,K3,x7e=class{constructor(t=[]){jl(this,ts,void 0),jl(this,eT,"ready"),jl(this,tT,void 0),jl(this,Cx,new Set),jl(this,kx,new Set),jl(this,Ax,new Set),this.pushMessage=e=>{md(this,ts,_r(this,ts).concat(e)),_r(this,_g).call(this)},this.popMessage=()=>{md(this,ts,_r(this,ts).slice(0,-1)),_r(this,_g).call(this)},this.replaceMessage=(e,i)=>{md(this,ts,[..._r(this,ts).slice(0,e),this.snapshot(i),..._r(this,ts).slice(e+1)]),_r(this,_g).call(this)},this.snapshot=e=>structuredClone(e),this["~registerMessagesCallback"]=(e,i)=>{const s=i?y7e(e,i):e;return _r(this,Cx).add(s),()=>{_r(this,Cx).delete(s)}},this["~registerStatusCallback"]=e=>(_r(this,kx).add(e),()=>{_r(this,kx).delete(e)}),this["~registerErrorCallback"]=e=>(_r(this,Ax).add(e),()=>{_r(this,Ax).delete(e)}),jl(this,_g,()=>{_r(this,Cx).forEach(e=>e())}),jl(this,Y3,()=>{_r(this,kx).forEach(e=>e())}),jl(this,K3,()=>{_r(this,Ax).forEach(e=>e())}),md(this,ts,t)}get status(){return _r(this,eT)}set status(t){md(this,eT,t),_r(this,Y3).call(this)}get error(){return _r(this,tT)}set error(t){md(this,tT,t),_r(this,K3).call(this)}get messages(){return _r(this,ts)}set messages(t){md(this,ts,[...t]),_r(this,_g).call(this)}};ts=new WeakMap;eT=new WeakMap;tT=new WeakMap;Cx=new WeakMap;kx=new WeakMap;Ax=new WeakMap;_g=new WeakMap;Y3=new WeakMap;K3=new WeakMap;var Og,UJ=class extends p7e{constructor({messages:e,...i}){const s=new x7e(e);super({...i,state:s}),jl(this,Og,void 0),this["~registerMessagesCallback"]=(u,d)=>_r(this,Og)["~registerMessagesCallback"](u,d),this["~registerStatusCallback"]=u=>_r(this,Og)["~registerStatusCallback"](u),this["~registerErrorCallback"]=u=>_r(this,Og)["~registerErrorCallback"](u),md(this,Og,s)}};Og=new WeakMap;function _7e({experimental_throttle:t,resume:e=!1,...i}={}){const s=K.useRef("chat"in i?i.chat:new UJ(i));("chat"in i&&i.chat!==s.current||"id"in i&&s.current.id!==i.id)&&(s.current="chat"in i?i.chat:new UJ(i));const d=K.useCallback(b=>s.current["~registerMessagesCallback"](b,t),[t,s.current.id]),h=K.useSyncExternalStore(d,()=>s.current.messages,()=>s.current.messages),m=K.useSyncExternalStore(s.current["~registerStatusCallback"],()=>s.current.status,()=>s.current.status),y=K.useSyncExternalStore(s.current["~registerErrorCallback"],()=>s.current.error,()=>s.current.error),_=K.useCallback(b=>{typeof b=="function"&&(b=b(s.current.messages)),s.current.messages=b},[s]);return K.useEffect(()=>{e&&s.current.resumeStream()},[e,s]),{id:s.current.id,messages:h,setMessages:_,sendMessage:s.current.sendMessage,regenerate:s.current.regenerate,clearError:s.current.clearError,stop:s.current.stop,error:y,resumeStream:s.current.resumeStream,status:m,addToolResult:s.current.addToolOutput,addToolOutput:s.current.addToolOutput,addToolApprovalResponse:s.current.addToolApprovalResponse}}var O7e={},b7e=class{constructor(t={}){this.enabled=t.enabled??O7e.DEBUG==="true",this.prefix=t.prefix??"[Store]",this.level=t.level??"warn"}shouldLog(t){if(!this.enabled)return!1;const e=["log","warn","error"];return e.indexOf(t)>=e.indexOf(this.level)}log(...t){this.shouldLog("log")&&console.log(this.prefix,...t)}warn(...t){this.shouldLog("warn")&&console.warn(this.prefix,...t)}error(...t){this.shouldLog("error")&&console.error(this.prefix,...t)}setEnabled(t){this.enabled=t}setLevel(t){this.level=t}},Ap=new b7e,qJ=!1,Ww=0,AL=0,nT,PL=null,ZJ=[],EL=!1;function Ua(t){nT=t,typeof window<"u"&&(PL&&clearTimeout(PL),PL=setTimeout(()=>{nT===t&&(nT=void 0)},250))}function vi(t,e=0){if(typeof window>"u"){t();return}if(ZJ.push({callback:t,priority:e}),!EL){EL=!0;const i=window.scheduler;(i?.postTask?i.postTask.bind(i):window.requestAnimationFrame?.bind(window)||(u=>setTimeout(u,0)))(()=>{const u=ZJ.splice(0);EL=!1,u.sort((d,h)=>h.priority-d.priority),u.forEach(d=>{d.callback()})})}}function w7e({thresholdMs:t=80}={}){if(typeof window>"u"||qJ)return;qJ=!0,AL=performance.now();const e=i=>{const s=AL+16.7,u=i-s;u>t&&Ap.warn("[Freeze]",`${Math.round(u)}ms`,"lastAction=",nT),AL=i,typeof window<"u"&&typeof window.requestAnimationFrame=="function"&&(Ww=window.requestAnimationFrame(e))};typeof window<"u"&&typeof window.requestAnimationFrame=="function"&&(Ww=window.requestAnimationFrame(e)),typeof window<"u"&&typeof window.addEventListener=="function"&&window.addEventListener("beforeunload",()=>{Ww&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(Ww)})}typeof window<"u"&&w7e({thresholdMs:80});function S7e(t,e){let i=null,s=0,u=null;const d=()=>{u&&(t.apply(null,u),u=null)};return((...h)=>{const m=Date.now(),y=e-(m-s);u=h,y<=0||y>e?(i&&(clearTimeout(i),i=null),s=m,typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback(d,{timeout:50}):d()):i||(i=setTimeout(()=>{s=Date.now(),i=null,typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback(d,{timeout:50}):d()},y))})}var HJ=class{constructor(){this.idToMessage=new Map,this.idToIndex=new Map}update(t){this.idToMessage.clear(),this.idToIndex.clear(),t.forEach((e,i)=>{this.idToMessage.set(e.id,e),this.idToIndex.set(e.id,i)})}getById(t){return this.idToMessage.get(t)}getIndexById(t){return this.idToIndex.get(t)}has(t){return this.idToMessage.has(t)}},T7e=16;function mue(t=[]){let e=null;const i=new HJ,s=new Set;return i.update(t),(u,d)=>(e||(e=S7e(()=>{vi(()=>{const h=d(),m=[...h.messages];h._messageIndex.update(m),u({_throttledMessages:m}),s.forEach(y=>{try{y()}catch(_){console.warn("[chat-store-base] throttled effect error",_)}})})},T7e)),{id:void 0,messages:t,status:"ready",error:void 0,_throttledMessages:[...t],_messageIndex:i,_memoizedSelectors:new Map,_transientDataParts:new Map,sendMessage:void 0,regenerate:void 0,stop:void 0,resumeStream:void 0,addToolResult:void 0,clearError:void 0,setId:h=>{Ua("chat:setId"),vi(()=>u({id:h}))},setMessages:h=>{Ua("chat:setMessages"),vi(()=>{const m=d();h!==m.messages&&(u({messages:h,_memoizedSelectors:new Map}),m.status==="streaming"?vi(()=>{const y=d(),_=[...y.messages];y._messageIndex.update(_),u({_throttledMessages:_})},1):e?.())})},setStatus:h=>{Ua("chat:setStatus"),vi(()=>u({status:h}))},setError:h=>{Ua("chat:setError"),vi(()=>u({error:h}))},setNewChat:(h,m)=>{Ua("chat:setNewChat"),vi(()=>{u({messages:m,status:"ready",error:void 0,id:h,_memoizedSelectors:new Map}),e?.()})},pushMessage:h=>{Ua("chat:pushMessage"),vi(()=>{const m=d();u(y=>({messages:[...y.messages,h],_memoizedSelectors:new Map})),m.status==="streaming"?vi(()=>{const y=d(),_=[...y.messages];y._messageIndex.update(_),u({_throttledMessages:_})},1):e?.()})},popMessage:()=>{Ua("chat:popMessage"),vi(()=>{u(h=>({messages:h.messages.slice(0,-1),_memoizedSelectors:new Map})),e?.()})},replaceMessage:(h,m)=>{Ua("chat:replaceMessage"),vi(()=>{const y=d();u(_=>{const b=[..._.messages];return b[h]=structuredClone(m),{messages:b,_memoizedSelectors:new Map}}),y.status==="streaming"?vi(()=>{const _=d(),b=[..._.messages];_._messageIndex.update(b),u({_throttledMessages:b})},1):e?.()})},replaceMessageById:(h,m)=>{Ua("chat:replaceMessageById"),vi(()=>{const y=d();u(_=>{const b=_._messageIndex.getIndexById(h);if(b===void 0)return _;const T=[..._.messages];return T[b]=structuredClone(m),{messages:T,_memoizedSelectors:new Map}}),y.status==="streaming"?vi(()=>{const _=d(),b=[..._.messages];_._messageIndex.update(b),u({_throttledMessages:b})},1):e?.()})},_syncState:h=>{Ua("chat:_syncState"),vi(()=>{u({...h,_memoizedSelectors:new Map},!1),h.messages&&e?.()})},reset:()=>{Ua("chat:reset"),vi(()=>{const h=d(),m=new HJ;m.update([]),h.setMessages&&h.setMessages([]),u({id:void 0,messages:[],status:"ready",error:void 0,_throttledMessages:[],_messageIndex:m,_memoizedSelectors:new Map,_transientDataParts:new Map})})},getLastMessageId:()=>{const h=d();return h.messages.length>0?h.messages[h.messages.length-1].id:null},getMessageIds:()=>{const h=d();return(h._throttledMessages||h.messages).map(m=>m.id)},getThrottledMessages:()=>{const h=d();return h._throttledMessages||h.messages},getInternalMessages:()=>d().messages,getMessageById:h=>d()._messageIndex.getById(h),getMessageIndexById:h=>d()._messageIndex.getIndexById(h),getMessagesSlice:(h,m)=>{const y=d();return(y._throttledMessages||y.messages).slice(h,m)},getMessageCount:()=>{const h=d();return(h._throttledMessages||h.messages).length},getMemoizedSelector:(h,m,y)=>{const _=d(),b=_._memoizedSelectors.get(h);if(b&&b.deps.length===y.length&&(y.length===0||JSON.stringify(b.deps)===JSON.stringify(y)))return b.result;const T=m();return _._memoizedSelectors.set(h,{result:T,deps:[...y]}),T},registerThrottledMessagesEffect:h=>(s.add(h),()=>{s.delete(h)}),setTransientDataPart:(h,m)=>{Ua("chat:setTransientDataPart"),vi(()=>{u(y=>{const _=new Map(y._transientDataParts);return _.set(h,m),{_transientDataParts:_}})})},getTransientDataPart:h=>d()._transientDataParts.get(h),removeTransientDataPart:h=>{Ua("chat:removeTransientDataPart"),vi(()=>{u(m=>{const y=new Map(m._transientDataParts);return y.delete(h),{_transientDataParts:y}})})},clearTransientDataParts:()=>{Ua("chat:clearTransientDataParts"),vi(()=>u({_transientDataParts:new Map}))}})}function C7e(t=[]){return jle()(Fle(Gle(mue(t)),{name:"chat-store"}))}var Nk=K.createContext(void 0);function k7e({children:t,initialMessages:e,store:i}){const s=K.useRef(null);return s.current===null&&(s.current=i||C7e(e||[])),K.createElement(Nk.Provider,{value:s.current},t)}function A_(t){const e=K.useContext(Nk);if(!e)throw new Error("useChatStore must be used within Provider");return Vle(e,t||(s=>s))}function wc(){const t=K.useContext(Nk);if(!t)throw new Error("useChatStoreApi must be used within Provider");return t}var A7e=t=>t.status,P7e=t=>t.id,Pp=()=>A_(A7e),$k=()=>A_(P7e),gue=t=>A_(K.useCallback(e=>{const i=e.getMessageById(t);if(!i)throw new Error(`Message not found for id: ${t}`);return i},[t])),E7e=()=>A_(t=>t.reset),M7e=async()=>{Ap.warn("sendMessage not configured - make sure useChat is called with transport")},D7e=async()=>{Ap.warn("regenerate not configured - make sure useChat is called with transport")},I7e=async()=>{Ap.warn("stop not configured - make sure useChat is called with transport")},R7e=async()=>{Ap.warn("resumeStream not configured - make sure useChat is called with transport")},L7e=async()=>{Ap.warn("addToolResult not configured - make sure useChat is called with transport")},N7e=()=>{Ap.warn("clearError not configured - make sure useChat is called with transport")},fu=()=>A_(D8e(t=>({setMessages:t.setMessages,pushMessage:t.pushMessage,popMessage:t.popMessage,replaceMessage:t.replaceMessage,replaceMessageById:t.replaceMessageById,setStatus:t.setStatus,setError:t.setError,setId:t.setId,setNewChat:t.setNewChat,reset:t.reset,sendMessage:t.sendMessage||M7e,regenerate:t.regenerate||D7e,stop:t.stop||I7e,resumeStream:t.resumeStream||R7e,addToolResult:t.addToolResult||L7e,clearError:t.clearError||N7e})));function $7e(t={}){const{store:e,enableBatching:i=!0,...s}=t,u=t.onData,d=wc(),h=e||d,m=K.useCallback(C=>{if(C.type?.startsWith("data-")&&typeof h.getState=="function"){const A=h.getState();C.data===null||C.data===void 0?A.removeTransientDataPart&&A.removeTransientDataPart(C.type):A.setTransientDataPart&&A.setTransientDataPart(C.type,C.data)}u&&u(C)},[h,u]),y=_7e({...s,onData:m}),_=K.useRef(h),b=K.useCallback(C=>{_.current&&(typeof _.current.getState=="function"?_.current.getState()._syncState(C):typeof _.current._syncState=="function"?_.current._syncState(C):typeof _.current.setState=="function"&&_.current.setState(C))},[]);K.useEffect(()=>{const A=!((h.getState?.()||{messages:[]}).messages?.length>0&&y.messages.length===0),D={id:y.id,error:y.error,status:y.status};A&&(D.messages=y.messages);const L={sendMessage:y.sendMessage,regenerate:y.regenerate,stop:y.stop,resumeStream:y.resumeStream,addToolResult:y.addToolResult,setMessages:y.setMessages,clearError:y.clearError},z={...D,...L};i&&typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>b(z)):b(z)},[y.id,y.messages,y.error,y.status,b,i,y.resumeStream,y.clearError,y.sendMessage,h,y.setMessages,y.stop,y.regenerate,y.addToolResult]);const T=Vle(h,C=>C.messages);return{...y,messages:T||y.messages}}var ML,XJ;function vue(){return XJ||(XJ=1,ML=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var s,u,d;if(Array.isArray(e)){if(s=e.length,s!=i.length)return!1;for(u=s;u--!==0;)if(!t(e[u],i[u]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(d=Object.keys(e),s=d.length,s!==Object.keys(i).length)return!1;for(u=s;u--!==0;)if(!Object.prototype.hasOwnProperty.call(i,d[u]))return!1;for(u=s;u--!==0;){var h=d[u];if(!t(e[h],i[h]))return!1}return!0}return e!==e&&i!==i}),ML}var z7e=vue();const eB=cu(z7e);var DL={exports:{}},IL={};var YJ;function B7e(){if(YJ)return IL;YJ=1;var t=Ise(),e=CQe();function i(_,b){return _===b&&(_!==0||1/_===1/b)||_!==_&&b!==b}var s=typeof Object.is=="function"?Object.is:i,u=e.useSyncExternalStore,d=t.useRef,h=t.useEffect,m=t.useMemo,y=t.useDebugValue;return IL.useSyncExternalStoreWithSelector=function(_,b,T,C,A){var D=d(null);if(D.current===null){var L={hasValue:!1,value:null};D.current=L}else L=D.current;D=m(function(){function $(G){if(!Q){if(Q=!0,B=G,G=C(G),A!==void 0&&L.hasValue){var H=L.value;if(A(H,G))return q=H}return q=G}if(H=q,s(B,G))return H;var V=C(G);return A!==void 0&&A(H,V)?(B=G,H):(B=G,q=V)}var Q=!1,B,q,Y=T===void 0?null:T;return[function(){return $(b())},Y===null?void 0:function(){return $(Y())}]},[b,T,C,A]);var z=u(_,D[0],D[1]);return h(function(){L.hasValue=!0,L.value=z},[z]),y(z),z},IL}var KJ;function Q7e(){return KJ||(KJ=1,DL.exports=B7e()),DL.exports}var j7e=Q7e();const V7e=cu(j7e),{useSyncExternalStoreWithSelector:F7e}=V7e,G7e=t=>t;function tB(t,e=G7e,i){const s=F7e(t.subscribe,t.getState,t.getInitialState,e,i);return mt.useDebugValue(s),s}function Ov(t,e){const i=wc();if(!i)throw new Error("useBaseChatStore must be used within ChatStoreProvider");return tB(i,t??(u=>u),e)}const P_=()=>Ov(t=>t.getMessageIds(),T_),W7e=t=>Ov(e=>{if(!t)return;const i=e._throttledMessages||e.messages,s=i.findIndex(d=>d.id===t);return s===-1?void 0:i.slice(0,s+1).findLast(d=>d.role==="assistant"&&d.metadata?.usage)?.metadata?.usage},T_),yue=t=>Ov(e=>{const i=e.getThrottledMessages().find(s=>s.id===t);if(!i)throw new Error(`Message not found for id: ${t}`);return i.role}),U7e=t=>Ov(e=>{const i=e.getThrottledMessages().find(s=>s.id===t);if(!i)throw new Error(`Message not found for id: ${t}`);return i.parts.filter(s=>s.type==="data-researchUpdate")},eB),xue=t=>Ov(e=>{const i=e.getThrottledMessages().find(s=>s.id===t);if(!i)throw new Error(`Message not found for id: ${t}`);return i.metadata},T_),zk=()=>Ov(t=>t.getLastMessageId());function q7e({chatId:t,className:e}){const i=Rse(),s=mQe(),u=async()=>{try{const d=await s.mutateAsync({chatId:t});i.push(`/chat/${d.chatId}`),En.success("Chat saved to your chats!")}catch(d){console.error("Failed to clone chat:",d),En.error("Failed to save chat. Please try again.")}};return I.jsx("div",{className:"m-auto flex w-fit items-center justify-center px-4 py-10",children:I.jsx(xn,{className:e,disabled:s.isPending,onClick:u,size:"sm",type:"button",variant:"default",children:s.isPending?I.jsxs(I.Fragment,{children:[I.jsx(du,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):I.jsxs(I.Fragment,{children:[I.jsx(Sp,{className:"mr-2 h-4 w-4"}),"Save to your chats"]})})})}const Z7e={damping:.7,stiffness:.05,mass:1.25},H7e=70,X7e=1e3/60,Y7e=350;let Bk=!1;globalThis.document?.addEventListener("mousedown",()=>{Bk=!0});globalThis.document?.addEventListener("mouseup",()=>{Bk=!1});globalThis.document?.addEventListener("click",()=>{Bk=!1});const K7e=(t={})=>{const[e,i]=K.useState(!1),[s,u]=K.useState(t.initial!==!1),[d,h]=K.useState(!1),m=K.useRef(null);m.current=t;const y=K.useCallback(()=>{if(!Bk)return!1;const Q=window.getSelection();if(!Q||!Q.rangeCount)return!1;const B=Q.getRangeAt(0);return B.commonAncestorContainer.contains(z.current)||z.current?.contains(B.commonAncestorContainer)},[]),_=K.useCallback(Q=>{T.isAtBottom=Q,u(Q)},[]),b=K.useCallback(Q=>{T.escapedFromLock=Q,i(Q)},[]),T=K.useMemo(()=>{let Q;return{escapedFromLock:e,isAtBottom:s,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return z.current?.scrollTop??0},set scrollTop(B){z.current&&(z.current.scrollTop=B,T.ignoreScrollToTop=z.current.scrollTop)},get targetScrollTop(){return!z.current||!$.current?0:z.current.scrollHeight-1-z.current.clientHeight},get calculatedTargetScrollTop(){if(!z.current||!$.current)return 0;const{targetScrollTop:B}=this;if(!t.targetScrollTop)return B;if(Q?.targetScrollTop===B)return Q.calculatedScrollTop;const q=Math.max(Math.min(t.targetScrollTop(B,{scrollElement:z.current,contentElement:$.current}),B),0);return Q={targetScrollTop:B,calculatedScrollTop:q},requestAnimationFrame(()=>{Q=void 0}),q},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=H7e}}},[]),C=K.useCallback((Q={})=>{typeof Q=="string"&&(Q={animation:Q}),Q.preserveScrollPosition||_(!0);const B=Date.now()+(Number(Q.wait)||0),q=LL(m.current,Q.animation),{ignoreEscapes:Y=!1}=Q;let G,H=T.calculatedTargetScrollTop;Q.duration instanceof Promise?Q.duration.finally(()=>{G=Date.now()}):G=B+(Q.duration??0);const V=async()=>{const F=new Promise(requestAnimationFrame).then(()=>{if(!T.isAtBottom)return T.animation=void 0,!1;const{scrollTop:te}=T,ae=performance.now(),oe=(ae-(T.lastTick??ae))/X7e;if(T.animation||(T.animation={behavior:q,promise:F,ignoreEscapes:Y}),T.animation.behavior===q&&(T.lastTick=ae),y()||B>Date.now())return V();if(te<Math.min(H,T.calculatedTargetScrollTop)){if(T.animation?.behavior===q){if(q==="instant")return T.scrollTop=T.calculatedTargetScrollTop,V();T.velocity=(q.damping*T.velocity+q.stiffness*T.scrollDifference)/q.mass,T.accumulated+=T.velocity*oe,T.scrollTop+=T.accumulated,T.scrollTop!==te&&(T.accumulated=0)}return V()}return G>Date.now()?(H=T.calculatedTargetScrollTop,V()):(T.animation=void 0,T.scrollTop<T.calculatedTargetScrollTop?C({animation:LL(m.current,m.current.resize),ignoreEscapes:Y,duration:Math.max(0,G-Date.now())||void 0}):T.isAtBottom)});return F.then(te=>(requestAnimationFrame(()=>{T.animation||(T.lastTick=void 0,T.velocity=0)}),te))};return Q.wait!==!0&&(T.animation=void 0),T.animation?.behavior===q?T.animation.promise:V()},[_,y,T]),A=K.useCallback(()=>{b(!0),_(!1)},[b,_]),D=K.useCallback(({target:Q})=>{if(Q!==z.current)return;const{scrollTop:B,ignoreScrollToTop:q}=T;let{lastScrollTop:Y=B}=T;T.lastScrollTop=B,T.ignoreScrollToTop=void 0,q&&q>B&&(Y=q),h(T.isNearBottom),setTimeout(()=>{if(T.resizeDifference||B===q)return;if(y()){b(!0),_(!1);return}const G=B>Y,H=B<Y;if(T.animation?.ignoreEscapes){T.scrollTop=Y;return}H&&(b(!0),_(!1)),G&&b(!1),!T.escapedFromLock&&T.isNearBottom&&_(!0)},1)},[b,_,y,T]),L=K.useCallback(({target:Q,deltaY:B})=>{let q=Q;for(;!["scroll","auto"].includes(getComputedStyle(q).overflow);){if(!q.parentElement)return;q=q.parentElement}q===z.current&&B<0&&z.current.scrollHeight>z.current.clientHeight&&!T.animation?.ignoreEscapes&&(b(!0),_(!1))},[b,_,T]),z=JJ(Q=>{z.current?.removeEventListener("scroll",D),z.current?.removeEventListener("wheel",L),Q?.addEventListener("scroll",D,{passive:!0}),Q?.addEventListener("wheel",L,{passive:!0})},[]),$=JJ(Q=>{if(T.resizeObserver?.disconnect(),!Q)return;let B;T.resizeObserver=new ResizeObserver(([q])=>{const{height:Y}=q.contentRect,G=Y-(B??Y);if(T.resizeDifference=G,T.scrollTop>T.targetScrollTop&&(T.scrollTop=T.targetScrollTop),h(T.isNearBottom),G>=0){const H=LL(m.current,B?m.current.resize:m.current.initial);C({animation:H,wait:!0,preserveScrollPosition:!0,duration:H==="instant"?void 0:Y7e})}else T.isNearBottom&&(b(!1),_(!0));B=Y,requestAnimationFrame(()=>{setTimeout(()=>{T.resizeDifference===G&&(T.resizeDifference=0)},1)})}),T.resizeObserver?.observe(Q)},[]);return{contentRef:$,scrollRef:z,scrollToBottom:C,stopScroll:A,isAtBottom:s||d,isNearBottom:d,escapedFromLock:e,state:T}};function JJ(t,e){const i=K.useCallback(s=>(i.current=s,t(s)),e);return i}const RL=new Map;function LL(...t){const e={...Z7e};let i=!1;for(const u of t){if(u==="instant"){i=!0;continue}typeof u=="object"&&(i=!1,e.damping=u.damping??e.damping,e.stiffness=u.stiffness??e.stiffness,e.mass=u.mass??e.mass)}const s=JSON.stringify(e);return RL.has(s)||RL.set(s,Object.freeze(e)),i?"instant":RL.get(s)}const _ue=K.createContext(null),J7e=typeof window<"u"?K.useLayoutEffect:K.useEffect;function J3({instance:t,children:e,resize:i,initial:s,mass:u,damping:d,stiffness:h,targetScrollTop:m,contextRef:y,..._}){const b=K.useRef(null),T=K.useCallback((Y,G)=>(q?.targetScrollTop??m)?.(Y,G)??Y,[m]),C=K7e({mass:u,damping:d,stiffness:h,resize:i,initial:s,targetScrollTop:T}),{scrollRef:A,contentRef:D,scrollToBottom:L,stopScroll:z,isAtBottom:$,escapedFromLock:Q,state:B}=t??C,q=K.useMemo(()=>({scrollToBottom:L,stopScroll:z,scrollRef:A,isAtBottom:$,escapedFromLock:Q,contentRef:D,state:B,get targetScrollTop(){return b.current},set targetScrollTop(Y){b.current=Y}}),[L,$,D,A,z,Q,B]);return K.useImperativeHandle(y,()=>q,[q]),J7e(()=>{A.current&&getComputedStyle(A.current).overflow==="visible"&&(A.current.style.overflow="auto")},[]),K.createElement(_ue.Provider,{value:q},K.createElement("div",{..._},typeof e=="function"?e(q):e))}(function(t){function e({children:i,scrollClassName:s,...u}){const d=nB();return K.createElement("div",{ref:d.scrollRef,style:{height:"100%",width:"100%",scrollbarGutter:"stable both-edges"},className:s},K.createElement("div",{...u,ref:d.contentRef},typeof i=="function"?i(d):i))}t.Content=e})(J3||(J3={}));function nB(){const t=K.useContext(_ue);if(!t)throw new Error("use-stick-to-bottom component context must be used within a StickToBottom component");return t}const e6e=({className:t,...e})=>I.jsx(J3,{className:We("relative flex-1 overflow-y-hidden",t),initial:"smooth",resize:"smooth",role:"log",...e}),t6e=({className:t,...e})=>{const{isAtBottom:i,scrollToBottom:s}=nB(),u=K.useCallback(()=>{s()},[s]);return!i&&I.jsx(xn,{className:We("absolute bottom-4 left-[50%] translate-x-[-50%] rounded-full",t),onClick:u,size:"icon",type:"button",variant:"outline",...e,children:I.jsx(Tje,{className:"size-4"})})};function n6e({className:t,children:e,viewportRef:i,...s}){return I.jsxs(PQe,{"data-slot":"scroll-area",className:We("relative",t),...s,children:[I.jsx(EQe,{ref:i,"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),I.jsx(Hse,{}),I.jsx(MQe,{})]})}const r6e=({className:t,children:e,...i})=>{const s=nB();return I.jsx(n6e,{className:We("h-full w-full","*:data-radix-scroll-area-viewport:contain-strict","[&_[data-slot=scroll-area-viewport]>div]:block!","[&_[data-slot=scroll-area-viewport]>div]:min-w-0!","[&_[data-slot=scroll-area-viewport]>div]:max-w-full"),viewportRef:s.scrollRef,children:I.jsx("div",{...i,className:We("flex flex-col gap-8 p-4",t),ref:s.contentRef,children:typeof e=="function"?e(s):e})})},rB=K.createContext({});function sp(t){const e=K.useRef(null);return e.current===null&&(e.current=t()),e.current}const Oue=typeof window<"u",iB=Oue?K.useLayoutEffect:K.useEffect,Qk=K.createContext(null);function aB(t,e){t.indexOf(e)===-1&&t.push(e)}function oB(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const su=(t,e,i)=>i>e?e:i<t?t:i;let sB=()=>{};const mc={},bue=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wue(t){return typeof t=="object"&&t!==null}const Sue=t=>/^0[^.\s]+$/u.test(t);function lB(t){let e;return()=>(e===void 0&&(e=t()),e)}const ds=t=>t,i6e=(t,e)=>i=>e(t(i)),E_=(...t)=>t.reduce(i6e),k1=(t,e,i)=>{const s=e-t;return s===0?1:(i-t)/s};class uB{constructor(){this.subscriptions=[]}add(e){return aB(this.subscriptions,e),()=>oB(this.subscriptions,e)}notify(e,i,s){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](e,i,s);else for(let d=0;d<u;d++){const h=this.subscriptions[d];h&&h(e,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hc=t=>t*1e3,os=t=>t/1e3;function Tue(t,e){return e?t*(1e3/e):0}const Cue=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,a6e=1e-7,o6e=12;function s6e(t,e,i,s,u){let d,h,m=0;do h=e+(i-e)/2,d=Cue(h,s,u)-t,d>0?i=h:e=h;while(Math.abs(d)>a6e&&++m<o6e);return h}function M_(t,e,i,s){if(t===e&&i===s)return ds;const u=d=>s6e(d,0,1,t,i);return d=>d===0||d===1?d:Cue(u(d),e,s)}const kue=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Aue=t=>e=>1-t(1-e),Pue=M_(.33,1.53,.69,.99),cB=Aue(Pue),Eue=kue(cB),Mue=t=>(t*=2)<1?.5*cB(t):.5*(2-Math.pow(2,-10*(t-1))),dB=t=>1-Math.sin(Math.acos(t)),Due=Aue(dB),Iue=kue(dB),l6e=M_(.42,0,1,1),u6e=M_(0,0,.58,1),Rue=M_(.42,0,.58,1),c6e=t=>Array.isArray(t)&&typeof t[0]!="number",Lue=t=>Array.isArray(t)&&typeof t[0]=="number",d6e={linear:ds,easeIn:l6e,easeInOut:Rue,easeOut:u6e,circIn:dB,circInOut:Iue,circOut:Due,backIn:cB,backInOut:Eue,backOut:Pue,anticipate:Mue},f6e=t=>typeof t=="string",eee=t=>{if(Lue(t)){sB(t.length===4);const[e,i,s,u]=t;return M_(e,i,s,u)}else if(f6e(t))return d6e[t];return t},Uw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h6e(t,e){let i=new Set,s=new Set,u=!1,d=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(b){h.has(b)&&(_.schedule(b),t()),b(m)}const _={schedule:(b,T=!1,C=!1)=>{const D=C&&u?i:s;return T&&h.add(b),D.has(b)||D.add(b),b},cancel:b=>{s.delete(b),h.delete(b)},process:b=>{if(m=b,u){d=!0;return}u=!0,[i,s]=[s,i],i.forEach(y),i.clear(),u=!1,d&&(d=!1,_.process(b))}};return _}const p6e=40;function Nue(t,e){let i=!1,s=!0;const u={delta:0,timestamp:0,isProcessing:!1},d=()=>i=!0,h=Uw.reduce((B,q)=>(B[q]=h6e(d),B),{}),{setup:m,read:y,resolveKeyframes:_,preUpdate:b,update:T,preRender:C,render:A,postRender:D}=h,L=()=>{const B=mc.useManualTiming?u.timestamp:performance.now();i=!1,mc.useManualTiming||(u.delta=s?1e3/60:Math.max(Math.min(B-u.timestamp,p6e),1)),u.timestamp=B,u.isProcessing=!0,m.process(u),y.process(u),_.process(u),b.process(u),T.process(u),C.process(u),A.process(u),D.process(u),u.isProcessing=!1,i&&e&&(s=!1,t(L))},z=()=>{i=!0,s=!0,u.isProcessing||t(L)};return{schedule:Uw.reduce((B,q)=>{const Y=h[q];return B[q]=(G,H=!1,V=!1)=>(i||z(),Y.schedule(G,H,V)),B},{}),cancel:B=>{for(let q=0;q<Uw.length;q++)h[Uw[q]].cancel(B)},state:u,steps:h}}const{schedule:ur,cancel:gc,state:Ui,steps:NL}=Nue(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let rT;function m6e(){rT=void 0}const Ca={now:()=>(rT===void 0&&Ca.set(Ui.isProcessing||mc.useManualTiming?Ui.timestamp:performance.now()),rT),set:t=>{rT=t,queueMicrotask(m6e)}},$ue=t=>e=>typeof e=="string"&&e.startsWith(t),zue=$ue("--"),g6e=$ue("var(--"),fB=t=>g6e(t)?v6e.test(t.split("/*")[0].trim()):!1,v6e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tee(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const bv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},A1={...bv,transform:t=>su(0,1,t)},qw={...bv,default:1},Fx=t=>Math.round(t*1e5)/1e5,hB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y6e(t){return t==null}const x6e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pB=(t,e)=>i=>!!(typeof i=="string"&&x6e.test(i)&&i.startsWith(t)||e&&!y6e(i)&&Object.prototype.hasOwnProperty.call(i,e)),Bue=(t,e,i)=>s=>{if(typeof s!="string")return s;const[u,d,h,m]=s.match(hB);return{[t]:parseFloat(u),[e]:parseFloat(d),[i]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},_6e=t=>su(0,255,t),$L={...bv,transform:t=>Math.round(_6e(t))},Fh={test:pB("rgb","red"),parse:Bue("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+$L.transform(t)+", "+$L.transform(e)+", "+$L.transform(i)+", "+Fx(A1.transform(s))+")"};function O6e(t){let e="",i="",s="",u="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),u=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),u=t.substring(4,5),e+=e,i+=i,s+=s,u+=u),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:u?parseInt(u,16)/255:1}}const e4={test:pB("#"),parse:O6e,transform:Fh.transform},D_=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gd=D_("deg"),iu=D_("%"),Lt=D_("px"),b6e=D_("vh"),w6e=D_("vw"),nee={...iu,parse:t=>iu.parse(t)/100,transform:t=>iu.transform(t*100)},kg={test:pB("hsl","hue"),parse:Bue("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+iu.transform(Fx(e))+", "+iu.transform(Fx(i))+", "+Fx(A1.transform(s))+")"},ii={test:t=>Fh.test(t)||e4.test(t)||kg.test(t),parse:t=>Fh.test(t)?Fh.parse(t):kg.test(t)?kg.parse(t):e4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fh.transform(t):kg.transform(t),getAnimatableNone:t=>{const e=ii.parse(t);return e.alpha=0,ii.transform(e)}},S6e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T6e(t){return isNaN(t)&&typeof t=="string"&&(t.match(hB)?.length||0)+(t.match(S6e)?.length||0)>0}const Que="number",jue="color",C6e="var",k6e="var(",ree="${}",A6e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function P1(t){const e=t.toString(),i=[],s={color:[],number:[],var:[]},u=[];let d=0;const m=e.replace(A6e,y=>(ii.test(y)?(s.color.push(d),u.push(jue),i.push(ii.parse(y))):y.startsWith(k6e)?(s.var.push(d),u.push(C6e),i.push(y)):(s.number.push(d),u.push(Que),i.push(parseFloat(y))),++d,ree)).split(ree);return{values:i,split:m,indexes:s,types:u}}function Vue(t){return P1(t).values}function Fue(t){const{split:e,types:i}=P1(t),s=e.length;return u=>{let d="";for(let h=0;h<s;h++)if(d+=e[h],u[h]!==void 0){const m=i[h];m===Que?d+=Fx(u[h]):m===jue?d+=ii.transform(u[h]):d+=u[h]}return d}}const P6e=t=>typeof t=="number"?0:ii.test(t)?ii.getAnimatableNone(t):t;function E6e(t){const e=Vue(t);return Fue(t)(e.map(P6e))}const jd={test:T6e,parse:Vue,createTransformer:Fue,getAnimatableNone:E6e};function zL(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function M6e({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,e/=100,i/=100;let u=0,d=0,h=0;if(!e)u=d=h=i;else{const m=i<.5?i*(1+e):i+e-i*e,y=2*i-m;u=zL(y,m,t+1/3),d=zL(y,m,t),h=zL(y,m,t-1/3)}return{red:Math.round(u*255),green:Math.round(d*255),blue:Math.round(h*255),alpha:s}}function BT(t,e){return i=>i>0?e:t}const Pr=(t,e,i)=>t+(e-t)*i,BL=(t,e,i)=>{const s=t*t,u=i*(e*e-s)+s;return u<0?0:Math.sqrt(u)},D6e=[e4,Fh,kg],I6e=t=>D6e.find(e=>e.test(t));function iee(t){const e=I6e(t);if(!e)return!1;let i=e.parse(t);return e===kg&&(i=M6e(i)),i}const aee=(t,e)=>{const i=iee(t),s=iee(e);if(!i||!s)return BT(t,e);const u={...i};return d=>(u.red=BL(i.red,s.red,d),u.green=BL(i.green,s.green,d),u.blue=BL(i.blue,s.blue,d),u.alpha=Pr(i.alpha,s.alpha,d),Fh.transform(u))},t4=new Set(["none","hidden"]);function R6e(t,e){return t4.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function L6e(t,e){return i=>Pr(t,e,i)}function mB(t){return typeof t=="number"?L6e:typeof t=="string"?fB(t)?BT:ii.test(t)?aee:z6e:Array.isArray(t)?Gue:typeof t=="object"?ii.test(t)?aee:N6e:BT}function Gue(t,e){const i=[...t],s=i.length,u=t.map((d,h)=>mB(d)(d,e[h]));return d=>{for(let h=0;h<s;h++)i[h]=u[h](d);return i}}function N6e(t,e){const i={...t,...e},s={};for(const u in i)t[u]!==void 0&&e[u]!==void 0&&(s[u]=mB(t[u])(t[u],e[u]));return u=>{for(const d in s)i[d]=s[d](u);return i}}function $6e(t,e){const i=[],s={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const d=e.types[u],h=t.indexes[d][s[d]],m=t.values[h]??0;i[u]=m,s[d]++}return i}const z6e=(t,e)=>{const i=jd.createTransformer(e),s=P1(t),u=P1(e);return s.indexes.var.length===u.indexes.var.length&&s.indexes.color.length===u.indexes.color.length&&s.indexes.number.length>=u.indexes.number.length?t4.has(t)&&!u.values.length||t4.has(e)&&!s.values.length?R6e(t,e):E_(Gue($6e(s,u),u.values),i):BT(t,e)};function Wue(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Pr(t,e,i):mB(t)(t,e)}const B6e=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ur.update(e,i),stop:()=>gc(e),now:()=>Ui.isProcessing?Ui.timestamp:Ca.now()}},Uue=(t,e,i=10)=>{let s="";const u=Math.max(Math.round(e/i),2);for(let d=0;d<u;d++)s+=Math.round(t(d/(u-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},QT=2e4;function gB(t){let e=0;const i=50;let s=t.next(e);for(;!s.done&&e<QT;)e+=i,s=t.next(e);return e>=QT?1/0:e}function Q6e(t,e=100,i){const s=i({...t,keyframes:[0,e]}),u=Math.min(gB(s),QT);return{type:"keyframes",ease:d=>s.next(u*d).value/e,duration:os(u)}}const j6e=5;function que(t,e,i){const s=Math.max(e-j6e,0);return Tue(i-t(s),e-s)}const jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},QL=.001;function V6e({duration:t=jr.duration,bounce:e=jr.bounce,velocity:i=jr.velocity,mass:s=jr.mass}){let u,d,h=1-e;h=su(jr.minDamping,jr.maxDamping,h),t=su(jr.minDuration,jr.maxDuration,os(t)),h<1?(u=_=>{const b=_*h,T=b*t,C=b-i,A=n4(_,h),D=Math.exp(-T);return QL-C/A*D},d=_=>{const T=_*h*t,C=T*i+i,A=Math.pow(h,2)*Math.pow(_,2)*t,D=Math.exp(-T),L=n4(Math.pow(_,2),h);return(-u(_)+QL>0?-1:1)*((C-A)*D)/L}):(u=_=>{const b=Math.exp(-_*t),T=(_-i)*t+1;return-QL+b*T},d=_=>{const b=Math.exp(-_*t),T=(i-_)*(t*t);return b*T});const m=5/t,y=G6e(u,d,m);if(t=hc(t),isNaN(y))return{stiffness:jr.stiffness,damping:jr.damping,duration:t};{const _=Math.pow(y,2)*s;return{stiffness:_,damping:h*2*Math.sqrt(s*_),duration:t}}}const F6e=12;function G6e(t,e,i){let s=i;for(let u=1;u<F6e;u++)s=s-t(s)/e(s);return s}function n4(t,e){return t*Math.sqrt(1-e*e)}const W6e=["duration","bounce"],U6e=["stiffness","damping","mass"];function oee(t,e){return e.some(i=>t[i]!==void 0)}function q6e(t){let e={velocity:jr.velocity,stiffness:jr.stiffness,damping:jr.damping,mass:jr.mass,isResolvedFromDuration:!1,...t};if(!oee(t,U6e)&&oee(t,W6e))if(t.visualDuration){const i=t.visualDuration,s=2*Math.PI/(i*1.2),u=s*s,d=2*su(.05,1,1-(t.bounce||0))*Math.sqrt(u);e={...e,mass:jr.mass,stiffness:u,damping:d}}else{const i=V6e(t);e={...e,...i,mass:jr.mass},e.isResolvedFromDuration=!0}return e}function jT(t=jr.visualDuration,e=jr.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:u}=i;const d=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],m={done:!1,value:d},{stiffness:y,damping:_,mass:b,duration:T,velocity:C,isResolvedFromDuration:A}=q6e({...i,velocity:-os(i.velocity||0)}),D=C||0,L=_/(2*Math.sqrt(y*b)),z=h-d,$=os(Math.sqrt(y/b)),Q=Math.abs(z)<5;s||(s=Q?jr.restSpeed.granular:jr.restSpeed.default),u||(u=Q?jr.restDelta.granular:jr.restDelta.default);let B;if(L<1){const Y=n4($,L);B=G=>{const H=Math.exp(-L*$*G);return h-H*((D+L*$*z)/Y*Math.sin(Y*G)+z*Math.cos(Y*G))}}else if(L===1)B=Y=>h-Math.exp(-$*Y)*(z+(D+$*z)*Y);else{const Y=$*Math.sqrt(L*L-1);B=G=>{const H=Math.exp(-L*$*G),V=Math.min(Y*G,300);return h-H*((D+L*$*z)*Math.sinh(V)+Y*z*Math.cosh(V))/Y}}const q={calculatedDuration:A&&T||null,next:Y=>{const G=B(Y);if(A)m.done=Y>=T;else{let H=Y===0?D:0;L<1&&(H=Y===0?hc(D):que(B,Y,G));const V=Math.abs(H)<=s,F=Math.abs(h-G)<=u;m.done=V&&F}return m.value=m.done?h:G,m},toString:()=>{const Y=Math.min(gB(q),QT),G=Uue(H=>q.next(Y*H).value,Y,30);return Y+"ms "+G},toTransition:()=>{}};return q}jT.applyToOptions=t=>{const e=Q6e(t,100,jT);return t.ease=e.ease,t.duration=hc(e.duration),t.type="keyframes",t};function r4({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:u=10,bounceStiffness:d=500,modifyTarget:h,min:m,max:y,restDelta:_=.5,restSpeed:b}){const T=t[0],C={done:!1,value:T},A=V=>m!==void 0&&V<m||y!==void 0&&V>y,D=V=>m===void 0?y:y===void 0||Math.abs(m-V)<Math.abs(y-V)?m:y;let L=i*e;const z=T+L,$=h===void 0?z:h(z);$!==z&&(L=$-T);const Q=V=>-L*Math.exp(-V/s),B=V=>$+Q(V),q=V=>{const F=Q(V),te=B(V);C.done=Math.abs(F)<=_,C.value=C.done?$:te};let Y,G;const H=V=>{A(C.value)&&(Y=V,G=jT({keyframes:[C.value,D(C.value)],velocity:que(B,V,C.value),damping:u,stiffness:d,restDelta:_,restSpeed:b}))};return H(0),{calculatedDuration:null,next:V=>{let F=!1;return!G&&Y===void 0&&(F=!0,q(V),H(V)),Y!==void 0&&V>=Y?G.next(V-Y):(!F&&q(V),C)}}}function Z6e(t,e,i){const s=[],u=i||mc.mix||Wue,d=t.length-1;for(let h=0;h<d;h++){let m=u(t[h],t[h+1]);if(e){const y=Array.isArray(e)?e[h]||ds:e;m=E_(y,m)}s.push(m)}return s}function Zue(t,e,{clamp:i=!0,ease:s,mixer:u}={}){const d=t.length;if(sB(d===e.length),d===1)return()=>e[0];if(d===2&&e[0]===e[1])return()=>e[1];const h=t[0]===t[1];t[0]>t[d-1]&&(t=[...t].reverse(),e=[...e].reverse());const m=Z6e(e,s,u),y=m.length,_=b=>{if(h&&b<t[0])return e[0];let T=0;if(y>1)for(;T<t.length-2&&!(b<t[T+1]);T++);const C=k1(t[T],t[T+1],b);return m[T](C)};return i?b=>_(su(t[0],t[d-1],b)):_}function H6e(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const u=k1(0,e,s);t.push(Pr(i,1,u))}}function X6e(t){const e=[0];return H6e(e,t.length-1),e}function Y6e(t,e){return t.map(i=>i*e)}function K6e(t,e){return t.map(()=>e||Rue).splice(0,t.length-1)}function Gx({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){const u=c6e(s)?s.map(eee):eee(s),d={done:!1,value:e[0]},h=Y6e(i&&i.length===e.length?i:X6e(e),t),m=Zue(h,e,{ease:Array.isArray(u)?u:K6e(e,u)});return{calculatedDuration:t,next:y=>(d.value=m(y),d.done=y>=t,d)}}const J6e=t=>t!==null;function vB(t,{repeat:e,repeatType:i="loop"},s,u=1){const d=t.filter(J6e),m=u<0||e&&i!=="loop"&&e%2===1?0:d.length-1;return!m||s===void 0?d[m]:s}const eGe={decay:r4,inertia:r4,tween:Gx,keyframes:Gx,spring:jT};function Hue(t){typeof t.type=="string"&&(t.type=eGe[t.type])}class yB{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const tGe=t=>t/100;class xB extends yB{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Ca.now()&&this.tick(Ca.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hue(e);const{type:i=Gx,repeat:s=0,repeatDelay:u=0,repeatType:d,velocity:h=0}=e;let{keyframes:m}=e;const y=i||Gx;y!==Gx&&typeof m[0]!="number"&&(this.mixKeyframes=E_(tGe,Wue(m[0],m[1])),m=[0,100]);const _=y({...e,keyframes:m});d==="mirror"&&(this.mirroredGenerator=y({...e,keyframes:[...m].reverse(),velocity:-h})),_.calculatedDuration===null&&(_.calculatedDuration=gB(_));const{calculatedDuration:b}=_;this.calculatedDuration=b,this.resolvedDuration=b+u,this.totalDuration=this.resolvedDuration*(s+1)-u,this.generator=_}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:s,totalDuration:u,mixKeyframes:d,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:_=0,keyframes:b,repeat:T,repeatType:C,repeatDelay:A,type:D,onUpdate:L,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const $=this.currentTime-_*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?$<0:$>u;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let B=this.currentTime,q=s;if(T){const V=Math.min(this.currentTime,u)/m;let F=Math.floor(V),te=V%1;!te&&V>=1&&(te=1),te===1&&F--,F=Math.min(F,T+1),F%2&&(C==="reverse"?(te=1-te,A&&(te-=A/m)):C==="mirror"&&(q=h)),B=su(0,1,te)*m}const Y=Q?{done:!1,value:b[0]}:q.next(B);d&&(Y.value=d(Y.value));let{done:G}=Y;!Q&&y!==null&&(G=this.playbackSpeed>=0?this.currentTime>=u:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return H&&D!==r4&&(Y.value=vB(b,this.options,z,this.speed)),L&&L(Y.value),H&&this.finish(),Y}then(e,i){return this.finished.then(e,i)}get duration(){return os(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(this.currentTime)}set time(e){e=hc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ca.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=os(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=B6e,startTime:i}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ca.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nGe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Gh=t=>t*180/Math.PI,i4=t=>{const e=Gh(Math.atan2(t[1],t[0]));return a4(e)},rGe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:i4,rotateZ:i4,skewX:t=>Gh(Math.atan(t[1])),skewY:t=>Gh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},a4=t=>(t=t%360,t<0&&(t+=360),t),see=i4,lee=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uee=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iGe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lee,scaleY:uee,scale:t=>(lee(t)+uee(t))/2,rotateX:t=>a4(Gh(Math.atan2(t[6],t[5]))),rotateY:t=>a4(Gh(Math.atan2(-t[2],t[0]))),rotateZ:see,rotate:see,skewX:t=>Gh(Math.atan(t[4])),skewY:t=>Gh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function o4(t){return t.includes("scale")?1:0}function s4(t,e){if(!t||t==="none")return o4(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,u;if(i)s=iGe,u=i;else{const m=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=rGe,u=m}if(!u)return o4(e);const d=s[e],h=u[1].split(",").map(oGe);return typeof d=="function"?d(h):h[d]}const aGe=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return s4(i,e)};function oGe(t){return parseFloat(t.trim())}const wv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sv=new Set(wv),cee=t=>t===bv||t===Lt,sGe=new Set(["x","y","z"]),lGe=wv.filter(t=>!sGe.has(t));function uGe(t){const e=[];return lGe.forEach(i=>{const s=t.getValue(i);s!==void 0&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}const wd={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>s4(e,"x"),y:(t,{transform:e})=>s4(e,"y")};wd.translateX=wd.x;wd.translateY=wd.y;const Yh=new Set;let l4=!1,u4=!1,c4=!1;function Xue(){if(u4){const t=Array.from(Yh).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),i=new Map;e.forEach(s=>{const u=uGe(s);u.length&&(i.set(s,u),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const u=i.get(s);u&&u.forEach(([d,h])=>{s.getValue(d)?.set(h)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}u4=!1,l4=!1,Yh.forEach(t=>t.complete(c4)),Yh.clear()}function Yue(){Yh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(u4=!0)})}function cGe(){c4=!0,Yue(),Xue(),c4=!1}class _B{constructor(e,i,s,u,d,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=s,this.motionValue=u,this.element=d,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Yh.add(this),l4||(l4=!0,ur.read(Yue),ur.resolveKeyframes(Xue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:s,motionValue:u}=this;if(e[0]===null){const d=u?.get(),h=e[e.length-1];if(d!==void 0)e[0]=d;else if(s&&i){const m=s.readValue(i,h);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=h),u&&d===void 0&&u.set(e[0])}nGe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yh.delete(this)}cancel(){this.state==="scheduled"&&(Yh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dGe=t=>t.startsWith("--");function fGe(t,e,i){dGe(e)?t.style.setProperty(e,i):t.style[e]=i}const hGe=lB(()=>window.ScrollTimeline!==void 0),pGe={};function mGe(t,e){const i=lB(t);return()=>pGe[e]??i()}const Kue=mGe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Px=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,dee={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Px([0,.65,.55,1]),circOut:Px([.55,0,1,.45]),backIn:Px([.31,.01,.66,-.59]),backOut:Px([.33,1.53,.69,.99])};function Jue(t,e){if(t)return typeof t=="function"?Kue()?Uue(t,e):"ease-out":Lue(t)?Px(t):Array.isArray(t)?t.map(i=>Jue(i,e)||dee.easeOut):dee[t]}function gGe(t,e,i,{delay:s=0,duration:u=300,repeat:d=0,repeatType:h="loop",ease:m="easeOut",times:y}={},_=void 0){const b={[e]:i};y&&(b.offset=y);const T=Jue(m,u);Array.isArray(T)&&(b.easing=T);const C={delay:s,duration:u,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:d+1,direction:h==="reverse"?"alternate":"normal"};return _&&(C.pseudoElement=_),t.animate(b,C)}function ece(t){return typeof t=="function"&&"applyToOptions"in t}function vGe({type:t,...e}){return ece(t)&&Kue()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yGe extends yB{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:s,keyframes:u,pseudoElement:d,allowFlatten:h=!1,finalKeyframe:m,onComplete:y}=e;this.isPseudoElement=!!d,this.allowFlatten=h,this.options=e,sB(typeof e.type!="string");const _=vGe(e);this.animation=gGe(i,s,u,_,d),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const b=vB(u,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):fGe(i,s,b),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return os(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=hc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hGe()?(this.animation.timeline=e,ds):i(this)}}const tce={anticipate:Mue,backInOut:Eue,circInOut:Iue};function xGe(t){return t in tce}function _Ge(t){typeof t.ease=="string"&&xGe(t.ease)&&(t.ease=tce[t.ease])}const jL=10;class OGe extends yGe{constructor(e){_Ge(e),Hue(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:s,onComplete:u,element:d,...h}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const m=new xB({...h,autoplay:!1}),y=Math.max(jL,Ca.now()-this.startTime),_=su(0,jL,y-jL);i.setWithVelocity(m.sample(Math.max(0,y-_)).value,m.sample(y).value,_),m.stop()}}const fee=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jd.test(t)||t==="0")&&!t.startsWith("url("));function bGe(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function wGe(t,e,i,s){const u=t[0];if(u===null)return!1;if(e==="display"||e==="visibility")return!0;const d=t[t.length-1],h=fee(u,e),m=fee(d,e);return!h||!m?!1:bGe(t)||(i==="spring"||ece(i))&&s}function d4(t){t.duration=0,t.type="keyframes"}const SGe=new Set(["opacity","clipPath","filter","transform"]),TGe=lB(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CGe(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:u,damping:d,type:h}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:_}=e.owner.getProps();return TGe()&&i&&SGe.has(i)&&(i!=="transform"||!_)&&!y&&!s&&u!=="mirror"&&d!==0&&h!=="inertia"}const kGe=40;class AGe extends yB{constructor({autoplay:e=!0,delay:i=0,type:s="keyframes",repeat:u=0,repeatDelay:d=0,repeatType:h="loop",keyframes:m,name:y,motionValue:_,element:b,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ca.now();const C={autoplay:e,delay:i,type:s,repeat:u,repeatDelay:d,repeatType:h,name:y,motionValue:_,element:b,...T},A=b?.KeyframeResolver||_B;this.keyframeResolver=new A(m,(D,L,z)=>this.onKeyframesResolved(D,L,C,!z),y,_,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,s,u){this.keyframeResolver=void 0;const{name:d,type:h,velocity:m,delay:y,isHandoff:_,onUpdate:b}=s;this.resolvedAt=Ca.now(),wGe(e,d,h,m)||((mc.instantAnimations||!y)&&b?.(vB(e,s,i)),e[0]=e[e.length-1],d4(s),s.repeat=0);const C={startTime:u?this.resolvedAt?this.resolvedAt-this.createdAt>kGe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:e},A=!_&&CGe(C),D=C.motionValue?.owner?.current,L=A?new OGe({...C,element:D}):new xB(C);L.finished.then(()=>{this.notifyFinished()}).catch(ds),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cGe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function nce(t,e,i,s=0,u=1){const d=Array.from(t).sort((_,b)=>_.sortNodePosition(b)).indexOf(e),h=t.size,m=(h-1)*s;return typeof i=="function"?i(d,h):u===1?d*s:m-d*s}const PGe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EGe(t){const e=PGe.exec(t);if(!e)return[,];const[,i,s,u]=e;return[`--${i??s}`,u]}function rce(t,e,i=1){const[s,u]=EGe(t);if(!s)return;const d=window.getComputedStyle(e).getPropertyValue(s);if(d){const h=d.trim();return bue(h)?parseFloat(h):h}return fB(u)?rce(u,e,i+1):u}const MGe={type:"spring",stiffness:500,damping:25,restSpeed:10},DGe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IGe={type:"keyframes",duration:.8},RGe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LGe=(t,{keyframes:e})=>e.length>2?IGe:Sv.has(t)?t.startsWith("scale")?DGe(e[1]):MGe:RGe,NGe=t=>t!==null;function $Ge(t,{repeat:e,repeatType:i="loop"},s){const u=t.filter(NGe),d=e&&i!=="loop"&&e%2===1?0:u.length-1;return u[d]}function OB(t,e){return t?.[e]??t?.default??t}function zGe({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:u,repeat:d,repeatType:h,repeatDelay:m,from:y,elapsed:_,...b}){return!!Object.keys(b).length}const bB=(t,e,i,s={},u,d)=>h=>{const m=OB(s,t)||{},y=m.delay||s.delay||0;let{elapsed:_=0}=s;_=_-hc(y);const b={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-_,onUpdate:C=>{e.set(C),m.onUpdate&&m.onUpdate(C)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:t,motionValue:e,element:d?void 0:u};zGe(m)||Object.assign(b,LGe(t,b)),b.duration&&(b.duration=hc(b.duration)),b.repeatDelay&&(b.repeatDelay=hc(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let T=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(d4(b),b.delay===0&&(T=!0)),(mc.instantAnimations||mc.skipAnimations||u?.shouldSkipAnimations)&&(T=!0,d4(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,T&&!d&&e.get()!==void 0){const C=$Ge(b.keyframes,m);if(C!==void 0){ur.update(()=>{b.onUpdate(C),b.onComplete()});return}}return m.isSync?new xB(b):new AGe(b)};function hee(t){const e=[{},{}];return t?.values.forEach((i,s)=>{e[0][s]=i.get(),e[1][s]=i.getVelocity()}),e}function wB(t,e,i,s){if(typeof e=="function"){const[u,d]=hee(s);e=e(i!==void 0?i:t.custom,u,d)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[u,d]=hee(s);e=e(i!==void 0?i:t.custom,u,d)}return e}function Qg(t,e,i){const s=t.getProps();return wB(s,e,i!==void 0?i:s.custom,t)}const ice=new Set(["width","height","top","left","right","bottom",...wv]),pee=30,BGe=t=>!isNaN(parseFloat(t)),Wx={current:void 0};class QGe{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const u=Ca.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Ca.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BGe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new uB);const s=this.events[e].add(i);return e==="change"?()=>{s(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Wx.current&&Wx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ca.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pee)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,pee);return Tue(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lp(t,e){return new QGe(t,e)}const f4=t=>Array.isArray(t);function jGe(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,lp(i))}function VGe(t){return f4(t)?t[t.length-1]||0:t}function FGe(t,e){const i=Qg(t,e);let{transitionEnd:s={},transition:u={},...d}=i||{};d={...d,...s};for(const h in d){const m=VGe(d[h]);jGe(t,h,m)}}const ca=t=>!!(t&&t.getVelocity);function GGe(t){return!!(ca(t)&&t.add)}function h4(t,e){const i=t.getValue("willChange");if(GGe(i))return i.add(e);if(!i&&mc.WillChange){const s=new mc.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function SB(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const WGe="framerAppearId",ace="data-"+SB(WGe);function oce(t){return t.props[ace]}function UGe({protectedKeys:t,needsAnimating:e},i){const s=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,s}function sce(t,e,{delay:i=0,transitionOverride:s,type:u}={}){let{transition:d=t.getDefaultTransition(),transitionEnd:h,...m}=e;const y=d?.reduceMotion;s&&(d=s);const _=[],b=u&&t.animationState&&t.animationState.getState()[u];for(const T in m){const C=t.getValue(T,t.latestValues[T]??null),A=m[T];if(A===void 0||b&&UGe(b,T))continue;const D={delay:i,...OB(d||{},T)},L=C.get();if(L!==void 0&&!C.isAnimating&&!Array.isArray(A)&&A===L&&!D.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const B=oce(t);if(B){const q=window.MotionHandoffAnimation(B,T,ur);q!==null&&(D.startTime=q,z=!0)}}h4(t,T);const $=y??t.shouldReduceMotion;C.start(bB(T,C,A,$&&ice.has(T)?{type:!1}:D,t,z));const Q=C.animation;Q&&_.push(Q)}return h&&Promise.all(_).then(()=>{ur.update(()=>{h&&FGe(t,h)})}),_}function p4(t,e,i={}){const s=Qg(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(u=i.transitionOverride);const d=s?()=>Promise.all(sce(t,s,i)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(y=0)=>{const{delayChildren:_=0,staggerChildren:b,staggerDirection:T}=u;return qGe(t,e,y,_,b,T,i)}:()=>Promise.resolve(),{when:m}=u;if(m){const[y,_]=m==="beforeChildren"?[d,h]:[h,d];return y().then(()=>_())}else return Promise.all([d(),h(i.delay)])}function qGe(t,e,i=0,s=0,u=0,d=1,h){const m=[];for(const y of t.variantChildren)y.notify("AnimationStart",e),m.push(p4(y,e,{...h,delay:i+(typeof s=="function"?0:s)+nce(t.variantChildren,y,s,u,d)}).then(()=>y.notify("AnimationComplete",e)));return Promise.all(m)}function ZGe(t,e,i={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const u=e.map(d=>p4(t,d,i));s=Promise.all(u)}else if(typeof e=="string")s=p4(t,e,i);else{const u=typeof e=="function"?Qg(t,e,i.custom):e;s=Promise.all(sce(t,u,i))}return s.then(()=>{t.notify("AnimationComplete",e)})}const HGe={test:t=>t==="auto",parse:t=>t},lce=t=>e=>e.test(t),uce=[bv,Lt,iu,gd,w6e,b6e,HGe],mee=t=>uce.find(lce(t));function XGe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Sue(t):!0}const YGe=new Set(["brightness","contrast","saturate","opacity"]);function KGe(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=i.match(hB)||[];if(!s)return t;const u=i.replace(s,"");let d=YGe.has(e)?1:0;return s!==i&&(d*=100),e+"("+d+u+")"}const JGe=/\b([a-z-]*)\(.*?\)/gu,m4={...jd,getAnimatableNone:t=>{const e=t.match(JGe);return e?e.map(KGe).join(" "):t}},gee={...bv,transform:Math.round},eWe={rotate:gd,rotateX:gd,rotateY:gd,rotateZ:gd,scale:qw,scaleX:qw,scaleY:qw,scaleZ:qw,skew:gd,skewX:gd,skewY:gd,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:A1,originX:nee,originY:nee,originZ:Lt},TB={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,inset:Lt,insetBlock:Lt,insetBlockStart:Lt,insetBlockEnd:Lt,insetInline:Lt,insetInlineStart:Lt,insetInlineEnd:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,paddingBlock:Lt,paddingBlockStart:Lt,paddingBlockEnd:Lt,paddingInline:Lt,paddingInlineStart:Lt,paddingInlineEnd:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,marginBlock:Lt,marginBlockStart:Lt,marginBlockEnd:Lt,marginInline:Lt,marginInlineStart:Lt,marginInlineEnd:Lt,fontSize:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt,...eWe,zIndex:gee,fillOpacity:A1,strokeOpacity:A1,numOctaves:gee},tWe={...TB,color:ii,backgroundColor:ii,outlineColor:ii,fill:ii,stroke:ii,borderColor:ii,borderTopColor:ii,borderRightColor:ii,borderBottomColor:ii,borderLeftColor:ii,filter:m4,WebkitFilter:m4},cce=t=>tWe[t];function dce(t,e){let i=cce(t);return i!==m4&&(i=jd),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const nWe=new Set(["auto","none","0"]);function rWe(t,e,i){let s=0,u;for(;s<t.length&&!u;){const d=t[s];typeof d=="string"&&!nWe.has(d)&&P1(d).values.length&&(u=t[s]),s++}if(u&&i)for(const d of e)t[d]=dce(i,u)}class iWe extends _B{constructor(e,i,s,u,d){super(e,i,s,u,d,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let b=0;b<e.length;b++){let T=e[b];if(typeof T=="string"&&(T=T.trim(),fB(T))){const C=rce(T,i.current);C!==void 0&&(e[b]=C),b===e.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!ice.has(s)||e.length!==2)return;const[u,d]=e,h=mee(u),m=mee(d),y=tee(u),_=tee(d);if(y!==_&&wd[s]){this.needsMeasurement=!0;return}if(h!==m)if(cee(h)&&cee(m))for(let b=0;b<e.length;b++){const T=e[b];typeof T=="string"&&(e[b]=parseFloat(T))}else wd[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,s=[];for(let u=0;u<e.length;u++)(e[u]===null||XGe(e[u]))&&s.push(u);s.length&&rWe(e,s,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wd[s](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const u=i[i.length-1];u!==void 0&&e.getValue(s,u).jump(u,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const u=e.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=s.length-1,h=s[d];s[d]=wd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{e.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function aWe(t,e,i){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const u=i?.[t]??s.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t).filter(s=>s!=null)}const fce=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function g4(t){return wue(t)&&"offsetHeight"in t}const{schedule:CB}=Nue(queueMicrotask,!1),Fs={x:!1,y:!1};function hce(){return Fs.x||Fs.y}function oWe(t){return t==="x"||t==="y"?Fs[t]?null:(Fs[t]=!0,()=>{Fs[t]=!1}):Fs.x||Fs.y?null:(Fs.x=Fs.y=!0,()=>{Fs.x=Fs.y=!1})}function pce(t,e){const i=aWe(t),s=new AbortController,u={passive:!0,...e,signal:s.signal};return[i,u,()=>s.abort()]}function vee(t){return!(t.pointerType==="touch"||hce())}function sWe(t,e,i={}){const[s,u,d]=pce(t,i),h=m=>{if(!vee(m))return;const{target:y}=m,_=e(y,m);if(typeof _!="function"||!y)return;const b=T=>{vee(T)&&(_(T),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,u)};return s.forEach(m=>{m.addEventListener("pointerenter",h,u)}),d}const mce=(t,e)=>e?t===e?!0:mce(t,e.parentElement):!1,kB=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lWe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uWe(t){return lWe.has(t.tagName)||t.isContentEditable===!0}const cWe=new Set(["INPUT","SELECT","TEXTAREA"]);function dWe(t){return cWe.has(t.tagName)||t.isContentEditable===!0}const iT=new WeakSet;function yee(t){return e=>{e.key==="Enter"&&t(e)}}function VL(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fWe=(t,e)=>{const i=t.currentTarget;if(!i)return;const s=yee(()=>{if(iT.has(i))return;VL(i,"down");const u=yee(()=>{VL(i,"up")}),d=()=>VL(i,"cancel");i.addEventListener("keyup",u,e),i.addEventListener("blur",d,e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function xee(t){return kB(t)&&!hce()}function hWe(t,e,i={}){const[s,u,d]=pce(t,i),h=m=>{const y=m.currentTarget;if(!xee(m))return;iT.add(y);const _=e(y,m),b=(A,D)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",C),iT.has(y)&&iT.delete(y),xee(A)&&typeof _=="function"&&_(A,{success:D})},T=A=>{b(A,y===window||y===document||i.useGlobalTarget||mce(y,A.target))},C=A=>{b(A,!1)};window.addEventListener("pointerup",T,u),window.addEventListener("pointercancel",C,u)};return s.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",h,u),g4(m)&&(m.addEventListener("focus",_=>fWe(_,u)),!uWe(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function gce(t){return wue(t)&&"ownerSVGElement"in t}function pWe(t){return gce(t)&&t.tagName==="svg"}function mWe(...t){const e=!Array.isArray(t[0]),i=e?0:-1,s=t[0+i],u=t[1+i],d=t[2+i],h=t[3+i],m=Zue(u,d,h);return e?m(s):m}const gWe=[...uce,ii,jd],vWe=t=>gWe.find(lce(t)),_ee=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ag=()=>({x:_ee(),y:_ee()}),Oee=()=>({min:0,max:0}),yi=()=>({x:Oee(),y:Oee()}),v4={current:null},vce={current:!1},yWe=typeof window<"u";function xWe(){if(vce.current=!0,!!yWe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v4.current=t.matches;t.addEventListener("change",e),e()}else v4.current=!1}const _We=new WeakMap;function jk(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function E1(t){return typeof t=="string"||Array.isArray(t)}const AB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PB=["initial",...AB];function Vk(t){return jk(t.animate)||PB.some(e=>E1(t[e]))}function yce(t){return!!(Vk(t)||t.variants)}function OWe(t,e,i){for(const s in e){const u=e[s],d=i[s];if(ca(u))t.addValue(s,u);else if(ca(d))t.addValue(s,lp(u,{owner:t}));else if(d!==u)if(t.hasValue(s)){const h=t.getValue(s);h.liveStyle===!0?h.jump(u):h.hasAnimated||h.set(u)}else{const h=t.getStaticValue(s);t.addValue(s,lp(h!==void 0?h:u,{owner:t}))}}for(const s in i)e[s]===void 0&&t.removeValue(s);return e}const bee=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let VT={};function xce(t){VT=t}function bWe(){return VT}class wWe{scrapeMotionValuesFromProps(e,i,s){return{}}constructor({parent:e,props:i,presenceContext:s,reducedMotionConfig:u,skipAnimations:d,blockInitialAnimation:h,visualState:m},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=_B,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Ca.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ur.render(this.render,!1,!0))};const{latestValues:_,renderState:b}=m;this.latestValues=_,this.baseTarget={..._},this.initialValues=i.initial?{..._}:{},this.renderState=b,this.parent=e,this.props=i,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=u,this.skipAnimationsConfig=d,this.options=y,this.blockInitialAnimation=!!h,this.isControllingVariants=Vk(i),this.isVariantNode=yce(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...C}=this.scrapeMotionValuesFromProps(i,{},this);for(const A in C){const D=C[A];_[A]!==void 0&&ca(D)&&D.set(_[A])}}mount(e){this.current=e,_We.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vce.current||xWe(),this.shouldReduceMotion=v4.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gc(this.notifyUpdate),gc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sv.has(e);s&&this.onBindTransform&&this.onBindTransform();const u=i.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&ur.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;typeof window<"u"&&window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{u(),d&&d(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in VT){const i=VT[e];if(!i)continue;const{isEnabled:s,Feature:u}=i;if(!this.features[e]&&u&&s(this.props)&&(this.features[e]=new u(this)),this.features[e]){const d=this.features[e];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<bee.length;s++){const u=bee[s];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const d="on"+u,h=e[d];h&&(this.propEventSubscriptions[u]=this.on(u,h))}this.prevMotionValues=OWe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const s=this.values.get(e);i!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&i!==void 0&&(s=lp(i===null?void 0:i,{owner:this}),this.addValue(e,s)),s}readValue(e,i){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bue(s)||Sue(s))?s=parseFloat(s):!vWe(s)&&jd.test(i)&&(s=dce(e,i)),this.setBaseTarget(e,ca(s)?s.get():s)),ca(s)?s.get():s}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const d=wB(this.props,i,this.presenceContext?.custom);d&&(s=d[e])}if(i&&s!==void 0)return s;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!ca(u)?u:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new uB),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){CB.render(this.render)}}class _ce extends wWe{constructor(){super(...arguments),this.KeyframeResolver=iWe}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const s=e.style;return s?s[i]:void 0}removeValueFromRenderState(e,{vars:i,style:s}){delete i[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ca(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class Jd{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Oce({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function SWe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TWe(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function FL(t){return t===void 0||t===1}function y4({scale:t,scaleX:e,scaleY:i}){return!FL(t)||!FL(e)||!FL(i)}function Dh(t){return y4(t)||bce(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bce(t){return wee(t.x)||wee(t.y)}function wee(t){return t&&t!=="0%"}function FT(t,e,i){const s=t-i,u=e*s;return i+u}function See(t,e,i,s,u){return u!==void 0&&(t=FT(t,u,s)),FT(t,i,s)+e}function x4(t,e=0,i=1,s,u){t.min=See(t.min,e,i,s,u),t.max=See(t.max,e,i,s,u)}function wce(t,{x:e,y:i}){x4(t.x,e.translate,e.scale,e.originPoint),x4(t.y,i.translate,i.scale,i.originPoint)}const Tee=.999999999999,Cee=1.0000000000001;function CWe(t,e,i,s=!1){const u=i.length;if(!u)return;e.x=e.y=1;let d,h;for(let m=0;m<u;m++){d=i[m],h=d.projectionDelta;const{visualElement:y}=d.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Eg(t,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,wce(t,h)),s&&Dh(d.latestValues)&&Eg(t,d.latestValues))}e.x<Cee&&e.x>Tee&&(e.x=1),e.y<Cee&&e.y>Tee&&(e.y=1)}function Pg(t,e){t.min=t.min+e,t.max=t.max+e}function kee(t,e,i,s,u=.5){const d=Pr(t.min,t.max,u);x4(t,e,i,d,s)}function Eg(t,e){kee(t.x,e.x,e.scaleX,e.scale,e.originX),kee(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sce(t,e){return Oce(TWe(t.getBoundingClientRect(),e))}function kWe(t,e,i){const s=Sce(t,i),{scroll:u}=e;return u&&(Pg(s.x,u.offset.x),Pg(s.y,u.offset.y)),s}const AWe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PWe=wv.length;function EWe(t,e,i){let s="",u=!0;for(let d=0;d<PWe;d++){const h=wv[d],m=t[h];if(m===void 0)continue;let y=!0;if(typeof m=="number")y=m===(h.startsWith("scale")?1:0);else{const _=parseFloat(m);y=h.startsWith("scale")?_===1:_===0}if(!y||i){const _=fce(m,TB[h]);if(!y){u=!1;const b=AWe[h]||h;s+=`${b}(${_}) `}i&&(e[h]=_)}}return s=s.trim(),i?s=i(e,u?"":s):u&&(s="none"),s}function EB(t,e,i){const{style:s,vars:u,transformOrigin:d}=t;let h=!1,m=!1;for(const y in e){const _=e[y];if(Sv.has(y)){h=!0;continue}else if(zue(y)){u[y]=_;continue}else{const b=fce(_,TB[y]);y.startsWith("origin")?(m=!0,d[y]=b):s[y]=b}}if(e.transform||(h||i?s.transform=EWe(e,t.transform,i):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:_="50%",originZ:b=0}=d;s.transformOrigin=`${y} ${_} ${b}`}}function Tce(t,{style:e,vars:i},s,u){const d=t.style;let h;for(h in e)d[h]=e[h];u?.applyProjectionStyles(d,s);for(h in i)d.setProperty(h,i[h])}function Aee(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Lt.test(t))t=parseFloat(t);else return t;const i=Aee(t,e.target.x),s=Aee(t,e.target.y);return`${i}% ${s}%`}},MWe={correct:(t,{treeScale:e,projectionDelta:i})=>{const s=t,u=jd.parse(t);if(u.length>5)return s;const d=jd.createTransformer(t),h=typeof u[0]!="number"?1:0,m=i.x.scale*e.x,y=i.y.scale*e.y;u[0+h]/=m,u[1+h]/=y;const _=Pr(m,y,.5);return typeof u[2+h]=="number"&&(u[2+h]/=_),typeof u[3+h]=="number"&&(u[3+h]/=_),d(u)}},_4={borderRadius:{...Hy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hy,borderTopRightRadius:Hy,borderBottomLeftRadius:Hy,borderBottomRightRadius:Hy,boxShadow:MWe};function Cce(t,{layout:e,layoutId:i}){return Sv.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!_4[t]||t==="opacity")}function MB(t,e,i){const s=t.style,u=e?.style,d={};if(!s)return d;for(const h in s)(ca(s[h])||u&&ca(u[h])||Cce(h,t)||i?.getValue(h)?.liveStyle!==void 0)&&(d[h]=s[h]);return d}function DWe(t){return window.getComputedStyle(t)}class IWe extends _ce{constructor(){super(...arguments),this.type="html",this.renderInstance=Tce}readValueFromInstance(e,i){if(Sv.has(i))return this.projection?.isProjecting?o4(i):aGe(e,i);{const s=DWe(e),u=(zue(i)?s.getPropertyValue(i):s[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:i}){return Sce(e,i)}build(e,i,s){EB(e,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,i,s){return MB(e,i,s)}}const RWe={offset:"stroke-dashoffset",array:"stroke-dasharray"},LWe={offset:"strokeDashoffset",array:"strokeDasharray"};function NWe(t,e,i=1,s=0,u=!0){t.pathLength=1;const d=u?RWe:LWe;t[d.offset]=`${-s}`,t[d.array]=`${e} ${i}`}const $We=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kce(t,{attrX:e,attrY:i,attrScale:s,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...m},y,_,b){if(EB(t,m,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:C}=t;T.transform&&(C.transform=T.transform,delete T.transform),(C.transform||T.transformOrigin)&&(C.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),C.transform&&(C.transformBox=b?.transformBox??"fill-box",delete T.transformBox);for(const A of $We)T[A]!==void 0&&(C[A]=T[A],delete T[A]);e!==void 0&&(T.x=e),i!==void 0&&(T.y=i),s!==void 0&&(T.scale=s),u!==void 0&&NWe(T,u,d,h,!1)}const Ace=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Pce=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zWe(t,e,i,s){Tce(t,e,void 0,s);for(const u in e.attrs)t.setAttribute(Ace.has(u)?u:SB(u),e.attrs[u])}function Ece(t,e,i){const s=MB(t,e,i);for(const u in t)if(ca(t[u])||ca(e[u])){const d=wv.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;s[d]=t[u]}return s}class BWe extends _ce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yi}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(Sv.has(i)){const s=cce(i);return s&&s.default||0}return i=Ace.has(i)?i:SB(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,s){return Ece(e,i,s)}build(e,i,s){kce(e,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,i,s,u){zWe(e,i,s,u)}mount(e){this.isSVGTag=Pce(e.tagName),super.mount(e)}}const QWe=PB.length;function Mce(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?Mce(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<QWe;i++){const s=PB[i],u=t.props[s];(E1(u)||u===!1)&&(e[s]=u)}return e}function Dce(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}const jWe=[...AB].reverse(),VWe=AB.length;function FWe(t){return e=>Promise.all(e.map(({animation:i,options:s})=>ZGe(t,i,s)))}function GWe(t){let e=FWe(t),i=Pee(),s=!0;const u=y=>(_,b)=>{const T=Qg(t,b,y==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:C,transitionEnd:A,...D}=T;_={..._,...D,...A}}return _};function d(y){e=y(t)}function h(y){const{props:_}=t,b=Mce(t.parent)||{},T=[],C=new Set;let A={},D=1/0;for(let z=0;z<VWe;z++){const $=jWe[z],Q=i[$],B=_[$]!==void 0?_[$]:b[$],q=E1(B),Y=$===y?Q.isActive:null;Y===!1&&(D=z);let G=B===b[$]&&B!==_[$]&&q;if(G&&s&&t.manuallyAnimateOnMount&&(G=!1),Q.protectedKeys={...A},!Q.isActive&&Y===null||!B&&!Q.prevProp||jk(B)||typeof B=="boolean")continue;const H=WWe(Q.prevProp,B);let V=H||$===y&&Q.isActive&&!G&&q||z>D&&q,F=!1;const te=Array.isArray(B)?B:[B];let ae=te.reduce(u($),{});Y===!1&&(ae={});const{prevResolvedValues:oe={}}=Q,fe={...oe,...ae},de=ne=>{V=!0,C.has(ne)&&(F=!0,C.delete(ne)),Q.needsAnimating[ne]=!0;const me=t.getValue(ne);me&&(me.liveStyle=!1)};for(const ne in fe){const me=ae[ne],ge=oe[ne];if(A.hasOwnProperty(ne))continue;let ee=!1;f4(me)&&f4(ge)?ee=!Dce(me,ge):ee=me!==ge,ee?me!=null?de(ne):C.add(ne):me!==void 0&&C.has(ne)?de(ne):Q.protectedKeys[ne]=!0}Q.prevProp=B,Q.prevResolvedValues=ae,Q.isActive&&(A={...A,...ae}),s&&t.blockInitialAnimation&&(V=!1);const he=G&&H;V&&(!he||F)&&T.push(...te.map(ne=>{const me={type:$};if(typeof ne=="string"&&s&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,ee=Qg(ge,ne);if(ge.enteringChildren&&ee){const{delayChildren:be}=ee.transition||{};me.delay=nce(ge.enteringChildren,t,be)}}return{animation:ne,options:me}}))}if(C.size){const z={};if(typeof _.initial!="boolean"){const $=Qg(t,Array.isArray(_.initial)?_.initial[0]:_.initial);$&&$.transition&&(z.transition=$.transition)}C.forEach($=>{const Q=t.getBaseTarget($),B=t.getValue($);B&&(B.liveStyle=!0),z[$]=Q??null}),T.push({animation:z})}let L=!!T.length;return s&&(_.initial===!1||_.initial===_.animate)&&!t.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(T):Promise.resolve()}function m(y,_){if(i[y].isActive===_)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(y,_)),i[y].isActive=_;const b=h(y);for(const T in i)i[T].protectedKeys={};return b}return{animateChanges:h,setActive:m,setAnimateFunction:d,getState:()=>i,reset:()=>{i=Pee()}}}function WWe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dce(e,t):!1}function Ch(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pee(){return{animate:Ch(!0),whileInView:Ch(),whileHover:Ch(),whileTap:Ch(),whileDrag:Ch(),whileFocus:Ch(),exit:Ch()}}function Eee(t,e){t.min=e.min,t.max=e.max}function js(t,e){Eee(t.x,e.x),Eee(t.y,e.y)}function Mee(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Ice=1e-4,UWe=1-Ice,qWe=1+Ice,Rce=.01,ZWe=0-Rce,HWe=0+Rce;function ka(t){return t.max-t.min}function XWe(t,e,i){return Math.abs(t-e)<=i}function Dee(t,e,i,s=.5){t.origin=s,t.originPoint=Pr(e.min,e.max,t.origin),t.scale=ka(i)/ka(e),t.translate=Pr(i.min,i.max,t.origin)-t.originPoint,(t.scale>=UWe&&t.scale<=qWe||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZWe&&t.translate<=HWe||isNaN(t.translate))&&(t.translate=0)}function Ux(t,e,i,s){Dee(t.x,e.x,i.x,s?s.originX:void 0),Dee(t.y,e.y,i.y,s?s.originY:void 0)}function Iee(t,e,i){t.min=i.min+e.min,t.max=t.min+ka(e)}function YWe(t,e,i){Iee(t.x,e.x,i.x),Iee(t.y,e.y,i.y)}function Ree(t,e,i){t.min=e.min-i.min,t.max=t.min+ka(e)}function GT(t,e,i){Ree(t.x,e.x,i.x),Ree(t.y,e.y,i.y)}function Lee(t,e,i,s,u){return t-=e,t=FT(t,1/i,s),u!==void 0&&(t=FT(t,1/u,s)),t}function KWe(t,e=0,i=1,s=.5,u,d=t,h=t){if(iu.test(e)&&(e=parseFloat(e),e=Pr(h.min,h.max,e/100)-h.min),typeof e!="number")return;let m=Pr(d.min,d.max,s);t===d&&(m-=e),t.min=Lee(t.min,e,i,m,u),t.max=Lee(t.max,e,i,m,u)}function Nee(t,e,[i,s,u],d,h){KWe(t,e[i],e[s],e[u],e.scale,d,h)}const JWe=["x","scaleX","originX"],e9e=["y","scaleY","originY"];function $ee(t,e,i,s){Nee(t.x,e,JWe,i?i.x:void 0,s?s.x:void 0),Nee(t.y,e,e9e,i?i.y:void 0,s?s.y:void 0)}function zee(t){return t.translate===0&&t.scale===1}function Lce(t){return zee(t.x)&&zee(t.y)}function Bee(t,e){return t.min===e.min&&t.max===e.max}function t9e(t,e){return Bee(t.x,e.x)&&Bee(t.y,e.y)}function Qee(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Nce(t,e){return Qee(t.x,e.x)&&Qee(t.y,e.y)}function jee(t){return ka(t.x)/ka(t.y)}function Vee(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function rs(t){return[t("x"),t("y")]}function n9e(t,e,i){let s="";const u=t.x.translate/e.x,d=t.y.translate/e.y,h=i?.z||0;if((u||d||h)&&(s=`translate3d(${u}px, ${d}px, ${h}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:_,rotate:b,rotateX:T,rotateY:C,skewX:A,skewY:D}=i;_&&(s=`perspective(${_}px) ${s}`),b&&(s+=`rotate(${b}deg) `),T&&(s+=`rotateX(${T}deg) `),C&&(s+=`rotateY(${C}deg) `),A&&(s+=`skewX(${A}deg) `),D&&(s+=`skewY(${D}deg) `)}const m=t.x.scale*e.x,y=t.y.scale*e.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const $ce=["TopLeft","TopRight","BottomLeft","BottomRight"],r9e=$ce.length,Fee=t=>typeof t=="string"?parseFloat(t):t,Gee=t=>typeof t=="number"||Lt.test(t);function i9e(t,e,i,s,u,d){u?(t.opacity=Pr(0,i.opacity??1,a9e(s)),t.opacityExit=Pr(e.opacity??1,0,o9e(s))):d&&(t.opacity=Pr(e.opacity??1,i.opacity??1,s));for(let h=0;h<r9e;h++){const m=`border${$ce[h]}Radius`;let y=Wee(e,m),_=Wee(i,m);if(y===void 0&&_===void 0)continue;y||(y=0),_||(_=0),y===0||_===0||Gee(y)===Gee(_)?(t[m]=Math.max(Pr(Fee(y),Fee(_),s),0),(iu.test(_)||iu.test(y))&&(t[m]+="%")):t[m]=_}(e.rotate||i.rotate)&&(t.rotate=Pr(e.rotate||0,i.rotate||0,s))}function Wee(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a9e=zce(0,.5,Due),o9e=zce(.5,.95,ds);function zce(t,e,i){return s=>s<t?0:s>e?1:i(k1(t,e,s))}function s9e(t,e,i){const s=ca(t)?t:lp(t);return s.start(bB("",s,e,i)),s.animation}function M1(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}const l9e=(t,e)=>t.depth-e.depth;class u9e{constructor(){this.children=[],this.isDirty=!1}add(e){aB(this.children,e),this.isDirty=!0}remove(e){oB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l9e),this.isDirty=!1,this.children.forEach(e)}}function c9e(t,e){const i=Ca.now(),s=({timestamp:u})=>{const d=u-i;d>=e&&(gc(s),t(d-e))};return ur.setup(s,!0),()=>gc(s)}function aT(t){return ca(t)?t.get():t}class d9e{constructor(){this.members=[]}add(e){aB(this.members,e),e.scheduleRender()}remove(e){if(oB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(u=>e===u);if(i===0)return!1;let s;for(let u=i;u>=0;u--){const d=this.members[u];if(d.isPresent!==!1){s=d;break}}return s?(this.promote(s),!0):!1}promote(e,i){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const u=s.options.layoutDependency,d=e.options.layoutDependency;u!==void 0&&d!==void 0&&u===d||(e.resumeFrom=s,i&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:m}=e.options;m===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:s}=e;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const oT={hasAnimatedSinceResize:!0,hasEverUpdated:!1},GL=["","X","Y","Z"],f9e=1e3;let h9e=0;function WL(t,e,i,s){const{latestValues:u}=e;u[t]&&(i[t]=u[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Bce(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=oce(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:u,layoutId:d}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ur,!(u||d))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Bce(s)}function Qce({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:u}){return class{constructor(h={},m=e?.()){this.id=h9e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(g9e),this.nodes.forEach(_9e),this.nodes.forEach(O9e),this.nodes.forEach(v9e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new u9e)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new uB),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const y=this.eventHandlers.get(h);y&&y.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=gce(h)&&!pWe(h),this.instance=h;const{layoutId:m,layout:y,visualElement:_}=this.options;if(_&&!_.current&&_.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),t){let b,T=0;const C=()=>this.root.updateBlockedByResize=!1;ur.read(()=>{T=window.innerWidth}),t(h,()=>{const A=window.innerWidth;A!==T&&(T=A,this.root.updateBlockedByResize=!0,b&&b(),b=c9e(C,250),oT.hasAnimatedSinceResize&&(oT.hasAnimatedSinceResize=!1,this.nodes.forEach(Zee)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:T,hasRelativeLayoutChanged:C,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||_.getDefaultTransition()||C9e,{onLayoutAnimationStart:L,onLayoutAnimationComplete:z}=_.getProps(),$=!this.targetLayout||!Nce(this.targetLayout,A),Q=!T&&C;if(this.options.layoutRoot||this.resumeFrom||Q||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...OB(D,"layout"),onPlay:L,onComplete:z};(_.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(b,Q)}else T||Zee(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b9e),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bce(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const T=this.path[b];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uee);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qee);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x9e),this.nodes.forEach(p9e),this.nodes.forEach(m9e)):this.nodes.forEach(qee),this.clearAllSnapshots();const m=Ca.now();Ui.delta=su(0,1e3/60,m-Ui.timestamp),Ui.timestamp=m,Ui.isProcessing=!0,NL.update.process(Ui),NL.preRender.process(Ui),NL.render.process(Ui),Ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y9e),this.sharedNodes.forEach(w9e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ka(this.snapshot.measuredBox.x)&&!ka(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!u)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Lce(this.projectionDelta),y=this.getTransformTemplate(),_=y?y(this.latestValues,""):void 0,b=_!==this.prevTransformTemplateValue;h&&this.instance&&(m||Dh(this.latestValues)||b)&&(u(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return h&&(y=this.removeTransform(y)),k9e(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return yi();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A9e))){const{scroll:_}=this.root;_&&(Pg(m.x,_.offset.x),Pg(m.y,_.offset.y))}return m}removeElementScroll(h){const m=yi();if(js(m,h),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const _=this.path[y],{scroll:b,options:T}=_;_!==this.root&&b&&T.layoutScroll&&(b.wasRoot&&js(m,h),Pg(m.x,b.offset.x),Pg(m.y,b.offset.y))}return m}applyTransform(h,m=!1){const y=yi();js(y,h);for(let _=0;_<this.path.length;_++){const b=this.path[_];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Eg(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Dh(b.latestValues)&&Eg(y,b.latestValues)}return Dh(this.latestValues)&&Eg(y,this.latestValues),y}removeTransform(h){const m=yi();js(m,h);for(let y=0;y<this.path.length;y++){const _=this.path[y];if(!_.instance||!Dh(_.latestValues))continue;y4(_.latestValues)&&_.updateSnapshot();const b=yi(),T=_.measurePageBox();js(b,T),$ee(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,b)}return Dh(this.latestValues)&&$ee(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:T}=this.options;if(!this.layout||!(b||T))return;this.resolvedRelativeTargetAt=Ui.timestamp;const C=this.getClosestProjectingParent();C&&this.linkedParentVersion!==C.layoutVersion&&!C.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(C&&C.layout?this.createRelativeTarget(C,this.layout.layoutBox,C.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yi(),this.targetWithTransforms=yi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YWe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),wce(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?this.createRelativeTarget(C,this.target,C.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||y4(this.parent.latestValues)||bce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,m,y){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yi(),this.relativeTargetOrigin=yi(),GT(this.relativeTargetOrigin,m,y),js(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Ui.timestamp&&(y=!1),y)return;const{layout:_,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||b))return;js(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,C=this.treeScale.y;CWe(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=yi());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mee(this.prevProjectionDelta.x,this.projectionDelta.x),Mee(this.prevProjectionDelta.y,this.projectionDelta.y)),Ux(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==C||!Vee(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vee(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ag(),this.projectionDelta=Ag(),this.projectionDeltaWithTransform=Ag()}setAnimationOrigin(h,m=!1){const y=this.snapshot,_=y?y.latestValues:{},b={...this.latestValues},T=Ag();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const C=yi(),A=y?y.source:void 0,D=this.layout?this.layout.source:void 0,L=A!==D,z=this.getStack(),$=!z||z.members.length<=1,Q=!!(L&&!$&&this.options.crossfade===!0&&!this.path.some(T9e));this.animationProgress=0;let B;this.mixTargetDelta=q=>{const Y=q/1e3;Hee(T.x,h.x,Y),Hee(T.y,h.y,Y),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(GT(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S9e(this.relativeTarget,this.relativeTargetOrigin,C,Y),B&&t9e(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=yi()),js(B,this.relativeTarget)),L&&(this.animationValues=b,i9e(b,_,this.latestValues,Y,Q,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{oT.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lp(0)),this.currentAnimation=s9e(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f9e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:y,layout:_,latestValues:b}=h;if(!(!m||!y||!_)){if(this!==h&&this.layout&&_&&jce(this.options.animationType,this.layout.layoutBox,_.layoutBox)){y=this.target||yi();const T=ka(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+T;const C=ka(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+C}js(m,y),Eg(m,b),Ux(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new d9e),this.sharedNodes.get(h).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:y}={}){const _=this.getStack();_&&_.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const _={};y.z&&WL("z",h,_,this.animationValues);for(let b=0;b<GL.length;b++)WL(`rotate${GL[b]}`,h,_,this.animationValues),WL(`skew${GL[b]}`,h,_,this.animationValues);h.render();for(const b in _)h.setStaticValue(b,_[b]),this.animationValues&&(this.animationValues[b]=_[b]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=aT(m?.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=aT(m?.pointerEvents)||""),this.hasProjected&&!Dh(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=_.animationValues||_.latestValues;this.applyTransformsToTarget();let T=n9e(this.projectionDeltaWithTransform,this.treeScale,b);y&&(T=y(b,T)),h.transform=T;const{x:C,y:A}=this.projectionDelta;h.transformOrigin=`${C.origin*100}% ${A.origin*100}% 0`,_.animationValues?h.opacity=_===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const D in _4){if(b[D]===void 0)continue;const{correct:L,applyTo:z,isCSSVariable:$}=_4[D],Q=T==="none"?b[D]:L(b[D],_);if(z){const B=z.length;for(let q=0;q<B;q++)h[z[q]]=Q}else $?this.options.visualElement.renderState.vars[D]=Q:h[D]=Q}this.options.layoutId&&(h.pointerEvents=_===this?aT(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(Uee),this.root.sharedNodes.clear()}}}function p9e(t){t.updateLayout()}function m9e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:u}=t.options,d=e.source!==t.layout.source;u==="size"?rs(b=>{const T=d?e.measuredBox[b]:e.layoutBox[b],C=ka(T);T.min=i[b].min,T.max=T.min+C}):jce(u,e.layoutBox,i)&&rs(b=>{const T=d?e.measuredBox[b]:e.layoutBox[b],C=ka(i[b]);T.max=T.min+C,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+C)});const h=Ag();Ux(h,i,e.layoutBox);const m=Ag();d?Ux(m,t.applyTransform(s,!0),e.measuredBox):Ux(m,i,e.layoutBox);const y=!Lce(h);let _=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:T,layout:C}=b;if(T&&C){const A=yi();GT(A,e.layoutBox,T.layoutBox);const D=yi();GT(D,i,C.layoutBox),Nce(A,D)||(_=!0),b.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:_})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function g9e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v9e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y9e(t){t.clearSnapshot()}function Uee(t){t.clearMeasurements()}function qee(t){t.isLayoutDirty=!1}function x9e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Zee(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _9e(t){t.resolveTargetDelta()}function O9e(t){t.calcProjection()}function b9e(t){t.resetSkewAndRotation()}function w9e(t){t.removeLeadSnapshot()}function Hee(t,e,i){t.translate=Pr(e.translate,0,i),t.scale=Pr(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Xee(t,e,i,s){t.min=Pr(e.min,i.min,s),t.max=Pr(e.max,i.max,s)}function S9e(t,e,i,s){Xee(t.x,e.x,i.x,s),Xee(t.y,e.y,i.y,s)}function T9e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C9e={duration:.45,ease:[.4,0,.1,1]},Yee=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kee=Yee("applewebkit/")&&!Yee("chrome/")?Math.round:ds;function Jee(t){t.min=Kee(t.min),t.max=Kee(t.max)}function k9e(t){Jee(t.x),Jee(t.y)}function jce(t,e,i){return t==="position"||t==="preserve-aspect"&&!XWe(jee(e),jee(i),.2)}function A9e(t){return t!==t.root&&t.scroll?.wasRoot}const P9e=Qce({attachResizeListener:(t,e)=>M1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),UL={current:void 0},Vce=Qce({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!UL.current){const t=new P9e({});t.mount(window),t.setOptions({layoutScroll:!0}),UL.current=t}return UL.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fk=K.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ete(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function E9e(...t){return e=>{let i=!1;const s=t.map(u=>{const d=ete(u,e);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let u=0;u<s.length;u++){const d=s[u];typeof d=="function"?d():ete(t[u],null)}}}}function M9e(...t){return K.useCallback(E9e(...t),t)}class D9e extends K.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const s=i.offsetParent,u=g4(s)&&s.offsetWidth||0,d=g4(s)&&s.offsetHeight||0,h=this.props.sizeRef.current;h.height=i.offsetHeight||0,h.width=i.offsetWidth||0,h.top=i.offsetTop,h.left=i.offsetLeft,h.right=u-h.width-h.left,h.bottom=d-h.height-h.top}return null}componentDidUpdate(){}render(){return this.props.children}}function I9e({children:t,isPresent:e,anchorX:i,anchorY:s,root:u}){const d=K.useId(),h=K.useRef(null),m=K.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:y}=K.useContext(Fk),_=t.props?.ref??t?.ref,b=M9e(h,_);return K.useInsertionEffect(()=>{const{width:T,height:C,top:A,left:D,right:L,bottom:z}=m.current;if(e||!h.current||!T||!C)return;const $=i==="left"?`left: ${D}`:`right: ${L}`,Q=s==="bottom"?`bottom: ${z}`:`top: ${A}`;h.current.dataset.motionPopId=d;const B=document.createElement("style");y&&(B.nonce=y);const q=u??document.head;return q.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${C}px !important;
            ${$}px !important;
            ${Q}px !important;
          }
        `),()=>{q.contains(B)&&q.removeChild(B)}},[e]),I.jsx(D9e,{isPresent:e,childRef:h,sizeRef:m,children:K.cloneElement(t,{ref:b})})}const R9e=({children:t,initial:e,isPresent:i,onExitComplete:s,custom:u,presenceAffectsLayout:d,mode:h,anchorX:m,anchorY:y,root:_})=>{const b=sp(L9e),T=K.useId();let C=!0,A=K.useMemo(()=>(C=!1,{id:T,initial:e,isPresent:i,custom:u,onExitComplete:D=>{b.set(D,!0);for(const L of b.values())if(!L)return;s&&s()},register:D=>(b.set(D,!1),()=>b.delete(D))}),[i,b,s]);return d&&C&&(A={...A}),K.useMemo(()=>{b.forEach((D,L)=>b.set(L,!1))},[i]),K.useEffect(()=>{!i&&!b.size&&s&&s()},[i]),h==="popLayout"&&(t=I.jsx(I9e,{isPresent:i,anchorX:m,anchorY:y,root:_,children:t})),I.jsx(Qk.Provider,{value:A,children:t})};function L9e(){return new Map}function Fce(t=!0){const e=K.useContext(Qk);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:u}=e,d=K.useId();K.useEffect(()=>{if(t)return u(d)},[t]);const h=K.useCallback(()=>t&&s&&s(d),[d,s,t]);return!i&&s?[!1,h]:[!0]}const Zw=t=>t.key||"";function tte(t){const e=[];return K.Children.forEach(t,i=>{K.isValidElement(i)&&e.push(i)}),e}const DB=({children:t,custom:e,initial:i=!0,onExitComplete:s,presenceAffectsLayout:u=!0,mode:d="sync",propagate:h=!1,anchorX:m="left",anchorY:y="top",root:_})=>{const[b,T]=Fce(h),C=K.useMemo(()=>tte(t),[t]),A=h&&!b?[]:C.map(Zw),D=K.useRef(!0),L=K.useRef(C),z=sp(()=>new Map),$=K.useRef(new Set),[Q,B]=K.useState(C),[q,Y]=K.useState(C);iB(()=>{D.current=!1,L.current=C;for(let V=0;V<q.length;V++){const F=Zw(q[V]);A.includes(F)?(z.delete(F),$.current.delete(F)):z.get(F)!==!0&&z.set(F,!1)}},[q,A.length,A.join("-")]);const G=[];if(C!==Q){let V=[...C];for(let F=0;F<q.length;F++){const te=q[F],ae=Zw(te);A.includes(ae)||(V.splice(F,0,te),G.push(te))}return d==="wait"&&G.length&&(V=G),Y(tte(V)),B(C),null}const{forceRender:H}=K.useContext(rB);return I.jsx(I.Fragment,{children:q.map(V=>{const F=Zw(V),te=h&&!b?!1:C===q||A.includes(F),ae=()=>{if($.current.has(F))return;if($.current.add(F),z.has(F))z.set(F,!0);else return;let oe=!0;z.forEach(fe=>{fe||(oe=!1)}),oe&&(H?.(),Y(L.current),h&&T?.(),s&&s())};return I.jsx(R9e,{isPresent:te,initial:!D.current||i?void 0:!1,custom:e,presenceAffectsLayout:u,mode:d,root:_,onExitComplete:te?void 0:ae,anchorX:m,anchorY:y,children:V},F)})})},Gce=K.createContext({strict:!1}),nte={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rte=!1;function N9e(){if(rte)return;const t={};for(const e in nte)t[e]={isEnabled:i=>nte[e].some(s=>!!i[s])};xce(t),rte=!0}function Wce(){return N9e(),bWe()}function $9e(t){const e=Wce();for(const i in t)e[i]={...e[i],...t[i]};xce(e)}const z9e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function WT(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||z9e.has(t)}let Uce=t=>!WT(t);function B9e(t){typeof t=="function"&&(Uce=e=>e.startsWith("on")?!WT(e):t(e))}try{B9e(require("@emotion/is-prop-valid").default)}catch{}function Q9e(t,e,i){const s={};for(const u in t)u==="values"&&typeof t.values=="object"||(Uce(u)||i===!0&&WT(u)||!e&&!WT(u)||t.draggable&&u.startsWith("onDrag"))&&(s[u]=t[u]);return s}const Gk=K.createContext({});function j9e(t,e){if(Vk(t)){const{initial:i,animate:s}=t;return{initial:i===!1||E1(i)?i:void 0,animate:E1(s)?s:void 0}}return t.inherit!==!1?e:{}}function V9e(t){const{initial:e,animate:i}=j9e(t,K.useContext(Gk));return K.useMemo(()=>({initial:e,animate:i}),[ite(e),ite(i)])}function ite(t){return Array.isArray(t)?t.join(" "):t}const IB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qce(t,e,i){for(const s in e)!ca(e[s])&&!Cce(s,i)&&(t[s]=e[s])}function F9e({transformTemplate:t},e){return K.useMemo(()=>{const i=IB();return EB(i,e,t),Object.assign({},i.vars,i.style)},[e])}function G9e(t,e){const i=t.style||{},s={};return qce(s,i,t),Object.assign(s,F9e(t,e)),s}function W9e(t,e){const i={},s=G9e(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const Zce=()=>({...IB(),attrs:{}});function U9e(t,e,i,s){const u=K.useMemo(()=>{const d=Zce();return kce(d,e,Pce(s),t.transformTemplate,t.style),{...d.attrs,style:{...d.style}}},[e]);if(t.style){const d={};qce(d,t.style,t),u.style={...d,...u.style}}return u}const q9e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RB(t){return typeof t!="string"||t.includes("-")?!1:!!(q9e.indexOf(t)>-1||/[A-Z]/u.test(t))}function Z9e(t,e,i,{latestValues:s},u,d=!1,h){const y=(h??RB(t)?U9e:W9e)(e,s,u,t),_=Q9e(e,typeof t=="string",d),b=t!==K.Fragment?{..._,...y,ref:i}:{},{children:T}=e,C=K.useMemo(()=>ca(T)?T.get():T,[T]);return K.createElement(t,{...b,children:C})}function H9e({scrapeMotionValuesFromProps:t,createRenderState:e},i,s,u){return{latestValues:X9e(i,s,u,t),renderState:e()}}function X9e(t,e,i,s){const u={},d=s(t,{});for(const C in d)u[C]=aT(d[C]);let{initial:h,animate:m}=t;const y=Vk(t),_=yce(t);e&&_&&!y&&t.inherit!==!1&&(h===void 0&&(h=e.initial),m===void 0&&(m=e.animate));let b=i?i.initial===!1:!1;b=b||h===!1;const T=b?m:h;if(T&&typeof T!="boolean"&&!jk(T)){const C=Array.isArray(T)?T:[T];for(let A=0;A<C.length;A++){const D=wB(t,C[A]);if(D){const{transitionEnd:L,transition:z,...$}=D;for(const Q in $){let B=$[Q];if(Array.isArray(B)){const q=b?B.length-1:0;B=B[q]}B!==null&&(u[Q]=B)}for(const Q in L)u[Q]=L[Q]}}}return u}const Hce=t=>(e,i)=>{const s=K.useContext(Gk),u=K.useContext(Qk),d=()=>H9e(t,e,s,u);return i?d():sp(d)},Y9e=Hce({scrapeMotionValuesFromProps:MB,createRenderState:IB}),K9e=Hce({scrapeMotionValuesFromProps:Ece,createRenderState:Zce}),J9e=Symbol.for("motionComponentSymbol");function eUe(t,e,i){const s=K.useRef(i);K.useInsertionEffect(()=>{s.current=i});const u=K.useRef(null);return K.useCallback(d=>{d&&t.onMount?.(d),e&&(d?e.mount(d):e.unmount());const h=s.current;if(typeof h=="function")if(d){const m=h(d);typeof m=="function"&&(u.current=m)}else u.current?(u.current(),u.current=null):h(d);else h&&(h.current=d)},[e])}const Xce=K.createContext({});function Ex(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tUe(t,e,i,s,u,d){const{visualElement:h}=K.useContext(Gk),m=K.useContext(Gce),y=K.useContext(Qk),_=K.useContext(Fk),b=_.reducedMotion,T=_.skipAnimations,C=K.useRef(null),A=K.useRef(!1);s=s||m.renderer,!C.current&&s&&(C.current=s(t,{visualState:e,parent:h,props:i,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:b,skipAnimations:T,isSVG:d}),A.current&&C.current&&(C.current.manuallyAnimateOnMount=!0));const D=C.current,L=K.useContext(Xce);D&&!D.projection&&u&&(D.type==="html"||D.type==="svg")&&nUe(C.current,i,u,L);const z=K.useRef(!1);K.useInsertionEffect(()=>{D&&z.current&&D.update(i,y)});const $=i[ace],Q=K.useRef(!!$&&!window.MotionHandoffIsComplete?.($)&&window.MotionHasOptimisedAnimation?.($));return iB(()=>{A.current=!0,D&&(z.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),Q.current&&D.animationState&&D.animationState.animateChanges())}),K.useEffect(()=>{D&&(!Q.current&&D.animationState&&D.animationState.animateChanges(),Q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.($)}),Q.current=!1),D.enteringChildren=void 0)}),D}function nUe(t,e,i,s){const{layoutId:u,layout:d,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:_,layoutCrossfade:b}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Yce(t.parent)),t.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!h||m&&Ex(m),visualElement:t,animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,crossfade:b,layoutScroll:y,layoutRoot:_})}function Yce(t){if(t)return t.options.allowProjection!==!1?t.projection:Yce(t.parent)}function qL(t,{forwardMotionProps:e=!1,type:i}={},s,u){s&&$9e(s);const d=i?i==="svg":RB(t),h=d?K9e:Y9e;function m(_,b){let T;const C={...K.useContext(Fk),..._,layoutId:rUe(_)},{isStatic:A}=C,D=V9e(_),L=h(_,A);if(!A&&Oue){iUe();const z=aUe(C);T=z.MeasureLayout,D.visualElement=tUe(t,L,C,u,z.ProjectionNode,d)}return I.jsxs(Gk.Provider,{value:D,children:[T&&D.visualElement?I.jsx(T,{visualElement:D.visualElement,...C}):null,Z9e(t,_,eUe(L,D.visualElement,b),L,A,e,d)]})}m.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const y=K.forwardRef(m);return y[J9e]=t,y}function rUe({layoutId:t}){const e=K.useContext(rB).id;return e&&t!==void 0?e+"-"+t:t}function iUe(t,e){K.useContext(Gce).strict}function aUe(t){const e=Wce(),{drag:i,layout:s}=e;if(!i&&!s)return{};const u={...i,...s};return{MeasureLayout:i?.isEnabled(t)||s?.isEnabled(t)?u.MeasureLayout:void 0,ProjectionNode:u.ProjectionNode}}function oUe(t,e){if(typeof Proxy>"u")return qL;const i=new Map,s=(d,h)=>qL(d,h,t,e),u=(d,h)=>s(d,h);return new Proxy(u,{get:(d,h)=>h==="create"?s:(i.has(h)||i.set(h,qL(h,void 0,t,e)),i.get(h))})}const sUe=(t,e)=>e.isSVG??RB(t)?new BWe(e):new IWe(e,{allowProjection:t!==K.Fragment});class lUe extends Jd{constructor(e){super(e),e.animationState||(e.animationState=GWe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uUe=0;class cUe extends Jd{constructor(){super(...arguments),this.id=uUe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const u=this.node.animationState.setActive("exit",!e);i&&!e&&u.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dUe={animation:{Feature:lUe},exit:{Feature:cUe}};function I_(t){return{point:{x:t.pageX,y:t.pageY}}}const fUe=t=>e=>kB(e)&&t(e,I_(e));function qx(t,e,i,s){return M1(t,e,fUe(i),s)}const Kce=({current:t})=>t?t.ownerDocument.defaultView:null,ate=(t,e)=>Math.abs(t-e);function hUe(t,e){const i=ate(t.x,e.x),s=ate(t.y,e.y);return Math.sqrt(i**2+s**2)}const ote=new Set(["auto","scroll"]);class Jce{constructor(e,i,{transformPagePoint:s,contextWindow:u=window,dragSnapToOrigin:d=!1,distanceThreshold:h=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=HL(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,L=hUe(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!L)return;const{point:z}=A,{timestamp:$}=Ui;this.history.push({...z,timestamp:$});const{onStart:Q,onMove:B}=this.handlers;D||(Q&&Q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ZL(D,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:L,onSessionEnd:z,resumeAnimation:$}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=HL(A.type==="pointercancel"?this.lastMoveEventInfo:ZL(D,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,Q),z&&z(A,Q)},!kB(e))return;this.dragSnapToOrigin=d,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=h,this.contextWindow=u||window;const y=I_(e),_=ZL(y,this.transformPagePoint),{point:b}=_,{timestamp:T}=Ui;this.history=[{...b,timestamp:T}];const{onSessionStart:C}=i;C&&C(e,HL(_,this.history)),this.removeListeners=E_(qx(this.contextWindow,"pointermove",this.handlePointerMove),qx(this.contextWindow,"pointerup",this.handlePointerUp),qx(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let i=e.parentElement;for(;i;){const s=getComputedStyle(i);(ote.has(s.overflowX)||ote.has(s.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const s=e===window,u=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},d={x:u.x-i.x,y:u.y-i.y};d.x===0&&d.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=d.x,this.lastMoveEventInfo.point.y+=d.y):this.history.length>0&&(this.history[0].x-=d.x,this.history[0].y-=d.y),this.scrollPositions.set(e,u),ur.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),gc(this.updatePoint)}}function ZL(t,e){return e?{point:e(t.point)}:t}function ste(t,e){return{x:t.x-e.x,y:t.y-e.y}}function HL({point:t},e){return{point:t,delta:ste(t,ede(e)),offset:ste(t,pUe(e)),velocity:mUe(e,.1)}}function pUe(t){return t[0]}function ede(t){return t[t.length-1]}function mUe(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null;const u=ede(t);for(;i>=0&&(s=t[i],!(u.timestamp-s.timestamp>hc(e)));)i--;if(!s)return{x:0,y:0};const d=os(u.timestamp-s.timestamp);if(d===0)return{x:0,y:0};const h={x:(u.x-s.x)/d,y:(u.y-s.y)/d};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function gUe(t,{min:e,max:i},s){return e!==void 0&&t<e?t=s?Pr(e,t,s.min):Math.max(t,e):i!==void 0&&t>i&&(t=s?Pr(i,t,s.max):Math.min(t,i)),t}function lte(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function vUe(t,{top:e,left:i,bottom:s,right:u}){return{x:lte(t.x,i,u),y:lte(t.y,e,s)}}function ute(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function yUe(t,e){return{x:ute(t.x,e.x),y:ute(t.y,e.y)}}function xUe(t,e){let i=.5;const s=ka(t),u=ka(e);return u>s?i=k1(e.min,e.max-s,t.min):s>u&&(i=k1(t.min,t.max-u,e.min)),su(0,1,i)}function _Ue(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const O4=.35;function OUe(t=O4){return t===!1?t=0:t===!0&&(t=O4),{x:cte(t,"left","right"),y:cte(t,"top","bottom")}}function cte(t,e,i){return{min:dte(t,e),max:dte(t,i)}}function dte(t,e){return typeof t=="number"?t:t[e]||0}const bUe=new WeakMap;class wUe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const d=T=>{i?(this.stopAnimation(),this.snapToCursor(I_(T).point)):this.pauseAnimation()},h=(T,C)=>{this.stopAnimation();const{drag:A,dragPropagation:D,onDragStart:L}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oWe(A),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=C,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs($=>{let Q=this.getAxisMotionValue($).get()||0;if(iu.test(Q)){const{projection:B}=this.visualElement;if(B&&B.layout){const q=B.layout.layoutBox[$];q&&(Q=ka(q)*(parseFloat(Q)/100))}}this.originPoint[$]=Q}),L&&ur.update(()=>L(T,C),!1,!0),h4(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},m=(T,C)=>{this.latestPointerEvent=T,this.latestPanInfo=C;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:L,onDrag:z}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:$}=C;if(D&&this.currentDirection===null){this.currentDirection=SUe($),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",C.point,$),this.updateAxis("y",C.point,$),this.visualElement.render(),z&&ur.update(()=>z(T,C),!1,!0)},y=(T,C)=>{this.latestPointerEvent=T,this.latestPanInfo=C,this.stop(T,C),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>rs(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new Jce(e,{onSessionStart:d,onStart:h,onMove:m,onSessionEnd:y,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:s,contextWindow:Kce(this.visualElement),element:this.visualElement.current})}stop(e,i){const s=e||this.latestPointerEvent,u=i||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!u||!s)return;const{velocity:h}=u;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&ur.postRender(()=>m(s,u))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,i,s){const{drag:u}=this.getProps();if(!s||!Hw(e,u,this.currentDirection))return;const d=this.getAxisMotionValue(e);let h=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(h=gUe(h,this.constraints[e],this.elastic[e])),d.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,u=this.constraints;e&&Ex(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=vUe(s.layoutBox,e):this.constraints=!1,this.elastic=OUe(i),u!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rs(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=_Ue(s.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Ex(e))return!1;const s=e.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const d=kWe(s,u.root,this.visualElement.getTransformPagePoint());let h=yUe(u.layout.layoutBox,d);if(i){const m=i(SWe(h));this.hasMutatedConstraints=!!m,m&&(h=Oce(m))}return h}startAnimation(e){const{drag:i,dragMomentum:s,dragElastic:u,dragTransition:d,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},_=rs(b=>{if(!Hw(b,i,this.currentDirection))return;let T=y&&y[b]||{};h&&(T={min:0,max:0});const C=u?200:1e6,A=u?40:1e7,D={type:"inertia",velocity:s?e[b]:0,bounceStiffness:C,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...d,...T};return this.startAxisValueAnimation(b,D)});return Promise.all(_).then(m)}startAxisValueAnimation(e,i){const s=this.getAxisMotionValue(e);return h4(this.visualElement,e),s.start(bB(e,s,0,i,this.visualElement,!1))}stopAnimation(){rs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),u=s[i];return u||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){rs(i=>{const{drag:s}=this.getProps();if(!Hw(i,s,this.currentDirection))return;const{projection:u}=this.visualElement,d=this.getAxisMotionValue(i);if(u&&u.layout){const{min:h,max:m}=u.layout.layoutBox[i],y=d.get()||0;d.set(e[i]-Pr(h,m,.5)+y)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Ex(i)||!s||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};rs(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const y=m.get();u[h]=xUe({min:y,max:y},this.constraints[h])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),rs(h=>{if(!Hw(h,e,null))return;const m=this.getAxisMotionValue(h),{min:y,max:_}=this.constraints[h];m.set(Pr(y,_,u[h]))})}addListeners(){if(!this.visualElement.current)return;bUe.set(this.visualElement,this);const e=this.visualElement.current,i=qx(e,"pointerdown",y=>{const{drag:_,dragListener:b=!0}=this.getProps(),T=y.target,C=T!==e&&dWe(T);_&&b&&!C&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Ex(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,d=u.addEventListener("measure",s);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),ur.read(s);const h=M1(window,"resize",()=>this.scalePositionWithinConstraints()),m=u.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:_})=>{this.isDragging&&_&&(rs(b=>{const T=this.getAxisMotionValue(b);T&&(this.originPoint[b]+=y[b].translate,T.set(T.get()+y[b].translate))}),this.visualElement.render())}));return()=>{h(),i(),d(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:u=!1,dragConstraints:d=!1,dragElastic:h=O4,dragMomentum:m=!0}=e;return{...e,drag:i,dragDirectionLock:s,dragPropagation:u,dragConstraints:d,dragElastic:h,dragMomentum:m}}}function Hw(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function SUe(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class TUe extends Jd{constructor(e){super(e),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new wUe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const XL=t=>(e,i)=>{t&&ur.update(()=>t(e,i),!1,!0)};class CUe extends Jd{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(e){this.session=new Jce(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kce(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:s,onPanEnd:u}=this.node.getProps();return{onSessionStart:XL(e),onStart:XL(i),onMove:XL(s),onEnd:(d,h)=>{delete this.session,u&&ur.postRender(()=>u(d,h))}}}mount(){this.removePointerDownListener=qx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let YL=!1;class kUe extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s,layoutId:u}=this.props,{projection:d}=e;d&&(i.group&&i.group.add(d),s&&s.register&&u&&s.register(d),YL&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),oT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:s,drag:u,isPresent:d}=this.props,{projection:h}=s;return h&&(h.isPresent=d,e.layoutDependency!==i&&h.setOptions({...h.options,layoutDependency:i}),YL=!0,u||e.layoutDependency!==i||i===void 0||e.isPresent!==d?h.willUpdate():this.safeToRemove(),e.isPresent!==d&&(d?h.promote():h.relegate()||ur.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),CB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:u}=e;YL=!0,u&&(u.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(u),s&&s.deregister&&s.deregister(u))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tde(t){const[e,i]=Fce(),s=K.useContext(rB);return I.jsx(kUe,{...t,layoutGroup:s,switchLayoutGroup:K.useContext(Xce),isPresent:e,safeToRemove:i})}const AUe={pan:{Feature:CUe},drag:{Feature:TUe,ProjectionNode:Vce,MeasureLayout:tde}};function fte(t,e,i){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",i==="Start");const u="onHover"+i,d=s[u];d&&ur.postRender(()=>d(e,I_(e)))}class PUe extends Jd{mount(){const{current:e}=this.node;e&&(this.unmount=sWe(e,(i,s)=>(fte(this.node,s,"Start"),u=>fte(this.node,u,"End"))))}unmount(){}}class EUe extends Jd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=E_(M1(this.node.current,"focus",()=>this.onFocus()),M1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hte(t,e,i){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",i==="Start");const u="onTap"+(i==="End"?"":i),d=s[u];d&&ur.postRender(()=>d(e,I_(e)))}class MUe extends Jd{mount(){const{current:e}=this.node;e&&(this.unmount=hWe(e,(i,s)=>(hte(this.node,s,"Start"),(u,{success:d})=>hte(this.node,u,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const b4=new WeakMap,KL=new WeakMap,DUe=t=>{const e=b4.get(t.target);e&&e(t)},IUe=t=>{t.forEach(DUe)};function RUe({root:t,...e}){const i=t||document;KL.has(i)||KL.set(i,{});const s=KL.get(i),u=JSON.stringify(e);return s[u]||(s[u]=new IntersectionObserver(IUe,{root:t,...e})),s[u]}function LUe(t,e,i){const s=RUe(e);return b4.set(t,i),s.observe(t),()=>{b4.delete(t),s.unobserve(t)}}const NUe={some:0,all:1};class $Ue extends Jd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:s,amount:u="some",once:d}=e,h={root:i?i.current:void 0,rootMargin:s,threshold:typeof u=="number"?u:NUe[u]},m=y=>{const{isIntersecting:_}=y;if(this.isInView===_||(this.isInView=_,d&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:b,onViewportLeave:T}=this.node.getProps(),C=_?b:T;C&&C(y)};return LUe(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(zUe(e,i))&&this.startObserver()}unmount(){}}function zUe({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const BUe={inView:{Feature:$Ue},tap:{Feature:MUe},focus:{Feature:EUe},hover:{Feature:PUe}},QUe={layout:{ProjectionNode:Vce,MeasureLayout:tde}},jUe={...dUe,...BUe,...AUe,...QUe},Ti=oUe(jUe,sUe);function nde(t){const e=sp(()=>lp(t)),{isStatic:i}=K.useContext(Fk);if(i){const[,s]=K.useState(t);K.useEffect(()=>e.on("change",s),[])}return e}function rde(t,e){const i=nde(e()),s=()=>i.set(e());return s(),iB(()=>{const u=()=>ur.preRender(s,!1,!0),d=t.map(h=>h.on("change",u));return()=>{d.forEach(h=>h()),gc(s)}}),i}function VUe(t){Wx.current=[],t();const e=rde(Wx.current,t);return Wx.current=void 0,e}function ide(t,e,i,s){if(typeof t=="function")return VUe(t);if(i!==void 0&&!Array.isArray(i)&&typeof e!="function")return FUe(t,e,i,s);const h=typeof e=="function"?e:mWe(e,i,s);return Array.isArray(t)?pte(t,h):pte([t],([m])=>h(m))}function pte(t,e){const i=sp(()=>[]);return rde(t,()=>{i.length=0;const s=t.length;for(let u=0;u<s;u++)i[u]=t[u].get();return e(i)})}function FUe(t,e,i,s){const u=sp(()=>Object.keys(i)),d=sp(()=>({}));for(const h of u)d[h]=ide(t,e,i[h],s);return d}const GUe=()=>I.jsxs("div",{className:"mx-auto flex size-full max-w-3xl flex-col justify-center px-8 md:mt-20",children:[I.jsx(Ti.div,{animate:{opacity:1,y:0},className:"font-semibold text-2xl",exit:{opacity:0,y:10},initial:{opacity:0,y:10},transition:{delay:.5},children:"Hello there!"}),I.jsx(Ti.div,{animate:{opacity:1,y:0},className:"text-2xl text-zinc-500",exit:{opacity:0,y:10},initial:{opacity:0,y:10},transition:{delay:.6},children:"How can I help you today?"})]},"overview");function ade(t,e){const i=e||{};return(t[t.length-1]===""?[...t,""]:t).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const WUe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UUe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qUe={};function mte(t,e){return(qUe.jsx?UUe:WUe).test(t)}const ZUe=/[ \t\n\f\r]/g;function Wk(t){return typeof t=="object"?t.type==="text"?gte(t.value):!1:gte(t)}function gte(t){return t.replace(ZUe,"")===""}class R_{constructor(e,i,s){this.normal=i,this.property=e,s&&(this.space=s)}}R_.prototype.normal={};R_.prototype.property={};R_.prototype.space=void 0;function ode(t,e){const i={},s={};for(const u of t)Object.assign(i,u.property),Object.assign(s,u.normal);return new R_(i,s,e)}function w4(t){return t.toLowerCase()}class co{constructor(e,i){this.attribute=i,this.property=e}}co.prototype.attribute="";co.prototype.booleanish=!1;co.prototype.boolean=!1;co.prototype.commaOrSpaceSeparated=!1;co.prototype.commaSeparated=!1;co.prototype.defined=!1;co.prototype.mustUseProperty=!1;co.prototype.number=!1;co.prototype.overloadedBoolean=!1;co.prototype.property="";co.prototype.spaceSeparated=!1;co.prototype.space=void 0;let HUe=0;const yn=Ep(),ni=Ep(),S4=Ep(),ft=Ep(),pr=Ep(),jg=Ep(),ko=Ep();function Ep(){return 2**++HUe}const T4=Object.freeze(Object.defineProperty({__proto__:null,boolean:yn,booleanish:ni,commaOrSpaceSeparated:ko,commaSeparated:jg,number:ft,overloadedBoolean:S4,spaceSeparated:pr},Symbol.toStringTag,{value:"Module"})),JL=Object.keys(T4);class LB extends co{constructor(e,i,s,u){let d=-1;if(super(e,i),vte(this,"space",u),typeof s=="number")for(;++d<JL.length;){const h=JL[d];vte(this,JL[d],(s&T4[h])===T4[h])}}}LB.prototype.defined=!0;function vte(t,e,i){i&&(t[e]=i)}function Tv(t){const e={},i={};for(const[s,u]of Object.entries(t.properties)){const d=new LB(s,t.transform(t.attributes||{},s),u,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(d.mustUseProperty=!0),e[s]=d,i[w4(s)]=s,i[w4(d.attribute)]=s}return new R_(e,i,t.space)}const sde=Tv({properties:{ariaActiveDescendant:null,ariaAtomic:ni,ariaAutoComplete:null,ariaBusy:ni,ariaChecked:ni,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:pr,ariaCurrent:null,ariaDescribedBy:pr,ariaDetails:null,ariaDisabled:ni,ariaDropEffect:pr,ariaErrorMessage:null,ariaExpanded:ni,ariaFlowTo:pr,ariaGrabbed:ni,ariaHasPopup:null,ariaHidden:ni,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pr,ariaLevel:ft,ariaLive:null,ariaModal:ni,ariaMultiLine:ni,ariaMultiSelectable:ni,ariaOrientation:null,ariaOwns:pr,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:ni,ariaReadOnly:ni,ariaRelevant:null,ariaRequired:ni,ariaRoleDescription:pr,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:ni,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function lde(t,e){return e in t?t[e]:e}function ude(t,e){return lde(t,e.toLowerCase())}const XUe=Tv({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jg,acceptCharset:pr,accessKey:pr,action:null,allow:null,allowFullScreen:yn,allowPaymentRequest:yn,allowUserMedia:yn,alt:null,as:null,async:yn,autoCapitalize:null,autoComplete:pr,autoFocus:yn,autoPlay:yn,blocking:pr,capture:null,charSet:null,checked:yn,cite:null,className:pr,cols:ft,colSpan:null,content:null,contentEditable:ni,controls:yn,controlsList:pr,coords:ft|jg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yn,defer:yn,dir:null,dirName:null,disabled:yn,download:S4,draggable:ni,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yn,formTarget:null,headers:pr,height:ft,hidden:S4,high:ft,href:null,hrefLang:null,htmlFor:pr,httpEquiv:pr,id:null,imageSizes:null,imageSrcSet:null,inert:yn,inputMode:null,integrity:null,is:null,isMap:yn,itemId:null,itemProp:pr,itemRef:pr,itemScope:yn,itemType:pr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yn,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:yn,muted:yn,name:null,nonce:null,noModule:yn,noValidate:yn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yn,optimum:ft,pattern:null,ping:pr,placeholder:null,playsInline:yn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yn,referrerPolicy:null,rel:pr,required:yn,reversed:yn,rows:ft,rowSpan:ft,sandbox:pr,scope:null,scoped:yn,seamless:yn,selected:yn,shadowRootClonable:yn,shadowRootDelegatesFocus:yn,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:ni,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:yn,useMap:null,value:ni,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pr,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yn,declare:yn,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:yn,noHref:yn,noShade:yn,noWrap:yn,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:ni,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yn,disableRemotePlayback:yn,prefix:null,property:null,results:ft,security:null,unselectable:null},space:"html",transform:ude}),YUe=Tv({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ko,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:pr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:yn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jg,g2:jg,glyphName:jg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:ko,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ko,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ko,rev:ko,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ko,requiredFeatures:ko,requiredFonts:ko,requiredFormats:ko,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:ko,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ko,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ko,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lde}),cde=Tv({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),dde=Tv({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ude}),fde=Tv({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),KUe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},JUe=/[A-Z]/g,yte=/-[a-z]/g,eqe=/^data[-\w.:]+$/i;function hde(t,e){const i=w4(e);let s=e,u=co;if(i in t.normal)return t.property[t.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&eqe.test(e)){if(e.charAt(4)==="-"){const d=e.slice(5).replace(yte,nqe);s="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=e.slice(4);if(!yte.test(d)){let h=d.replace(JUe,tqe);h.charAt(0)!=="-"&&(h="-"+h),e="data"+h}}u=LB}return new u(s,e)}function tqe(t){return"-"+t.toLowerCase()}function nqe(t){return t.charAt(1).toUpperCase()}const pde=ode([sde,XUe,cde,dde,fde],"html"),L_=ode([sde,YUe,cde,dde,fde],"svg");function mde(t){return t.join(" ").trim()}var pg={},eN,xte;function rqe(){if(xte)return eN;xte=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,i=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,h=/^[;\s]*/,m=/^\s+|\s+$/g,y=`
`,_="/",b="*",T="",C="comment",A="declaration";function D(z,$){if(typeof z!="string")throw new TypeError("First argument must be a string");if(!z)return[];$=$||{};var Q=1,B=1;function q(de){var he=de.match(e);he&&(Q+=he.length);var ue=de.lastIndexOf(y);B=~ue?de.length-ue:B+de.length}function Y(){var de={line:Q,column:B};return function(he){return he.position=new G(de),F(),he}}function G(de){this.start=de,this.end={line:Q,column:B},this.source=$.source}G.prototype.content=z;function H(de){var he=new Error($.source+":"+Q+":"+B+": "+de);if(he.reason=de,he.filename=$.source,he.line=Q,he.column=B,he.source=z,!$.silent)throw he}function V(de){var he=de.exec(z);if(he){var ue=he[0];return q(ue),z=z.slice(ue.length),he}}function F(){V(i)}function te(de){var he;for(de=de||[];he=ae();)he!==!1&&de.push(he);return de}function ae(){var de=Y();if(!(_!=z.charAt(0)||b!=z.charAt(1))){for(var he=2;T!=z.charAt(he)&&(b!=z.charAt(he)||_!=z.charAt(he+1));)++he;if(he+=2,T===z.charAt(he-1))return H("End of comment missing");var ue=z.slice(2,he-2);return B+=2,q(ue),z=z.slice(he),B+=2,de({type:C,comment:ue})}}function oe(){var de=Y(),he=V(s);if(he){if(ae(),!V(u))return H("property missing ':'");var ue=V(d),ne=de({type:A,property:L(he[0].replace(t,T)),value:ue?L(ue[0].replace(t,T)):T});return V(h),ne}}function fe(){var de=[];te(de);for(var he;he=oe();)he!==!1&&(de.push(he),te(de));return de}return F(),fe()}function L(z){return z?z.replace(m,T):T}return eN=D,eN}var _te;function iqe(){if(_te)return pg;_te=1;var t=pg&&pg.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pg,"__esModule",{value:!0}),pg.default=i;const e=t(rqe());function i(s,u){let d=null;if(!s||typeof s!="string")return d;const h=(0,e.default)(s),m=typeof u=="function";return h.forEach(y=>{if(y.type!=="declaration")return;const{property:_,value:b}=y;m?u(_,b,y):b&&(d=d||{},d[_]=b)}),d}return pg}var Xy={},Ote;function aqe(){if(Ote)return Xy;Ote=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,i=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,d=function(_){return!_||i.test(_)||t.test(_)},h=function(_,b){return b.toUpperCase()},m=function(_,b){return"".concat(b,"-")},y=function(_,b){return b===void 0&&(b={}),d(_)?_:(_=_.toLowerCase(),b.reactCompat?_=_.replace(u,m):_=_.replace(s,m),_.replace(e,h))};return Xy.camelCase=y,Xy}var Yy,bte;function oqe(){if(bte)return Yy;bte=1;var t=Yy&&Yy.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},e=t(iqe()),i=aqe();function s(u,d){var h={};return!u||typeof u!="string"||(0,e.default)(u,function(m,y){m&&y&&(h[(0,i.camelCase)(m,d)]=y)}),h}return s.default=s,Yy=s,Yy}var sqe=oqe();const lqe=cu(sqe),gde=vde("end"),NB=vde("start");function vde(t){return e;function e(i){const s=i&&i.position&&i.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function uqe(t){const e=NB(t),i=gde(t);if(e&&i)return{start:e,end:i}}function Zx(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wte(t.position):"start"in t||"end"in t?wte(t):"line"in t||"column"in t?C4(t):""}function C4(t){return Ste(t&&t.line)+":"+Ste(t&&t.column)}function wte(t){return C4(t&&t.start)+"-"+C4(t&&t.end)}function Ste(t){return t&&typeof t=="number"?t:1}class fa extends Error{constructor(e,i,s){super(),typeof i=="string"&&(s=i,i=void 0);let u="",d={},h=!1;if(i&&("line"in i&&"column"in i?d={place:i}:"start"in i&&"end"in i?d={place:i}:"type"in i?d={ancestors:[i],place:i.position}:d={...i}),typeof e=="string"?u=e:!d.cause&&e&&(h=!0,u=e.message,d.cause=e),!d.ruleId&&!d.source&&typeof s=="string"){const y=s.indexOf(":");y===-1?d.ruleId=s:(d.source=s.slice(0,y),d.ruleId=s.slice(y+1))}if(!d.place&&d.ancestors&&d.ancestors){const y=d.ancestors[d.ancestors.length-1];y&&(d.place=y.position)}const m=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=m?m.line:void 0,this.name=Zx(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fa.prototype.file="";fa.prototype.name="";fa.prototype.reason="";fa.prototype.message="";fa.prototype.stack="";fa.prototype.column=void 0;fa.prototype.line=void 0;fa.prototype.ancestors=void 0;fa.prototype.cause=void 0;fa.prototype.fatal=void 0;fa.prototype.place=void 0;fa.prototype.ruleId=void 0;fa.prototype.source=void 0;const $B={}.hasOwnProperty,cqe=new Map,dqe=/[A-Z]/g,fqe=new Set(["table","tbody","thead","tfoot","tr"]),hqe=new Set(["td","th"]),yde="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function pqe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=bqe(i,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Oqe(i,e.jsx,e.jsxs)}const u={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?L_:pde,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},d=xde(u,t,void 0);return d&&typeof d!="string"?d:u.create(t,u.Fragment,{children:d||void 0},void 0)}function xde(t,e,i){if(e.type==="element")return mqe(t,e,i);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return gqe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return yqe(t,e,i);if(e.type==="mdxjsEsm")return vqe(t,e);if(e.type==="root")return xqe(t,e,i);if(e.type==="text")return _qe(t,e)}function mqe(t,e,i){const s=t.schema;let u=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(u=L_,t.schema=u),t.ancestors.push(e);const d=Ode(t,e.tagName,!1),h=wqe(t,e);let m=BB(t,e);return fqe.has(e.tagName)&&(m=m.filter(function(y){return typeof y=="string"?!Wk(y):!0})),_de(t,h,d,e),zB(h,m),t.ancestors.pop(),t.schema=s,t.create(e,d,h,i)}function gqe(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}D1(t,e.position)}function vqe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);D1(t,e.position)}function yqe(t,e,i){const s=t.schema;let u=s;e.name==="svg"&&s.space==="html"&&(u=L_,t.schema=u),t.ancestors.push(e);const d=e.name===null?t.Fragment:Ode(t,e.name,!0),h=Sqe(t,e),m=BB(t,e);return _de(t,h,d,e),zB(h,m),t.ancestors.pop(),t.schema=s,t.create(e,d,h,i)}function xqe(t,e,i){const s={};return zB(s,BB(t,e)),t.create(e,t.Fragment,s,i)}function _qe(t,e){return e.value}function _de(t,e,i,s){typeof i!="string"&&i!==t.Fragment&&t.passNode&&(e.node=s)}function zB(t,e){if(e.length>0){const i=e.length>1?e:e[0];i&&(t.children=i)}}function Oqe(t,e,i){return s;function s(u,d,h,m){const _=Array.isArray(h.children)?i:e;return m?_(d,h,m):_(d,h)}}function bqe(t,e){return i;function i(s,u,d,h){const m=Array.isArray(d.children),y=NB(s);return e(u,d,h,m,{columnNumber:y?y.column-1:void 0,fileName:t,lineNumber:y?y.line:void 0},void 0)}}function wqe(t,e){const i={};let s,u;for(u in e.properties)if(u!=="children"&&$B.call(e.properties,u)){const d=Tqe(t,u,e.properties[u]);if(d){const[h,m]=d;t.tableCellAlignToStyle&&h==="align"&&typeof m=="string"&&hqe.has(e.tagName)?s=m:i[h]=m}}if(s){const d=i.style||(i.style={});d[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return i}function Sqe(t,e){const i={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const d=s.data.estree.body[0];d.type;const h=d.expression;h.type;const m=h.properties[0];m.type,Object.assign(i,t.evaluater.evaluateExpression(m.argument))}else D1(t,e.position);else{const u=s.name;let d;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const m=s.value.data.estree.body[0];m.type,d=t.evaluater.evaluateExpression(m.expression)}else D1(t,e.position);else d=s.value===null?!0:s.value;i[u]=d}return i}function BB(t,e){const i=[];let s=-1;const u=t.passKeys?new Map:cqe;for(;++s<e.children.length;){const d=e.children[s];let h;if(t.passKeys){const y=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(y){const _=u.get(y)||0;h=y+"-"+_,u.set(y,_+1)}}const m=xde(t,d,h);m!==void 0&&i.push(m)}return i}function Tqe(t,e,i){const s=hde(t.schema,e);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=s.commaSeparated?ade(i):mde(i)),s.property==="style"){let u=typeof i=="object"?i:Cqe(t,String(i));return t.stylePropertyNameCase==="css"&&(u=kqe(u)),["style",u]}return[t.elementAttributeNameCase==="react"&&s.space?KUe[s.property]||s.property:s.attribute,i]}}function Cqe(t,e){try{return lqe(e,{reactCompat:!0})}catch(i){if(t.ignoreInvalidStyle)return{};const s=i,u=new fa("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=t.filePath||void 0,u.url=yde+"#cannot-parse-style-attribute",u}}function Ode(t,e,i){let s;if(!i)s={type:"Literal",value:e};else if(e.includes(".")){const u=e.split(".");let d=-1,h;for(;++d<u.length;){const m=mte(u[d])?{type:"Identifier",name:u[d]}:{type:"Literal",value:u[d]};h=h?{type:"MemberExpression",object:h,property:m,computed:!!(d&&m.type==="Literal"),optional:!1}:m}s=h}else s=mte(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const u=s.value;return $B.call(t.components,u)?t.components[u]:u}if(t.evaluater)return t.evaluater.evaluateExpression(s);D1(t)}function D1(t,e){const i=new fa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=yde+"#cannot-handle-mdx-estrees-without-createevaluater",i}function kqe(t){const e={};let i;for(i in t)$B.call(t,i)&&(e[Aqe(i)]=t[i]);return e}function Aqe(t){let e=t.replace(dqe,Pqe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Pqe(t){return"-"+t.toLowerCase()}const tN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Eqe={};function Mqe(t,e){const i=Eqe,s=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return bde(t,s,u)}function bde(t,e,i){if(Dqe(t)){if("value"in t)return t.type==="html"&&!i?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Tte(t.children,e,i)}return Array.isArray(t)?Tte(t,e,i):""}function Tte(t,e,i){const s=[];let u=-1;for(;++u<t.length;)s[u]=bde(t[u],e,i);return s.join("")}function Dqe(t){return!!(t&&typeof t=="object")}const Cte=document.createElement("i");function QB(t){const e="&"+t+";";Cte.innerHTML=e;const i=Cte.textContent;return i.charCodeAt(i.length-1)===59&&t!=="semi"||i===e?!1:i}function lu(t,e,i,s){const u=t.length;let d=0,h;if(e<0?e=-e>u?0:u+e:e=e>u?u:e,i=i>0?i:0,s.length<1e4)h=Array.from(s),h.unshift(e,i),t.splice(...h);else for(i&&t.splice(e,i);d<s.length;)h=s.slice(d,d+1e4),h.unshift(e,0),t.splice(...h),d+=1e4,e+=1e4}function is(t,e){return t.length>0?(lu(t,t.length,0,e),t):e}const kte={}.hasOwnProperty;function Iqe(t){const e={};let i=-1;for(;++i<t.length;)Rqe(e,t[i]);return e}function Rqe(t,e){let i;for(i in e){const u=(kte.call(t,i)?t[i]:void 0)||(t[i]={}),d=e[i];let h;if(d)for(h in d){kte.call(u,h)||(u[h]=[]);const m=d[h];Lqe(u[h],Array.isArray(m)?m:m?[m]:[])}}}function Lqe(t,e){let i=-1;const s=[];for(;++i<e.length;)(e[i].add==="after"?t:s).push(e[i]);lu(t,0,0,s)}function wde(t,e){const i=Number.parseInt(t,e);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"�":String.fromCodePoint(i)}function Vg(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xl=ef(/[A-Za-z]/),Io=ef(/[\dA-Za-z]/),Nqe=ef(/[#-'*+\--9=?A-Z^-~]/);function k4(t){return t!==null&&(t<32||t===127)}const A4=ef(/\d/),$qe=ef(/[\dA-Fa-f]/),zqe=ef(/[!-/:-@[-`{-~]/);function tn(t){return t!==null&&t<-2}function ro(t){return t!==null&&(t<0||t===32)}function qn(t){return t===-2||t===-1||t===32}const Bqe=ef(new RegExp("\\p{P}|\\p{S}","u")),Qqe=ef(/\s/);function ef(t){return e;function e(i){return i!==null&&i>-1&&t.test(String.fromCharCode(i))}}function Cv(t){const e=[];let i=-1,s=0,u=0;for(;++i<t.length;){const d=t.charCodeAt(i);let h="";if(d===37&&Io(t.charCodeAt(i+1))&&Io(t.charCodeAt(i+2)))u=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const m=t.charCodeAt(i+1);d<56320&&m>56319&&m<57344?(h=String.fromCharCode(d,m),u=1):h="�"}else h=String.fromCharCode(d);h&&(e.push(t.slice(s,i),encodeURIComponent(h)),s=i+u+1,h=""),u&&(i+=u,u=0)}return e.join("")+t.slice(s)}function gr(t,e,i,s){const u=s?s-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return qn(y)?(t.enter(i),m(y)):e(y)}function m(y){return qn(y)&&d++<u?(t.consume(y),m):(t.exit(i),e(y))}}const jqe={tokenize:Vqe};function Vqe(t){const e=t.attempt(this.parser.constructs.contentInitial,s,u);let i;return e;function s(m){if(m===null){t.consume(m);return}return t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),gr(t,e,"linePrefix")}function u(m){return t.enter("paragraph"),d(m)}function d(m){const y=t.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=y),i=y,h(m)}function h(m){if(m===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(m);return}return tn(m)?(t.consume(m),t.exit("chunkText"),d):(t.consume(m),h)}}const Fqe={tokenize:Gqe},Ate={tokenize:Wqe};function Gqe(t){const e=this,i=[];let s=0,u,d,h;return m;function m(B){if(s<i.length){const q=i[s];return e.containerState=q[1],t.attempt(q[0].continuation,y,_)(B)}return _(B)}function y(B){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,u&&Q();const q=e.events.length;let Y=q,G;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){G=e.events[Y][1].end;break}$(s);let H=q;for(;H<e.events.length;)e.events[H][1].end={...G},H++;return lu(e.events,Y+1,0,e.events.slice(q)),e.events.length=H,_(B)}return m(B)}function _(B){if(s===i.length){if(!u)return C(B);if(u.currentConstruct&&u.currentConstruct.concrete)return D(B);e.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ate,b,T)(B)}function b(B){return u&&Q(),$(s),C(B)}function T(B){return e.parser.lazy[e.now().line]=s!==i.length,h=e.now().offset,D(B)}function C(B){return e.containerState={},t.attempt(Ate,A,D)(B)}function A(B){return s++,i.push([e.currentConstruct,e.containerState]),C(B)}function D(B){if(B===null){u&&Q(),$(0),t.consume(B);return}return u=u||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:d}),L(B)}function L(B){if(B===null){z(t.exit("chunkFlow"),!0),$(0),t.consume(B);return}return tn(B)?(t.consume(B),z(t.exit("chunkFlow")),s=0,e.interrupt=void 0,m):(t.consume(B),L)}function z(B,q){const Y=e.sliceStream(B);if(q&&Y.push(null),B.previous=d,d&&(d.next=B),d=B,u.defineSkip(B.start),u.write(Y),e.parser.lazy[B.start.line]){let G=u.events.length;for(;G--;)if(u.events[G][1].start.offset<h&&(!u.events[G][1].end||u.events[G][1].end.offset>h))return;const H=e.events.length;let V=H,F,te;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(F){te=e.events[V][1].end;break}F=!0}for($(s),G=H;G<e.events.length;)e.events[G][1].end={...te},G++;lu(e.events,V+1,0,e.events.slice(H)),e.events.length=G}}function $(B){let q=i.length;for(;q-- >B;){const Y=i[q];e.containerState=Y[1],Y[0].exit.call(e,t)}i.length=B}function Q(){u.write([null]),d=void 0,u=void 0,e.containerState._closeFlow=void 0}}function Wqe(t,e,i){return gr(t,t.attempt(this.parser.constructs.document,e,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pte(t){if(t===null||ro(t)||Qqe(t))return 1;if(Bqe(t))return 2}function jB(t,e,i){const s=[];let u=-1;for(;++u<t.length;){const d=t[u].resolveAll;d&&!s.includes(d)&&(e=d(e,i),s.push(d))}return e}const P4={name:"attention",resolveAll:Uqe,tokenize:qqe};function Uqe(t,e){let i=-1,s,u,d,h,m,y,_,b;for(;++i<t.length;)if(t[i][0]==="enter"&&t[i][1].type==="attentionSequence"&&t[i][1]._close){for(s=i;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[i][1]).charCodeAt(0)){if((t[s][1]._close||t[i][1]._open)&&(t[i][1].end.offset-t[i][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[i][1].end.offset-t[i][1].start.offset)%3))continue;y=t[s][1].end.offset-t[s][1].start.offset>1&&t[i][1].end.offset-t[i][1].start.offset>1?2:1;const T={...t[s][1].end},C={...t[i][1].start};Ete(T,-y),Ete(C,y),h={type:y>1?"strongSequence":"emphasisSequence",start:T,end:{...t[s][1].end}},m={type:y>1?"strongSequence":"emphasisSequence",start:{...t[i][1].start},end:C},d={type:y>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[i][1].start}},u={type:y>1?"strong":"emphasis",start:{...h.start},end:{...m.end}},t[s][1].end={...h.start},t[i][1].start={...m.end},_=[],t[s][1].end.offset-t[s][1].start.offset&&(_=is(_,[["enter",t[s][1],e],["exit",t[s][1],e]])),_=is(_,[["enter",u,e],["enter",h,e],["exit",h,e],["enter",d,e]]),_=is(_,jB(e.parser.constructs.insideSpan.null,t.slice(s+1,i),e)),_=is(_,[["exit",d,e],["enter",m,e],["exit",m,e],["exit",u,e]]),t[i][1].end.offset-t[i][1].start.offset?(b=2,_=is(_,[["enter",t[i][1],e],["exit",t[i][1],e]])):b=0,lu(t,s-1,i-s+3,_),i=s+_.length-b-2;break}}for(i=-1;++i<t.length;)t[i][1].type==="attentionSequence"&&(t[i][1].type="data");return t}function qqe(t,e){const i=this.parser.constructs.attentionMarkers.null,s=this.previous,u=Pte(s);let d;return h;function h(y){return d=y,t.enter("attentionSequence"),m(y)}function m(y){if(y===d)return t.consume(y),m;const _=t.exit("attentionSequence"),b=Pte(y),T=!b||b===2&&u||i.includes(y),C=!u||u===2&&b||i.includes(s);return _._open=!!(d===42?T:T&&(u||!C)),_._close=!!(d===42?C:C&&(b||!T)),e(y)}}function Ete(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Zqe={name:"autolink",tokenize:Hqe};function Hqe(t,e,i){let s=0;return u;function u(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),d}function d(A){return Xl(A)?(t.consume(A),h):A===64?i(A):_(A)}function h(A){return A===43||A===45||A===46||Io(A)?(s=1,m(A)):_(A)}function m(A){return A===58?(t.consume(A),s=0,y):(A===43||A===45||A===46||Io(A))&&s++<32?(t.consume(A),m):(s=0,_(A))}function y(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):A===null||A===32||A===60||k4(A)?i(A):(t.consume(A),y)}function _(A){return A===64?(t.consume(A),b):Nqe(A)?(t.consume(A),_):i(A)}function b(A){return Io(A)?T(A):i(A)}function T(A){return A===46?(t.consume(A),s=0,b):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):C(A)}function C(A){if((A===45||Io(A))&&s++<63){const D=A===45?C:T;return t.consume(A),D}return i(A)}}const Uk={partial:!0,tokenize:Xqe};function Xqe(t,e,i){return s;function s(d){return qn(d)?gr(t,u,"linePrefix")(d):u(d)}function u(d){return d===null||tn(d)?e(d):i(d)}}const Sde={continuation:{tokenize:Kqe},exit:Jqe,name:"blockQuote",tokenize:Yqe};function Yqe(t,e,i){const s=this;return u;function u(h){if(h===62){const m=s.containerState;return m.open||(t.enter("blockQuote",{_container:!0}),m.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(h),t.exit("blockQuoteMarker"),d}return i(h)}function d(h){return qn(h)?(t.enter("blockQuotePrefixWhitespace"),t.consume(h),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(h))}}function Kqe(t,e,i){const s=this;return u;function u(h){return qn(h)?gr(t,d,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return t.attempt(Sde,e,i)(h)}}function Jqe(t){t.exit("blockQuote")}const Tde={name:"characterEscape",tokenize:eZe};function eZe(t,e,i){return s;function s(d){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(d),t.exit("escapeMarker"),u}function u(d){return zqe(d)?(t.enter("characterEscapeValue"),t.consume(d),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):i(d)}}const Cde={name:"characterReference",tokenize:tZe};function tZe(t,e,i){const s=this;let u=0,d,h;return m;function m(T){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),y}function y(T){return T===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(T),t.exit("characterReferenceMarkerNumeric"),_):(t.enter("characterReferenceValue"),d=31,h=Io,b(T))}function _(T){return T===88||T===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(T),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),d=6,h=$qe,b):(t.enter("characterReferenceValue"),d=7,h=A4,b(T))}function b(T){if(T===59&&u){const C=t.exit("characterReferenceValue");return h===Io&&!QB(s.sliceSerialize(C))?i(T):(t.enter("characterReferenceMarker"),t.consume(T),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return h(T)&&u++<d?(t.consume(T),b):i(T)}}const Mte={partial:!0,tokenize:rZe},Dte={concrete:!0,name:"codeFenced",tokenize:nZe};function nZe(t,e,i){const s=this,u={partial:!0,tokenize:Y};let d=0,h=0,m;return y;function y(G){return _(G)}function _(G){const H=s.events[s.events.length-1];return d=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,m=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),b(G)}function b(G){return G===m?(h++,t.consume(G),b):h<3?i(G):(t.exit("codeFencedFenceSequence"),qn(G)?gr(t,T,"whitespace")(G):T(G))}function T(G){return G===null||tn(G)?(t.exit("codeFencedFence"),s.interrupt?e(G):t.check(Mte,L,q)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),C(G))}function C(G){return G===null||tn(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),T(G)):qn(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gr(t,A,"whitespace")(G)):G===96&&G===m?i(G):(t.consume(G),C)}function A(G){return G===null||tn(G)?T(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(G))}function D(G){return G===null||tn(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),T(G)):G===96&&G===m?i(G):(t.consume(G),D)}function L(G){return t.attempt(u,q,z)(G)}function z(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),$}function $(G){return d>0&&qn(G)?gr(t,Q,"linePrefix",d+1)(G):Q(G)}function Q(G){return G===null||tn(G)?t.check(Mte,L,q)(G):(t.enter("codeFlowValue"),B(G))}function B(G){return G===null||tn(G)?(t.exit("codeFlowValue"),Q(G)):(t.consume(G),B)}function q(G){return t.exit("codeFenced"),e(G)}function Y(G,H,V){let F=0;return te;function te(he){return G.enter("lineEnding"),G.consume(he),G.exit("lineEnding"),ae}function ae(he){return G.enter("codeFencedFence"),qn(he)?gr(G,oe,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):oe(he)}function oe(he){return he===m?(G.enter("codeFencedFenceSequence"),fe(he)):V(he)}function fe(he){return he===m?(F++,G.consume(he),fe):F>=h?(G.exit("codeFencedFenceSequence"),qn(he)?gr(G,de,"whitespace")(he):de(he)):V(he)}function de(he){return he===null||tn(he)?(G.exit("codeFencedFence"),H(he)):V(he)}}}function rZe(t,e,i){const s=this;return u;function u(h){return h===null?i(h):(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),d)}function d(h){return s.parser.lazy[s.now().line]?i(h):e(h)}}const nN={name:"codeIndented",tokenize:aZe},iZe={partial:!0,tokenize:oZe};function aZe(t,e,i){const s=this;return u;function u(_){return t.enter("codeIndented"),gr(t,d,"linePrefix",5)(_)}function d(_){const b=s.events[s.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?h(_):i(_)}function h(_){return _===null?y(_):tn(_)?t.attempt(iZe,h,y)(_):(t.enter("codeFlowValue"),m(_))}function m(_){return _===null||tn(_)?(t.exit("codeFlowValue"),h(_)):(t.consume(_),m)}function y(_){return t.exit("codeIndented"),e(_)}}function oZe(t,e,i){const s=this;return u;function u(h){return s.parser.lazy[s.now().line]?i(h):tn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),u):gr(t,d,"linePrefix",5)(h)}function d(h){const m=s.events[s.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(h):tn(h)?u(h):i(h)}}const sZe={name:"codeText",previous:uZe,resolve:lZe,tokenize:cZe};function lZe(t){let e=t.length-4,i=3,s,u;if((t[i][1].type==="lineEnding"||t[i][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=i;++s<e;)if(t[s][1].type==="codeTextData"){t[i][1].type="codeTextPadding",t[e][1].type="codeTextPadding",i+=2,e-=2;break}}for(s=i-1,e++;++s<=e;)u===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(u=s):(s===e||t[s][1].type==="lineEnding")&&(t[u][1].type="codeTextData",s!==u+2&&(t[u][1].end=t[s-1][1].end,t.splice(u+2,s-u-2),e-=s-u-2,s=u+2),u=void 0);return t}function uZe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cZe(t,e,i){let s=0,u,d;return h;function h(T){return t.enter("codeText"),t.enter("codeTextSequence"),m(T)}function m(T){return T===96?(t.consume(T),s++,m):(t.exit("codeTextSequence"),y(T))}function y(T){return T===null?i(T):T===32?(t.enter("space"),t.consume(T),t.exit("space"),y):T===96?(d=t.enter("codeTextSequence"),u=0,b(T)):tn(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),y):(t.enter("codeTextData"),_(T))}function _(T){return T===null||T===32||T===96||tn(T)?(t.exit("codeTextData"),y(T)):(t.consume(T),_)}function b(T){return T===96?(t.consume(T),u++,b):u===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(T)):(d.type="codeTextData",_(T))}}class dZe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,i){const s=i??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,i,s){const u=i||0;this.setCursor(Math.trunc(e));const d=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return s&&Ky(this.left,s),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ky(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ky(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const i=this.left.splice(e,Number.POSITIVE_INFINITY);Ky(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ky(this.left,i.reverse())}}}function Ky(t,e){let i=0;if(e.length<1e4)t.push(...e);else for(;i<e.length;)t.push(...e.slice(i,i+1e4)),i+=1e4}function kde(t){const e={};let i=-1,s,u,d,h,m,y,_;const b=new dZe(t);for(;++i<b.length;){for(;i in e;)i=e[i];if(s=b.get(i),i&&s[1].type==="chunkFlow"&&b.get(i-1)[1].type==="listItemPrefix"&&(y=s[1]._tokenizer.events,d=0,d<y.length&&y[d][1].type==="lineEndingBlank"&&(d+=2),d<y.length&&y[d][1].type==="content"))for(;++d<y.length&&y[d][1].type!=="content";)y[d][1].type==="chunkText"&&(y[d][1]._isInFirstContentOfListItem=!0,d++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,fZe(b,i)),i=e[i],_=!0);else if(s[1]._container){for(d=i,u=void 0;d--;)if(h=b.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(u&&(b.get(u)[1].type="lineEndingBlank"),h[1].type="lineEnding",u=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;u&&(s[1].end={...b.get(u)[1].start},m=b.slice(u,i),m.unshift(s),b.splice(u,i-u+1,m))}}return lu(t,0,Number.POSITIVE_INFINITY,b.slice(0)),!_}function fZe(t,e){const i=t.get(e)[1],s=t.get(e)[2];let u=e-1;const d=[];let h=i._tokenizer;h||(h=s.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const m=h.events,y=[],_={};let b,T,C=-1,A=i,D=0,L=0;const z=[L];for(;A;){for(;t.get(++u)[1]!==A;);d.push(u),A._tokenizer||(b=s.sliceStream(A),A.next||b.push(null),T&&h.defineSkip(A.start),A._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(b),A._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),T=A,A=A.next}for(A=i;++C<m.length;)m[C][0]==="exit"&&m[C-1][0]==="enter"&&m[C][1].type===m[C-1][1].type&&m[C][1].start.line!==m[C][1].end.line&&(L=C+1,z.push(L),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(h.events=[],A?(A._tokenizer=void 0,A.previous=void 0):z.pop(),C=z.length;C--;){const $=m.slice(z[C],z[C+1]),Q=d.pop();y.push([Q,Q+$.length-1]),t.splice(Q,2,$)}for(y.reverse(),C=-1;++C<y.length;)_[D+y[C][0]]=D+y[C][1],D+=y[C][1]-y[C][0]-1;return _}const hZe={resolve:mZe,tokenize:gZe},pZe={partial:!0,tokenize:vZe};function mZe(t){return kde(t),t}function gZe(t,e){let i;return s;function s(m){return t.enter("content"),i=t.enter("chunkContent",{contentType:"content"}),u(m)}function u(m){return m===null?d(m):tn(m)?t.check(pZe,h,d)(m):(t.consume(m),u)}function d(m){return t.exit("chunkContent"),t.exit("content"),e(m)}function h(m){return t.consume(m),t.exit("chunkContent"),i.next=t.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function vZe(t,e,i){const s=this;return u;function u(h){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),gr(t,d,"linePrefix")}function d(h){if(h===null||tn(h))return i(h);const m=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(h):t.interrupt(s.parser.constructs.flow,i,e)(h)}}function Ade(t,e,i,s,u,d,h,m,y){const _=y||Number.POSITIVE_INFINITY;let b=0;return T;function T($){return $===60?(t.enter(s),t.enter(u),t.enter(d),t.consume($),t.exit(d),C):$===null||$===32||$===41||k4($)?i($):(t.enter(s),t.enter(h),t.enter(m),t.enter("chunkString",{contentType:"string"}),L($))}function C($){return $===62?(t.enter(d),t.consume($),t.exit(d),t.exit(u),t.exit(s),e):(t.enter(m),t.enter("chunkString",{contentType:"string"}),A($))}function A($){return $===62?(t.exit("chunkString"),t.exit(m),C($)):$===null||$===60||tn($)?i($):(t.consume($),$===92?D:A)}function D($){return $===60||$===62||$===92?(t.consume($),A):A($)}function L($){return!b&&($===null||$===41||ro($))?(t.exit("chunkString"),t.exit(m),t.exit(h),t.exit(s),e($)):b<_&&$===40?(t.consume($),b++,L):$===41?(t.consume($),b--,L):$===null||$===32||$===40||k4($)?i($):(t.consume($),$===92?z:L)}function z($){return $===40||$===41||$===92?(t.consume($),L):L($)}}function Pde(t,e,i,s,u,d){const h=this;let m=0,y;return _;function _(A){return t.enter(s),t.enter(u),t.consume(A),t.exit(u),t.enter(d),b}function b(A){return m>999||A===null||A===91||A===93&&!y||A===94&&!m&&"_hiddenFootnoteSupport"in h.parser.constructs?i(A):A===93?(t.exit(d),t.enter(u),t.consume(A),t.exit(u),t.exit(s),e):tn(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),b):(t.enter("chunkString",{contentType:"string"}),T(A))}function T(A){return A===null||A===91||A===93||tn(A)||m++>999?(t.exit("chunkString"),b(A)):(t.consume(A),y||(y=!qn(A)),A===92?C:T)}function C(A){return A===91||A===92||A===93?(t.consume(A),m++,T):T(A)}}function Ede(t,e,i,s,u,d){let h;return m;function m(C){return C===34||C===39||C===40?(t.enter(s),t.enter(u),t.consume(C),t.exit(u),h=C===40?41:C,y):i(C)}function y(C){return C===h?(t.enter(u),t.consume(C),t.exit(u),t.exit(s),e):(t.enter(d),_(C))}function _(C){return C===h?(t.exit(d),y(h)):C===null?i(C):tn(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),gr(t,_,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===h||C===null||tn(C)?(t.exit("chunkString"),_(C)):(t.consume(C),C===92?T:b)}function T(C){return C===h||C===92?(t.consume(C),b):b(C)}}function Hx(t,e){let i;return s;function s(u){return tn(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),i=!0,s):qn(u)?gr(t,s,i?"linePrefix":"lineSuffix")(u):e(u)}}const yZe={name:"definition",tokenize:_Ze},xZe={partial:!0,tokenize:OZe};function _Ze(t,e,i){const s=this;let u;return d;function d(A){return t.enter("definition"),h(A)}function h(A){return Pde.call(s,t,m,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function m(A){return u=Vg(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),y):i(A)}function y(A){return ro(A)?Hx(t,_)(A):_(A)}function _(A){return Ade(t,b,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function b(A){return t.attempt(xZe,T,T)(A)}function T(A){return qn(A)?gr(t,C,"whitespace")(A):C(A)}function C(A){return A===null||tn(A)?(t.exit("definition"),s.parser.defined.push(u),e(A)):i(A)}}function OZe(t,e,i){return s;function s(m){return ro(m)?Hx(t,u)(m):i(m)}function u(m){return Ede(t,d,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function d(m){return qn(m)?gr(t,h,"whitespace")(m):h(m)}function h(m){return m===null||tn(m)?e(m):i(m)}}const bZe={name:"hardBreakEscape",tokenize:wZe};function wZe(t,e,i){return s;function s(d){return t.enter("hardBreakEscape"),t.consume(d),u}function u(d){return tn(d)?(t.exit("hardBreakEscape"),e(d)):i(d)}}const SZe={name:"headingAtx",resolve:TZe,tokenize:CZe};function TZe(t,e){let i=t.length-2,s=3,u,d;return t[s][1].type==="whitespace"&&(s+=2),i-2>s&&t[i][1].type==="whitespace"&&(i-=2),t[i][1].type==="atxHeadingSequence"&&(s===i-1||i-4>s&&t[i-2][1].type==="whitespace")&&(i-=s+1===i?2:4),i>s&&(u={type:"atxHeadingText",start:t[s][1].start,end:t[i][1].end},d={type:"chunkText",start:t[s][1].start,end:t[i][1].end,contentType:"text"},lu(t,s,i-s+1,[["enter",u,e],["enter",d,e],["exit",d,e],["exit",u,e]])),t}function CZe(t,e,i){let s=0;return u;function u(b){return t.enter("atxHeading"),d(b)}function d(b){return t.enter("atxHeadingSequence"),h(b)}function h(b){return b===35&&s++<6?(t.consume(b),h):b===null||ro(b)?(t.exit("atxHeadingSequence"),m(b)):i(b)}function m(b){return b===35?(t.enter("atxHeadingSequence"),y(b)):b===null||tn(b)?(t.exit("atxHeading"),e(b)):qn(b)?gr(t,m,"whitespace")(b):(t.enter("atxHeadingText"),_(b))}function y(b){return b===35?(t.consume(b),y):(t.exit("atxHeadingSequence"),m(b))}function _(b){return b===null||b===35||ro(b)?(t.exit("atxHeadingText"),m(b)):(t.consume(b),_)}}const kZe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ite=["pre","script","style","textarea"],AZe={concrete:!0,name:"htmlFlow",resolveTo:MZe,tokenize:DZe},PZe={partial:!0,tokenize:RZe},EZe={partial:!0,tokenize:IZe};function MZe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function DZe(t,e,i){const s=this;let u,d,h,m,y;return _;function _(se){return b(se)}function b(se){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(se),T}function T(se){return se===33?(t.consume(se),C):se===47?(t.consume(se),d=!0,L):se===63?(t.consume(se),u=3,s.interrupt?e:ee):Xl(se)?(t.consume(se),h=String.fromCharCode(se),z):i(se)}function C(se){return se===45?(t.consume(se),u=2,A):se===91?(t.consume(se),u=5,m=0,D):Xl(se)?(t.consume(se),u=4,s.interrupt?e:ee):i(se)}function A(se){return se===45?(t.consume(se),s.interrupt?e:ee):i(se)}function D(se){const Ae="CDATA[";return se===Ae.charCodeAt(m++)?(t.consume(se),m===Ae.length?s.interrupt?e:oe:D):i(se)}function L(se){return Xl(se)?(t.consume(se),h=String.fromCharCode(se),z):i(se)}function z(se){if(se===null||se===47||se===62||ro(se)){const Ae=se===47,we=h.toLowerCase();return!Ae&&!d&&Ite.includes(we)?(u=1,s.interrupt?e(se):oe(se)):kZe.includes(h.toLowerCase())?(u=6,Ae?(t.consume(se),$):s.interrupt?e(se):oe(se)):(u=7,s.interrupt&&!s.parser.lazy[s.now().line]?i(se):d?Q(se):B(se))}return se===45||Io(se)?(t.consume(se),h+=String.fromCharCode(se),z):i(se)}function $(se){return se===62?(t.consume(se),s.interrupt?e:oe):i(se)}function Q(se){return qn(se)?(t.consume(se),Q):te(se)}function B(se){return se===47?(t.consume(se),te):se===58||se===95||Xl(se)?(t.consume(se),q):qn(se)?(t.consume(se),B):te(se)}function q(se){return se===45||se===46||se===58||se===95||Io(se)?(t.consume(se),q):Y(se)}function Y(se){return se===61?(t.consume(se),G):qn(se)?(t.consume(se),Y):B(se)}function G(se){return se===null||se===60||se===61||se===62||se===96?i(se):se===34||se===39?(t.consume(se),y=se,H):qn(se)?(t.consume(se),G):V(se)}function H(se){return se===y?(t.consume(se),y=null,F):se===null||tn(se)?i(se):(t.consume(se),H)}function V(se){return se===null||se===34||se===39||se===47||se===60||se===61||se===62||se===96||ro(se)?Y(se):(t.consume(se),V)}function F(se){return se===47||se===62||qn(se)?B(se):i(se)}function te(se){return se===62?(t.consume(se),ae):i(se)}function ae(se){return se===null||tn(se)?oe(se):qn(se)?(t.consume(se),ae):i(se)}function oe(se){return se===45&&u===2?(t.consume(se),ue):se===60&&u===1?(t.consume(se),ne):se===62&&u===4?(t.consume(se),be):se===63&&u===3?(t.consume(se),ee):se===93&&u===5?(t.consume(se),ge):tn(se)&&(u===6||u===7)?(t.exit("htmlFlowData"),t.check(PZe,Me,fe)(se)):se===null||tn(se)?(t.exit("htmlFlowData"),fe(se)):(t.consume(se),oe)}function fe(se){return t.check(EZe,de,Me)(se)}function de(se){return t.enter("lineEnding"),t.consume(se),t.exit("lineEnding"),he}function he(se){return se===null||tn(se)?fe(se):(t.enter("htmlFlowData"),oe(se))}function ue(se){return se===45?(t.consume(se),ee):oe(se)}function ne(se){return se===47?(t.consume(se),h="",me):oe(se)}function me(se){if(se===62){const Ae=h.toLowerCase();return Ite.includes(Ae)?(t.consume(se),be):oe(se)}return Xl(se)&&h.length<8?(t.consume(se),h+=String.fromCharCode(se),me):oe(se)}function ge(se){return se===93?(t.consume(se),ee):oe(se)}function ee(se){return se===62?(t.consume(se),be):se===45&&u===2?(t.consume(se),ee):oe(se)}function be(se){return se===null||tn(se)?(t.exit("htmlFlowData"),Me(se)):(t.consume(se),be)}function Me(se){return t.exit("htmlFlow"),e(se)}}function IZe(t,e,i){const s=this;return u;function u(h){return tn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),d):i(h)}function d(h){return s.parser.lazy[s.now().line]?i(h):e(h)}}function RZe(t,e,i){return s;function s(u){return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),t.attempt(Uk,e,i)}}const LZe={name:"htmlText",tokenize:NZe};function NZe(t,e,i){const s=this;let u,d,h;return m;function m(ee){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(ee),y}function y(ee){return ee===33?(t.consume(ee),_):ee===47?(t.consume(ee),Y):ee===63?(t.consume(ee),B):Xl(ee)?(t.consume(ee),V):i(ee)}function _(ee){return ee===45?(t.consume(ee),b):ee===91?(t.consume(ee),d=0,D):Xl(ee)?(t.consume(ee),Q):i(ee)}function b(ee){return ee===45?(t.consume(ee),A):i(ee)}function T(ee){return ee===null?i(ee):ee===45?(t.consume(ee),C):tn(ee)?(h=T,ne(ee)):(t.consume(ee),T)}function C(ee){return ee===45?(t.consume(ee),A):T(ee)}function A(ee){return ee===62?ue(ee):ee===45?C(ee):T(ee)}function D(ee){const be="CDATA[";return ee===be.charCodeAt(d++)?(t.consume(ee),d===be.length?L:D):i(ee)}function L(ee){return ee===null?i(ee):ee===93?(t.consume(ee),z):tn(ee)?(h=L,ne(ee)):(t.consume(ee),L)}function z(ee){return ee===93?(t.consume(ee),$):L(ee)}function $(ee){return ee===62?ue(ee):ee===93?(t.consume(ee),$):L(ee)}function Q(ee){return ee===null||ee===62?ue(ee):tn(ee)?(h=Q,ne(ee)):(t.consume(ee),Q)}function B(ee){return ee===null?i(ee):ee===63?(t.consume(ee),q):tn(ee)?(h=B,ne(ee)):(t.consume(ee),B)}function q(ee){return ee===62?ue(ee):B(ee)}function Y(ee){return Xl(ee)?(t.consume(ee),G):i(ee)}function G(ee){return ee===45||Io(ee)?(t.consume(ee),G):H(ee)}function H(ee){return tn(ee)?(h=H,ne(ee)):qn(ee)?(t.consume(ee),H):ue(ee)}function V(ee){return ee===45||Io(ee)?(t.consume(ee),V):ee===47||ee===62||ro(ee)?F(ee):i(ee)}function F(ee){return ee===47?(t.consume(ee),ue):ee===58||ee===95||Xl(ee)?(t.consume(ee),te):tn(ee)?(h=F,ne(ee)):qn(ee)?(t.consume(ee),F):ue(ee)}function te(ee){return ee===45||ee===46||ee===58||ee===95||Io(ee)?(t.consume(ee),te):ae(ee)}function ae(ee){return ee===61?(t.consume(ee),oe):tn(ee)?(h=ae,ne(ee)):qn(ee)?(t.consume(ee),ae):F(ee)}function oe(ee){return ee===null||ee===60||ee===61||ee===62||ee===96?i(ee):ee===34||ee===39?(t.consume(ee),u=ee,fe):tn(ee)?(h=oe,ne(ee)):qn(ee)?(t.consume(ee),oe):(t.consume(ee),de)}function fe(ee){return ee===u?(t.consume(ee),u=void 0,he):ee===null?i(ee):tn(ee)?(h=fe,ne(ee)):(t.consume(ee),fe)}function de(ee){return ee===null||ee===34||ee===39||ee===60||ee===61||ee===96?i(ee):ee===47||ee===62||ro(ee)?F(ee):(t.consume(ee),de)}function he(ee){return ee===47||ee===62||ro(ee)?F(ee):i(ee)}function ue(ee){return ee===62?(t.consume(ee),t.exit("htmlTextData"),t.exit("htmlText"),e):i(ee)}function ne(ee){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(ee),t.exit("lineEnding"),me}function me(ee){return qn(ee)?gr(t,ge,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):ge(ee)}function ge(ee){return t.enter("htmlTextData"),h(ee)}}const VB={name:"labelEnd",resolveAll:QZe,resolveTo:jZe,tokenize:VZe},$Ze={tokenize:FZe},zZe={tokenize:GZe},BZe={tokenize:WZe};function QZe(t){let e=-1;const i=[];for(;++e<t.length;){const s=t[e][1];if(i.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const u=s.type==="labelImage"?4:2;s.type="data",e+=u}}return t.length!==i.length&&lu(t,0,t.length,i),t}function jZe(t,e){let i=t.length,s=0,u,d,h,m;for(;i--;)if(u=t[i][1],d){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;t[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(h){if(t[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(d=i,u.type!=="labelLink")){s=2;break}}else u.type==="labelEnd"&&(h=i);const y={type:t[d][1].type==="labelLink"?"link":"image",start:{...t[d][1].start},end:{...t[t.length-1][1].end}},_={type:"label",start:{...t[d][1].start},end:{...t[h][1].end}},b={type:"labelText",start:{...t[d+s+2][1].end},end:{...t[h-2][1].start}};return m=[["enter",y,e],["enter",_,e]],m=is(m,t.slice(d+1,d+s+3)),m=is(m,[["enter",b,e]]),m=is(m,jB(e.parser.constructs.insideSpan.null,t.slice(d+s+4,h-3),e)),m=is(m,[["exit",b,e],t[h-2],t[h-1],["exit",_,e]]),m=is(m,t.slice(h+1)),m=is(m,[["exit",y,e]]),lu(t,d,t.length,m),t}function VZe(t,e,i){const s=this;let u=s.events.length,d,h;for(;u--;)if((s.events[u][1].type==="labelImage"||s.events[u][1].type==="labelLink")&&!s.events[u][1]._balanced){d=s.events[u][1];break}return m;function m(C){return d?d._inactive?T(C):(h=s.parser.defined.includes(Vg(s.sliceSerialize({start:d.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(C),t.exit("labelMarker"),t.exit("labelEnd"),y):i(C)}function y(C){return C===40?t.attempt($Ze,b,h?b:T)(C):C===91?t.attempt(zZe,b,h?_:T)(C):h?b(C):T(C)}function _(C){return t.attempt(BZe,b,T)(C)}function b(C){return e(C)}function T(C){return d._balanced=!0,i(C)}}function FZe(t,e,i){return s;function s(T){return t.enter("resource"),t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),u}function u(T){return ro(T)?Hx(t,d)(T):d(T)}function d(T){return T===41?b(T):Ade(t,h,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function h(T){return ro(T)?Hx(t,y)(T):b(T)}function m(T){return i(T)}function y(T){return T===34||T===39||T===40?Ede(t,_,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):b(T)}function _(T){return ro(T)?Hx(t,b)(T):b(T)}function b(T){return T===41?(t.enter("resourceMarker"),t.consume(T),t.exit("resourceMarker"),t.exit("resource"),e):i(T)}}function GZe(t,e,i){const s=this;return u;function u(m){return Pde.call(s,t,d,h,"reference","referenceMarker","referenceString")(m)}function d(m){return s.parser.defined.includes(Vg(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(m):i(m)}function h(m){return i(m)}}function WZe(t,e,i){return s;function s(d){return t.enter("reference"),t.enter("referenceMarker"),t.consume(d),t.exit("referenceMarker"),u}function u(d){return d===93?(t.enter("referenceMarker"),t.consume(d),t.exit("referenceMarker"),t.exit("reference"),e):i(d)}}const UZe={name:"labelStartImage",resolveAll:VB.resolveAll,tokenize:qZe};function qZe(t,e,i){const s=this;return u;function u(m){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(m),t.exit("labelImageMarker"),d}function d(m){return m===91?(t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelImage"),h):i(m)}function h(m){return m===94&&"_hiddenFootnoteSupport"in s.parser.constructs?i(m):e(m)}}const ZZe={name:"labelStartLink",resolveAll:VB.resolveAll,tokenize:HZe};function HZe(t,e,i){const s=this;return u;function u(h){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in s.parser.constructs?i(h):e(h)}}const rN={name:"lineEnding",tokenize:XZe};function XZe(t,e){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),gr(t,e,"linePrefix")}}const sT={name:"thematicBreak",tokenize:YZe};function YZe(t,e,i){let s=0,u;return d;function d(_){return t.enter("thematicBreak"),h(_)}function h(_){return u=_,m(_)}function m(_){return _===u?(t.enter("thematicBreakSequence"),y(_)):s>=3&&(_===null||tn(_))?(t.exit("thematicBreak"),e(_)):i(_)}function y(_){return _===u?(t.consume(_),s++,y):(t.exit("thematicBreakSequence"),qn(_)?gr(t,m,"whitespace")(_):m(_))}}const qa={continuation:{tokenize:tHe},exit:rHe,name:"list",tokenize:eHe},KZe={partial:!0,tokenize:iHe},JZe={partial:!0,tokenize:nHe};function eHe(t,e,i){const s=this,u=s.events[s.events.length-1];let d=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,h=0;return m;function m(A){const D=s.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!s.containerState.marker||A===s.containerState.marker:A4(A)){if(s.containerState.type||(s.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(sT,i,_)(A):_(A);if(!s.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),y(A)}return i(A)}function y(A){return A4(A)&&++h<10?(t.consume(A),y):(!s.interrupt||h<2)&&(s.containerState.marker?A===s.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),_(A)):i(A)}function _(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||A,t.check(Uk,s.interrupt?i:b,t.attempt(KZe,C,T))}function b(A){return s.containerState.initialBlankLine=!0,d++,C(A)}function T(A){return qn(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),C):i(A)}function C(A){return s.containerState.size=d+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(A)}}function tHe(t,e,i){const s=this;return s.containerState._closeFlow=void 0,t.check(Uk,u,d);function u(m){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,gr(t,e,"listItemIndent",s.containerState.size+1)(m)}function d(m){return s.containerState.furtherBlankLines||!qn(m)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,h(m)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(JZe,e,h)(m))}function h(m){return s.containerState._closeFlow=!0,s.interrupt=void 0,gr(t,t.attempt(qa,e,i),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function nHe(t,e,i){const s=this;return gr(t,u,"listItemIndent",s.containerState.size+1);function u(d){const h=s.events[s.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===s.containerState.size?e(d):i(d)}}function rHe(t){t.exit(this.containerState.type)}function iHe(t,e,i){const s=this;return gr(t,u,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(d){const h=s.events[s.events.length-1];return!qn(d)&&h&&h[1].type==="listItemPrefixWhitespace"?e(d):i(d)}}const Rte={name:"setextUnderline",resolveTo:aHe,tokenize:oHe};function aHe(t,e){let i=t.length,s,u,d;for(;i--;)if(t[i][0]==="enter"){if(t[i][1].type==="content"){s=i;break}t[i][1].type==="paragraph"&&(u=i)}else t[i][1].type==="content"&&t.splice(i,1),!d&&t[i][1].type==="definition"&&(d=i);const h={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[u][1].type="setextHeadingText",d?(t.splice(u,0,["enter",h,e]),t.splice(d+1,0,["exit",t[s][1],e]),t[s][1].end={...t[d][1].end}):t[s][1]=h,t.push(["exit",h,e]),t}function oHe(t,e,i){const s=this;let u;return d;function d(_){let b=s.events.length,T;for(;b--;)if(s.events[b][1].type!=="lineEnding"&&s.events[b][1].type!=="linePrefix"&&s.events[b][1].type!=="content"){T=s.events[b][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||T)?(t.enter("setextHeadingLine"),u=_,h(_)):i(_)}function h(_){return t.enter("setextHeadingLineSequence"),m(_)}function m(_){return _===u?(t.consume(_),m):(t.exit("setextHeadingLineSequence"),qn(_)?gr(t,y,"lineSuffix")(_):y(_))}function y(_){return _===null||tn(_)?(t.exit("setextHeadingLine"),e(_)):i(_)}}const sHe={tokenize:lHe};function lHe(t){const e=this,i=t.attempt(Uk,s,t.attempt(this.parser.constructs.flowInitial,u,gr(t,t.attempt(this.parser.constructs.flow,u,t.attempt(hZe,u)),"linePrefix")));return i;function s(d){if(d===null){t.consume(d);return}return t.enter("lineEndingBlank"),t.consume(d),t.exit("lineEndingBlank"),e.currentConstruct=void 0,i}function u(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),e.currentConstruct=void 0,i}}const uHe={resolveAll:Dde()},cHe=Mde("string"),dHe=Mde("text");function Mde(t){return{resolveAll:Dde(t==="text"?fHe:void 0),tokenize:e};function e(i){const s=this,u=this.parser.constructs[t],d=i.attempt(u,h,m);return h;function h(b){return _(b)?d(b):m(b)}function m(b){if(b===null){i.consume(b);return}return i.enter("data"),i.consume(b),y}function y(b){return _(b)?(i.exit("data"),d(b)):(i.consume(b),y)}function _(b){if(b===null)return!0;const T=u[b];let C=-1;if(T)for(;++C<T.length;){const A=T[C];if(!A.previous||A.previous.call(s,s.previous))return!0}return!1}}}function Dde(t){return e;function e(i,s){let u=-1,d;for(;++u<=i.length;)d===void 0?i[u]&&i[u][1].type==="data"&&(d=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==d+2&&(i[d][1].end=i[u-1][1].end,i.splice(d+2,u-d-2),u=d+2),d=void 0);return t?t(i,s):i}}function fHe(t,e){let i=0;for(;++i<=t.length;)if((i===t.length||t[i][1].type==="lineEnding")&&t[i-1][1].type==="data"){const s=t[i-1][1],u=e.sliceStream(s);let d=u.length,h=-1,m=0,y;for(;d--;){const _=u[d];if(typeof _=="string"){for(h=_.length;_.charCodeAt(h-1)===32;)m++,h--;if(h)break;h=-1}else if(_===-2)y=!0,m++;else if(_!==-1){d++;break}}if(e._contentTypeTextTrailing&&i===t.length&&(m=0),m){const _={type:i===t.length||y||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:s.start._bufferIndex+h,_index:s.start._index+d,line:s.end.line,column:s.end.column-m,offset:s.end.offset-m},end:{...s.end}};s.end={..._.start},s.start.offset===s.end.offset?Object.assign(s,_):(t.splice(i,0,["enter",_,e],["exit",_,e]),i+=2)}i++}return t}const hHe={42:qa,43:qa,45:qa,48:qa,49:qa,50:qa,51:qa,52:qa,53:qa,54:qa,55:qa,56:qa,57:qa,62:Sde},pHe={91:yZe},mHe={[-2]:nN,[-1]:nN,32:nN},gHe={35:SZe,42:sT,45:[Rte,sT],60:AZe,61:Rte,95:sT,96:Dte,126:Dte},vHe={38:Cde,92:Tde},yHe={[-5]:rN,[-4]:rN,[-3]:rN,33:UZe,38:Cde,42:P4,60:[Zqe,LZe],91:ZZe,92:[bZe,Tde],93:VB,95:P4,96:sZe},xHe={null:[P4,uHe]},_He={null:[42,95]},OHe={null:[]},bHe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_He,contentInitial:pHe,disable:OHe,document:hHe,flow:gHe,flowInitial:mHe,insideSpan:xHe,string:vHe,text:yHe},Symbol.toStringTag,{value:"Module"}));function wHe(t,e,i){let s={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},d=[];let h=[],m=[];const y={attempt:H(Y),check:H(G),consume:Q,enter:B,exit:q,interrupt:H(G,{interrupt:!0})},_={code:null,containerState:{},defineSkip:L,events:[],now:D,parser:t,previous:null,sliceSerialize:C,sliceStream:A,write:T};let b=e.tokenize.call(_,y);return e.resolveAll&&d.push(e),_;function T(ae){return h=is(h,ae),z(),h[h.length-1]!==null?[]:(V(e,0),_.events=jB(d,_.events,_),_.events)}function C(ae,oe){return THe(A(ae),oe)}function A(ae){return SHe(h,ae)}function D(){const{_bufferIndex:ae,_index:oe,line:fe,column:de,offset:he}=s;return{_bufferIndex:ae,_index:oe,line:fe,column:de,offset:he}}function L(ae){u[ae.line]=ae.column,te()}function z(){let ae;for(;s._index<h.length;){const oe=h[s._index];if(typeof oe=="string")for(ae=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===ae&&s._bufferIndex<oe.length;)$(oe.charCodeAt(s._bufferIndex));else $(oe)}}function $(ae){b=b(ae)}function Q(ae){tn(ae)?(s.line++,s.column=1,s.offset+=ae===-3?2:1,te()):ae!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===h[s._index].length&&(s._bufferIndex=-1,s._index++)),_.previous=ae}function B(ae,oe){const fe=oe||{};return fe.type=ae,fe.start=D(),_.events.push(["enter",fe,_]),m.push(fe),fe}function q(ae){const oe=m.pop();return oe.end=D(),_.events.push(["exit",oe,_]),oe}function Y(ae,oe){V(ae,oe.from)}function G(ae,oe){oe.restore()}function H(ae,oe){return fe;function fe(de,he,ue){let ne,me,ge,ee;return Array.isArray(de)?Me(de):"tokenize"in de?Me([de]):be(de);function be(Le){return Z;function Z(ve){const ze=ve!==null&&Le[ve],Qe=ve!==null&&Le.null,et=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return Me(et)(ve)}}function Me(Le){return ne=Le,me=0,Le.length===0?ue:se(Le[me])}function se(Le){return Z;function Z(ve){return ee=F(),ge=Le,Le.partial||(_.currentConstruct=Le),Le.name&&_.parser.constructs.disable.null.includes(Le.name)?we():Le.tokenize.call(oe?Object.assign(Object.create(_),oe):_,y,Ae,we)(ve)}}function Ae(Le){return ae(ge,ee),he}function we(Le){return ee.restore(),++me<ne.length?se(ne[me]):ue}}}function V(ae,oe){ae.resolveAll&&!d.includes(ae)&&d.push(ae),ae.resolve&&lu(_.events,oe,_.events.length-oe,ae.resolve(_.events.slice(oe),_)),ae.resolveTo&&(_.events=ae.resolveTo(_.events,_))}function F(){const ae=D(),oe=_.previous,fe=_.currentConstruct,de=_.events.length,he=Array.from(m);return{from:de,restore:ue};function ue(){s=ae,_.previous=oe,_.currentConstruct=fe,_.events.length=de,m=he,te()}}function te(){s.line in u&&s.column<2&&(s.column=u[s.line],s.offset+=u[s.line]-1)}}function SHe(t,e){const i=e.start._index,s=e.start._bufferIndex,u=e.end._index,d=e.end._bufferIndex;let h;if(i===u)h=[t[i].slice(s,d)];else{if(h=t.slice(i,u),s>-1){const m=h[0];typeof m=="string"?h[0]=m.slice(s):h.shift()}d>0&&h.push(t[u].slice(0,d))}return h}function THe(t,e){let i=-1;const s=[];let u;for(;++i<t.length;){const d=t[i];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=e?" ":"	";break}case-1:{if(!e&&u)continue;h=" ";break}default:h=String.fromCharCode(d)}u=d===-2,s.push(h)}return s.join("")}function CHe(t){const s={constructs:Iqe([bHe,...(t||{}).extensions||[]]),content:u(jqe),defined:[],document:u(Fqe),flow:u(sHe),lazy:{},string:u(cHe),text:u(dHe)};return s;function u(d){return h;function h(m){return wHe(s,d,m)}}}function kHe(t){for(;!kde(t););return t}const Lte=/[\0\t\n\r]/g;function AHe(){let t=1,e="",i=!0,s;return u;function u(d,h,m){const y=[];let _,b,T,C,A;for(d=e+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),T=0,e="",i&&(d.charCodeAt(0)===65279&&T++,i=void 0);T<d.length;){if(Lte.lastIndex=T,_=Lte.exec(d),C=_&&_.index!==void 0?_.index:d.length,A=d.charCodeAt(C),!_){e=d.slice(T);break}if(A===10&&T===C&&s)y.push(-3),s=void 0;else switch(s&&(y.push(-5),s=void 0),T<C&&(y.push(d.slice(T,C)),t+=C-T),A){case 0:{y.push(65533),t++;break}case 9:{for(b=Math.ceil(t/4)*4,y.push(-2);t++<b;)y.push(-1);break}case 10:{y.push(-4),t=1;break}default:s=!0,t=1}T=C+1}return m&&(s&&y.push(-5),e&&y.push(e),y.push(null)),y}}const PHe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function EHe(t){return t.replace(PHe,MHe)}function MHe(t,e,i){if(e)return e;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),d=u===120||u===88;return wde(i.slice(d?2:1),d?16:10)}return QB(i)||t}const Ide={}.hasOwnProperty;function DHe(t,e,i){return typeof e!="string"&&(i=e,e=void 0),IHe(i)(kHe(CHe(i).document().write(AHe()(t,e,!0))))}function IHe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Pt),autolinkProtocol:F,autolinkEmail:F,atxHeading:d(Ue),blockQuote:d(Qe),characterEscape:F,characterReference:F,codeFenced:d(et),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(et,h),codeText:d(He,h),codeTextData:F,data:F,codeFlowValue:F,definition:d(yt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d(Ee),hardBreakEscape:d(ke),hardBreakTrailing:d(ke),htmlFlow:d(Ge,h),htmlFlowData:F,htmlText:d(Ge,h),htmlTextData:F,image:d(De),label:h,link:d(Pt),listItem:d(Ze),listItemValue:C,listOrdered:d(dt,T),listUnordered:d(dt),paragraph:d(nn),reference:se,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(Ue),strong:d(ut),thematicBreak:d(Ve)},exit:{atxHeading:y(),atxHeadingSequence:Y,autolink:y(),autolinkEmail:ze,autolinkProtocol:ve,blockQuote:y(),characterEscapeValue:te,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:Le,characterReference:Z,codeFenced:y(z),codeFencedFence:L,codeFencedFenceInfo:A,codeFencedFenceMeta:D,codeFlowValue:te,codeIndented:y($),codeText:y(he),codeTextData:te,data:te,definition:y(),definitionDestinationString:q,definitionLabelString:Q,definitionTitleString:B,emphasis:y(),hardBreakEscape:y(oe),hardBreakTrailing:y(oe),htmlFlow:y(fe),htmlFlowData:te,htmlText:y(de),htmlTextData:te,image:y(ne),label:ge,labelText:me,lineEnding:ae,link:y(ue),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:Ae,resourceDestinationString:ee,resourceTitleString:be,resource:Me,setextHeading:y(V),setextHeadingLineSequence:H,setextHeadingText:G,strong:y(),thematicBreak:y()}};Rde(e,(t||{}).mdastExtensions||[]);const i={};return s;function s(Ce){let je={type:"root",children:[]};const qe={stack:[je],tokenStack:[],config:e,enter:m,exit:_,buffer:h,resume:b,data:i},tt=[];let $e=-1;for(;++$e<Ce.length;)if(Ce[$e][1].type==="listOrdered"||Ce[$e][1].type==="listUnordered")if(Ce[$e][0]==="enter")tt.push($e);else{const zt=tt.pop();$e=u(Ce,zt,$e)}for($e=-1;++$e<Ce.length;){const zt=e[Ce[$e][0]];Ide.call(zt,Ce[$e][1].type)&&zt[Ce[$e][1].type].call(Object.assign({sliceSerialize:Ce[$e][2].sliceSerialize},qe),Ce[$e][1])}if(qe.tokenStack.length>0){const zt=qe.tokenStack[qe.tokenStack.length-1];(zt[1]||Nte).call(qe,void 0,zt[0])}for(je.position={start:cd(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:cd(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)je=e.transforms[$e](je)||je;return je}function u(Ce,je,qe){let tt=je-1,$e=-1,zt=!1,Ut,gn,Ke,An;for(;++tt<=qe;){const ln=Ce[tt];switch(ln[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ln[0]==="enter"?$e++:$e--,An=void 0;break}case"lineEndingBlank":{ln[0]==="enter"&&(Ut&&!An&&!$e&&!Ke&&(Ke=tt),An=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:An=void 0}if(!$e&&ln[0]==="enter"&&ln[1].type==="listItemPrefix"||$e===-1&&ln[0]==="exit"&&(ln[1].type==="listUnordered"||ln[1].type==="listOrdered")){if(Ut){let Cr=tt;for(gn=void 0;Cr--;){const bn=Ce[Cr];if(bn[1].type==="lineEnding"||bn[1].type==="lineEndingBlank"){if(bn[0]==="exit")continue;gn&&(Ce[gn][1].type="lineEndingBlank",zt=!0),bn[1].type="lineEnding",gn=Cr}else if(!(bn[1].type==="linePrefix"||bn[1].type==="blockQuotePrefix"||bn[1].type==="blockQuotePrefixWhitespace"||bn[1].type==="blockQuoteMarker"||bn[1].type==="listItemIndent"))break}Ke&&(!gn||Ke<gn)&&(Ut._spread=!0),Ut.end=Object.assign({},gn?Ce[gn][1].start:ln[1].end),Ce.splice(gn||tt,0,["exit",Ut,ln[2]]),tt++,qe++}if(ln[1].type==="listItemPrefix"){const Cr={type:"listItem",_spread:!1,start:Object.assign({},ln[1].start),end:void 0};Ut=Cr,Ce.splice(tt,0,["enter",Cr,ln[2]]),tt++,qe++,Ke=void 0,An=!0}}}return Ce[je][1]._spread=zt,qe}function d(Ce,je){return qe;function qe(tt){m.call(this,Ce(tt),tt),je&&je.call(this,tt)}}function h(){this.stack.push({type:"fragment",children:[]})}function m(Ce,je,qe){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([je,qe||void 0]),Ce.position={start:cd(je.start),end:void 0}}function y(Ce){return je;function je(qe){Ce&&Ce.call(this,qe),_.call(this,qe)}}function _(Ce,je){const qe=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==Ce.type&&(je?je.call(this,Ce,tt[0]):(tt[1]||Nte).call(this,Ce,tt[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Zx({start:Ce.start,end:Ce.end})+"): it’s not open");qe.position.end=cd(Ce.end)}function b(){return Mqe(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function C(Ce){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function A(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.lang=Ce}function D(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.meta=Ce}function L(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function $(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.value=Ce.replace(/(\r?\n|\r)$/g,"")}function Q(Ce){const je=this.resume(),qe=this.stack[this.stack.length-1];qe.label=je,qe.identifier=Vg(this.sliceSerialize(Ce)).toLowerCase()}function B(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.title=Ce}function q(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.url=Ce}function Y(Ce){const je=this.stack[this.stack.length-1];if(!je.depth){const qe=this.sliceSerialize(Ce).length;je.depth=qe}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function H(Ce){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function F(Ce){const qe=this.stack[this.stack.length-1].children;let tt=qe[qe.length-1];(!tt||tt.type!=="text")&&(tt=st(),tt.position={start:cd(Ce.start),end:void 0},qe.push(tt)),this.stack.push(tt)}function te(Ce){const je=this.stack.pop();je.value+=this.sliceSerialize(Ce),je.position.end=cd(Ce.end)}function ae(Ce){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qe=je.children[je.children.length-1];qe.position.end=cd(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(je.type)&&(F.call(this,Ce),te.call(this,Ce))}function oe(){this.data.atHardBreak=!0}function fe(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.value=Ce}function de(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.value=Ce}function he(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.value=Ce}function ue(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=je,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ne(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=je,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function me(Ce){const je=this.sliceSerialize(Ce),qe=this.stack[this.stack.length-2];qe.label=EHe(je),qe.identifier=Vg(je).toLowerCase()}function ge(){const Ce=this.stack[this.stack.length-1],je=this.resume(),qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,qe.type==="link"){const tt=Ce.children;qe.children=tt}else qe.alt=je}function ee(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.url=Ce}function be(){const Ce=this.resume(),je=this.stack[this.stack.length-1];je.title=Ce}function Me(){this.data.inReference=void 0}function se(){this.data.referenceType="collapsed"}function Ae(Ce){const je=this.resume(),qe=this.stack[this.stack.length-1];qe.label=je,qe.identifier=Vg(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function we(Ce){this.data.characterReferenceType=Ce.type}function Le(Ce){const je=this.sliceSerialize(Ce),qe=this.data.characterReferenceType;let tt;qe?(tt=wde(je,qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=QB(je);const $e=this.stack[this.stack.length-1];$e.value+=tt}function Z(Ce){const je=this.stack.pop();je.position.end=cd(Ce.end)}function ve(Ce){te.call(this,Ce);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(Ce)}function ze(Ce){te.call(this,Ce);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(Ce)}function Qe(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function Ue(){return{type:"heading",depth:0,children:[]}}function ke(){return{type:"break"}}function Ge(){return{type:"html",value:""}}function De(){return{type:"image",title:null,url:"",alt:null}}function Pt(){return{type:"link",title:null,url:"",children:[]}}function dt(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Ze(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function nn(){return{type:"paragraph",children:[]}}function ut(){return{type:"strong",children:[]}}function st(){return{type:"text",value:""}}function Ve(){return{type:"thematicBreak"}}}function cd(t){return{line:t.line,column:t.column,offset:t.offset}}function Rde(t,e){let i=-1;for(;++i<e.length;){const s=e[i];Array.isArray(s)?Rde(t,s):RHe(t,s)}}function RHe(t,e){let i;for(i in e)if(Ide.call(e,i))switch(i){case"canContainEols":{const s=e[i];s&&t[i].push(...s);break}case"transforms":{const s=e[i];s&&t[i].push(...s);break}case"enter":case"exit":{const s=e[i];s&&Object.assign(t[i],s);break}}}function Nte(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Zx({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Zx({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Zx({start:e.start,end:e.end})+") is still open")}function LHe(t){const e=this;e.parser=i;function i(s){return DHe(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function NHe(t,e){const i={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,i),t.applyData(e,i)}function $He(t,e){const i={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,i),[t.applyData(e,i),{type:"text",value:`
`}]}function zHe(t,e){const i=e.value?e.value+`
`:"",s={},u=e.lang?e.lang.split(/\s+/):[];u.length>0&&(s.className=["language-"+u[0]]);let d={type:"element",tagName:"code",properties:s,children:[{type:"text",value:i}]};return e.meta&&(d.data={meta:e.meta}),t.patch(e,d),d=t.applyData(e,d),d={type:"element",tagName:"pre",properties:{},children:[d]},t.patch(e,d),d}function BHe(t,e){const i={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function QHe(t,e){const i={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function jHe(t,e){const i=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),u=Cv(s.toLowerCase()),d=t.footnoteOrder.indexOf(s);let h,m=t.footnoteCounts.get(s);m===void 0?(m=0,t.footnoteOrder.push(s),h=t.footnoteOrder.length):h=d+1,m+=1,t.footnoteCounts.set(s,m);const y={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};t.patch(e,y);const _={type:"element",tagName:"sup",properties:{},children:[y]};return t.patch(e,_),t.applyData(e,_)}function VHe(t,e){const i={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function FHe(t,e){if(t.options.allowDangerousHtml){const i={type:"raw",value:e.value};return t.patch(e,i),t.applyData(e,i)}}function Lde(t,e){const i=e.referenceType;let s="]";if(i==="collapsed"?s+="[]":i==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const u=t.all(e),d=u[0];d&&d.type==="text"?d.value="["+d.value:u.unshift({type:"text",value:"["});const h=u[u.length-1];return h&&h.type==="text"?h.value+=s:u.push({type:"text",value:s}),u}function GHe(t,e){const i=String(e.identifier).toUpperCase(),s=t.definitionById.get(i);if(!s)return Lde(t,e);const u={src:Cv(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(u.title=s.title);const d={type:"element",tagName:"img",properties:u,children:[]};return t.patch(e,d),t.applyData(e,d)}function WHe(t,e){const i={src:Cv(e.url)};e.alt!==null&&e.alt!==void 0&&(i.alt=e.alt),e.title!==null&&e.title!==void 0&&(i.title=e.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function UHe(t,e){const i={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,i);const s={type:"element",tagName:"code",properties:{},children:[i]};return t.patch(e,s),t.applyData(e,s)}function qHe(t,e){const i=String(e.identifier).toUpperCase(),s=t.definitionById.get(i);if(!s)return Lde(t,e);const u={href:Cv(s.url||"")};s.title!==null&&s.title!==void 0&&(u.title=s.title);const d={type:"element",tagName:"a",properties:u,children:t.all(e)};return t.patch(e,d),t.applyData(e,d)}function ZHe(t,e){const i={href:Cv(e.url)};e.title!==null&&e.title!==void 0&&(i.title=e.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function HHe(t,e,i){const s=t.all(e),u=i?XHe(i):Nde(e),d={},h=[];if(typeof e.checked=="boolean"){const b=s[0];let T;b&&b.type==="element"&&b.tagName==="p"?T=b:(T={type:"element",tagName:"p",properties:{},children:[]},s.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let m=-1;for(;++m<s.length;){const b=s[m];(u||m!==0||b.type!=="element"||b.tagName!=="p")&&h.push({type:"text",value:`
`}),b.type==="element"&&b.tagName==="p"&&!u?h.push(...b.children):h.push(b)}const y=s[s.length-1];y&&(u||y.type!=="element"||y.tagName!=="p")&&h.push({type:"text",value:`
`});const _={type:"element",tagName:"li",properties:d,children:h};return t.patch(e,_),t.applyData(e,_)}function XHe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const i=t.children;let s=-1;for(;!e&&++s<i.length;)e=Nde(i[s])}return e}function Nde(t){const e=t.spread;return e??t.children.length>1}function YHe(t,e){const i={},s=t.all(e);let u=-1;for(typeof e.start=="number"&&e.start!==1&&(i.start=e.start);++u<s.length;){const h=s[u];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const d={type:"element",tagName:e.ordered?"ol":"ul",properties:i,children:t.wrap(s,!0)};return t.patch(e,d),t.applyData(e,d)}function KHe(t,e){const i={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function JHe(t,e){const i={type:"root",children:t.wrap(t.all(e))};return t.patch(e,i),t.applyData(e,i)}function eXe(t,e){const i={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function tXe(t,e){const i=t.all(e),s=i.shift(),u=[];if(s){const h={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],h),u.push(h)}if(i.length>0){const h={type:"element",tagName:"tbody",properties:{},children:t.wrap(i,!0)},m=NB(e.children[1]),y=gde(e.children[e.children.length-1]);m&&y&&(h.position={start:m,end:y}),u.push(h)}const d={type:"element",tagName:"table",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function nXe(t,e,i){const s=i?i.children:void 0,d=(s?s.indexOf(e):1)===0?"th":"td",h=i&&i.type==="table"?i.align:void 0,m=h?h.length:e.children.length;let y=-1;const _=[];for(;++y<m;){const T=e.children[y],C={},A=h?h[y]:void 0;A&&(C.align=A);let D={type:"element",tagName:d,properties:C,children:[]};T&&(D.children=t.all(T),t.patch(T,D),D=t.applyData(T,D)),_.push(D)}const b={type:"element",tagName:"tr",properties:{},children:t.wrap(_,!0)};return t.patch(e,b),t.applyData(e,b)}function rXe(t,e){const i={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}const $te=9,zte=32;function iXe(t){const e=String(t),i=/\r?\n|\r/g;let s=i.exec(e),u=0;const d=[];for(;s;)d.push(Bte(e.slice(u,s.index),u>0,!0),s[0]),u=s.index+s[0].length,s=i.exec(e);return d.push(Bte(e.slice(u),u>0,!1)),d.join("")}function Bte(t,e,i){let s=0,u=t.length;if(e){let d=t.codePointAt(s);for(;d===$te||d===zte;)s++,d=t.codePointAt(s)}if(i){let d=t.codePointAt(u-1);for(;d===$te||d===zte;)u--,d=t.codePointAt(u-1)}return u>s?t.slice(s,u):""}function aXe(t,e){const i={type:"text",value:iXe(String(e.value))};return t.patch(e,i),t.applyData(e,i)}function oXe(t,e){const i={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,i),t.applyData(e,i)}const sXe={blockquote:NHe,break:$He,code:zHe,delete:BHe,emphasis:QHe,footnoteReference:jHe,heading:VHe,html:FHe,imageReference:GHe,image:WHe,inlineCode:UHe,linkReference:qHe,link:ZHe,listItem:HHe,list:YHe,paragraph:KHe,root:JHe,strong:eXe,table:tXe,tableCell:rXe,tableRow:nXe,text:aXe,thematicBreak:oXe,toml:Xw,yaml:Xw,definition:Xw,footnoteDefinition:Xw};function Xw(){}const $de=-1,qk=0,Xx=1,UT=2,FB=3,GB=4,WB=5,UB=6,zde=7,Bde=8,Qte=typeof self=="object"?self:globalThis,lXe=(t,e)=>{const i=(u,d)=>(t.set(d,u),u),s=u=>{if(t.has(u))return t.get(u);const[d,h]=e[u];switch(d){case qk:case $de:return i(h,u);case Xx:{const m=i([],u);for(const y of h)m.push(s(y));return m}case UT:{const m=i({},u);for(const[y,_]of h)m[s(y)]=s(_);return m}case FB:return i(new Date(h),u);case GB:{const{source:m,flags:y}=h;return i(new RegExp(m,y),u)}case WB:{const m=i(new Map,u);for(const[y,_]of h)m.set(s(y),s(_));return m}case UB:{const m=i(new Set,u);for(const y of h)m.add(s(y));return m}case zde:{const{name:m,message:y}=h;return i(new Qte[m](y),u)}case Bde:return i(BigInt(h),u);case"BigInt":return i(Object(BigInt(h)),u);case"ArrayBuffer":return i(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:m}=new Uint8Array(h);return i(new DataView(m),h)}}return i(new Qte[d](h),u)};return s},jte=t=>lXe(new Map,t)(0),mg="",{toString:uXe}={},{keys:cXe}=Object,Jy=t=>{const e=typeof t;if(e!=="object"||!t)return[qk,e];const i=uXe.call(t).slice(8,-1);switch(i){case"Array":return[Xx,mg];case"Object":return[UT,mg];case"Date":return[FB,mg];case"RegExp":return[GB,mg];case"Map":return[WB,mg];case"Set":return[UB,mg];case"DataView":return[Xx,i]}return i.includes("Array")?[Xx,i]:i.includes("Error")?[zde,i]:[UT,i]},Yw=([t,e])=>t===qk&&(e==="function"||e==="symbol"),dXe=(t,e,i,s)=>{const u=(h,m)=>{const y=s.push(h)-1;return i.set(m,y),y},d=h=>{if(i.has(h))return i.get(h);let[m,y]=Jy(h);switch(m){case qk:{let b=h;switch(y){case"bigint":m=Bde,b=h.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+y);b=null;break;case"undefined":return u([$de],h)}return u([m,b],h)}case Xx:{if(y){let C=h;return y==="DataView"?C=new Uint8Array(h.buffer):y==="ArrayBuffer"&&(C=new Uint8Array(h)),u([y,[...C]],h)}const b=[],T=u([m,b],h);for(const C of h)b.push(d(C));return T}case UT:{if(y)switch(y){case"BigInt":return u([y,h.toString()],h);case"Boolean":case"Number":case"String":return u([y,h.valueOf()],h)}if(e&&"toJSON"in h)return d(h.toJSON());const b=[],T=u([m,b],h);for(const C of cXe(h))(t||!Yw(Jy(h[C])))&&b.push([d(C),d(h[C])]);return T}case FB:return u([m,h.toISOString()],h);case GB:{const{source:b,flags:T}=h;return u([m,{source:b,flags:T}],h)}case WB:{const b=[],T=u([m,b],h);for(const[C,A]of h)(t||!(Yw(Jy(C))||Yw(Jy(A))))&&b.push([d(C),d(A)]);return T}case UB:{const b=[],T=u([m,b],h);for(const C of h)(t||!Yw(Jy(C)))&&b.push(d(C));return T}}const{message:_}=h;return u([m,{name:y,message:_}],h)};return d},Vte=(t,{json:e,lossy:i}={})=>{const s=[];return dXe(!(e||i),!!e,new Map,s)(t),s},qT=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?jte(Vte(t,e)):structuredClone(t):(t,e)=>jte(Vte(t,e));function fXe(t,e){const i=[{type:"text",value:"↩"}];return e>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),i}function hXe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function pXe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=t.options.footnoteBackContent||fXe,s=t.options.footnoteBackLabel||hXe,u=t.options.footnoteLabel||"Footnotes",d=t.options.footnoteLabelTagName||"h2",h=t.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let y=-1;for(;++y<t.footnoteOrder.length;){const _=t.footnoteById.get(t.footnoteOrder[y]);if(!_)continue;const b=t.all(_),T=String(_.identifier).toUpperCase(),C=Cv(T.toLowerCase());let A=0;const D=[],L=t.footnoteCounts.get(T);for(;L!==void 0&&++A<=L;){D.length>0&&D.push({type:"text",value:" "});let Q=typeof i=="string"?i:i(y,A);typeof Q=="string"&&(Q={type:"text",value:Q}),D.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+C+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(y,A),className:["data-footnote-backref"]},children:Array.isArray(Q)?Q:[Q]})}const z=b[b.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const Q=z.children[z.children.length-1];Q&&Q.type==="text"?Q.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...D)}else b.push(...D);const $={type:"element",tagName:"li",properties:{id:e+"fn-"+C},children:t.wrap(b,!0)};t.patch(_,$),m.push($)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...qT(h),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(m,!0)},{type:"text",value:`
`}]}}const Qde=(function(t){if(t==null)return yXe;if(typeof t=="function")return Zk(t);if(typeof t=="object")return Array.isArray(t)?mXe(t):gXe(t);if(typeof t=="string")return vXe(t);throw new Error("Expected function, string, or object as test")});function mXe(t){const e=[];let i=-1;for(;++i<t.length;)e[i]=Qde(t[i]);return Zk(s);function s(...u){let d=-1;for(;++d<e.length;)if(e[d].apply(this,u))return!0;return!1}}function gXe(t){const e=t;return Zk(i);function i(s){const u=s;let d;for(d in t)if(u[d]!==e[d])return!1;return!0}}function vXe(t){return Zk(e);function e(i){return i&&i.type===t}}function Zk(t){return e;function e(i,s,u){return!!(xXe(i)&&t.call(this,i,typeof s=="number"?s:void 0,u||void 0))}}function yXe(){return!0}function xXe(t){return t!==null&&typeof t=="object"&&"type"in t}const jde=[],_Xe=!0,Fte=!1,OXe="skip";function bXe(t,e,i,s){let u;typeof e=="function"&&typeof i!="function"?(s=i,i=e):u=e;const d=Qde(u),h=s?-1:1;m(t,void 0,[])();function m(y,_,b){const T=y&&typeof y=="object"?y:{};if(typeof T.type=="string"){const A=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(C,"name",{value:"node ("+(y.type+(A?"<"+A+">":""))+")"})}return C;function C(){let A=jde,D,L,z;if((!e||d(y,_,b[b.length-1]||void 0))&&(A=wXe(i(y,b)),A[0]===Fte))return A;if("children"in y&&y.children){const $=y;if($.children&&A[0]!==OXe)for(L=(s?$.children.length:-1)+h,z=b.concat($);L>-1&&L<$.children.length;){const Q=$.children[L];if(D=m(Q,L,z)(),D[0]===Fte)return D;L=typeof D[1]=="number"?D[1]:L+h}}return A}}}function wXe(t){return Array.isArray(t)?t:typeof t=="number"?[_Xe,t]:t==null?jde:[t]}function Vde(t,e,i,s){let u,d,h;typeof e=="function"&&typeof i!="function"?(d=void 0,h=e,u=i):(d=e,h=i,u=s),bXe(t,d,m,u);function m(y,_){const b=_[_.length-1],T=b?b.children.indexOf(y):void 0;return h(y,T,b)}}const E4={}.hasOwnProperty,SXe={};function TXe(t,e){const i=e||SXe,s=new Map,u=new Map,d=new Map,h={...sXe,...i.handlers},m={all:_,applyData:kXe,definitionById:s,footnoteById:u,footnoteCounts:d,footnoteOrder:[],handlers:h,one:y,options:i,patch:CXe,wrap:PXe};return Vde(t,function(b){if(b.type==="definition"||b.type==="footnoteDefinition"){const T=b.type==="definition"?s:u,C=String(b.identifier).toUpperCase();T.has(C)||T.set(C,b)}}),m;function y(b,T){const C=b.type,A=m.handlers[C];if(E4.call(m.handlers,C)&&A)return A(m,b,T);if(m.options.passThrough&&m.options.passThrough.includes(C)){if("children"in b){const{children:L,...z}=b,$=qT(z);return $.children=m.all(b),$}return qT(b)}return(m.options.unknownHandler||AXe)(m,b,T)}function _(b){const T=[];if("children"in b){const C=b.children;let A=-1;for(;++A<C.length;){const D=m.one(C[A],b);if(D){if(A&&C[A-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=Gte(D.value)),!Array.isArray(D)&&D.type==="element")){const L=D.children[0];L&&L.type==="text"&&(L.value=Gte(L.value))}Array.isArray(D)?T.push(...D):T.push(D)}}}return T}}function CXe(t,e){t.position&&(e.position=uqe(t))}function kXe(t,e){let i=e;if(t&&t.data){const s=t.data.hName,u=t.data.hChildren,d=t.data.hProperties;if(typeof s=="string")if(i.type==="element")i.tagName=s;else{const h="children"in i?i.children:[i];i={type:"element",tagName:s,properties:{},children:h}}i.type==="element"&&d&&Object.assign(i.properties,qT(d)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function AXe(t,e){const i=e.data||{},s="value"in e&&!(E4.call(i,"hProperties")||E4.call(i,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function PXe(t,e){const i=[];let s=-1;for(e&&i.push({type:"text",value:`
`});++s<t.length;)s&&i.push({type:"text",value:`
`}),i.push(t[s]);return e&&t.length>0&&i.push({type:"text",value:`
`}),i}function Gte(t){let e=0,i=t.charCodeAt(e);for(;i===9||i===32;)e++,i=t.charCodeAt(e);return t.slice(e)}function Wte(t,e){const i=TXe(t,e),s=i.one(t,void 0),u=pXe(i),d=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return u&&d.children.push({type:"text",value:`
`},u),d}function EXe(t,e){return t&&"run"in t?async function(i,s){const u=Wte(i,{file:s,...e});await t.run(u,s)}:function(i,s){return Wte(i,{file:s,...t||e})}}function Ute(t){if(t)throw t}var iN,qte;function MXe(){if(qte)return iN;qte=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=function(_){return typeof Array.isArray=="function"?Array.isArray(_):e.call(_)==="[object Array]"},d=function(_){if(!_||e.call(_)!=="[object Object]")return!1;var b=t.call(_,"constructor"),T=_.constructor&&_.constructor.prototype&&t.call(_.constructor.prototype,"isPrototypeOf");if(_.constructor&&!b&&!T)return!1;var C;for(C in _);return typeof C>"u"||t.call(_,C)},h=function(_,b){i&&b.name==="__proto__"?i(_,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):_[b.name]=b.newValue},m=function(_,b){if(b==="__proto__")if(t.call(_,b)){if(s)return s(_,b).value}else return;return _[b]};return iN=function y(){var _,b,T,C,A,D,L=arguments[0],z=1,$=arguments.length,Q=!1;for(typeof L=="boolean"&&(Q=L,L=arguments[1]||{},z=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});z<$;++z)if(_=arguments[z],_!=null)for(b in _)T=m(L,b),C=m(_,b),L!==C&&(Q&&C&&(d(C)||(A=u(C)))?(A?(A=!1,D=T&&u(T)?T:[]):D=T&&d(T)?T:{},h(L,{name:b,newValue:y(Q,D,C)})):typeof C<"u"&&h(L,{name:b,newValue:C}));return L},iN}var DXe=MXe();const aN=cu(DXe);function M4(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function IXe(){const t=[],e={run:i,use:s};return e;function i(...u){let d=-1;const h=u.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);m(null,...u);function m(y,..._){const b=t[++d];let T=-1;if(y){h(y);return}for(;++T<u.length;)(_[T]===null||_[T]===void 0)&&(_[T]=u[T]);u=_,b?RXe(b,m)(..._):h(null,..._)}}function s(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return t.push(u),e}}function RXe(t,e){let i;return s;function s(...h){const m=t.length>h.length;let y;m&&h.push(u);try{y=t.apply(this,h)}catch(_){const b=_;if(m&&i)throw b;return u(b)}m||(y&&y.then&&typeof y.then=="function"?y.then(d,u):y instanceof Error?u(y):d(y))}function u(h,...m){i||(i=!0,e(h,...m))}function d(h){u(null,h)}}const Wl={basename:LXe,dirname:NXe,extname:$Xe,join:zXe,sep:"/"};function LXe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');N_(t);let i=0,s=-1,u=t.length,d;if(e===void 0||e.length===0||e.length>t.length){for(;u--;)if(t.codePointAt(u)===47){if(d){i=u+1;break}}else s<0&&(d=!0,s=u+1);return s<0?"":t.slice(i,s)}if(e===t)return"";let h=-1,m=e.length-1;for(;u--;)if(t.codePointAt(u)===47){if(d){i=u+1;break}}else h<0&&(d=!0,h=u+1),m>-1&&(t.codePointAt(u)===e.codePointAt(m--)?m<0&&(s=u):(m=-1,s=h));return i===s?s=h:s<0&&(s=t.length),t.slice(i,s)}function NXe(t){if(N_(t),t.length===0)return".";let e=-1,i=t.length,s;for(;--i;)if(t.codePointAt(i)===47){if(s){e=i;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function $Xe(t){N_(t);let e=t.length,i=-1,s=0,u=-1,d=0,h;for(;e--;){const m=t.codePointAt(e);if(m===47){if(h){s=e+1;break}continue}i<0&&(h=!0,i=e+1),m===46?u<0?u=e:d!==1&&(d=1):u>-1&&(d=-1)}return u<0||i<0||d===0||d===1&&u===i-1&&u===s+1?"":t.slice(u,i)}function zXe(...t){let e=-1,i;for(;++e<t.length;)N_(t[e]),t[e]&&(i=i===void 0?t[e]:i+"/"+t[e]);return i===void 0?".":BXe(i)}function BXe(t){N_(t);const e=t.codePointAt(0)===47;let i=QXe(t,!e);return i.length===0&&!e&&(i="."),i.length>0&&t.codePointAt(t.length-1)===47&&(i+="/"),e?"/"+i:i}function QXe(t,e){let i="",s=0,u=-1,d=0,h=-1,m,y;for(;++h<=t.length;){if(h<t.length)m=t.codePointAt(h);else{if(m===47)break;m=47}if(m===47){if(!(u===h-1||d===1))if(u!==h-1&&d===2){if(i.length<2||s!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(y=i.lastIndexOf("/"),y!==i.length-1){y<0?(i="",s=0):(i=i.slice(0,y),s=i.length-1-i.lastIndexOf("/")),u=h,d=0;continue}}else if(i.length>0){i="",s=0,u=h,d=0;continue}}e&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+t.slice(u+1,h):i=t.slice(u+1,h),s=h-u-1;u=h,d=0}else m===46&&d>-1?d++:d=-1}return i}function N_(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const jXe={cwd:VXe};function VXe(){return"/"}function D4(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function FXe(t){if(typeof t=="string")t=new URL(t);else if(!D4(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return GXe(t)}function GXe(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let i=-1;for(;++i<e.length;)if(e.codePointAt(i)===37&&e.codePointAt(i+1)===50){const s=e.codePointAt(i+2);if(s===70||s===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(e)}const oN=["history","path","basename","stem","extname","dirname"];class Fde{constructor(e){let i;e?D4(e)?i={path:e}:typeof e=="string"||WXe(e)?i={value:e}:i=e:i={},this.cwd="cwd"in i?"":jXe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<oN.length;){const d=oN[s];d in i&&i[d]!==void 0&&i[d]!==null&&(this[d]=d==="history"?[...i[d]]:i[d])}let u;for(u in i)oN.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?Wl.basename(this.path):void 0}set basename(e){lN(e,"basename"),sN(e,"basename"),this.path=Wl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Wl.dirname(this.path):void 0}set dirname(e){Zte(this.basename,"dirname"),this.path=Wl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Wl.extname(this.path):void 0}set extname(e){if(sN(e,"extname"),Zte(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Wl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){D4(e)&&(e=FXe(e)),lN(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Wl.basename(this.path,this.extname):void 0}set stem(e){lN(e,"stem"),sN(e,"stem"),this.path=Wl.join(this.dirname||"",e+(this.extname||""))}fail(e,i,s){const u=this.message(e,i,s);throw u.fatal=!0,u}info(e,i,s){const u=this.message(e,i,s);return u.fatal=void 0,u}message(e,i,s){const u=new fa(e,i,s);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function sN(t,e){if(t&&t.includes(Wl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Wl.sep+"`")}function lN(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Zte(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function WXe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const UXe=(function(t){const s=this.constructor.prototype,u=s[t],d=function(){return u.apply(d,arguments)};return Object.setPrototypeOf(d,s),d}),qXe={}.hasOwnProperty;class qB extends UXe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IXe()}copy(){const e=new qB;let i=-1;for(;++i<this.attachers.length;){const s=this.attachers[i];e.use(...s)}return e.data(aN(!0,{},this.namespace)),e}data(e,i){return typeof e=="string"?arguments.length===2?(dN("data",this.frozen),this.namespace[e]=i,this):qXe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(dN("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const u=i.call(e,...s);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const i=Kw(e),s=this.parser||this.Parser;return uN("parse",s),s(String(i),i)}process(e,i){const s=this;return this.freeze(),uN("process",this.parser||this.Parser),cN("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(d,h){const m=Kw(e),y=s.parse(m);s.run(y,m,function(b,T,C){if(b||!T||!C)return _(b);const A=T,D=s.stringify(A,C);XXe(D)?C.value=D:C.result=D,_(b,C)});function _(b,T){b||!T?h(b):d?d(T):i(void 0,T)}}}processSync(e){let i=!1,s;return this.freeze(),uN("processSync",this.parser||this.Parser),cN("processSync",this.compiler||this.Compiler),this.process(e,u),Xte("processSync","process",i),s;function u(d,h){i=!0,Ute(d),s=h}}run(e,i,s){Hte(e),this.freeze();const u=this.transformers;return!s&&typeof i=="function"&&(s=i,i=void 0),s?d(void 0,s):new Promise(d);function d(h,m){const y=Kw(i);u.run(e,y,_);function _(b,T,C){const A=T||e;b?m(b):h?h(A):s(void 0,A,C)}}}runSync(e,i){let s=!1,u;return this.run(e,i,d),Xte("runSync","run",s),u;function d(h,m){Ute(h),u=m,s=!0}}stringify(e,i){this.freeze();const s=Kw(i),u=this.compiler||this.Compiler;return cN("stringify",u),Hte(e),u(e,s)}use(e,...i){const s=this.attachers,u=this.namespace;if(dN("use",this.frozen),e!=null)if(typeof e=="function")y(e,i);else if(typeof e=="object")Array.isArray(e)?m(e):h(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function d(_){if(typeof _=="function")y(_,[]);else if(typeof _=="object")if(Array.isArray(_)){const[b,...T]=_;y(b,T)}else h(_);else throw new TypeError("Expected usable value, not `"+_+"`")}function h(_){if(!("plugins"in _)&&!("settings"in _))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(_.plugins),_.settings&&(u.settings=aN(!0,u.settings,_.settings))}function m(_){let b=-1;if(_!=null)if(Array.isArray(_))for(;++b<_.length;){const T=_[b];d(T)}else throw new TypeError("Expected a list of plugins, not `"+_+"`")}function y(_,b){let T=-1,C=-1;for(;++T<s.length;)if(s[T][0]===_){C=T;break}if(C===-1)s.push([_,...b]);else if(b.length>0){let[A,...D]=b;const L=s[C][1];M4(L)&&M4(A)&&(A=aN(!0,L,A)),s[C]=[_,A,...D]}}}}const ZXe=new qB().freeze();function uN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function cN(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function dN(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Hte(t){if(!M4(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Xte(t,e,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Kw(t){return HXe(t)?t:new Fde(t)}function HXe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function XXe(t){return typeof t=="string"||YXe(t)}function YXe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const KXe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yte=[],Kte={allowDangerousHtml:!0},JXe=/^(https?|ircs?|mailto|xmpp)$/i,eYe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gde(t){const e=tYe(t),i=nYe(t);return rYe(e.runSync(e.parse(i),i),t)}function tYe(t){const e=t.rehypePlugins||Yte,i=t.remarkPlugins||Yte,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Kte}:Kte;return ZXe().use(LHe).use(i).use(EXe,s).use(e)}function nYe(t){const e=t.children||"",i=new Fde;return typeof e=="string"&&(i.value=e),i}function rYe(t,e){const i=e.allowedElements,s=e.allowElement,u=e.components,d=e.disallowedElements,h=e.skipHtml,m=e.unwrapDisallowed,y=e.urlTransform||iYe;for(const b of eYe)Object.hasOwn(e,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+KXe+b.id,void 0);return Vde(t,_),pqe(t,{Fragment:I.Fragment,components:u,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function _(b,T,C){if(b.type==="raw"&&C&&typeof T=="number")return h?C.children.splice(T,1):C.children[T]={type:"text",value:b.value},T;if(b.type==="element"){let A;for(A in tN)if(Object.hasOwn(tN,A)&&Object.hasOwn(b.properties,A)){const D=b.properties[A],L=tN[A];(L===null||L.includes(b.tagName))&&(b.properties[A]=y(String(D||""),A,b))}}if(b.type==="element"){let A=i?!i.includes(b.tagName):d?d.includes(b.tagName):!1;if(!A&&s&&typeof T=="number"&&(A=!s(b,T,C)),A&&C&&typeof T=="number")return m&&b.children?C.children.splice(T,1,...b.children):C.children.splice(T,1),T}}}function iYe(t){const e=t.indexOf(":"),i=t.indexOf("?"),s=t.indexOf("#"),u=t.indexOf("/");return e===-1||u!==-1&&e>u||i!==-1&&e>i||s!==-1&&e>s||JXe.test(t.slice(0,e))?t:""}function Wde({children:t,className:e,...i}){return I.jsx("div",{className:We(e),children:I.jsx(Gde,{...i,children:t??""})})}const Ude=({className:t,from:e,...i})=>I.jsx("div",{className:We("group flex w-full max-w-[80%] gap-2",e==="user"?"is-user ml-auto justify-end":"is-assistant",t),...i}),I4=({children:t,className:e,...i})=>I.jsx("div",{className:We("is-user:dark flex w-fit flex-col gap-2 overflow-hidden text-sm","group-[.is-user]:ml-auto group-[.is-user]:rounded-lg group-[.is-user]:bg-secondary group-[.is-user]:px-4 group-[.is-user]:py-3 group-[.is-user]:text-foreground","group-[.is-assistant]:text-foreground",e),...i,children:t}),aYe=({className:t,children:e,...i})=>I.jsx("div",{className:We("flex items-center gap-1",t),...i,children:e}),Yx=({tooltip:t,children:e,label:i,variant:s="ghost",size:u="icon-sm",...d})=>{const h=I.jsxs(xn,{size:u,type:"button",variant:s,...d,children:[e,I.jsx("span",{className:"sr-only",children:i||t})]});return t?I.jsx(zz,{children:I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:h}),I.jsx(ps,{children:I.jsx("p",{children:t})})]})}):h};K.createContext(null);const oYe=K.memo(({className:t,...e})=>I.jsx(Wde,{className:We("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",t),...e}),(t,e)=>t.children===e.children);oYe.displayName="MessageResponse";const qde=({className:t,children:e,...i})=>I.jsxs(Xse,{className:"w-full overflow-x-auto whitespace-nowrap",...i,children:[I.jsx("div",{className:We("flex w-max flex-nowrap items-center gap-2",t),children:e}),I.jsx(Hse,{className:"hidden",orientation:"horizontal"})]}),Zde=({suggestion:t,onClick:e,className:i,variant:s="outline",size:u="sm",children:d,...h})=>{const m=()=>{e?.(t)};return I.jsx(xn,{className:We("cursor-pointer rounded-full px-4",i),onClick:m,size:u,type:"button",variant:s,...h,children:d||t})},sYe=["tool-createTextDocument","tool-createCodeDocument","tool-createSheetDocument"],Hde=["tool-editTextDocument","tool-editCodeDocument","tool-editSheetDocument"],lYe=[...sYe,...Hde],uYe={"tool-createTextDocument":"text","tool-createCodeDocument":"code","tool-createSheetDocument":"sheet","tool-editTextDocument":"text","tool-editCodeDocument":"code","tool-editSheetDocument":"sheet"};function cYe(t){return uYe[t]}function dYe(t){return Hde.includes(t)}function fYe(t){const e=t.parts,i=e.map(s=>s.type);return{partsRef:e,types:i}}const hYe=t=>(e,i,s)=>({...t(e,i,s),getMessagePartTypesById:d=>{const h=i(),m=(h._throttledMessages||h.messages).find(_=>_.id===d);if(!m)throw new Error(`Message not found for id: ${d}`);const{types:y}=fYe(m);return y},getMessagePartsRange:(d,h,m,y)=>{const _=i(),b=(_._throttledMessages||_.messages).find(L=>L.id===d);if(!b)throw new Error(`Message not found for id: ${d}`);const T=Math.max(0,Math.floor(h)),C=Math.min(b.parts.length-1,Math.floor(m));if(Number.isNaN(T)||Number.isNaN(C)||C<T)return[];const A=b.parts.slice(T,C+1);return y===void 0?A:A.filter(L=>L.type===y)},getMessagePartByIdx:(d,h)=>{const m=i(),y=(m._throttledMessages||m.messages).find(b=>b.id===d);if(!y)throw new Error(`Message not found for id: ${d}`);const _=y.parts[h];if(_===void 0)throw new Error(`Part not found for id: ${d} at partIdx: ${h}`);return _}}),pYe=t=>(e,i,s)=>{const u=t(e,i,s),d=u.setMessages;return{...u,threadEpoch:0,threadInitialMessages:u.messages,bumpThreadEpoch:()=>{e(h=>({...h,threadEpoch:h.threadEpoch+1}))},resetThreadEpoch:()=>{e(h=>({...h,threadEpoch:0,threadInitialMessages:i().messages}))},setMessagesWithEpoch:h=>{d(h),e(m=>({...m,threadEpoch:m.threadEpoch+1,threadInitialMessages:h}))},setMessages:h=>{const y=i().messages.map(b=>b.id).join(","),_=h.map(b=>b.id).join(",");d(h),y!==_&&e(b=>({...b,threadEpoch:b.threadEpoch+1}))}}},mYe=(t,e)=>(i,s,u)=>t(i,s,u);function gYe(t=[]){return jle()(Fle(Gle(mYe(pYe(hYe(mue(t))))),{name:"chat-store"}))}function Hk(){const t=K.useContext(Nk);if(!t)throw new Error("useChatStoreApi must be used within Provider");return t}function vYe({initialMessages:t=[],children:e}){const i=K.useRef(null);return i.current===null&&(i.current=gYe(t)),I.jsx(k7e,{initialMessages:t,store:i.current||void 0,children:e})}const yYe=[...lYe,"tool-deepResearch"];function Xk(t,e){const i=Hk();if(!i)throw new Error("usePartsStore must be used within ChatStoreProvider");return tB(i,t,e)}const Xde=t=>Xk(e=>e.getMessagePartTypesById(t),T_);function Yde(t,e,i){const s=Xk(u=>u.getMessagePartByIdx(t,e));if(i!==void 0&&s.type!==i)throw new Error(`Part type mismatch for id: ${t} at partIdx: ${e}. Expected ${String(i)}, got ${String(s.type)}`);return s}function Kde(t,e){return Xk(i=>i.getMessageById(t)?.parts.filter(s=>s.type==="data-researchUpdate").filter(s=>s.data.toolCallId===e)??[],eB)}function xYe(t){return Xk(e=>{const i=e._throttledMessages||e.messages;for(let s=i.length-1;s>=0;s--){const u=i[s];if(u.role==="assistant"){for(const d of u.parts)if("toolCallId"in d&&yYe.includes(d.type)&&d.state==="output-available")return d.toolCallId===t}}return!1})}const Jde=K.createContext(void 0);function efe({children:t,initialInput:e="",initialTool:i=null,initialAttachments:s=[],overrideModelId:u,localStorageEnabled:d=!0,isProjectContext:h=!1}){const[m,y]=K.useState(!1);K.useEffect(()=>{y(!0)},[]);const _=K.useCallback(()=>{if(!d)return"";try{return localStorage.getItem("input")||""}catch{return""}},[d]),b=K.useCallback(ue=>{if(d)try{localStorage.setItem("input",ue)}catch{}},[d]),T=DQe(),C=IQe(),[A,D]=K.useState(u||T),L=K.useRef(e),[z,$]=K.useState(i),[Q,B]=K.useState(s),[q,Y]=K.useState(()=>e.trim().length===0),G=K.useRef(null),H=K.useCallback(()=>!d||!m?e:e||_(),[e,_,d,m]),{getModelById:V}=b_(),F=K.useCallback(async ue=>{!V(ue)?.input&&z!==null&&$(null),D(ue),await C(ue)},[z,C,V]),te=K.useCallback(()=>{G.current?.clear(),b(""),L.current="",Y(!0)},[b]),ae=K.useCallback(()=>{$(null)},[]),oe=K.useCallback(()=>{B([])},[]),fe=K.useCallback(()=>L.current,[]),de=K.useCallback(ue=>{d&&b(ue),L.current=ue,Y(ue.trim().length===0)},[b,d]),he=K.useCallback((ue,ne=!1)=>{ue(),oe(),ne||te(),z!=="deepResearch"&&ae()},[oe,te,z,ae]);return I.jsx(Jde.Provider,{value:{editorRef:G,selectedTool:z,setSelectedTool:$,attachments:Q,setAttachments:B,selectedModelId:A,handleModelChange:F,getInputValue:fe,handleInputChange:de,getInitialInput:H,isEmpty:q,handleSubmit:he,isProjectContext:h},children:t})}function $_(){const t=K.useContext(Jde);if(t===void 0)throw new Error("useChatInput must be used within a ChatInputProvider");return t}function _Ye({suggestions:t,className:e}){const i=wc(),{selectedModelId:s,selectedTool:u}=$_(),d=K.useCallback(h=>{const m=i.getState().sendMessage;if(!m)return;const y=i.getState().getLastMessageId(),_={id:vk(),role:"user",parts:[{type:"text",text:h}],metadata:{createdAt:new Date,parentMessageId:y,selectedModel:s,activeStreamId:null,selectedTool:u||void 0}};m(_)},[i,s,u]);return!t||t.length===0?null:I.jsxs("div",{className:We("mt-2 mb-2 flex flex-col gap-2",e),children:[I.jsx("div",{className:"font-medium text-muted-foreground text-xs",children:"Related"}),I.jsx(qde,{className:"gap-1.5",children:t.map(h=>I.jsxs(Zde,{className:"h-7 text-muted-foreground hover:text-foreground",onClick:d,size:"sm",suggestion:h,type:"button",variant:"ghost",children:[h,I.jsx(YS,{className:"size-3 opacity-70"})]},h))})]})}function OYe({messageId:t}){const e=Xde(t);if(!(P_().at(-1)===t))return null;const u=e.indexOf("data-followupSuggestions");return u===-1?null:I.jsx(bYe,{messageId:t,partIdx:u})}function bYe({messageId:t,partIdx:e}){const i=Yde(t,e,"data-followupSuggestions"),{data:s}=i;return I.jsx(_Ye,{suggestions:s.suggestions})}var fN,Jte;function wYe(){if(Jte)return fN;Jte=1;var t="Expected a function",e=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,h=/^0o[0-7]+$/i,m=parseInt,y=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh,_=typeof self=="object"&&self&&self.Object===Object&&self,b=y||_||Function("return this")(),T=Object.prototype,C=T.toString,A=Math.max,D=Math.min,L=function(){return b.Date.now()};function z(Y,G,H){var V,F,te,ae,oe,fe,de=0,he=!1,ue=!1,ne=!0;if(typeof Y!="function")throw new TypeError(t);G=q(G)||0,$(H)&&(he=!!H.leading,ue="maxWait"in H,te=ue?A(q(H.maxWait)||0,G):te,ne="trailing"in H?!!H.trailing:ne);function me(Z){var ve=V,ze=F;return V=F=void 0,de=Z,ae=Y.apply(ze,ve),ae}function ge(Z){return de=Z,oe=setTimeout(Me,G),he?me(Z):ae}function ee(Z){var ve=Z-fe,ze=Z-de,Qe=G-ve;return ue?D(Qe,te-ze):Qe}function be(Z){var ve=Z-fe,ze=Z-de;return fe===void 0||ve>=G||ve<0||ue&&ze>=te}function Me(){var Z=L();if(be(Z))return se(Z);oe=setTimeout(Me,ee(Z))}function se(Z){return oe=void 0,ne&&V?me(Z):(V=F=void 0,ae)}function Ae(){oe!==void 0&&clearTimeout(oe),de=0,V=fe=F=oe=void 0}function we(){return oe===void 0?ae:se(L())}function Le(){var Z=L(),ve=be(Z);if(V=arguments,F=this,fe=Z,ve){if(oe===void 0)return ge(fe);if(ue)return oe=setTimeout(Me,G),me(fe)}return oe===void 0&&(oe=setTimeout(Me,G)),ae}return Le.cancel=Ae,Le.flush=we,Le}function $(Y){var G=typeof Y;return!!Y&&(G=="object"||G=="function")}function Q(Y){return!!Y&&typeof Y=="object"}function B(Y){return typeof Y=="symbol"||Q(Y)&&C.call(Y)==i}function q(Y){if(typeof Y=="number")return Y;if(B(Y))return e;if($(Y)){var G=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=$(G)?G+"":G}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(s,"");var H=d.test(Y);return H||h.test(Y)?m(Y.slice(2),H?2:8):u.test(Y)?e:+Y}return fN=z,fN}var SYe=wYe();const ene=cu(SYe);var tfe=typeof window<"u"?K.useLayoutEffect:K.useEffect;function nfe(t,e,i,s){const u=K.useRef(e);tfe(()=>{u.current=e},[e]),K.useEffect(()=>{const d=window;if(!(d&&d.addEventListener))return;const h=m=>{u.current(m)};return d.addEventListener(t,h,s),()=>{d.removeEventListener(t,h,s)}},[t,i,s])}function TYe(){const[t,e]=K.useState(null),i=K.useCallback(async s=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(s),e(s),!0}catch(u){return console.warn("Copy failed",u),e(null),!1}},[]);return[t,i]}function CYe(t){const e=K.useRef(t);e.current=t,K.useEffect(()=>()=>{e.current()},[])}function rfe(t,e=500,i){const s=K.useRef();CYe(()=>{s.current&&s.current.cancel()});const u=K.useMemo(()=>{const d=ene(t,e,i),h=(...m)=>d(...m);return h.cancel=()=>{d.cancel()},h.isPending=()=>!!s.current,h.flush=()=>d.flush(),h},[t,e,i]);return K.useEffect(()=>{s.current=ene(t,e,i)},[t,e,i]),u}function kYe(t,e,i="mousedown",s={}){nfe(i,u=>{const d=u.target;if(!d||!d.isConnected)return;(Array.isArray(t)?t.filter(m=>!!m.current).every(m=>m.current&&!m.current.contains(d)):t.current&&!t.current.contains(d))&&e(u)},void 0,s)}var AYe=typeof window>"u";function PYe(t={}){let{initializeWithValue:e=!0}=t;AYe&&(e=!1);const[i,s]=K.useState(()=>e?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0}),u=rfe(s,t.debounceDelay);function d(){(t.debounceDelay?u:s)({width:window.innerWidth,height:window.innerHeight})}return nfe("resize",d),tfe(()=>{d()},[]),i}let EYe=Use("/src/server/actions/vote.ts","getVotes"),MYe=Use("/src/server/actions/vote.ts","voteMessage");function DYe(t,{isReadonly:e}){const{data:i}=Ia(),s=t!==$k(),u=P_();return Cp({queryKey:ole.byChatId(t),queryFn:()=>EYe({chatId:t}),enabled:u.length>=2&&!e&&!!i?.user&&!s})}const R4=({tooltip:t,children:e,label:i,className:s,variant:u="ghost",size:d="sm",...h})=>{const m=I.jsxs(xn,{className:We("relative size-9 p-1.5 text-muted-foreground hover:text-foreground",s),size:d,type:"button",variant:u,...h,children:[e,I.jsx("span",{className:"sr-only",children:i||t})]});return t?I.jsx(zz,{children:I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:m}),I.jsx(ps,{children:I.jsx("p",{children:t})})]})}):m};function IYe({messageId:t,className:e}){const{setMessages:i,sendMessage:s}=fu(),u=wc(),d=Pp(),h=K.useCallback(()=>{if(!s){En.error("Cannot retry this message");return}const m=u.getState().messages,y=m.findIndex(T=>T.id===t);if(y===-1){En.error("Cannot find the message to retry");return}const _=y-1;if(_<0){En.error("Cannot find the user message to retry");return}const b=m[_];if(b.role!=="user"){En.error("Parent message is not from user");return}i(m.slice(0,_)),s({...b,metadata:{...b.metadata,createdAt:b.metadata?.createdAt||new Date,selectedModel:b.metadata?.selectedModel||"",parentMessageId:b.metadata?.parentMessageId||null}},{}),En.success("Retrying message...")},[s,t,i,u]);return d==="streaming"||d==="submitted"?null:I.jsx(R4,{className:`h-7 w-7 text-muted-foreground hover:bg-accent hover:text-accent-foreground p-0${e?` ${e}`:""}`,onClick:h,tooltip:"Retry",children:I.jsx(dle,{className:"h-3.5 w-3.5"})})}function RYe({children:t,className:e}){return I.jsx("span",{className:We("flex gap-1 rounded bg-muted px-1.5 py-1 text-muted-foreground text-xs",e),children:t})}function LYe({chatId:t,messageId:e,vote:i,isReadOnly:s}){const u=_k(),{data:d}=Ia(),h=!!d?.user,m=Ok({mutationFn:MYe,onSuccess:()=>{u.invalidateQueries({queryKey:ole.byChatId(t)})}});return s||!h?null:I.jsxs(I.Fragment,{children:[I.jsx(Yx,{className:"pointer-events-auto! h-7 w-7 p-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground","data-testid":"message-downvote",disabled:i&&!i.isUpvoted,onClick:()=>{En.promise(m.mutateAsync({chatId:t,messageId:e,type:"down"}),{loading:"Downvoting Response...",success:"Downvoted Response!",error:"Failed to downvote response."})},tooltip:"Downvote Response",children:I.jsx(AVe,{size:14})}),I.jsx(Yx,{className:"pointer-events-auto! h-7 w-7 p-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground","data-testid":"message-upvote",disabled:i?.isUpvoted,onClick:()=>{En.promise(m.mutateAsync({chatId:t,messageId:e,type:"up"}),{loading:"Upvoting Response...",success:"Upvoted Response!",error:"Failed to upvote response."})},tooltip:"Upvote Response",children:I.jsx(CVe,{size:14})}),I.jsx(IYe,{messageId:e}),I.jsx(NYe,{messageId:e})]})}function NYe({messageId:t}){const e=gue(t);return e?.metadata?.selectedModel?I.jsx("div",{className:"ml-2 flex items-center",children:I.jsx(RYe,{children:e.metadata.selectedModel})}):null}const ife=K.createContext(null);function $Ye({children:t}){const[e,i]=K.useState([]),s=K.useMemo(()=>({dataStream:e,setDataStream:i}),[e]);return I.jsx(ife.Provider,{value:s,children:t})}function Yk(){const t=K.useContext(ife);if(!t)throw new Error("useDataStream must be used within a DataStreamProvider");return t}const ZT={documentId:"init",content:"",kind:"text",title:"",messageId:"",status:"idle",isVisible:!1,date:void 0},afe=K.createContext(void 0);function zYe({children:t}){const[e,i]=K.useState(ZT),[s,u]=K.useState(ZT),d=K.useCallback(y=>{i(_=>typeof y=="function"?y(_):y)},[]),h=K.useCallback((y,_)=>{u(b=>({...b,[y]:typeof _=="function"?_(b?b[y]:null):_}))},[]),m=K.useMemo(()=>({artifact:e,setArtifact:d,metadata:s,setMetadata:h}),[e,d,s,h]);return I.jsx(afe.Provider,{value:m,children:t})}function ofe(){const t=K.useContext(afe);if(!t)throw new Error("Artifact hooks must be used within ArtifactProvider");return t}function sfe(t){const{artifact:e}=ofe();return K.useMemo(()=>t(e),[e,t])}function hu(){const{artifact:t,setArtifact:e,metadata:i,setMetadata:s}=ofe(),u=K.useMemo(()=>t.documentId?i?.[t.documentId]:null,[i,t.documentId]),d=K.useCallback(y=>{t.documentId&&s(t.documentId,y)},[t.documentId,s]),h=K.useCallback(()=>{e(ZT)},[e]),m=K.useCallback(()=>{e(y=>y.status==="streaming"?{...y,isVisible:!1}:{...ZT,status:"idle"})},[e]);return K.useMemo(()=>({artifact:t,setArtifact:e,resetArtifact:h,closeArtifact:m,metadata:u,setMetadata:d}),[t,e,u,d,h,m])}function lfe(t,e){const i=Hk();if(!i)throw new Error("useThreadStore must be used within ChatStoreProvider");return tB(i,t,e)}const BYe=()=>lfe(t=>t.threadEpoch),QYe=()=>lfe(t=>t.threadInitialMessages),jYe=()=>{const t=Hk();return K.useCallback(()=>{t.getState().resetThreadEpoch()},[t])},VYe=()=>{const t=Hk();return K.useCallback(e=>{t.getState().setMessagesWithEpoch(e)},[t])};function FYe(t){return t.length===0?null:[...t].sort((i,s)=>new Date(s.metadata?.createdAt||new Date).getTime()-new Date(i.metadata?.createdAt||new Date).getTime())[0]}function ufe(t,e){const i=new Map;for(const h of t)i.set(h.id,h);const s=[];let u=e,d=0;for(;u&&(d+=1,!(d>100));){const h=i.get(u);if(!h)break;if(s.unshift(h),h.metadata?.parentMessageId===h.id){console.error("[buildThreadFromLeaf] SELF-REFERENCE DETECTED for message:",h.id);break}u=h.metadata?.parentMessageId||null}return s}function WSt(t){const e=FYe(t);return e?ufe(t,e.id):[]}function cfe(t,e){const i=t.get(e);if(!i||i.length===0)return null;const s=i.at(-1);return s?cfe(t,s.id)||s:null}function GYe(t){return{...t,metadata:{...t.metadata,createdAt:t.metadata.createdAt instanceof Date?t.metadata.createdAt:new Date(t.metadata.createdAt)}}}const dfe=K.createContext(void 0);function WYe({children:t}){const{id:e,isPersisted:i,source:s}=xk(),u=s==="share",d=GBe(),h=VYe(),m=E7e(),{stop:y}=fu(),{setDataStream:_}=Yk(),b=BYe(),T=jYe(),{artifact:C,closeArtifact:A}=hu(),L=(Cp({queryKey:u?IT.publicMessages(e||""):IT.messages(e||""),queryFn:()=>u?jse({chatId:e}):gQe({chatId:e}),enabled:!!e&&i&&d!=="/"}).data??[]).map(q=>GYe(q));K.useEffect(()=>{!i&&d==="/"&&(m(),_([]),T())},[i,d,m,_,T]);const z=K.useMemo(()=>{const q=new Map;for(const Y of L){const G=Y.metadata?.parentMessageId||null;q.has(G)||q.set(G,[]);const H=q.get(G);H&&H.push(Y)}for(const Y of q.values())Y.sort((G,H)=>new Date(G.metadata?.createdAt||new Date).getTime()-new Date(H.metadata?.createdAt||new Date).getTime());return q},[L]),$=K.useCallback(q=>{const Y=L.find(V=>V.id===q);if(!Y)return null;const G=z.get(Y.metadata?.parentMessageId||null)||[],H=G.findIndex(V=>V.id===q);return{siblings:G,siblingIndex:H}},[L,z]),Q=K.useCallback((q,Y)=>{if(!L.length)return;const G=$(q);if(!G||G.siblings.length<=1)return;y?.(),_([]);const{siblings:H,siblingIndex:V}=G,F=Y==="next"?(V+1)%H.length:(V-1+H.length)%H.length,te=H[F],ae=cfe(z,te.id),oe=ufe(L,ae?ae.id:te.id);C.isVisible&&C.messageId&&!oe.some(fe=>fe.id===C.messageId)&&A(),h(oe)},[L,C.isVisible,C.messageId,z,A,$,_,h,y]),B=K.useMemo(()=>({getMessageSiblingInfo:$,navigateToSibling:Q,threadEpoch:b}),[$,Q,b]);return I.jsx(dfe.Provider,{value:B,children:t})}function ffe(){const t=K.useContext(dfe);if(!t)throw new Error("useMessageTree must be used within MessageTreeProvider");return t}function UYe({messageId:t,isReadOnly:e}){const{data:i}=Ia();i?.user;const{getMessageSiblingInfo:s,navigateToSibling:u}=ffe(),d=s(t),h=d&&d.siblings.length>1;return I.jsx("div",{className:"flex items-center justify-center gap-1",children:h&&I.jsxs(I.Fragment,{children:[I.jsx(R4,{className:"h-7 w-7 px-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground",disabled:d.siblingIndex===0,onClick:()=>u(t,"prev"),tooltip:"Previous version",children:I.jsx(RQe,{className:"h-3.5 w-3.5"})}),I.jsxs("span",{className:"text-muted-foreground text-xs",children:[d.siblingIndex+1,"/",d.siblings.length]}),I.jsx(R4,{className:"h-7 w-7 px-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground",disabled:d.siblingIndex===d.siblings.length-1,onClick:()=>u(t,"next"),tooltip:"Next version",children:I.jsx(Gz,{className:"h-3.5 w-3.5"})})]})})}const qYe=K.memo(UYe);function ZYe({chatId:t,messageId:e,isLoading:i,isReadOnly:s,isEditing:u,onStartEdit:d,onCancelEdit:h}){const m=wc(),[y,_]=TYe(),b=yue(e),T=yk(),{data:C}=DYe(t,{isReadonly:s}),A=C?.find(L=>L.messageId===e);if(i)return I.jsx("div",{className:"h-7"});const D=T||u||b==="assistant";return I.jsxs(aYe,{className:D?"":"opacity-0 transition-opacity duration-150 focus-within:opacity-100 hover:opacity-100 group-hover/message:opacity-100 group-hover:opacity-100",children:[b==="user"&&!s&&(u?I.jsx(Yx,{className:"h-7 w-7 p-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>h?.(),tooltip:"Cancel edit",children:I.jsx(dVe,{className:"h-3.5 w-3.5"})}):I.jsx(Yx,{className:"h-7 w-7 p-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>d?.(),tooltip:"Edit message",children:I.jsx(Tp,{className:"h-3.5 w-3.5"})})),I.jsx(qYe,{isReadOnly:s,messageId:e}),I.jsx(Yx,{className:"h-7 w-7 p-0 text-muted-foreground hover:bg-accent hover:text-accent-foreground",onClick:async()=>{const L=m.getState().messages.find($=>$.id===e);if(!L)return;const z=L.parts?.filter($=>$.type==="text").map($=>$.text).join(`
`).trim();if(!z){En.error("There's no text to copy!");return}await _(z),En.success("Copied to clipboard!")},tooltip:"Copy",children:I.jsx(Sp,{size:14})}),b==="assistant"&&!s&&I.jsx(LYe,{chatId:t,isReadOnly:s,messageId:e,vote:A})]})}const hfe=K.memo(ZYe,(t,e)=>!(t.chatId!==e.chatId||t.messageId!==e.messageId||t.isLoading!==e.isLoading||t.isReadOnly!==e.isReadOnly||t.isEditing!==e.isEditing||t.onStartEdit!==e.onStartEdit||t.onCancelEdit!==e.onCancelEdit));var Jw={};const ZB=NBe(NQe);var Mx={exports:{}},HYe=Mx.exports,tne;function XYe(){return tne||(tne=1,(function(t,e){(function(i,s){s(e)})(HYe,(function(i){var s=function(a,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},s(a,n)};function u(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(a,n);function r(){this.constructor=a}a.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var d=(function(){function a(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return a})(),h=(function(){function a(){this.browser=new d,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return a})(),m=new h;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(m.wxa=!0,m.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?m.worker=!0:!m.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(m.node=!0,m.svgSupported=!0):y(navigator.userAgent,m);function y(a,n){var r=n.browser,o=a.match(/Firefox\/([\d.]+)/),l=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),c=a.match(/Edge?\/([\d.]+)/),f=/micromessenger/i.test(a);o&&(r.firefox=!0,r.version=o[1]),l&&(r.ie=!0,r.version=l[1]),c&&(r.edge=!0,r.version=c[1],r.newEdge=+c[1].split(".")[0]>18),f&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);var p=n.domSupported=typeof document<"u";if(p){var g=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in g||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in g)&&!("OTransition"in g),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}}var _=12,b="sans-serif",T=_+"px "+b,C=20,A=100,D="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function L(a){var n={};if(typeof JSON>"u")return n;for(var r=0;r<a.length;r++){var o=String.fromCharCode(r+32),l=(a.charCodeAt(r)-C)/A;n[o]=l}return n}var z=L(D),$={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var a,n;return function(r,o){if(!a){var l=$.createCanvas();a=l&&l.getContext("2d")}if(a)return n!==o&&(n=a.font=o||T),a.measureText(r);r=r||"",o=o||T;var c=/((?:\d+)?\.?\d*)px/.exec(o),f=c&&+c[1]||_,p=0;if(o.indexOf("mono")>=0)p=f*r.length;else for(var g=0;g<r.length;g++){var v=z[r[g]];p+=v==null?f:v*f}return{width:p}}})(),loadImage:function(a,n,r){var o=new Image;return o.onload=n,o.onerror=r,o.src=a,o}};function Q(a){for(var n in $)a[n]&&($[n]=a[n])}var B=ze(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,n){return a["[object "+n+"]"]=!0,a},{}),q=ze(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,n){return a["[object "+n+"Array]"]=!0,a},{}),Y=Object.prototype.toString,G=Array.prototype,H=G.forEach,V=G.filter,F=G.slice,te=G.map,ae=(function(){}).constructor,oe=ae?ae.prototype:null,fe="__proto__",de=2311;function he(){return de++}function ue(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];typeof console<"u"&&console.error.apply(console,a)}function ne(a){if(a==null||typeof a!="object")return a;var n=a,r=Y.call(a);if(r==="[object Array]"){if(!bn(a)){n=[];for(var o=0,l=a.length;o<l;o++)n[o]=ne(a[o])}}else if(q[r]){if(!bn(a)){var c=a.constructor;if(c.from)n=c.from(a);else{n=new c(a.length);for(var o=0,l=a.length;o<l;o++)n[o]=a[o]}}}else if(!B[r]&&!bn(a)&&!st(a)){n={};for(var f in a)a.hasOwnProperty(f)&&f!==fe&&(n[f]=ne(a[f]))}return n}function me(a,n,r){if(!Ze(n)||!Ze(a))return r?ne(n):a;for(var o in n)if(n.hasOwnProperty(o)&&o!==fe){var l=a[o],c=n[o];Ze(c)&&Ze(l)&&!ke(c)&&!ke(l)&&!st(c)&&!st(l)&&!nn(c)&&!nn(l)&&!bn(c)&&!bn(l)?me(l,c,r):(r||!(o in a))&&(a[o]=ne(n[o]))}return a}function ge(a,n){for(var r=a[0],o=1,l=a.length;o<l;o++)r=me(r,a[o],n);return r}function ee(a,n){if(Object.assign)Object.assign(a,n);else for(var r in n)n.hasOwnProperty(r)&&r!==fe&&(a[r]=n[r]);return a}function be(a,n,r){for(var o=He(n),l=0,c=o.length;l<c;l++){var f=o[l];(r?n[f]!=null:a[f]==null)&&(a[f]=n[f])}return a}var Me=$.createCanvas;function se(a,n){if(a){if(a.indexOf)return a.indexOf(n);for(var r=0,o=a.length;r<o;r++)if(a[r]===n)return r}return-1}function Ae(a,n){var r=a.prototype;function o(){}o.prototype=n.prototype,a.prototype=new o;for(var l in r)r.hasOwnProperty(l)&&(a.prototype[l]=r[l]);a.prototype.constructor=a,a.superClass=n}function we(a,n,r){if(a="prototype"in a?a.prototype:a,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),l=0;l<o.length;l++){var c=o[l];c!=="constructor"&&(r?n[c]!=null:a[c]==null)&&(a[c]=n[c])}else be(a,n,r)}function Le(a){return!a||typeof a=="string"?!1:typeof a.length=="number"}function Z(a,n,r){if(a&&n)if(a.forEach&&a.forEach===H)a.forEach(n,r);else if(a.length===+a.length)for(var o=0,l=a.length;o<l;o++)n.call(r,a[o],o,a);else for(var c in a)a.hasOwnProperty(c)&&n.call(r,a[c],c,a)}function ve(a,n,r){if(!a)return[];if(!n)return Ut(a);if(a.map&&a.map===te)return a.map(n,r);for(var o=[],l=0,c=a.length;l<c;l++)o.push(n.call(r,a[l],l,a));return o}function ze(a,n,r,o){if(a&&n){for(var l=0,c=a.length;l<c;l++)r=n.call(o,r,a[l],l,a);return r}}function Qe(a,n,r){if(!a)return[];if(!n)return Ut(a);if(a.filter&&a.filter===V)return a.filter(n,r);for(var o=[],l=0,c=a.length;l<c;l++)n.call(r,a[l],l,a)&&o.push(a[l]);return o}function et(a,n,r){if(a&&n){for(var o=0,l=a.length;o<l;o++)if(n.call(r,a[o],o,a))return a[o]}}function He(a){if(!a)return[];if(Object.keys)return Object.keys(a);var n=[];for(var r in a)a.hasOwnProperty(r)&&n.push(r);return n}function yt(a,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return function(){return a.apply(n,r.concat(F.call(arguments)))}}var Ee=oe&&Ge(oe.bind)?oe.call.bind(oe.bind):yt;function Ue(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return a.apply(this,n.concat(F.call(arguments)))}}function ke(a){return Array.isArray?Array.isArray(a):Y.call(a)==="[object Array]"}function Ge(a){return typeof a=="function"}function De(a){return typeof a=="string"}function Pt(a){return Y.call(a)==="[object String]"}function dt(a){return typeof a=="number"}function Ze(a){var n=typeof a;return n==="function"||!!a&&n==="object"}function nn(a){return!!B[Y.call(a)]}function ut(a){return!!q[Y.call(a)]}function st(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.ownerDocument=="object"}function Ve(a){return a.colorStops!=null}function Ce(a){return a.image!=null}function je(a){return Y.call(a)==="[object RegExp]"}function qe(a){return a!==a}function tt(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];for(var r=0,o=a.length;r<o;r++)if(a[r]!=null)return a[r]}function $e(a,n){return a??n}function zt(a,n,r){return a??n??r}function Ut(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return F.apply(a,n)}function gn(a){if(typeof a=="number")return[a,a,a,a];var n=a.length;return n===2?[a[0],a[1],a[0],a[1]]:n===3?[a[0],a[1],a[2],a[1]]:a}function Ke(a,n){if(!a)throw new Error(n)}function An(a){return a==null?null:typeof a.trim=="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ln="__ec_primitive__";function Cr(a){a[ln]=!0}function bn(a){return a[ln]}var It=(function(){function a(){this.data={}}return a.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},a.prototype.has=function(n){return this.data.hasOwnProperty(n)},a.prototype.get=function(n){return this.data[n]},a.prototype.set=function(n,r){return this.data[n]=r,this},a.prototype.keys=function(){return He(this.data)},a.prototype.forEach=function(n){var r=this.data;for(var o in r)r.hasOwnProperty(o)&&n(r[o],o)},a})(),fn=typeof Map=="function";function $n(){return fn?new Map:new It}var rn=(function(){function a(n){var r=ke(n);this.data=$n();var o=this;n instanceof a?n.each(l):n&&Z(n,l);function l(c,f){r?o.set(c,f):o.set(f,c)}}return a.prototype.hasKey=function(n){return this.data.has(n)},a.prototype.get=function(n){return this.data.get(n)},a.prototype.set=function(n,r){return this.data.set(n,r),r},a.prototype.each=function(n,r){this.data.forEach(function(o,l){n.call(r,o,l)})},a.prototype.keys=function(){var n=this.data.keys();return fn?Array.from(n):n},a.prototype.removeKey=function(n){this.data.delete(n)},a})();function Xe(a){return new rn(a)}function Xn(a,n){for(var r=new a.constructor(a.length+n.length),o=0;o<a.length;o++)r[o]=a[o];for(var l=a.length,o=0;o<n.length;o++)r[o+l]=n[o];return r}function zn(a,n){var r;if(Object.create)r=Object.create(a);else{var o=function(){};o.prototype=a,r=new o}return n&&ee(r,n),r}function Dr(a){var n=a.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function Je(a,n){return a.hasOwnProperty(n)}function an(){}var ki=180/Math.PI,dr=Number.EPSILON||Math.pow(2,-52),xs=Object.freeze({__proto__:null,guid:he,logError:ue,clone:ne,merge:me,mergeAll:ge,extend:ee,defaults:be,createCanvas:Me,indexOf:se,inherits:Ae,mixin:we,isArrayLike:Le,each:Z,map:ve,reduce:ze,filter:Qe,find:et,keys:He,bind:Ee,curry:Ue,isArray:ke,isFunction:Ge,isString:De,isStringSafe:Pt,isNumber:dt,isObject:Ze,isBuiltInObject:nn,isTypedArray:ut,isDom:st,isGradientObject:Ve,isImagePatternObject:Ce,isRegExp:je,eqNaN:qe,retrieve:tt,retrieve2:$e,retrieve3:zt,slice:Ut,normalizeCssArray:gn,assert:Ke,trim:An,setAsPrimitive:Cr,isPrimitive:bn,HashMap:rn,createHashMap:Xe,concatArray:Xn,createObject:zn,disableUserSelect:Dr,hasOwn:Je,noop:an,RADIAN_TO_DEGREE:ki,EPSILON:dr});function ci(a,n){return a==null&&(a=0),n==null&&(n=0),[a,n]}function xt(a,n){return a[0]=n[0],a[1]=n[1],a}function ji(a){return[a[0],a[1]]}function Ac(a,n,r){return a[0]=n,a[1]=r,a}function Np(a,n,r){return a[0]=n[0]+r[0],a[1]=n[1]+r[1],a}function sf(a,n,r,o){return a[0]=n[0]+r[0]*o,a[1]=n[1]+r[1]*o,a}function fo(a,n,r){return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a}function il(a){return Math.sqrt(lf(a))}var Fv=il;function lf(a){return a[0]*a[0]+a[1]*a[1]}var lO=lf;function $p(a,n,r){return a[0]=n[0]*r[0],a[1]=n[1]*r[1],a}function Gv(a,n,r){return a[0]=n[0]/r[0],a[1]=n[1]/r[1],a}function uO(a,n){return a[0]*n[0]+a[1]*n[1]}function uf(a,n,r){return a[0]=n[0]*r,a[1]=n[1]*r,a}function al(a,n){var r=il(n);return r===0?(a[0]=0,a[1]=0):(a[0]=n[0]/r,a[1]=n[1]/r),a}function cf(a,n){return Math.sqrt((a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1]))}var _s=cf;function cO(a,n){return(a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1])}var Ra=cO;function df(a,n){return a[0]=-n[0],a[1]=-n[1],a}function xu(a,n,r,o){return a[0]=n[0]+o*(r[0]-n[0]),a[1]=n[1]+o*(r[1]-n[1]),a}function yr(a,n,r){var o=n[0],l=n[1];return a[0]=r[0]*o+r[2]*l+r[4],a[1]=r[1]*o+r[3]*l+r[5],a}function No(a,n,r){return a[0]=Math.min(n[0],r[0]),a[1]=Math.min(n[1],r[1]),a}function Os(a,n,r){return a[0]=Math.max(n[0],r[0]),a[1]=Math.max(n[1],r[1]),a}var dO=Object.freeze({__proto__:null,create:ci,copy:xt,clone:ji,set:Ac,add:Np,scaleAndAdd:sf,sub:fo,len:il,length:Fv,lenSquare:lf,lengthSquare:lO,mul:$p,div:Gv,dot:uO,scale:uf,normalize:al,distance:cf,dist:_s,distanceSquare:cO,distSquare:Ra,negate:df,lerp:xu,applyTransform:yr,min:No,max:Os}),ma=(function(){function a(n,r){this.target=n,this.topTarget=r&&r.topTarget}return a})(),sP=(function(){function a(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new ma(r,n),"dragstart",n.event))},a.prototype._drag=function(n){var r=this._draggingTarget;if(r){var o=n.offsetX,l=n.offsetY,c=o-this._x,f=l-this._y;this._x=o,this._y=l,r.drift(c,f,n),this.handler.dispatchToElement(new ma(r,n),"drag",n.event);var p=this.handler.findHover(o,l,r).target,g=this._dropTarget;this._dropTarget=p,r!==p&&(g&&p!==g&&this.handler.dispatchToElement(new ma(g,n),"dragleave",n.event),p&&p!==g&&this.handler.dispatchToElement(new ma(p,n),"dragenter",n.event))}},a.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new ma(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new ma(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},a})(),La=(function(){function a(n){n&&(this._$eventProcessor=n)}return a.prototype.on=function(n,r,o,l){this._$handlers||(this._$handlers={});var c=this._$handlers;if(typeof r=="function"&&(l=o,o=r,r=null),!o||!n)return this;var f=this._$eventProcessor;r!=null&&f&&f.normalizeQuery&&(r=f.normalizeQuery(r)),c[n]||(c[n]=[]);for(var p=0;p<c[n].length;p++)if(c[n][p].h===o)return this;var g={h:o,query:r,ctx:l||this,callAtLast:o.zrEventfulCallAtLast},v=c[n].length-1,x=c[n][v];return x&&x.callAtLast?c[n].splice(v,0,g):c[n].push(g),this},a.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},a.prototype.off=function(n,r){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(r){if(o[n]){for(var l=[],c=0,f=o[n].length;c<f;c++)o[n][c].h!==r&&l.push(o[n][c]);o[n]=l}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},a.prototype.trigger=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[n],c=this._$eventProcessor;if(l)for(var f=r.length,p=l.length,g=0;g<p;g++){var v=l[g];if(!(c&&c.filter&&v.query!=null&&!c.filter(n,v.query)))switch(f){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,r[0]);break;case 2:v.h.call(v.ctx,r[0],r[1]);break;default:v.h.apply(v.ctx,r);break}}return c&&c.afterTrigger&&c.afterTrigger(n),this},a.prototype.triggerWithContext=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[n],c=this._$eventProcessor;if(l)for(var f=r.length,p=r[f-1],g=l.length,v=0;v<g;v++){var x=l[v];if(!(c&&c.filter&&x.query!=null&&!c.filter(n,x.query)))switch(f){case 0:x.h.call(p);break;case 1:x.h.call(p,r[0]);break;case 2:x.h.call(p,r[0],r[1]);break;default:x.h.apply(p,r.slice(1,f-1));break}}return c&&c.afterTrigger&&c.afterTrigger(n),this},a})(),lP=Math.log(2);function ol(a,n,r,o,l,c){var f=o+"-"+l,p=a.length;if(c.hasOwnProperty(f))return c[f];if(n===1){var g=Math.round(Math.log((1<<p)-1&~l)/lP);return a[r][g]}for(var v=o|1<<r,x=r+1;o&1<<x;)x++;for(var O=0,w=0,S=0;w<p;w++){var k=1<<w;k&l||(O+=(S%2?-1:1)*a[r][w]*ol(a,n-1,x,v,l|k,c),S++)}return c[f]=O,O}function zp(a,n){var r=[[a[0],a[1],1,0,0,0,-n[0]*a[0],-n[0]*a[1]],[0,0,0,a[0],a[1],1,-n[1]*a[0],-n[1]*a[1]],[a[2],a[3],1,0,0,0,-n[2]*a[2],-n[2]*a[3]],[0,0,0,a[2],a[3],1,-n[3]*a[2],-n[3]*a[3]],[a[4],a[5],1,0,0,0,-n[4]*a[4],-n[4]*a[5]],[0,0,0,a[4],a[5],1,-n[5]*a[4],-n[5]*a[5]],[a[6],a[7],1,0,0,0,-n[6]*a[6],-n[6]*a[7]],[0,0,0,a[6],a[7],1,-n[7]*a[6],-n[7]*a[7]]],o={},l=ol(r,8,0,0,0,o);if(l!==0){for(var c=[],f=0;f<8;f++)for(var p=0;p<8;p++)c[p]==null&&(c[p]=0),c[p]+=((f+p)%2?-1:1)*ol(r,7,f===0?1:0,1<<f,1<<p,o)/l*n[f];return function(g,v,x){var O=v*c[6]+x*c[7]+1;g[0]=(v*c[0]+x*c[1]+c[2])/O,g[1]=(v*c[3]+x*c[4]+c[5])/O}}}var _u="___zrEVENTSAVED",Wv=[];function uP(a,n,r,o,l){return Uv(Wv,n,o,l,!0)&&Uv(a,r,Wv[0],Wv[1])}function cP(a,n){a&&r(a),n&&r(n);function r(o){var l=o[_u];l&&(l.clearMarkers&&l.clearMarkers(),delete o[_u])}}function Uv(a,n,r,o,l){if(n.getBoundingClientRect&&m.domSupported&&!fO(n)){var c=n[_u]||(n[_u]={}),f=dP(n,c),p=fP(f,c,l);if(p)return p(a,r,o),!0}return!1}function dP(a,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var o=["left","right"],l=["top","bottom"],c=0;c<4;c++){var f=document.createElement("div"),p=f.style,g=c%2,v=(c>>1)%2;p.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[g]+":0",l[v]+":0",o[1-g]+":auto",l[1-v]+":auto",""].join("!important;"),a.appendChild(f),r.push(f)}return n.clearMarkers=function(){Z(r,function(x){x.parentNode&&x.parentNode.removeChild(x)})},r}function fP(a,n,r){for(var o=r?"invTrans":"trans",l=n[o],c=n.srcCoords,f=[],p=[],g=!0,v=0;v<4;v++){var x=a[v].getBoundingClientRect(),O=2*v,w=x.left,S=x.top;f.push(w,S),g=g&&c&&w===c[O]&&S===c[O+1],p.push(a[v].offsetLeft,a[v].offsetTop)}return g&&l?l:(n.srcCoords=f,n[o]=r?zp(p,f):zp(f,p))}function fO(a){return a.nodeName.toUpperCase()==="CANVAS"}var hP=/([&<>"'])/g,pP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ai(a){return a==null?"":(a+"").replace(hP,function(n,r){return pP[r]})}var qv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bp=[],Zv=m.browser.firefox&&+m.browser.version.split(".")[0]<39;function Hv(a,n,r,o){return r=r||{},o?Xv(a,n,r):Zv&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):Xv(a,n,r),r}function Xv(a,n,r){if(m.domSupported&&a.getBoundingClientRect){var o=n.clientX,l=n.clientY;if(fO(a)){var c=a.getBoundingClientRect();r.zrX=o-c.left,r.zrY=l-c.top;return}else if(Uv(Bp,a,o,l)){r.zrX=Bp[0],r.zrY=Bp[1];return}}r.zrX=r.zrY=0}function Yv(a){return a||window.event}function Na(a,n,r){if(n=Yv(n),n.zrX!=null)return n;var o=n.type,l=o&&o.indexOf("touch")>=0;if(l){var f=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];f&&Hv(a,f,n,r)}else{Hv(a,n,n,r);var c=Qp(n);n.zrDelta=c?c/120:-(n.detail||0)/3}var p=n.button;return n.which==null&&p!==void 0&&qv.test(n.type)&&(n.which=p&1?1:p&2?3:p&4?2:0),n}function Qp(a){var n=a.wheelDelta;if(n)return n;var r=a.deltaX,o=a.deltaY;if(r==null||o==null)return n;var l=Math.abs(o!==0?o:r),c=o>0?-1:o<0?1:r>0?-1:1;return 3*l*c}function jp(a,n,r,o){a.addEventListener(n,r,o)}function mP(a,n,r,o){a.removeEventListener(n,r,o)}var bs=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function hO(a){return a.which===2||a.which===3}var pO=(function(){function a(){this._track=[]}return a.prototype.recognize=function(n,r,o){return this._doTrack(n,r,o),this._recognize(n)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(n,r,o){var l=n.touches;if(l){for(var c={points:[],touches:[],target:r,event:n},f=0,p=l.length;f<p;f++){var g=l[f],v=Hv(o,g,{});c.points.push([v.zrX,v.zrY]),c.touches.push(g)}this._track.push(c)}},a.prototype._recognize=function(n){for(var r in Jv)if(Jv.hasOwnProperty(r)){var o=Jv[r](this._track,n);if(o)return o}},a})();function Ou(a){var n=a[1][0]-a[0][0],r=a[1][1]-a[0][1];return Math.sqrt(n*n+r*r)}function Kv(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var Jv={pinch:function(a,n){var r=a.length;if(r){var o=(a[r-1]||{}).points,l=(a[r-2]||{}).points||o;if(l&&l.length>1&&o&&o.length>1){var c=Ou(o)/Ou(l);!isFinite(c)&&(c=1),n.pinchScale=c;var f=Kv(o);return n.pinchX=f[0],n.pinchY=f[1],{type:"pinch",target:a[0].target,event:n}}}}};function Ir(){return[1,0,0,1,0,0]}function sl(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function ws(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a}function ho(a,n,r){var o=n[0]*r[0]+n[2]*r[1],l=n[1]*r[0]+n[3]*r[1],c=n[0]*r[2]+n[2]*r[3],f=n[1]*r[2]+n[3]*r[3],p=n[0]*r[4]+n[2]*r[5]+n[4],g=n[1]*r[4]+n[3]*r[5]+n[5];return a[0]=o,a[1]=l,a[2]=c,a[3]=f,a[4]=p,a[5]=g,a}function $a(a,n,r){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4]+r[0],a[5]=n[5]+r[1],a}function Ss(a,n,r,o){o===void 0&&(o=[0,0]);var l=n[0],c=n[2],f=n[4],p=n[1],g=n[3],v=n[5],x=Math.sin(r),O=Math.cos(r);return a[0]=l*O+p*x,a[1]=-l*x+p*O,a[2]=c*O+g*x,a[3]=-c*x+O*g,a[4]=O*(f-o[0])+x*(v-o[1])+o[0],a[5]=O*(v-o[1])-x*(f-o[0])+o[1],a}function ff(a,n,r){var o=r[0],l=r[1];return a[0]=n[0]*o,a[1]=n[1]*l,a[2]=n[2]*o,a[3]=n[3]*l,a[4]=n[4]*o,a[5]=n[5]*l,a}function za(a,n){var r=n[0],o=n[2],l=n[4],c=n[1],f=n[3],p=n[5],g=r*f-c*o;return g?(g=1/g,a[0]=f*g,a[1]=-c*g,a[2]=-o*g,a[3]=r*g,a[4]=(o*p-f*l)*g,a[5]=(c*l-r*p)*g,a):null}function mO(a){var n=Ir();return ws(n,a),n}var hf=Object.freeze({__proto__:null,create:Ir,identity:sl,copy:ws,mul:ho,translate:$a,rotate:Ss,scale:ff,invert:za,clone:mO}),bt=(function(){function a(n,r){this.x=n||0,this.y=r||0}return a.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(n,r){return this.x=n,this.y=r,this},a.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},a.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},a.prototype.scale=function(n){this.x*=n,this.y*=n},a.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},a.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},a.prototype.dot=function(n){return this.x*n.x+this.y*n.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},a.prototype.distance=function(n){var r=this.x-n.x,o=this.y-n.y;return Math.sqrt(r*r+o*o)},a.prototype.distanceSquare=function(n){var r=this.x-n.x,o=this.y-n.y;return r*r+o*o},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(n){if(n){var r=this.x,o=this.y;return this.x=n[0]*r+n[2]*o+n[4],this.y=n[1]*r+n[3]*o+n[5],this}},a.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},a.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},a.set=function(n,r,o){n.x=r,n.y=o},a.copy=function(n,r){n.x=r.x,n.y=r.y},a.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},a.lenSquare=function(n){return n.x*n.x+n.y*n.y},a.dot=function(n,r){return n.x*r.x+n.y*r.y},a.add=function(n,r,o){n.x=r.x+o.x,n.y=r.y+o.y},a.sub=function(n,r,o){n.x=r.x-o.x,n.y=r.y-o.y},a.scale=function(n,r,o){n.x=r.x*o,n.y=r.y*o},a.scaleAndAdd=function(n,r,o,l){n.x=r.x+o.x*l,n.y=r.y+o.y*l},a.lerp=function(n,r,o,l){var c=1-l;n.x=c*r.x+l*o.x,n.y=c*r.y+l*o.y},a})(),$o=Math.min,bu=Math.max,nt=Math.abs,ct=["x","y"],Vt=["width","height"],Qt=new bt,hn=new bt,Mn=new bt,jn=new bt,Pn=CV(),Xr=Pn.minTv,Ba=Pn.maxTv,Ji=[0,0],wt=(function(){function a(n,r,o,l){a.set(this,n,r,o,l)}return a.set=function(n,r,o,l,c){return l<0&&(r=r+l,l=-l),c<0&&(o=o+c,c=-c),n.x=r,n.y=o,n.width=l,n.height=c,n},a.prototype.union=function(n){var r=$o(n.x,this.x),o=$o(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=bu(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=bu(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=r,this.y=o},a.prototype.applyTransform=function(n){a.applyTransform(this,this,n)},a.prototype.calculateTransform=function(n){var r=this,o=n.width/r.width,l=n.height/r.height,c=Ir();return $a(c,c,[-r.x,-r.y]),ff(c,c,[o,l]),$a(c,c,[n.x,n.y]),c},a.prototype.intersect=function(n,r,o){return a.intersect(this,n,r,o)},a.intersect=function(n,r,o,l){o&&bt.set(o,0,0);var c=l&&l.outIntersectRect||null,f=l&&l.clamp;if(c&&(c.x=c.y=c.width=c.height=NaN),!n||!r)return!1;n instanceof a||(n=a.set(e0,n.x,n.y,n.width,n.height)),r instanceof a||(r=a.set(t0,r.x,r.y,r.width,r.height));var p=!!o;Pn.reset(l,p);var g=Pn.touchThreshold,v=n.x+g,x=n.x+n.width-g,O=n.y+g,w=n.y+n.height-g,S=r.x+g,k=r.x+r.width-g,P=r.y+g,E=r.y+r.height-g;if(v>x||O>w||S>k||P>E)return!1;var M=!(x<S||k<v||w<P||E<O);return(p||c)&&(Ji[0]=1/0,Ji[1]=0,gO(v,x,S,k,0,p,c,f),gO(O,w,P,E,1,p,c,f),p&&bt.copy(o,M?Pn.useDir?Pn.dirMinTv:Xr:Ba)),M},a.contain=function(n,r,o){return r>=n.x&&r<=n.x+n.width&&o>=n.y&&o<=n.y+n.height},a.prototype.contain=function(n,r){return a.contain(this,n,r)},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(n){a.copy(this,n)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return this.width===0||this.height===0},a.create=function(n){return new a(n.x,n.y,n.width,n.height)},a.copy=function(n,r){return n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height,n},a.applyTransform=function(n,r,o){if(!o){n!==r&&a.copy(n,r);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var l=o[0],c=o[3],f=o[4],p=o[5];n.x=r.x*l+f,n.y=r.y*c+p,n.width=r.width*l,n.height=r.height*c,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}Qt.x=Mn.x=r.x,Qt.y=jn.y=r.y,hn.x=jn.x=r.x+r.width,hn.y=Mn.y=r.y+r.height,Qt.transform(o),jn.transform(o),hn.transform(o),Mn.transform(o),n.x=$o(Qt.x,hn.x,Mn.x,jn.x),n.y=$o(Qt.y,hn.y,Mn.y,jn.y);var g=bu(Qt.x,hn.x,Mn.x,jn.x),v=bu(Qt.y,hn.y,Mn.y,jn.y);n.width=g-n.x,n.height=v-n.y},a})(),e0=new wt(0,0,0,0),t0=new wt(0,0,0,0);function gO(a,n,r,o,l,c,f,p){var g=nt(n-r),v=nt(o-a),x=$o(g,v),O=ct[l],w=ct[1-l],S=Vt[l];n<r||o<a?g<v?(c&&(Ba[O]=-g),p&&(f[O]=n,f[S]=0)):(c&&(Ba[O]=v),p&&(f[O]=a,f[S]=0)):(f&&(f[O]=bu(a,r),f[S]=$o(n,o)-f[O]),c&&(x<Ji[0]||Pn.useDir)&&(Ji[0]=$o(x,Ji[0]),(g<v||!Pn.bidirectional)&&(Xr[O]=g,Xr[w]=0,Pn.useDir&&Pn.calcDirMTV()),(g>=v||!Pn.bidirectional)&&(Xr[O]=-v,Xr[w]=0,Pn.useDir&&Pn.calcDirMTV())))}function CV(){var a=0,n=new bt,r=new bt,o={minTv:new bt,maxTv:new bt,useDir:!1,dirMinTv:new bt,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(c,f){o.touchThreshold=0,c&&c.touchThreshold!=null&&(o.touchThreshold=bu(0,c.touchThreshold)),o.negativeSize=!1,f&&(o.minTv.set(1/0,1/0),o.maxTv.set(0,0),o.useDir=!1,c&&c.direction!=null&&(o.useDir=!0,o.dirMinTv.copy(o.minTv),r.copy(o.minTv),a=c.direction,o.bidirectional=c.bidirectional==null||!!c.bidirectional,o.bidirectional||n.set(Math.cos(a),Math.sin(a))))},calcDirMTV:function(){var c=o.minTv,f=o.dirMinTv,p=c.y*c.y+c.x*c.x,g=Math.sin(a),v=Math.cos(a),x=g*c.y+v*c.x;if(l(x)){l(c.x)&&l(c.y)&&f.set(0,0);return}if(r.x=p*v/x,r.y=p*g/x,l(r.x)&&l(r.y)){f.set(0,0);return}(o.bidirectional||n.dot(r)>0)&&r.len()<f.len()&&f.copy(r)}};function l(c){return nt(c)<1e-10}return o}var kV="silent";function h_e(a,n,r){return{type:a,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:p_e}}function p_e(){bs(this.event)}var m_e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n})(La),n0=(function(){function a(n,r){this.x=n,this.y=r}return a})(),g_e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gP=new wt(0,0,0,0),AV=(function(a){u(n,a);function n(r,o,l,c,f){var p=a.call(this)||this;return p._hovered=new n0(0,0),p.storage=r,p.painter=o,p.painterRoot=c,p._pointerSize=f,l=l||new m_e,p.proxy=null,p.setHandlerProxy(l),p._draggingMgr=new sP(p),p}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Z(g_e,function(o){r.on&&r.on(o,this[o],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var o=r.zrX,l=r.zrY,c=EV(this,o,l),f=this._hovered,p=f.target;p&&!p.__zr&&(f=this.findHover(f.x,f.y),p=f.target);var g=this._hovered=c?new n0(o,l):this.findHover(o,l),v=g.target,x=this.proxy;x.setCursor&&x.setCursor(v?v.cursor:"default"),p&&v!==p&&this.dispatchToElement(f,"mouseout",r),this.dispatchToElement(g,"mousemove",r),v&&v!==p&&this.dispatchToElement(g,"mouseover",r)},n.prototype.mouseout=function(r){var o=r.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new n0(0,0)},n.prototype.dispatch=function(r,o){var l=this[r];l&&l.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var o=this.proxy;o.setCursor&&o.setCursor(r)},n.prototype.dispatchToElement=function(r,o,l){r=r||{};var c=r.target;if(!(c&&c.silent)){for(var f="on"+o,p=h_e(o,r,l);c&&(c[f]&&(p.cancelBubble=!!c[f].call(c,p)),c.trigger(o,p),c=c.__hostTarget?c.__hostTarget:c.parent,!p.cancelBubble););p.cancelBubble||(this.trigger(o,p),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(g){typeof g[f]=="function"&&g[f].call(g,p),g.trigger&&g.trigger(o,p)}))}},n.prototype.findHover=function(r,o,l){var c=this.storage.getDisplayList(),f=new n0(r,o);if(PV(c,f,r,o,l),this._pointerSize&&!f.target){for(var p=[],g=this._pointerSize,v=g/2,x=new wt(r-v,o-v,g,g),O=c.length-1;O>=0;O--){var w=c[O];w!==l&&!w.ignore&&!w.ignoreCoarsePointer&&(!w.parent||!w.parent.ignoreCoarsePointer)&&(gP.copy(w.getBoundingRect()),w.transform&&gP.applyTransform(w.transform),gP.intersect(x)&&p.push(w))}if(p.length)for(var S=4,k=Math.PI/12,P=Math.PI*2,E=0;E<v;E+=S)for(var M=0;M<P;M+=k){var R=r+E*Math.cos(M),N=o+E*Math.sin(M);if(PV(p,f,R,N,l),f.target)return f}}return f},n.prototype.processGesture=function(r,o){this._gestureMgr||(this._gestureMgr=new pO);var l=this._gestureMgr;o==="start"&&l.clear();var c=l.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(o==="end"&&l.clear(),c){var f=c.type;r.gestureEvent=f;var p=new n0;p.target=c.target,this.dispatchToElement(p,f,c.event)}},n})(La);Z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){AV.prototype[a]=function(n){var r=n.zrX,o=n.zrY,l=EV(this,r,o),c,f;if((a!=="mouseup"||!l)&&(c=this.findHover(r,o),f=c.target),a==="mousedown")this._downEl=f,this._downPoint=[n.zrX,n.zrY],this._upEl=f;else if(a==="mouseup")this._upEl=f;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||_s(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,a,n)}});function v_e(a,n,r){if(a[a.rectHover?"rectContain":"contain"](n,r)){for(var o=a,l=void 0,c=!1;o;){if(o.ignoreClip&&(c=!0),!c){var f=o.getClipPath();if(f&&!f.contain(n,r))return!1}o.silent&&(l=!0);var p=o.__hostTarget;o=p?o.ignoreHostSilent?null:p:o.parent}return l?kV:!0}return!1}function PV(a,n,r,o,l){for(var c=a.length-1;c>=0;c--){var f=a[c],p=void 0;if(f!==l&&!f.ignore&&(p=v_e(f,r,o))&&(!n.topTarget&&(n.topTarget=f),p!==kV)){n.target=f;break}}}function EV(a,n,r){var o=a.painter;return n<0||n>o.getWidth()||r<0||r>o.getHeight()}var MV=32,r0=7;function y_e(a){for(var n=0;a>=MV;)n|=a&1,a>>=1;return a+n}function DV(a,n,r,o){var l=n+1;if(l===r)return 1;if(o(a[l++],a[n])<0){for(;l<r&&o(a[l],a[l-1])<0;)l++;x_e(a,n,l)}else for(;l<r&&o(a[l],a[l-1])>=0;)l++;return l-n}function x_e(a,n,r){for(r--;n<r;){var o=a[n];a[n++]=a[r],a[r--]=o}}function IV(a,n,r,o,l){for(o===n&&o++;o<r;o++){for(var c=a[o],f=n,p=o,g;f<p;)g=f+p>>>1,l(c,a[g])<0?p=g:f=g+1;var v=o-f;switch(v){case 3:a[f+3]=a[f+2];case 2:a[f+2]=a[f+1];case 1:a[f+1]=a[f];break;default:for(;v>0;)a[f+v]=a[f+v-1],v--}a[f]=c}}function vP(a,n,r,o,l,c){var f=0,p=0,g=1;if(c(a,n[r+l])>0){for(p=o-l;g<p&&c(a,n[r+l+g])>0;)f=g,g=(g<<1)+1,g<=0&&(g=p);g>p&&(g=p),f+=l,g+=l}else{for(p=l+1;g<p&&c(a,n[r+l-g])<=0;)f=g,g=(g<<1)+1,g<=0&&(g=p);g>p&&(g=p);var v=f;f=l-g,g=l-v}for(f++;f<g;){var x=f+(g-f>>>1);c(a,n[r+x])>0?f=x+1:g=x}return g}function yP(a,n,r,o,l,c){var f=0,p=0,g=1;if(c(a,n[r+l])<0){for(p=l+1;g<p&&c(a,n[r+l-g])<0;)f=g,g=(g<<1)+1,g<=0&&(g=p);g>p&&(g=p);var v=f;f=l-g,g=l-v}else{for(p=o-l;g<p&&c(a,n[r+l+g])>=0;)f=g,g=(g<<1)+1,g<=0&&(g=p);g>p&&(g=p),f+=l,g+=l}for(f++;f<g;){var x=f+(g-f>>>1);c(a,n[r+x])<0?g=x:f=x+1}return g}function __e(a,n){var r=r0,o,l,c=0,f=[];o=[],l=[];function p(S,k){o[c]=S,l[c]=k,c+=1}function g(){for(;c>1;){var S=c-2;if(S>=1&&l[S-1]<=l[S]+l[S+1]||S>=2&&l[S-2]<=l[S]+l[S-1])l[S-1]<l[S+1]&&S--;else if(l[S]>l[S+1])break;x(S)}}function v(){for(;c>1;){var S=c-2;S>0&&l[S-1]<l[S+1]&&S--,x(S)}}function x(S){var k=o[S],P=l[S],E=o[S+1],M=l[S+1];l[S]=P+M,S===c-3&&(o[S+1]=o[S+2],l[S+1]=l[S+2]),c--;var R=yP(a[E],a,k,P,0,n);k+=R,P-=R,P!==0&&(M=vP(a[k+P-1],a,E,M,M-1,n),M!==0&&(P<=M?O(k,P,E,M):w(k,P,E,M)))}function O(S,k,P,E){var M=0;for(M=0;M<k;M++)f[M]=a[S+M];var R=0,N=P,j=S;if(a[j++]=a[N++],--E===0){for(M=0;M<k;M++)a[j+M]=f[R+M];return}if(k===1){for(M=0;M<E;M++)a[j+M]=a[N+M];a[j+E]=f[R];return}for(var W=r,U,X,J;;){U=0,X=0,J=!1;do if(n(a[N],f[R])<0){if(a[j++]=a[N++],X++,U=0,--E===0){J=!0;break}}else if(a[j++]=f[R++],U++,X=0,--k===1){J=!0;break}while((U|X)<W);if(J)break;do{if(U=yP(a[N],f,R,k,0,n),U!==0){for(M=0;M<U;M++)a[j+M]=f[R+M];if(j+=U,R+=U,k-=U,k<=1){J=!0;break}}if(a[j++]=a[N++],--E===0){J=!0;break}if(X=vP(f[R],a,N,E,0,n),X!==0){for(M=0;M<X;M++)a[j+M]=a[N+M];if(j+=X,N+=X,E-=X,E===0){J=!0;break}}if(a[j++]=f[R++],--k===1){J=!0;break}W--}while(U>=r0||X>=r0);if(J)break;W<0&&(W=0),W+=2}if(r=W,r<1&&(r=1),k===1){for(M=0;M<E;M++)a[j+M]=a[N+M];a[j+E]=f[R]}else{if(k===0)throw new Error;for(M=0;M<k;M++)a[j+M]=f[R+M]}}function w(S,k,P,E){var M=0;for(M=0;M<E;M++)f[M]=a[P+M];var R=S+k-1,N=E-1,j=P+E-1,W=0,U=0;if(a[j--]=a[R--],--k===0){for(W=j-(E-1),M=0;M<E;M++)a[W+M]=f[M];return}if(E===1){for(j-=k,R-=k,U=j+1,W=R+1,M=k-1;M>=0;M--)a[U+M]=a[W+M];a[j]=f[N];return}for(var X=r;;){var J=0,re=0,ie=!1;do if(n(f[N],a[R])<0){if(a[j--]=a[R--],J++,re=0,--k===0){ie=!0;break}}else if(a[j--]=f[N--],re++,J=0,--E===1){ie=!0;break}while((J|re)<X);if(ie)break;do{if(J=k-yP(f[N],a,S,k,k-1,n),J!==0){for(j-=J,R-=J,k-=J,U=j+1,W=R+1,M=J-1;M>=0;M--)a[U+M]=a[W+M];if(k===0){ie=!0;break}}if(a[j--]=f[N--],--E===1){ie=!0;break}if(re=E-vP(a[R],f,0,E,E-1,n),re!==0){for(j-=re,N-=re,E-=re,U=j+1,W=N+1,M=0;M<re;M++)a[U+M]=f[W+M];if(E<=1){ie=!0;break}}if(a[j--]=a[R--],--k===0){ie=!0;break}X--}while(J>=r0||re>=r0);if(ie)break;X<0&&(X=0),X+=2}if(r=X,r<1&&(r=1),E===1){for(j-=k,R-=k,U=j+1,W=R+1,M=k-1;M>=0;M--)a[U+M]=a[W+M];a[j]=f[N]}else{if(E===0)throw new Error;for(W=j-(E-1),M=0;M<E;M++)a[W+M]=f[M]}}return{mergeRuns:g,forceMergeRuns:v,pushRun:p}}function vO(a,n,r,o){r||(r=0),o||(o=a.length);var l=o-r;if(!(l<2)){var c=0;if(l<MV){c=DV(a,r,o,n),IV(a,r,o,r+c,n);return}var f=__e(a,n),p=y_e(l);do{if(c=DV(a,r,o,n),c<p){var g=l;g>p&&(g=p),IV(a,r,r+g,r+c,n),c=g}f.pushRun(r,c),f.mergeRuns(),l-=c,r+=c}while(l!==0);f.forceMergeRuns()}}var po=1,i0=2,Vp=4,RV=!1;function xP(){RV||(RV=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function LV(a,n){return a.zlevel===n.zlevel?a.z===n.z?a.z2-n.z2:a.z-n.z:a.zlevel-n.zlevel}var O_e=(function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=LV}return a.prototype.traverse=function(n,r){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,r)},a.prototype.getDisplayList=function(n,r){r=r||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(r),o},a.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,o=this._displayList,l=0,c=r.length;l<c;l++)this._updateAndAddDisplayable(r[l],null,n);o.length=this._displayListLen,vO(o,LV)},a.prototype._updateAndAddDisplayable=function(n,r,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var l=n.getClipPath(),c=r&&r.length,f=0,p=n.__clipPaths;if(!n.ignoreClip&&(c||l)){if(p||(p=n.__clipPaths=[]),c)for(var g=0;g<r.length;g++)p[f++]=r[g];for(var v=l,x=n;v;)v.parent=x,v.updateTransform(),p[f++]=v,x=v,v=v.getClipPath()}if(p&&(p.length=f),n.childrenRef){for(var O=n.childrenRef(),w=0;w<O.length;w++){var S=O[w];n.__dirty&&(S.__dirty|=po),this._updateAndAddDisplayable(S,p,o)}n.__dirty=0}else{var k=n;isNaN(k.z)&&(xP(),k.z=0),isNaN(k.z2)&&(xP(),k.z2=0),isNaN(k.zlevel)&&(xP(),k.zlevel=0),this._displayList[this._displayListLen++]=k}var P=n.getDecalElement&&n.getDecalElement();P&&this._updateAndAddDisplayable(P,p,o);var E=n.getTextGuideLine();E&&this._updateAndAddDisplayable(E,p,o);var M=n.getTextContent();M&&this._updateAndAddDisplayable(M,p,o)}},a.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},a.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,o=n.length;r<o;r++)this.delRoot(n[r]);return}var l=se(this._roots,n);l>=0&&this._roots.splice(l,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a})(),NV;NV=m.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};var _P=NV,a0={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var n,r=.1,o=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/o)))},elasticOut:function(a){var n,r=.1,o=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*a)*Math.sin((a-n)*(2*Math.PI)/o)+1)},elasticInOut:function(a){var n,r=.1,o=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),(a*=2)<1?-.5*(r*Math.pow(2,10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/o)):r*Math.pow(2,-10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/o)*.5+1)},backIn:function(a){var n=1.70158;return a*a*((n+1)*a-n)},backOut:function(a){var n=1.70158;return--a*a*((n+1)*a+n)+1},backInOut:function(a){var n=2.5949095;return(a*=2)<1?.5*(a*a*((n+1)*a-n)):.5*((a-=2)*a*((n+1)*a+n)+2)},bounceIn:function(a){return 1-a0.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?a0.bounceIn(a*2)*.5:a0.bounceOut(a*2-1)*.5+.5}},yO=Math.pow,Pc=Math.sqrt,xO=1e-8,$V=1e-4,zV=Pc(3),_O=1/3,ll=ci(),zo=ci(),Fp=ci();function Ec(a){return a>-xO&&a<xO}function BV(a){return a>xO||a<-xO}function di(a,n,r,o,l){var c=1-l;return c*c*(c*a+3*l*n)+l*l*(l*o+3*c*r)}function QV(a,n,r,o,l){var c=1-l;return 3*(((n-a)*c+2*(r-n)*l)*c+(o-r)*l*l)}function OO(a,n,r,o,l,c){var f=o+3*(n-r)-a,p=3*(r-n*2+a),g=3*(n-a),v=a-l,x=p*p-3*f*g,O=p*g-9*f*v,w=g*g-3*p*v,S=0;if(Ec(x)&&Ec(O))if(Ec(p))c[0]=0;else{var k=-g/p;k>=0&&k<=1&&(c[S++]=k)}else{var P=O*O-4*x*w;if(Ec(P)){var E=O/x,k=-p/f+E,M=-E/2;k>=0&&k<=1&&(c[S++]=k),M>=0&&M<=1&&(c[S++]=M)}else if(P>0){var R=Pc(P),N=x*p+1.5*f*(-O+R),j=x*p+1.5*f*(-O-R);N<0?N=-yO(-N,_O):N=yO(N,_O),j<0?j=-yO(-j,_O):j=yO(j,_O);var k=(-p-(N+j))/(3*f);k>=0&&k<=1&&(c[S++]=k)}else{var W=(2*x*p-3*f*O)/(2*Pc(x*x*x)),U=Math.acos(W)/3,X=Pc(x),J=Math.cos(U),k=(-p-2*X*J)/(3*f),M=(-p+X*(J+zV*Math.sin(U)))/(3*f),re=(-p+X*(J-zV*Math.sin(U)))/(3*f);k>=0&&k<=1&&(c[S++]=k),M>=0&&M<=1&&(c[S++]=M),re>=0&&re<=1&&(c[S++]=re)}}return S}function jV(a,n,r,o,l){var c=6*r-12*n+6*a,f=9*n+3*o-3*a-9*r,p=3*n-3*a,g=0;if(Ec(f)){if(BV(c)){var v=-p/c;v>=0&&v<=1&&(l[g++]=v)}}else{var x=c*c-4*f*p;if(Ec(x))l[0]=-c/(2*f);else if(x>0){var O=Pc(x),v=(-c+O)/(2*f),w=(-c-O)/(2*f);v>=0&&v<=1&&(l[g++]=v),w>=0&&w<=1&&(l[g++]=w)}}return g}function Mc(a,n,r,o,l,c){var f=(n-a)*l+a,p=(r-n)*l+n,g=(o-r)*l+r,v=(p-f)*l+f,x=(g-p)*l+p,O=(x-v)*l+v;c[0]=a,c[1]=f,c[2]=v,c[3]=O,c[4]=O,c[5]=x,c[6]=g,c[7]=o}function VV(a,n,r,o,l,c,f,p,g,v,x){var O,w=.005,S=1/0,k,P,E,M;ll[0]=g,ll[1]=v;for(var R=0;R<1;R+=.05)zo[0]=di(a,r,l,f,R),zo[1]=di(n,o,c,p,R),E=Ra(ll,zo),E<S&&(O=R,S=E);S=1/0;for(var N=0;N<32&&!(w<$V);N++)k=O-w,P=O+w,zo[0]=di(a,r,l,f,k),zo[1]=di(n,o,c,p,k),E=Ra(zo,ll),k>=0&&E<S?(O=k,S=E):(Fp[0]=di(a,r,l,f,P),Fp[1]=di(n,o,c,p,P),M=Ra(Fp,ll),P<=1&&M<S?(O=P,S=M):w*=.5);return x&&(x[0]=di(a,r,l,f,O),x[1]=di(n,o,c,p,O)),Pc(S)}function b_e(a,n,r,o,l,c,f,p,g){for(var v=a,x=n,O=0,w=1/g,S=1;S<=g;S++){var k=S*w,P=di(a,r,l,f,k),E=di(n,o,c,p,k),M=P-v,R=E-x;O+=Math.sqrt(M*M+R*R),v=P,x=E}return O}function Pi(a,n,r,o){var l=1-o;return l*(l*a+2*o*n)+o*o*r}function OP(a,n,r,o){return 2*((1-o)*(n-a)+o*(r-n))}function w_e(a,n,r,o,l){var c=a-2*n+r,f=2*(n-a),p=a-o,g=0;if(Ec(c)){if(BV(f)){var v=-p/f;v>=0&&v<=1&&(l[g++]=v)}}else{var x=f*f-4*c*p;if(Ec(x)){var v=-f/(2*c);v>=0&&v<=1&&(l[g++]=v)}else if(x>0){var O=Pc(x),v=(-f+O)/(2*c),w=(-f-O)/(2*c);v>=0&&v<=1&&(l[g++]=v),w>=0&&w<=1&&(l[g++]=w)}}return g}function FV(a,n,r){var o=a+r-2*n;return o===0?.5:(a-n)/o}function o0(a,n,r,o,l){var c=(n-a)*o+a,f=(r-n)*o+n,p=(f-c)*o+c;l[0]=a,l[1]=c,l[2]=p,l[3]=p,l[4]=f,l[5]=r}function GV(a,n,r,o,l,c,f,p,g){var v,x=.005,O=1/0;ll[0]=f,ll[1]=p;for(var w=0;w<1;w+=.05){zo[0]=Pi(a,r,l,w),zo[1]=Pi(n,o,c,w);var S=Ra(ll,zo);S<O&&(v=w,O=S)}O=1/0;for(var k=0;k<32&&!(x<$V);k++){var P=v-x,E=v+x;zo[0]=Pi(a,r,l,P),zo[1]=Pi(n,o,c,P);var S=Ra(zo,ll);if(P>=0&&S<O)v=P,O=S;else{Fp[0]=Pi(a,r,l,E),Fp[1]=Pi(n,o,c,E);var M=Ra(Fp,ll);E<=1&&M<O?(v=E,O=M):x*=.5}}return g&&(g[0]=Pi(a,r,l,v),g[1]=Pi(n,o,c,v)),Pc(O)}function S_e(a,n,r,o,l,c,f){for(var p=a,g=n,v=0,x=1/f,O=1;O<=f;O++){var w=O*x,S=Pi(a,r,l,w),k=Pi(n,o,c,w),P=S-p,E=k-g;v+=Math.sqrt(P*P+E*E),p=S,g=k}return v}var T_e=/cubic-bezier\(([0-9,\.e ]+)\)/;function bP(a){var n=a&&T_e.exec(a);if(n){var r=n[1].split(","),o=+An(r[0]),l=+An(r[1]),c=+An(r[2]),f=+An(r[3]);if(isNaN(o+l+c+f))return;var p=[];return function(g){return g<=0?0:g>=1?1:OO(0,o,c,1,g,p)&&di(0,l,f,1,p[0])}}}var C_e=(function(){function a(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||an,this.ondestroy=n.ondestroy||an,this.onrestart=n.onrestart||an,n.easing&&this.setEasing(n.easing)}return a.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var o=this._life,l=n-this._startTime-this._pausedTime,c=l/o;c<0&&(c=0),c=Math.min(c,1);var f=this.easingFunc,p=f?f(c):c;if(this.onframe(p),c===1)if(this.loop){var g=l%o;this._startTime=n-g,this._pausedTime=0,this.onrestart()}else return!0;return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(n){this.easing=n,this.easingFunc=Ge(n)?n:a0[n]||bP(n)},a})(),WV=(function(){function a(n){this.value=n}return a})(),k_e=(function(){function a(){this._len=0}return a.prototype.insert=function(n){var r=new WV(n);return this.insertEntry(r),r},a.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},a.prototype.remove=function(n){var r=n.prev,o=n.next;r?r.next=o:this.head=o,o?o.prev=r:this.tail=r,n.next=n.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a})(),Gp=(function(){function a(n){this._list=new k_e,this._maxSize=10,this._map={},this._maxSize=n}return a.prototype.put=function(n,r){var o=this._list,l=this._map,c=null;if(l[n]==null){var f=o.len(),p=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var g=o.head;o.remove(g),delete l[g.key],c=g.value,this._lastRemovedEntry=g}p?p.value=r:p=new WV(r),p.key=n,o.insertEntry(p),l[n]=p}return c},a.prototype.get=function(n){var r=this._map[n],o=this._list;if(r!=null)return r!==o.tail&&(o.remove(r),o.insertEntry(r)),r.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a})(),UV={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ts(a){return a=Math.round(a),a<0?0:a>255?255:a}function A_e(a){return a=Math.round(a),a<0?0:a>360?360:a}function s0(a){return a<0?0:a>1?1:a}function bO(a){var n=a;return n.length&&n.charAt(n.length-1)==="%"?Ts(parseFloat(n)/100*255):Ts(parseInt(n,10))}function wu(a){var n=a;return n.length&&n.charAt(n.length-1)==="%"?s0(parseFloat(n)/100):s0(parseFloat(n))}function wP(a,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?a+(n-a)*r*6:r*2<1?n:r*3<2?a+(n-a)*(2/3-r)*6:a}function Dc(a,n,r){return a+(n-a)*r}function Bo(a,n,r,o,l){return a[0]=n,a[1]=r,a[2]=o,a[3]=l,a}function SP(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a}var qV=new Gp(20),wO=null;function Wp(a,n){wO&&SP(wO,n),wO=qV.put(a,wO||n.slice())}function ea(a,n){if(a){n=n||[];var r=qV.get(a);if(r)return SP(n,r);a=a+"";var o=a.replace(/ /g,"").toLowerCase();if(o in UV)return SP(n,UV[o]),Wp(a,n),n;var l=o.length;if(o.charAt(0)==="#"){if(l===4||l===5){var c=parseInt(o.slice(1,4),16);if(!(c>=0&&c<=4095)){Bo(n,0,0,0,1);return}return Bo(n,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,l===5?parseInt(o.slice(4),16)/15:1),Wp(a,n),n}else if(l===7||l===9){var c=parseInt(o.slice(1,7),16);if(!(c>=0&&c<=16777215)){Bo(n,0,0,0,1);return}return Bo(n,(c&16711680)>>16,(c&65280)>>8,c&255,l===9?parseInt(o.slice(7),16)/255:1),Wp(a,n),n}return}var f=o.indexOf("("),p=o.indexOf(")");if(f!==-1&&p+1===l){var g=o.substr(0,f),v=o.substr(f+1,p-(f+1)).split(","),x=1;switch(g){case"rgba":if(v.length!==4)return v.length===3?Bo(n,+v[0],+v[1],+v[2],1):Bo(n,0,0,0,1);x=wu(v.pop());case"rgb":if(v.length>=3)return Bo(n,bO(v[0]),bO(v[1]),bO(v[2]),v.length===3?x:wu(v[3])),Wp(a,n),n;Bo(n,0,0,0,1);return;case"hsla":if(v.length!==4){Bo(n,0,0,0,1);return}return v[3]=wu(v[3]),TP(v,n),Wp(a,n),n;case"hsl":if(v.length!==3){Bo(n,0,0,0,1);return}return TP(v,n),Wp(a,n),n;default:return}}Bo(n,0,0,0,1)}}function TP(a,n){var r=(parseFloat(a[0])%360+360)%360/360,o=wu(a[1]),l=wu(a[2]),c=l<=.5?l*(o+1):l+o-l*o,f=l*2-c;return n=n||[],Bo(n,Ts(wP(f,c,r+1/3)*255),Ts(wP(f,c,r)*255),Ts(wP(f,c,r-1/3)*255),1),a.length===4&&(n[3]=a[3]),n}function P_e(a){if(a){var n=a[0]/255,r=a[1]/255,o=a[2]/255,l=Math.min(n,r,o),c=Math.max(n,r,o),f=c-l,p=(c+l)/2,g,v;if(f===0)g=0,v=0;else{p<.5?v=f/(c+l):v=f/(2-c-l);var x=((c-n)/6+f/2)/f,O=((c-r)/6+f/2)/f,w=((c-o)/6+f/2)/f;n===c?g=w-O:r===c?g=1/3+x-w:o===c&&(g=2/3+O-x),g<0&&(g+=1),g>1&&(g-=1)}var S=[g*360,v,p];return a[3]!=null&&S.push(a[3]),S}}function SO(a,n){var r=ea(a);if(r){for(var o=0;o<3;o++)n<0?r[o]=r[o]*(1-n)|0:r[o]=(255-r[o])*n+r[o]|0,r[o]>255?r[o]=255:r[o]<0&&(r[o]=0);return Qo(r,r.length===4?"rgba":"rgb")}}function E_e(a){var n=ea(a);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function l0(a,n,r){if(!(!(n&&n.length)||!(a>=0&&a<=1))){r=r||[];var o=a*(n.length-1),l=Math.floor(o),c=Math.ceil(o),f=n[l],p=n[c],g=o-l;return r[0]=Ts(Dc(f[0],p[0],g)),r[1]=Ts(Dc(f[1],p[1],g)),r[2]=Ts(Dc(f[2],p[2],g)),r[3]=s0(Dc(f[3],p[3],g)),r}}var M_e=l0;function CP(a,n,r){if(!(!(n&&n.length)||!(a>=0&&a<=1))){var o=a*(n.length-1),l=Math.floor(o),c=Math.ceil(o),f=ea(n[l]),p=ea(n[c]),g=o-l,v=Qo([Ts(Dc(f[0],p[0],g)),Ts(Dc(f[1],p[1],g)),Ts(Dc(f[2],p[2],g)),s0(Dc(f[3],p[3],g))],"rgba");return r?{color:v,leftIndex:l,rightIndex:c,value:o}:v}}var D_e=CP;function Su(a,n,r,o){var l=ea(a);if(a)return l=P_e(l),n!=null&&(l[0]=A_e(Ge(n)?n(l[0]):n)),r!=null&&(l[1]=wu(Ge(r)?r(l[1]):r)),o!=null&&(l[2]=wu(Ge(o)?o(l[2]):o)),Qo(TP(l),"rgba")}function u0(a,n){var r=ea(a);if(r&&n!=null)return r[3]=s0(n),Qo(r,"rgba")}function Qo(a,n){if(!(!a||!a.length)){var r=a[0]+","+a[1]+","+a[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+a[3]),n+"("+r+")"}}function c0(a,n){var r=ea(a);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}function I_e(){return Qo([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var ZV=new Gp(100);function TO(a){if(De(a)){var n=ZV.get(a);return n||(n=SO(a,-.1),ZV.put(a,n)),n}else if(Ve(a)){var r=ee({},a);return r.colorStops=ve(a.colorStops,function(o){return{offset:o.offset,color:SO(o.color,-.1)}}),r}return a}var R_e=Object.freeze({__proto__:null,parseCssInt:bO,parseCssFloat:wu,parse:ea,lift:SO,toHex:E_e,fastLerp:l0,fastMapToColor:M_e,lerp:CP,mapToColor:D_e,modifyHSL:Su,modifyAlpha:u0,stringify:Qo,lum:c0,random:I_e,liftColor:TO}),CO=Math.round;function d0(a){var n;if(!a||a==="transparent")a="none";else if(typeof a=="string"&&a.indexOf("rgba")>-1){var r=ea(a);r&&(a="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:a,opacity:n??1}}var HV=1e-4;function Ic(a){return a<HV&&a>-HV}function kO(a){return CO(a*1e3)/1e3}function kP(a){return CO(a*1e4)/1e4}function L_e(a){return"matrix("+kO(a[0])+","+kO(a[1])+","+kO(a[2])+","+kO(a[3])+","+kP(a[4])+","+kP(a[5])+")"}var N_e={left:"start",right:"end",center:"middle",middle:"middle"};function $_e(a,n,r){return r==="top"?a+=n/2:r==="bottom"&&(a-=n/2),a}function z_e(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}function B_e(a){var n=a.style,r=a.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function XV(a){return a&&!!a.image}function Q_e(a){return a&&!!a.svgElement}function AP(a){return XV(a)||Q_e(a)}function YV(a){return a.type==="linear"}function KV(a){return a.type==="radial"}function JV(a){return a&&(a.type==="linear"||a.type==="radial")}function AO(a){return"url(#"+a+")"}function e8(a){var n=a.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function t8(a){var n=a.x||0,r=a.y||0,o=(a.rotation||0)*ki,l=$e(a.scaleX,1),c=$e(a.scaleY,1),f=a.skewX||0,p=a.skewY||0,g=[];return(n||r)&&g.push("translate("+n+"px,"+r+"px)"),o&&g.push("rotate("+o+")"),(l!==1||c!==1)&&g.push("scale("+l+","+c+")"),(f||p)&&g.push("skew("+CO(f*ki)+"deg, "+CO(p*ki)+"deg)"),g.join(" ")}var j_e=(function(){return m.hasGlobalWindow&&Ge(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:typeof Buffer<"u"?function(a){return Buffer.from(a).toString("base64")}:function(a){return ue("Base64 isn't natively supported in the current environment."),null}})(),PP=Array.prototype.slice;function Tu(a,n,r){return(n-a)*r+a}function EP(a,n,r,o){for(var l=n.length,c=0;c<l;c++)a[c]=Tu(n[c],r[c],o);return a}function V_e(a,n,r,o){for(var l=n.length,c=l&&n[0].length,f=0;f<l;f++){a[f]||(a[f]=[]);for(var p=0;p<c;p++)a[f][p]=Tu(n[f][p],r[f][p],o)}return a}function PO(a,n,r,o){for(var l=n.length,c=0;c<l;c++)a[c]=n[c]+r[c]*o;return a}function n8(a,n,r,o){for(var l=n.length,c=l&&n[0].length,f=0;f<l;f++){a[f]||(a[f]=[]);for(var p=0;p<c;p++)a[f][p]=n[f][p]+r[f][p]*o}return a}function F_e(a,n){for(var r=a.length,o=n.length,l=r>o?n:a,c=Math.min(r,o),f=l[c-1]||{color:[0,0,0,0],offset:0},p=c;p<Math.max(r,o);p++)l.push({offset:f.offset,color:f.color.slice()})}function G_e(a,n,r){var o=a,l=n;if(!(!o.push||!l.push)){var c=o.length,f=l.length;if(c!==f){var p=c>f;if(p)o.length=f;else for(var g=c;g<f;g++)o.push(r===1?l[g]:PP.call(l[g]))}for(var v=o[0]&&o[0].length,g=0;g<o.length;g++)if(r===1)isNaN(o[g])&&(o[g]=l[g]);else for(var x=0;x<v;x++)isNaN(o[g][x])&&(o[g][x]=l[g][x])}}function f0(a){if(Le(a)){var n=a.length;if(Le(a[0])){for(var r=[],o=0;o<n;o++)r.push(PP.call(a[o]));return r}return PP.call(a)}return a}function EO(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=a[3]==null?1:a[3],"rgba("+a.join(",")+")"}function W_e(a){return Le(a&&a[0])?2:1}var MO=0,DO=1,r8=2,h0=3,MP=4,DP=5,i8=6;function a8(a){return a===MP||a===DP}function IO(a){return a===DO||a===r8}var p0=[0,0,0,0],U_e=(function(){function a(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(n,r,o){this._needsSort=!0;var l=this.keyframes,c=l.length,f=!1,p=i8,g=r;if(Le(r)){var v=W_e(r);p=v,(v===1&&!dt(r[0])||v===2&&!dt(r[0][0]))&&(f=!0)}else if(dt(r)&&!qe(r))p=MO;else if(De(r))if(!isNaN(+r))p=MO;else{var x=ea(r);x&&(g=x,p=h0)}else if(Ve(r)){var O=ee({},g);O.colorStops=ve(r.colorStops,function(S){return{offset:S.offset,color:ea(S.color)}}),YV(r)?p=MP:KV(r)&&(p=DP),g=O}c===0?this.valType=p:(p!==this.valType||p===i8)&&(f=!0),this.discrete=this.discrete||f;var w={time:n,value:g,rawValue:r,percent:0};return o&&(w.easing=o,w.easingFunc=Ge(o)?o:a0[o]||bP(o)),l.push(w),w},a.prototype.prepare=function(n,r){var o=this.keyframes;this._needsSort&&o.sort(function(P,E){return P.time-E.time});for(var l=this.valType,c=o.length,f=o[c-1],p=this.discrete,g=IO(l),v=a8(l),x=0;x<c;x++){var O=o[x],w=O.value,S=f.value;O.percent=O.time/n,p||(g&&x!==c-1?G_e(w,S,l):v&&F_e(w.colorStops,S.colorStops))}if(!p&&l!==DP&&r&&this.needsAnimate()&&r.needsAnimate()&&l===r.valType&&!r._finished){this._additiveTrack=r;for(var k=o[0].value,x=0;x<c;x++)l===MO?o[x].additiveValue=o[x].value-k:l===h0?o[x].additiveValue=PO([],o[x].value,k,-1):IO(l)&&(o[x].additiveValue=l===DO?PO([],o[x].value,k,-1):n8([],o[x].value,k,-1))}},a.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,l=o?"additiveValue":"value",c=this.valType,f=this.keyframes,p=f.length,g=this.propName,v=c===h0,x,O=this._lastFr,w=Math.min,S,k;if(p===1)S=k=f[0];else{if(r<0)x=0;else if(r<this._lastFrP){var P=w(O+1,p-1);for(x=P;x>=0&&!(f[x].percent<=r);x--);x=w(x,p-2)}else{for(x=O;x<p&&!(f[x].percent>r);x++);x=w(x-1,p-2)}k=f[x+1],S=f[x]}if(S&&k){this._lastFr=x,this._lastFrP=r;var E=k.percent-S.percent,M=E===0?1:w((r-S.percent)/E,1);k.easingFunc&&(M=k.easingFunc(M));var R=o?this._additiveValue:v?p0:n[g];if((IO(c)||v)&&!R&&(R=this._additiveValue=[]),this.discrete)n[g]=M<1?S.rawValue:k.rawValue;else if(IO(c))c===DO?EP(R,S[l],k[l],M):V_e(R,S[l],k[l],M);else if(a8(c)){var N=S[l],j=k[l],W=c===MP;n[g]={type:W?"linear":"radial",x:Tu(N.x,j.x,M),y:Tu(N.y,j.y,M),colorStops:ve(N.colorStops,function(X,J){var re=j.colorStops[J];return{offset:Tu(X.offset,re.offset,M),color:EO(EP([],X.color,re.color,M))}}),global:j.global},W?(n[g].x2=Tu(N.x2,j.x2,M),n[g].y2=Tu(N.y2,j.y2,M)):n[g].r=Tu(N.r,j.r,M)}else if(v)EP(R,S[l],k[l],M),o||(n[g]=EO(R));else{var U=Tu(S[l],k[l],M);o?this._additiveValue=U:n[g]=U}o&&this._addToTarget(n)}}},a.prototype._addToTarget=function(n){var r=this.valType,o=this.propName,l=this._additiveValue;r===MO?n[o]=n[o]+l:r===h0?(ea(n[o],p0),PO(p0,p0,l,1),n[o]=EO(p0)):r===DO?PO(n[o],n[o],l,1):r===r8&&n8(n[o],n[o],l,1)},a})(),IP=(function(){function a(n,r,o,l){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&l){ue("Can' use additive animation on looped animation.");return}this._additiveAnimators=l,this._allowDiscrete=o}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(n){this._target=n},a.prototype.when=function(n,r,o){return this.whenWithKeys(n,r,He(r),o)},a.prototype.whenWithKeys=function(n,r,o,l){for(var c=this._tracks,f=0;f<o.length;f++){var p=o[f],g=c[p];if(!g){g=c[p]=new U_e(p);var v=void 0,x=this._getAdditiveTrack(p);if(x){var O=x.keyframes,w=O[O.length-1];v=w&&w.value,x.valType===h0&&v&&(v=EO(v))}else v=this._target[p];if(v==null)continue;n>0&&g.addKeyframe(0,f0(v),l),this._trackKeys.push(p)}g.addKeyframe(n,f0(r[p]),l)}return this._maxTime=Math.max(this._maxTime,n),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,o=0;o<r;o++)n[o].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var o=0;o<r.length;o++)r[o].call(this)},a.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,o=0;o<r.length;o++)n[r[o]].setFinished()},a.prototype._getAdditiveTrack=function(n){var r,o=this._additiveAnimators;if(o)for(var l=0;l<o.length;l++){var c=o[l].getTrack(n);c&&(r=c)}return r},a.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,o=[],l=this._maxTime||0,c=0;c<this._trackKeys.length;c++){var f=this._trackKeys[c],p=this._tracks[f],g=this._getAdditiveTrack(f),v=p.keyframes,x=v.length;if(p.prepare(l,g),p.needsAnimate())if(!this._allowDiscrete&&p.discrete){var O=v[x-1];O&&(r._target[p.propName]=O.rawValue),p.setFinished()}else o.push(p)}if(o.length||this._force){var w=new C_e({life:l,loop:this._loop,delay:this._delay||0,onframe:function(S){r._started=2;var k=r._additiveAnimators;if(k){for(var P=!1,E=0;E<k.length;E++)if(k[E]._clip){P=!0;break}P||(r._additiveAnimators=null)}for(var E=0;E<o.length;E++)o[E].step(r._target,S);var M=r._onframeCbs;if(M)for(var E=0;E<M.length;E++)M[E](r._target,S)},ondestroy:function(){r._doneCallback()}});this._clip=w,this.animation&&this.animation.addClip(w),n&&w.setEasing(n)}else this._doneCallback();return this}},a.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},a.prototype.delay=function(n){return this._delay=n,this},a.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},a.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},a.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(n){return this._tracks[n]},a.prototype.getTracks=function(){var n=this;return ve(this._trackKeys,function(r){return n._tracks[r]})},a.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var o=this._tracks,l=this._trackKeys,c=0;c<n.length;c++){var f=o[n[c]];f&&!f.isFinished()&&(r?f.step(this._target,1):this._started===1&&f.step(this._target,0),f.setFinished())}for(var p=!0,c=0;c<l.length;c++)if(!o[l[c]].isFinished()){p=!1;break}return p&&this._abortedCallback(),p},a.prototype.saveTo=function(n,r,o){if(n){r=r||this._trackKeys;for(var l=0;l<r.length;l++){var c=r[l],f=this._tracks[c];if(!(!f||f.isFinished())){var p=f.keyframes,g=p[o?0:p.length-1];g&&(n[c]=f0(g.rawValue))}}}},a.prototype.__changeFinalValue=function(n,r){r=r||He(n);for(var o=0;o<r.length;o++){var l=r[o],c=this._tracks[l];if(c){var f=c.keyframes;if(f.length>1){var p=f.pop();c.addKeyframe(p.time,n[l]),c.prepare(this._maxTime,c.getAdditiveTrack())}}}},a})();function Up(){return new Date().getTime()}var q_e=(function(a){u(n,a);function n(r){var o=a.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,r=r||{},o.stage=r.stage||{},o}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var o=r.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(r){if(r.animation){var o=r.prev,l=r.next;o?o.next=l:this._head=l,l?l.prev=o:this._tail=o,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var o=r.getClip();o&&this.removeClip(o),r.animation=null},n.prototype.update=function(r){for(var o=Up()-this._pausedTime,l=o-this._time,c=this._head;c;){var f=c.next,p=c.step(o,l);p&&(c.ondestroy(),this.removeClip(c)),c=f}this._time=o,r||(this.trigger("frame",l),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function o(){r._running&&(_P(o),!r._paused&&r.update())}_P(o)},n.prototype.start=function(){this._running||(this._time=Up(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=Up(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=Up()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var o=r.next;r.prev=r.next=r.animation=null,r=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,o){o=o||{},this.start();var l=new IP(r,o.loop);return this.addAnimator(l),l},n})(La),Z_e=300,RP=m.domSupported,LP=(function(){var a=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=ve(a,function(l){var c=l.replace("mouse","pointer");return r.hasOwnProperty(c)?c:l});return{mouse:a,touch:n,pointer:o}})(),o8={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},s8=!1;function NP(a){var n=a.pointerType;return n==="pen"||n==="touch"}function H_e(a){a.touching=!0,a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}function $P(a){a&&(a.zrByTouch=!0)}function X_e(a,n){return Na(a.dom,new Y_e(a,n),!0)}function l8(a,n){for(var r=n,o=!1;r&&r.nodeType!==9&&!(o=r.domBelongToZr||r!==n&&r===a.painterRoot);)r=r.parentNode;return o}var Y_e=(function(){function a(n,r){this.stopPropagation=an,this.stopImmediatePropagation=an,this.preventDefault=an,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return a})(),Cs={mousedown:function(a){a=Na(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=Na(this.dom,a);var n=this.__mayPointerCapture;n&&(a.zrX!==n[0]||a.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=Na(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){a=Na(this.dom,a);var n=a.toElement||a.relatedTarget;l8(this,n)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){s8=!0,a=Na(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){s8||(a=Na(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=Na(this.dom,a),$P(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),Cs.mousemove.call(this,a),Cs.mousedown.call(this,a)},touchmove:function(a){a=Na(this.dom,a),$P(a),this.handler.processGesture(a,"change"),Cs.mousemove.call(this,a)},touchend:function(a){a=Na(this.dom,a),$P(a),this.handler.processGesture(a,"end"),Cs.mouseup.call(this,a),+new Date-+this.__lastTouchMoment<Z_e&&Cs.click.call(this,a)},pointerdown:function(a){Cs.mousedown.call(this,a)},pointermove:function(a){NP(a)||Cs.mousemove.call(this,a)},pointerup:function(a){Cs.mouseup.call(this,a)},pointerout:function(a){NP(a)||Cs.mouseout.call(this,a)}};Z(["click","dblclick","contextmenu"],function(a){Cs[a]=function(n){n=Na(this.dom,n),this.trigger(a,n)}});var zP={pointermove:function(a){NP(a)||zP.mousemove.call(this,a)},pointerup:function(a){zP.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),n&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function K_e(a,n){var r=n.domHandlers;m.pointerEventsSupported?Z(LP.pointer,function(o){RO(n,o,function(l){r[o].call(a,l)})}):(m.touchEventsSupported&&Z(LP.touch,function(o){RO(n,o,function(l){r[o].call(a,l),H_e(n)})}),Z(LP.mouse,function(o){RO(n,o,function(l){l=Yv(l),n.touching||r[o].call(a,l)})}))}function J_e(a,n){m.pointerEventsSupported?Z(o8.pointer,r):m.touchEventsSupported||Z(o8.mouse,r);function r(o){function l(c){c=Yv(c),l8(a,c.target)||(c=X_e(a,c),n.domHandlers[o].call(a,c))}RO(n,o,l,{capture:!0})}}function RO(a,n,r,o){a.mounted[n]=r,a.listenerOpts[n]=o,jp(a.domTarget,n,r,o)}function BP(a){var n=a.mounted;for(var r in n)n.hasOwnProperty(r)&&mP(a.domTarget,r,n[r],a.listenerOpts[r]);a.mounted={}}var u8=(function(){function a(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return a})(),eOe=(function(a){u(n,a);function n(r,o){var l=a.call(this)||this;return l.__pointerCapturing=!1,l.dom=r,l.painterRoot=o,l._localHandlerScope=new u8(r,Cs),RP&&(l._globalHandlerScope=new u8(document,zP)),K_e(l,l._localHandlerScope),l}return n.prototype.dispose=function(){BP(this._localHandlerScope),RP&&BP(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,RP&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var o=this._globalHandlerScope;r?J_e(this,o):BP(o)}},n})(La),c8=1;m.hasGlobalWindow&&(c8=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var LO=c8,QP=.4,jP="#333",VP="#ccc",tOe="#eee",d8=sl,f8=5e-5;function pf(a){return a>f8||a<-f8}var mf=[],qp=[],FP=Ir(),GP=Math.abs,Cu=(function(){function a(){}return a.prototype.getLocalTransform=function(n){return a.getLocalTransform(this,n)},a.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},a.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},a.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},a.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},a.prototype.needLocalTransform=function(){return pf(this.rotation)||pf(this.x)||pf(this.y)||pf(this.scaleX-1)||pf(this.scaleY-1)||pf(this.skewX)||pf(this.skewY)},a.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),o=this.transform;if(!(r||n)){o&&(d8(o),this.invTransform=null);return}o=o||Ir(),r?this.getLocalTransform(o):d8(o),n&&(r?ho(o,n,o):ws(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},a.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(mf);var o=mf[0]<0?-1:1,l=mf[1]<0?-1:1,c=((mf[0]-o)*r+o)/mf[0]||0,f=((mf[1]-l)*r+l)/mf[1]||0;n[0]*=c,n[1]*=c,n[2]*=f,n[3]*=f}this.invTransform=this.invTransform||Ir(),za(this.invTransform,n)},a.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},a.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],l=Math.atan2(n[1],n[0]),c=Math.PI/2+l-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(c),r=Math.sqrt(r),this.skewX=c,this.skewY=0,this.rotation=-l,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=o,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(n.invTransform=n.invTransform||Ir(),ho(qp,n.invTransform,r),r=qp);var o=this.originX,l=this.originY;(o||l)&&(FP[4]=o,FP[5]=l,ho(qp,r,FP),qp[4]-=o,qp[5]-=l,r=qp),this.setLocalTransform(r)}},a.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},a.prototype.transformCoordToLocal=function(n,r){var o=[n,r],l=this.invTransform;return l&&yr(o,o,l),o},a.prototype.transformCoordToGlobal=function(n,r){var o=[n,r],l=this.transform;return l&&yr(o,o,l),o},a.prototype.getLineScale=function(){var n=this.transform;return n&&GP(n[0]-1)>1e-10&&GP(n[3]-1)>1e-10?Math.sqrt(GP(n[0]*n[3]-n[2]*n[1])):1},a.prototype.copyTransform=function(n){NO(this,n)},a.getLocalTransform=function(n,r){r=r||[];var o=n.originX||0,l=n.originY||0,c=n.scaleX,f=n.scaleY,p=n.anchorX,g=n.anchorY,v=n.rotation||0,x=n.x,O=n.y,w=n.skewX?Math.tan(n.skewX):0,S=n.skewY?Math.tan(-n.skewY):0;if(o||l||p||g){var k=o+p,P=l+g;r[4]=-k*c-w*P*f,r[5]=-P*f-S*k*c}else r[4]=r[5]=0;return r[0]=c,r[3]=f,r[1]=S*c,r[2]=w*f,v&&Ss(r,r,v),r[4]+=o+x,r[5]+=l+O,r},a.initDefaultProps=(function(){var n=a.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0})(),a})(),ul=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function NO(a,n){for(var r=0;r<ul.length;r++){var o=ul[r];a[o]=n[o]}}function cl(a){$O||($O=new Gp(100)),a=a||T;var n=$O.get(a);return n||(n={font:a,strWidthCache:new Gp(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:$.measureText("国",a).width,asciiCharWidth:$.measureText("a",a).width},$O.put(a,n)),n}var $O;function nOe(a){if(!(WP>=h8)){a=a||T;for(var n=[],r=+new Date,o=0;o<=127;o++)n[o]=$.measureText(String.fromCharCode(o),a).width;var l=+new Date-r;return l>16?WP=h8:l>2&&WP++,n}}var WP=0,h8=5;function p8(a,n){return a.asciiWidthMapTried||(a.asciiWidthMap=nOe(a.font),a.asciiWidthMapTried=!0),0<=n&&n<=127?a.asciiWidthMap!=null?a.asciiWidthMap[n]:a.asciiCharWidth:a.stWideCharWidth}function dl(a,n){var r=a.strWidthCache,o=r.get(n);return o==null&&(o=$.measureText(n,a.font).width,r.put(n,o)),o}function m8(a,n,r,o){var l=dl(cl(n),a),c=m0(n),f=Zp(0,l,r),p=gf(0,c,o),g=new wt(f,p,l,c);return g}function zO(a,n,r,o){var l=((a||"")+"").split(`
`),c=l.length;if(c===1)return m8(l[0],n,r,o);for(var f=new wt(0,0,0,0),p=0;p<l.length;p++){var g=m8(l[p],n,r,o);p===0?f.copy(g):f.union(g)}return f}function Zp(a,n,r,o){return r==="right"?o?a+=n:a-=n:r==="center"&&(o?a+=n/2:a-=n/2),a}function gf(a,n,r,o){return r==="middle"?o?a+=n/2:a-=n/2:r==="bottom"&&(o?a+=n:a-=n),a}function m0(a){return cl(a).stWideCharWidth}function ks(a,n){return typeof a=="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*n:parseFloat(a):a}function BO(a,n,r){var o=n.position||"inside",l=n.distance!=null?n.distance:5,c=r.height,f=r.width,p=c/2,g=r.x,v=r.y,x="left",O="top";if(o instanceof Array)g+=ks(o[0],r.width),v+=ks(o[1],r.height),x=null,O=null;else switch(o){case"left":g-=l,v+=p,x="right",O="middle";break;case"right":g+=l+f,v+=p,O="middle";break;case"top":g+=f/2,v-=l,x="center",O="bottom";break;case"bottom":g+=f/2,v+=c+l,x="center";break;case"inside":g+=f/2,v+=p,x="center",O="middle";break;case"insideLeft":g+=l,v+=p,O="middle";break;case"insideRight":g+=f-l,v+=p,x="right",O="middle";break;case"insideTop":g+=f/2,v+=l,x="center";break;case"insideBottom":g+=f/2,v+=c-l,x="center",O="bottom";break;case"insideTopLeft":g+=l,v+=l;break;case"insideTopRight":g+=f-l,v+=l,x="right";break;case"insideBottomLeft":g+=l,v+=c-l,O="bottom";break;case"insideBottomRight":g+=f-l,v+=c-l,x="right",O="bottom";break}return a=a||{},a.x=g,a.y=v,a.align=x,a.verticalAlign=O,a}var UP="__zr_normal__",qP=ul.concat(["ignore"]),rOe=ze(ul,function(a,n){return a[n]=!0,a},{ignore:!1}),Hp={},iOe=new wt(0,0,0,0),QO=[],jO=(function(){function a(n){this.id=he(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return a.prototype._init=function(n){this.attr(n)},a.prototype.drift=function(n,r,o){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var l=this.transform;l||(l=this.transform=[1,0,0,1,0,0]),l[4]+=n,l[5]+=r,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,l=o.local,c=r.innerTransformable,f=void 0,p=void 0,g=!1;c.parent=l?this:null;var v=!1;c.copyTransform(r);var x=o.position!=null,O=o.autoOverflowArea,w=void 0;if((O||x)&&(w=iOe,o.layoutRect?w.copy(o.layoutRect):w.copy(this.getBoundingRect()),l||w.applyTransform(this.transform)),x){this.calculateTextPosition?this.calculateTextPosition(Hp,o,w):BO(Hp,o,w),c.x=Hp.x,c.y=Hp.y,f=Hp.align,p=Hp.verticalAlign;var S=o.origin;if(S&&o.rotation!=null){var k=void 0,P=void 0;S==="center"?(k=w.width*.5,P=w.height*.5):(k=ks(S[0],w.width),P=ks(S[1],w.height)),v=!0,c.originX=-c.x+k+(l?0:w.x),c.originY=-c.y+P+(l?0:w.y)}}o.rotation!=null&&(c.rotation=o.rotation);var E=o.offset;E&&(c.x+=E[0],c.y+=E[1],v||(c.originX=-E[0],c.originY=-E[1]));var M=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(O){var R=M.overflowRect=M.overflowRect||new wt(0,0,0,0);c.getLocalTransform(QO),za(QO,QO),wt.copy(R,w),R.applyTransform(QO)}else M.overflowRect=null;var N=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,j=void 0,W=void 0,U=void 0;N&&this.canBeInsideText()?(j=o.insideFill,W=o.insideStroke,(j==null||j==="auto")&&(j=this.getInsideTextFill()),(W==null||W==="auto")&&(W=this.getInsideTextStroke(j),U=!0)):(j=o.outsideFill,W=o.outsideStroke,(j==null||j==="auto")&&(j=this.getOutsideFill()),(W==null||W==="auto")&&(W=this.getOutsideStroke(j),U=!0)),j=j||"#000",(j!==M.fill||W!==M.stroke||U!==M.autoStroke||f!==M.align||p!==M.verticalAlign)&&(g=!0,M.fill=j,M.stroke=W,M.autoStroke=U,M.align=f,M.verticalAlign=p,r.setDefaultTextStyle(M)),r.__dirty|=po,g&&r.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(n){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?VP:jP},a.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),o=typeof r=="string"&&ea(r);o||(o=[255,255,255,1]);for(var l=o[3],c=this.__zr.isDarkMode(),f=0;f<3;f++)o[f]=o[f]*l+(c?0:255)*(1-l);return o[3]=1,Qo(o,"rgba")},a.prototype.traverse=function(n,r){},a.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},ee(this.extra,r)):this[n]=r},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(Ze(n))for(var o=n,l=He(o),c=0;c<l.length;c++){var f=l[c];this.attrKV(f,n[f])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,o=0;o<this.animators.length;o++){var l=this.animators[o],c=l.__fromStateTransition;if(!(l.getLoop()||c&&c!==UP)){var f=l.targetName,p=f?r[f]:r;l.saveTo(p)}}},a.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,qP)},a.prototype._savePrimaryToNormal=function(n,r,o){for(var l=0;l<o.length;l++){var c=o[l];n[c]!=null&&!(c in r)&&(r[c]=this[c])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(n){return this.states[n]},a.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},a.prototype.clearStates=function(n){this.useState(UP,!1,n)},a.prototype.useState=function(n,r,o,l){var c=n===UP,f=this.hasState();if(!(!f&&c)){var p=this.currentStates,g=this.stateTransition;if(!(se(p,n)>=0&&(r||p.length===1))){var v;if(this.stateProxy&&!c&&(v=this.stateProxy(n)),v||(v=this.states&&this.states[n]),!v&&!c){ue("State "+n+" not exists.");return}c||this.saveCurrentToNormalState(v);var x=!!(v&&v.hoverLayer||l);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,v,this._normalState,r,!o&&!this.__inHover&&g&&g.duration>0,g);var O=this._textContent,w=this._textGuide;return O&&O.useState(n,r,o,x),w&&w.useState(n,r,o,x),c?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~po),v}}},a.prototype.useStates=function(n,r,o){if(!n.length)this.clearStates();else{var l=[],c=this.currentStates,f=n.length,p=f===c.length;if(p){for(var g=0;g<f;g++)if(n[g]!==c[g]){p=!1;break}}if(p)return;for(var g=0;g<f;g++){var v=n[g],x=void 0;this.stateProxy&&(x=this.stateProxy(v,n)),x||(x=this.states[v]),x&&l.push(x)}var O=l[f-1],w=!!(O&&O.hoverLayer||o);w&&this._toggleHoverLayerFlag(!0);var S=this._mergeStates(l),k=this.stateTransition;this.saveCurrentToNormalState(S),this._applyStateObj(n.join(","),S,this._normalState,!1,!r&&!this.__inHover&&k&&k.duration>0,k);var P=this._textContent,E=this._textGuide;P&&P.useStates(n,r,w),E&&E.useStates(n,r,w),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!w&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~po)}},a.prototype.isSilent=function(){for(var n=this;n;){if(n.silent)return!0;var r=n.__hostTarget;n=r?n.ignoreHostSilent?null:r:n.parent}return!1},a.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},a.prototype.removeState=function(n){var r=se(this.currentStates,n);if(r>=0){var o=this.currentStates.slice();o.splice(r,1),this.useStates(o)}},a.prototype.replaceState=function(n,r,o){var l=this.currentStates.slice(),c=se(l,n),f=se(l,r)>=0;c>=0?f?l.splice(c,1):l[c]=r:o&&!f&&l.push(r),this.useStates(l)},a.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},a.prototype._mergeStates=function(n){for(var r={},o,l=0;l<n.length;l++){var c=n[l];ee(r,c),c.textConfig&&(o=o||{},ee(o,c.textConfig))}return o&&(r.textConfig=o),r},a.prototype._applyStateObj=function(n,r,o,l,c,f){var p=!(r&&l);r&&r.textConfig?(this.textConfig=ee({},l?this.textConfig:o.textConfig),ee(this.textConfig,r.textConfig)):p&&o.textConfig&&(this.textConfig=o.textConfig);for(var g={},v=!1,x=0;x<qP.length;x++){var O=qP[x],w=c&&rOe[O];r&&r[O]!=null?w?(v=!0,g[O]=r[O]):this[O]=r[O]:p&&o[O]!=null&&(w?(v=!0,g[O]=o[O]):this[O]=o[O])}if(!c)for(var x=0;x<this.animators.length;x++){var S=this.animators[x],k=S.targetName;S.getLoop()||S.__changeFinalValue(k?(r||o)[k]:r||o)}v&&this._transitionState(n,g,f)},a.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");if(n===this)throw new Error("Recursive component attachment.");var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this},a.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},a.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(n){var r=this._textContent;if(r!==n){if(r&&r!==n&&this.removeTextContent(),n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Cu,this._attachComponent(n),this._textContent=n,this.markRedraw()}},a.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),ee(this.textConfig,n),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=po;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,o=this._textGuide;r&&(r.__inHover=n),o&&(o.__inHover=n)},a.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var o=0;o<r.length;o++)n.animation.addAnimator(r[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},a.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var o=0;o<r.length;o++)n.animation.removeAnimator(r[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},a.prototype.animate=function(n,r,o){var l=n?this[n]:this;if(!l){ue('Property "'+n+'" is not existed in element '+this.id);return}var c=new IP(l,r,o);return n&&(c.targetName=n),this.addAnimator(c,n),c},a.prototype.addAnimator=function(n,r){var o=this.__zr,l=this;n.during(function(){l.updateDuringAnimation(r)}).done(function(){var c=l.animators,f=se(c,n);f>=0&&c.splice(f,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},a.prototype.updateDuringAnimation=function(n){this.markRedraw()},a.prototype.stopAnimation=function(n,r){for(var o=this.animators,l=o.length,c=[],f=0;f<l;f++){var p=o[f];!n||n===p.scope?p.stop(r):c.push(p)}return this.animators=c,this},a.prototype.animateTo=function(n,r,o){ZP(this,n,r,o)},a.prototype.animateFrom=function(n,r,o){ZP(this,n,r,o,!0)},a.prototype._transitionState=function(n,r,o,l){for(var c=ZP(this,r,o,l),f=0;f<c.length;f++)c[f].__fromStateTransition=n},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=(function(){var n=a.prototype;n.type="element",n.name="",n.ignore=n.silent=n.ignoreHostSilent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=po;var r={};function o(c,f,p){r[c+f+p]||(console.warn("DEPRECATED: '"+c+"' has been deprecated. use '"+f+"', '"+p+"' instead"),r[c+f+p]=!0)}function l(c,f,p,g){Object.defineProperty(n,c,{get:function(){if(o(c,p,g),!this[f]){var x=this[f]=[];v(this,x)}return this[f]},set:function(x){o(c,p,g),this[p]=x[0],this[g]=x[1],this[f]=x,v(this,x)}});function v(x,O){Object.defineProperty(O,0,{get:function(){return x[p]},set:function(w){x[p]=w}}),Object.defineProperty(O,1,{get:function(){return x[g]},set:function(w){x[g]=w}})}}Object.defineProperty&&(l("position","_legacyPos","x","y"),l("scale","_legacyScale","scaleX","scaleY"),l("origin","_legacyOrigin","originX","originY"))})(),a})();we(jO,La),we(jO,Cu);function ZP(a,n,r,o,l){r=r||{};var c=[];g8(a,"",a,n,r,o,c,l);var f=c.length,p=!1,g=r.done,v=r.aborted,x=function(){p=!0,f--,f<=0&&(p?g&&g():v&&v())},O=function(){f--,f<=0&&(p?g&&g():v&&v())};f||g&&g(),c.length>0&&r.during&&c[0].during(function(k,P){r.during(P)});for(var w=0;w<c.length;w++){var S=c[w];x&&S.done(x),O&&S.aborted(O),r.force&&S.duration(r.duration),S.start(r.easing)}return c}function HP(a,n,r){for(var o=0;o<r;o++)a[o]=n[o]}function aOe(a){return Le(a[0])}function oOe(a,n,r){if(Le(n[r]))if(Le(a[r])||(a[r]=[]),ut(n[r])){var o=n[r].length;a[r].length!==o&&(a[r]=new n[r].constructor(o),HP(a[r],n[r],o))}else{var l=n[r],c=a[r],f=l.length;if(aOe(l))for(var p=l[0].length,g=0;g<f;g++)c[g]?HP(c[g],l[g],p):c[g]=Array.prototype.slice.call(l[g]);else HP(c,l,f);c.length=l.length}else a[r]=n[r]}function sOe(a,n){return a===n||Le(a)&&Le(n)&&lOe(a,n)}function lOe(a,n){var r=a.length;if(r!==n.length)return!1;for(var o=0;o<r;o++)if(a[o]!==n[o])return!1;return!0}function g8(a,n,r,o,l,c,f,p){for(var g=He(o),v=l.duration,x=l.delay,O=l.additive,w=l.setToFinal,S=!Ze(c),k=a.animators,P=[],E=0;E<g.length;E++){var M=g[E],R=o[M];if(R!=null&&r[M]!=null&&(S||c[M]))if(Ze(R)&&!Le(R)&&!Ve(R)){if(n){p||(r[M]=R,a.updateDuringAnimation(n));continue}g8(a,M,r[M],R,l,c&&c[M],f,p)}else P.push(M);else p||(r[M]=R,a.updateDuringAnimation(n),P.push(M))}var N=P.length;if(!O&&N)for(var j=0;j<k.length;j++){var W=k[j];if(W.targetName===n){var U=W.stopTracks(P);if(U){var X=se(k,W);k.splice(X,1)}}}if(l.force||(P=Qe(P,function(le){return!sOe(o[le],r[le])}),N=P.length),N>0||l.force&&!f.length){var J=void 0,re=void 0,ie=void 0;if(p){re={},w&&(J={});for(var j=0;j<N;j++){var M=P[j];re[M]=r[M],w?J[M]=o[M]:r[M]=o[M]}}else if(w){ie={};for(var j=0;j<N;j++){var M=P[j];ie[M]=f0(r[M]),oOe(r,o,M)}}var W=new IP(r,!1,!1,O?Qe(k,function(pe){return pe.targetName===n}):null);W.targetName=n,l.scope&&(W.scope=l.scope),w&&J&&W.whenWithKeys(0,J,P),ie&&W.whenWithKeys(0,ie,P),W.whenWithKeys(v??500,p?re:o,P).delay(x||0),a.addAnimator(W,n),f.push(W)}}var _t=(function(a){u(n,a);function n(r){var o=a.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(r),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var o=this._children,l=0;l<o.length;l++)if(o[l].name===r)return o[l]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){if(r&&(r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),r.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(r,o){if(r&&r!==this&&r.parent!==this&&o&&o.parent===this){var l=this._children,c=l.indexOf(o);c>=0&&(l.splice(c,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,o){var l=se(this._children,r);return l>=0&&this.replaceAt(o,l),this},n.prototype.replaceAt=function(r,o){var l=this._children,c=l[o];if(r&&r!==this&&r.parent!==this&&r!==c){l[o]=r,c.parent=null;var f=this.__zr;f&&c.removeSelfFromZr(f),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var o=this.__zr;o&&o!==r.__zr&&r.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(r){var o=this.__zr,l=this._children,c=se(l,r);return c<0?this:(l.splice(c,1),r.parent=null,o&&r.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,o=this.__zr,l=0;l<r.length;l++){var c=r[l];o&&c.removeSelfFromZr(o),c.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,o){for(var l=this._children,c=0;c<l.length;c++){var f=l[c];r.call(o,f,c)}return this},n.prototype.traverse=function(r,o){for(var l=0;l<this._children.length;l++){var c=this._children[l],f=r.call(o,c);c.isGroup&&!f&&c.traverse(r,o)}return this},n.prototype.addSelfToZr=function(r){a.prototype.addSelfToZr.call(this,r);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){a.prototype.removeSelfFromZr.call(this,r);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var o=new wt(0,0,0,0),l=r||this._children,c=[],f=null,p=0;p<l.length;p++){var g=l[p];if(!(g.ignore||g.invisible)){var v=g.getBoundingRect(),x=g.getLocalTransform(c);x?(wt.applyTransform(o,v,x),f=f||o.clone(),f.union(o)):(f=f||v.clone(),f.union(v))}}return f||o},n})(jO);_t.prototype.type="group";var g0={},vf={};function uOe(a){delete vf[a]}function cOe(a){if(!a)return!1;if(typeof a=="string")return c0(a,1)<QP;if(a.colorStops){for(var n=a.colorStops,r=0,o=n.length,l=0;l<o;l++)r+=c0(n[l].color,1);return r/=o,r<QP}return!1}var dOe=(function(){function a(n,r,o){var l=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=r,this.id=n;var c=new O_e,f=o.renderer||"canvas";if(g0[f]||(f=He(g0)[0]),!g0[f])throw new Error("Renderer '"+f+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var p=new g0[f](r,c,o,n),g=o.ssr||p.ssrOnly;this.storage=c,this.painter=p;var v=!m.node&&!m.worker&&!g?new eOe(p.getViewportRoot(),p.root):null,x=o.useCoarsePointer,O=x==null||x==="auto"?m.touchEventsSupported:!!x,w=44,S;O&&(S=$e(o.pointerSize,w)),this.handler=new AV(c,p,v,p.root,S),this.animation=new q_e({stage:{update:g?null:function(){return l._flush(!0)}}}),g||this.animation.start()}return a.prototype.add=function(n){this._disposed||!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},a.prototype.remove=function(n){this._disposed||!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(n,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh())},a.prototype.setBackgroundColor=function(n){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=cOe(n))},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(n){this._darkMode=n},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(n){this._disposed||(n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},a.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},a.prototype.flush=function(){this._disposed||this._flush(!1)},a.prototype._flush=function(n){var r,o=Up();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var l=Up();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:l-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},a.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},a.prototype.resize=function(n){this._disposed||(n=n||{},this.painter.resize(n.width,n.height),this.handler.resize())},a.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},a.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},a.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},a.prototype.setCursorStyle=function(n){this._disposed||this.handler.setCursorStyle(n)},a.prototype.findHover=function(n,r){if(!this._disposed)return this.handler.findHover(n,r)},a.prototype.on=function(n,r,o){return this._disposed||this.handler.on(n,r,o),this},a.prototype.off=function(n,r){this._disposed||this.handler.off(n,r)},a.prototype.trigger=function(n,r){this._disposed||this.handler.trigger(n,r)},a.prototype.clear=function(){if(!this._disposed){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof _t&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},a.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,uOe(this.id))},a})();function XP(a,n){var r=new dOe(he(),a,n);return vf[r.id]=r,r}function fOe(a){a.dispose()}function hOe(){for(var a in vf)vf.hasOwnProperty(a)&&vf[a].dispose();vf={}}function pOe(a){return vf[a]}function v8(a,n){g0[a]=n}var YP;function y8(a){if(typeof YP=="function")return YP(a)}function x8(a){YP=a}var mOe="6.0.0",gOe=Object.freeze({__proto__:null,init:XP,dispose:fOe,disposeAll:hOe,getInstance:pOe,registerPainter:v8,getElementSSRData:y8,registerSSRDataGetter:x8,version:mOe}),_8=1e-4,O8=20;function vOe(a){return a.replace(/^\s+|\s+$/g,"")}var mo=Math.min,Rr=Math.max,fl=Math.abs;function wn(a,n,r,o){var l=n[0],c=n[1],f=r[0],p=r[1],g=c-l,v=p-f;if(g===0)return v===0?f:(f+p)/2;if(o)if(g>0){if(a<=l)return f;if(a>=c)return p}else{if(a>=l)return f;if(a<=c)return p}else{if(a===l)return f;if(a===c)return p}return(a-l)/g*v+f}var it=yOe;function yOe(a,n,r){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%";break}return VO(a,n,r)}function VO(a,n,r){return De(a)?vOe(a).match(/%$/)?parseFloat(a)/100*n+(r||0):parseFloat(a):a==null?NaN:+a}function Lr(a,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),O8),a=(+a).toFixed(n),r?a:+a}function go(a){return a.sort(function(n,r){return n-r}),a}function As(a){if(a=+a,isNaN(a))return 0;if(a>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(a*n)/n===a)return r}return FO(a)}function FO(a){var n=a.toString().toLowerCase(),r=n.indexOf("e"),o=r>0?+n.slice(r+1):0,l=r>0?r:n.length,c=n.indexOf("."),f=c<0?0:l-1-c;return Math.max(0,f-o)}function KP(a,n){var r=Math.log,o=Math.LN10,l=Math.floor(r(a[1]-a[0])/o),c=Math.round(r(fl(n[1]-n[0]))/o),f=Math.min(Math.max(-l+c,0),20);return isFinite(f)?f:20}function xOe(a,n,r){if(!a[n])return 0;var o=b8(a,r);return o[n]||0}function b8(a,n){var r=ze(a,function(S,k){return S+(isNaN(k)?0:k)},0);if(r===0)return[];for(var o=Math.pow(10,n),l=ve(a,function(S){return(isNaN(S)?0:S)/r*o*100}),c=o*100,f=ve(l,function(S){return Math.floor(S)}),p=ze(f,function(S,k){return S+k},0),g=ve(l,function(S,k){return S-f[k]});p<c;){for(var v=Number.NEGATIVE_INFINITY,x=null,O=0,w=g.length;O<w;++O)g[O]>v&&(v=g[O],x=O);++f[x],g[x]=0,++p}return ve(f,function(S){return S/o})}function _Oe(a,n){var r=Math.max(As(a),As(n)),o=a+n;return r>O8?o:Lr(o,r)}var JP=9007199254740991;function eE(a){var n=Math.PI*2;return(a%n+n)%n}function Xp(a){return a>-_8&&a<_8}var OOe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function hl(a){if(a instanceof Date)return a;if(De(a)){var n=OOe.exec(a);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(a==null)return new Date(NaN);return new Date(Math.round(a))}function w8(a){return Math.pow(10,v0(a))}function v0(a){if(a===0)return 0;var n=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,n)>=10&&n++,n}function tE(a,n){var r=v0(a),o=Math.pow(10,r),l=a/o,c;return n?l<1.5?c=1:l<2.5?c=2:l<4?c=3:l<7?c=5:c=10:l<1?c=1:l<2?c=2:l<3?c=3:l<5?c=5:c=10,a=c*o,r>=-20?+a.toFixed(r<0?-r:0):a}function GO(a,n){var r=(a.length-1)*n+1,o=Math.floor(r),l=+a[o-1],c=r-o;return c?l+c*(a[o]-l):l}function nE(a){a.sort(function(g,v){return p(g,v,0)?-1:1});for(var n=-1/0,r=1,o=0;o<a.length;){for(var l=a[o].interval,c=a[o].close,f=0;f<2;f++)l[f]<=n&&(l[f]=n,c[f]=f?1:1-r),n=l[f],r=c[f];l[0]===l[1]&&c[0]*c[1]!==1?a.splice(o,1):o++}return a;function p(g,v,x){return g.interval[x]<v.interval[x]||g.interval[x]===v.interval[x]&&(g.close[x]-v.close[x]===(x?-1:1)||!x&&p(g,v,1))}}function pl(a){var n=parseFloat(a);return n==a&&(n!==0||!De(a)||a.indexOf("x")<=0)?n:NaN}function WO(a){return!isNaN(pl(a))}function S8(){return Math.round(Math.random()*9)}function T8(a,n){return n===0?a:T8(n,a%n)}function C8(a,n){return a==null?n:n==null?a:a*n/T8(a,n)}var bOe="[ECharts] ",k8={},wOe=typeof console<"u"&&console.warn&&console.log;function UO(a,n,r){if(wOe){if(r){if(k8[n])return;k8[n]=!0}console[a](bOe+n)}}function A8(a,n){UO("log",a,n)}function fr(a,n){UO("warn",a,n)}function cn(a,n){UO("error",a,n)}function Ps(a){UO("warn","DEPRECATED: "+a,!0)}function Nr(a,n,r){Ps((r?"["+r+"]":"")+(a+" is deprecated; use "+n+" instead."))}function ga(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var r="";{var o=function(l){return l===void 0?"undefined":l===1/0?"Infinity":l===-1/0?"-Infinity":qe(l)?"NaN":l instanceof Date?"Date("+l.toISOString()+")":Ge(l)?"function () { ... }":je(l)?l+"":null};r=ve(a,function(l){if(De(l))return l;var c=o(l);if(c!=null)return c;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(l,function(f,p){var g=o(p);return g??p})}catch{return"?"}else return"?"}).join(" ")}return r}function Sn(a){throw new Error(a)}function P8(a,n,r){return(n-a)*r+a}var E8="series\0",M8="\0_ec_\0";function Vn(a){return a instanceof Array?a:a==null?[]:[a]}function yf(a,n,r){if(a){a[n]=a[n]||{},a.emphasis=a.emphasis||{},a.emphasis[n]=a.emphasis[n]||{};for(var o=0,l=r.length;o<l;o++){var c=r[o];!a.emphasis[n].hasOwnProperty(c)&&a[n].hasOwnProperty(c)&&(a.emphasis[n][c]=a[n][c])}}}var D8=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Yp(a){return Ze(a)&&!ke(a)&&!(a instanceof Date)?a.value:a}function SOe(a){return Ze(a)&&!(a instanceof Array)}function I8(a,n,r){var o=r==="normalMerge",l=r==="replaceMerge",c=r==="replaceAll";a=a||[],n=(n||[]).slice();var f=Xe();Z(n,function(g,v){if(!Ze(g)){n[v]=null;return}g.id!=null&&!N8(g.id)&&L8(g.id),g.name!=null&&!N8(g.name)&&L8(g.name)});var p=TOe(a,f,r);return(o||l)&&COe(p,a,f,n),o&&kOe(p,n),o||l?AOe(p,n,l):c&&POe(p,n),EOe(p),p}function TOe(a,n,r){var o=[];if(r==="replaceAll")return o;for(var l=0;l<a.length;l++){var c=a[l];c&&c.id!=null&&n.set(c.id,l),o.push({existing:r==="replaceMerge"||Kp(c)?null:c,newOption:null,keyInfo:null,brandNew:null})}return o}function COe(a,n,r,o){Z(o,function(l,c){if(!(!l||l.id==null)){var f=y0(l.id),p=r.get(f);if(p!=null){var g=a[p];Ke(!g.newOption,'Duplicated option on id "'+f+'".'),g.newOption=l,g.existing=n[p],o[c]=null}}})}function kOe(a,n){Z(n,function(r,o){if(!(!r||r.name==null))for(var l=0;l<a.length;l++){var c=a[l].existing;if(!a[l].newOption&&c&&(c.id==null||r.id==null)&&!Kp(r)&&!Kp(c)&&R8("name",c,r)){a[l].newOption=r,n[o]=null;return}}})}function AOe(a,n,r){Z(n,function(o){if(o){for(var l,c=0;(l=a[c])&&(l.newOption||Kp(l.existing)||l.existing&&o.id!=null&&!R8("id",o,l.existing));)c++;l?(l.newOption=o,l.brandNew=r):a.push({newOption:o,brandNew:r,existing:null,keyInfo:null}),c++}})}function POe(a,n){Z(n,function(r){a.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function EOe(a){var n=Xe();Z(a,function(r){var o=r.existing;o&&n.set(o.id,r)}),Z(a,function(r){var o=r.newOption;Ke(!o||o.id==null||!n.get(o.id)||n.get(o.id)===r,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,r),!r.keyInfo&&(r.keyInfo={})}),Z(a,function(r,o){var l=r.existing,c=r.newOption,f=r.keyInfo;if(Ze(c)){if(f.name=c.name!=null?y0(c.name):l?l.name:E8+o,l)f.id=y0(l.id);else if(c.id!=null)f.id=y0(c.id);else{var p=0;do f.id="\0"+f.name+"\0"+p++;while(n.get(f.id))}n.set(f.id,r)}})}function R8(a,n,r){var o=Yr(n[a],null),l=Yr(r[a],null);return o!=null&&l!=null&&o===l}function y0(a){if(a==null)throw new Error;return Yr(a,"")}function Yr(a,n){return a==null?n:De(a)?a:dt(a)||Pt(a)?a+"":n}function L8(a){fr("`"+a+"` is invalid id or name. Must be a string or number.")}function N8(a){return Pt(a)||WO(a)}function rE(a){var n=a.name;return!!(n&&n.indexOf(E8))}function Kp(a){return a&&a.id!=null&&y0(a.id).indexOf(M8)===0}function MOe(a){return M8+a}function DOe(a,n,r){Z(a,function(o){var l=o.newOption;Ze(l)&&(o.keyInfo.mainType=n,o.keyInfo.subType=IOe(n,l,o.existing,r))})}function IOe(a,n,r,o){var l=n.type?n.type:r?r.subType:o.determineSubType(a,n);return l}function ROe(a,n){var r={},o={};return l(a||[],r),l(n||[],o,r),[c(r),c(o)];function l(f,p,g){for(var v=0,x=f.length;v<x;v++){var O=Yr(f[v].seriesId,null);if(O==null)return;for(var w=Vn(f[v].dataIndex),S=g&&g[O],k=0,P=w.length;k<P;k++){var E=w[k];S&&S[E]?S[E]=null:(p[O]||(p[O]={}))[E]=1}}}function c(f,p){var g=[];for(var v in f)if(f.hasOwnProperty(v)&&f[v]!=null)if(p)g.push(+v);else{var x=c(f[v],!0);x.length&&g.push({seriesId:v,dataIndex:x})}return g}}function xf(a,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return ke(n.dataIndex)?ve(n.dataIndex,function(r){return a.indexOfRawIndex(r)}):a.indexOfRawIndex(n.dataIndex);if(n.name!=null)return ke(n.name)?ve(n.name,function(r){return a.indexOfName(r)}):a.indexOfName(n.name)}function Kt(){var a="__ec_inner_"+LOe++;return function(n){return n[a]||(n[a]={})}}var LOe=S8();function Jp(a,n,r){var o=iE(n,r),l=o.mainTypeSpecified,c=o.queryOptionMap,f=o.others,p=f,g=r?r.defaultMainType:null;return!l&&g&&c.set(g,{}),c.each(function(v,x){var O=em(a,x,v,{useDefault:g===x,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});p[x+"Models"]=O.models,p[x+"Model"]=O.models[0]}),p}function iE(a,n){var r;if(De(a)){var o={};o[a+"Index"]=0,r=o}else r=a;var l=Xe(),c={},f=!1;return Z(r,function(p,g){if(g==="dataIndex"||g==="dataIndexInside"){c[g]=p;return}var v=g.match(/^(\w+)(Index|Id|Name)$/)||[],x=v[1],O=(v[2]||"").toLowerCase();if(!(!x||!O||n&&n.includeMainTypes&&se(n.includeMainTypes,x)<0)){f=f||!!x;var w=l.get(x)||l.set(x,{});w[O]=p}}),{mainTypeSpecified:f,queryOptionMap:l,others:c}}var br={useDefault:!0,enableAll:!1,enableNone:!1},NOe={useDefault:!1,enableAll:!0,enableNone:!0};function em(a,n,r,o){o=o||br;var l=r.index,c=r.id,f=r.name,p={models:null,specified:l!=null||c!=null||f!=null};if(!p.specified){var g=void 0;return p.models=o.useDefault&&(g=a.getComponent(n))?[g]:[],p}if(l==="none"||l===!1){if(o.enableNone)return p.models=[],p;cn('`"none"` or `false` is not a valid value on index option.'),l=-1}return l==="all"&&(o.enableAll?l=c=f=null:(cn('`"all"` is not a valid value on index option.'),l=-1)),p.models=a.queryComponents({mainType:n,index:l,id:c,name:f}),p}function $8(a,n,r){a.setAttribute?a.setAttribute(n,r):a[n]=r}function $Oe(a,n){return a.getAttribute?a.getAttribute(n):a[n]}function zOe(a){return a==="auto"?m.domSupported?"html":"richText":a||"html"}function aE(a,n){var r=Xe(),o=[];return Z(a,function(l){var c=n(l);(r.get(c)||(o.push(c),r.set(c,[]))).push(l)}),{keys:o,buckets:r}}function z8(a,n,r,o,l){var c=n==null||n==="auto";if(o==null)return o;if(dt(o)){var f=P8(r||0,o,l);return Lr(f,c?Math.max(As(r||0),As(o)):n)}else{if(De(o))return l<1?r:o;for(var p=[],g=r,v=o,x=Math.max(g?g.length:0,v.length),O=0;O<x;++O){var w=a.getDimensionInfo(O);if(w&&w.type==="ordinal")p[O]=(l<1&&g?g:v)[O];else{var S=g&&g[O]?g[O]:0,k=v[O],f=P8(S,k,l);p[O]=Lr(f,c?Math.max(As(S),As(k)):n)}}return p}}var Rc=(function(){function a(){}return a.prototype.reset=function(n,r,o,l){return this._list=n,this._step=l=l||1,this._idx=r,this._end=o??(l>0?n.length:0),this.item=null,this.key=NaN,this},a.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},a})();function oE(a){a.option=a.parentModel=a.ecModel=null}var BOe=".",_f="___EC__COMPONENT__CONTAINER___",B8="___EC__EXTENDED_CLASS___";function ml(a){var n={main:"",sub:""};if(a){var r=a.split(BOe);n.main=r[0]||"",n.sub=r[1]||""}return n}function QOe(a){Ke(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function jOe(a){return!!(a&&a[B8])}function sE(a,n){a.$constructor=a,a.extend=function(r){Z(n,function(c){r[c]||console.warn("Method `"+c+"` should be implemented"+(r.type?" in "+r.type:"")+".")});var o=this,l;return VOe(o)?l=(function(c){u(f,c);function f(){return c.apply(this,arguments)||this}return f})(o):(l=function(){(r.$constructor||o).apply(this,arguments)},Ae(l,this)),ee(l.prototype,r),l[B8]=!0,l.extend=this.extend,l.superCall=WOe,l.superApply=UOe,l.superClass=o,l}}function VOe(a){return Ge(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function Q8(a,n){a.extend=n.extend}var FOe=Math.round(Math.random()*10);function GOe(a){var n=["__\0is_clz",FOe++].join("_");a.prototype[n]=!0,Ke(!a.isInstance,'The method "is" can not be defined.'),a.isInstance=function(r){return!!(r&&r[n])}}function WOe(a,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this.superClass.prototype[n].apply(a,r)}function UOe(a,n,r){return this.superClass.prototype[n].apply(a,r)}function qO(a){var n={};a.registerClass=function(o){var l=o.type||o.prototype.type;if(l){QOe(l),o.prototype.type=l;var c=ml(l);if(!c.sub)n[c.main]&&console.warn(c.main+" exists."),n[c.main]=o;else if(c.sub!==_f){var f=r(c);f[c.sub]=o}}return o},a.getClass=function(o,l,c){var f=n[o];if(f&&f[_f]&&(f=l?f[l]:null),c&&!f)throw new Error(l?"Component "+o+"."+(l||"")+" is used but not imported.":o+".type should be specified.");return f},a.getClassesByMainType=function(o){var l=ml(o),c=[],f=n[l.main];return f&&f[_f]?Z(f,function(p,g){g!==_f&&c.push(p)}):c.push(f),c},a.hasClass=function(o){var l=ml(o);return!!n[l.main]},a.getAllClassMainTypes=function(){var o=[];return Z(n,function(l,c){o.push(c)}),o},a.hasSubTypes=function(o){var l=ml(o),c=n[l.main];return c&&c[_f]};function r(o){var l=n[o.main];return(!l||!l[_f])&&(l=n[o.main]={},l[_f]=!0),l}}function Of(a,n){for(var r=0;r<a.length;r++)a[r][1]||(a[r][1]=a[r][0]);return n=n||!1,function(o,l,c){for(var f={},p=0;p<a.length;p++){var g=a[p][1];if(!(l&&se(l,g)>=0||c&&se(c,g)<0)){var v=o.getShallow(g,n);v!=null&&(f[a[p][0]]=v)}}return f}}var qOe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],ZOe=Of(qOe),HOe=(function(){function a(){}return a.prototype.getAreaStyle=function(n,r){return ZOe(this,n,r)},a})(),lE=new Gp(50);function XOe(a){if(typeof a=="string"){var n=lE.get(a);return n&&n.image}else return a}function uE(a,n,r,o,l){if(a)if(typeof a=="string"){if(n&&n.__zrImageSrc===a||!r)return n;var c=lE.get(a),f={hostEl:r,cb:o,cbPayload:l};return c?(n=c.image,!ZO(n)&&c.pending.push(f)):(n=$.loadImage(a,j8,j8),n.__zrImageSrc=a,lE.put(a,n.__cachedImgObj={image:n,pending:[f]})),n}else return a;else return n}function j8(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<a.pending.length;n++){var r=a.pending[n],o=r.cb;o&&o(this,r.cbPayload),r.hostEl.dirty()}a.pending.length=0}function ZO(a){return a&&a.width&&a.height}var cE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function YOe(a,n,r,o,l){var c={};return V8(c,a,n,r,o,l),c.text}function V8(a,n,r,o,l,c){if(!r){a.text="",a.isTruncated=!1;return}var f=(n+"").split(`
`);c=F8(r,o,l,c);for(var p=!1,g={},v=0,x=f.length;v<x;v++)G8(g,f[v],c),f[v]=g.textLine,p=p||g.isTruncated;a.text=f.join(`
`),a.isTruncated=p}function F8(a,n,r,o){o=o||{};var l=ee({},o);r=$e(r,"..."),l.maxIterations=$e(o.maxIterations,2);var c=l.minChar=$e(o.minChar,0),f=l.fontMeasureInfo=cl(n),p=f.asciiCharWidth;l.placeholder=$e(o.placeholder,"");for(var g=a=Math.max(0,a-1),v=0;v<c&&g>=p;v++)g-=p;var x=dl(f,r);return x>g&&(r="",x=0),g=a-x,l.ellipsis=r,l.ellipsisWidth=x,l.contentWidth=g,l.containerWidth=a,l}function G8(a,n,r){var o=r.containerWidth,l=r.contentWidth,c=r.fontMeasureInfo;if(!o){a.textLine="",a.isTruncated=!1;return}var f=dl(c,n);if(f<=o){a.textLine=n,a.isTruncated=!1;return}for(var p=0;;p++){if(f<=l||p>=r.maxIterations){n+=r.ellipsis;break}var g=p===0?KOe(n,l,c):f>0?Math.floor(n.length*l/f):0;n=n.substr(0,g),f=dl(c,n)}n===""&&(n=r.placeholder),a.textLine=n,a.isTruncated=!0}function KOe(a,n,r){for(var o=0,l=0,c=a.length;l<c&&o<n;l++)o+=p8(r,a.charCodeAt(l));return l}function JOe(a,n,r,o){var l=fE(a),c=n.overflow,f=n.padding,p=f?f[1]+f[3]:0,g=f?f[0]+f[2]:0,v=n.font,x=c==="truncate",O=m0(v),w=$e(n.lineHeight,O),S=n.lineOverflow==="truncate",k=!1,P=n.width;P==null&&r!=null&&(P=r-p);var E=n.height;E==null&&o!=null&&(E=o-g);var M;P!=null&&(c==="break"||c==="breakAll")?M=l?U8(l,n.font,P,c==="breakAll",0).lines:[]:M=l?l.split(`
`):[];var R=M.length*w;if(E==null&&(E=R),R>E&&S){var N=Math.floor(E/w);k=k||M.length>N,M=M.slice(0,N),R=M.length*w}if(l&&x&&P!=null)for(var j=F8(P,v,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),W={},U=0;U<M.length;U++)G8(W,M[U],j),M[U]=W.textLine,k=k||W.isTruncated;for(var X=E,J=0,re=cl(v),U=0;U<M.length;U++)J=Math.max(dl(re,M[U]),J);P==null&&(P=J);var ie=P;return X+=g,ie+=p,{lines:M,height:E,outerWidth:ie,outerHeight:X,lineHeight:w,calculatedLineHeight:O,contentWidth:J,contentHeight:R,width:P,isTruncated:k}}var ebe=(function(){function a(){}return a})(),W8=(function(){function a(n){this.tokens=[],n&&(this.tokens=n)}return a})(),tbe=(function(){function a(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return a})();function nbe(a,n,r,o,l){var c=new tbe,f=fE(a);if(!f)return c;var p=n.padding,g=p?p[1]+p[3]:0,v=p?p[0]+p[2]:0,x=n.width;x==null&&r!=null&&(x=r-g);var O=n.height;O==null&&o!=null&&(O=o-v);for(var w=n.overflow,S=(w==="break"||w==="breakAll")&&x!=null?{width:x,accumWidth:0,breakAll:w==="breakAll"}:null,k=cE.lastIndex=0,P;(P=cE.exec(f))!=null;){var E=P.index;E>k&&dE(c,f.substring(k,E),n,S),dE(c,P[2],n,S,P[1]),k=cE.lastIndex}k<f.length&&dE(c,f.substring(k,f.length),n,S);var M=[],R=0,N=0,j=w==="truncate",W=n.lineOverflow==="truncate",U={};function X(vn,Rn,Dt){vn.width=Rn,vn.lineHeight=Dt,R+=Dt,N=Math.max(N,Rn)}e:for(var J=0;J<c.lines.length;J++){for(var re=c.lines[J],ie=0,le=0,pe=0;pe<re.tokens.length;pe++){var ce=re.tokens[pe],ye=ce.styleName&&n.rich[ce.styleName]||{},Oe=ce.textPadding=ye.padding,_e=Oe?Oe[1]+Oe[3]:0,Pe=ce.font=ye.font||n.font;ce.contentHeight=m0(Pe);var Se=$e(ye.height,ce.contentHeight);if(ce.innerHeight=Se,Oe&&(Se+=Oe[0]+Oe[2]),ce.height=Se,ce.lineHeight=zt(ye.lineHeight,n.lineHeight,Se),ce.align=ye&&ye.align||l,ce.verticalAlign=ye&&ye.verticalAlign||"middle",W&&O!=null&&R+ce.lineHeight>O){var Re=c.lines.length;pe>0?(re.tokens=re.tokens.slice(0,pe),X(re,le,ie),c.lines=c.lines.slice(0,J+1)):c.lines=c.lines.slice(0,J),c.isTruncated=c.isTruncated||c.lines.length<Re;break e}var Ne=ye.width,Be=Ne==null||Ne==="auto";if(typeof Ne=="string"&&Ne.charAt(Ne.length-1)==="%")ce.percentWidth=Ne,M.push(ce),ce.contentWidth=dl(cl(Pe),ce.text);else{if(Be){var Fe=ye.backgroundColor,rt=Fe&&Fe.image;rt&&(rt=XOe(rt),ZO(rt)&&(ce.width=Math.max(ce.width,rt.width*Se/rt.height)))}var ht=j&&x!=null?x-le:null;ht!=null&&ht<ce.width?!Be||ht<_e?(ce.text="",ce.width=ce.contentWidth=0):(V8(U,ce.text,ht-_e,Pe,n.ellipsis,{minChar:n.truncateMinChar}),ce.text=U.text,c.isTruncated=c.isTruncated||U.isTruncated,ce.width=ce.contentWidth=dl(cl(Pe),ce.text)):ce.contentWidth=dl(cl(Pe),ce.text)}ce.width+=_e,le+=ce.width,ye&&(ie=Math.max(ie,ce.lineHeight))}X(re,le,ie)}c.outerWidth=c.width=$e(x,N),c.outerHeight=c.height=$e(O,R),c.contentHeight=R,c.contentWidth=N,c.outerWidth+=g,c.outerHeight+=v;for(var J=0;J<M.length;J++){var ce=M[J],Mt=ce.percentWidth;ce.width=parseInt(Mt,10)/100*c.width}return c}function dE(a,n,r,o,l){var c=n==="",f=l&&r.rich[l]||{},p=a.lines,g=f.font||r.font,v=!1,x,O;if(o){var w=f.padding,S=w?w[1]+w[3]:0;if(f.width!=null&&f.width!=="auto"){var k=ks(f.width,o.width)+S;p.length>0&&k+o.accumWidth>o.width&&(x=n.split(`
`),v=!0),o.accumWidth=k}else{var P=U8(n,g,o.width,o.breakAll,o.accumWidth);o.accumWidth=P.accumWidth+S,O=P.linesWidths,x=P.lines}}x||(x=n.split(`
`));for(var E=cl(g),M=0;M<x.length;M++){var R=x[M],N=new ebe;if(N.styleName=l,N.text=R,N.isLineHolder=!R&&!c,typeof f.width=="number"?N.width=f.width:N.width=O?O[M]:dl(E,R),!M&&!v){var j=(p[p.length-1]||(p[0]=new W8)).tokens,W=j.length;W===1&&j[0].isLineHolder?j[0]=N:(R||!W||c)&&j.push(N)}else p.push(new W8([N]))}}function rbe(a){var n=a.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var ibe=ze(",&?/;] ".split(""),function(a,n){return a[n]=!0,a},{});function abe(a){return rbe(a)?!!ibe[a]:!0}function U8(a,n,r,o,l){for(var c=[],f=[],p="",g="",v=0,x=0,O=cl(n),w=0;w<a.length;w++){var S=a.charAt(w);if(S===`
`){g&&(p+=g,x+=v),c.push(p),f.push(x),p="",g="",v=0,x=0;continue}var k=p8(O,S.charCodeAt(0)),P=o?!1:!abe(S);if(c.length?x+k>r:l+x+k>r){x?(p||g)&&(P?(p||(p=g,g="",v=0,x=v),c.push(p),f.push(x-v),g+=S,v+=k,p="",x=v):(g&&(p+=g,g="",v=0),c.push(p),f.push(x),p=S,x=k)):P?(c.push(g),f.push(v),g=S,v=k):(c.push(S),f.push(k));continue}x+=k,P?(g+=S,v+=k):(g&&(p+=g,g="",v=0),p+=S)}return g&&(p+=g),p&&(c.push(p),f.push(x)),c.length===1&&(x+=l),{accumWidth:x,lines:c,linesWidths:f}}function q8(a,n,r,o,l,c){if(a.baseX=r,a.baseY=o,a.outerWidth=a.outerHeight=null,!!n){var f=n.width*2,p=n.height*2;wt.set(Z8,Zp(r,f,l),gf(o,p,c),f,p),wt.intersect(n,Z8,null,H8);var g=H8.outIntersectRect;a.outerWidth=g.width,a.outerHeight=g.height,a.baseX=Zp(g.x,g.width,l,!0),a.baseY=gf(g.y,g.height,c,!0)}}var Z8=new wt(0,0,0,0),H8={outIntersectRect:{},clamp:!0};function fE(a){return a!=null?a+="":a=""}function obe(a){var n=fE(a.text),r=a.font,o=dl(cl(r),n),l=m0(r);return hE(a,o,l,null)}function hE(a,n,r,o){var l=new wt(Zp(a.x||0,n,a.textAlign),gf(a.y||0,r,a.textBaseline),n,r),c=o??(X8(a)?a.lineWidth:0);return c>0&&(l.x-=c/2,l.y-=c/2,l.width+=c,l.height+=c),l}function X8(a){var n=a.stroke;return n!=null&&n!=="none"&&a.lineWidth>0}var pE="__zr_style_"+Math.round(Math.random()*10),bf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},HO={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};bf[pE]=!0;var Y8=["z","z2","invisible"],sbe=["invisible"],jo=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype._init=function(r){for(var o=He(r),l=0;l<o.length;l++){var c=o[l];c==="style"?this.useStyle(r[c]):a.prototype.attrKV.call(this,c,r[c])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,o,l,c){var f=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&lbe(this,r,o)||f&&!f[0]&&!f[3])return!1;if(l&&this.__clipPaths&&this.__clipPaths.length){for(var p=0;p<this.__clipPaths.length;++p)if(this.__clipPaths[p].isZeroArea())return!1}if(c&&this.parent)for(var g=this.parent;g;){if(g.ignore)return!1;g=g.parent}return!0},n.prototype.contain=function(r,o){return this.rectContain(r,o)},n.prototype.traverse=function(r,o){r.call(o,this)},n.prototype.rectContain=function(r,o){var l=this.transformCoordToLocal(r,o),c=this.getBoundingRect();return c.contain(l[0],l[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,l=this.getBoundingRect(),c=this.style,f=c.shadowBlur||0,p=c.shadowOffsetX||0,g=c.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new wt(0,0,0,0)),o?wt.applyTransform(r,l,o):r.copy(l),(f||p||g)&&(r.width+=f*2+Math.abs(p),r.height+=f*2+Math.abs(g),r.x=Math.min(r.x,r.x+p-f),r.y=Math.min(r.y,r.y+g-f));var v=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-v),r.y=Math.floor(r.y-v),r.width=Math.ceil(r.width+1+v*2),r.height=Math.ceil(r.height+1+v*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new wt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,o){r!=="style"?a.prototype.attrKV.call(this,r,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(r,o){return typeof r=="string"?this.style[r]=o:ee(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=i0,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&i0)},n.prototype.styleUpdated=function(){this.__dirty&=~i0},n.prototype.createStyle=function(r){return zn(bf,r)},n.prototype.useStyle=function(r){r[pE]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[pE]},n.prototype._innerSaveToNormal=function(r){a.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,o,Y8)},n.prototype._applyStateObj=function(r,o,l,c,f,p){a.prototype._applyStateObj.call(this,r,o,l,c,f,p);var g=!(o&&c),v;if(o&&o.style?f?c?v=o.style:(v=this._mergeStyle(this.createStyle(),l.style),this._mergeStyle(v,o.style)):(v=this._mergeStyle(this.createStyle(),c?this.style:l.style),this._mergeStyle(v,o.style)):g&&(v=l.style),v)if(f){var x=this.style;if(this.style=this.createStyle(g?{}:x),g)for(var O=He(x),w=0;w<O.length;w++){var S=O[w];S in v&&(v[S]=v[S],this.style[S]=x[S])}for(var k=He(v),w=0;w<k.length;w++){var S=k[w];this.style[S]=this.style[S]}this._transitionState(r,{style:v},p,this.getAnimationStyleProps())}else this.useStyle(v);for(var P=this.__inHover?sbe:Y8,w=0;w<P.length;w++){var S=P[w];o&&o[S]!=null?this[S]=o[S]:g&&l[S]!=null&&(this[S]=l[S])}},n.prototype._mergeStates=function(r){for(var o=a.prototype._mergeStates.call(this,r),l,c=0;c<r.length;c++){var f=r[c];f.style&&(l=l||{},this._mergeStyle(l,f.style))}return l&&(o.style=l),o},n.prototype._mergeStyle=function(r,o){return ee(r,o),r},n.prototype.getAnimationStyleProps=function(){return HO},n.initDefaultProps=(function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=po|i0})(),n})(jO),mE=new wt(0,0,0,0),gE=new wt(0,0,0,0);function lbe(a,n,r){return mE.copy(a.getBoundingRect()),a.transform&&mE.applyTransform(a.transform),gE.width=n,gE.height=r,!mE.intersect(gE)}var Qa=Math.min,ja=Math.max,vE=Math.sin,yE=Math.cos,wf=Math.PI*2,XO=ci(),YO=ci(),KO=ci();function JO(a,n,r){if(a.length!==0){for(var o=a[0],l=o[0],c=o[0],f=o[1],p=o[1],g=1;g<a.length;g++)o=a[g],l=Qa(l,o[0]),c=ja(c,o[0]),f=Qa(f,o[1]),p=ja(p,o[1]);n[0]=l,n[1]=f,r[0]=c,r[1]=p}}function K8(a,n,r,o,l,c){l[0]=Qa(a,r),l[1]=Qa(n,o),c[0]=ja(a,r),c[1]=ja(n,o)}var J8=[],eF=[];function ube(a,n,r,o,l,c,f,p,g,v){var x=jV,O=di,w=x(a,r,l,f,J8);g[0]=1/0,g[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var S=0;S<w;S++){var k=O(a,r,l,f,J8[S]);g[0]=Qa(k,g[0]),v[0]=ja(k,v[0])}w=x(n,o,c,p,eF);for(var S=0;S<w;S++){var P=O(n,o,c,p,eF[S]);g[1]=Qa(P,g[1]),v[1]=ja(P,v[1])}g[0]=Qa(a,g[0]),v[0]=ja(a,v[0]),g[0]=Qa(f,g[0]),v[0]=ja(f,v[0]),g[1]=Qa(n,g[1]),v[1]=ja(n,v[1]),g[1]=Qa(p,g[1]),v[1]=ja(p,v[1])}function cbe(a,n,r,o,l,c,f,p){var g=FV,v=Pi,x=ja(Qa(g(a,r,l),1),0),O=ja(Qa(g(n,o,c),1),0),w=v(a,r,l,x),S=v(n,o,c,O);f[0]=Qa(a,l,w),f[1]=Qa(n,c,S),p[0]=ja(a,l,w),p[1]=ja(n,c,S)}function dbe(a,n,r,o,l,c,f,p,g){var v=No,x=Os,O=Math.abs(l-c);if(O%wf<1e-4&&O>1e-4){p[0]=a-r,p[1]=n-o,g[0]=a+r,g[1]=n+o;return}if(XO[0]=yE(l)*r+a,XO[1]=vE(l)*o+n,YO[0]=yE(c)*r+a,YO[1]=vE(c)*o+n,v(p,XO,YO),x(g,XO,YO),l=l%wf,l<0&&(l=l+wf),c=c%wf,c<0&&(c=c+wf),l>c&&!f?c+=wf:l<c&&f&&(l+=wf),f){var w=c;c=l,l=w}for(var S=0;S<c;S+=Math.PI/2)S>l&&(KO[0]=yE(S)*r+a,KO[1]=vE(S)*o+n,v(p,KO,p),x(g,KO,g))}var Yn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Sf=[],Tf=[],gl=[],Lc=[],vl=[],yl=[],xE=Math.min,_E=Math.max,Cf=Math.cos,kf=Math.sin,ku=Math.abs,OE=Math.PI,Nc=OE*2,bE=typeof Float32Array<"u",x0=[];function wE(a){var n=Math.round(a/OE*1e8)/1e8;return n%2*OE}function eb(a,n){var r=wE(a[0]);r<0&&(r+=Nc);var o=r-a[0],l=a[1];l+=o,!n&&l-r>=Nc?l=r+Nc:n&&r-l>=Nc?l=r-Nc:!n&&r>l?l=r+(Nc-wE(r-l)):n&&r<l&&(l=r-(Nc-wE(l-r))),a[0]=r,a[1]=l}var xl=(function(){function a(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(n,r,o){o=o||0,o>0&&(this._ux=ku(o/LO/n)||0,this._uy=ku(o/LO/r)||0)},a.prototype.setDPR=function(n){this.dpr=n},a.prototype.setContext=function(n){this._ctx=n},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(Yn.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},a.prototype.lineTo=function(n,r){var o=ku(n-this._xi),l=ku(r-this._yi),c=o>this._ux||l>this._uy;if(this.addData(Yn.L,n,r),this._ctx&&c&&this._ctx.lineTo(n,r),c)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var f=o*o+l*l;f>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=f)}return this},a.prototype.bezierCurveTo=function(n,r,o,l,c,f){return this._drawPendingPt(),this.addData(Yn.C,n,r,o,l,c,f),this._ctx&&this._ctx.bezierCurveTo(n,r,o,l,c,f),this._xi=c,this._yi=f,this},a.prototype.quadraticCurveTo=function(n,r,o,l){return this._drawPendingPt(),this.addData(Yn.Q,n,r,o,l),this._ctx&&this._ctx.quadraticCurveTo(n,r,o,l),this._xi=o,this._yi=l,this},a.prototype.arc=function(n,r,o,l,c,f){this._drawPendingPt(),x0[0]=l,x0[1]=c,eb(x0,f),l=x0[0],c=x0[1];var p=c-l;return this.addData(Yn.A,n,r,o,o,l,p,0,f?0:1),this._ctx&&this._ctx.arc(n,r,o,l,c,f),this._xi=Cf(c)*o+n,this._yi=kf(c)*o+r,this},a.prototype.arcTo=function(n,r,o,l,c){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,o,l,c),this},a.prototype.rect=function(n,r,o,l){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,o,l),this.addData(Yn.R,n,r,o,l),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(Yn.Z);var n=this._ctx,r=this._x0,o=this._y0;return n&&n.closePath(),this._xi=r,this._yi=o,this},a.prototype.fill=function(n){n&&n.fill(),this.toStatic()},a.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(n){if(this._saveData){var r=n.length;!(this.data&&this.data.length===r)&&bE&&(this.data=new Float32Array(r));for(var o=0;o<r;o++)this.data[o]=n[o];this._len=r}},a.prototype.appendPath=function(n){if(this._saveData){n instanceof Array||(n=[n]);for(var r=n.length,o=0,l=this._len,c=0;c<r;c++)o+=n[c].len();var f=this.data;if(bE&&(f instanceof Float32Array||!f)&&(this.data=new Float32Array(l+o),l>0&&f))for(var p=0;p<l;p++)this.data[p]=f[p];for(var c=0;c<r;c++)for(var g=n[c].data,p=0;p<g.length;p++)this.data[l++]=g[p];this._len=l}},a.prototype.addData=function(n,r,o,l,c,f,p,g,v){if(this._saveData){var x=this.data;this._len+arguments.length>x.length&&(this._expandData(),x=this.data);for(var O=0;O<arguments.length;O++)x[this._len++]=arguments[O]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},a.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,bE&&this._len>11&&(this.data=new Float32Array(n)))}},a.prototype.getBoundingRect=function(){gl[0]=gl[1]=vl[0]=vl[1]=Number.MAX_VALUE,Lc[0]=Lc[1]=yl[0]=yl[1]=-Number.MAX_VALUE;var n=this.data,r=0,o=0,l=0,c=0,f;for(f=0;f<this._len;){var p=n[f++],g=f===1;switch(g&&(r=n[f],o=n[f+1],l=r,c=o),p){case Yn.M:r=l=n[f++],o=c=n[f++],vl[0]=l,vl[1]=c,yl[0]=l,yl[1]=c;break;case Yn.L:K8(r,o,n[f],n[f+1],vl,yl),r=n[f++],o=n[f++];break;case Yn.C:ube(r,o,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],vl,yl),r=n[f++],o=n[f++];break;case Yn.Q:cbe(r,o,n[f++],n[f++],n[f],n[f+1],vl,yl),r=n[f++],o=n[f++];break;case Yn.A:var v=n[f++],x=n[f++],O=n[f++],w=n[f++],S=n[f++],k=n[f++]+S;f+=1;var P=!n[f++];g&&(l=Cf(S)*O+v,c=kf(S)*w+x),dbe(v,x,O,w,S,k,P,vl,yl),r=Cf(k)*O+v,o=kf(k)*w+x;break;case Yn.R:l=r=n[f++],c=o=n[f++];var E=n[f++],M=n[f++];K8(l,c,l+E,c+M,vl,yl);break;case Yn.Z:r=l,o=c;break}No(gl,gl,vl),Os(Lc,Lc,yl)}return f===0&&(gl[0]=gl[1]=Lc[0]=Lc[1]=0),new wt(gl[0],gl[1],Lc[0]-gl[0],Lc[1]-gl[1])},a.prototype._calculateLength=function(){var n=this.data,r=this._len,o=this._ux,l=this._uy,c=0,f=0,p=0,g=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,x=0,O=0,w=0;w<r;){var S=n[w++],k=w===1;k&&(c=n[w],f=n[w+1],p=c,g=f);var P=-1;switch(S){case Yn.M:c=p=n[w++],f=g=n[w++];break;case Yn.L:{var E=n[w++],M=n[w++],R=E-c,N=M-f;(ku(R)>o||ku(N)>l||w===r-1)&&(P=Math.sqrt(R*R+N*N),c=E,f=M);break}case Yn.C:{var j=n[w++],W=n[w++],E=n[w++],M=n[w++],U=n[w++],X=n[w++];P=b_e(c,f,j,W,E,M,U,X,10),c=U,f=X;break}case Yn.Q:{var j=n[w++],W=n[w++],E=n[w++],M=n[w++];P=S_e(c,f,j,W,E,M,10),c=E,f=M;break}case Yn.A:var J=n[w++],re=n[w++],ie=n[w++],le=n[w++],pe=n[w++],ce=n[w++],ye=ce+pe;w+=1,k&&(p=Cf(pe)*ie+J,g=kf(pe)*le+re),P=_E(ie,le)*xE(Nc,Math.abs(ce)),c=Cf(ye)*ie+J,f=kf(ye)*le+re;break;case Yn.R:{p=c=n[w++],g=f=n[w++];var Oe=n[w++],_e=n[w++];P=Oe*2+_e*2;break}case Yn.Z:{var R=p-c,N=g-f;P=Math.sqrt(R*R+N*N),c=p,f=g;break}}P>=0&&(v[O++]=P,x+=P)}return this._pathLen=x,x},a.prototype.rebuildPath=function(n,r){var o=this.data,l=this._ux,c=this._uy,f=this._len,p,g,v,x,O,w,S=r<1,k,P,E=0,M=0,R,N=0,j,W;if(!(S&&(this._pathSegLen||this._calculateLength(),k=this._pathSegLen,P=this._pathLen,R=r*P,!R)))e:for(var U=0;U<f;){var X=o[U++],J=U===1;switch(J&&(v=o[U],x=o[U+1],p=v,g=x),X!==Yn.L&&N>0&&(n.lineTo(j,W),N=0),X){case Yn.M:p=v=o[U++],g=x=o[U++],n.moveTo(v,x);break;case Yn.L:{O=o[U++],w=o[U++];var re=ku(O-v),ie=ku(w-x);if(re>l||ie>c){if(S){var le=k[M++];if(E+le>R){var pe=(R-E)/le;n.lineTo(v*(1-pe)+O*pe,x*(1-pe)+w*pe);break e}E+=le}n.lineTo(O,w),v=O,x=w,N=0}else{var ce=re*re+ie*ie;ce>N&&(j=O,W=w,N=ce)}break}case Yn.C:{var ye=o[U++],Oe=o[U++],_e=o[U++],Pe=o[U++],Se=o[U++],Re=o[U++];if(S){var le=k[M++];if(E+le>R){var pe=(R-E)/le;Mc(v,ye,_e,Se,pe,Sf),Mc(x,Oe,Pe,Re,pe,Tf),n.bezierCurveTo(Sf[1],Tf[1],Sf[2],Tf[2],Sf[3],Tf[3]);break e}E+=le}n.bezierCurveTo(ye,Oe,_e,Pe,Se,Re),v=Se,x=Re;break}case Yn.Q:{var ye=o[U++],Oe=o[U++],_e=o[U++],Pe=o[U++];if(S){var le=k[M++];if(E+le>R){var pe=(R-E)/le;o0(v,ye,_e,pe,Sf),o0(x,Oe,Pe,pe,Tf),n.quadraticCurveTo(Sf[1],Tf[1],Sf[2],Tf[2]);break e}E+=le}n.quadraticCurveTo(ye,Oe,_e,Pe),v=_e,x=Pe;break}case Yn.A:var Ne=o[U++],Be=o[U++],Fe=o[U++],rt=o[U++],ht=o[U++],Mt=o[U++],vn=o[U++],Rn=!o[U++],Dt=Fe>rt?Fe:rt,Ot=ku(Fe-rt)>.001,Ft=ht+Mt,pt=!1;if(S){var le=k[M++];E+le>R&&(Ft=ht+Mt*(R-E)/le,pt=!0),E+=le}if(Ot&&n.ellipse?n.ellipse(Ne,Be,Fe,rt,vn,ht,Ft,Rn):n.arc(Ne,Be,Dt,ht,Ft,Rn),pt)break e;J&&(p=Cf(ht)*Fe+Ne,g=kf(ht)*rt+Be),v=Cf(Ft)*Fe+Ne,x=kf(Ft)*rt+Be;break;case Yn.R:p=v=o[U],g=x=o[U+1],O=o[U++],w=o[U++];var Rt=o[U++],Wn=o[U++];if(S){var le=k[M++];if(E+le>R){var mn=R-E;n.moveTo(O,w),n.lineTo(O+xE(mn,Rt),w),mn-=Rt,mn>0&&n.lineTo(O+Rt,w+xE(mn,Wn)),mn-=Wn,mn>0&&n.lineTo(O+_E(Rt-mn,0),w+Wn),mn-=Rt,mn>0&&n.lineTo(O,w+_E(Wn-mn,0));break e}E+=le}n.rect(O,w,Rt,Wn);break;case Yn.Z:if(S){var le=k[M++];if(E+le>R){var pe=(R-E)/le;n.lineTo(v*(1-pe)+p*pe,x*(1-pe)+g*pe);break e}E+=le}n.closePath(),v=p,x=g}}},a.prototype.clone=function(){var n=new a,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},a.prototype.canSave=function(){return!!this._saveData},a.CMD=Yn,a.initDefaultProps=(function(){var n=a.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0})(),a})();function $c(a,n,r,o,l,c,f){if(l===0)return!1;var p=l,g=0,v=a;if(f>n+p&&f>o+p||f<n-p&&f<o-p||c>a+p&&c>r+p||c<a-p&&c<r-p)return!1;if(a!==r)g=(n-o)/(a-r),v=(a*o-r*n)/(a-r);else return Math.abs(c-a)<=p/2;var x=g*c-f+v,O=x*x/(g*g+1);return O<=p/2*p/2}function fbe(a,n,r,o,l,c,f,p,g,v,x){if(g===0)return!1;var O=g;if(x>n+O&&x>o+O&&x>c+O&&x>p+O||x<n-O&&x<o-O&&x<c-O&&x<p-O||v>a+O&&v>r+O&&v>l+O&&v>f+O||v<a-O&&v<r-O&&v<l-O&&v<f-O)return!1;var w=VV(a,n,r,o,l,c,f,p,v,x,null);return w<=O/2}function tF(a,n,r,o,l,c,f,p,g){if(f===0)return!1;var v=f;if(g>n+v&&g>o+v&&g>c+v||g<n-v&&g<o-v&&g<c-v||p>a+v&&p>r+v&&p>l+v||p<a-v&&p<r-v&&p<l-v)return!1;var x=GV(a,n,r,o,l,c,p,g,null);return x<=v/2}var nF=Math.PI*2;function vo(a){return a%=nF,a<0&&(a+=nF),a}var _0=Math.PI*2;function hbe(a,n,r,o,l,c,f,p,g){if(f===0)return!1;var v=f;p-=a,g-=n;var x=Math.sqrt(p*p+g*g);if(x-v>r||x+v<r)return!1;if(Math.abs(o-l)%_0<1e-4)return!0;if(c){var O=o;o=vo(l),l=vo(O)}else o=vo(o),l=vo(l);o>l&&(l+=_0);var w=Math.atan2(g,p);return w<0&&(w+=_0),w>=o&&w<=l||w+_0>=o&&w+_0<=l}function Au(a,n,r,o,l,c){if(c>n&&c>o||c<n&&c<o||o===n)return 0;var f=(c-n)/(o-n),p=o<n?1:-1;(f===1||f===0)&&(p=o<n?.5:-.5);var g=f*(r-a)+a;return g===l?1/0:g>l?p:0}var zc=xl.CMD,Af=Math.PI*2,pbe=1e-4;function mbe(a,n){return Math.abs(a-n)<pbe}var va=[-1,-1,-1],Vo=[-1,-1];function gbe(){var a=Vo[0];Vo[0]=Vo[1],Vo[1]=a}function vbe(a,n,r,o,l,c,f,p,g,v){if(v>n&&v>o&&v>c&&v>p||v<n&&v<o&&v<c&&v<p)return 0;var x=OO(n,o,c,p,v,va);if(x===0)return 0;for(var O=0,w=-1,S=void 0,k=void 0,P=0;P<x;P++){var E=va[P],M=E===0||E===1?.5:1,R=di(a,r,l,f,E);R<g||(w<0&&(w=jV(n,o,c,p,Vo),Vo[1]<Vo[0]&&w>1&&gbe(),S=di(n,o,c,p,Vo[0]),w>1&&(k=di(n,o,c,p,Vo[1]))),w===2?E<Vo[0]?O+=S<n?M:-M:E<Vo[1]?O+=k<S?M:-M:O+=p<k?M:-M:E<Vo[0]?O+=S<n?M:-M:O+=p<S?M:-M)}return O}function ybe(a,n,r,o,l,c,f,p){if(p>n&&p>o&&p>c||p<n&&p<o&&p<c)return 0;var g=w_e(n,o,c,p,va);if(g===0)return 0;var v=FV(n,o,c);if(v>=0&&v<=1){for(var x=0,O=Pi(n,o,c,v),w=0;w<g;w++){var S=va[w]===0||va[w]===1?.5:1,k=Pi(a,r,l,va[w]);k<f||(va[w]<v?x+=O<n?S:-S:x+=c<O?S:-S)}return x}else{var S=va[0]===0||va[0]===1?.5:1,k=Pi(a,r,l,va[0]);return k<f?0:c<n?S:-S}}function xbe(a,n,r,o,l,c,f,p){if(p-=n,p>r||p<-r)return 0;var g=Math.sqrt(r*r-p*p);va[0]=-g,va[1]=g;var v=Math.abs(o-l);if(v<1e-4)return 0;if(v>=Af-1e-4){o=0,l=Af;var x=c?1:-1;return f>=va[0]+a&&f<=va[1]+a?x:0}if(o>l){var O=o;o=l,l=O}o<0&&(o+=Af,l+=Af);for(var w=0,S=0;S<2;S++){var k=va[S];if(k+a>f){var P=Math.atan2(p,k),x=c?1:-1;P<0&&(P=Af+P),(P>=o&&P<=l||P+Af>=o&&P+Af<=l)&&(P>Math.PI/2&&P<Math.PI*1.5&&(x=-x),w+=x)}}return w}function rF(a,n,r,o,l){for(var c=a.data,f=a.len(),p=0,g=0,v=0,x=0,O=0,w,S,k=0;k<f;){var P=c[k++],E=k===1;switch(P===zc.M&&k>1&&(r||(p+=Au(g,v,x,O,o,l))),E&&(g=c[k],v=c[k+1],x=g,O=v),P){case zc.M:x=c[k++],O=c[k++],g=x,v=O;break;case zc.L:if(r){if($c(g,v,c[k],c[k+1],n,o,l))return!0}else p+=Au(g,v,c[k],c[k+1],o,l)||0;g=c[k++],v=c[k++];break;case zc.C:if(r){if(fbe(g,v,c[k++],c[k++],c[k++],c[k++],c[k],c[k+1],n,o,l))return!0}else p+=vbe(g,v,c[k++],c[k++],c[k++],c[k++],c[k],c[k+1],o,l)||0;g=c[k++],v=c[k++];break;case zc.Q:if(r){if(tF(g,v,c[k++],c[k++],c[k],c[k+1],n,o,l))return!0}else p+=ybe(g,v,c[k++],c[k++],c[k],c[k+1],o,l)||0;g=c[k++],v=c[k++];break;case zc.A:var M=c[k++],R=c[k++],N=c[k++],j=c[k++],W=c[k++],U=c[k++];k+=1;var X=!!(1-c[k++]);w=Math.cos(W)*N+M,S=Math.sin(W)*j+R,E?(x=w,O=S):p+=Au(g,v,w,S,o,l);var J=(o-M)*j/N+M;if(r){if(hbe(M,R,j,W,W+U,X,n,J,l))return!0}else p+=xbe(M,R,j,W,W+U,X,J,l);g=Math.cos(W+U)*N+M,v=Math.sin(W+U)*j+R;break;case zc.R:x=g=c[k++],O=v=c[k++];var re=c[k++],ie=c[k++];if(w=x+re,S=O+ie,r){if($c(x,O,w,O,n,o,l)||$c(w,O,w,S,n,o,l)||$c(w,S,x,S,n,o,l)||$c(x,S,x,O,n,o,l))return!0}else p+=Au(w,O,w,S,o,l),p+=Au(x,S,x,O,o,l);break;case zc.Z:if(r){if($c(g,v,x,O,n,o,l))return!0}else p+=Au(g,v,x,O,o,l);g=x,v=O;break}}return!r&&!mbe(v,O)&&(p+=Au(g,v,x,O,o,l)||0),p!==0}function _be(a,n,r){return rF(a,0,!1,n,r)}function Obe(a,n,r,o){return rF(a,n,!0,r,o)}var tb=be({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},bf),bbe={style:be({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},HO.style)},SE=ul.concat(["invisible","culling","z","z2","zlevel","parent"]),Jt=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.update=function(){var r=this;a.prototype.update.call(this);var o=this.style;if(o.decal){var l=this._decalEl=this._decalEl||new n;l.buildPath===n.prototype.buildPath&&(l.buildPath=function(g){r.buildPath(g,r.shape)}),l.silent=!0;var c=l.style;for(var f in o)c[f]!==o[f]&&(c[f]=o[f]);c.fill=o.fill?o.decal:null,c.decal=null,c.shadowColor=null,o.strokeFirst&&(c.stroke=null);for(var p=0;p<SE.length;++p)l[SE[p]]=this[SE[p]];l.__dirty|=po}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var o=He(r);this.shape=this.getDefaultShape();var l=this.getDefaultStyle();l&&this.useStyle(l);for(var c=0;c<o.length;c++){var f=o[c],p=r[f];f==="style"?this.style?ee(this.style,p):this.useStyle(p):f==="shape"?ee(this.shape,p):a.prototype.attrKV.call(this,f,p)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(De(r)){var o=c0(r,0);return o>.5?jP:o>.2?tOe:VP}else if(r)return VP}return jP},n.prototype.getInsideTextStroke=function(r){var o=this.style.fill;if(De(o)){var l=this.__zr,c=!!(l&&l.isDarkMode()),f=c0(r,0)<QP;if(c===f)return o}},n.prototype.buildPath=function(r,o,l){},n.prototype.pathUpdated=function(){this.__dirty&=~Vp},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new xl(!1)},n.prototype.hasStroke=function(){var r=this.style,o=r.stroke;return!(o==null||o==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,o=r.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,o=this.style,l=!r;if(l){var c=!1;this.path||(c=!0,this.createPathProxy());var f=this.path;(c||this.__dirty&Vp)&&(f.beginPath(),this.buildPath(f,this.shape,!1),this.pathUpdated()),r=f.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var p=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||l){p.copy(r);var g=o.strokeNoScale?this.getLineScale():1,v=o.lineWidth;if(!this.hasFill()){var x=this.strokeContainThreshold;v=Math.max(v,x??4)}g>1e-10&&(p.width+=v/g,p.height+=v/g,p.x-=v/g/2,p.y-=v/g/2)}return p}return r},n.prototype.contain=function(r,o){var l=this.transformCoordToLocal(r,o),c=this.getBoundingRect(),f=this.style;if(r=l[0],o=l[1],c.contain(r,o)){var p=this.path;if(this.hasStroke()){var g=f.lineWidth,v=f.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),Obe(p,g/v,r,o)))return!0}if(this.hasFill())return _be(p,r,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=Vp,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,o){r==="shape"?this.setShape(o):a.prototype.attrKV.call(this,r,o)},n.prototype.setShape=function(r,o){var l=this.shape;return l||(l=this.shape={}),typeof r=="string"?l[r]=o:ee(l,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&Vp)},n.prototype.createStyle=function(r){return zn(tb,r)},n.prototype._innerSaveToNormal=function(r){a.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.shape&&!o.shape&&(o.shape=ee({},this.shape))},n.prototype._applyStateObj=function(r,o,l,c,f,p){a.prototype._applyStateObj.call(this,r,o,l,c,f,p);var g=!(o&&c),v;if(o&&o.shape?f?c?v=o.shape:(v=ee({},l.shape),ee(v,o.shape)):(v=ee({},c?this.shape:l.shape),ee(v,o.shape)):g&&(v=l.shape),v)if(f){this.shape=ee({},this.shape);for(var x={},O=He(v),w=0;w<O.length;w++){var S=O[w];typeof v[S]=="object"?this.shape[S]=v[S]:x[S]=v[S]}this._transitionState(r,{shape:x},p)}else this.shape=v,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var o=a.prototype._mergeStates.call(this,r),l,c=0;c<r.length;c++){var f=r[c];f.shape&&(l=l||{},this._mergeStyle(l,f.shape))}return l&&(o.shape=l),o},n.prototype.getAnimationStyleProps=function(){return bbe},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var o=(function(c){u(f,c);function f(p){var g=c.call(this,p)||this;return r.init&&r.init.call(g,p),g}return f.prototype.getDefaultStyle=function(){return ne(r.style)},f.prototype.getDefaultShape=function(){return ne(r.shape)},f})(n);for(var l in r)typeof r[l]=="function"&&(o.prototype[l]=r[l]);return o},n.initDefaultProps=(function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=po|i0|Vp})(),n})(jo),wbe=be({strokeFirst:!0,font:T,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},tb),tm=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.hasStroke=function(){return X8(this.style)},n.prototype.hasFill=function(){var r=this.style,o=r.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(r){return zn(wbe,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){return this._rect||(this._rect=obe(this.style)),this._rect},n.initDefaultProps=(function(){var r=n.prototype;r.dirtyRectTolerance=10})(),n})(jo);tm.prototype.type="tspan";var Sbe=be({x:0,y:0},bf),Tbe={style:be({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},HO.style)};function Cbe(a){return!!(a&&typeof a!="string"&&a.width&&a.height)}var fi=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return zn(Sbe,r)},n.prototype._getSize=function(r){var o=this.style,l=o[r];if(l!=null)return l;var c=Cbe(o.image)?o.image:this.__image;if(!c)return 0;var f=r==="width"?"height":"width",p=o[f];return p==null?c[r]:c[r]/c[f]*p},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return Tbe},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new wt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n})(jo);fi.prototype.type="image";function kbe(a,n){var r=n.x,o=n.y,l=n.width,c=n.height,f=n.r,p,g,v,x;l<0&&(r=r+l,l=-l),c<0&&(o=o+c,c=-c),typeof f=="number"?p=g=v=x=f:f instanceof Array?f.length===1?p=g=v=x=f[0]:f.length===2?(p=v=f[0],g=x=f[1]):f.length===3?(p=f[0],g=x=f[1],v=f[2]):(p=f[0],g=f[1],v=f[2],x=f[3]):p=g=v=x=0;var O;p+g>l&&(O=p+g,p*=l/O,g*=l/O),v+x>l&&(O=v+x,v*=l/O,x*=l/O),g+v>c&&(O=g+v,g*=c/O,v*=c/O),p+x>c&&(O=p+x,p*=c/O,x*=c/O),a.moveTo(r+p,o),a.lineTo(r+l-g,o),g!==0&&a.arc(r+l-g,o+g,g,-Math.PI/2,0),a.lineTo(r+l,o+c-v),v!==0&&a.arc(r+l-v,o+c-v,v,0,Math.PI/2),a.lineTo(r+x,o+c),x!==0&&a.arc(r+x,o+c-x,x,Math.PI/2,Math.PI),a.lineTo(r,o+p),p!==0&&a.arc(r+p,o+p,p,Math.PI,Math.PI*1.5)}var nm=Math.round;function nb(a,n,r){if(n){var o=n.x1,l=n.x2,c=n.y1,f=n.y2;a.x1=o,a.x2=l,a.y1=c,a.y2=f;var p=r&&r.lineWidth;return p&&(nm(o*2)===nm(l*2)&&(a.x1=a.x2=yo(o,p,!0)),nm(c*2)===nm(f*2)&&(a.y1=a.y2=yo(c,p,!0))),a}}function iF(a,n,r){if(n){var o=n.x,l=n.y,c=n.width,f=n.height;a.x=o,a.y=l,a.width=c,a.height=f;var p=r&&r.lineWidth;return p&&(a.x=yo(o,p,!0),a.y=yo(l,p,!0),a.width=Math.max(yo(o+c,p,!1)-a.x,c===0?0:1),a.height=Math.max(yo(l+f,p,!1)-a.y,f===0?0:1)),a}}function yo(a,n,r){if(!n)return a;var o=nm(a*2);return(o+nm(n))%2===0?o/2:(o+(r?1:-1))/2}var Abe=(function(){function a(){this.x=0,this.y=0,this.width=0,this.height=0}return a})(),Pbe={},Zt=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new Abe},n.prototype.buildPath=function(r,o){var l,c,f,p;if(this.subPixelOptimize){var g=iF(Pbe,o,this.style);l=g.x,c=g.y,f=g.width,p=g.height,g.r=o.r,o=g}else l=o.x,c=o.y,f=o.width,p=o.height;o.r?kbe(r,o):r.rect(l,c,f,p)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n})(Jt);Zt.prototype.type="rect";var aF={fill:"#000"},oF=2,_l={},Ebe={style:be({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},HO.style)},un=(function(a){u(n,a);function n(r){var o=a.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=aF,o.attr(r),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var o=this._children[r];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):a.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var o=this.innerTransformable;return o?o.getLocalTransform(r):a.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,Ibe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){a.prototype.addSelfToZr.call(this,r);for(var o=0;o<this._children.length;o++)this._children[o].__zr=r},n.prototype.removeSelfFromZr=function(r){a.prototype.removeSelfFromZr.call(this,r);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new wt(0,0,0,0),o=this._children,l=[],c=null,f=0;f<o.length;f++){var p=o[f],g=p.getBoundingRect(),v=p.getLocalTransform(l);v?(r.copy(g),r.applyTransform(v),c=c||r.clone(),c.union(r)):(c=c||g.clone(),c.union(g))}this._rect=c||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||aF},n.prototype.setTextContent=function(r){throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(r,o){if(!o)return r;var l=o.rich,c=r.rich||l&&{};return ee(r,o),l&&c?(this._mergeRich(c,l),r.rich=c):c&&(r.rich=c),r},n.prototype._mergeRich=function(r,o){for(var l=He(o),c=0;c<l.length;c++){var f=l[c];r[f]=r[f]||{},ee(r[f],o[f])}},n.prototype.getAnimationStyleProps=function(){return Ebe},n.prototype._getOrCreateChild=function(r){var o=this._children[this._childCursor];return(!o||!(o instanceof r))&&(o=new r),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var r=this.style,o=r.font||T,l=r.padding,c=this._defaultStyle,f=r.x||0,p=r.y||0,g=r.align||c.align||"left",v=r.verticalAlign||c.verticalAlign||"top";q8(_l,c.overflowRect,f,p,g,v),f=_l.baseX,p=_l.baseY;var x=mF(r),O=JOe(x,r,_l.outerWidth,_l.outerHeight),w=TE(r),S=!!r.backgroundColor,k=O.outerHeight,P=O.outerWidth,E=O.lines,M=O.lineHeight;this.isTruncated=!!O.isTruncated;var R=f,N=gf(p,O.contentHeight,v);if(w||l){var j=Zp(f,P,g),W=gf(p,k,v);w&&this._renderBackground(r,r,j,W,P,k)}N+=M/2,l&&(R=pF(f,g,l),v==="top"?N+=l[0]:v==="bottom"&&(N-=l[2]));for(var U=0,X=!1,J=!1,re=hF("fill"in r?r.fill:(J=!0,c.fill)),ie=fF("stroke"in r?r.stroke:!S&&(!c.autoStroke||J)?(U=oF,X=!0,c.stroke):null),le=r.textShadowBlur>0,pe=0;pe<E.length;pe++){var ce=this._getOrCreateChild(tm),ye=ce.createStyle();ce.useStyle(ye),ye.text=E[pe],ye.x=R,ye.y=N,ye.textAlign=g,ye.textBaseline="middle",ye.opacity=r.opacity,ye.strokeFirst=!0,le&&(ye.shadowBlur=r.textShadowBlur||0,ye.shadowColor=r.textShadowColor||"transparent",ye.shadowOffsetX=r.textShadowOffsetX||0,ye.shadowOffsetY=r.textShadowOffsetY||0),ye.stroke=ie,ye.fill=re,ie&&(ye.lineWidth=r.lineWidth||U,ye.lineDash=r.lineDash,ye.lineDashOffset=r.lineDashOffset||0),ye.font=o,uF(ye,r),N+=M,ce.setBoundingRect(hE(ye,O.contentWidth,O.calculatedLineHeight,X?0:null))}},n.prototype._updateRichTexts=function(){var r=this.style,o=this._defaultStyle,l=r.align||o.align,c=r.verticalAlign||o.verticalAlign,f=r.x||0,p=r.y||0;q8(_l,o.overflowRect,f,p,l,c),f=_l.baseX,p=_l.baseY;var g=mF(r),v=nbe(g,r,_l.outerWidth,_l.outerHeight,l),x=v.width,O=v.outerWidth,w=v.outerHeight,S=r.padding;this.isTruncated=!!v.isTruncated;var k=Zp(f,O,l),P=gf(p,w,c),E=k,M=P;S&&(E+=S[3],M+=S[0]);var R=E+x;TE(r)&&this._renderBackground(r,r,k,P,O,w);for(var N=!!r.backgroundColor,j=0;j<v.lines.length;j++){for(var W=v.lines[j],U=W.tokens,X=U.length,J=W.lineHeight,re=W.width,ie=0,le=E,pe=R,ce=X-1,ye=void 0;ie<X&&(ye=U[ie],!ye.align||ye.align==="left");)this._placeToken(ye,r,J,M,le,"left",N),re-=ye.width,le+=ye.width,ie++;for(;ce>=0&&(ye=U[ce],ye.align==="right");)this._placeToken(ye,r,J,M,pe,"right",N),re-=ye.width,pe-=ye.width,ce--;for(le+=(x-(le-E)-(R-pe)-re)/2;ie<=ce;)ye=U[ie],this._placeToken(ye,r,J,M,le+ye.width/2,"center",N),le+=ye.width,ie++;M+=J}},n.prototype._placeToken=function(r,o,l,c,f,p,g){var v=o.rich[r.styleName]||{};v.text=r.text;var x=r.verticalAlign,O=c+l/2;x==="top"?O=c+r.height/2:x==="bottom"&&(O=c+l-r.height/2);var w=!r.isLineHolder&&TE(v);w&&this._renderBackground(v,o,p==="right"?f-r.width:p==="center"?f-r.width/2:f,O-r.height/2,r.width,r.height);var S=!!v.backgroundColor,k=r.textPadding;k&&(f=pF(f,p,k),O-=r.height/2-k[0]-r.innerHeight/2);var P=this._getOrCreateChild(tm),E=P.createStyle();P.useStyle(E);var M=this._defaultStyle,R=!1,N=0,j=!1,W=hF("fill"in v?v.fill:"fill"in o?o.fill:(R=!0,M.fill)),U=fF("stroke"in v?v.stroke:"stroke"in o?o.stroke:!S&&!g&&(!M.autoStroke||R)?(N=oF,j=!0,M.stroke):null),X=v.textShadowBlur>0||o.textShadowBlur>0;E.text=r.text,E.x=f,E.y=O,X&&(E.shadowBlur=v.textShadowBlur||o.textShadowBlur||0,E.shadowColor=v.textShadowColor||o.textShadowColor||"transparent",E.shadowOffsetX=v.textShadowOffsetX||o.textShadowOffsetX||0,E.shadowOffsetY=v.textShadowOffsetY||o.textShadowOffsetY||0),E.textAlign=p,E.textBaseline="middle",E.font=r.font||T,E.opacity=zt(v.opacity,o.opacity,1),uF(E,v),U&&(E.lineWidth=zt(v.lineWidth,o.lineWidth,N),E.lineDash=$e(v.lineDash,o.lineDash),E.lineDashOffset=o.lineDashOffset||0,E.stroke=U),W&&(E.fill=W),P.setBoundingRect(hE(E,r.contentWidth,r.contentHeight,j?0:null))},n.prototype._renderBackground=function(r,o,l,c,f,p){var g=r.backgroundColor,v=r.borderWidth,x=r.borderColor,O=g&&g.image,w=g&&!O,S=r.borderRadius,k=this,P,E;if(w||r.lineHeight||v&&x){P=this._getOrCreateChild(Zt),P.useStyle(P.createStyle()),P.style.fill=null;var M=P.shape;M.x=l,M.y=c,M.width=f,M.height=p,M.r=S,P.dirtyShape()}if(w){var R=P.style;R.fill=g||null,R.fillOpacity=$e(r.fillOpacity,1)}else if(O){E=this._getOrCreateChild(fi),E.onload=function(){k.dirtyStyle()};var N=E.style;N.image=g.image,N.x=l,N.y=c,N.width=f,N.height=p}if(v&&x){var R=P.style;R.lineWidth=v,R.stroke=x,R.strokeOpacity=$e(r.strokeOpacity,1),R.lineDash=r.borderDash,R.lineDashOffset=r.borderDashOffset||0,P.strokeContainThreshold=0,P.hasFill()&&P.hasStroke()&&(R.strokeFirst=!0,R.lineWidth*=2)}var j=(P||E).style;j.shadowBlur=r.shadowBlur||0,j.shadowColor=r.shadowColor||"transparent",j.shadowOffsetX=r.shadowOffsetX||0,j.shadowOffsetY=r.shadowOffsetY||0,j.opacity=zt(r.opacity,o.opacity,1)},n.makeFont=function(r){var o="";return cF(r)&&(o=[r.fontStyle,r.fontWeight,lF(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),o&&An(o)||r.textFont||r.font},n})(jo),Mbe={left:!0,right:1,center:1},Dbe={top:1,bottom:1,middle:1},sF=["fontStyle","fontWeight","fontSize","fontFamily"];function lF(a){return typeof a=="string"&&(a.indexOf("px")!==-1||a.indexOf("rem")!==-1||a.indexOf("em")!==-1)?a:isNaN(+a)?_+"px":a+"px"}function uF(a,n){for(var r=0;r<sF.length;r++){var o=sF[r],l=n[o];l!=null&&(a[o]=l)}}function cF(a){return a.fontSize!=null||a.fontFamily||a.fontWeight}function Ibe(a){return dF(a),Z(a.rich,dF),a}function dF(a){if(a){a.font=un.makeFont(a);var n=a.align;n==="middle"&&(n="center"),a.align=n==null||Mbe[n]?n:"left";var r=a.verticalAlign;r==="center"&&(r="middle"),a.verticalAlign=r==null||Dbe[r]?r:"top";var o=a.padding;o&&(a.padding=gn(a.padding))}}function fF(a,n){return a==null||n<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function hF(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function pF(a,n,r){return n==="right"?a-r[1]:n==="center"?a+r[3]/2-r[1]/2:a+r[3]}function mF(a){var n=a.text;return n!=null&&(n+=""),n}function TE(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}var Et=Kt(),CE=function(a,n,r,o){if(o){var l=Et(o);l.dataIndex=r,l.dataType=n,l.seriesIndex=a,l.ssrType="chart",o.type==="group"&&o.traverse(function(c){var f=Et(c);f.seriesIndex=a,f.dataIndex=r,f.dataType=n,f.ssrType="chart"})}},gF=1,vF={},yF=Kt(),kE=Kt(),AE=0,O0=1,rb=2,ya=["emphasis","blur","select"],b0=["normal","emphasis","blur","select"],rm=10,Rbe=9,Pf="highlight",ib="downplay",ab="select",PE="unselect",ob="toggleSelect",EE="selectchanged";function im(a){return a!=null&&a!=="none"}function sb(a,n,r){a.onHoverStateChange&&(a.hoverState||0)!==r&&a.onHoverStateChange(n),a.hoverState=r}function xF(a){sb(a,"emphasis",rb)}function _F(a){a.hoverState===rb&&sb(a,"normal",AE)}function ME(a){sb(a,"blur",O0)}function OF(a){a.hoverState===O0&&sb(a,"normal",AE)}function Lbe(a){a.selected=!0}function Nbe(a){a.selected=!1}function bF(a,n,r){n(a,r)}function Pu(a,n,r){bF(a,n,r),a.isGroup&&a.traverse(function(o){bF(o,n,r)})}function lb(a,n){switch(n){case"emphasis":a.hoverState=rb;break;case"normal":a.hoverState=AE;break;case"blur":a.hoverState=O0;break;case"select":a.selected=!0}}function $be(a,n,r,o){for(var l=a.style,c={},f=0;f<n.length;f++){var p=n[f],g=l[p];c[p]=g??(o&&o[p])}for(var f=0;f<a.animators.length;f++){var v=a.animators[f];v.__fromStateTransition&&v.__fromStateTransition.indexOf(r)<0&&v.targetName==="style"&&v.saveTo(c,n)}return c}function zbe(a,n,r,o){var l=r&&se(r,"select")>=0,c=!1;if(a instanceof Jt){var f=yF(a),p=l&&f.selectFill||f.normalFill,g=l&&f.selectStroke||f.normalStroke;if(im(p)||im(g)){o=o||{};var v=o.style||{};v.fill==="inherit"?(c=!0,o=ee({},o),v=ee({},v),v.fill=p):!im(v.fill)&&im(p)?(c=!0,o=ee({},o),v=ee({},v),v.fill=TO(p)):!im(v.stroke)&&im(g)&&(c||(o=ee({},o),v=ee({},v)),v.stroke=TO(g)),o.style=v}}if(o&&o.z2==null){c||(o=ee({},o));var x=a.z2EmphasisLift;o.z2=a.z2+(x??rm)}return o}function Bbe(a,n,r){if(r&&r.z2==null){r=ee({},r);var o=a.z2SelectLift;r.z2=a.z2+(o??Rbe)}return r}function Qbe(a,n,r){var o=se(a.currentStates,n)>=0,l=a.style.opacity,c=o?null:$be(a,["opacity"],n,{opacity:1});r=r||{};var f=r.style||{};return f.opacity==null&&(r=ee({},r),f=ee({opacity:o?l:c.opacity*.1},f),r.style=f),r}function DE(a,n){var r=this.states[a];if(this.style){if(a==="emphasis")return zbe(this,a,n,r);if(a==="blur")return Qbe(this,a,r);if(a==="select")return Bbe(this,a,r)}return r}function Ef(a){a.stateProxy=DE;var n=a.getTextContent(),r=a.getTextGuideLine();n&&(n.stateProxy=DE),r&&(r.stateProxy=DE)}function wF(a,n){!AF(a,n)&&!a.__highByOuter&&Pu(a,xF)}function SF(a,n){!AF(a,n)&&!a.__highByOuter&&Pu(a,_F)}function Eu(a,n){a.__highByOuter|=1<<(n||0),Pu(a,xF)}function Mu(a,n){!(a.__highByOuter&=~(1<<(n||0)))&&Pu(a,_F)}function TF(a){Pu(a,ME)}function IE(a){Pu(a,OF)}function CF(a){Pu(a,Lbe)}function kF(a){Pu(a,Nbe)}function AF(a,n){return a.__highDownSilentOnTouch&&n.zrByTouch}function PF(a){var n=a.getModel(),r=[],o=[];n.eachComponent(function(l,c){var f=kE(c),p=l==="series",g=p?a.getViewOfSeriesModel(c):a.getViewOfComponentModel(c);!p&&o.push(g),f.isBlured&&(g.group.traverse(function(v){OF(v)}),p&&r.push(c)),f.isBlured=!1}),Z(o,function(l){l&&l.toggleBlurSeries&&l.toggleBlurSeries(r,!1,n)})}function RE(a,n,r,o){var l=o.getModel();r=r||"coordinateSystem";function c(v,x){for(var O=0;O<x.length;O++){var w=v.getItemGraphicEl(x[O]);w&&IE(w)}}if(a!=null&&!(!n||n==="none")){var f=l.getSeriesByIndex(a),p=f.coordinateSystem;p&&p.master&&(p=p.master);var g=[];l.eachSeries(function(v){var x=f===v,O=v.coordinateSystem;O&&O.master&&(O=O.master);var w=O&&p?O===p:x;if(!(r==="series"&&!x||r==="coordinateSystem"&&!w||n==="series"&&x)){var S=o.getViewOfSeriesModel(v);if(S.group.traverse(function(E){E.__highByOuter&&x&&n==="self"||ME(E)}),Le(n))c(v.getData(),n);else if(Ze(n))for(var k=He(n),P=0;P<k.length;P++)c(v.getData(k[P]),n[k[P]]);g.push(v),kE(v).isBlured=!0}}),l.eachComponent(function(v,x){if(v!=="series"){var O=o.getViewOfComponentModel(x);O&&O.toggleBlurSeries&&O.toggleBlurSeries(g,!0,l)}})}}function LE(a,n,r){if(!(a==null||n==null)){var o=r.getModel().getComponent(a,n);if(o){kE(o).isBlured=!0;var l=r.getViewOfComponentModel(o);!l||!l.focusBlurEnabled||l.group.traverse(function(c){ME(c)})}}}function jbe(a,n,r){var o=a.seriesIndex,l=a.getData(n.dataType);if(!l){cn("Unknown dataType "+n.dataType);return}var c=xf(l,n);c=(ke(c)?c[0]:c)||0;var f=l.getItemGraphicEl(c);if(!f)for(var p=l.count(),g=0;!f&&g<p;)f=l.getItemGraphicEl(g++);if(f){var v=Et(f);RE(o,v.focus,v.blurScope,r)}else{var x=a.get(["emphasis","focus"]),O=a.get(["emphasis","blurScope"]);x!=null&&RE(o,x,O,r)}}function NE(a,n,r,o){var l={focusSelf:!1,dispatchers:null};if(a==null||a==="series"||n==null||r==null)return l;var c=o.getModel().getComponent(a,n);if(!c)return l;var f=o.getViewOfComponentModel(c);if(!f||!f.findHighDownDispatchers)return l;for(var p=f.findHighDownDispatchers(r),g,v=0;v<p.length;v++)if(Qc(p[v])||cn("param should be highDownDispatcher"),Et(p[v]).focus==="self"){g=!0;break}return{focusSelf:g,dispatchers:p}}function Vbe(a,n,r){Qc(a)||cn("param should be highDownDispatcher");var o=Et(a),l=NE(o.componentMainType,o.componentIndex,o.componentHighDownName,r),c=l.dispatchers,f=l.focusSelf;c?(f&&LE(o.componentMainType,o.componentIndex,r),Z(c,function(p){return wF(p,n)})):(RE(o.seriesIndex,o.focus,o.blurScope,r),o.focus==="self"&&LE(o.componentMainType,o.componentIndex,r),wF(a,n))}function Fbe(a,n,r){Qc(a)||cn("param should be highDownDispatcher"),PF(r);var o=Et(a),l=NE(o.componentMainType,o.componentIndex,o.componentHighDownName,r).dispatchers;l?Z(l,function(c){return SF(c,n)}):SF(a,n)}function Gbe(a,n,r){if(zE(n)){var o=n.dataType,l=a.getData(o),c=xf(l,n);ke(c)||(c=[c]),a[n.type===ob?"toggleSelect":n.type===ab?"select":"unselect"](c,o)}}function EF(a){var n=a.getAllData();Z(n,function(r){var o=r.data,l=r.type;o.eachItemGraphicEl(function(c,f){a.isSelected(f,l)?CF(c):kF(c)})})}function Wbe(a){var n=[];return a.eachSeries(function(r){var o=r.getAllData();Z(o,function(l){l.data;var c=l.type,f=r.getSelectedDataIndices();if(f.length>0){var p={dataIndex:f,seriesIndex:r.seriesIndex};c!=null&&(p.dataType=c),n.push(p)}})}),n}function Bc(a,n,r){Mf(a,!0),Pu(a,Ef),$E(a,n,r)}function Ube(a){Mf(a,!1)}function ar(a,n,r,o){o?Ube(a):Bc(a,n,r)}function $E(a,n,r){var o=Et(a);n!=null?(o.focus=n,o.blurScope=r):o.focus&&(o.focus=null)}var MF=["emphasis","blur","select"],qbe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Kr(a,n,r,o){r=r||"itemStyle";for(var l=0;l<MF.length;l++){var c=MF[l],f=n.getModel([c,r]),p=a.ensureState(c);p.style=o?o(f):f[qbe[r]]()}}function Mf(a,n){var r=n===!1,o=a;a.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!r||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!r)}function Qc(a){return!!(a&&a.__highDownDispatcher)}function Zbe(a,n,r){var o=Et(a);o.componentMainType=n.mainType,o.componentIndex=n.componentIndex,o.componentHighDownName=r}function Hbe(a){var n=vF[a];return n==null&&gF<=32&&(n=vF[a]=gF++),n}function zE(a){var n=a.type;return n===ab||n===PE||n===ob}function DF(a){var n=a.type;return n===Pf||n===ib}function Xbe(a){var n=yF(a);n.normalFill=a.style.fill,n.normalStroke=a.style.stroke;var r=a.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var am=xl.CMD,Ybe=[[],[],[]],IF=Math.sqrt,Kbe=Math.atan2;function RF(a,n){if(n){var r=a.data,o=a.len(),l,c,f,p,g,v,x=am.M,O=am.C,w=am.L,S=am.R,k=am.A,P=am.Q;for(f=0,p=0;f<o;){switch(l=r[f++],p=f,c=0,l){case x:c=1;break;case w:c=1;break;case O:c=3;break;case P:c=2;break;case k:var E=n[4],M=n[5],R=IF(n[0]*n[0]+n[1]*n[1]),N=IF(n[2]*n[2]+n[3]*n[3]),j=Kbe(-n[1]/N,n[0]/R);r[f]*=R,r[f++]+=E,r[f]*=N,r[f++]+=M,r[f++]*=R,r[f++]*=N,r[f++]+=j,r[f++]+=j,f+=2,p=f;break;case S:v[0]=r[f++],v[1]=r[f++],yr(v,v,n),r[p++]=v[0],r[p++]=v[1],v[0]+=r[f++],v[1]+=r[f++],yr(v,v,n),r[p++]=v[0],r[p++]=v[1]}for(g=0;g<c;g++){var W=Ybe[g];W[0]=r[f++],W[1]=r[f++],yr(W,W,n),r[p++]=W[0],r[p++]=W[1]}}a.increaseVersion()}}var BE=Math.sqrt,ub=Math.sin,cb=Math.cos,w0=Math.PI;function LF(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function QE(a,n){return(a[0]*n[0]+a[1]*n[1])/(LF(a)*LF(n))}function NF(a,n){return(a[0]*n[1]<a[1]*n[0]?-1:1)*Math.acos(QE(a,n))}function $F(a,n,r,o,l,c,f,p,g,v,x){var O=g*(w0/180),w=cb(O)*(a-r)/2+ub(O)*(n-o)/2,S=-1*ub(O)*(a-r)/2+cb(O)*(n-o)/2,k=w*w/(f*f)+S*S/(p*p);k>1&&(f*=BE(k),p*=BE(k));var P=(l===c?-1:1)*BE((f*f*(p*p)-f*f*(S*S)-p*p*(w*w))/(f*f*(S*S)+p*p*(w*w)))||0,E=P*f*S/p,M=P*-p*w/f,R=(a+r)/2+cb(O)*E-ub(O)*M,N=(n+o)/2+ub(O)*E+cb(O)*M,j=NF([1,0],[(w-E)/f,(S-M)/p]),W=[(w-E)/f,(S-M)/p],U=[(-1*w-E)/f,(-1*S-M)/p],X=NF(W,U);if(QE(W,U)<=-1&&(X=w0),QE(W,U)>=1&&(X=0),X<0){var J=Math.round(X/w0*1e6)/1e6;X=w0*2+J%2*w0}x.addData(v,R,N,f,p,j,X,O,c)}var Jbe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,e2e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function t2e(a){var n=new xl;if(!a)return n;var r=0,o=0,l=r,c=o,f,p=xl.CMD,g=a.match(Jbe);if(!g)return n;for(var v=0;v<g.length;v++){for(var x=g[v],O=x.charAt(0),w=void 0,S=x.match(e2e)||[],k=S.length,P=0;P<k;P++)S[P]=parseFloat(S[P]);for(var E=0;E<k;){var M=void 0,R=void 0,N=void 0,j=void 0,W=void 0,U=void 0,X=void 0,J=r,re=o,ie=void 0,le=void 0;switch(O){case"l":r+=S[E++],o+=S[E++],w=p.L,n.addData(w,r,o);break;case"L":r=S[E++],o=S[E++],w=p.L,n.addData(w,r,o);break;case"m":r+=S[E++],o+=S[E++],w=p.M,n.addData(w,r,o),l=r,c=o,O="l";break;case"M":r=S[E++],o=S[E++],w=p.M,n.addData(w,r,o),l=r,c=o,O="L";break;case"h":r+=S[E++],w=p.L,n.addData(w,r,o);break;case"H":r=S[E++],w=p.L,n.addData(w,r,o);break;case"v":o+=S[E++],w=p.L,n.addData(w,r,o);break;case"V":o=S[E++],w=p.L,n.addData(w,r,o);break;case"C":w=p.C,n.addData(w,S[E++],S[E++],S[E++],S[E++],S[E++],S[E++]),r=S[E-2],o=S[E-1];break;case"c":w=p.C,n.addData(w,S[E++]+r,S[E++]+o,S[E++]+r,S[E++]+o,S[E++]+r,S[E++]+o),r+=S[E-2],o+=S[E-1];break;case"S":M=r,R=o,ie=n.len(),le=n.data,f===p.C&&(M+=r-le[ie-4],R+=o-le[ie-3]),w=p.C,J=S[E++],re=S[E++],r=S[E++],o=S[E++],n.addData(w,M,R,J,re,r,o);break;case"s":M=r,R=o,ie=n.len(),le=n.data,f===p.C&&(M+=r-le[ie-4],R+=o-le[ie-3]),w=p.C,J=r+S[E++],re=o+S[E++],r+=S[E++],o+=S[E++],n.addData(w,M,R,J,re,r,o);break;case"Q":J=S[E++],re=S[E++],r=S[E++],o=S[E++],w=p.Q,n.addData(w,J,re,r,o);break;case"q":J=S[E++]+r,re=S[E++]+o,r+=S[E++],o+=S[E++],w=p.Q,n.addData(w,J,re,r,o);break;case"T":M=r,R=o,ie=n.len(),le=n.data,f===p.Q&&(M+=r-le[ie-4],R+=o-le[ie-3]),r=S[E++],o=S[E++],w=p.Q,n.addData(w,M,R,r,o);break;case"t":M=r,R=o,ie=n.len(),le=n.data,f===p.Q&&(M+=r-le[ie-4],R+=o-le[ie-3]),r+=S[E++],o+=S[E++],w=p.Q,n.addData(w,M,R,r,o);break;case"A":N=S[E++],j=S[E++],W=S[E++],U=S[E++],X=S[E++],J=r,re=o,r=S[E++],o=S[E++],w=p.A,$F(J,re,r,o,U,X,N,j,W,w,n);break;case"a":N=S[E++],j=S[E++],W=S[E++],U=S[E++],X=S[E++],J=r,re=o,r+=S[E++],o+=S[E++],w=p.A,$F(J,re,r,o,U,X,N,j,W,w,n);break}}(O==="z"||O==="Z")&&(w=p.Z,n.addData(w),r=l,o=c),f=w}return n.toStatic(),n}var zF=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n})(Jt);function BF(a){return a.setData!=null}function QF(a,n){var r=t2e(a),o=ee({},n);return o.buildPath=function(l){var c=BF(l);if(c&&l.canSave()){l.appendPath(r);var f=l.getContext();f&&l.rebuildPath(f,1)}else{var f=c?l.getContext():l;f&&r.rebuildPath(f,1)}},o.applyTransform=function(l){RF(r,l),this.dirtyShape()},o}function jF(a,n){return new zF(QF(a,n))}function n2e(a,n){var r=QF(a,n),o=(function(l){u(c,l);function c(f){var p=l.call(this,f)||this;return p.applyTransform=r.applyTransform,p.buildPath=r.buildPath,p}return c})(zF);return o}function r2e(a,n){for(var r=[],o=a.length,l=0;l<o;l++){var c=a[l];r.push(c.getUpdatedPathProxy(!0))}var f=new Jt(n);return f.createPathProxy(),f.buildPath=function(p){if(BF(p)){p.appendPath(r);var g=p.getContext();g&&p.rebuildPath(g,1)}},f}function jE(a,n){n=n||{};var r=new Jt;return a.shape&&r.setShape(a.shape),r.setStyle(a.style),n.bakeTransform?RF(r.path,a.getComputedTransform()):n.toLocal?r.setLocalTransform(a.getComputedTransform()):r.copyTransform(a),r.buildPath=a.buildPath,r.applyTransform=r.applyTransform,r.z=a.z,r.z2=a.z2,r.zlevel=a.zlevel,r}var i2e=(function(){function a(){this.cx=0,this.cy=0,this.r=0}return a})(),Ol=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new i2e},n.prototype.buildPath=function(r,o){r.moveTo(o.cx+o.r,o.cy),r.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n})(Jt);Ol.prototype.type="circle";var a2e=(function(){function a(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return a})(),S0=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new a2e},n.prototype.buildPath=function(r,o){var l=.5522848,c=o.cx,f=o.cy,p=o.rx,g=o.ry,v=p*l,x=g*l;r.moveTo(c-p,f),r.bezierCurveTo(c-p,f-x,c-v,f-g,c,f-g),r.bezierCurveTo(c+v,f-g,c+p,f-x,c+p,f),r.bezierCurveTo(c+p,f+x,c+v,f+g,c,f+g),r.bezierCurveTo(c-v,f+g,c-p,f+x,c-p,f),r.closePath()},n})(Jt);S0.prototype.type="ellipse";var VF=Math.PI,VE=VF*2,Df=Math.sin,om=Math.cos,o2e=Math.acos,ta=Math.atan2,FF=Math.abs,T0=Math.sqrt,C0=Math.max,bl=Math.min,Es=1e-4;function s2e(a,n,r,o,l,c,f,p){var g=r-a,v=o-n,x=f-l,O=p-c,w=O*g-x*v;if(!(w*w<Es))return w=(x*(n-c)-O*(a-l))/w,[a+w*g,n+w*v]}function db(a,n,r,o,l,c,f){var p=a-r,g=n-o,v=(f?c:-c)/T0(p*p+g*g),x=v*g,O=-v*p,w=a+x,S=n+O,k=r+x,P=o+O,E=(w+k)/2,M=(S+P)/2,R=k-w,N=P-S,j=R*R+N*N,W=l-c,U=w*P-k*S,X=(N<0?-1:1)*T0(C0(0,W*W*j-U*U)),J=(U*N-R*X)/j,re=(-U*R-N*X)/j,ie=(U*N+R*X)/j,le=(-U*R+N*X)/j,pe=J-E,ce=re-M,ye=ie-E,Oe=le-M;return pe*pe+ce*ce>ye*ye+Oe*Oe&&(J=ie,re=le),{cx:J,cy:re,x0:-x,y0:-O,x1:J*(l/W-1),y1:re*(l/W-1)}}function l2e(a){var n;if(ke(a)){var r=a.length;if(!r)return a;r===1?n=[a[0],a[0],0,0]:r===2?n=[a[0],a[0],a[1],a[1]]:r===3?n=a.concat(a[2]):n=a}else n=[a,a,a,a];return n}function u2e(a,n){var r,o=C0(n.r,0),l=C0(n.r0||0,0),c=o>0,f=l>0;if(!(!c&&!f)){if(c||(o=l,l=0),l>o){var p=o;o=l,l=p}var g=n.startAngle,v=n.endAngle;if(!(isNaN(g)||isNaN(v))){var x=n.cx,O=n.cy,w=!!n.clockwise,S=FF(v-g),k=S>VE&&S%VE;if(k>Es&&(S=k),!(o>Es))a.moveTo(x,O);else if(S>VE-Es)a.moveTo(x+o*om(g),O+o*Df(g)),a.arc(x,O,o,g,v,!w),l>Es&&(a.moveTo(x+l*om(v),O+l*Df(v)),a.arc(x,O,l,v,g,w));else{var P=void 0,E=void 0,M=void 0,R=void 0,N=void 0,j=void 0,W=void 0,U=void 0,X=void 0,J=void 0,re=void 0,ie=void 0,le=void 0,pe=void 0,ce=void 0,ye=void 0,Oe=o*om(g),_e=o*Df(g),Pe=l*om(v),Se=l*Df(v),Re=S>Es;if(Re){var Ne=n.cornerRadius;Ne&&(r=l2e(Ne),P=r[0],E=r[1],M=r[2],R=r[3]);var Be=FF(o-l)/2;if(N=bl(Be,M),j=bl(Be,R),W=bl(Be,P),U=bl(Be,E),re=X=C0(N,j),ie=J=C0(W,U),(X>Es||J>Es)&&(le=o*om(v),pe=o*Df(v),ce=l*om(g),ye=l*Df(g),S<VF)){var Fe=s2e(Oe,_e,ce,ye,le,pe,Pe,Se);if(Fe){var rt=Oe-Fe[0],ht=_e-Fe[1],Mt=le-Fe[0],vn=pe-Fe[1],Rn=1/Df(o2e((rt*Mt+ht*vn)/(T0(rt*rt+ht*ht)*T0(Mt*Mt+vn*vn)))/2),Dt=T0(Fe[0]*Fe[0]+Fe[1]*Fe[1]);re=bl(X,(o-Dt)/(Rn+1)),ie=bl(J,(l-Dt)/(Rn-1))}}}if(!Re)a.moveTo(x+Oe,O+_e);else if(re>Es){var Ot=bl(M,re),Ft=bl(R,re),pt=db(ce,ye,Oe,_e,o,Ot,w),Rt=db(le,pe,Pe,Se,o,Ft,w);a.moveTo(x+pt.cx+pt.x0,O+pt.cy+pt.y0),re<X&&Ot===Ft?a.arc(x+pt.cx,O+pt.cy,re,ta(pt.y0,pt.x0),ta(Rt.y0,Rt.x0),!w):(Ot>0&&a.arc(x+pt.cx,O+pt.cy,Ot,ta(pt.y0,pt.x0),ta(pt.y1,pt.x1),!w),a.arc(x,O,o,ta(pt.cy+pt.y1,pt.cx+pt.x1),ta(Rt.cy+Rt.y1,Rt.cx+Rt.x1),!w),Ft>0&&a.arc(x+Rt.cx,O+Rt.cy,Ft,ta(Rt.y1,Rt.x1),ta(Rt.y0,Rt.x0),!w))}else a.moveTo(x+Oe,O+_e),a.arc(x,O,o,g,v,!w);if(!(l>Es)||!Re)a.lineTo(x+Pe,O+Se);else if(ie>Es){var Ot=bl(P,ie),Ft=bl(E,ie),pt=db(Pe,Se,le,pe,l,-Ft,w),Rt=db(Oe,_e,ce,ye,l,-Ot,w);a.lineTo(x+pt.cx+pt.x0,O+pt.cy+pt.y0),ie<J&&Ot===Ft?a.arc(x+pt.cx,O+pt.cy,ie,ta(pt.y0,pt.x0),ta(Rt.y0,Rt.x0),!w):(Ft>0&&a.arc(x+pt.cx,O+pt.cy,Ft,ta(pt.y0,pt.x0),ta(pt.y1,pt.x1),!w),a.arc(x,O,l,ta(pt.cy+pt.y1,pt.cx+pt.x1),ta(Rt.cy+Rt.y1,Rt.cx+Rt.x1),w),Ot>0&&a.arc(x+Rt.cx,O+Rt.cy,Ot,ta(Rt.y1,Rt.x1),ta(Rt.y0,Rt.x0),!w))}else a.lineTo(x+Pe,O+Se),a.arc(x,O,l,v,g,w)}a.closePath()}}}var c2e=(function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return a})(),Vi=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new c2e},n.prototype.buildPath=function(r,o){u2e(r,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n})(Jt);Vi.prototype.type="sector";var d2e=(function(){function a(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return a})(),sm=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new d2e},n.prototype.buildPath=function(r,o){var l=o.cx,c=o.cy,f=Math.PI*2;r.moveTo(l+o.r,c),r.arc(l,c,o.r,0,f,!1),r.moveTo(l+o.r0,c),r.arc(l,c,o.r0,0,f,!0)},n})(Jt);sm.prototype.type="ring";function f2e(a,n,r,o){var l=[],c=[],f=[],p=[],g,v,x,O;if(o){x=[1/0,1/0],O=[-1/0,-1/0];for(var w=0,S=a.length;w<S;w++)No(x,x,a[w]),Os(O,O,a[w]);No(x,x,o[0]),Os(O,O,o[1])}for(var w=0,S=a.length;w<S;w++){var k=a[w];if(r)g=a[w?w-1:S-1],v=a[(w+1)%S];else if(w===0||w===S-1){l.push(ji(a[w]));continue}else g=a[w-1],v=a[w+1];fo(c,v,g),uf(c,c,n);var P=cf(k,g),E=cf(k,v),M=P+E;M!==0&&(P/=M,E/=M),uf(f,c,-P),uf(p,c,E);var R=Np([],k,f),N=Np([],k,p);o&&(Os(R,R,x),No(R,R,O),Os(N,N,x),No(N,N,O)),l.push(R),l.push(N)}return r&&l.push(l.shift()),l}function GF(a,n,r){var o=n.smooth,l=n.points;if(l&&l.length>=2){if(o){var c=f2e(l,o,r,n.smoothConstraint);a.moveTo(l[0][0],l[0][1]);for(var f=l.length,p=0;p<(r?f:f-1);p++){var g=c[p*2],v=c[p*2+1],x=l[(p+1)%f];a.bezierCurveTo(g[0],g[1],v[0],v[1],x[0],x[1])}}else{a.moveTo(l[0][0],l[0][1]);for(var p=1,O=l.length;p<O;p++)a.lineTo(l[p][0],l[p][1])}r&&a.closePath()}}var h2e=(function(){function a(){this.points=null,this.smooth=0,this.smoothConstraint=null}return a})(),Fi=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new h2e},n.prototype.buildPath=function(r,o){GF(r,o,!0)},n})(Jt);Fi.prototype.type="polygon";var p2e=(function(){function a(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return a})(),Ei=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new p2e},n.prototype.buildPath=function(r,o){GF(r,o,!1)},n})(Jt);Ei.prototype.type="polyline";var m2e={},g2e=(function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a})(),$r=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new g2e},n.prototype.buildPath=function(r,o){var l,c,f,p;if(this.subPixelOptimize){var g=nb(m2e,o,this.style);l=g.x1,c=g.y1,f=g.x2,p=g.y2}else l=o.x1,c=o.y1,f=o.x2,p=o.y2;var v=o.percent;v!==0&&(r.moveTo(l,c),v<1&&(f=l*(1-v)+f*v,p=c*(1-v)+p*v),r.lineTo(f,p))},n.prototype.pointAt=function(r){var o=this.shape;return[o.x1*(1-r)+o.x2*r,o.y1*(1-r)+o.y2*r]},n})(Jt);$r.prototype.type="line";var Va=[],v2e=(function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return a})();function WF(a,n,r){var o=a.cpx2,l=a.cpy2;return o!=null||l!=null?[(r?QV:di)(a.x1,a.cpx1,a.cpx2,a.x2,n),(r?QV:di)(a.y1,a.cpy1,a.cpy2,a.y2,n)]:[(r?OP:Pi)(a.x1,a.cpx1,a.x2,n),(r?OP:Pi)(a.y1,a.cpy1,a.y2,n)]}var lm=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new v2e},n.prototype.buildPath=function(r,o){var l=o.x1,c=o.y1,f=o.x2,p=o.y2,g=o.cpx1,v=o.cpy1,x=o.cpx2,O=o.cpy2,w=o.percent;w!==0&&(r.moveTo(l,c),x==null||O==null?(w<1&&(o0(l,g,f,w,Va),g=Va[1],f=Va[2],o0(c,v,p,w,Va),v=Va[1],p=Va[2]),r.quadraticCurveTo(g,v,f,p)):(w<1&&(Mc(l,g,x,f,w,Va),g=Va[1],x=Va[2],f=Va[3],Mc(c,v,O,p,w,Va),v=Va[1],O=Va[2],p=Va[3]),r.bezierCurveTo(g,v,x,O,f,p)))},n.prototype.pointAt=function(r){return WF(this.shape,r,!1)},n.prototype.tangentAt=function(r){var o=WF(this.shape,r,!0);return al(o,o)},n})(Jt);lm.prototype.type="bezier-curve";var y2e=(function(){function a(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a})(),k0=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new y2e},n.prototype.buildPath=function(r,o){var l=o.cx,c=o.cy,f=Math.max(o.r,0),p=o.startAngle,g=o.endAngle,v=o.clockwise,x=Math.cos(p),O=Math.sin(p);r.moveTo(x*f+l,O*f+c),r.arc(l,c,f,p,g,!v)},n})(Jt);k0.prototype.type="arc";var A0=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,o=this.shapeChanged(),l=0;l<r.length;l++)o=o||r[l].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],o=this.getGlobalScale(),l=0;l<r.length;l++)r[l].path||r[l].createPathProxy(),r[l].path.setScale(o[0],o[1],r[l].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,o){for(var l=o.paths||[],c=0;c<l.length;c++)l[c].buildPath(r,l[c].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],o=0;o<r.length;o++)r[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Jt.prototype.getBoundingRect.call(this)},n})(Jt),UF=(function(){function a(n){this.colorStops=n||[]}return a.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},a})(),If=(function(a){u(n,a);function n(r,o,l,c,f,p){var g=a.call(this,f)||this;return g.x=r??0,g.y=o??0,g.x2=l??1,g.y2=c??0,g.type="linear",g.global=p||!1,g}return n})(UF),FE=(function(a){u(n,a);function n(r,o,l,c,f){var p=a.call(this,c)||this;return p.x=r??.5,p.y=o??.5,p.r=l??.5,p.type="radial",p.global=f||!1,p}return n})(UF),GE=Math.min,x2e=Math.max,fb=Math.abs,Rf=[0,0],Lf=[0,0],Mi=CV(),hb=Mi.minTv,pb=Mi.maxTv,qF=(function(){function a(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new bt;for(var o=0;o<2;o++)this._axes[o]=new bt;n&&this.fromBoundingRect(n,r)}return a.prototype.fromBoundingRect=function(n,r){var o=this._corners,l=this._axes,c=n.x,f=n.y,p=c+n.width,g=f+n.height;if(o[0].set(c,f),o[1].set(p,f),o[2].set(p,g),o[3].set(c,g),r)for(var v=0;v<4;v++)o[v].transform(r);bt.sub(l[0],o[1],o[0]),bt.sub(l[1],o[3],o[0]),l[0].normalize(),l[1].normalize();for(var v=0;v<2;v++)this._origin[v]=l[v].dot(o[0])},a.prototype.intersect=function(n,r,o){var l=!0,c=!r;return r&&bt.set(r,0,0),Mi.reset(o,!c),!this._intersectCheckOneSide(this,n,c,1)&&(l=!1,c)||!this._intersectCheckOneSide(n,this,c,-1)&&(l=!1,c)||!c&&!Mi.negativeSize&&bt.copy(r,l?Mi.useDir?Mi.dirMinTv:hb:pb),l},a.prototype._intersectCheckOneSide=function(n,r,o,l){for(var c=!0,f=0;f<2;f++){var p=n._axes[f];if(n._getProjMinMaxOnAxis(f,n._corners,Rf),n._getProjMinMaxOnAxis(f,r._corners,Lf),Mi.negativeSize||Rf[1]<Lf[0]||Rf[0]>Lf[1]){if(c=!1,Mi.negativeSize||o)return c;var g=fb(Lf[0]-Rf[1]),v=fb(Rf[0]-Lf[1]);GE(g,v)>pb.len()&&(g<v?bt.scale(pb,p,-g*l):bt.scale(pb,p,v*l))}else if(!o){var g=fb(Lf[0]-Rf[1]),v=fb(Rf[0]-Lf[1]);(Mi.useDir||GE(g,v)<hb.len())&&((g<v||!Mi.bidirectional)&&(bt.scale(hb,p,g*l),Mi.useDir&&Mi.calcDirMTV()),(g>=v||!Mi.bidirectional)&&(bt.scale(hb,p,-v*l),Mi.useDir&&Mi.calcDirMTV()))}}return c},a.prototype._getProjMinMaxOnAxis=function(n,r,o){for(var l=this._axes[n],c=this._origin,f=r[0].dot(l)+c[n],p=f,g=f,v=1;v<r.length;v++){var x=r[v].dot(l)+c[n];p=GE(x,p),g=x2e(x,g)}o[0]=p+Mi.touchThreshold,o[1]=g-Mi.touchThreshold,Mi.negativeSize=o[1]<o[0]},a})(),_2e=[],ZF=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,o){r.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,o){o?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,o){o=o||!1;for(var l=0;l<r.length;l++)this.addDisplayable(r[l],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var o=this._cursor;o<this._displayables.length;o++)r&&r(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)r&&r(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var o=this._displayables[r];o.parent=this,o.update(),o.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var o=this._temporaryDisplayables[r];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new wt(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var l=this._displayables[o],c=l.getBoundingRect().clone();l.needLocalTransform()&&c.applyTransform(l.getLocalTransform(_2e)),r.union(c)}this._rect=r}return this._rect},n.prototype.contain=function(r,o){var l=this.transformCoordToLocal(r,o),c=this.getBoundingRect();if(c.contain(l[0],l[1]))for(var f=0;f<this._displayables.length;f++){var p=this._displayables[f];if(p.contain(r,o))return!0}return!1},n})(jo),HF=Kt();function um(a,n,r,o,l){var c;if(n&&n.ecModel){var f=n.ecModel.getUpdatePayload();c=f&&f.animation}var p=n&&n.isAnimationEnabled(),g=a==="update";if(p){var v=void 0,x=void 0,O=void 0;o?(v=$e(o.duration,200),x=$e(o.easing,"cubicOut"),O=0):(v=n.getShallow(g?"animationDurationUpdate":"animationDuration"),x=n.getShallow(g?"animationEasingUpdate":"animationEasing"),O=n.getShallow(g?"animationDelayUpdate":"animationDelay")),c&&(c.duration!=null&&(v=c.duration),c.easing!=null&&(x=c.easing),c.delay!=null&&(O=c.delay)),Ge(O)&&(O=O(r,l)),Ge(v)&&(v=v(r));var w={duration:v||0,delay:O,easing:x};return w}else return null}function WE(a,n,r,o,l,c,f){var p=!1,g;Ge(l)?(f=c,c=l,l=null):Ze(l)&&(c=l.cb,f=l.during,p=l.isFrom,g=l.removeOpt,l=l.dataIndex);var v=a==="leave";v||n.stopAnimation("leave");var x=um(a,o,l,v?g||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,l):null);if(x&&x.duration>0){var O=x.duration,w=x.delay,S=x.easing,k={duration:O,delay:w||0,easing:S,done:c,force:!!c||!!f,setToFinal:!v,scope:a,during:f};p?n.animateFrom(r,k):n.animateTo(r,k)}else n.stopAnimation(),!p&&n.attr(r),f&&f(1),c&&c()}function pn(a,n,r,o,l,c){WE("update",a,n,r,o,l,c)}function Jn(a,n,r,o,l,c){WE("enter",a,n,r,o,l,c)}function cm(a){if(!a.__zr)return!0;for(var n=0;n<a.animators.length;n++){var r=a.animators[n];if(r.scope==="leave")return!0}return!1}function jc(a,n,r,o,l,c){cm(a)||WE("leave",a,n,r,o,l,c)}function XF(a,n,r,o){a.removeTextContent(),a.removeTextGuideLine(),jc(a,{style:{opacity:0}},n,r,o)}function Du(a,n,r){function o(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(l){l.isGroup||XF(l,n,r,o)}):XF(a,n,r,o)}function Fo(a){HF(a).oldStyle=a.style}function O2e(a){return HF(a).oldStyle}var UE={},Bt=["x","y"],Gr=["width","height"];function YF(a){return Jt.extend(a)}var b2e=n2e;function KF(a,n){return b2e(a,n)}function Go(a,n){UE[a]=n}function P0(a){if(UE.hasOwnProperty(a))return UE[a]}function dm(a,n,r,o){var l=jF(a,n);return r&&(o==="center"&&(r=JF(r,l.getBoundingRect())),ZE(l,r)),l}function qE(a,n,r){var o=new fi({style:{image:a,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(l){if(r==="center"){var c={width:l.width,height:l.height};o.setStyle(JF(n,c))}}});return o}function JF(a,n){var r=n.width/n.height,o=a.height*r,l;o<=a.width?l=a.height:(o=a.width,l=o/r);var c=a.x+a.width/2,f=a.y+a.height/2;return{x:c-o/2,y:f-l/2,width:o,height:l}}var xo=r2e;function ZE(a,n){if(a.applyTransform){var r=a.getBoundingRect(),o=r.calculateTransform(n);a.applyTransform(o)}}function fm(a,n){return nb(a,a,{lineWidth:n}),a}function w2e(a,n){return iF(a,a,n),a}var mb=yo;function Vc(a,n){for(var r=sl([]);a&&a!==n;)ho(r,a.getLocalTransform(),r),a=a.parent;return r}function Ms(a,n,r){return n&&!Le(n)&&(n=Cu.getLocalTransform(n)),r&&(n=za([],n)),yr([],a,n)}function gb(a,n,r){var o=n[4]===0||n[5]===0||n[0]===0?1:fl(2*n[4]/n[0]),l=n[4]===0||n[5]===0||n[2]===0?1:fl(2*n[4]/n[2]),c=[a==="left"?-o:a==="right"?o:0,a==="top"?-l:a==="bottom"?l:0];return c=Ms(c,n,r),fl(c[0])>fl(c[1])?c[0]>0?"right":"left":c[1]>0?"bottom":"top"}function e7(a){return!a.isGroup}function S2e(a){return a.shape!=null}function E0(a,n,r){if(!a||!n)return;function o(f){var p={};return f.traverse(function(g){e7(g)&&g.anid&&(p[g.anid]=g)}),p}function l(f){var p={x:f.x,y:f.y,rotation:f.rotation};return S2e(f)&&(p.shape=ne(f.shape)),p}var c=o(a);n.traverse(function(f){if(e7(f)&&f.anid){var p=c[f.anid];if(p){var g=l(f);f.attr(l(p)),pn(f,g,r,Et(f).dataIndex)}}})}function HE(a,n){return ve(a,function(r){var o=r[0];o=Rr(o,n.x),o=mo(o,n.x+n.width);var l=r[1];return l=Rr(l,n.y),l=mo(l,n.y+n.height),[o,l]})}function t7(a,n){var r=Rr(a.x,n.x),o=mo(a.x+a.width,n.x+n.width),l=Rr(a.y,n.y),c=mo(a.y+a.height,n.y+n.height);if(o>=r&&c>=l)return{x:r,y:l,width:o-r,height:c-l}}function hm(a,n,r){var o=ee({rectHover:!0},n),l=o.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},a)return a.indexOf("image://")===0?(l.image=a.slice(8),be(l,r),new fi(o)):dm(a.replace("path://",""),o,r,"center")}function M0(a,n,r,o,l){for(var c=0,f=l[l.length-1];c<l.length;c++){var p=l[c];if(n7(a,n,r,o,p[0],p[1],f[0],f[1]))return!0;f=p}}function n7(a,n,r,o,l,c,f,p){var g=r-a,v=o-n,x=f-l,O=p-c,w=XE(x,O,g,v);if(T2e(w))return!1;var S=a-l,k=n-c,P=XE(S,k,g,v)/w;if(P<0||P>1)return!1;var E=XE(S,k,x,O)/w;return!(E<0||E>1)}function XE(a,n,r,o){return a*o-r*n}function T2e(a){return a<=1e-6&&a>=-1e-6}function Nf(a,n,r,o,l){return n==null||(dt(n)?hr[0]=hr[1]=hr[2]=hr[3]=n:(Ke(n.length===4),hr[0]=n[0],hr[1]=n[1],hr[2]=n[2],hr[3]=n[3]),o&&(hr[0]=Rr(0,hr[0]),hr[1]=Rr(0,hr[1]),hr[2]=Rr(0,hr[2]),hr[3]=Rr(0,hr[3])),r&&(hr[0]=-hr[0],hr[1]=-hr[1],hr[2]=-hr[2],hr[3]=-hr[3]),r7(a,hr,"x","width",3,1,l&&l[0]||0),r7(a,hr,"y","height",0,2,l&&l[1]||0)),a}var hr=[0,0,0,0];function r7(a,n,r,o,l,c,f){var p=n[c]+n[l],g=a[o];a[o]+=p,f=Rr(0,mo(f,g)),a[o]<f?(a[o]=f,a[r]+=n[l]>=0?-n[l]:n[c]>=0?g+n[c]:fl(p)>1e-8?(g-f)*n[l]/p:0):a[r]-=n[l]}function Iu(a){var n=a.itemTooltipOption,r=a.componentModel,o=a.itemName,l=De(n)?{formatter:n}:n,c=r.mainType,f=r.componentIndex,p={componentType:c,name:o,$vars:["name"]};p[c+"Index"]=f;var g=a.formatterParamsExtra;g&&Z(He(g),function(x){Je(p,x)||(p[x]=g[x],p.$vars.push(x))});var v=Et(a.el);v.componentMainType=c,v.componentIndex=f,v.tooltipConfig={name:o,option:be({content:o,encodeHTMLContent:!0,formatterParams:p},l)}}function YE(a,n){var r;a.isGroup&&(r=n(a)),r||a.traverse(n)}function Fc(a,n){if(a)if(ke(a))for(var r=0;r<a.length;r++)YE(a[r],n);else YE(a,n)}function KE(a){return!a||fl(a[1])<vb&&fl(a[2])<vb||fl(a[0])<vb&&fl(a[3])<vb}var vb=1e-5;function D0(a,n){return a?wt.copy(a,n):n.clone()}function JE(a,n){return n?ws(a||Ir(),n):void 0}function $f(a){return{z:a.get("z")||0,zlevel:a.get("zlevel")||0}}function i7(a){var n=-1/0,r=1/0;YE(a,function(c){o(c),o(c.getTextContent()),o(c.getTextGuideLine())});function o(c){if(!(!c||c.isGroup)){var f=c.currentStates;if(f.length)for(var p=0;p<f.length;p++)l(c.states[f[p]]);l(c)}}function l(c){if(c){var f=c.z2;f>n&&(n=f),f<r&&(r=f)}}return r>n&&(r=n=0),{min:r,max:n}}function yb(a,n,r){a7(a,n,r,-1/0)}function a7(a,n,r,o){if(a.ignoreModelZ)return o;var l=a.getTextContent(),c=a.getTextGuideLine(),f=a.isGroup;if(f)for(var p=a.childrenRef(),g=0;g<p.length;g++)o=Rr(a7(p[g],n,r,o),o);else a.z=n,a.zlevel=r,o=Rr(a.z2||0,o);if(l&&(l.z=n,l.zlevel=r,isFinite(o)&&(l.z2=o+2)),c){var v=a.textGuideLineConfig;c.z=n,c.zlevel=r,isFinite(o)&&(c.z2=o+(v&&v.showAbove?1:-1))}return o}Go("circle",Ol),Go("ellipse",S0),Go("sector",Vi),Go("ring",sm),Go("polygon",Fi),Go("polyline",Ei),Go("rect",Zt),Go("line",$r),Go("bezierCurve",lm),Go("arc",k0);var zf=Object.freeze({__proto__:null,updateProps:pn,initProps:Jn,removeElement:jc,removeElementWithFadeOut:Du,isElementRemoved:cm,XY:Bt,WH:Gr,extendShape:YF,extendPath:KF,registerShape:Go,getShapeClass:P0,makePath:dm,makeImage:qE,mergePath:xo,resizePath:ZE,subPixelOptimizeLine:fm,subPixelOptimizeRect:w2e,subPixelOptimize:mb,getTransform:Vc,applyTransform:Ms,transformDirection:gb,groupTransition:E0,clipPointsByRect:HE,clipRectByRect:t7,createIcon:hm,linePolygonIntersect:M0,lineLineIntersect:n7,expandOrShrinkRect:Nf,setTooltipConfig:Iu,traverseElements:Fc,isBoundingRectAxisAligned:KE,ensureCopyRect:D0,ensureCopyTransform:JE,retrieveZInfo:$f,calcZ2Range:i7,traverseUpdateZ:yb,Group:_t,Image:fi,Text:un,Circle:Ol,Ellipse:S0,Sector:Vi,Ring:sm,Polygon:Fi,Polyline:Ei,Rect:Zt,Line:$r,BezierCurve:lm,Arc:k0,IncrementalDisplayable:ZF,CompoundPath:A0,LinearGradient:If,RadialGradient:FE,BoundingRect:wt,OrientedBoundingRect:qF,Point:bt,Path:Jt}),xb={};function o7(a,n){for(var r=0;r<ya.length;r++){var o=ya[r],l=n[o],c=a.ensureState(o);c.style=c.style||{},c.style.text=l}var f=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:n.normal}),a.useStates(f,!0)}function eM(a,n,r){var o=a.labelFetcher,l=a.labelDataIndex,c=a.labelDimIndex,f=n.normal,p;o&&(p=o.getFormattedLabel(l,"normal",null,c,f&&f.get("formatter"),r!=null?{interpolatedValue:r}:null)),p==null&&(p=Ge(a.defaultText)?a.defaultText(l,a,r):a.defaultText);for(var g={normal:p},v=0;v<ya.length;v++){var x=ya[v],O=n[x];g[x]=$e(o?o.getFormattedLabel(l,x,null,c,O&&O.get("formatter")):null,p)}return g}function hi(a,n,r,o){r=r||xb;for(var l=a instanceof un,c=!1,f=0;f<b0.length;f++){var p=n[b0[f]];if(p&&p.getShallow("show")){c=!0;break}}var g=l?a:a.getTextContent();if(c){l||(g||(g=new un,a.setTextContent(g)),a.stateProxy&&(g.stateProxy=a.stateProxy));var v=eM(r,n),x=n.normal,O=!!x.getShallow("show"),w=Fn(x,o&&o.normal,r,!1,!l);w.text=v.normal,l||a.setTextConfig(_b(x,r,!1));for(var f=0;f<ya.length;f++){var S=ya[f],p=n[S];if(p){var k=g.ensureState(S),P=!!$e(p.getShallow("show"),O);if(P!==O&&(k.ignore=!P),k.style=Fn(p,o&&o[S],r,!0,!l),k.style.text=v[S],!l){var E=a.ensureState(S);E.textConfig=_b(p,r,!0)}}}g.silent=!!x.getShallow("silent"),g.style.x!=null&&(w.x=g.style.x),g.style.y!=null&&(w.y=g.style.y),g.ignore=!O,g.useStyle(w),g.dirty(),r.enableTextSetter&&(pm(g).setLabelText=function(M){var R=eM(r,n,M);o7(g,R)})}else g&&(g.ignore=!0);a.dirty()}function Jr(a,n){n=n||"label";for(var r={normal:a.getModel(n)},o=0;o<ya.length;o++){var l=ya[o];r[l]=a.getModel([l,n])}return r}function Fn(a,n,r,o,l){var c={};return C2e(c,a,r,o,l),n&&ee(c,n),c}function _b(a,n,r){n=n||{};var o={},l,c=a.getShallow("rotate"),f=$e(a.getShallow("distance"),r?null:5),p=a.getShallow("offset");return l=a.getShallow("position")||(r?null:"inside"),l==="outside"&&(l=n.defaultOutsidePosition||"top"),l!=null&&(o.position=l),p!=null&&(o.offset=p),c!=null&&(c*=Math.PI/180,o.rotation=c),f!=null&&(o.distance=f),o.outsideFill=a.get("color")==="inherit"?n.inheritColor||null:"auto",n.autoOverflowArea!=null&&(o.autoOverflowArea=n.autoOverflowArea),n.layoutRect!=null&&(o.layoutRect=n.layoutRect),o}function C2e(a,n,r,o,l){r=r||xb;var c=n.ecModel,f=c&&c.option.textStyle,p=k2e(n),g;if(p){g={};var v="richInheritPlainLabel",x=$e(n.get(v),c?c.get(v):void 0);for(var O in p)if(p.hasOwnProperty(O)){var w=n.getModel(["rich",O]);c7(g[O]={},w,f,n,x,r,o,l,!1,!0)}}g&&(a.rich=g);var S=n.get("overflow");S&&(a.overflow=S);var k=n.get("lineOverflow");k&&(a.lineOverflow=k);var P=a,E=n.get("minMargin");if(E!=null)E=dt(E)?E/2:0,P.margin=[E,E,E,E],P.__marginType=mm.minMargin;else{var M=n.get("textMargin");M!=null&&(P.margin=gn(M),P.__marginType=mm.textMargin)}c7(a,n,f,null,null,r,o,l,!0,!1)}function k2e(a){for(var n;a&&a!==a.ecModel;){var r=(a.option||xb).rich;if(r){n=n||{};for(var o=He(r),l=0;l<o.length;l++){var c=o[l];n[c]=1}}a=a.parentModel}return n}var s7=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],l7=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],u7=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function c7(a,n,r,o,l,c,f,p,g,v){r=!f&&r||xb;var x=c&&c.inheritColor,O=n.getShallow("color"),w=n.getShallow("textBorderColor"),S=$e(n.getShallow("opacity"),r.opacity);(O==="inherit"||O==="auto")&&(O==="auto"&&Nr("color: 'auto'","color: 'inherit'"),x?O=x:O=null),(w==="inherit"||w==="auto")&&(w==="auto"&&Nr("color: 'auto'","color: 'inherit'"),x?w=x:w=null),p||(O=O||r.color,w=w||r.textBorderColor),O!=null&&(a.fill=O),w!=null&&(a.stroke=w);var k=$e(n.getShallow("textBorderWidth"),r.textBorderWidth);k!=null&&(a.lineWidth=k);var P=$e(n.getShallow("textBorderType"),r.textBorderType);P!=null&&(a.lineDash=P);var E=$e(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);E!=null&&(a.lineDashOffset=E),!f&&S==null&&!v&&(S=c&&c.defaultOpacity),S!=null&&(a.opacity=S),!f&&!p&&a.fill==null&&c.inheritColor&&(a.fill=c.inheritColor);for(var M=0;M<s7.length;M++){var R=s7[M],N=l!==!1&&o?zt(n.getShallow(R),o.getShallow(R),r[R]):$e(n.getShallow(R),r[R]);N!=null&&(a[R]=N)}for(var M=0;M<l7.length;M++){var R=l7[M],N=n.getShallow(R);N!=null&&(a[R]=N)}if(a.verticalAlign==null){var j=n.getShallow("baseline");j!=null&&(a.verticalAlign=j)}if(!g||!c.disableBox){for(var M=0;M<u7.length;M++){var R=u7[M],N=n.getShallow(R);N!=null&&(a[R]=N)}var W=n.getShallow("borderType");W!=null&&(a.borderDash=W),(a.backgroundColor==="auto"||a.backgroundColor==="inherit")&&x&&(a.backgroundColor==="auto"&&Nr("backgroundColor: 'auto'","backgroundColor: 'inherit'"),a.backgroundColor=x),(a.borderColor==="auto"||a.borderColor==="inherit")&&x&&(a.borderColor==="auto"&&Nr("borderColor: 'auto'","borderColor: 'inherit'"),a.borderColor=x)}}function tM(a,n){var r=n&&n.getModel("textStyle");return An([a.fontStyle||r&&r.getShallow("fontStyle")||"",a.fontWeight||r&&r.getShallow("fontWeight")||"",(a.fontSize||r&&r.getShallow("fontSize")||12)+"px",a.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var pm=Kt();function d7(a,n,r,o){if(a){var l=pm(a);l.prevValue=l.value,l.value=r;var c=n.normal;l.valueAnimation=c.get("valueAnimation"),l.valueAnimation&&(l.precision=c.get("precision"),l.defaultInterpolatedText=o,l.statesModels=n)}}function f7(a,n,r,o,l){var c=pm(a);if(!c.valueAnimation||c.prevValue===c.value)return;var f=c.defaultInterpolatedText,p=$e(c.interpolatedValue,c.prevValue),g=c.value;function v(x){var O=z8(r,c.precision,p,g,x);c.interpolatedValue=x===1?null:O;var w=eM({labelDataIndex:n,labelFetcher:l,defaultText:f?f(O):O+""},c.statesModels,O);o7(a,w)}a.percent=0,(c.prevValue==null?Jn:pn)(a,{percent:1},o,n,null,v)}var mm={minMargin:1,textMargin:2},A2e=["textStyle","color"],nM=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],rM=new un,P2e=(function(){function a(){}return a.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(A2e):null)},a.prototype.getFont=function(){return tM({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<nM.length;o++)r[nM[o]]=this.getShallow(nM[o]);return rM.useStyle(r),rM.update(),rM.getBoundingRect()},a})(),h7=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],E2e=Of(h7),M2e=(function(){function a(){}return a.prototype.getLineStyle=function(n){return E2e(this,n)},a})(),p7=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],D2e=Of(p7),I2e=(function(){function a(){}return a.prototype.getItemStyle=function(n,r){return D2e(this,n,r)},a})(),en=(function(){function a(n,r,o){this.parentModel=r,this.ecModel=o,this.option=n}return a.prototype.init=function(n,r,o){},a.prototype.mergeOption=function(n,r){me(this.option,n,!0)},a.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},a.prototype.getShallow=function(n,r){var o=this.option,l=o==null?o:o[n];if(l==null&&!r){var c=this.parentModel;c&&(l=c.getShallow(n))}return l},a.prototype.getModel=function(n,r){var o=n!=null,l=o?this.parsePath(n):null,c=o?this._doGet(l):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(l)),new a(c,r,this.ecModel)},a.prototype.isEmpty=function(){return this.option==null},a.prototype.restoreData=function(){},a.prototype.clone=function(){var n=this.constructor;return new n(ne(this.option))},a.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},a.prototype.resolveParentPath=function(n){return n},a.prototype.isAnimationEnabled=function(){if(!m.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(n,r){var o=this.option;if(!n)return o;for(var l=0;l<n.length&&!(n[l]&&(o=o&&typeof o=="object"?o[n[l]]:null,o==null));l++);return o==null&&r&&(o=r._doGet(this.resolveParentPath(n),r.parentModel)),o},a})();sE(en),GOe(en),we(en,M2e),we(en,I2e),we(en,HOe),we(en,P2e);var R2e=Math.round(Math.random()*10);function gm(a){return[a||"",R2e++].join("_")}function L2e(a){var n={};a.registerSubTypeDefaulter=function(r,o){var l=ml(r);n[l.main]=o},a.determineSubType=function(r,o){var l=o.type;if(!l){var c=ml(r).main;a.hasSubTypes(r)&&n[c]&&(l=n[c](o))}return l}}function N2e(a,n){a.topologicalTravel=function(c,f,p,g){if(!c.length)return;var v=r(f),x=v.graph,O=v.noEntryList,w={};for(Z(c,function(R){w[R]=!0});O.length;){var S=O.pop(),k=x[S],P=!!w[S];P&&(p.call(g,S,k.originalDeps.slice()),delete w[S]),Z(k.successor,P?M:E)}Z(w,function(){var R="";throw R=ga("Circular dependency may exists: ",w,c,f),new Error(R)});function E(R){x[R].entryCount--,x[R].entryCount===0&&O.push(R)}function M(R){w[R]=!0,E(R)}};function r(c){var f={},p=[];return Z(c,function(g){var v=o(f,g),x=v.originalDeps=n(g),O=l(x,c);v.entryCount=O.length,v.entryCount===0&&p.push(g),Z(O,function(w){se(v.predecessor,w)<0&&v.predecessor.push(w);var S=o(f,w);se(S.successor,w)<0&&S.successor.push(g)})}),{graph:f,noEntryList:p}}function o(c,f){return c[f]||(c[f]={predecessor:[],successor:[]}),c[f]}function l(c,f){var p=[];return Z(c,function(g){se(f,g)>=0&&p.push(g)}),p}}function Gc(a,n){return me(me({},a,!0),n,!0)}var $2e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},z2e={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},Ob="ZH",iM="EN",vm=iM,bb={},aM={},m7=m.domSupported?(function(){var a=(document.documentElement.lang||navigator.language||navigator.browserLanguage||vm).toUpperCase();return a.indexOf(Ob)>-1?Ob:vm})():vm;function oM(a,n){a=a.toUpperCase(),aM[a]=new en(n),bb[a]=n}function B2e(a){if(De(a)){var n=bb[a.toUpperCase()]||{};return a===Ob||a===iM?ne(n):me(ne(n),ne(bb[vm]),!1)}else return me(ne(a),ne(bb[vm]),!1)}function sM(a){return aM[a]}function Q2e(){return aM[vm]}oM(iM,$2e),oM(Ob,z2e);var lM=null;function j2e(a){lM||(lM=a)}function Wr(){return lM}var uM=1e3,cM=uM*60,I0=cM*60,Wo=I0*24,g7=Wo*365,V2e={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},wb={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},F2e="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",Sb="{yyyy}-{MM}-{dd}",v7={year:"{yyyy}",month:"{yyyy}-{MM}",day:Sb,hour:Sb+" "+wb.hour,minute:Sb+" "+wb.minute,second:Sb+" "+wb.second,millisecond:F2e},_o=["year","month","day","hour","minute","second","millisecond"],G2e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function W2e(a){return!De(a)&&!Ge(a)?U2e(a):a}function U2e(a){a=a||{};var n={},r=!0;return Z(_o,function(o){r&&(r=a[o]==null)}),Z(_o,function(o,l){var c=a[o];n[o]={};for(var f=null,p=l;p>=0;p--){var g=_o[p],v=Ze(c)&&!ke(c)?c[g]:c,x=void 0;ke(v)?(x=v.slice(),f=x[0]||""):De(v)?(f=v,x=[f]):(f==null?f=wb[o]:V2e[g].test(f)||(f=n[g][g][0]+" "+f),x=[f],r&&(x[1]="{primary|"+f+"}")),n[o][g]=x}}),n}function xa(a,n){return a+="","0000".substr(0,n-a.length)+a}function R0(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function q2e(a){return a===R0(a)}function Z2e(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function L0(a,n,r,o){var l=hl(a),c=l[y7(r)](),f=l[dM(r)]()+1,p=Math.floor((f-1)/3)+1,g=l[fM(r)](),v=l["get"+(r?"UTC":"")+"Day"](),x=l[hM(r)](),O=(x-1)%12+1,w=l[pM(r)](),S=l[mM(r)](),k=l[gM(r)](),P=x>=12?"pm":"am",E=P.toUpperCase(),M=o instanceof en?o:sM(o||m7)||Q2e(),R=M.getModel("time"),N=R.get("month"),j=R.get("monthAbbr"),W=R.get("dayOfWeek"),U=R.get("dayOfWeekAbbr");return(n||"").replace(/{a}/g,P+"").replace(/{A}/g,E+"").replace(/{yyyy}/g,c+"").replace(/{yy}/g,xa(c%100+"",2)).replace(/{Q}/g,p+"").replace(/{MMMM}/g,N[f-1]).replace(/{MMM}/g,j[f-1]).replace(/{MM}/g,xa(f,2)).replace(/{M}/g,f+"").replace(/{dd}/g,xa(g,2)).replace(/{d}/g,g+"").replace(/{eeee}/g,W[v]).replace(/{ee}/g,U[v]).replace(/{e}/g,v+"").replace(/{HH}/g,xa(x,2)).replace(/{H}/g,x+"").replace(/{hh}/g,xa(O+"",2)).replace(/{h}/g,O+"").replace(/{mm}/g,xa(w,2)).replace(/{m}/g,w+"").replace(/{ss}/g,xa(S,2)).replace(/{s}/g,S+"").replace(/{SSS}/g,xa(k,3)).replace(/{S}/g,k+"")}function H2e(a,n,r,o,l){var c=null;if(De(r))c=r;else if(Ge(r)){var f={time:a.time,level:a.time.level},p=Wr();p&&p.makeAxisLabelFormatterParamBreak(f,a.break),c=r(a.value,n,f)}else{var g=a.time;if(g){var v=r[g.lowerTimeUnit][g.upperTimeUnit];c=v[Math.min(g.level,v.length-1)]||""}else{var x=ym(a.value,l);c=r[x][x][0]}}return L0(new Date(a.value),c,l,o)}function ym(a,n){var r=hl(a),o=r[dM(n)]()+1,l=r[fM(n)](),c=r[hM(n)](),f=r[pM(n)](),p=r[mM(n)](),g=r[gM(n)](),v=g===0,x=v&&p===0,O=x&&f===0,w=O&&c===0,S=w&&l===1,k=S&&o===1;return k?"year":S?"month":w?"day":O?"hour":x?"minute":v?"second":"millisecond"}function Tb(a,n,r){switch(n){case"year":a[x7(r)](0);case"month":a[_7(r)](1);case"day":a[O7(r)](0);case"hour":a[b7(r)](0);case"minute":a[w7(r)](0);case"second":a[S7(r)](0)}return a}function y7(a){return a?"getUTCFullYear":"getFullYear"}function dM(a){return a?"getUTCMonth":"getMonth"}function fM(a){return a?"getUTCDate":"getDate"}function hM(a){return a?"getUTCHours":"getHours"}function pM(a){return a?"getUTCMinutes":"getMinutes"}function mM(a){return a?"getUTCSeconds":"getSeconds"}function gM(a){return a?"getUTCMilliseconds":"getMilliseconds"}function X2e(a){return a?"setUTCFullYear":"setFullYear"}function x7(a){return a?"setUTCMonth":"setMonth"}function _7(a){return a?"setUTCDate":"setDate"}function O7(a){return a?"setUTCHours":"setHours"}function b7(a){return a?"setUTCMinutes":"setMinutes"}function w7(a){return a?"setUTCSeconds":"setSeconds"}function S7(a){return a?"setUTCMilliseconds":"setMilliseconds"}function Y2e(a,n,r,o,l,c,f,p){var g=new un({style:{text:a,font:n,align:r,verticalAlign:o,padding:l,rich:c,overflow:f?"truncate":null,lineHeight:p}});return g.getBoundingRect()}function vM(a){if(!WO(a))return De(a)?a:"-";var n=(a+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function yM(a,n){return a=(a||"").toLowerCase().replace(/-(.)/g,function(r,o){return o.toUpperCase()}),n&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var xm=gn;function xM(a,n,r){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function l(x){return x&&An(x)?x:"-"}function c(x){return!!(x!=null&&!isNaN(x)&&isFinite(x))}var f=n==="time",p=a instanceof Date;if(f||p){var g=f?hl(a):a;if(isNaN(+g)){if(p)return"-"}else return L0(g,o,r)}if(n==="ordinal")return Pt(a)?l(a):dt(a)&&c(a)?a+"":"-";var v=pl(a);return c(v)?vM(v):Pt(a)?l(a):typeof a=="boolean"?a+"":"-"}var T7=["a","b","c","d","e","f","g"],_M=function(a,n){return"{"+a+(n??"")+"}"};function OM(a,n,r){ke(n)||(n=[n]);var o=n.length;if(!o)return"";for(var l=n[0].$vars||[],c=0;c<l.length;c++){var f=T7[c];a=a.replace(_M(f),_M(f,0))}for(var p=0;p<o;p++)for(var g=0;g<l.length;g++){var v=n[p][l[g]];a=a.replace(_M(T7[g],p),r?Ai(v):v)}return a}function K2e(a,n,r){return Z(n,function(o,l){a=a.replace("{"+l+"}",o)}),a}function C7(a,n){var r=De(a)?{color:a,extraCssText:n}:a||{},o=r.color,l=r.type;n=r.extraCssText;var c=r.renderMode||"html";if(!o)return"";if(c==="html")return l==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ai(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ai(o)+";"+(n||"")+'"></span>';var f=r.markerId||"markerX";return{renderMode:c,content:"{"+f+"|}  ",style:l==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function J2e(a,n,r){Nr("echarts.format.formatTime","echarts.time.format"),(a==="week"||a==="month"||a==="quarter"||a==="half-year"||a==="year")&&(a=`MM-dd
yyyy`);var o=hl(n),l=r?"getUTC":"get",c=o[l+"FullYear"](),f=o[l+"Month"]()+1,p=o[l+"Date"](),g=o[l+"Hours"](),v=o[l+"Minutes"](),x=o[l+"Seconds"](),O=o[l+"Milliseconds"]();return a=a.replace("MM",xa(f,2)).replace("M",f).replace("yyyy",c).replace("yy",xa(c%100+"",2)).replace("dd",xa(p,2)).replace("d",p).replace("hh",xa(g,2)).replace("h",g).replace("mm",xa(v,2)).replace("m",v).replace("ss",xa(x,2)).replace("s",x).replace("SSS",xa(O,3)),a}function ewe(a){return a&&a.charAt(0).toUpperCase()+a.substr(1)}function Bf(a,n){return n=n||"transparent",De(a)?a:Ze(a)&&a.colorStops&&(a.colorStops[0]||{}).color||n}function Cb(a,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=a}else window.open(a,n)}var kb={},bM={},Qf=(function(){function a(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return a.prototype.create=function(n,r){this._nonSeriesBoxMasterList=o(kb,!0),this._normalMasterList=o(bM,!1);function o(l,c){var f=[];return Z(l,function(p,g){var v=p.create(n,r);f=f.concat(v||[]),c&&Z(v,function(x){return Ke(!x.update)})}),f}},a.prototype.update=function(n,r){Z(this._normalMasterList,function(o){o.update&&o.update(n,r)})},a.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},a.register=function(n,r){if(n==="matrix"||n==="calendar"){kb[n]=r;return}bM[n]=r},a.get=function(n){return bM[n]||kb[n]},a})();function twe(a){return!!kb[a]}var wM={coord:1,coord2:2};function nwe(a){Ke(!SM.get(a.fullType)),SM.set(a.fullType,{getCoord2:void 0}).getCoord2=a.getCoord2}var SM=Xe();function rwe(a){var n=a.getShallow("coord",!0),r=wM.coord;if(n==null){var o=SM.get(a.type);o&&o.getCoord2&&(r=wM.coord2,n=o.getCoord2(a))}return{coord:n,from:r}}var wl={none:0,dataCoordSys:1,boxCoordSys:2};function k7(a,n){var r=a.getShallow("coordinateSystem"),o=a.getShallow("coordinateSystemUsage",!0),l=o!=null,c=wl.none;if(r){var f=a.mainType==="series";o==null&&(o=f?"data":"box"),o==="data"?(c=wl.dataCoordSys,f||(l&&n&&cn('coordinateSystemUsage "data" is not supported in non-series components.'),c=wl.none)):o==="box"&&(c=wl.boxCoordSys,!f&&!twe(r)&&(l&&n&&cn('coordinateSystem "'+r+'" cannot be used'+(' as coordinateSystemUsage "box" for "'+a.type+'" yet.')),c=wl.none))}return{coordSysType:r,kind:c}}function N0(a){var n=a.targetModel,r=a.coordSysType,o=a.coordSysProvider,l=a.isDefaultDataCoordSys,c=a.allowNotFound;Ke(!!r);var f=k7(n,!0),p=f.kind,g=f.coordSysType;if(l&&p!==wl.dataCoordSys&&(p=wl.dataCoordSys,g=r),p===wl.none||g!==r)return!1;var v=o(r,n);return v?(p===wl.dataCoordSys?(Ke(n.mainType==="series"),n.coordinateSystem=v):n.boxCoordinateSystem=v,!0):(c||cn(r+" cannot be found for"+(" "+n.type+" (index: "+n.componentIndex+").")),!1)}var A7=function(a,n){var r=n.getReferringComponents(a,br).models[0];return r&&r.coordinateSystem},Ab=Z,P7=["left","right","top","bottom","width","height"],jf=[["width","left","right"],["height","top","bottom"]];function TM(a,n,r,o,l){var c=0,f=0;o==null&&(o=1/0),l==null&&(l=1/0);var p=0;n.eachChild(function(g,v){var x=g.getBoundingRect(),O=n.childAt(v+1),w=O&&O.getBoundingRect(),S,k;if(a==="horizontal"){var P=x.width+(w?-w.x+x.x:0);S=c+P,S>o||g.newline?(c=0,S=P,f+=p+r,p=x.height):p=Math.max(p,x.height)}else{var E=x.height+(w?-w.y+x.y:0);k=f+E,k>l||g.newline?(c+=p+r,f=0,k=E,p=x.width):p=Math.max(p,x.width)}g.newline||(g.x=c,g.y=f,g.markRedraw(),a==="horizontal"?c=S+r:f=k+r)})}var Vf=TM;Ue(TM,"vertical"),Ue(TM,"horizontal");function E7(a,n){return{left:a.getShallow("left",n),top:a.getShallow("top",n),right:a.getShallow("right",n),bottom:a.getShallow("bottom",n),width:a.getShallow("width",n),height:a.getShallow("height",n)}}function iwe(a,n){var r=ei(a,n,{enableLayoutOnlyByCenter:!0}),o=a.getBoxLayoutParams(),l,c;if(r.type===$0.point)c=r.refPoint,l=rr(o,{width:n.getWidth(),height:n.getHeight()});else{var f=a.get("center"),p=ke(f)?f:[f,f];l=rr(o,r.refContainer),c=r.boxCoordFrom===wM.coord2?r.refPoint:[it(p[0],l.width)+l.x,it(p[1],l.height)+l.y]}return{viewRect:l,center:c}}function M7(a,n){var r=iwe(a,n),o=r.viewRect,l=r.center,c=a.get("radius");ke(c)||(c=[0,c]);var f=it(o.width,n.getWidth()),p=it(o.height,n.getHeight()),g=Math.min(f,p),v=it(c[0],g/2),x=it(c[1],g/2);return{cx:l[0],cy:l[1],r0:v,r:x,viewRect:o}}function rr(a,n,r){r=xm(r||0);var o=n.width,l=n.height,c=it(a.left,o),f=it(a.top,l),p=it(a.right,o),g=it(a.bottom,l),v=it(a.width,o),x=it(a.height,l),O=r[2]+r[0],w=r[1]+r[3],S=a.aspect;switch(isNaN(v)&&(v=o-p-w-c),isNaN(x)&&(x=l-g-O-f),S!=null&&(isNaN(v)&&isNaN(x)&&(S>o/l?v=o*.8:x=l*.8),isNaN(v)&&(v=S*x),isNaN(x)&&(x=v/S)),isNaN(c)&&(c=o-p-v-w),isNaN(f)&&(f=l-g-x-O),a.left||a.right){case"center":c=o/2-v/2-r[3];break;case"right":c=o-v-w;break}switch(a.top||a.bottom){case"middle":case"center":f=l/2-x/2-r[0];break;case"bottom":f=l-x-O;break}c=c||0,f=f||0,isNaN(v)&&(v=o-w-c-(p||0)),isNaN(x)&&(x=l-O-f-(g||0));var k=new wt((n.x||0)+c+r[3],(n.y||0)+f+r[0],v,x);return k.margin=r,k}function D7(a,n,r){var o=a.getShallow("preserveAspect",!0);if(!o)return n;var l=n.width/n.height;if(Math.abs(Math.atan(r)-Math.atan(l))<1e-9)return n;var c=a.getShallow("preserveAspectAlign",!0),f=a.getShallow("preserveAspectVerticalAlign",!0),p={width:n.width,height:n.height},g=o==="cover";return l>r&&!g||l<r&&g?(p.width=n.height*r,c==="left"?p.left=0:c==="right"?p.right=0:p.left="center"):(p.height=n.width/r,f==="top"?p.top=0:f==="bottom"?p.bottom=0:p.top="middle"),rr(p,n)}var $0={rect:1,point:2};function ei(a,n,r){var o,l,c,f=a.boxCoordinateSystem,p;if(f){var g=rwe(a),v=g.coord,x=g.from;if(f.dataToLayout){c=$0.rect,p=x;var O=f.dataToLayout(v);o=O.contentRect||O.rect}else r&&r.enableLayoutOnlyByCenter&&f.dataToPoint?(c=$0.point,p=x,l=f.dataToPoint(v)):cn(a.type+"["+a.componentIndex+"]"+(" layout based on "+f.type+" is not supported."))}return c==null&&(c=$0.rect),c===$0.rect&&(o||(o={x:0,y:0,width:n.getWidth(),height:n.getHeight()}),l=[o.x+o.width/2,o.y+o.height/2]),{type:c,refContainer:o,refPoint:l,boxCoordFrom:p}}function Pb(a,n,r,o,l,c){var f=!l||!l.hv||l.hv[0],p=!l||!l.hv||l.hv[1],g=l&&l.boundingMode||"all";if(c=c||a,c.x=a.x,c.y=a.y,!f&&!p)return!1;var v;if(g==="raw")v=a.type==="group"?new wt(0,0,+n.width||0,+n.height||0):a.getBoundingRect();else if(v=a.getBoundingRect(),a.needLocalTransform()){var x=a.getLocalTransform();v=v.clone(),v.applyTransform(x)}var O=rr(be({width:v.width,height:v.height},n),r,o),w=f?O.x-v.x:0,S=p?O.y-v.y:0;return g==="raw"?(c.x=w,c.y=S):(c.x+=w,c.y+=S),c===a&&a.markRedraw(),!0}function awe(a,n){return a[jf[n][0]]!=null||a[jf[n][1]]!=null&&a[jf[n][2]]!=null}function z0(a){var n=a.layoutMode||a.constructor.layoutMode;return Ze(n)?n:n?{type:n}:null}function Sl(a,n,r){var o=r&&r.ignoreSize;!ke(o)&&(o=[o,o]);var l=f(jf[0],0),c=f(jf[1],1);g(jf[0],a,l),g(jf[1],a,c);function f(v,x){var O={},w=0,S={},k=0,P=2;if(Ab(v,function(R){S[R]=a[R]}),Ab(v,function(R){Je(n,R)&&(O[R]=S[R]=n[R]),p(O,R)&&w++,p(S,R)&&k++}),o[x])return p(n,v[1])?S[v[2]]=null:p(n,v[2])&&(S[v[1]]=null),S;if(k===P||!w)return S;if(w>=P)return O;for(var E=0;E<v.length;E++){var M=v[E];if(!Je(O,M)&&Je(a,M)){O[M]=a[M];break}}return O}function p(v,x){return v[x]!=null&&v[x]!=="auto"}function g(v,x,O){Ab(v,function(w){x[w]=O[w]})}}function Ff(a){return I7({},a)}function I7(a,n){return n&&a&&Ab(P7,function(r){Je(n,r)&&(a[r]=n[r])}),a}var owe=Kt(),Ht=(function(a){u(n,a);function n(r,o,l){var c=a.call(this,r,o,l)||this;return c.uid=gm("ec_cpt_model"),c}return n.prototype.init=function(r,o,l){this.mergeDefaultAndTheme(r,l)},n.prototype.mergeDefaultAndTheme=function(r,o){var l=z0(this),c=l?Ff(r):{},f=o.getTheme();me(r,f.get(this.mainType)),me(r,this.getDefaultOption()),l&&Sl(r,c,l)},n.prototype.mergeOption=function(r,o){me(this.option,r,!0);var l=z0(this);l&&Sl(this.option,r,l)},n.prototype.optionUpdated=function(r,o){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!jOe(r))return r.defaultOption;var o=owe(this);if(!o.defaultOption){for(var l=[],c=r;c;){var f=c.prototype.defaultOption;f&&l.push(f),c=c.superClass}for(var p={},g=l.length-1;g>=0;g--)p=me(p,l[g],!0);o.defaultOption=p}return o.defaultOption},n.prototype.getReferringComponents=function(r,o){var l=r+"Index",c=r+"Id";return em(this.ecModel,r,{index:this.get(l,!0),id:this.get(c,!0)},o)},n.prototype.getBoxLayoutParams=function(){return E7(this,!1)},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=(function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),n})(en);Q8(Ht,en),qO(Ht),L2e(Ht),N2e(Ht,swe);function swe(a){var n=[];return Z(Ht.getClassesByMainType(a),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=ve(n,function(r){return ml(r).main}),a!=="dataset"&&se(n,"dataset")<=0&&n.unshift("dataset"),n}var Ie={color:{},darkColor:{},size:{}},zr=Ie.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};ee(zr,{primary:zr.neutral80,secondary:zr.neutral70,tertiary:zr.neutral60,quaternary:zr.neutral50,disabled:zr.neutral20,border:zr.neutral30,borderTint:zr.neutral20,borderShade:zr.neutral40,background:zr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:zr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:zr.neutral70,axisLineTint:zr.neutral40,axisTick:zr.neutral70,axisTickMinor:zr.neutral60,axisLabel:zr.neutral70,axisSplitLine:zr.neutral15,axisMinorSplitLine:zr.neutral05});for(var Gf in zr)if(zr.hasOwnProperty(Gf)){var R7=zr[Gf];Gf==="theme"?Ie.darkColor.theme=zr.theme.slice():Gf==="highlight"?Ie.darkColor.highlight="rgba(255,231,130,0.4)":Gf.indexOf("accent")===0?Ie.darkColor[Gf]=Su(R7,null,function(a){return a*.5},function(a){return Math.min(1,1.3-a)}):Ie.darkColor[Gf]=Su(R7,null,function(a){return a*.9},function(a){return 1-Math.pow(a,1.5)})}Ie.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var L7="";typeof navigator<"u"&&(L7=navigator.platform||"");var _m="rgba(0, 0, 0, 0.2)",N7=Ie.color.theme[0],lwe=Su(N7,null,null,.9),uwe={darkMode:"auto",colorBy:"series",color:Ie.color.theme,gradientColor:[lwe,N7],aria:{decal:{decals:[{color:_m,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_m,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:_m,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_m,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_m,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_m,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:L7.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},CM=Xe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Oo="original",Di="arrayRows",bo="objectRows",Ds="keyedColumns",Ru="typedArray",$7="unknown",Is="column",Wf="row",Gi={Must:1,Might:2,Not:3},z7=Kt();function cwe(a){z7(a).datasetMap=Xe()}function B7(a,n,r){var o={},l=AM(n);if(!l||!a)return o;var c=[],f=[],p=n.ecModel,g=z7(p).datasetMap,v=l.uid+"_"+r.seriesLayoutBy,x,O;a=a.slice(),Z(a,function(P,E){var M=Ze(P)?P:a[E]={name:P};M.type==="ordinal"&&x==null&&(x=E,O=k(M)),o[M.name]=[]});var w=g.get(v)||g.set(v,{categoryWayDim:O,valueWayDim:0});Z(a,function(P,E){var M=P.name,R=k(P);if(x==null){var N=w.valueWayDim;S(o[M],N,R),S(f,N,R),w.valueWayDim+=R}else if(x===E)S(o[M],0,R),S(c,0,R);else{var N=w.categoryWayDim;S(o[M],N,R),S(f,N,R),w.categoryWayDim+=R}});function S(P,E,M){for(var R=0;R<M;R++)P.push(E+R)}function k(P){var E=P.dimsDef;return E?E.length:1}return c.length&&(o.itemName=c),f.length&&(o.seriesName=f),o}function kM(a,n,r){var o={},l=AM(a);if(!l)return o;var c=n.sourceFormat,f=n.dimensionsDefine,p;(c===bo||c===Ds)&&Z(f,function(x,O){(Ze(x)?x.name:x)==="name"&&(p=O)});var g=(function(){for(var x={},O={},w=[],S=0,k=Math.min(5,r);S<k;S++){var P=j7(n.data,c,n.seriesLayoutBy,f,n.startIndex,S);w.push(P);var E=P===Gi.Not;if(E&&x.v==null&&S!==p&&(x.v=S),(x.n==null||x.n===x.v||!E&&w[x.n]===Gi.Not)&&(x.n=S),M(x)&&w[x.n]!==Gi.Not)return x;E||(P===Gi.Might&&O.v==null&&S!==p&&(O.v=S),(O.n==null||O.n===O.v)&&(O.n=S))}function M(R){return R.v!=null&&R.n!=null}return M(x)?x:M(O)?O:null})();if(g){o.value=[g.v];var v=p??g.n;o.itemName=[v],o.seriesName=[v]}return o}function AM(a){var n=a.get("data",!0);if(!n)return em(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},br).models[0]}function dwe(a){return!a.get("transform",!0)&&!a.get("fromTransformResult",!0)?[]:em(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},br).models}function Q7(a,n){return j7(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,n)}function j7(a,n,r,o,l,c){var f,p=5;if(ut(a))return Gi.Not;var g,v;if(o){var x=o[c];Ze(x)?(g=x.name,v=x.type):De(x)&&(g=x)}if(v!=null)return v==="ordinal"?Gi.Must:Gi.Not;if(n===Di){var O=a;if(r===Wf){for(var w=O[c],S=0;S<(w||[]).length&&S<p;S++)if((f=j(w[l+S]))!=null)return f}else for(var S=0;S<O.length&&S<p;S++){var k=O[l+S];if(k&&(f=j(k[c]))!=null)return f}}else if(n===bo){var P=a;if(!g)return Gi.Not;for(var S=0;S<P.length&&S<p;S++){var E=P[S];if(E&&(f=j(E[g]))!=null)return f}}else if(n===Ds){var M=a;if(!g)return Gi.Not;var w=M[g];if(!w||ut(w))return Gi.Not;for(var S=0;S<w.length&&S<p;S++)if((f=j(w[S]))!=null)return f}else if(n===Oo)for(var R=a,S=0;S<R.length&&S<p;S++){var E=R[S],N=Yp(E);if(!ke(N))return Gi.Not;if((f=j(N[c]))!=null)return f}function j(W){var U=De(W);if(W!=null&&Number.isFinite(Number(W))&&W!=="")return U?Gi.Might:Gi.Not;if(U&&W!=="-")return Gi.Must}return Gi.Not}var PM=Xe();function fwe(a,n){Ke(PM.get(a)==null&&n),PM.set(a,n)}function hwe(a,n,r){var o=PM.get(n);if(!o)return r;var l=o(a);if(!l)return r;for(var c=0;c<l.length;c++)Ke(Kp(l[c]));return r.concat(l)}var V7=Kt(),pwe=Kt(),EM=(function(){function a(){}return a.prototype.getColorFromPalette=function(n,r,o){var l=Vn(this.get("color",!0)),c=this.get("colorLayer",!0);return F7(this,V7,l,c,n,r,o)},a.prototype.clearColorPalette=function(){gwe(this,V7)},a})();function MM(a,n,r,o){var l=Vn(a.get(["aria","decal","decals"]));return F7(a,pwe,l,null,n,r,o)}function mwe(a,n){for(var r=a.length,o=0;o<r;o++)if(a[o].length>n)return a[o];return a[r-1]}function F7(a,n,r,o,l,c,f){c=c||a;var p=n(c),g=p.paletteIdx||0,v=p.paletteNameMap=p.paletteNameMap||{};if(v.hasOwnProperty(l))return v[l];var x=f==null||!o?r:mwe(o,f);if(x=x||r,!(!x||!x.length)){var O=x[g];return l&&(v[l]=O),p.paletteIdx=(g+1)%x.length,O}}function gwe(a,n){n(a).paletteIdx=0,n(a).paletteNameMap={}}var Eb,B0,G7,DM="\0_ec_inner",W7=1,vwe={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",matrix:"MatrixComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},ywe={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",chord:"ChordChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},Mb={};function xwe(a){Z(a,function(n,r){if(!Ht.hasClass(r)){var o=vwe[r];o&&!Mb[o]&&(cn("Component "+r+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),Mb[o]=!0)}})}var IM=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(r,o,l,c,f,p){c=c||{},this.option=null,this._theme=new en(c),this._locale=new en(f),this._optionManager=p},n.prototype.setOption=function(r,o,l){Ke(r!=null,"option is null/undefined"),Ke(r[DM]!==W7,"please use chart.getOption()");var c=Z7(o);this._optionManager.setOption(r,l,c),this._resetOption(null,c)},n.prototype.resetOption=function(r,o){return this._resetOption(r,Z7(o))},n.prototype._resetOption=function(r,o){var l=!1,c=this._optionManager;if(!r||r==="recreate"){var f=c.mountOption(r==="recreate");xwe(f),!this.option||r==="recreate"?G7(this,f):(this.restoreData(),this._mergeOption(f,o)),l=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var p=c.getTimelineOption(this);p&&(l=!0,this._mergeOption(p,o))}if(!r||r==="recreate"||r==="media"){var g=c.getMediaOption(this);g.length&&Z(g,function(v){l=!0,this._mergeOption(v,o)},this)}return l},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,o){var l=this.option,c=this._componentsMap,f=this._componentsCount,p=[],g=Xe(),v=o&&o.replaceMergeMainTypeMap;cwe(this),Z(r,function(O,w){O!=null&&(Ht.hasClass(w)?w&&(p.push(w),g.set(w,!0)):l[w]=l[w]==null?ne(O):me(l[w],O,!0))}),v&&v.each(function(O,w){Ht.hasClass(w)&&!g.get(w)&&(p.push(w),g.set(w,!0))}),Ht.topologicalTravel(p,Ht.getAllClassMainTypes(),x,this);function x(O){var w=hwe(this,O,Vn(r[O])),S=c.get(O),k=S?v&&v.get(O)?"replaceMerge":"normalMerge":"replaceAll",P=I8(S,w,k);DOe(P,O,Ht),l[O]=null,c.set(O,null),f.set(O,0);var E=[],M=[],R=0,N,j;Z(P,function(W,U){var X=W.existing,J=W.newOption;if(!J)X&&(X.mergeOption({},this),X.optionUpdated({},!1));else{var re=O==="series",ie=Ht.getClass(O,W.keyInfo.subType,!re);if(!ie){{var le=W.keyInfo.subType,pe=ywe[le];Mb[le]||(Mb[le]=!0,cn(pe?"Series "+le+` is used but not imported.
import { `+pe+` } from 'echarts/charts';
echarts.use([`+pe+"]);":"Unknown series "+le))}return}if(O==="tooltip"){if(N){j||(fr("Currently only one tooltip component is allowed."),j=!0);return}N=!0}if(X&&X.constructor===ie)X.name=W.keyInfo.name,X.mergeOption(J,this),X.optionUpdated(J,!1);else{var ce=ee({componentIndex:U},W.keyInfo);X=new ie(J,this,this,ce),ee(X,ce),W.brandNew&&(X.__requireNewView=!0),X.init(J,this,this),X.optionUpdated(null,!0)}}X?(E.push(X.option),M.push(X),R++):(E.push(void 0),M.push(void 0))},this),l[O]=E,c.set(O,M),f.set(O,R),O==="series"&&Eb(this)}this._seriesIndices||Eb(this)},n.prototype.getOption=function(){var r=ne(this.option);return Z(r,function(o,l){if(Ht.hasClass(l)){for(var c=Vn(o),f=c.length,p=!1,g=f-1;g>=0;g--)c[g]&&!Kp(c[g])?p=!0:(c[g]=null,!p&&f--);c.length=f,r[l]=c}}),delete r[DM],r},n.prototype.setTheme=function(r){this._theme=new en(r),this._resetOption("recreate",null)},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,o){var l=this._componentsMap.get(r);if(l){var c=l[o||0];if(c)return c;if(o==null){for(var f=0;f<l.length;f++)if(l[f])return l[f]}}},n.prototype.queryComponents=function(r){var o=r.mainType;if(!o)return[];var l=r.index,c=r.id,f=r.name,p=this._componentsMap.get(o);if(!p||!p.length)return[];var g;return l!=null?(g=[],Z(Vn(l),function(v){p[v]&&g.push(p[v])})):c!=null?g=U7("id",c,p):f!=null?g=U7("name",f,p):g=Qe(p,function(v){return!!v}),q7(g,r)},n.prototype.findComponents=function(r){var o=r.query,l=r.mainType,c=p(o),f=c?this.queryComponents(c):Qe(this._componentsMap.get(l),function(v){return!!v});return g(q7(f,r));function p(v){var x=l+"Index",O=l+"Id",w=l+"Name";return v&&(v[x]!=null||v[O]!=null||v[w]!=null)?{mainType:l,index:v[x],id:v[O],name:v[w]}:null}function g(v){return r.filter?Qe(v,r.filter):v}},n.prototype.eachComponent=function(r,o,l){var c=this._componentsMap;if(Ge(r)){var f=o,p=r;c.each(function(O,w){for(var S=0;O&&S<O.length;S++){var k=O[S];k&&p.call(f,w,k,k.componentIndex)}})}else for(var g=De(r)?c.get(r):Ze(r)?this.findComponents(r):null,v=0;g&&v<g.length;v++){var x=g[v];x&&o.call(l,x,x.componentIndex)}},n.prototype.getSeriesByName=function(r){var o=Yr(r,null);return Qe(this._componentsMap.get("series"),function(l){return!!l&&o!=null&&l.name===o})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return Qe(this._componentsMap.get("series"),function(o){return!!o&&o.subType===r})},n.prototype.getSeries=function(){return Qe(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,o){B0(this),Z(this._seriesIndices,function(l){var c=this._componentsMap.get("series")[l];r.call(o,c,l)},this)},n.prototype.eachRawSeries=function(r,o){Z(this._componentsMap.get("series"),function(l){l&&r.call(o,l,l.componentIndex)})},n.prototype.eachSeriesByType=function(r,o,l){B0(this),Z(this._seriesIndices,function(c){var f=this._componentsMap.get("series")[c];f.subType===r&&o.call(l,f,c)},this)},n.prototype.eachRawSeriesByType=function(r,o,l){return Z(this.getSeriesByType(r),o,l)},n.prototype.isSeriesFiltered=function(r){return B0(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,o){B0(this);var l=[];Z(this._seriesIndices,function(c){var f=this._componentsMap.get("series")[c];r.call(o,f,c)&&l.push(c)},this),this._seriesIndices=l,this._seriesIndicesMap=Xe(l)},n.prototype.restoreData=function(r){Eb(this);var o=this._componentsMap,l=[];o.each(function(c,f){Ht.hasClass(f)&&l.push(f)}),Ht.topologicalTravel(l,Ht.getAllClassMainTypes(),function(c){Z(o.get(c),function(f){f&&(c!=="series"||!_we(f,r))&&f.restoreData()})})},n.internalField=(function(){Eb=function(r){var o=r._seriesIndices=[];Z(r._componentsMap.get("series"),function(l){l&&o.push(l.componentIndex)}),r._seriesIndicesMap=Xe(o)},B0=function(r){if(!r._seriesIndices)throw new Error("Option should contains series.")},G7=function(r,o){r.option={},r.option[DM]=W7,r._componentsMap=Xe({series:[]}),r._componentsCount=Xe();var l=o.aria;Ze(l)&&l.enabled==null&&(l.enabled=!0),Owe(o,r._theme.option),me(o,uwe,!1),r._mergeOption(o,null)}})(),n})(en);function _we(a,n){if(n){var r=n.seriesIndex,o=n.seriesId,l=n.seriesName;return r!=null&&a.componentIndex!==r||o!=null&&a.id!==o||l!=null&&a.name!==l}}function Owe(a,n){var r=a.color&&!a.colorLayer;Z(n,function(o,l){l==="colorLayer"&&r||l==="color"&&a.color||Ht.hasClass(l)||(typeof o=="object"?a[l]=a[l]?me(a[l],o,!1):ne(o):a[l]==null&&(a[l]=o))})}function U7(a,n,r){if(ke(n)){var o=Xe();return Z(n,function(c){if(c!=null){var f=Yr(c,null);f!=null&&o.set(c,!0)}}),Qe(r,function(c){return c&&o.get(c[a])})}else{var l=Yr(n,null);return Qe(r,function(c){return c&&l!=null&&c[a]===l})}}function q7(a,n){return n.hasOwnProperty("subType")?Qe(a,function(r){return r&&r.subType===n.subType}):a}function Z7(a){var n=Xe();return a&&Z(Vn(a.replaceMerge),function(r){Ke(Ht.hasClass(r),'"'+r+'" is not valid component main type in "replaceMerge"'),n.set(r,!0)}),{replaceMergeMainTypeMap:n}}we(IM,EM);var bwe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],H7=(function(){function a(n){Z(bwe,function(r){this[r]=Ee(n[r],n)},this)}return a})(),wwe=/^(min|max)?(.+)$/,Swe=(function(){function a(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return a.prototype.setOption=function(n,r,o){n&&(Z(Vn(n.series),function(f){f&&f.data&&ut(f.data)&&Cr(f.data)}),Z(Vn(n.dataset),function(f){f&&f.source&&ut(f.source)&&Cr(f.source)})),n=ne(n);var l=this._optionBackup,c=Twe(n,r,!l);this._newBaseOption=c.baseOption,l?(c.timelineOptions.length&&(l.timelineOptions=c.timelineOptions),c.mediaList.length&&(l.mediaList=c.mediaList),c.mediaDefault&&(l.mediaDefault=c.mediaDefault)):this._optionBackup=c},a.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],ne(n?r.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(n){var r,o=this._timelineOptions;if(o.length){var l=n.getComponent("timeline");l&&(r=ne(o[l.getCurrentIndex()]))}return r},a.prototype.getMediaOption=function(n){var r=this._api.getWidth(),o=this._api.getHeight(),l=this._mediaList,c=this._mediaDefault,f=[],p=[];if(!l.length&&!c)return p;for(var g=0,v=l.length;g<v;g++)Cwe(l[g].query,r,o)&&f.push(g);return!f.length&&c&&(f=[-1]),f.length&&!Awe(f,this._currentMediaIndices)&&(p=ve(f,function(x){return ne(x===-1?c.option:l[x].option)})),this._currentMediaIndices=f,p},a})();function Twe(a,n,r){var o=[],l,c,f=a.baseOption,p=a.timeline,g=a.options,v=a.media,x=!!a.media,O=!!(g||p||f&&f.timeline);f?(c=f,c.timeline||(c.timeline=p)):((O||x)&&(a.options=a.media=null),c=a),x&&(ke(v)?Z(v,function(S){S&&!S.option&&Ze(S.query)&&Ze(S.query.option)&&cn("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),S&&S.option&&(S.query?o.push(S):l||(l=S))}):cn("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),w(c),Z(g,function(S){return w(S)}),Z(o,function(S){return w(S.option)});function w(S){Z(n,function(k){k(S,r)})}return{baseOption:c,timelineOptions:g||[],mediaDefault:l,mediaList:o}}function Cwe(a,n,r){var o={width:n,height:r,aspectratio:n/r},l=!0;return Z(a,function(c,f){var p=f.match(wwe);if(!(!p||!p[1]||!p[2])){var g=p[1],v=p[2].toLowerCase();kwe(o[v],c,g)||(l=!1)}}),l}function kwe(a,n,r){return r==="min"?a>=n:r==="max"?a<=n:a===n}function Awe(a,n){return a.join(",")===n.join(",")}var Uo=Z,Q0=Ze,X7=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function RM(a){var n=a&&a.itemStyle;if(n)for(var r=0,o=X7.length;r<o;r++){var l=X7[r],c=n.normal,f=n.emphasis;c&&c[l]&&(Nr("itemStyle.normal."+l,l),a[l]=a[l]||{},a[l].normal?me(a[l].normal,c[l]):a[l].normal=c[l],c[l]=null),f&&f[l]&&(Nr("itemStyle.emphasis."+l,"emphasis."+l),a[l]=a[l]||{},a[l].emphasis?me(a[l].emphasis,f[l]):a[l].emphasis=f[l],f[l]=null)}}function na(a,n,r){if(a&&a[n]&&(a[n].normal||a[n].emphasis)){var o=a[n].normal,l=a[n].emphasis;o&&(Ps("'normal' hierarchy in "+n+" has been removed since 4.0. All style properties are configured in "+n+" directly now."),r?(a[n].normal=a[n].emphasis=null,be(a[n],o)):a[n]=o),l&&(Ps(n+".emphasis has been changed to emphasis."+n+" since 4.0"),a.emphasis=a.emphasis||{},a.emphasis[n]=l,l.focus&&(a.emphasis.focus=l.focus),l.blurScope&&(a.emphasis.blurScope=l.blurScope))}}function j0(a){na(a,"itemStyle"),na(a,"lineStyle"),na(a,"areaStyle"),na(a,"label"),na(a,"labelLine"),na(a,"upperLabel"),na(a,"edgeLabel")}function Ur(a,n){var r=Q0(a)&&a[n],o=Q0(r)&&r.textStyle;if(o){Ps("textStyle hierarchy in "+n+" has been removed since 4.0. All textStyle properties are configured in "+n+" directly now.");for(var l=0,c=D8.length;l<c;l++){var f=D8[l];o.hasOwnProperty(f)&&(r[f]=o[f])}}}function qo(a){a&&(j0(a),Ur(a,"label"),a.emphasis&&Ur(a.emphasis,"label"))}function Pwe(a){if(Q0(a)){RM(a),j0(a),Ur(a,"label"),Ur(a,"upperLabel"),Ur(a,"edgeLabel"),a.emphasis&&(Ur(a.emphasis,"label"),Ur(a.emphasis,"upperLabel"),Ur(a.emphasis,"edgeLabel"));var n=a.markPoint;n&&(RM(n),qo(n));var r=a.markLine;r&&(RM(r),qo(r));var o=a.markArea;o&&qo(o);var l=a.data;if(a.type==="graph"){l=l||a.nodes;var c=a.links||a.edges;if(c&&!ut(c))for(var f=0;f<c.length;f++)qo(c[f]);Z(a.categories,function(v){j0(v)})}if(l&&!ut(l))for(var f=0;f<l.length;f++)qo(l[f]);if(n=a.markPoint,n&&n.data)for(var p=n.data,f=0;f<p.length;f++)qo(p[f]);if(r=a.markLine,r&&r.data)for(var g=r.data,f=0;f<g.length;f++)ke(g[f])?(qo(g[f][0]),qo(g[f][1])):qo(g[f]);a.type==="gauge"?(Ur(a,"axisLabel"),Ur(a,"title"),Ur(a,"detail")):a.type==="treemap"?(na(a.breadcrumb,"itemStyle"),Z(a.levels,function(v){j0(v)})):a.type==="tree"&&j0(a.leaves)}}function Lu(a){return ke(a)?a:a?[a]:[]}function Y7(a){return(ke(a)?a[0]:a)||{}}function Ewe(a,n){Uo(Lu(a.series),function(o){Q0(o)&&Pwe(o)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Uo(r,function(o){Uo(Lu(a[o]),function(l){l&&(Ur(l,"axisLabel"),Ur(l.axisPointer,"label"))})}),Uo(Lu(a.parallel),function(o){var l=o&&o.parallelAxisDefault;Ur(l,"axisLabel"),Ur(l&&l.axisPointer,"label")}),Uo(Lu(a.calendar),function(o){na(o,"itemStyle"),Ur(o,"dayLabel"),Ur(o,"monthLabel"),Ur(o,"yearLabel")}),Uo(Lu(a.radar),function(o){Ur(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,Ps("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,Ps("nameGap property in radar component has been changed to axisNameGap")),Uo(o.indicator,function(l){l.text&&Nr("text","name","radar.indicator")})}),Uo(Lu(a.geo),function(o){Q0(o)&&(qo(o),Uo(Lu(o.regions),function(l){qo(l)}))}),Uo(Lu(a.timeline),function(o){qo(o),na(o,"label"),na(o,"itemStyle"),na(o,"controlStyle",!0);var l=o.data;ke(l)&&Z(l,function(c){Ze(c)&&(na(c,"label"),na(c,"itemStyle"))})}),Uo(Lu(a.toolbox),function(o){na(o,"iconStyle"),Uo(o.feature,function(l){na(l,"iconStyle")})}),Ur(Y7(a.axisPointer),"label"),Ur(Y7(a.tooltip).axisPointer,"label")}function Mwe(a,n){for(var r=n.split(","),o=a,l=0;l<r.length&&(o=o&&o[r[l]],o!=null);l++);return o}function Dwe(a,n,r,o){for(var l=n.split(","),c=a,f,p=0;p<l.length-1;p++)f=l[p],c[f]==null&&(c[f]={}),c=c[f];c[l[p]]==null&&(c[l[p]]=r)}function K7(a){a&&Z(Iwe,function(n){n[0]in a&&!(n[1]in a)&&(a[n[1]]=a[n[0]])})}var Iwe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Rwe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],LM=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function V0(a){var n=a&&a.itemStyle;if(n)for(var r=0;r<LM.length;r++){var o=LM[r][1],l=LM[r][0];n[o]!=null&&(n[l]=n[o],Nr(o,l))}}function J7(a){a&&a.alignTo==="edge"&&a.margin!=null&&a.edgeDistance==null&&(Nr("label.margin","label.edgeDistance","pie"),a.edgeDistance=a.margin)}function e6(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay,Nr("downplay","blur","sunburst"))}function Lwe(a){a&&a.focusNodeAdjacency!=null&&(a.emphasis=a.emphasis||{},a.emphasis.focus==null&&(Nr("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),a.emphasis.focus="adjacency"))}function t6(a,n){if(a)for(var r=0;r<a.length;r++)n(a[r]),a[r]&&t6(a[r].children,n)}function n6(a,n){Ewe(a,n),a.series=Vn(a.series),Z(a.series,function(r){if(Ze(r)){var o=r.type;if(o==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow,Nr("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise,Nr("clockWise","clockwise")),J7(r.label);var l=r.data;if(l&&!ut(l))for(var c=0;c<l.length;c++)J7(l[c]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(Nr("hoverOffset","emphasis.scaleSize"),r.emphasis.scaleSize=r.hoverOffset))}else if(o==="gauge"){var f=Mwe(r,"pointer.color");f!=null&&Dwe(r,"itemStyle.color",f)}else if(o==="bar"){V0(r),V0(r.backgroundStyle),V0(r.emphasis);var l=r.data;if(l&&!ut(l))for(var c=0;c<l.length;c++)typeof l[c]=="object"&&(V0(l[c]),V0(l[c]&&l[c].emphasis))}else if(o==="sunburst"){var p=r.highlightPolicy;p&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=p,Nr("highlightPolicy","emphasis.focus","sunburst"))),e6(r),t6(r.data,e6)}else o==="graph"||o==="sankey"?Lwe(r):o==="map"&&(r.mapType&&!r.map&&(Nr("mapType","map","map"),r.map=r.mapType),r.mapLocation&&(Ps("`mapLocation` is not used anymore."),be(r,r.mapLocation)));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(Nr("hoverAnimation","emphasis.scale"),r.emphasis.scale=r.hoverAnimation)),K7(r)}}),a.dataRange&&(a.visualMap=a.dataRange),Z(Rwe,function(r){var o=a[r];o&&(ke(o)||(o=[o]),Z(o,function(l){K7(l)}))})}function Nwe(a){var n=Xe();a.eachSeries(function(r){var o=r.get("stack");if(o){var l=n.get(o)||n.set(o,[]),c=r.getData(),f={stackResultDimension:c.getCalculationInfo("stackResultDimension"),stackedOverDimension:c.getCalculationInfo("stackedOverDimension"),stackedDimension:c.getCalculationInfo("stackedDimension"),stackedByDimension:c.getCalculationInfo("stackedByDimension"),isStackedByIndex:c.getCalculationInfo("isStackedByIndex"),data:c,seriesModel:r};if(!f.stackedDimension||!(f.isStackedByIndex||f.stackedByDimension))return;l.push(f)}}),n.each(function(r){if(r.length!==0){var o=r[0].seriesModel,l=o.get("stackOrder")||"seriesAsc";l==="seriesDesc"&&r.reverse(),Z(r,function(c,f){c.data.setCalculationInfo("stackedOnSeries",f>0?r[f-1].seriesModel:null)}),$we(r)}})}function $we(a){Z(a,function(n,r){var o=[],l=[NaN,NaN],c=[n.stackResultDimension,n.stackedOverDimension],f=n.data,p=n.isStackedByIndex,g=n.seriesModel.get("stackStrategy")||"samesign";f.modify(c,function(v,x,O){var w=f.get(n.stackedDimension,O);if(isNaN(w))return l;var S,k;p?k=f.getRawIndex(O):S=f.get(n.stackedByDimension,O);for(var P=NaN,E=r-1;E>=0;E--){var M=a[E];if(p||(k=M.data.rawIndexOf(M.stackedByDimension,S)),k>=0){var R=M.data.getByRawIndex(M.stackResultDimension,k);if(g==="all"||g==="positive"&&R>0||g==="negative"&&R<0||g==="samesign"&&w>=0&&R>0||g==="samesign"&&w<=0&&R<0){w=_Oe(w,R),P=R;break}}}return o[0]=w,o[1]=P,o})})}var Db=(function(){function a(n){this.data=n.data||(n.sourceFormat===Ds?{}:[]),this.sourceFormat=n.sourceFormat||$7,this.seriesLayoutBy=n.seriesLayoutBy||Is,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var o=0;o<r.length;o++){var l=r[o];l.type==null&&Q7(this,o)===Gi.Must&&(l.type="ordinal")}}return a})();function NM(a){return a instanceof Db}function $M(a,n,r){r=r||r6(a);var o=n.seriesLayoutBy,l=Bwe(a,r,o,n.sourceHeader,n.dimensions),c=new Db({data:a,sourceFormat:r,seriesLayoutBy:o,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:ne(n)});return c}function zM(a){return new Db({data:a,sourceFormat:ut(a)?Ru:Oo})}function zwe(a){return new Db({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:ne(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount})}function r6(a){var n=$7;if(ut(a))n=Ru;else if(ke(a)){a.length===0&&(n=Di);for(var r=0,o=a.length;r<o;r++){var l=a[r];if(l!=null){if(ke(l)||ut(l)){n=Di;break}else if(Ze(l)){n=bo;break}}}}else if(Ze(a)){for(var c in a)if(Je(a,c)&&Le(a[c])){n=Ds;break}}return n}function Bwe(a,n,r,o,l){var c,f;if(!a)return{dimensionsDefine:i6(l),startIndex:f,dimensionsDetectedCount:c};if(n===Di){var p=a;o==="auto"||o==null?a6(function(v){v!=null&&v!=="-"&&(De(v)?f==null&&(f=1):f=0)},r,p,10):f=dt(o)?o:o?1:0,!l&&f===1&&(l=[],a6(function(v,x){l[x]=v!=null?v+"":""},r,p,1/0)),c=l?l.length:r===Wf?p.length:p[0]?p[0].length:null}else if(n===bo)l||(l=Qwe(a));else if(n===Ds)l||(l=[],Z(a,function(v,x){l.push(x)}));else if(n===Oo){var g=Yp(a[0]);c=ke(g)&&g.length||1}else n===Ru&&Ke(!!l,"dimensions must be given if data is TypedArray.");return{startIndex:f,dimensionsDefine:i6(l),dimensionsDetectedCount:c}}function Qwe(a){for(var n=0,r;n<a.length&&!(r=a[n++]););if(r)return He(r)}function i6(a){if(a){var n=Xe();return ve(a,function(r,o){r=Ze(r)?r:{name:r};var l={name:r.name,displayName:r.displayName,type:r.type};if(l.name==null)return l;l.name+="",l.displayName==null&&(l.displayName=l.name);var c=n.get(l.name);return c?l.name+="-"+c.count++:n.set(l.name,{count:1}),l})}}function a6(a,n,r,o){if(n===Wf)for(var l=0;l<r.length&&l<o;l++)a(r[l]?r[l][0]:null,l);else for(var c=r[0]||[],l=0;l<c.length&&l<o;l++)a(c[l],l)}function o6(a){var n=a.sourceFormat;return n===bo||n===Ds}var Uf,qf,Zf,Hf,s6,l6,u6=(function(){function a(n,r){var o=NM(n)?n:zM(n);this._source=o;var l=this._data=o.data,c=o.sourceFormat,f=o.seriesLayoutBy;if(c===Ru){if(r==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=r,this._data=l}{var p=jwe[Rb(c,f)];p&&p(l,o.dimensionsDefine)}l6(this,l,o)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(n,r){},a.prototype.appendData=function(n){},a.prototype.clean=function(){},a.protoInitialize=(function(){var n=a.prototype;n.pure=!1,n.persistent=!0})(),a.internalField=(function(){var n;l6=function(f,p,g){var v=g.sourceFormat,x=g.seriesLayoutBy,O=g.startIndex,w=g.dimensionsDefine,S=s6[Rb(v,x)];if(Ke(S,"Invalide sourceFormat: "+v),ee(f,S),v===Ru)f.getItem=r,f.count=l,f.fillStorage=o;else{var k=d6(v,x);f.getItem=Ee(k,null,p,O,w);var P=h6(v,x);f.count=Ee(P,null,p,O,w)}};var r=function(f,p){f=f-this._offset,p=p||[];for(var g=this._data,v=this._dimSize,x=v*f,O=0;O<v;O++)p[O]=g[x+O];return p},o=function(f,p,g,v){for(var x=this._data,O=this._dimSize,w=0;w<O;w++){for(var S=v[w],k=S[0]==null?1/0:S[0],P=S[1]==null?-1/0:S[1],E=p-f,M=g[w],R=0;R<E;R++){var N=x[R*O+w];M[f+R]=N,N<k&&(k=N),N>P&&(P=N)}S[0]=k,S[1]=P}},l=function(){return this._data?this._data.length/this._dimSize:0};s6=(n={},n[Di+"_"+Is]={pure:!0,appendData:c},n[Di+"_"+Wf]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[bo]={pure:!0,appendData:c},n[Ds]={pure:!0,appendData:function(f){var p=this._data;Z(f,function(g,v){for(var x=p[v]||(p[v]=[]),O=0;O<(g||[]).length;O++)x.push(g[O])})}},n[Oo]={appendData:c},n[Ru]={persistent:!1,pure:!0,appendData:function(f){Ke(ut(f),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=f},clean:function(){this._offset+=this.count(),this._data=null}},n);function c(f){for(var p=0;p<f.length;p++)this._data.push(f[p])}})(),a})(),Ib=function(a){ke(a)||cn("series.data or dataset.source must be an array.")},jwe=(Uf={},Uf[Di+"_"+Is]=Ib,Uf[Di+"_"+Wf]=Ib,Uf[bo]=Ib,Uf[Ds]=function(a,n){for(var r=0;r<n.length;r++){var o=n[r].name;o==null&&cn("dimension name must not be null/undefined.")}},Uf[Oo]=Ib,Uf),c6=function(a,n,r,o){return a[o]},Vwe=(qf={},qf[Di+"_"+Is]=function(a,n,r,o){return a[o+n]},qf[Di+"_"+Wf]=function(a,n,r,o,l){o+=n;for(var c=l||[],f=a,p=0;p<f.length;p++){var g=f[p];c[p]=g?g[o]:null}return c},qf[bo]=c6,qf[Ds]=function(a,n,r,o,l){for(var c=l||[],f=0;f<r.length;f++){var p=r[f].name,g=p!=null?a[p]:null;c[f]=g?g[o]:null}return c},qf[Oo]=c6,qf);function d6(a,n){var r=Vwe[Rb(a,n)];return Ke(r,'Do not support get item on "'+a+'", "'+n+'".'),r}var f6=function(a,n,r){return a.length},Fwe=(Zf={},Zf[Di+"_"+Is]=function(a,n,r){return Math.max(0,a.length-n)},Zf[Di+"_"+Wf]=function(a,n,r){var o=a[0];return o?Math.max(0,o.length-n):0},Zf[bo]=f6,Zf[Ds]=function(a,n,r){var o=r[0].name,l=o!=null?a[o]:null;return l?l.length:0},Zf[Oo]=f6,Zf);function h6(a,n){var r=Fwe[Rb(a,n)];return Ke(r,'Do not support count on "'+a+'", "'+n+'".'),r}var BM=function(a,n,r){return a[n]},Gwe=(Hf={},Hf[Di]=BM,Hf[bo]=function(a,n,r){return a[r]},Hf[Ds]=BM,Hf[Oo]=function(a,n,r){var o=Yp(a);return o instanceof Array?o[n]:o},Hf[Ru]=BM,Hf);function p6(a){var n=Gwe[a];return Ke(n,'Do not support get value on "'+a+'".'),n}function Rb(a,n){return a===Di?a+"_"+n:a}function Om(a,n,r){if(a){var o=a.getRawDataItem(n);if(o!=null){var l=a.getStore(),c=l.getSource().sourceFormat;if(r!=null){var f=a.getDimensionIndex(r),p=l.getDimensionProperty(f);return p6(c)(o,f,p)}else{var g=o;return c===Oo&&(g=Yp(o)),g}}}}var Wwe=/\{@(.+?)\}/g,Lb=(function(){function a(){}return a.prototype.getDataParams=function(n,r){var o=this.getData(r),l=this.getRawValue(n,r),c=o.getRawIndex(n),f=o.getName(n),p=o.getRawDataItem(n),g=o.getItemVisual(n,"style"),v=g&&g[o.getItemVisual(n,"drawType")||"fill"],x=g&&g.stroke,O=this.mainType,w=O==="series",S=o.userOutput&&o.userOutput.get();return{componentType:O,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:w?this.subType:null,seriesIndex:this.seriesIndex,seriesId:w?this.id:null,seriesName:w?this.name:null,name:f,dataIndex:c,data:p,dataType:r,value:l,color:v,borderColor:x,dimensionNames:S?S.fullDimensions:null,encode:S?S.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(n,r,o,l,c,f){r=r||"normal";var p=this.getData(o),g=this.getDataParams(n,o);if(f&&(g.value=f.interpolatedValue),l!=null&&ke(g.value)&&(g.value=g.value[l]),!c){var v=p.getItemModel(n);c=v.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(Ge(c))return g.status=r,g.dimensionIndex=l,c(g);if(De(c)){var x=OM(c,g);return x.replace(Wwe,function(O,w){var S=w.length,k=w;k.charAt(0)==="["&&k.charAt(S-1)==="]"&&(k=+k.slice(1,S-1),isNaN(k)&&cn("Invalide label formatter: @"+w+", only support @[0], @[1], @[2], ..."));var P=Om(p,n,k);if(f&&ke(f.interpolatedValue)){var E=p.getDimensionIndex(k);E>=0&&(P=f.interpolatedValue[E])}return P!=null?P+"":""})}},a.prototype.getRawValue=function(n,r){return Om(this.getData(r),n)},a.prototype.formatTooltip=function(n,r,o){},a})();function m6(a){var n,r;return Ze(a)?a.type?r=a:console.warn("The return type of `formatTooltip` is not supported: "+ga(a)):n=a,{text:n,frag:r}}function F0(a){return new Uwe(a)}var Uwe=(function(){function a(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return a.prototype.perform=function(n){var r=this._upstream,o=n&&n.skip;if(this._dirty&&r){var l=this.context;l.data=l.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var c;this._plan&&!o&&(c=this._plan(this.context));var f=x(this._modBy),p=this._modDataCount||0,g=x(n&&n.modBy),v=n&&n.modDataCount||0;(f!==g||p!==v)&&(c="reset");function x(R){return!(R>=1)&&(R=1),R}var O;(this._dirty||c==="reset")&&(this._dirty=!1,O=this._doReset(o)),this._modBy=g,this._modDataCount=v;var w=n&&n.step;if(r?(Ke(r._outputDueEnd!=null),this._dueEnd=r._outputDueEnd):(Ke(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var S=this._dueIndex,k=Math.min(w!=null?this._dueIndex+w:1/0,this._dueEnd);if(!o&&(O||S<k)){var P=this._progress;if(ke(P))for(var E=0;E<P.length;E++)this._doProgress(P[E],S,k,g,v);else this._doProgress(P,S,k,g,v)}this._dueIndex=k;var M=this._settedOutputEnd!=null?this._settedOutputEnd:k;Ke(M>=this._outputDueEnd),this._outputDueEnd=M}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(n,r,o,l,c){g6.reset(r,o,l,c),this._callingProgress=n,this._callingProgress({start:r,end:o,count:o-r,next:g6.next},this.context)},a.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,o;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(o=r.forceFirstProgress,r=r.progress),ke(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var l=this._downstream;return l&&l.dirty(),o},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(n){Ke(n&&!n._disposed&&n!==this),(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},a})(),g6=(function(){var a,n,r,o,l,c={reset:function(g,v,x,O){n=g,a=v,r=x,o=O,l=Math.ceil(o/r),c.next=r>1&&o>0?p:f}};return c;function f(){return n<a?n++:null}function p(){var g=n%l*r+Math.ceil(n/l),v=n>=a?null:g<o?g:n;return n++,v}})();function Wc(a,n){var r=n&&n.type;return r==="ordinal"?a:(r==="time"&&!dt(a)&&a!=null&&a!=="-"&&(a=+hl(a)),a==null||a===""?NaN:Number(a))}var qwe=Xe({number:function(a){return parseFloat(a)},time:function(a){return+hl(a)},trim:function(a){return De(a)?An(a):a}});function v6(a){return qwe.get(a)}var y6={lt:function(a,n){return a<n},lte:function(a,n){return a<=n},gt:function(a,n){return a>n},gte:function(a,n){return a>=n}},Zwe=(function(){function a(n,r){if(!dt(r)){var o="";o='rvalue of "<", ">", "<=", ">=" can only be number in filter.',Sn(o)}this._opFn=y6[n],this._rvalFloat=pl(r)}return a.prototype.evaluate=function(n){return dt(n)?this._opFn(n,this._rvalFloat):this._opFn(pl(n),this._rvalFloat)},a})(),x6=(function(){function a(n,r){var o=n==="desc";this._resultLT=o?1:-1,r==null&&(r=o?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return a.prototype.evaluate=function(n,r){var o=dt(n)?n:pl(n),l=dt(r)?r:pl(r),c=isNaN(o),f=isNaN(l);if(c&&(o=this._incomparable),f&&(l=this._incomparable),c&&f){var p=De(n),g=De(r);p&&(o=g?n:0),g&&(l=p?r:0)}return o<l?this._resultLT:o>l?-this._resultLT:0},a})(),Hwe=(function(){function a(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=pl(r)}return a.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var o=typeof n;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(r=pl(n)===this._rvalFloat)}return this._isEQ?r:!r},a})();function Xwe(a,n){return a==="eq"||a==="ne"?new Hwe(a==="eq",n):Je(y6,a)?new Zwe(a,n):null}var Ywe=(function(){function a(){}return a.prototype.getRawData=function(){throw new Error("not supported")},a.prototype.getRawDataItem=function(n){throw new Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(n){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(n,r){},a.prototype.retrieveValueFromItem=function(n,r){},a.prototype.convertValue=function(n,r){return Wc(n,r)},a})();function Kwe(a,n){var r=new Ywe,o=a.data,l=r.sourceFormat=a.sourceFormat,c=a.startIndex,f="";a.seriesLayoutBy!==Is&&(f='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',Sn(f));var p=[],g={},v=a.dimensionsDefine;if(v)Z(v,function(P,E){var M=P.name,R={index:E,name:M,displayName:P.displayName};if(p.push(R),M!=null){var N="";Je(g,M)&&(N='dimension name "'+M+'" duplicated.',Sn(N)),g[M]=R}});else for(var x=0;x<a.dimensionsDetectedCount;x++)p.push({index:x});var O=d6(l,Is);n.__isBuiltIn&&(r.getRawDataItem=function(P){return O(o,c,p,P)},r.getRawData=Ee(Jwe,null,a)),r.cloneRawData=Ee(eSe,null,a);var w=h6(l,Is);r.count=Ee(w,null,o,c,p);var S=p6(l);r.retrieveValue=function(P,E){var M=O(o,c,p,P);return k(M,E)};var k=r.retrieveValueFromItem=function(P,E){if(P!=null){var M=p[E];if(M)return S(P,E,M.name)}};return r.getDimensionInfo=Ee(tSe,null,p,g),r.cloneAllDimensionInfo=Ee(nSe,null,p),r}function Jwe(a){var n=a.sourceFormat;if(!QM(n)){var r="";r="`getRawData` is not supported in source format "+n,Sn(r)}return a.data}function eSe(a){var n=a.sourceFormat,r=a.data;if(!QM(n)){var o="";o="`cloneRawData` is not supported in source format "+n,Sn(o)}if(n===Di){for(var l=[],c=0,f=r.length;c<f;c++)l.push(r[c].slice());return l}else if(n===bo){for(var l=[],c=0,f=r.length;c<f;c++)l.push(ee({},r[c]));return l}}function tSe(a,n,r){if(r!=null){if(dt(r)||!isNaN(r)&&!Je(n,r))return a[r];if(Je(n,r))return n[r]}}function nSe(a){return ne(a)}var _6=Xe();function rSe(a){a=ne(a);var n=a.type,r="";n||(r="Must have a `type` when `registerTransform`.",Sn(r));var o=n.split(":");o.length!==2&&(r='Name must include namespace like "ns:regression".',Sn(r));var l=!1;o[0]==="echarts"&&(n=o[1],l=!0),a.__isBuiltIn=l,_6.set(n,a)}function iSe(a,n,r){var o=Vn(a),l=o.length,c="";l||(c="If `transform` declared, it should at least contain one transform.",Sn(c));for(var f=0,p=l;f<p;f++){var g=o[f];n=aSe(g,n,r,l===1?null:f),f!==p-1&&(n.length=Math.max(n.length,1))}return n}function aSe(a,n,r,o){var l="";n.length||(l="Must have at least one upstream dataset.",Sn(l)),Ze(a)||(l="transform declaration must be an object rather than "+typeof a+".",Sn(l));var c=a.type,f=_6.get(c);f||(l='Can not find transform on type "'+c+'".',Sn(l));var p=ve(n,function(x){return Kwe(x,f)}),g=Vn(f.transform({upstream:p[0],upstreamList:p,config:ne(a.config)}));if(a.print){var v=ve(g,function(x){var O=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+r.datasetIndex+O+" ===","- transform result data:",ga(x.data),"- transform result dimensions:",ga(x.dimensions)].join(`
`)}).join(`
`);A8(v)}return ve(g,function(x,O){var w="";Ze(x)||(w="A transform should not return some empty results.",Sn(w)),x.data||(w="Transform result data should be not be null or undefined",Sn(w));var S=r6(x.data);QM(S)||(w="Transform result data should be array rows or object rows.",Sn(w));var k,P=n[0];if(P&&O===0&&!x.dimensions){var E=P.startIndex;E&&(x.data=P.data.slice(0,E).concat(x.data)),k={seriesLayoutBy:Is,sourceHeader:E,dimensions:P.metaRawOption.dimensions}}else k={seriesLayoutBy:Is,sourceHeader:0,dimensions:x.dimensions};return $M(x.data,k,null)})}function QM(a){return a===Di||a===bo}var Nb="undefined",oSe=typeof Uint32Array===Nb?Array:Uint32Array,sSe=typeof Uint16Array===Nb?Array:Uint16Array,O6=typeof Int32Array===Nb?Array:Int32Array,b6=typeof Float64Array===Nb?Array:Float64Array,w6={float:b6,int:O6,ordinal:Array,number:Array,time:b6},jM;function bm(a){return a>65535?oSe:sSe}function wm(){return[1/0,-1/0]}function lSe(a){var n=a.constructor;return n===Array?a.slice():new n(a)}function S6(a,n,r,o,l){var c=w6[r||"float"];if(l){var f=a[n],p=f&&f.length;if(p!==o){for(var g=new c(o),v=0;v<p;v++)g[v]=f[v];a[n]=g}}else a[n]=new c(o)}var VM=(function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Xe()}return a.prototype.initData=function(n,r,o){Ke(Ge(n.getItem)&&Ge(n.count),"Invalid data provider."),this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var l=n.getSource(),c=this.defaultDimValueGetter=jM[l.sourceFormat];this._dimValueGetter=o||c,this._rawExtent=[];var f=o6(l);this._dimensions=ve(r,function(p){return f&&Ke(p.property!=null),{type:p.type,property:p.property}}),this._initDataFromProvider(0,n.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(n,r){var o=this._calcDimNameToIdx,l=this._dimensions,c=o.get(n);if(c!=null){if(l[c].type===r)return c}else c=l.length;return l[c]={type:r},o.set(n,c),this._chunks[c]=new w6[r||"float"](this._rawCount),this._rawExtent[c]=wm(),c},a.prototype.collectOrdinalMeta=function(n,r){var o=this._chunks[n],l=this._dimensions[n],c=this._rawExtent,f=l.ordinalOffset||0,p=o.length;f===0&&(c[n]=wm());for(var g=c[n],v=f;v<p;v++){var x=o[v]=r.parseAndCollect(o[v]);isNaN(x)||(g[0]=Math.min(x,g[0]),g[1]=Math.max(x,g[1]))}l.ordinalMeta=r,l.ordinalOffset=p,l.type="ordinal"},a.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],o=r.ordinalMeta;return o},a.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},a.prototype.appendData=function(n){Ke(!this._indices,"appendData can only be called on raw data.");var r=this._provider,o=this.count();r.appendData(n);var l=r.count();return r.persistent||(l+=o),o<l&&this._initDataFromProvider(o,l,!0),[o,l]},a.prototype.appendValues=function(n,r){for(var o=this._chunks,l=this._dimensions,c=l.length,f=this._rawExtent,p=this.count(),g=p+Math.max(n.length,r||0),v=0;v<c;v++){var x=l[v];S6(o,v,x.type,g,!0)}for(var O=[],w=p;w<g;w++)for(var S=w-p,k=0;k<c;k++){var x=l[k],P=jM.arrayRows.call(this,n[S]||O,x.property,S,k);o[k][w]=P;var E=f[k];P<E[0]&&(E[0]=P),P>E[1]&&(E[1]=P)}return this._rawCount=this._count=g,{start:p,end:g}},a.prototype._initDataFromProvider=function(n,r,o){for(var l=this._provider,c=this._chunks,f=this._dimensions,p=f.length,g=this._rawExtent,v=ve(f,function(R){return R.property}),x=0;x<p;x++){var O=f[x];g[x]||(g[x]=wm()),S6(c,x,O.type,r,o)}if(l.fillStorage)l.fillStorage(n,r,c,g);else for(var w=[],S=n;S<r;S++){w=l.getItem(S,w);for(var k=0;k<p;k++){var P=c[k],E=this._dimValueGetter(w,v[k],S,k);P[S]=E;var M=g[k];E<M[0]&&(M[0]=E),E>M[1]&&(M[1]=E)}}!l.persistent&&l.clean&&l.clean(),this._rawCount=this._count=r,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(r)]:NaN},a.prototype.getValues=function(n,r){var o=[],l=[];if(r==null){r=n,n=[];for(var c=0;c<this._dimensions.length;c++)l.push(c)}else l=n;for(var c=0,f=l.length;c<f;c++)o.push(this.get(l[c],r));return o},a.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var o=this._chunks[n];return o?o[r]:NaN},a.prototype.getSum=function(n){var r=this._chunks[n],o=0;if(r)for(var l=0,c=this.count();l<c;l++){var f=this.get(n,l);isNaN(f)||(o+=f)}return o},a.prototype.getMedian=function(n){var r=[];this.each([n],function(c){isNaN(c)||r.push(c)});var o=r.sort(function(c,f){return c-f}),l=this.count();return l===0?0:l%2===1?o[(l-1)/2]:(o[l/2]+o[l/2-1])/2},a.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,o=r[n];if(o!=null&&o<this._count&&o===n)return n;for(var l=0,c=this._count-1;l<=c;){var f=(l+c)/2|0;if(r[f]<n)l=f+1;else if(r[f]>n)c=f-1;else return f}return-1},a.prototype.getIndices=function(){var n,r=this._indices;if(r){var o=r.constructor,l=this._count;if(o===Array){n=new o(l);for(var c=0;c<l;c++)n[c]=r[c]}else n=new o(r.buffer,0,l)}else{var o=bm(this._rawCount);n=new o(this.count());for(var c=0;c<n.length;c++)n[c]=c}return n},a.prototype.filter=function(n,r){if(!this._count)return this;for(var o=this.clone(),l=o.count(),c=bm(o._rawCount),f=new c(l),p=[],g=n.length,v=0,x=n[0],O=o._chunks,w=0;w<l;w++){var S=void 0,k=o.getRawIndex(w);if(g===0)S=r(w);else if(g===1){var P=O[x][k];S=r(P,w)}else{for(var E=0;E<g;E++)p[E]=O[n[E]][k];p[E]=w,S=r.apply(null,p)}S&&(f[v++]=k)}return v<l&&(o._indices=f),o._count=v,o._extent=[],o._updateGetRawIdx(),o},a.prototype.selectRange=function(n){var r=this.clone(),o=r._count;if(!o)return this;var l=He(n),c=l.length;if(!c)return this;var f=r.count(),p=bm(r._rawCount),g=new p(f),v=0,x=l[0],O=n[x][0],w=n[x][1],S=r._chunks,k=!1;if(!r._indices){var P=0;if(c===1){for(var E=S[l[0]],M=0;M<o;M++){var R=E[M];(R>=O&&R<=w||isNaN(R))&&(g[v++]=P),P++}k=!0}else if(c===2){for(var E=S[l[0]],N=S[l[1]],j=n[l[1]][0],W=n[l[1]][1],M=0;M<o;M++){var R=E[M],U=N[M];(R>=O&&R<=w||isNaN(R))&&(U>=j&&U<=W||isNaN(U))&&(g[v++]=P),P++}k=!0}}if(!k)if(c===1)for(var M=0;M<f;M++){var X=r.getRawIndex(M),R=S[l[0]][X];(R>=O&&R<=w||isNaN(R))&&(g[v++]=X)}else for(var M=0;M<f;M++){for(var J=!0,X=r.getRawIndex(M),re=0;re<c;re++){var ie=l[re],R=S[ie][X];(R<n[ie][0]||R>n[ie][1])&&(J=!1)}J&&(g[v++]=r.getRawIndex(M))}return v<f&&(r._indices=g),r._count=v,r._extent=[],r._updateGetRawIdx(),r},a.prototype.map=function(n,r){var o=this.clone(n);return this._updateDims(o,n,r),o},a.prototype.modify=function(n,r){this._updateDims(this,n,r)},a.prototype._updateDims=function(n,r,o){for(var l=n._chunks,c=[],f=r.length,p=n.count(),g=[],v=n._rawExtent,x=0;x<r.length;x++)v[r[x]]=wm();for(var O=0;O<p;O++){for(var w=n.getRawIndex(O),S=0;S<f;S++)g[S]=l[r[S]][w];g[f]=O;var k=o&&o.apply(null,g);if(k!=null){typeof k!="object"&&(c[0]=k,k=c);for(var x=0;x<k.length;x++){var P=r[x],E=k[x],M=v[P],R=l[P];R&&(R[w]=E),E<M[0]&&(M[0]=E),E>M[1]&&(M[1]=E)}}}},a.prototype.lttbDownSample=function(n,r){var o=this.clone([n],!0),l=o._chunks,c=l[n],f=this.count(),p=0,g=Math.floor(1/r),v=this.getRawIndex(0),x,O,w,S=new(bm(this._rawCount))(Math.min((Math.ceil(f/g)+2)*2,f));S[p++]=v;for(var k=1;k<f-1;k+=g){for(var P=Math.min(k+g,f-1),E=Math.min(k+g*2,f),M=(E+P)/2,R=0,N=P;N<E;N++){var j=this.getRawIndex(N),W=c[j];isNaN(W)||(R+=W)}R/=E-P;var U=k,X=Math.min(k+g,f),J=k-1,re=c[v];x=-1,w=U;for(var ie=-1,le=0,N=U;N<X;N++){var j=this.getRawIndex(N),W=c[j];if(isNaN(W)){le++,ie<0&&(ie=j);continue}O=Math.abs((J-M)*(W-re)-(J-N)*(R-re)),O>x&&(x=O,w=j)}le>0&&le<X-U&&(S[p++]=Math.min(ie,w),w=Math.max(ie,w)),S[p++]=w,v=w}return S[p++]=this.getRawIndex(f-1),o._count=p,o._indices=S,o.getRawIndex=this._getRawIdx,o},a.prototype.minmaxDownSample=function(n,r){for(var o=this.clone([n],!0),l=o._chunks,c=Math.floor(1/r),f=l[n],p=this.count(),g=new(bm(this._rawCount))(Math.ceil(p/c)*2),v=0,x=0;x<p;x+=c){var O=x,w=f[this.getRawIndex(O)],S=x,k=f[this.getRawIndex(S)],P=c;x+c>p&&(P=p-x);for(var E=0;E<P;E++){var M=this.getRawIndex(x+E),R=f[M];R<w&&(w=R,O=x+E),R>k&&(k=R,S=x+E)}var N=this.getRawIndex(O),j=this.getRawIndex(S);O<S?(g[v++]=N,g[v++]=j):(g[v++]=j,g[v++]=N)}return o._count=v,o._indices=g,o._updateGetRawIdx(),o},a.prototype.downSample=function(n,r,o,l){for(var c=this.clone([n],!0),f=c._chunks,p=[],g=Math.floor(1/r),v=f[n],x=this.count(),O=c._rawExtent[n]=wm(),w=new(bm(this._rawCount))(Math.ceil(x/g)),S=0,k=0;k<x;k+=g){g>x-k&&(g=x-k,p.length=g);for(var P=0;P<g;P++){var E=this.getRawIndex(k+P);p[P]=v[E]}var M=o(p),R=this.getRawIndex(Math.min(k+l(p,M)||0,x-1));v[R]=M,M<O[0]&&(O[0]=M),M>O[1]&&(O[1]=M),w[S++]=R}return c._count=S,c._indices=w,c._updateGetRawIdx(),c},a.prototype.each=function(n,r){if(this._count)for(var o=n.length,l=this._chunks,c=0,f=this.count();c<f;c++){var p=this.getRawIndex(c);switch(o){case 0:r(c);break;case 1:r(l[n[0]][p],c);break;case 2:r(l[n[0]][p],l[n[1]][p],c);break;default:for(var g=0,v=[];g<o;g++)v[g]=l[n[g]][p];v[g]=c,r.apply(null,v)}}},a.prototype.getDataExtent=function(n){var r=this._chunks[n],o=wm();if(!r)return o;var l=this.count(),c=!this._indices,f;if(c)return this._rawExtent[n].slice();if(f=this._extent[n],f)return f.slice();f=o;for(var p=f[0],g=f[1],v=0;v<l;v++){var x=this.getRawIndex(v),O=r[x];O<p&&(p=O),O>g&&(g=O)}return f=[p,g],this._extent[n]=f,f},a.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var o=[],l=this._chunks,c=0;c<l.length;c++)o.push(l[c][r]);return o},a.prototype.clone=function(n,r){var o=new a,l=this._chunks,c=n&&ze(n,function(p,g){return p[g]=!0,p},{});if(c)for(var f=0;f<l.length;f++)o._chunks[f]=c[f]?lSe(l[f]):l[f];else o._chunks=l;return this._copyCommonProps(o),r||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},a.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=ne(this._extent),n._rawExtent=ne(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var o=this._indices.length;r=new n(o);for(var l=0;l<o;l++)r[l]=this._indices[l]}else r=new n(this._indices);return r}return null},a.prototype._getRawIdxIdentity=function(n){return n},a.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=(function(){function n(r,o,l,c){return Wc(r[c],this._dimensions[c])}jM={arrayRows:n,objectRows:function(r,o,l,c){return Wc(r[o],this._dimensions[c])},keyedColumns:n,original:function(r,o,l,c){var f=r&&(r.value==null?r:r.value);return Wc(f instanceof Array?f[c]:f,this._dimensions[c])},typedArray:function(r,o,l,c){return r[c]}}})(),a})(),T6=(function(){function a(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length,l,c;if(G0(n)){var f=n,p=void 0,g=void 0,v=void 0;if(o){var x=r[0];x.prepareSource(),v=x.getSource(),p=v.data,g=v.sourceFormat,c=[x._getVersionSign()]}else p=f.get("data",!0),g=ut(p)?Ru:Oo,c=[];var O=this._getSourceMetaRawOption()||{},w=v&&v.metaRawOption||{},S=$e(O.seriesLayoutBy,w.seriesLayoutBy)||null,k=$e(O.sourceHeader,w.sourceHeader),P=$e(O.dimensions,w.dimensions),E=S!==w.seriesLayoutBy||!!k!=!!w.sourceHeader||P;l=E?[$M(p,{seriesLayoutBy:S,sourceHeader:k,dimensions:P},g)]:[]}else{var M=n;if(o){var R=this._applyTransform(r);l=R.sourceList,c=R.upstreamSignList}else{var N=M.get("source",!0);l=[$M(N,this._getSourceMetaRawOption(),null)],c=[]}}Ke(l&&c),this._setLocalSource(l,c)},a.prototype._applyTransform=function(n){var r=this._sourceHost,o=r.get("transform",!0),l=r.get("fromTransformResult",!0);if(Ke(l!=null||o!=null),l!=null){var c="";n.length!==1&&(c="When using `fromTransformResult`, there should be only one upstream dataset",k6(c))}var f,p=[],g=[];return Z(n,function(v){v.prepareSource();var x=v.getSource(l||0),O="";l!=null&&!x&&(O="Can not retrieve result by `fromTransformResult`: "+l,k6(O)),p.push(x),g.push(v._getVersionSign())}),o?f=iSe(o,p,{datasetIndex:r.componentIndex}):l!=null&&(f=[zwe(p[0])]),{sourceList:f,upstreamSignList:g}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var o=n[r];if(o._isDirty()||this._upstreamSignList[r]!==o._getVersionSign())return!0}},a.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return r},a.prototype.getSharedDataStore=function(n){Ke(G0(this._sourceHost),"Can only call getDataStore on series source manager.");var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},a.prototype._innerGetDataStore=function(n,r,o){var l=0,c=this._storeList,f=c[l];f||(f=c[l]={});var p=f[o];if(!p){var g=this._getUpstreamSourceManagers()[0];G0(this._sourceHost)&&g?p=g._innerGetDataStore(n,r,o):(p=new VM,p.initData(new u6(r,n.length),n)),f[o]=p}return p},a.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(G0(n)){var r=AM(n);return r?[r.getSourceManager()]:[]}else return ve(dwe(n),function(o){return o.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,o,l;if(G0(n))r=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),l=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var c=n;r=c.get("seriesLayoutBy",!0),o=c.get("sourceHeader",!0),l=c.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:o,dimensions:l}},a})();function C6(a){var n=a.option.transform;n&&Cr(a.option.transform)}function G0(a){return a.mainType==="series"}function k6(a){throw new Error(a)}var uSe="line-height:1";function A6(a){var n=a.lineHeight;return n==null?uSe:"line-height:"+Ai(n+"")+"px"}function P6(a,n){var r=a.color||Ie.color.tertiary,o=a.fontSize||12,l=a.fontWeight||"400",c=a.color||Ie.color.secondary,f=a.fontSize||14,p=a.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+Ai(o+"")+"px;color:"+Ai(r)+";font-weight:"+Ai(l+""),valueStyle:"font-size:"+Ai(f+"")+"px;color:"+Ai(c)+";font-weight:"+Ai(p+"")}:{nameStyle:{fontSize:o,fill:r,fontWeight:l},valueStyle:{fontSize:f,fill:c,fontWeight:p}}}var cSe=[0,10,20,30],dSe=["",`
`,`

`,`


`];function qr(a,n){return n.type=a,n}function FM(a){return a.type==="section"}function E6(a){return FM(a)?fSe:hSe}function M6(a){if(FM(a)){var n=0,r=a.blocks.length,o=r>1||r>0&&!a.noHeader;return Z(a.blocks,function(l){var c=M6(l);c>=n&&(n=c+ +(o&&(!c||FM(l)&&!l.noHeader)))}),n}return 0}function fSe(a,n,r,o){var l=n.noHeader,c=pSe(M6(n)),f=[],p=n.blocks||[];Ke(!p||ke(p)),p=p||[];var g=a.orderMode;if(n.sortBlocks&&g){p=p.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(Je(v,g)){var x=new x6(v[g],null);p.sort(function(P,E){return x.evaluate(P.sortParam,E.sortParam)})}else g==="seriesDesc"&&p.reverse()}Z(p,function(P,E){var M=n.valueFormatter,R=E6(P)(M?ee(ee({},a),{valueFormatter:M}):a,P,E>0?c.html:0,o);R!=null&&f.push(R)});var O=a.renderMode==="richText"?f.join(c.richText):GM(o,f.join(""),l?r:c.html);if(l)return O;var w=xM(n.header,"ordinal",a.useUTC),S=P6(o,a.renderMode).nameStyle,k=A6(o);return a.renderMode==="richText"?I6(a,w,S)+c.richText+O:GM(o,'<div style="'+S+";"+k+';">'+Ai(w)+"</div>"+O,r)}function hSe(a,n,r,o){var l=a.renderMode,c=n.noName,f=n.noValue,p=!n.markerType,g=n.name,v=a.useUTC,x=n.valueFormatter||a.valueFormatter||function(j){return j=ke(j)?j:[j],ve(j,function(W,U){return xM(W,ke(S)?S[U]:S,v)})};if(!(c&&f)){var O=p?"":a.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||Ie.color.secondary,l),w=c?"":xM(g,"ordinal",v),S=n.valueType,k=f?[]:x(n.value,n.dataIndex),P=!p||!c,E=!p&&c,M=P6(o,l),R=M.nameStyle,N=M.valueStyle;return l==="richText"?(p?"":O)+(c?"":I6(a,w,R))+(f?"":vSe(a,k,P,E,N)):GM(o,(p?"":O)+(c?"":mSe(w,!p,R))+(f?"":gSe(k,P,E,N)),r)}}function D6(a,n,r,o,l,c){if(a){var f=E6(a),p={useUTC:l,renderMode:r,orderMode:o,markupStyleCreator:n,valueFormatter:a.valueFormatter};return f(p,a,0,c)}}function pSe(a){return{html:cSe[a],richText:dSe[a]}}function GM(a,n,r){var o='<div style="clear:both"></div>',l="margin: "+r+"px 0 0",c=A6(a);return'<div style="'+l+";"+c+';">'+n+o+"</div>"}function mSe(a,n,r){var o=n?"margin-left:2px":"";return'<span style="'+r+";"+o+'">'+Ai(a)+"</span>"}function gSe(a,n,r,o){var l=r?"10px":"20px",c=n?"float:right;margin-left:"+l:"";return a=ke(a)?a:[a],'<span style="'+c+";"+o+'">'+ve(a,function(f){return Ai(f)}).join("&nbsp;&nbsp;")+"</span>"}function I6(a,n,r){return a.markupStyleCreator.wrapRichTextStyle(n,r)}function vSe(a,n,r,o,l){var c=[l],f=o?10:20;return r&&c.push({padding:[0,0,0,f],align:"right"}),a.markupStyleCreator.wrapRichTextStyle(ke(n)?n.join("  "):n,c)}function R6(a,n){var r=a.getData().getItemVisual(n,"style"),o=r[a.visualDrawType];return Bf(o)}function L6(a,n){var r=a.get("padding");return r??(n==="richText"?[8,10]:10)}var WM=(function(){function a(){this.richTextStyles={},this._nextStyleNameId=S8()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(n,r,o){var l=o==="richText"?this._generateStyleName():null,c=C7({color:r,type:n,renderMode:o,markerId:l});return De(c)?c:(Ke(l),this.richTextStyles[l]=c.style,c.content)},a.prototype.wrapRichTextStyle=function(n,r){var o={};ke(r)?Z(r,function(c){return ee(o,c)}):ee(o,r);var l=this._generateStyleName();return this.richTextStyles[l]=o,"{"+l+"|"+n+"}"},a})();function N6(a){var n=a.series,r=a.dataIndex,o=a.multipleSeries,l=n.getData(),c=l.mapDimensionsAll("defaultedTooltip"),f=c.length,p=n.getRawValue(r),g=ke(p),v=R6(n,r),x,O,w,S;if(f>1||g&&!f){var k=ySe(p,n,r,c,v);x=k.inlineValues,O=k.inlineValueTypes,w=k.blocks,S=k.inlineValues[0]}else if(f){var P=l.getDimensionInfo(c[0]);S=x=Om(l,r,c[0]),O=P.type}else S=x=g?p[0]:p;var E=rE(n),M=E&&n.name||"",R=l.getName(r),N=o?M:R;return qr("section",{header:M,noHeader:o||!E,sortParam:S,blocks:[qr("nameValue",{markerType:"item",markerColor:v,name:N,noName:!An(N),value:x,valueType:O,dataIndex:r})].concat(w||[])})}function ySe(a,n,r,o,l){var c=n.getData(),f=ze(a,function(O,w,S){var k=c.getDimensionInfo(S);return O=O||k&&k.tooltip!==!1&&k.displayName!=null},!1),p=[],g=[],v=[];o.length?Z(o,function(O){x(Om(c,r,O),O)}):Z(a,x);function x(O,w){var S=c.getDimensionInfo(w);!S||S.otherDims.tooltip===!1||(f?v.push(qr("nameValue",{markerType:"subItem",markerColor:l,name:S.displayName,value:O,valueType:S.type})):(p.push(O),g.push(S.type)))}return{inlineValues:p,inlineValueTypes:g,blocks:v}}var Uc=Kt();function $b(a,n){return a.getName(n)||a.getId(n)}var zb="__universalTransitionEnabled",Bn=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,o,l){this.seriesIndex=this.componentIndex,this.dataTask=F0({count:_Se,reset:OSe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,l);var c=Uc(this).sourceManager=new T6(this);c.prepareSource();var f=this.getInitialData(r,l);z6(f,this),this.dataTask.context.data=f,Ke(f,"getInitialData returned invalid data."),Uc(this).dataBeforeProcessed=f,$6(this),this._initSelectedMapFromData(f)},n.prototype.mergeDefaultAndTheme=function(r,o){var l=z0(this),c=l?Ff(r):{},f=this.subType;Ht.hasClass(f)&&(f+="Series"),me(r,o.getTheme().get(this.subType)),me(r,this.getDefaultOption()),yf(r,"label",["show"]),this.fillDataTextStyle(r.data),l&&Sl(r,c,l)},n.prototype.mergeOption=function(r,o){r=me(this.option,r,!0),this.fillDataTextStyle(r.data);var l=z0(this);l&&Sl(this.option,r,l);var c=Uc(this).sourceManager;c.dirty(),c.prepareSource();var f=this.getInitialData(r,o);z6(f,this),this.dataTask.dirty(),this.dataTask.context.data=f,Uc(this).dataBeforeProcessed=f,$6(this),this._initSelectedMapFromData(f)},n.prototype.fillDataTextStyle=function(r){if(r&&!ut(r))for(var o=["show"],l=0;l<r.length;l++)r[l]&&r[l].label&&yf(r[l],"label",o)},n.prototype.getInitialData=function(r,o){},n.prototype.appendData=function(r){var o=this.getRawData();o.appendData(r.data)},n.prototype.getData=function(r){var o=UM(this);if(o){var l=o.context.data;return r==null||!l.getLinkedData?l:l.getLinkedData(r)}else return Uc(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var o=UM(this);if(o){var l=o.context;l.outputData=r,o!==this.dataTask&&(l.data=r)}Uc(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Xe(r)},n.prototype.getSourceManager=function(){return Uc(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return Uc(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.indicesOfNearest=function(r,o,l,c){var f=this.getData(),p=this.coordinateSystem,g=p&&p.getAxis(r);if(!p||!g)return[];var v=g.dataToCoord(l);c==null&&(c=1/0);var x=[],O=1/0,w=-1,S=0;return f.each(o,function(k,P){var E=g.dataToCoord(k),M=v-E,R=Math.abs(M);R<=c&&((R<O||R===O&&M>=0&&w<0)&&(O=R,w=M,S=0),M===w&&(x[S++]=P))}),x.length=S,x},n.prototype.formatTooltip=function(r,o,l){return N6({series:this,dataIndex:r,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(m.node&&!(r&&r.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,o,l){var c=this.ecModel,f=EM.prototype.getColorFromPalette.call(this,r,o,l);return f||(f=c.getColorFromPalette(r,o,l)),f},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,o){this._innerSelect(this.getData(o),r)},n.prototype.unselect=function(r,o){var l=this.option.selectedMap;if(l){var c=this.option.selectedMode,f=this.getData(o);if(c==="series"||l==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var p=0;p<r.length;p++){var g=r[p],v=$b(f,g);l[v]=!1,this._selectedDataIndicesMap[v]=-1}}},n.prototype.toggleSelect=function(r,o){for(var l=[],c=0;c<r.length;c++)l[0]=r[c],this.isSelected(r[c],o)?this.unselect(l,o):this.select(l,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,o=He(r),l=[],c=0;c<o.length;c++){var f=r[o[c]];f>=0&&l.push(f)}return l},n.prototype.isSelected=function(r,o){var l=this.option.selectedMap;if(!l)return!1;var c=this.getData(o);return(l==="all"||l[$b(c,r)])&&!c.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[zb])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,o){var l,c,f=this.option,p=f.selectedMode,g=o.length;if(!(!p||!g)){if(p==="series")f.selectedMap="all";else if(p==="multiple"){Ze(f.selectedMap)||(f.selectedMap={});for(var v=f.selectedMap,x=0;x<g;x++){var O=o[x],w=$b(r,O);v[w]=!0,this._selectedDataIndicesMap[w]=r.getRawIndex(O)}}else if(p==="single"||p===!0){var S=o[g-1],w=$b(r,S);f.selectedMap=(l={},l[w]=!0,l),this._selectedDataIndicesMap=(c={},c[w]=r.getRawIndex(S),c)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var o=[];r.hasItemOption&&r.each(function(l){var c=r.getRawDataItem(l);c&&c.selected&&o.push(l)}),o.length>0&&this._innerSelect(r,o)}},n.registerClass=function(r){return Ht.registerClass(r)},n.protoInitialize=(function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),n})(Ht);we(Bn,Lb),we(Bn,EM),Q8(Bn,Ht);function $6(a){var n=a.name;rE(a)||(a.name=xSe(a)||n)}function xSe(a){var n=a.getRawData(),r=n.mapDimensionsAll("seriesName"),o=[];return Z(r,function(l){var c=n.getDimensionInfo(l);c.displayName&&o.push(c.displayName)}),o.join(" ")}function _Se(a){return a.model.getRawData().count()}function OSe(a){var n=a.model;return n.setData(n.getRawData().cloneShallow()),bSe}function bSe(a,n){n.outputData&&a.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function z6(a,n){Z(Xn(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(r){a.wrapMethod(r,Ue(wSe,n))})}function wSe(a,n){var r=UM(a);return r&&r.setOutputEnd((n||this).count()),n}function UM(a){var n=(a.ecModel||{}).scheduler,r=n&&n.getPipeline(a.uid);if(r){var o=r.currentTask;if(o){var l=o.agentStubMap;l&&(o=l.get(a.uid))}return o}}var Gn=(function(){function a(){this.group=new _t,this.uid=gm("viewComponent")}return a.prototype.init=function(n,r){},a.prototype.render=function(n,r,o,l){},a.prototype.dispose=function(n,r){},a.prototype.updateView=function(n,r,o,l){},a.prototype.updateLayout=function(n,r,o,l){},a.prototype.updateVisual=function(n,r,o,l){},a.prototype.toggleBlurSeries=function(n,r,o){},a.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},a})();sE(Gn),qO(Gn);function Sm(){var a=Kt();return function(n){var r=a(n),o=n.pipelineContext,l=!!r.large,c=!!r.progressiveRender,f=r.large=!!(o&&o.large),p=r.progressiveRender=!!(o&&o.progressiveRender);return(l!==f||c!==p)&&"reset"}}var B6=Kt(),SSe=Sm(),Dn=(function(){function a(){this.group=new _t,this.uid=gm("viewChart"),this.renderTask=F0({plan:TSe,reset:CSe}),this.renderTask.context={view:this}}return a.prototype.init=function(n,r){},a.prototype.render=function(n,r,o,l){throw new Error("render method must been implemented")},a.prototype.highlight=function(n,r,o,l){var c=n.getData(l&&l.dataType);if(!c){cn("Unknown dataType "+l.dataType);return}j6(c,l,"emphasis")},a.prototype.downplay=function(n,r,o,l){var c=n.getData(l&&l.dataType);if(!c){cn("Unknown dataType "+l.dataType);return}j6(c,l,"normal")},a.prototype.remove=function(n,r){this.group.removeAll()},a.prototype.dispose=function(n,r){},a.prototype.updateView=function(n,r,o,l){this.render(n,r,o,l)},a.prototype.updateLayout=function(n,r,o,l){this.render(n,r,o,l)},a.prototype.updateVisual=function(n,r,o,l){this.render(n,r,o,l)},a.prototype.eachRendered=function(n){Fc(this.group,n)},a.markUpdateMethod=function(n,r){B6(n).updateMethod=r},a.protoInitialize=(function(){var n=a.prototype;n.type="chart"})(),a})();function Q6(a,n,r){a&&Qc(a)&&(n==="emphasis"?Eu:Mu)(a,r)}function j6(a,n,r){var o=xf(a,n),l=n&&n.highlightKey!=null?Hbe(n.highlightKey):null;o!=null?Z(Vn(o),function(c){Q6(a.getItemGraphicEl(c),r,l)}):a.eachItemGraphicEl(function(c){Q6(c,r,l)})}sE(Dn,["dispose"]),qO(Dn);function TSe(a){return SSe(a.model)}function CSe(a){var n=a.model,r=a.ecModel,o=a.api,l=a.payload,c=n.pipelineContext.progressiveRender,f=a.view,p=l&&B6(l).updateMethod,g=c?"incrementalPrepareRender":p&&f[p]?p:"render";return g!=="render"&&f[g](n,r,o,l),kSe[g]}var kSe={incrementalPrepareRender:{progress:function(a,n){n.view.incrementalRender(a,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(a,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},Bb="\0__throttleOriginMethod",V6="\0__throttleRate",F6="\0__throttleType";function Qb(a,n,r){var o,l=0,c=0,f=null,p,g,v,x;n=n||0;function O(){c=new Date().getTime(),f=null,a.apply(g,v||[])}var w=function(){for(var S=[],k=0;k<arguments.length;k++)S[k]=arguments[k];o=new Date().getTime(),g=this,v=S;var P=x||n,E=x||r;x=null,p=o-(E?l:c)-P,clearTimeout(f),E?f=setTimeout(O,P):p>=0?O():f=setTimeout(O,-p),l=o};return w.clear=function(){f&&(clearTimeout(f),f=null)},w.debounceNextCall=function(S){x=S},w}function Tm(a,n,r,o){var l=a[n];if(l){var c=l[Bb]||l,f=l[F6],p=l[V6];if(p!==r||f!==o){if(r==null||!o)return a[n]=c;l=a[n]=Qb(c,r,o==="debounce"),l[Bb]=c,l[F6]=o,l[V6]=r}return l}}function W0(a,n){var r=a[n];r&&r[Bb]&&(r.clear&&r.clear(),a[n]=r[Bb])}var G6=Kt(),W6={itemStyle:Of(p7,!0),lineStyle:Of(h7,!0)},ASe={lineStyle:"stroke",itemStyle:"fill"};function U6(a,n){var r=a.visualStyleMapper||W6[n];return r||(console.warn("Unknown style type '"+n+"'."),W6.itemStyle)}function q6(a,n){var r=a.visualDrawType||ASe[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var PSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){var r=a.getData(),o=a.visualStyleAccessPath||"itemStyle",l=a.getModel(o),c=U6(a,o),f=c(l),p=l.getShallow("decal");p&&(r.setVisual("decal",p),p.dirty=!0);var g=q6(a,o),v=f[g],x=Ge(v)?v:null,O=f.fill==="auto"||f.stroke==="auto";if(!f[g]||x||O){var w=a.getColorFromPalette(a.name,null,n.getSeriesCount());f[g]||(f[g]=w,r.setVisual("colorFromPalette",!0)),f.fill=f.fill==="auto"||Ge(f.fill)?w:f.fill,f.stroke=f.stroke==="auto"||Ge(f.stroke)?w:f.stroke}if(r.setVisual("style",f),r.setVisual("drawType",g),!n.isSeriesFiltered(a)&&x)return r.setVisual("colorFromPalette",!1),{dataEach:function(S,k){var P=a.getDataParams(k),E=ee({},f);E[g]=x(P),S.setItemVisual(k,"style",E)}}}},U0=new en,ESe={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){if(!(a.ignoreStyleOnData||n.isSeriesFiltered(a))){var r=a.getData(),o=a.visualStyleAccessPath||"itemStyle",l=U6(a,o),c=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(f,p){var g=f.getRawDataItem(p);if(g&&g[o]){U0.option=g[o];var v=l(U0),x=f.ensureUniqueItemVisual(p,"style");ee(x,v),U0.option.decal&&(f.setItemVisual(p,"decal",U0.option.decal),U0.option.decal.dirty=!0),c in v&&f.setItemVisual(p,"colorFromPalette",!1)}}:null}}}},MSe={performRawSeries:!0,overallReset:function(a){var n=Xe();a.eachSeries(function(r){var o=r.getColorBy();if(!r.isColorBySeries()){var l=r.type+"-"+o,c=n.get(l);c||(c={},n.set(l,c)),G6(r).scope=c}}),a.eachSeries(function(r){if(!(r.isColorBySeries()||a.isSeriesFiltered(r))){var o=r.getRawData(),l={},c=r.getData(),f=G6(r).scope,p=r.visualStyleAccessPath||"itemStyle",g=q6(r,p);c.each(function(v){var x=c.getRawIndex(v);l[x]=v}),o.each(function(v){var x=l[v],O=c.getItemVisual(x,"colorFromPalette");if(O){var w=c.ensureUniqueItemVisual(x,"style"),S=o.getName(v)||v+"",k=o.count();w[g]=r.getColorFromPalette(S,f,k)}})}})}},jb=Math.PI;function DSe(a,n){n=n||{},be(n,{text:"loading",textColor:Ie.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:Ie.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var r=new _t,o=new Zt({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add(o);var l=new un({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),c=new Zt({style:{fill:"none"},textContent:l,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(c);var f;return n.showSpinner&&(f=new k0({shape:{startAngle:-jb/2,endAngle:-jb/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),f.animateShape(!0).when(1e3,{endAngle:jb*3/2}).start("circularInOut"),f.animateShape(!0).when(1e3,{startAngle:jb*3/2}).delay(300).start("circularInOut"),r.add(f)),r.resize=function(){var p=l.getBoundingRect().width,g=n.showSpinner?n.spinnerRadius:0,v=(a.getWidth()-g*2-(n.showSpinner&&p?10:0)-p)/2-(n.showSpinner&&p?0:5+p/2)+(n.showSpinner?0:p/2)+(p?0:g),x=a.getHeight()/2;n.showSpinner&&f.setShape({cx:v,cy:x}),c.setShape({x:v-g,y:x-g,width:g*2,height:g*2}),o.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},r.resize(),r}var Z6=(function(){function a(n,r,o,l){this._stageTaskMap=Xe(),this.ecInstance=n,this.api=r,o=this._dataProcessorHandlers=o.slice(),l=this._visualHandlers=l.slice(),this._allHandlers=o.concat(l)}return a.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function(o){var l=o.overallTask;l&&l.dirty()})},a.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),l=o.context,c=!r&&o.progressiveEnabled&&(!l||l.progressiveRender)&&n.__idxInPipeline>o.blockIndex,f=c?o.step:null,p=l&&l.modDataCount,g=p!=null?Math.ceil(p/f):null;return{step:f,modBy:g,modDataCount:p}}},a.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},a.prototype.updateStreamModes=function(n,r){var o=this._pipelineMap.get(n.uid),l=n.getData(),c=l.count(),f=o.progressiveEnabled&&r.incrementalPrepareRender&&c>=o.threshold,p=n.get("large")&&c>=n.get("largeThreshold"),g=n.get("progressiveChunkMode")==="mod"?c:null;n.pipelineContext=o.context={progressiveRender:f,modDataCount:g,large:p}},a.prototype.restorePipelines=function(n){var r=this,o=r._pipelineMap=Xe();n.eachSeries(function(l){var c=l.getProgressive(),f=l.uid;o.set(f,{id:f,head:null,tail:null,threshold:l.getProgressiveThreshold(),progressiveEnabled:c&&!(l.preventIncremental&&l.preventIncremental()),blockIndex:-1,step:Math.round(c||700),count:0}),r._pipe(l,l.dataTask)})},a.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),o=this.api;Z(this._allHandlers,function(l){var c=n.get(l.uid)||n.set(l.uid,{}),f="";f='"reset" and "overallReset" must not be both specified.',Ke(!(l.reset&&l.overallReset),f),l.reset&&this._createSeriesStageTask(l,c,r,o),l.overallReset&&this._createOverallStageTask(l,c,r,o)},this)},a.prototype.prepareView=function(n,r,o,l){var c=n.renderTask,f=c.context;f.model=r,f.ecModel=o,f.api=l,c.__block=!n.incrementalPrepareRender,this._pipe(r,c)},a.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},a.prototype.performVisualTasks=function(n,r,o){this._performStageTasks(this._visualHandlers,n,r,o)},a.prototype._performStageTasks=function(n,r,o,l){l=l||{};var c=!1,f=this;Z(n,function(g,v){if(!(l.visualType&&l.visualType!==g.visualType)){var x=f._stageTaskMap.get(g.uid),O=x.seriesTaskMap,w=x.overallTask;if(w){var S,k=w.agentStubMap;k.each(function(E){p(l,E)&&(E.dirty(),S=!0)}),S&&w.dirty(),f.updatePayload(w,o);var P=f.getPerformArgs(w,l.block);k.each(function(E){E.perform(P)}),w.perform(P)&&(c=!0)}else O&&O.each(function(E,M){p(l,E)&&E.dirty();var R=f.getPerformArgs(E,l.block);R.skip=!g.performRawSeries&&r.isSeriesFiltered(E.context.model),f.updatePayload(E,o),E.perform(R)&&(c=!0)})}});function p(g,v){return g.setDirty&&(!g.dirtyMap||g.dirtyMap.get(v.__pipeline.id))}this.unfinished=c||this.unfinished},a.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function(o){r=o.dataTask.perform()||r}),this.unfinished=r||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},a.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},a.prototype._createSeriesStageTask=function(n,r,o,l){var c=this,f=r.seriesTaskMap,p=r.seriesTaskMap=Xe(),g=n.seriesType,v=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(x):g?o.eachRawSeriesByType(g,x):v&&v(o,l).each(x);function x(O){var w=O.uid,S=p.set(w,f&&f.get(w)||F0({plan:$Se,reset:zSe,count:QSe}));S.context={model:O,ecModel:o,api:l,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:c},c._pipe(O,S)}},a.prototype._createOverallStageTask=function(n,r,o,l){var c=this,f=r.overallTask=r.overallTask||F0({reset:ISe});f.context={ecModel:o,api:l,overallReset:n.overallReset,scheduler:c};var p=f.agentStubMap,g=f.agentStubMap=Xe(),v=n.seriesType,x=n.getTargetSeries,O=!0,w=!1,S="";S='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',Ke(!n.createOnAllSeries,S),v?o.eachRawSeriesByType(v,k):x?x(o,l).each(k):(O=!1,Z(o.getSeries(),k));function k(P){var E=P.uid,M=g.set(E,p&&p.get(E)||(w=!0,F0({reset:RSe,onDirty:NSe})));M.context={model:P,overallProgress:O},M.agent=f,M.__block=O,c._pipe(P,M)}w&&f.dirty()},a.prototype._pipe=function(n,r){var o=n.uid,l=this._pipelineMap.get(o);!l.head&&(l.head=r),l.tail&&l.tail.pipe(r),l.tail=r,r.__idxInPipeline=l.count++,r.__pipeline=l},a.wrapStageHandler=function(n,r){return Ge(n)&&(n={overallReset:n,seriesType:jSe(n)}),n.uid=gm("stageHandler"),r&&(n.visualType=r),n},a})();function ISe(a){a.overallReset(a.ecModel,a.api,a.payload)}function RSe(a){return a.overallProgress&&LSe}function LSe(){this.agent.dirty(),this.getDownstream().dirty()}function NSe(){this.agent&&this.agent.dirty()}function $Se(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function zSe(a){a.useClearVisual&&a.data.clearAllVisual();var n=a.resetDefines=Vn(a.reset(a.model,a.ecModel,a.api,a.payload));return n.length>1?ve(n,function(r,o){return H6(o)}):BSe}var BSe=H6(0);function H6(a){return function(n,r){var o=r.data,l=r.resetDefines[a];if(l&&l.dataEach)for(var c=n.start;c<n.end;c++)l.dataEach(o,c);else l&&l.progress&&l.progress(n,o)}}function QSe(a){return a.data.count()}function jSe(a){Vb=null;try{a(q0,X6)}catch{}return Vb}var q0={},X6={},Vb;Y6(q0,IM),Y6(X6,H7),q0.eachSeriesByType=q0.eachRawSeriesByType=function(a){Vb=a},q0.eachComponent=function(a){a.mainType==="series"&&a.subType&&(Vb=a.subType)};function Y6(a,n){for(var r in n.prototype)a[r]=an}var Tt=Ie.darkColor,VSe=Tt.background,Z0=function(){return{axisLine:{lineStyle:{color:Tt.axisLine}},splitLine:{lineStyle:{color:Tt.axisSplitLine}},splitArea:{areaStyle:{color:[Tt.backgroundTint,Tt.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Tt.axisMinorSplitLine}},axisLabel:{color:Tt.axisLabel},axisName:{}}},K6={label:{color:Tt.secondary},itemStyle:{borderColor:Tt.borderTint},dividerLineStyle:{color:Tt.border}},J6={darkMode:!0,color:Tt.theme,backgroundColor:VSe,axisPointer:{lineStyle:{color:Tt.border},crossStyle:{color:Tt.borderShade},label:{color:Tt.tertiary}},legend:{textStyle:{color:Tt.secondary},pageTextStyle:{color:Tt.tertiary}},textStyle:{color:Tt.secondary},title:{textStyle:{color:Tt.primary},subtextStyle:{color:Tt.quaternary}},toolbox:{iconStyle:{borderColor:Tt.accent50}},tooltip:{backgroundColor:Tt.neutral20,defaultBorderColor:Tt.border,textStyle:{color:Tt.tertiary}},dataZoom:{borderColor:Tt.accent10,textStyle:{color:Tt.tertiary},brushStyle:{color:Tt.backgroundTint},handleStyle:{color:Tt.neutral00,borderColor:Tt.accent20},moveHandleStyle:{color:Tt.accent40},emphasis:{handleStyle:{borderColor:Tt.accent50}},dataBackground:{lineStyle:{color:Tt.accent30},areaStyle:{color:Tt.accent20}},selectedDataBackground:{lineStyle:{color:Tt.accent50},areaStyle:{color:Tt.accent30}}},visualMap:{textStyle:{color:Tt.secondary},handleStyle:{borderColor:Tt.neutral30}},timeline:{lineStyle:{color:Tt.accent10},label:{color:Tt.tertiary},controlStyle:{color:Tt.accent30,borderColor:Tt.accent30}},calendar:{itemStyle:{color:Tt.neutral00,borderColor:Tt.neutral20},dayLabel:{color:Tt.tertiary},monthLabel:{color:Tt.secondary},yearLabel:{color:Tt.secondary}},matrix:{x:K6,y:K6,backgroundColor:{borderColor:Tt.axisLine},body:{itemStyle:{borderColor:Tt.borderTint}}},timeAxis:Z0(),logAxis:Z0(),valueAxis:Z0(),categoryAxis:Z0(),line:{symbol:"circle"},graph:{color:Tt.theme},gauge:{title:{color:Tt.secondary},axisLine:{lineStyle:{color:[[1,Tt.neutral05]]}},axisLabel:{color:Tt.axisLabel},detail:{color:Tt.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Tt.background}},radar:(function(){var a=Z0();return a.axisName={color:Tt.axisLabel},a.axisLine.lineStyle.color=Tt.neutral20,a})(),treemap:{breadcrumb:{itemStyle:{color:Tt.neutral20,textStyle:{color:Tt.secondary}},emphasis:{itemStyle:{color:Tt.neutral30}}}},sunburst:{itemStyle:{borderColor:Tt.background}},map:{itemStyle:{borderColor:Tt.border,areaColor:Tt.neutral10},label:{color:Tt.tertiary},emphasis:{label:{color:Tt.primary},itemStyle:{areaColor:Tt.highlight}},select:{label:{color:Tt.primary},itemStyle:{areaColor:Tt.highlight}}},geo:{itemStyle:{borderColor:Tt.border,areaColor:Tt.neutral10},emphasis:{label:{color:Tt.primary},itemStyle:{areaColor:Tt.highlight}},select:{label:{color:Tt.primary},itemStyle:{color:Tt.highlight}}}};J6.categoryAxis.splitLine.show=!1;var FSe=(function(){function a(){}return a.prototype.normalizeQuery=function(n){var r={},o={},l={};if(De(n)){var c=ml(n);r.mainType=c.main||null,r.subType=c.sub||null}else{var f=["Index","Name","Id"],p={name:1,dataIndex:1,dataType:1};Z(n,function(g,v){for(var x=!1,O=0;O<f.length;O++){var w=f[O],S=v.lastIndexOf(w);if(S>0&&S===v.length-w.length){var k=v.slice(0,S);k!=="data"&&(r.mainType=k,r[w.toLowerCase()]=g,x=!0)}}p.hasOwnProperty(v)&&(o[v]=g,x=!0),x||(l[v]=g)})}return{cptQuery:r,dataQuery:o,otherQuery:l}},a.prototype.filter=function(n,r){var o=this.eventInfo;if(!o)return!0;var l=o.targetEl,c=o.packedEvent,f=o.model,p=o.view;if(!f||!p)return!0;var g=r.cptQuery,v=r.dataQuery;return x(g,f,"mainType")&&x(g,f,"subType")&&x(g,f,"index","componentIndex")&&x(g,f,"name")&&x(g,f,"id")&&x(v,c,"name")&&x(v,c,"dataIndex")&&x(v,c,"dataType")&&(!p.filterForExposedEvent||p.filterForExposedEvent(n,r.otherQuery,l,c));function x(O,w,S,k){return O[S]==null||w[k||S]===O[S]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a})(),qM=["symbol","symbolSize","symbolRotate","symbolOffset"],eG=qM.concat(["symbolKeepAspect"]),GSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){var r=a.getData();if(a.legendIcon&&r.setVisual("legendIcon",a.legendIcon),!a.hasSymbolVisual)return;for(var o={},l={},c=!1,f=0;f<qM.length;f++){var p=qM[f],g=a.get(p);Ge(g)?(c=!0,l[p]=g):o[p]=g}if(o.symbol=o.symbol||a.defaultSymbol,r.setVisual(ee({legendIcon:a.legendIcon||o.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},o)),n.isSeriesFiltered(a))return;var v=He(l);function x(O,w){for(var S=a.getRawValue(w),k=a.getDataParams(w),P=0;P<v.length;P++){var E=v[P];O.setItemVisual(w,E,l[E](S,k))}}return{dataEach:c?x:null}}},WSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){if(!a.hasSymbolVisual||n.isSeriesFiltered(a))return;var r=a.getData();function o(l,c){for(var f=l.getItemModel(c),p=0;p<eG.length;p++){var g=eG[p],v=f.getShallow(g,!0);v!=null&&l.setItemVisual(c,g,v)}}return{dataEach:r.hasItemOption?o:null}}};function ZM(a,n,r){switch(r){case"color":var o=a.getItemVisual(n,"style");return o[a.getVisual("drawType")];case"opacity":return a.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(n,r);default:console.warn("Unknown visual type "+r)}}function H0(a,n){switch(n){case"color":var r=a.getVisual("style");return r[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(n);default:console.warn("Unknown visual type "+n)}}function tG(a,n,r,o){switch(r){case"color":var l=a.ensureUniqueItemVisual(n,"style");l[a.getVisual("drawType")]=o,a.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(n,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(n,r,o);break;default:console.warn("Unknown visual type "+r)}}function nG(a,n){function r(o,l){var c=[];return o.eachComponent({mainType:"series",subType:a,query:l},function(f){c.push(f.seriesIndex)}),c}Z([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(o){n(o[0],function(l,c,f){l=ee({},l),Nr(l.type,o[1]),f.dispatchAction(ee(l,{type:o[1],seriesIndex:r(c,l)}))})})}function Cm(a,n,r,o,l){var c=a+n;r.isSilent(c)||(Ps("event "+c+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(f){for(var p=f.seriesIndex,g=f.option.selectedMap,v=l.selected,x=0;x<v.length;x++)if(v[x].seriesIndex===p){var O=f.getData(),w=xf(O,l.fromActionPayload);r.trigger(c,{type:c,seriesId:f.id,name:ke(w)?O.getName(w[0]):O.getName(w),selected:De(g)?g:ee({},g)})}}))}function USe(a,n,r){a.on("selectchanged",function(o){var l=r.getModel();o.isFromClick?(Cm("map","selectchanged",n,l,o),Cm("pie","selectchanged",n,l,o)):o.fromAction==="select"?(Cm("map","selected",n,l,o),Cm("pie","selected",n,l,o)):o.fromAction==="unselect"&&(Cm("map","unselected",n,l,o),Cm("pie","unselected",n,l,o))})}function Xf(a,n,r){for(var o;a&&!(n(a)&&(o=a,r));)a=a.__hostTarget||a.parent;return o}var qSe=Math.round(Math.random()*9),ZSe=typeof Object.defineProperty=="function",HSe=(function(){function a(){this._id="__ec_inner_"+qSe++}return a.prototype.get=function(n){return this._guard(n)[this._id]},a.prototype.set=function(n,r){var o=this._guard(n);return ZSe?Object.defineProperty(o,this._id,{value:r,enumerable:!1,configurable:!0}):o[this._id]=r,this},a.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},a.prototype.has=function(n){return!!this._guard(n)[this._id]},a.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},a})(),XSe=Jt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,n){var r=n.cx,o=n.cy,l=n.width/2,c=n.height/2;a.moveTo(r,o-c),a.lineTo(r+l,o+c),a.lineTo(r-l,o+c),a.closePath()}}),YSe=Jt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,n){var r=n.cx,o=n.cy,l=n.width/2,c=n.height/2;a.moveTo(r,o-c),a.lineTo(r+l,o),a.lineTo(r,o+c),a.lineTo(r-l,o),a.closePath()}}),KSe=Jt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,n){var r=n.x,o=n.y,l=n.width/5*3,c=Math.max(l,n.height),f=l/2,p=f*f/(c-f),g=o-c+f+p,v=Math.asin(p/f),x=Math.cos(v)*f,O=Math.sin(v),w=Math.cos(v),S=f*.6,k=f*.7;a.moveTo(r-x,g+p),a.arc(r,g,f,Math.PI-v,Math.PI*2+v),a.bezierCurveTo(r+x-O*S,g+p+w*S,r,o-k,r,o),a.bezierCurveTo(r,o-k,r-x+O*S,g+p+w*S,r-x,g+p),a.closePath()}}),JSe=Jt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,n){var r=n.height,o=n.width,l=n.x,c=n.y,f=o/3*2;a.moveTo(l,c),a.lineTo(l+f,c+r),a.lineTo(l,c+r/4*3),a.lineTo(l-f,c+r),a.lineTo(l,c),a.closePath()}}),eTe={line:$r,rect:Zt,roundRect:Zt,square:Zt,circle:Ol,diamond:YSe,pin:KSe,arrow:JSe,triangle:XSe},tTe={line:function(a,n,r,o,l){l.x1=a,l.y1=n+o/2,l.x2=a+r,l.y2=n+o/2},rect:function(a,n,r,o,l){l.x=a,l.y=n,l.width=r,l.height=o},roundRect:function(a,n,r,o,l){l.x=a,l.y=n,l.width=r,l.height=o,l.r=Math.min(r,o)/4},square:function(a,n,r,o,l){var c=Math.min(r,o);l.x=a,l.y=n,l.width=c,l.height=c},circle:function(a,n,r,o,l){l.cx=a+r/2,l.cy=n+o/2,l.r=Math.min(r,o)/2},diamond:function(a,n,r,o,l){l.cx=a+r/2,l.cy=n+o/2,l.width=r,l.height=o},pin:function(a,n,r,o,l){l.x=a+r/2,l.y=n+o/2,l.width=r,l.height=o},arrow:function(a,n,r,o,l){l.x=a+r/2,l.y=n+o/2,l.width=r,l.height=o},triangle:function(a,n,r,o,l){l.cx=a+r/2,l.cy=n+o/2,l.width=r,l.height=o}},Fb={};Z(eTe,function(a,n){Fb[n]=new a});var nTe=Jt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,n,r){var o=BO(a,n,r),l=this.shape;return l&&l.symbolType==="pin"&&n.position==="inside"&&(o.y=r.y+r.height*.4),o},buildPath:function(a,n,r){var o=n.symbolType;if(o!=="none"){var l=Fb[o];l||(o="rect",l=Fb[o]),tTe[o](n.x,n.y,n.width,n.height,l.shape),l.buildPath(a,l.shape,r)}}});function rTe(a,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=a,r.fill=n||Ie.color.neutral00,r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=a:r.fill=a,this.markRedraw()}}function Br(a,n,r,o,l,c,f){var p=a.indexOf("empty")===0;p&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var g;return a.indexOf("image://")===0?g=qE(a.slice(8),new wt(n,r,o,l),f?"center":"cover"):a.indexOf("path://")===0?g=dm(a.slice(7),{},new wt(n,r,o,l),f?"center":"cover"):g=new nTe({shape:{symbolType:a,x:n,y:r,width:o,height:l}}),g.__isEmptyBrush=p,g.setColor=rTe,c&&g.setColor(c),g}function km(a){return ke(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function Yf(a,n){if(a!=null)return ke(a)||(a=[a,a]),[it(a[0],n[0])||0,it($e(a[1],a[0]),n[1])||0]}function Kf(a){return isFinite(a)}function iTe(a,n,r){var o=n.x==null?0:n.x,l=n.x2==null?1:n.x2,c=n.y==null?0:n.y,f=n.y2==null?0:n.y2;n.global||(o=o*r.width+r.x,l=l*r.width+r.x,c=c*r.height+r.y,f=f*r.height+r.y),o=Kf(o)?o:0,l=Kf(l)?l:1,c=Kf(c)?c:0,f=Kf(f)?f:0;var p=a.createLinearGradient(o,c,l,f);return p}function aTe(a,n,r){var o=r.width,l=r.height,c=Math.min(o,l),f=n.x==null?.5:n.x,p=n.y==null?.5:n.y,g=n.r==null?.5:n.r;n.global||(f=f*o+r.x,p=p*l+r.y,g=g*c),f=Kf(f)?f:.5,p=Kf(p)?p:.5,g=g>=0&&Kf(g)?g:.5;var v=a.createRadialGradient(f,p,0,f,p,g);return v}function HM(a,n,r){for(var o=n.type==="radial"?aTe(a,n,r):iTe(a,n,r),l=n.colorStops,c=0;c<l.length;c++)o.addColorStop(l[c].offset,l[c].color);return o}function oTe(a,n){if(a===n||!a&&!n)return!1;if(!a||!n||a.length!==n.length)return!0;for(var r=0;r<a.length;r++)if(a[r]!==n[r])return!0;return!1}function Gb(a){return parseInt(a,10)}function Am(a,n,r){var o=["width","height"][n],l=["clientWidth","clientHeight"][n],c=["paddingLeft","paddingTop"][n],f=["paddingRight","paddingBottom"][n];if(r[o]!=null&&r[o]!=="auto")return parseFloat(r[o]);var p=document.defaultView.getComputedStyle(a);return(a[l]||Gb(p[o])||Gb(a.style[o]))-(Gb(p[c])||0)-(Gb(p[f])||0)|0}function sTe(a,n){return!a||a==="solid"||!(n>0)?null:a==="dashed"?[4*n,2*n]:a==="dotted"?[n]:dt(a)?[a]:ke(a)?a:null}function XM(a){var n=a.style,r=n.lineDash&&n.lineWidth>0&&sTe(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(r){var l=n.strokeNoScale&&a.getLineScale?a.getLineScale():1;l&&l!==1&&(r=ve(r,function(c){return c/l}),o/=l)}return[r,o]}var lTe=new xl(!0);function Wb(a){var n=a.stroke;return!(n==null||n==="none"||!(a.lineWidth>0))}function rG(a){return typeof a=="string"&&a!=="none"}function Ub(a){var n=a.fill;return n!=null&&n!=="none"}function iG(a,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=a.globalAlpha;a.globalAlpha=n.fillOpacity*n.opacity,a.fill(),a.globalAlpha=r}else a.fill()}function aG(a,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=a.globalAlpha;a.globalAlpha=n.strokeOpacity*n.opacity,a.stroke(),a.globalAlpha=r}else a.stroke()}function YM(a,n,r){var o=uE(n.image,n.__image,r);if(ZO(o)){var l=a.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&l&&l.setTransform){var c=new DOMMatrix;c.translateSelf(n.x||0,n.y||0),c.rotateSelf(0,0,(n.rotation||0)*ki),c.scaleSelf(n.scaleX||1,n.scaleY||1),l.setTransform(c)}return l}}function uTe(a,n,r,o){var l,c=Wb(r),f=Ub(r),p=r.strokePercent,g=p<1,v=!n.path;(!n.silent||g)&&v&&n.createPathProxy();var x=n.path||lTe,O=n.__dirty;if(!o){var w=r.fill,S=r.stroke,k=f&&!!w.colorStops,P=c&&!!S.colorStops,E=f&&!!w.image,M=c&&!!S.image,R=void 0,N=void 0,j=void 0,W=void 0,U=void 0;(k||P)&&(U=n.getBoundingRect()),k&&(R=O?HM(a,w,U):n.__canvasFillGradient,n.__canvasFillGradient=R),P&&(N=O?HM(a,S,U):n.__canvasStrokeGradient,n.__canvasStrokeGradient=N),E&&(j=O||!n.__canvasFillPattern?YM(a,w,n):n.__canvasFillPattern,n.__canvasFillPattern=j),M&&(W=O||!n.__canvasStrokePattern?YM(a,S,n):n.__canvasStrokePattern,n.__canvasStrokePattern=W),k?a.fillStyle=R:E&&(j?a.fillStyle=j:f=!1),P?a.strokeStyle=N:M&&(W?a.strokeStyle=W:c=!1)}var X=n.getGlobalScale();x.setScale(X[0],X[1],n.segmentIgnoreThreshold);var J,re;a.setLineDash&&r.lineDash&&(l=XM(n),J=l[0],re=l[1]);var ie=!0;(v||O&Vp)&&(x.setDPR(a.dpr),g?x.setContext(null):(x.setContext(a),ie=!1),x.reset(),n.buildPath(x,n.shape,o),x.toStatic(),n.pathUpdated()),ie&&x.rebuildPath(a,g?p:1),J&&(a.setLineDash(J),a.lineDashOffset=re),o||(r.strokeFirst?(c&&aG(a,r),f&&iG(a,r)):(f&&iG(a,r),c&&aG(a,r))),J&&a.setLineDash([])}function cTe(a,n,r){var o=n.__image=uE(r.image,n.__image,n,n.onload);if(!(!o||!ZO(o))){var l=r.x||0,c=r.y||0,f=n.getWidth(),p=n.getHeight(),g=o.width/o.height;if(f==null&&p!=null?f=p*g:p==null&&f!=null?p=f/g:f==null&&p==null&&(f=o.width,p=o.height),r.sWidth&&r.sHeight){var v=r.sx||0,x=r.sy||0;a.drawImage(o,v,x,r.sWidth,r.sHeight,l,c,f,p)}else if(r.sx&&r.sy){var v=r.sx,x=r.sy,O=f-v,w=p-x;a.drawImage(o,v,x,O,w,l,c,f,p)}else a.drawImage(o,l,c,f,p)}}function dTe(a,n,r){var o,l=r.text;if(l!=null&&(l+=""),l){a.font=r.font||T,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline;var c=void 0,f=void 0;a.setLineDash&&r.lineDash&&(o=XM(n),c=o[0],f=o[1]),c&&(a.setLineDash(c),a.lineDashOffset=f),r.strokeFirst?(Wb(r)&&a.strokeText(l,r.x,r.y),Ub(r)&&a.fillText(l,r.x,r.y)):(Ub(r)&&a.fillText(l,r.x,r.y),Wb(r)&&a.strokeText(l,r.x,r.y)),c&&a.setLineDash([])}}var oG=["shadowBlur","shadowOffsetX","shadowOffsetY"],sG=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function lG(a,n,r,o,l){var c=!1;if(!o&&(r=r||{},n===r))return!1;if(o||n.opacity!==r.opacity){Fa(a,l),c=!0;var f=Math.max(Math.min(n.opacity,1),0);a.globalAlpha=isNaN(f)?bf.opacity:f}(o||n.blend!==r.blend)&&(c||(Fa(a,l),c=!0),a.globalCompositeOperation=n.blend||bf.blend);for(var p=0;p<oG.length;p++){var g=oG[p];(o||n[g]!==r[g])&&(c||(Fa(a,l),c=!0),a[g]=a.dpr*(n[g]||0))}return(o||n.shadowColor!==r.shadowColor)&&(c||(Fa(a,l),c=!0),a.shadowColor=n.shadowColor||bf.shadowColor),c}function uG(a,n,r,o,l){var c=X0(n,l.inHover),f=o?null:r&&X0(r,l.inHover)||{};if(c===f)return!1;var p=lG(a,c,f,o,l);if((o||c.fill!==f.fill)&&(p||(Fa(a,l),p=!0),rG(c.fill)&&(a.fillStyle=c.fill)),(o||c.stroke!==f.stroke)&&(p||(Fa(a,l),p=!0),rG(c.stroke)&&(a.strokeStyle=c.stroke)),(o||c.opacity!==f.opacity)&&(p||(Fa(a,l),p=!0),a.globalAlpha=c.opacity==null?1:c.opacity),n.hasStroke()){var g=c.lineWidth,v=g/(c.strokeNoScale&&n.getLineScale?n.getLineScale():1);a.lineWidth!==v&&(p||(Fa(a,l),p=!0),a.lineWidth=v)}for(var x=0;x<sG.length;x++){var O=sG[x],w=O[0];(o||c[w]!==f[w])&&(p||(Fa(a,l),p=!0),a[w]=c[w]||O[1])}return p}function fTe(a,n,r,o,l){return lG(a,X0(n,l.inHover),r&&X0(r,l.inHover),o,l)}function cG(a,n){var r=n.transform,o=a.dpr||1;r?a.setTransform(o*r[0],o*r[1],o*r[2],o*r[3],o*r[4],o*r[5]):a.setTransform(o,0,0,o,0,0)}function hTe(a,n,r){for(var o=!1,l=0;l<a.length;l++){var c=a[l];o=o||c.isZeroArea(),cG(n,c),n.beginPath(),c.buildPath(n,c.shape),n.clip()}r.allClipped=o}function pTe(a,n){return a&&n?a[0]!==n[0]||a[1]!==n[1]||a[2]!==n[2]||a[3]!==n[3]||a[4]!==n[4]||a[5]!==n[5]:!(!a&&!n)}var dG=1,fG=2,hG=3,pG=4;function mTe(a){var n=Ub(a),r=Wb(a);return!(a.lineDash||!(+n^+r)||n&&typeof a.fill!="string"||r&&typeof a.stroke!="string"||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)}function Fa(a,n){n.batchFill&&a.fill(),n.batchStroke&&a.stroke(),n.batchFill="",n.batchStroke=""}function X0(a,n){return n&&a.__hoverStyle||a.style}function KM(a,n){Jf(a,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Jf(a,n,r,o){var l=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~po,n.__isRendered=!1;return}var c=n.__clipPaths,f=r.prevElClipPaths,p=!1,g=!1;if((!f||oTe(c,f))&&(f&&f.length&&(Fa(a,r),a.restore(),g=p=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),c&&c.length&&(Fa(a,r),a.save(),hTe(c,a,r),p=!0),r.prevElClipPaths=c),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var v=r.prevEl;v||(g=p=!0);var x=n instanceof Jt&&n.autoBatch&&mTe(n.style);p||pTe(l,v.transform)?(Fa(a,r),cG(a,n)):x||Fa(a,r);var O=X0(n,r.inHover);n instanceof Jt?(r.lastDrawType!==dG&&(g=!0,r.lastDrawType=dG),uG(a,n,v,g,r),(!x||!r.batchFill&&!r.batchStroke)&&a.beginPath(),uTe(a,n,O,x),x&&(r.batchFill=O.fill||"",r.batchStroke=O.stroke||"")):n instanceof tm?(r.lastDrawType!==hG&&(g=!0,r.lastDrawType=hG),uG(a,n,v,g,r),dTe(a,n,O)):n instanceof fi?(r.lastDrawType!==fG&&(g=!0,r.lastDrawType=fG),fTe(a,n,v,g,r),cTe(a,n,O)):n.getTemporalDisplayables&&(r.lastDrawType!==pG&&(g=!0,r.lastDrawType=pG),gTe(a,n,r)),x&&o&&Fa(a,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function gTe(a,n,r){var o=n.getDisplayables(),l=n.getTemporalDisplayables();a.save();var c={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},f,p;for(f=n.getCursor(),p=o.length;f<p;f++){var g=o[f];g.beforeBrush&&g.beforeBrush(),g.innerBeforeBrush(),Jf(a,g,c,f===p-1),g.innerAfterBrush(),g.afterBrush&&g.afterBrush(),c.prevEl=g}for(var v=0,x=l.length;v<x;v++){var g=l[v];g.beforeBrush&&g.beforeBrush(),g.innerBeforeBrush(),Jf(a,g,c,v===x-1),g.innerAfterBrush(),g.afterBrush&&g.afterBrush(),c.prevEl=g}n.clearTemporalDisplayables(),n.notClear=!0,a.restore()}var JM=new HSe,mG=new Gp(100),gG=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Pm(a,n){if(a==="none")return null;var r=n.getDevicePixelRatio(),o=n.getZr(),l=o.painter.type==="svg";a.dirty&&JM.delete(a);var c=JM.get(a);if(c)return c;var f=be(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});f.backgroundColor==="none"&&(f.backgroundColor=null);var p={repeat:"repeat"};return g(p),p.rotation=f.rotation,p.scaleX=p.scaleY=l?1:1/r,JM.set(a,p),a.dirty=!1,p;function g(v){for(var x=[r],O=!0,w=0;w<gG.length;++w){var S=f[gG[w]];if(S!=null&&!ke(S)&&!De(S)&&!dt(S)&&typeof S!="boolean"){O=!1;break}x.push(S)}var k;if(O){k=x.join(",")+(l?"-svg":"");var P=mG.get(k);P&&(l?v.svgElement=P:v.image=P)}var E=yG(f.dashArrayX),M=vTe(f.dashArrayY),R=vG(f.symbol),N=yTe(E),j=xG(M),W=!l&&$.createCanvas(),U=l&&{tag:"g",attrs:{},key:"dcl",children:[]},X=re(),J;W&&(W.width=X.width*r,W.height=X.height*r,J=W.getContext("2d")),ie(),O&&mG.put(k,W||U),v.image=W,v.svgElement=U,v.svgWidth=X.width,v.svgHeight=X.height;function re(){for(var le=1,pe=0,ce=N.length;pe<ce;++pe)le=C8(le,N[pe]);for(var ye=1,pe=0,ce=R.length;pe<ce;++pe)ye=C8(ye,R[pe].length);le*=ye;var Oe=j*N.length*R.length;{var _e=function(Pe){console.warn("Calculated decal size is greater than "+Pe+" due to decal option settings so "+Pe+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+Pe+" to be larger to avoid incontinuity.")};le>f.maxTileWidth&&_e("maxTileWidth"),Oe>f.maxTileHeight&&_e("maxTileHeight")}return{width:Math.max(1,Math.min(le,f.maxTileWidth)),height:Math.max(1,Math.min(Oe,f.maxTileHeight))}}function ie(){J&&(J.clearRect(0,0,W.width,W.height),f.backgroundColor&&(J.fillStyle=f.backgroundColor,J.fillRect(0,0,W.width,W.height)));for(var le=0,pe=0;pe<M.length;++pe)le+=M[pe];if(le<=0)return;for(var ce=-j,ye=0,Oe=0,_e=0;ce<X.height;){if(ye%2===0){for(var Pe=Oe/2%R.length,Se=0,Re=0,Ne=0;Se<X.width*2;){for(var Be=0,pe=0;pe<E[_e].length;++pe)Be+=E[_e][pe];if(Be<=0)break;if(Re%2===0){var Fe=(1-f.symbolSize)*.5,rt=Se+E[_e][Re]*Fe,ht=ce+M[ye]*Fe,Mt=E[_e][Re]*f.symbolSize,vn=M[ye]*f.symbolSize,Rn=Ne/2%R[Pe].length;Dt(rt,ht,Mt,vn,R[Pe][Rn])}Se+=E[_e][Re],++Ne,++Re,Re===E[_e].length&&(Re=0)}++_e,_e===E.length&&(_e=0)}ce+=M[ye],++Oe,++ye,ye===M.length&&(ye=0)}function Dt(Ot,Ft,pt,Rt,Wn){var mn=l?1:r,In=Br(Wn,Ot*mn,Ft*mn,pt*mn,Rt*mn,f.color,f.symbolKeepAspect);if(l){var Un=o.painter.renderOneToVNode(In);Un&&U.children.push(Un)}else KM(J,In)}}}}function vG(a){if(!a||a.length===0)return[["rect"]];if(De(a))return[[a]];for(var n=!0,r=0;r<a.length;++r)if(!De(a[r])){n=!1;break}if(n)return vG([a]);for(var o=[],r=0;r<a.length;++r)De(a[r])?o.push([a[r]]):o.push(a[r]);return o}function yG(a){if(!a||a.length===0)return[[0,0]];if(dt(a)){var n=Math.ceil(a);return[[n,n]]}for(var r=!0,o=0;o<a.length;++o)if(!dt(a[o])){r=!1;break}if(r)return yG([a]);for(var l=[],o=0;o<a.length;++o)if(dt(a[o])){var n=Math.ceil(a[o]);l.push([n,n])}else{var n=ve(a[o],function(p){return Math.ceil(p)});n.length%2===1?l.push(n.concat(n)):l.push(n)}return l}function vTe(a){if(!a||typeof a=="object"&&a.length===0)return[0,0];if(dt(a)){var n=Math.ceil(a);return[n,n]}var r=ve(a,function(o){return Math.ceil(o)});return a.length%2?r.concat(r):r}function yTe(a){return ve(a,function(n){return xG(n)})}function xG(a){for(var n=0,r=0;r<a.length;++r)n+=a[r];return a.length%2===1?n*2:n}function xTe(a,n){a.eachRawSeries(function(r){if(!a.isSeriesFiltered(r)){var o=r.getData();o.hasItemVisual()&&o.each(function(f){var p=o.getItemVisual(f,"decal");if(p){var g=o.ensureUniqueItemVisual(f,"style");g.decal=Pm(p,n)}});var l=o.getVisual("decal");if(l){var c=o.getVisual("style");c.decal=Pm(l,n)}}})}var Rs=new La,qb={};function _Te(a,n){qb[a]&&cn("Already has an implementation of "+a+"."),qb[a]=n}function _G(a){return qb[a]||cn("Implementation of "+a+" doesn't exists."),qb[a]}var OG={};function bG(a,n){OG[a]=n}function OTe(a){return OG[a]}var bTe="6.0.0",wTe={zrender:"6.0.0"},STe=1,TTe=800,CTe=900,kTe=1e3,ATe=2e3,PTe=5e3,wG=1e3,ETe=1100,eD=2e3,SG=3e3,MTe=4e3,Zb=4500,DTe=4600,ITe=5e3,RTe=6e3,TG=7e3,CG={PROCESSOR:{FILTER:kTe,SERIES_FILTER:TTe,STATISTIC:PTe},VISUAL:{LAYOUT:wG,PROGRESSIVE_LAYOUT:ETe,GLOBAL:eD,CHART:SG,POST_CHART_LAYOUT:DTe,COMPONENT:MTe,BRUSH:ITe,CHART_ITEM:Zb,ARIA:RTe,DECAL:TG}},ti="__flagInMainProcess",Hb="__mainProcessVersion",Ii="__pendingUpdate",tD="__needsUpdateStatus",kG=/^[a-zA-Z0-9_]+$/,nD="__connectUpdateStatus",AG=0,LTe=1,NTe=2;function PG(a){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){Ga(this.id);return}return MG(this,a,n)}}function EG(a){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return MG(this,a,n)}}function MG(a,n,r){return r[0]=r[0]&&r[0].toLowerCase(),La.prototype[n].apply(a,r)}var DG=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n})(La),IG=DG.prototype;IG.on=EG("on"),IG.off=EG("off");var eh,rD,Xb,Nu,Yb,iD,aD,Em,Mm,RG,LG,oD,NG,Kb,$G,zG,Zo,BG,Dm,Jb=(function(a){u(n,a);function n(r,o,l){var c=a.call(this,new FSe)||this;c._chartsViews=[],c._chartsMap={},c._componentsViews=[],c._componentsMap={},c._pendingActions=[],l=l||{},c._dom=r;var f="canvas",p="auto",g=!1;c[Hb]=1;{var v=m.hasGlobalWindow?window:Vh;v&&(f=$e(v.__ECHARTS__DEFAULT__RENDERER__,f),p=$e(v.__ECHARTS__DEFAULT__COARSE_POINTER,p),g=$e(v.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,g))}l.ssr&&x8(function(S){var k=Et(S),P=k.dataIndex;if(P!=null){var E=Xe();return E.set("series_index",k.seriesIndex),E.set("data_index",P),k.ssrType&&E.set("ssr_type",k.ssrType),E}});var x=c._zr=XP(r,{renderer:l.renderer||f,devicePixelRatio:l.devicePixelRatio,width:l.width,height:l.height,ssr:l.ssr,useDirtyRect:$e(l.useDirtyRect,g),useCoarsePointer:$e(l.useCoarsePointer,p),pointerSize:l.pointerSize});c._ssr=l.ssr,c._throttledZrFlush=Qb(Ee(x.flush,x),17),c._updateTheme(o),c._locale=B2e(l.locale||m7),c._coordSysMgr=new Qf;var O=c._api=$G(c);function w(S,k){return S.__prio-k.__prio}return vO(n2,w),vO(uD,w),c._scheduler=new Z6(c,O,uD,n2),c._messageCenter=new DG,c._initEvents(),c.resize=Ee(c.resize,c),x.animation.on("frame",c._onframe,c),RG(x,c),LG(x,c),Cr(c),c}return n.prototype._onframe=function(){if(!this._disposed){BG(this);var r=this._scheduler;if(this[Ii]){var o=this[Ii].silent;this[ti]=!0,Dm(this);try{eh(this),Nu.update.call(this,null,this[Ii].updateParams)}catch(g){throw this[ti]=!1,this[Ii]=null,g}this._zr.flush(),this[ti]=!1,this[Ii]=null,Em.call(this,o),Mm.call(this,o)}else if(r.unfinished){var l=STe,c=this._model,f=this._api;r.unfinished=!1;do{var p=+new Date;r.performSeriesTasks(c),r.performDataProcessorTasks(c),iD(this,c),r.performVisualTasks(c),Kb(this,this._model,f,"remain",{}),l-=+new Date-p}while(l>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,o,l){if(this[ti]){cn("`setOption` should not be called during main process.");return}if(this._disposed){Ga(this.id);return}var c,f,p;if(Ze(o)&&(l=o.lazyUpdate,c=o.silent,f=o.replaceMerge,p=o.transition,o=o.notMerge),this[ti]=!0,Dm(this),!this._model||o){var g=new Swe(this._api),v=this._theme,x=this._model=new IM;x.scheduler=this._scheduler,x.ssr=this._ssr,x.init(null,null,null,v,this._locale,g)}this._model.setOption(r,{replaceMerge:f},cD);var O={seriesTransition:p,optionChanged:!0};if(l)this[Ii]={silent:c,updateParams:O},this[ti]=!1,this.getZr().wakeUp();else{try{eh(this),Nu.update.call(this,null,O)}catch(w){throw this[Ii]=null,this[ti]=!1,w}this._ssr||this._zr.flush(),this[Ii]=null,this[ti]=!1,Em.call(this,c),Mm.call(this,c)}},n.prototype.setTheme=function(r,o){if(this[ti]){cn("`setTheme` should not be called during main process.");return}if(this._disposed){Ga(this.id);return}var l=this._model;if(l){var c=o&&o.silent,f=null;this[Ii]&&(c==null&&(c=this[Ii].silent),f=this[Ii].updateParams,this[Ii]=null),this[ti]=!0,Dm(this);try{this._updateTheme(r),l.setTheme(this._theme),eh(this),Nu.update.call(this,{type:"setTheme"},f)}catch(p){throw this[ti]=!1,p}this[ti]=!1,Em.call(this,c),Mm.call(this,c)}},n.prototype._updateTheme=function(r){De(r)&&(r=QG[r]),r&&(r=ne(r),r&&n6(r,!0),this._theme=r)},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||m.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return Nr("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var o=this._zr.painter;if(o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var o=this._zr.painter;if(o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){var r=this._zr,o=r.storage.getDisplayList();return Z(o,function(l){l.stopAnimation(null,!0)}),r.painter.toDataURL()},n.prototype.getDataURL=function(r){if(this._disposed){Ga(this.id);return}r=r||{};var o=r.excludeComponents,l=this._model,c=[],f=this;Z(o,function(g){l.eachComponent({mainType:g},function(v){var x=f._componentsMap[v.__viewId];x.group.ignore||(c.push(x),x.group.ignore=!0)})});var p=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Z(c,function(g){g.group.ignore=!1}),p},n.prototype.getConnectedDataURL=function(r){if(this._disposed){Ga(this.id);return}var o=r.type==="svg",l=this.group,c=Math.min,f=Math.max,p=1/0;if(r2[l]){var g=p,v=p,x=-p,O=-p,w=[],S=r&&r.pixelRatio||this.getDevicePixelRatio();Z(th,function(N,j){if(N.group===l){var W=o?N.getZr().painter.getSvgDom().innerHTML:N.renderToCanvas(ne(r)),U=N.getDom().getBoundingClientRect();g=c(U.left,g),v=c(U.top,v),x=f(U.right,x),O=f(U.bottom,O),w.push({dom:W,left:U.left,top:U.top})}}),g*=S,v*=S,x*=S,O*=S;var k=x-g,P=O-v,E=$.createCanvas(),M=XP(E,{renderer:o?"svg":"canvas"});if(M.resize({width:k,height:P}),o){var R="";return Z(w,function(N){var j=N.left-g,W=N.top-v;R+='<g transform="translate('+j+","+W+')">'+N.dom+"</g>"}),M.painter.getSvgRoot().innerHTML=R,r.connectedBackgroundColor&&M.painter.setBackgroundColor(r.connectedBackgroundColor),M.refreshImmediately(),M.painter.toDataURL()}else return r.connectedBackgroundColor&&M.add(new Zt({shape:{x:0,y:0,width:k,height:P},style:{fill:r.connectedBackgroundColor}})),Z(w,function(N){var j=new fi({style:{x:N.left*S-g,y:N.top*S-v,image:N.dom}});M.add(j)}),M.refreshImmediately(),E.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,o,l){return Yb(this,"convertToPixel",r,o,l)},n.prototype.convertToLayout=function(r,o,l){return Yb(this,"convertToLayout",r,o,l)},n.prototype.convertFromPixel=function(r,o,l){return Yb(this,"convertFromPixel",r,o,l)},n.prototype.containPixel=function(r,o){if(this._disposed){Ga(this.id);return}var l=this._model,c,f=Jp(l,r);return Z(f,function(p,g){g.indexOf("Models")>=0&&Z(p,function(v){var x=v.coordinateSystem;if(x&&x.containPoint)c=c||!!x.containPoint(o);else if(g==="seriesModels"){var O=this._chartsMap[v.__viewId];O&&O.containPoint?c=c||O.containPoint(o,v):fr(g+": "+(O?"The found component do not support containPoint.":"No view mapping to the found component."))}else fr(g+": containPoint is not supported")},this)},this),!!c},n.prototype.getVisual=function(r,o){var l=this._model,c=Jp(l,r,{defaultMainType:"series"}),f=c.seriesModel;f||fr("There is no specified series model");var p=f.getData(),g=c.hasOwnProperty("dataIndexInside")?c.dataIndexInside:c.hasOwnProperty("dataIndex")?p.indexOfRawIndex(c.dataIndex):null;return g!=null?ZM(p,g,o):H0(p,o)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;Z($Te,function(l){var c=function(f){var p=r.getModel(),g=f.target,v,x=l==="globalout";if(x?v={}:g&&Xf(g,function(P){var E=Et(P);if(E&&E.dataIndex!=null){var M=E.dataModel||p.getSeriesByIndex(E.seriesIndex);return v=M&&M.getDataParams(E.dataIndex,E.dataType,g)||{},!0}else if(E.eventData)return v=ee({},E.eventData),!0},!0),v){var O=v.componentType,w=v.componentIndex;(O==="markLine"||O==="markPoint"||O==="markArea")&&(O="series",w=v.seriesIndex);var S=O&&w!=null&&p.getComponent(O,w),k=S&&r[S.mainType==="series"?"_chartsMap":"_componentsMap"][S.__viewId];!x&&!(S&&k)&&fr("model or view can not be found by params"),v.event=f,v.type=l,r._$eventProcessor.eventInfo={targetEl:g,packedEvent:v,model:S,view:k},r.trigger(l,v)}};c.zrEventfulCallAtLast=!0,r._zr.on(l,c,r)});var o=this._messageCenter;Z(lD,function(l,c){o.on(c,function(f){r.trigger(c,f)})}),USe(o,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){Ga(this.id);return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){Ga(this.id);return}this._disposed=!0;var r=this.getDom();r&&$8(this.getDom(),fD,"");var o=this,l=o._api,c=o._model;Z(o._componentsViews,function(f){f.dispose(c,l)}),Z(o._chartsViews,function(f){f.dispose(c,l)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete th[o.id]},n.prototype.resize=function(r){if(this[ti]){cn("`resize` should not be called during main process.");return}if(this._disposed){Ga(this.id);return}this._zr.resize(r);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var l=o.resetOption("media"),c=r&&r.silent;this[Ii]&&(c==null&&(c=this[Ii].silent),l=!0,this[Ii]=null),this[ti]=!0,Dm(this);try{l&&eh(this),Nu.update.call(this,{type:"resize",animation:ee({duration:0},r&&r.animation)})}catch(f){throw this[ti]=!1,f}this[ti]=!1,Em.call(this,c),Mm.call(this,c)}},n.prototype.showLoading=function(r,o){if(this._disposed){Ga(this.id);return}if(Ze(r)&&(o=r,r=""),r=r||"default",this.hideLoading(),!dD[r]){fr("Loading effects "+r+" not exists.");return}var l=dD[r](this._api,o),c=this._zr;this._loadingFX=l,c.add(l)},n.prototype.hideLoading=function(){if(this._disposed){Ga(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var o=ee({},r);return o.type=t2[r.type],o},n.prototype.dispatchAction=function(r,o){if(this._disposed){Ga(this.id);return}if(Ze(o)||(o={silent:!!o}),!!e2[r.type]&&this._model){if(this[ti]){this._pendingActions.push(r);return}var l=o.silent;aD.call(this,r,l);var c=o.flush;c?this._zr.flush():c!==!1&&m.browser.weChat&&this._throttledZrFlush(),Em.call(this,l),Mm.call(this,l)}},n.prototype.updateLabelLayout=function(){Rs.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){Ga(this.id);return}var o=r.seriesIndex,l=this.getModel(),c=l.getSeriesByIndex(o);Ke(r.data&&c),c.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=(function(){eh=function(O){var w=O._scheduler;w.restorePipelines(O._model),w.prepareStageTasks(),rD(O,!0),rD(O,!1),w.plan()},rD=function(O,w){for(var S=O._model,k=O._scheduler,P=w?O._componentsViews:O._chartsViews,E=w?O._componentsMap:O._chartsMap,M=O._zr,R=O._api,N=0;N<P.length;N++)P[N].__alive=!1;w?S.eachComponent(function(U,X){U!=="series"&&j(X)}):S.eachSeries(j);function j(U){var X=U.__requireNewView;U.__requireNewView=!1;var J="_ec_"+U.id+"_"+U.type,re=!X&&E[J];if(!re){var ie=ml(U.type),le=w?Gn.getClass(ie.main,ie.sub):Dn.getClass(ie.sub);Ke(le,ie.sub+" does not exist."),re=new le,re.init(S,R),E[J]=re,P.push(re),M.add(re.group)}U.__viewId=re.__id=J,re.__alive=!0,re.__model=U,re.group.__ecComponentInfo={mainType:U.mainType,index:U.componentIndex},!w&&k.prepareView(re,U,S,R)}for(var N=0;N<P.length;){var W=P[N];W.__alive?N++:(!w&&W.renderTask.dispose(),M.remove(W.group),W.dispose(S,R),P.splice(N,1),E[W.__id]===W&&delete E[W.__id],W.__id=W.group.__ecComponentInfo=null)}},Xb=function(O,w,S,k,P){var E=O._model;if(E.setUpdatePayload(S),!k){Z([].concat(O._componentsViews).concat(O._chartsViews),W);return}var M={};M[k+"Id"]=S[k+"Id"],M[k+"Index"]=S[k+"Index"],M[k+"Name"]=S[k+"Name"];var R={mainType:k,query:M};P&&(R.subType=P);var N=S.excludeSeriesId,j;N!=null&&(j=Xe(),Z(Vn(N),function(U){var X=Yr(U,null);X!=null&&j.set(X,!0)})),E&&E.eachComponent(R,function(U){var X=j&&j.get(U.id)!=null;if(!X)if(DF(S))if(U instanceof Bn)S.type===Pf&&!S.notBlur&&!U.get(["emphasis","disabled"])&&jbe(U,S,O._api);else{var J=NE(U.mainType,U.componentIndex,S.name,O._api),re=J.focusSelf,ie=J.dispatchers;S.type===Pf&&re&&!S.notBlur&&LE(U.mainType,U.componentIndex,O._api),ie&&Z(ie,function(le){S.type===Pf?Eu(le):Mu(le)})}else zE(S)&&U instanceof Bn&&(Gbe(U,S,O._api),EF(U),Zo(O))},O),E&&E.eachComponent(R,function(U){var X=j&&j.get(U.id)!=null;X||W(O[k==="series"?"_chartsMap":"_componentsMap"][U.__viewId])},O);function W(U){U&&U.__alive&&U[w]&&U[w](U.__model,E,O._api,S)}},Nu={prepareAndUpdate:function(O){eh(this),Nu.update.call(this,O,O&&{optionChanged:O.newOption!=null})},update:function(O,w){var S=this._model,k=this._api,P=this._zr,E=this._coordSysMgr,M=this._scheduler;if(S){S.setUpdatePayload(O),M.restoreData(S,O),M.performSeriesTasks(S),E.create(S,k),M.performDataProcessorTasks(S,O),iD(this,S),E.update(S,k),o(S),M.performVisualTasks(S,O);var R=S.get("backgroundColor")||"transparent";P.setBackgroundColor(R);var N=S.get("darkMode");N!=null&&N!=="auto"&&P.setDarkMode(N),oD(this,S,k,O,w),Rs.trigger("afterupdate",S,k)}},updateTransform:function(O){var w=this,S=this._model,k=this._api;if(S){S.setUpdatePayload(O);var P=[];S.eachComponent(function(M,R){if(M!=="series"){var N=w.getViewOfComponentModel(R);if(N&&N.__alive)if(N.updateTransform){var j=N.updateTransform(R,S,k,O);j&&j.update&&P.push(N)}else P.push(N)}});var E=Xe();S.eachSeries(function(M){var R=w._chartsMap[M.__viewId];if(R.updateTransform){var N=R.updateTransform(M,S,k,O);N&&N.update&&E.set(M.uid,1)}else E.set(M.uid,1)}),o(S),this._scheduler.performVisualTasks(S,O,{setDirty:!0,dirtyMap:E}),Kb(this,S,k,O,{},E),Rs.trigger("afterupdate",S,k)}},updateView:function(O){var w=this._model;w&&(w.setUpdatePayload(O),Dn.markUpdateMethod(O,"updateView"),o(w),this._scheduler.performVisualTasks(w,O,{setDirty:!0}),oD(this,w,this._api,O,{}),Rs.trigger("afterupdate",w,this._api))},updateVisual:function(O){var w=this,S=this._model;S&&(S.setUpdatePayload(O),S.eachSeries(function(k){k.getData().clearAllVisual()}),Dn.markUpdateMethod(O,"updateVisual"),o(S),this._scheduler.performVisualTasks(S,O,{visualType:"visual",setDirty:!0}),S.eachComponent(function(k,P){if(k!=="series"){var E=w.getViewOfComponentModel(P);E&&E.__alive&&E.updateVisual(P,S,w._api,O)}}),S.eachSeries(function(k){var P=w._chartsMap[k.__viewId];P.updateVisual(k,S,w._api,O)}),Rs.trigger("afterupdate",S,this._api))},updateLayout:function(O){Nu.update.call(this,O)}};function r(O,w,S,k,P){if(O._disposed){Ga(O.id);return}for(var E=O._model,M=O._coordSysMgr.getCoordinateSystems(),R,N=Jp(E,S),j=0;j<M.length;j++){var W=M[j];if(W[w]&&(R=W[w](E,N,k,P))!=null)return R}fr("No coordinate system that supports "+w+" found by the given finder.")}Yb=r,iD=function(O,w){var S=O._chartsMap,k=O._scheduler;w.eachSeries(function(P){k.updateStreamModes(P,S[P.__viewId])})},aD=function(O,w){var S=this,k=this.getModel(),P=O.type,E=O.escapeConnect,M=e2[P],R=(M.update||"update").split(":"),N=R.pop(),j=R[0]!=null&&ml(R[0]);this[ti]=!0,Dm(this);var W=[O],U=!1;O.batch&&(U=!0,W=ve(O.batch,function(_e){return _e=be(ee({},_e),O),_e.batch=null,_e}));var X=[],J,re=[],ie=M.nonRefinedEventType,le=zE(O),pe=DF(O);if(pe&&PF(this._api),Z(W,function(_e){var Pe=M.action(_e,k,S._api);if(M.refineEvent?re.push(Pe):J=Pe,J=J||ee({},_e),J.type=ie,X.push(J),pe){var Se=iE(O),Re=Se.queryOptionMap,Ne=Se.mainTypeSpecified,Be=Ne?Re.keys()[0]:"series";Xb(S,N,_e,Be),Zo(S)}else le?(Xb(S,N,_e,"series"),Zo(S)):j&&Xb(S,N,_e,j.main,j.sub)}),N!=="none"&&!pe&&!le&&!j)try{this[Ii]?(eh(this),Nu.update.call(this,O),this[Ii]=null):Nu[N].call(this,O)}catch(_e){throw this[ti]=!1,_e}if(U?J={type:ie,escapeConnect:E,batch:X}:J=X[0],this[ti]=!1,!w){var ce=void 0;if(M.refineEvent){var ye=M.refineEvent(re,O,k,this._api).eventContent;Ke(Ze(ye)),ce=be({type:M.refinedEventType},ye),ce.fromAction=O.type,ce.fromActionPayload=O,ce.escapeConnect=!0}var Oe=this._messageCenter;Oe.trigger(J.type,J),ce&&Oe.trigger(ce.type,ce)}},Em=function(O){for(var w=this._pendingActions;w.length;){var S=w.shift();aD.call(this,S,O)}},Mm=function(O){!O&&this.trigger("updated")},RG=function(O,w){O.on("rendered",function(S){w.trigger("rendered",S),O.animation.isFinished()&&!w[Ii]&&!w._scheduler.unfinished&&!w._pendingActions.length&&w.trigger("finished")})},LG=function(O,w){O.on("mouseover",function(S){var k=S.target,P=Xf(k,Qc);P&&(Vbe(P,S,w._api),Zo(w))}).on("mouseout",function(S){var k=S.target,P=Xf(k,Qc);P&&(Fbe(P,S,w._api),Zo(w))}).on("click",function(S){var k=S.target,P=Xf(k,function(R){return Et(R).dataIndex!=null},!0);if(P){var E=P.selected?"unselect":"select",M=Et(P);w._api.dispatchAction({type:E,dataType:M.dataType,dataIndexInside:M.dataIndex,seriesIndex:M.seriesIndex,isFromClick:!0})}})};function o(O){O.clearColorPalette(),O.eachSeries(function(w){w.clearColorPalette()})}function l(O){var w=[],S=[],k=!1;if(O.eachComponent(function(R,N){var j=N.get("zlevel")||0,W=N.get("z")||0,U=N.getZLevelKey();k=k||!!U,(R==="series"?S:w).push({zlevel:j,z:W,idx:N.componentIndex,type:R,key:U})}),k){var P=w.concat(S),E,M;vO(P,function(R,N){return R.zlevel===N.zlevel?R.z-N.z:R.zlevel-N.zlevel}),Z(P,function(R){var N=O.getComponent(R.type,R.idx),j=R.zlevel,W=R.key;E!=null&&(j=Math.max(E,j)),W?(j===E&&W!==M&&j++,M=W):M&&(j===E&&j++,M=""),E=j,N.setZLevel(j)})}}oD=function(O,w,S,k,P){l(w),NG(O,w,S,k,P),Z(O._chartsViews,function(E){E.__alive=!1}),Kb(O,w,S,k,P),Z(O._chartsViews,function(E){E.__alive||E.remove(w,S)})},NG=function(O,w,S,k,P,E){Z(E||O._componentsViews,function(M){var R=M.__model;v(R,M),M.render(R,w,S,k),g(R,M),x(R,M)})},Kb=function(O,w,S,k,P,E){var M=O._scheduler;P=ee(P||{},{updatedSeries:w.getSeries()}),Rs.trigger("series:beforeupdate",w,S,P);var R=!1;w.eachSeries(function(N){var j=O._chartsMap[N.__viewId];j.__alive=!0;var W=j.renderTask;M.updatePayload(W,k),v(N,j),E&&E.get(N.uid)&&W.dirty(),W.perform(M.getPerformArgs(W))&&(R=!0),j.group.silent=!!N.get("silent"),p(N,j),EF(N)}),M.unfinished=R||M.unfinished,Rs.trigger("series:layoutlabels",w,S,P),Rs.trigger("series:transition",w,S,P),w.eachSeries(function(N){var j=O._chartsMap[N.__viewId];g(N,j),x(N,j)}),f(O,w),Rs.trigger("series:afterupdate",w,S,P)},Zo=function(O){O[tD]=!0,O.getZr().wakeUp()},Dm=function(O){O[Hb]=(O[Hb]+1)%1e3},BG=function(O){O[tD]&&(O.getZr().storage.traverse(function(w){cm(w)||c(w)}),O[tD]=!1)};function c(O){for(var w=[],S=O.currentStates,k=0;k<S.length;k++){var P=S[k];P==="emphasis"||P==="blur"||P==="select"||w.push(P)}O.selected&&O.states.select&&w.push("select"),O.hoverState===rb&&O.states.emphasis?w.push("emphasis"):O.hoverState===O0&&O.states.blur&&w.push("blur"),O.useStates(w)}function f(O,w){var S=O._zr,k=S.storage,P=0;k.traverse(function(E){E.isGroup||P++}),P>w.get("hoverLayerThreshold")&&!m.node&&!m.worker&&w.eachSeries(function(E){if(!E.preventUsingHoverLayer){var M=O._chartsMap[E.__viewId];M.__alive&&M.eachRendered(function(R){R.states.emphasis&&(R.states.emphasis.hoverLayer=!0)})}})}function p(O,w){var S=O.get("blendMode")||null;w.eachRendered(function(k){k.isGroup||(k.style.blend=S)})}function g(O,w){if(!O.preventAutoZ){var S=$f(O);w.eachRendered(function(k){return yb(k,S.z,S.zlevel),!0})}}function v(O,w){w.eachRendered(function(S){if(!cm(S)){var k=S.getTextContent(),P=S.getTextGuideLine();S.stateTransition&&(S.stateTransition=null),k&&k.stateTransition&&(k.stateTransition=null),P&&P.stateTransition&&(P.stateTransition=null),S.hasState()?(S.prevStates=S.currentStates,S.clearStates()):S.prevStates&&(S.prevStates=null)}})}function x(O,w){var S=O.getModel("stateAnimation"),k=O.isAnimationEnabled(),P=S.get("duration"),E=P>0?{duration:P,delay:S.get("delay"),easing:S.get("easing")}:null;w.eachRendered(function(M){if(M.states&&M.states.emphasis){if(cm(M))return;if(M instanceof Jt&&Xbe(M),M.__dirty){var R=M.prevStates;R&&M.useStates(R)}if(k){M.stateTransition=E;var N=M.getTextContent(),j=M.getTextGuideLine();N&&(N.stateTransition=E),j&&(j.stateTransition=E)}M.__dirty&&c(M)}})}$G=function(O){return new((function(w){u(S,w);function S(){return w!==null&&w.apply(this,arguments)||this}return S.prototype.getCoordinateSystems=function(){return O._coordSysMgr.getCoordinateSystems()},S.prototype.getComponentByElement=function(k){for(;k;){var P=k.__ecComponentInfo;if(P!=null)return O._model.getComponent(P.mainType,P.index);k=k.parent}},S.prototype.enterEmphasis=function(k,P){Eu(k,P),Zo(O)},S.prototype.leaveEmphasis=function(k,P){Mu(k,P),Zo(O)},S.prototype.enterBlur=function(k){TF(k),Zo(O)},S.prototype.leaveBlur=function(k){IE(k),Zo(O)},S.prototype.enterSelect=function(k){CF(k),Zo(O)},S.prototype.leaveSelect=function(k){kF(k),Zo(O)},S.prototype.getModel=function(){return O.getModel()},S.prototype.getViewOfComponentModel=function(k){return O.getViewOfComponentModel(k)},S.prototype.getViewOfSeriesModel=function(k){return O.getViewOfSeriesModel(k)},S.prototype.getMainProcessVersion=function(){return O[Hb]},S})(H7))(O)},zG=function(O){function w(S,k){for(var P=0;P<S.length;P++){var E=S[P];E[nD]=k}}Z(t2,function(S,k){O._messageCenter.on(k,function(P){if(r2[O.group]&&O[nD]!==AG){if(P&&P.escapeConnect)return;var E=O.makeActionFromEvent(P),M=[];Z(th,function(R){R!==O&&R.group===O.group&&M.push(R)}),w(M,AG),Z(M,function(R){R[nD]!==LTe&&R.dispatchAction(E)}),w(M,NTe)}})})}})(),n})(La),sD=Jb.prototype;sD.on=PG("on"),sD.off=PG("off"),sD.one=function(a,n,r){var o=this;Ps("ECharts#one is deprecated.");function l(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];n&&n.apply&&n.apply(this,c),o.off(a,l)}this.on.call(this,a,l,r)};var $Te=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Ga(a){fr("Instance "+a+" has been disposed")}var e2={},t2={},lD={},uD=[],cD=[],n2=[],QG={},dD={},th={},r2={},zTe=+new Date-0,BTe=+new Date-0,fD="_echarts_instance_";function QTe(a,n,r){var o=!(r&&r.ssr);if(o){if(!a)throw new Error("Initialize failed: invalid dom.");var l=hD(a);if(l)return fr("There is a chart instance already initialized on the dom."),l;st(a)&&a.nodeName.toUpperCase()!=="CANVAS"&&(!a.clientWidth&&(!r||r.width==null)||!a.clientHeight&&(!r||r.height==null))&&fr("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var c=new Jb(a,n,r);return c.id="ec_"+zTe++,th[c.id]=c,o&&$8(a,fD,c.id),zG(c),Rs.trigger("afterinit",c),c}function jTe(a){if(ke(a)){var n=a;a=null,Z(n,function(r){r.group!=null&&(a=r.group)}),a=a||"g_"+BTe++,Z(n,function(r){r.group=a})}return r2[a]=!0,a}function jG(a){r2[a]=!1}var VTe=jG;function FTe(a){De(a)?a=th[a]:a instanceof Jb||(a=hD(a)),a instanceof Jb&&!a.isDisposed()&&a.dispose()}function hD(a){return th[$Oe(a,fD)]}function GTe(a){return th[a]}function pD(a,n){QG[a]=n}function mD(a){se(cD,a)<0&&cD.push(a)}function gD(a,n){vD(uD,a,n,ATe)}function VG(a){i2("afterinit",a)}function FG(a){i2("afterupdate",a)}function i2(a,n){Rs.on(a,n)}function Ls(a,n,r){var o,l,c,f,p;Ge(n)&&(r=n,n=""),Ze(a)?(o=a.type,l=a.event,f=a.update,p=a.publishNonRefinedEvent,r||(r=a.action),c=a.refineEvent):(o=a,l=n);function g(x){return x.toLowerCase()}l=g(l||o);var v=c?g(o):l;e2[o]||(Ke(kG.test(o)&&kG.test(l)),c&&Ke(l!==o),e2[o]={actionType:o,refinedEventType:l,nonRefinedEventType:v,update:f,action:r,refineEvent:c},lD[l]=1,c&&p&&(lD[v]=1),t2[v]&&cn(v+' must not be shared; use "refineEvent" if you intend to share an event name.'),t2[v]=o)}function GG(a,n){Qf.register(a,n)}function WTe(a){var n=Qf.get(a);if(n)return n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice()}function UTe(a,n){bG(a,n)}function WG(a,n){vD(n2,a,n,wG,"layout")}function qc(a,n){vD(n2,a,n,SG,"visual")}var UG=[];function vD(a,n,r,o,l){(Ge(n)||Ze(n))&&(r=n,n=o);{if(isNaN(n)||n==null)throw new Error("Illegal priority");Z(a,function(f){Ke(f.__raw!==r)})}if(!(se(UG,r)>=0)){UG.push(r);var c=Z6.wrapStageHandler(r,l);c.__prio=n,c.__raw=r,a.push(c)}}function yD(a,n){dD[a]=n}function qTe(a){Ps("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead."),Q({createCanvas:a})}function qG(a,n,r){var o=_G("registerMap");o&&o(a,n,r)}function ZTe(a){var n=_G("getMap");return n&&n(a)}var ZG=rSe;qc(eD,PSe),qc(Zb,ESe),qc(Zb,MSe),qc(eD,GSe),qc(Zb,WSe),qc(TG,xTe),mD(n6),gD(CTe,Nwe),yD("default",DSe),Ls({type:Pf,event:Pf,update:Pf},an),Ls({type:ib,event:ib,update:ib},an),Ls({type:ab,event:EE,update:ab,action:an,refineEvent:xD,publishNonRefinedEvent:!0}),Ls({type:PE,event:EE,update:PE,action:an,refineEvent:xD,publishNonRefinedEvent:!0}),Ls({type:ob,event:EE,update:ob,action:an,refineEvent:xD,publishNonRefinedEvent:!0});function xD(a,n,r,o){return{eventContent:{selected:Wbe(r),isFromClick:n.isFromClick||!1}}}pD("default",{}),pD("dark",J6);var HTe={},HG=[],XTe={registerPreprocessor:mD,registerProcessor:gD,registerPostInit:VG,registerPostUpdate:FG,registerUpdateLifecycle:i2,registerAction:Ls,registerCoordinateSystem:GG,registerLayout:WG,registerVisual:qc,registerTransform:ZG,registerLoading:yD,registerMap:qG,registerImpl:_Te,PRIORITY:CG,ComponentModel:Ht,ComponentView:Gn,SeriesModel:Bn,ChartView:Dn,registerComponentModel:function(a){Ht.registerClass(a)},registerComponentView:function(a){Gn.registerClass(a)},registerSeriesModel:function(a){Bn.registerClass(a)},registerChartView:function(a){Dn.registerClass(a)},registerCustomSeries:function(a,n){bG(a,n)},registerSubTypeDefaulter:function(a,n){Ht.registerSubTypeDefaulter(a,n)},registerPainter:function(a,n){v8(a,n)}};function Gt(a){if(ke(a)){Z(a,function(n){Gt(n)});return}se(HG,a)>=0||(HG.push(a),Ge(a)&&(a={install:a}),a.install(XTe))}function Y0(a){return a==null?0:a.length||1}function XG(a){return a}var $u=(function(){function a(n,r,o,l,c,f){this._old=n,this._new=r,this._oldKeyGetter=o||XG,this._newKeyGetter=l||XG,this.context=c,this._diffModeMultiple=f==="multiple"}return a.prototype.add=function(n){return this._add=n,this},a.prototype.update=function(n){return this._update=n,this},a.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},a.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},a.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},a.prototype.remove=function(n){return this._remove=n,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var n=this._old,r=this._new,o={},l=new Array(n.length),c=new Array(r.length);this._initIndexMap(n,null,l,"_oldKeyGetter"),this._initIndexMap(r,o,c,"_newKeyGetter");for(var f=0;f<n.length;f++){var p=l[f],g=o[p],v=Y0(g);if(v>1){var x=g.shift();g.length===1&&(o[p]=g[0]),this._update&&this._update(x,f)}else v===1?(o[p]=null,this._update&&this._update(g,f)):this._remove&&this._remove(f)}this._performRestAdd(c,o)},a.prototype._executeMultiple=function(){var n=this._old,r=this._new,o={},l={},c=[],f=[];this._initIndexMap(n,o,c,"_oldKeyGetter"),this._initIndexMap(r,l,f,"_newKeyGetter");for(var p=0;p<c.length;p++){var g=c[p],v=o[g],x=l[g],O=Y0(v),w=Y0(x);if(O>1&&w===1)this._updateManyToOne&&this._updateManyToOne(x,v),l[g]=null;else if(O===1&&w>1)this._updateOneToMany&&this._updateOneToMany(x,v),l[g]=null;else if(O===1&&w===1)this._update&&this._update(x,v),l[g]=null;else if(O>1&&w>1)this._updateManyToMany&&this._updateManyToMany(x,v),l[g]=null;else if(O>1)for(var S=0;S<O;S++)this._remove&&this._remove(v[S]);else this._remove&&this._remove(v)}this._performRestAdd(f,l)},a.prototype._performRestAdd=function(n,r){for(var o=0;o<n.length;o++){var l=n[o],c=r[l],f=Y0(c);if(f>1)for(var p=0;p<f;p++)this._add&&this._add(c[p]);else f===1&&this._add&&this._add(c);r[l]=null}},a.prototype._initIndexMap=function(n,r,o,l){for(var c=this._diffModeMultiple,f=0;f<n.length;f++){var p="_ec_"+this[l](n[f],f);if(c||(o[f]=p),!!r){var g=r[p],v=Y0(g);v===0?(r[p]=f,c&&o.push(p)):v===1?r[p]=[g,f]:g.push(f)}}},a})(),YTe=(function(){function a(n,r){this._encode=n,this._schema=r}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a})();function KTe(a,n){var r={},o=r.encode={},l=Xe(),c=[],f=[],p={};Z(a.dimensions,function(w){var S=a.getDimensionInfo(w),k=S.coordDim;if(k){Ke(CM.get(k)==null);var P=S.coordDimIndex;_D(o,k)[P]=w,S.isExtraCoord||(l.set(k,1),JTe(S.type)&&(c[0]=w),_D(p,k)[P]=a.getDimensionIndex(S.name)),S.defaultTooltip&&f.push(w)}CM.each(function(E,M){var R=_D(o,M),N=S.otherDims[M];N!=null&&N!==!1&&(R[N]=S.name)})});var g=[],v={};l.each(function(w,S){var k=o[S];v[S]=k[0],g=g.concat(k)}),r.dataDimsOnCoord=g,r.dataDimIndicesOnCoord=ve(g,function(w){return a.getDimensionInfo(w).storeDimIndex}),r.encodeFirstDimNotExtra=v;var x=o.label;x&&x.length&&(c=x.slice());var O=o.tooltip;return O&&O.length?f=O.slice():f.length||(f=c.slice()),o.defaultedLabel=c,o.defaultedTooltip=f,r.userOutput=new YTe(p,n),r}function _D(a,n){return a.hasOwnProperty(n)||(a[n]=[]),a[n]}function a2(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function JTe(a){return!(a==="ordinal"||a==="time")}var o2=(function(){function a(n){this.otherDims={},n!=null&&ee(this,n)}return a})(),eCe=Kt(),tCe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},YG=(function(){function a(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=eW(this.source)))},a.prototype.getSourceDimensionIndex=function(n){return $e(this._dimNameMap.get(n),-1)},a.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},a.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=o6(this.source),o=!tW(n),l="",c=[],f=0,p=0;f<n;f++){var g=void 0,v=void 0,x=void 0,O=this.dimensions[p];if(O&&O.storeDimIndex===f)g=r?O.name:null,v=O.type,x=O.ordinalMeta,p++;else{var w=this.getSourceDimension(f);w&&(g=r?w.name:null,v=w.type)}c.push({property:g,type:v,ordinalMeta:x}),r&&g!=null&&(!O||!O.isCalculationCoord)&&(l+=o?g.replace(/\`/g,"`1").replace(/\$/g,"`2"):g),l+="$",l+=tCe[v]||"f",x&&(l+=x.uid),l+="$"}var S=this.source,k=[S.seriesLayoutBy,S.startIndex,l].join("$$");return{dimensions:c,hash:k}},a.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,o=0;r<this._fullDimCount;r++){var l=void 0,c=this.dimensions[o];if(c&&c.storeDimIndex===r)c.isCalculationCoord||(l=c.name),o++;else{var f=this.getSourceDimension(r);f&&(l=f.name)}n.push(l)}return n},a.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a})();function KG(a){return a instanceof YG}function JG(a){for(var n=Xe(),r=0;r<(a||[]).length;r++){var o=a[r],l=Ze(o)?o.name:o;l!=null&&n.get(l)==null&&n.set(l,r)}return n}function eW(a){var n=eCe(a);return n.dimNameMap||(n.dimNameMap=JG(a.dimensionsDefine))}function tW(a){return a>30}var K0=Ze,Zc=ve,nCe=typeof Int32Array>"u"?Array:Int32Array,rCe="e\0\0",nW=-1,iCe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],aCe=["_approximateExtent"],rW,s2,J0,Im,OD,ey,bD,ra=(function(){function a(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var o,l=!1;KG(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(l=!0,o=n),o=o||["x","y"];for(var c={},f=[],p={},g=!1,v={},x=0;x<o.length;x++){var O=o[x],w=De(O)?new o2({name:O}):O instanceof o2?O:new o2(O),S=w.name;w.type=w.type||"float",w.coordDim||(w.coordDim=S,w.coordDimIndex=0);var k=w.otherDims=w.otherDims||{};f.push(S),c[S]=w,v[S]!=null&&(g=!0),w.createInvertedIndices&&(p[S]=[]);var P=x;dt(w.storeDimIndex)&&(P=w.storeDimIndex),k.itemName===0&&(this._nameDimIdx=P),k.itemId===0&&(this._idDimIdx=P),Ke(l||w.storeDimIndex>=0),l&&(w.storeDimIndex=x)}if(this.dimensions=f,this._dimInfos=c,this._initGetDimensionInfo(g),this.hostModel=r,this._invertedIndicesMap=p,this._dimOmitted){var E=this._dimIdxToName=Xe();Z(f,function(M){E.set(c[M].storeDimIndex,M)})}}return a.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var o=this._dimIdxToName.get(r);if(o!=null)return o;var l=this._schema.getSourceDimension(r);if(l)return l.name},a.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},a.prototype._recognizeDimIndex=function(n){if(dt(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},a.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);if(r==null)throw new Error("Unknown dimension "+n);return r},a.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},a.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function(o){return r.hasOwnProperty(o)?r[o]:void 0}:function(o){return r[o]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(n,r){var o=this._dimSummary;if(r==null)return o.encodeFirstDimNotExtra[n];var l=o.encode[n];return l?l[r]:null},a.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,o=r.encode[n];return(o||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(n,r,o){var l=this,c;if(n instanceof VM&&(c=n),!c){var f=this.dimensions,p=NM(n)||Le(n)?new u6(n,f.length):n;c=new VM;var g=Zc(f,function(v){return{type:l._dimInfos[v].type,property:v}});c.initData(p,g,o)}this._store=c,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,c.count()),this._dimSummary=KTe(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},a.prototype.appendValues=function(n,r){var o=this._store.appendValues(n,r&&r.length),l=o.start,c=o.end,f=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var p=l;p<c;p++){var g=p-l;this._nameList[p]=r[g],f&&bD(this,p)}},a.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,o=0;o<r.length;o++){var l=this._dimInfos[r[o]];l.ordinalMeta&&n.collectOrdinalMeta(l.storeDimIndex,l.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==Ru&&!n.fillStorage},a.prototype._doInit=function(n,r){if(!(n>=r)){var o=this._store,l=o.getProvider();this._updateOrdinalMeta();var c=this._nameList,f=this._idList,p=l.getSource().sourceFormat,g=p===Oo;if(g&&!l.pure)for(var v=[],x=n;x<r;x++){var O=l.getItem(x,v);if(!this.hasItemOption&&SOe(O)&&(this.hasItemOption=!0),O){var w=O.name;c[x]==null&&w!=null&&(c[x]=Yr(w,null));var S=O.id;f[x]==null&&S!=null&&(f[x]=Yr(S,null))}}if(this._shouldMakeIdFromName())for(var x=n;x<r;x++)bD(this,x);rW(this)}},a.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},a.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},a.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},a.prototype.setCalculationInfo=function(n,r){K0(n)?ee(this._calculationInfo,n):this._calculationInfo[n]=r},a.prototype.getName=function(n){var r=this.getRawIndex(n),o=this._nameList[r];return o==null&&this._nameDimIdx!=null&&(o=J0(this,this._nameDimIdx,r)),o==null&&(o=""),o},a.prototype._getCategory=function(n,r){var o=this._store.get(n,r),l=this._store.getOrdinalMeta(n);return l?l.categories[o]:o},a.prototype.getId=function(n){return s2(this,this.getRawIndex(n))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(n,r){var o=this._store,l=this._dimInfos[n];if(l)return o.get(l.storeDimIndex,r)},a.prototype.getByRawIndex=function(n,r){var o=this._store,l=this._dimInfos[n];if(l)return o.getByRawIndex(l.storeDimIndex,r)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},a.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},a.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},a.prototype.getValues=function(n,r){var o=this,l=this._store;return ke(n)?l.getValues(Zc(n,function(c){return o._getStoreDimIndex(c)}),r):l.getValues(n)},a.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,o=0,l=r.length;o<l;o++)if(isNaN(this._store.get(r[o],n)))return!1;return!0},a.prototype.indexOfName=function(n){for(var r=0,o=this._store.count();r<o;r++)if(this.getName(r)===n)return r;return-1},a.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},a.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},a.prototype.rawIndexOf=function(n,r){var o=n&&this._invertedIndicesMap[n];if(!o)throw new Error("Do not supported yet");var l=o&&o[r];return l==null||isNaN(l)?nW:l},a.prototype.each=function(n,r,o){Ge(n)&&(o=r,r=n,n=[]);var l=o||this,c=Zc(Im(n),this._getStoreDimIndex,this);this._store.each(c,l?Ee(r,l):r)},a.prototype.filterSelf=function(n,r,o){Ge(n)&&(o=r,r=n,n=[]);var l=o||this,c=Zc(Im(n),this._getStoreDimIndex,this);return this._store=this._store.filter(c,l?Ee(r,l):r),this},a.prototype.selectRange=function(n){var r=this,o={},l=He(n);return Z(l,function(c){var f=r._getStoreDimIndex(c);o[f]=n[c]}),this._store=this._store.selectRange(o),this},a.prototype.mapArray=function(n,r,o){Ge(n)&&(o=r,r=n,n=[]),o=o||this;var l=[];return this.each(n,function(){l.push(r&&r.apply(this,arguments))},o),l},a.prototype.map=function(n,r,o,l){var c=o||l||this,f=Zc(Im(n),this._getStoreDimIndex,this),p=ey(this);return p._store=this._store.map(f,c?Ee(r,c):r),p},a.prototype.modify=function(n,r,o,l){var c=this,f=o||l||this;Z(Im(n),function(g){var v=c.getDimensionInfo(g);v.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var p=Zc(Im(n),this._getStoreDimIndex,this);this._store.modify(p,f?Ee(r,f):r)},a.prototype.downSample=function(n,r,o,l){var c=ey(this);return c._store=this._store.downSample(this._getStoreDimIndex(n),r,o,l),c},a.prototype.minmaxDownSample=function(n,r){var o=ey(this);return o._store=this._store.minmaxDownSample(this._getStoreDimIndex(n),r),o},a.prototype.lttbDownSample=function(n,r){var o=ey(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),o},a.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},a.prototype.getItemModel=function(n){var r=this.hostModel,o=this.getRawDataItem(n);return new en(o,r,r&&r.ecModel)},a.prototype.diff=function(n){var r=this;return new $u(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return s2(n,o)},function(o){return s2(r,o)})},a.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},a.prototype.setVisual=function(n,r){this._visual=this._visual||{},K0(n)?ee(this._visual,n):this._visual[n]=r},a.prototype.getItemVisual=function(n,r){var o=this._itemVisuals[n],l=o&&o[r];return l??this.getVisual(r)},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(n,r){var o=this._itemVisuals,l=o[n];l||(l=o[n]={});var c=l[r];return c==null&&(c=this.getVisual(r),ke(c)?c=c.slice():K0(c)&&(c=ee({},c)),l[r]=c),c},a.prototype.setItemVisual=function(n,r,o){var l=this._itemVisuals[n]||{};this._itemVisuals[n]=l,K0(r)?ee(l,r):l[r]=o},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(n,r){K0(n)?ee(this._layout,n):this._layout[n]=r},a.prototype.getLayout=function(n){return this._layout[n]},a.prototype.getItemLayout=function(n){return this._itemLayouts[n]},a.prototype.setItemLayout=function(n,r,o){this._itemLayouts[n]=o?ee(this._itemLayouts[n]||{},r):r},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(n,r){var o=this.hostModel&&this.hostModel.seriesIndex;CE(o,this.dataType,n,r),this._graphicEls[n]=r},a.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},a.prototype.eachItemGraphicEl=function(n,r){Z(this._graphicEls,function(o,l){o&&n&&n.call(r,o,l)})},a.prototype.cloneShallow=function(n){return n||(n=new a(this._schema?this._schema:Zc(this.dimensions,this._getDimInfo,this),this.hostModel)),OD(n,this),n._store=this._store,n},a.prototype.wrapMethod=function(n,r){var o=this[n];Ge(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var l=o.apply(this,arguments);return r.apply(this,[l].concat(Ut(arguments)))})},a.internalField=(function(){rW=function(n){var r=n._invertedIndicesMap;Z(r,function(o,l){var c=n._dimInfos[l],f=c.ordinalMeta,p=n._store;if(f){o=r[l]=new nCe(f.categories.length);for(var g=0;g<o.length;g++)o[g]=nW;for(var g=0;g<p.count();g++)o[p.get(c.storeDimIndex,g)]=g}})},J0=function(n,r,o){return Yr(n._getCategory(r,o),null)},s2=function(n,r){var o=n._idList[r];return o==null&&n._idDimIdx!=null&&(o=J0(n,n._idDimIdx,r)),o==null&&(o=rCe+r),o},Im=function(n){return ke(n)||(n=n!=null?[n]:[]),n},ey=function(n){var r=new a(n._schema?n._schema:Zc(n.dimensions,n._getDimInfo,n),n.hostModel);return OD(r,n),r},OD=function(n,r){Z(iCe.concat(r.__wrappedMethods||[]),function(o){r.hasOwnProperty(o)&&(n[o]=r[o])}),n.__wrappedMethods=r.__wrappedMethods,Z(aCe,function(o){n[o]=ne(r[o])}),n._calculationInfo=ee({},r._calculationInfo)},bD=function(n,r){var o=n._nameList,l=n._idList,c=n._nameDimIdx,f=n._idDimIdx,p=o[r],g=l[r];if(p==null&&c!=null&&(o[r]=p=J0(n,c,r)),g==null&&f!=null&&(l[r]=g=J0(n,f,r)),g==null&&p!=null){var v=n._nameRepeatCount,x=v[p]=(v[p]||0)+1;g=p,x>1&&(g+="__ec__"+x),l[r]=g}}})(),a})();function oCe(a,n){return Rm(a,n).dimensions}function Rm(a,n){NM(a)||(a=zM(a)),n=n||{};var r=n.coordDimensions||[],o=n.dimensionsDefine||a.dimensionsDefine||[],l=Xe(),c=[],f=lCe(a,r,o,n.dimensionsCount),p=n.canOmitUnusedDimensions&&tW(f),g=o===a.dimensionsDefine,v=g?eW(a):JG(o),x=n.encodeDefine;!x&&n.encodeDefaulter&&(x=n.encodeDefaulter(a,f));for(var O=Xe(x),w=new O6(f),S=0;S<w.length;S++)w[S]=-1;function k(re){var ie=w[re];if(ie<0){var le=o[re],pe=Ze(le)?le:{name:le},ce=new o2,ye=pe.name;ye!=null&&v.get(ye)!=null&&(ce.name=ce.displayName=ye),pe.type!=null&&(ce.type=pe.type),pe.displayName!=null&&(ce.displayName=pe.displayName);var Oe=c.length;return w[re]=Oe,ce.storeDimIndex=re,c.push(ce),ce}return c[ie]}if(!p)for(var S=0;S<f;S++)k(S);O.each(function(re,ie){var le=Vn(re).slice();if(le.length===1&&!De(le[0])&&le[0]<0){O.set(ie,!1);return}var pe=O.set(ie,[]);Z(le,function(ce,ye){var Oe=De(ce)?v.get(ce):ce;Oe!=null&&Oe<f&&(pe[ye]=Oe,E(k(Oe),ie,ye))})});var P=0;Z(r,function(re){var ie,le,pe,ce;if(De(re))ie=re,ce={};else{ce=re,ie=ce.name;var ye=ce.ordinalMeta;ce.ordinalMeta=null,ce=ee({},ce),ce.ordinalMeta=ye,le=ce.dimsDef,pe=ce.otherDims,ce.name=ce.coordDim=ce.coordDimIndex=ce.dimsDef=ce.otherDims=null}var Oe=O.get(ie);if(Oe!==!1){if(Oe=Vn(Oe),!Oe.length)for(var _e=0;_e<(le&&le.length||1);_e++){for(;P<f&&k(P).coordDim!=null;)P++;P<f&&Oe.push(P++)}Z(Oe,function(Pe,Se){var Re=k(Pe);if(g&&ce.type!=null&&(Re.type=ce.type),E(be(Re,ce),ie,Se),Re.name==null&&le){var Ne=le[Se];!Ze(Ne)&&(Ne={name:Ne}),Re.name=Re.displayName=Ne.name,Re.defaultTooltip=Ne.defaultTooltip}pe&&be(Re.otherDims,pe)})}});function E(re,ie,le){CM.get(ie)!=null?re.otherDims[ie]=le:(re.coordDim=ie,re.coordDimIndex=le,l.set(ie,!0))}var M=n.generateCoord,R=n.generateCoordCount,N=R!=null;R=M?R||1:0;var j=M||"value";function W(re){re.name==null&&(re.name=re.coordDim)}if(p)Z(c,function(re){W(re)}),c.sort(function(re,ie){return re.storeDimIndex-ie.storeDimIndex});else for(var U=0;U<f;U++){var X=k(U),J=X.coordDim;J==null&&(X.coordDim=uCe(j,l,N),X.coordDimIndex=0,(!M||R<=0)&&(X.isExtraCoord=!0),R--),W(X),X.type==null&&(Q7(a,U)===Gi.Must||X.isExtraCoord&&(X.otherDims.itemName!=null||X.otherDims.seriesName!=null))&&(X.type="ordinal")}return sCe(c),new YG({source:a,dimensions:c,fullDimensionCount:f,dimensionOmitted:p})}function sCe(a){for(var n=Xe(),r=0;r<a.length;r++){var o=a[r],l=o.name,c=n.get(l)||0;c>0&&(o.name=l+(c-1)),c++,n.set(l,c)}}function lCe(a,n,r,o){var l=Math.max(a.dimensionsDetectedCount||1,n.length,r.length,o||0);return Z(n,function(c){var f;Ze(c)&&(f=c.dimsDef)&&(l=Math.max(l,f.length))}),l}function uCe(a,n,r){if(r||n.hasKey(a)){for(var o=0;n.hasKey(a+o);)o++;a+=o}return n.set(a,!0),a}var cCe=(function(){function a(n){this.coordSysDims=[],this.axisMap=Xe(),this.categoryAxisMap=Xe(),this.coordSysName=n}return a})();function dCe(a){var n=a.get("coordinateSystem"),r=new cCe(n),o=fCe[n];if(o)return o(a,r,r.axisMap,r.categoryAxisMap),r}var fCe={cartesian2d:function(a,n,r,o){var l=a.getReferringComponents("xAxis",br).models[0],c=a.getReferringComponents("yAxis",br).models[0];{if(!l)throw new Error('xAxis "'+tt(a.get("xAxisIndex"),a.get("xAxisId"),0)+'" not found');if(!c)throw new Error('yAxis "'+tt(a.get("xAxisIndex"),a.get("yAxisId"),0)+'" not found')}n.coordSysDims=["x","y"],r.set("x",l),r.set("y",c),Lm(l)&&(o.set("x",l),n.firstCategoryDimIndex=0),Lm(c)&&(o.set("y",c),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(a,n,r,o){var l=a.getReferringComponents("singleAxis",br).models[0];if(!l)throw new Error("singleAxis should be specified.");n.coordSysDims=["single"],r.set("single",l),Lm(l)&&(o.set("single",l),n.firstCategoryDimIndex=0)},polar:function(a,n,r,o){var l=a.getReferringComponents("polar",br).models[0],c=l.findAxisModel("radiusAxis"),f=l.findAxisModel("angleAxis");{if(!f)throw new Error("angleAxis option not found");if(!c)throw new Error("radiusAxis option not found")}n.coordSysDims=["radius","angle"],r.set("radius",c),r.set("angle",f),Lm(c)&&(o.set("radius",c),n.firstCategoryDimIndex=0),Lm(f)&&(o.set("angle",f),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(a,n,r,o){n.coordSysDims=["lng","lat"]},parallel:function(a,n,r,o){var l=a.ecModel,c=l.getComponent("parallel",a.get("parallelIndex")),f=n.coordSysDims=c.dimensions.slice();Z(c.parallelAxisIndex,function(p,g){var v=l.getComponent("parallelAxis",p),x=f[g];r.set(x,v),Lm(v)&&(o.set(x,v),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=g))})},matrix:function(a,n,r,o){var l=a.getReferringComponents("matrix",br).models[0];if(!l)throw new Error("matrix coordinate system should be specified.");n.coordSysDims=["x","y"];var c=l.getDimensionModel("x"),f=l.getDimensionModel("y");r.set("x",c),r.set("y",f),o.set("x",c),o.set("y",f)}};function Lm(a){return a.get("type")==="category"}function iW(a,n,r){r=r||{};var o=r.byIndex,l=r.stackedCoordDimension,c,f,p;hCe(n)?c=n:(f=n.schema,c=f.dimensions,p=n.store);var g=!!(a&&a.get("stack")),v,x,O,w;if(Z(c,function(R,N){De(R)&&(c[N]=R={name:R}),g&&!R.isExtraCoord&&(!o&&!v&&R.ordinalMeta&&(v=R),!x&&R.type!=="ordinal"&&R.type!=="time"&&(!l||l===R.coordDim)&&(x=R))}),x&&!o&&!v&&(o=!0),x){O="__\0ecstackresult_"+a.id,w="__\0ecstackedover_"+a.id,v&&(v.createInvertedIndices=!0);var S=x.coordDim,k=x.type,P=0;Z(c,function(R){R.coordDim===S&&P++});var E={name:O,coordDim:S,coordDimIndex:P,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length},M={name:w,coordDim:w,coordDimIndex:P+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length+1};f?(p&&(E.storeDimIndex=p.ensureCalculationDimension(w,k),M.storeDimIndex=p.ensureCalculationDimension(O,k)),f.appendCalculationDimension(E),f.appendCalculationDimension(M)):(c.push(E),c.push(M))}return{stackedDimension:x&&x.name,stackedByDimension:v&&v.name,isStackedByIndex:o,stackedOverDimension:w,stackResultDimension:O}}function hCe(a){return!KG(a.schema)}function zu(a,n){return!!n&&n===a.getCalculationInfo("stackedDimension")}function wD(a,n){return zu(a,n)?a.getCalculationInfo("stackResultDimension"):n}function pCe(a,n){var r=a.get("coordinateSystem"),o=Qf.get(r),l;return n&&n.coordSysDims&&(l=ve(n.coordSysDims,function(c){var f={name:c},p=n.axisMap.get(c);if(p){var g=p.get("type");f.type=a2(g)}return f})),l||(l=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),l}function mCe(a,n,r){var o,l;return r&&Z(a,function(c,f){var p=c.coordDim,g=r.categoryAxisMap.get(p);g&&(o==null&&(o=f),c.ordinalMeta=g.getOrdinalMeta(),n&&(c.createInvertedIndices=!0)),c.otherDims.itemName!=null&&(l=!0)}),!l&&o!=null&&(a[o].otherDims.itemName=0),o}function Tl(a,n,r){r=r||{};var o=n.getSourceManager(),l,c=!1;a?(c=!0,l=zM(a)):(l=o.getSource(),c=l.sourceFormat===Oo);var f=dCe(n),p=pCe(n,f),g=r.useEncodeDefaulter,v=Ge(g)?g:g?Ue(B7,p,n):null,x={coordDimensions:p,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!c},O=Rm(l,x),w=mCe(O.dimensions,r.createInvertedIndices,f),S=c?null:o.getSharedDataStore(O),k=iW(n,{schema:O,store:S}),P=new ra(O,n);P.setCalculationInfo(k);var E=w!=null&&gCe(l)?function(M,R,N,j){return j===w?N:this.defaultDimValueGetter(M,R,N,j)}:null;return P.hasItemOption=!1,P.initData(c?l:S,null,E),P}function gCe(a){if(a.sourceFormat===Oo){var n=vCe(a.data||[]);return!ke(Yp(n))}}function vCe(a){for(var n=0;n<a.length&&a[n]==null;)n++;return a[n]}function yCe(a){var n=Math.pow(10,v0(Math.abs(a))),r=Math.abs(a/n);return r===0||r===1||r===2||r===3||r===5}function SD(a){return a.type==="interval"||a.type==="log"}function xCe(a,n,r,o,l){var c={},f=c.interval=tE(n/r,!0);o!=null&&f<o&&(f=c.interval=o),l!=null&&f>l&&(f=c.interval=l);var p=c.intervalPrecision=ty(f),g=c.niceTickExtent=[Lr(Math.ceil(a[0]/f)*f,p),Lr(Math.floor(a[1]/f)*f,p)];return _Ce(g,a),c}function TD(a){var n=Math.pow(10,v0(a)),r=a/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Lr(r*n)}function ty(a){return As(a)+2}function aW(a,n,r){a[n]=Math.max(Math.min(a[n],r[1]),r[0])}function _Ce(a,n){!isFinite(a[0])&&(a[0]=n[0]),!isFinite(a[1])&&(a[1]=n[1]),aW(a,0,n),aW(a,1,n),a[0]>a[1]&&(a[0]=a[1])}function CD(a,n){return a>=n[0]&&a<=n[1]}var OCe=(function(){function a(){this.normalize=oW,this.scale=sW}return a.prototype.updateMethods=function(n){n.hasBreaks()?(this.normalize=Ee(n.normalize,n),this.scale=Ee(n.scale,n)):(this.normalize=oW,this.scale=sW)},a})();function oW(a,n){return n[1]===n[0]?.5:(a-n[0])/(n[1]-n[0])}function sW(a,n){return a*(n[1]-n[0])+n[0]}function kD(a,n,r){var o=Math.log(a);return[Math.log(r?n[0]:Math.max(0,n[0]))/o,Math.log(r?n[1]:Math.max(0,n[1]))/o]}var Hc=(function(){function a(n){this._calculator=new OCe,this._setting=n||{},this._extent=[1/0,-1/0];var r=Wr();r&&(this._brkCtx=r.createScaleBreakContext(),this._brkCtx.update(this._extent))}return a.prototype.getSetting=function(n){return this._setting[n]},a.prototype._innerUnionExtent=function(n){var r=this._extent;this._innerSetExtent(n[0]<r[0]?n[0]:r[0],n[1]>r[1]?n[1]:r[1])},a.prototype.unionExtentFromData=function(n,r){this._innerUnionExtent(n.getApproximateExtent(r))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(n,r){this._innerSetExtent(n,r)},a.prototype._innerSetExtent=function(n,r){var o=this._extent;isNaN(n)||(o[0]=n),isNaN(r)||(o[1]=r),this._brkCtx&&this._brkCtx.update(o)},a.prototype.setBreaksFromOption=function(n){var r=Wr();r&&this._innerSetBreak(r.parseAxisBreakOption(n,Ee(this.parse,this)))},a.prototype._innerSetBreak=function(n){this._brkCtx&&(this._brkCtx.setBreaks(n),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},a.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},a.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},a.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},a.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(n){this._isBlank=n},a})();qO(Hc);var bCe=0,ny=(function(){function a(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++bCe,this._onCollect=n.onCollect}return a.createByAxisModel=function(n){var r=n.option,o=r.data,l=o&&ve(o,wCe);return new a({categories:l,needCollect:!l,deduplication:r.dedplication!==!1})},a.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},a.prototype.parseAndCollect=function(n){var r,o=this._needCollect;if(!De(n)&&!o)return n;if(o&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,this._onCollect&&this._onCollect(n,r),r;var l=this._getOrCreateMap();return r=l.get(n),r==null&&(o?(r=this.categories.length,this.categories[r]=n,l.set(n,r),this._onCollect&&this._onCollect(n,r)):r=NaN),r},a.prototype._getOrCreateMap=function(){return this._map||(this._map=Xe(this.categories))},a})();function wCe(a){return Ze(a)&&a.value!=null?a.value:a+""}var Nm=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;o.type="ordinal";var l=o.getSetting("ordinalMeta");return l||(l=new ny({})),ke(l)&&(l=new ny({categories:ve(l,function(c){return Ze(c)?c.value:c})})),o._ordinalMeta=l,o._extent=o.getSetting("extent")||[0,l.categories.length-1],o}return n.prototype.parse=function(r){return r==null?NaN:De(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return CD(r,this._extent)&&r>=0&&r<this._ordinalMeta.categories.length},n.prototype.normalize=function(r){return r=this._getTickNumber(r),this._calculator.normalize(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(this._calculator.scale(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],o=this._extent,l=o[0];l<=o[1];)r.push({value:l}),l++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=r.ordinalNumbers,l=this._ordinalNumbersByTick=[],c=this._ticksByOrdinalNumber=[],f=0,p=this._ordinalMeta.categories.length,g=Math.min(p,o.length);f<g;++f){var v=o[f];l[f]=v,c[v]=f}for(var x=0;f<p;++f){for(;c[x]!=null;)x++;l.push(x),c[x]=f}},n.prototype._getTickNumber=function(r){var o=this._ticksByOrdinalNumber;return o&&r>=0&&r<o.length?o[r]:r},n.prototype.getRawOrdinalNumber=function(r){var o=this._ordinalNumbersByTick;return o&&r>=0&&r<o.length?o[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var o=this.getRawOrdinalNumber(r.value),l=this._ordinalMeta.categories[o];return l==null?"":l+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n})(Hc);Hc.registerClass(Nm);var Xc=Lr,Bu=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r==null||r===""?NaN:Number(r)},n.prototype.contain=function(r){return CD(r,this._extent)},n.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},n.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=ty(r)},n.prototype.getTicks=function(r){r=r||{};var o=this._interval,l=this._extent,c=this._niceExtent,f=this._intervalPrecision,p=Wr(),g=[];if(!o)return g;if(r.breakTicks==="only_break"&&p)return p.addBreaksToTicks(g,this._brkCtx.breaks,this._extent),g;var v=1e4;l[0]<c[0]&&(r.expandToNicedExtent?g.push({value:Xc(c[0]-o,f)}):g.push({value:l[0]}));for(var x=function(k,P){return Math.round((P-k)/o)},O=c[0];O<=c[1];){if(g.push({value:O}),O=Xc(O+o,f),this._brkCtx){var w=this._brkCtx.calcNiceTickMultiple(O,x);w>=0&&(O=Xc(O+w*o,f))}if(g.length>0&&O===g[g.length-1].value)break;if(g.length>v)return[]}var S=g.length?g[g.length-1].value:c[1];return l[1]>S&&(r.expandToNicedExtent?g.push({value:Xc(S+o,f)}):g.push({value:l[1]})),p&&p.pruneTicksByBreak(r.pruneByBreak,g,this._brkCtx.breaks,function(k){return k.value},this._interval,this._extent),r.breakTicks!=="none"&&p&&p.addBreaksToTicks(g,this._brkCtx.breaks,this._extent),g},n.prototype.getMinorTicks=function(r){for(var o=this.getTicks({expandToNicedExtent:!0}),l=[],c=this.getExtent(),f=1;f<o.length;f++){var p=o[f],g=o[f-1];if(!(g.break||p.break)){for(var v=0,x=[],O=p.value-g.value,w=O/r,S=ty(w);v<r-1;){var k=Xc(g.value+(v+1)*w,S);k>c[0]&&k<c[1]&&x.push(k),v++}var P=Wr();P&&P.pruneTicksByBreak("auto",x,this._getNonTransBreaks(),function(E){return E},this._interval,c),l.push(x)}}return l},n.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},n.prototype.getLabel=function(r,o){if(r==null)return"";var l=o&&o.precision;l==null?l=As(r.value)||0:l==="auto"&&(l=this._intervalPrecision);var c=Xc(r.value,l,!0);return vM(c)},n.prototype.calcNiceTicks=function(r,o,l){r=r||5;var c=this._extent.slice(),f=this._getExtentSpanWithBreaks();if(isFinite(f)){f<0&&(f=-f,c.reverse(),this._innerSetExtent(c[0],c[1]),c=this._extent.slice());var p=xCe(c,f,r,o,l);this._intervalPrecision=p.intervalPrecision,this._interval=p.interval,this._niceExtent=p.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var o=this._extent.slice();if(o[0]===o[1])if(o[0]!==0){var l=Math.abs(o[0]);r.fixMax||(o[1]+=l/2),o[0]-=l/2}else o[1]=1;var c=o[1]-o[0];isFinite(c)||(o[0]=0,o[1]=1),this._innerSetExtent(o[0],o[1]),o=this._extent.slice(),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var f=this._interval,p=this._intervalPrecision;r.fixMin||(o[0]=Xc(Math.floor(o[0]/f)*f,p)),r.fixMax||(o[1]=Xc(Math.ceil(o[1]/f)*f,p)),this._innerSetExtent(o[0],o[1])},n.prototype.setNiceExtent=function(r,o){this._niceExtent=[r,o]},n.type="interval",n})(Hc);Hc.registerClass(Bu);var lW=typeof Float32Array<"u",SCe=lW?Float32Array:Array;function Cl(a){return ke(a)?lW?new Float32Array(a):a:new SCe(a)}var AD="__ec_stack_";function uW(a){return a.get("stack")||AD+a.seriesIndex}function PD(a){return a.dim+a.index}function TCe(a){var n=[],r=a.axis,o="axis0";if(r.type==="category"){for(var l=r.getBandWidth(),c=0;c<a.count;c++)n.push(be({bandWidth:l,axisKey:o,stackId:AD+c},a));for(var f=fW(n),p=[],c=0;c<a.count;c++){var g=f[o][AD+c];g.offsetCenter=g.offset+g.width/2,p.push(g)}return p}}function cW(a,n){var r=[];return n.eachSeriesByType(a,function(o){mW(o)&&r.push(o)}),r}function CCe(a){var n={};Z(a,function(g){var v=g.coordinateSystem,x=v.getBaseAxis();if(!(x.type!=="time"&&x.type!=="value"))for(var O=g.getData(),w=x.dim+"_"+x.index,S=O.getDimensionIndex(O.mapDimension(x.dim)),k=O.getStore(),P=0,E=k.count();P<E;++P){var M=k.get(S,P);n[w]?n[w].push(M):n[w]=[M]}});var r={};for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];if(l){l.sort(function(g,v){return g-v});for(var c=null,f=1;f<l.length;++f){var p=l[f]-l[f-1];p>0&&(c=c===null?p:Math.min(c,p))}r[o]=c}}return r}function dW(a){var n=CCe(a),r=[];return Z(a,function(o){var l=o.coordinateSystem,c=l.getBaseAxis(),f=c.getExtent(),p;if(c.type==="category")p=c.getBandWidth();else if(c.type==="value"||c.type==="time"){var g=c.dim+"_"+c.index,v=n[g],x=Math.abs(f[1]-f[0]),O=c.scale.getExtent(),w=Math.abs(O[1]-O[0]);p=v?x/w*v:x}else{var S=o.getData();p=Math.abs(f[1]-f[0])/S.count()}var k=it(o.get("barWidth"),p),P=it(o.get("barMaxWidth"),p),E=it(o.get("barMinWidth")||(gW(o)?.5:1),p),M=o.get("barGap"),R=o.get("barCategoryGap"),N=o.get("defaultBarGap");r.push({bandWidth:p,barWidth:k,barMaxWidth:P,barMinWidth:E,barGap:M,barCategoryGap:R,defaultBarGap:N,axisKey:PD(c),stackId:uW(o)})}),fW(r)}function fW(a){var n={};Z(a,function(o,l){var c=o.axisKey,f=o.bandWidth,p=n[c]||{bandWidth:f,remainedWidth:f,autoWidthCount:0,categoryGap:null,gap:o.defaultBarGap||0,stacks:{}},g=p.stacks;n[c]=p;var v=o.stackId;g[v]||p.autoWidthCount++,g[v]=g[v]||{width:0,maxWidth:0};var x=o.barWidth;x&&!g[v].width&&(g[v].width=x,x=Math.min(p.remainedWidth,x),p.remainedWidth-=x);var O=o.barMaxWidth;O&&(g[v].maxWidth=O);var w=o.barMinWidth;w&&(g[v].minWidth=w);var S=o.barGap;S!=null&&(p.gap=S);var k=o.barCategoryGap;k!=null&&(p.categoryGap=k)});var r={};return Z(n,function(o,l){r[l]={};var c=o.stacks,f=o.bandWidth,p=o.categoryGap;if(p==null){var g=He(c).length;p=Math.max(35-g*4,15)+"%"}var v=it(p,f),x=it(o.gap,1),O=o.remainedWidth,w=o.autoWidthCount,S=(O-v)/(w+(w-1)*x);S=Math.max(S,0),Z(c,function(M){var R=M.maxWidth,N=M.minWidth;if(M.width){var j=M.width;R&&(j=Math.min(j,R)),N&&(j=Math.max(j,N)),M.width=j,O-=j+x*j,w--}else{var j=S;R&&R<j&&(j=Math.min(R,O)),N&&N>j&&(j=N),j!==S&&(M.width=j,O-=j+x*j,w--)}}),S=(O-v)/(w+(w-1)*x),S=Math.max(S,0);var k=0,P;Z(c,function(M,R){M.width||(M.width=S),P=M,k+=M.width*(1+x)}),P&&(k-=P.width*x);var E=-k/2;Z(c,function(M,R){r[l][R]=r[l][R]||{bandWidth:f,offset:E,width:M.width},E+=M.width*(1+x)})}),r}function kCe(a,n,r){if(a&&n){var o=a[PD(n)];return o}}function hW(a,n){var r=cW(a,n),o=dW(r);Z(r,function(l){var c=l.getData(),f=l.coordinateSystem,p=f.getBaseAxis(),g=uW(l),v=o[PD(p)][g],x=v.offset,O=v.width;c.setLayout({bandWidth:v.bandWidth,offset:x,size:O})})}function pW(a){return{seriesType:a,plan:Sm(),reset:function(n){if(mW(n)){var r=n.getData(),o=n.coordinateSystem,l=o.getBaseAxis(),c=o.getOtherAxis(l),f=r.getDimensionIndex(r.mapDimension(c.dim)),p=r.getDimensionIndex(r.mapDimension(l.dim)),g=n.get("showBackground",!0),v=r.mapDimension(c.dim),x=r.getCalculationInfo("stackResultDimension"),O=zu(r,v)&&!!r.getCalculationInfo("stackedOnSeries"),w=c.isHorizontal(),S=ACe(l,c),k=gW(n),P=n.get("barMinHeight")||0,E=x&&r.getDimensionIndex(x),M=r.getLayout("size"),R=r.getLayout("offset");return{progress:function(N,j){for(var W=N.count,U=k&&Cl(W*3),X=k&&g&&Cl(W*3),J=k&&Cl(W),re=o.master.getRect(),ie=w?re.width:re.height,le,pe=j.getStore(),ce=0;(le=N.next())!=null;){var ye=pe.get(O?E:f,le),Oe=pe.get(p,le),_e=S,Pe=void 0;O&&(Pe=+ye-pe.get(f,le));var Se=void 0,Re=void 0,Ne=void 0,Be=void 0;if(w){var Fe=o.dataToPoint([ye,Oe]);if(O){var rt=o.dataToPoint([Pe,Oe]);_e=rt[0]}Se=_e,Re=Fe[1]+R,Ne=Fe[0]-_e,Be=M,Math.abs(Ne)<P&&(Ne=(Ne<0?-1:1)*P)}else{var Fe=o.dataToPoint([Oe,ye]);if(O){var rt=o.dataToPoint([Oe,Pe]);_e=rt[1]}Se=Fe[0]+R,Re=_e,Ne=M,Be=Fe[1]-_e,Math.abs(Be)<P&&(Be=(Be<=0?-1:1)*P)}k?(U[ce]=Se,U[ce+1]=Re,U[ce+2]=w?Ne:Be,X&&(X[ce]=w?re.x:Se,X[ce+1]=w?Re:re.y,X[ce+2]=ie),J[le]=le):j.setItemLayout(le,{x:Se,y:Re,width:Ne,height:Be}),ce+=3}k&&j.setLayout({largePoints:U,largeDataIndices:J,largeBackgroundPoints:X,valueAxisHorizontal:w})}}}}}}function mW(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function gW(a){return a.pipelineContext&&a.pipelineContext.large}function ACe(a,n){var r=n.model.get("startValue");return r||(r=0),n.toGlobalCoord(n.dataToCoord(n.type==="log"?r>0?r:1:r))}var PCe=function(a,n,r,o){for(;r<o;){var l=r+o>>>1;a[l][1]<n?r=l+1:o=l}return r},ED=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="time",o}return n.prototype.getLabel=function(r){var o=this.getSetting("useUTC");return L0(r.value,v7[Z2e(R0(this._minLevelUnit))]||v7.second,o,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,o,l){var c=this.getSetting("useUTC"),f=this.getSetting("locale");return H2e(r,o,l,f,c)},n.prototype.getTicks=function(r){r=r||{};var o=this._interval,l=this._extent,c=Wr(),f=[];if(!o)return f;var p=this.getSetting("useUTC");if(c&&r.breakTicks==="only_break")return Wr().addBreaksToTicks(f,this._brkCtx.breaks,this._extent),f;var g=ym(l[1],p);f.push({value:l[0],time:{level:0,upperTimeUnit:g,lowerTimeUnit:g}});var v=NCe(this._minLevelUnit,this._approxInterval,p,l,this._getExtentSpanWithBreaks(),this._brkCtx);f=f.concat(v);var x=ym(l[1],p);f.push({value:l[1],time:{level:0,upperTimeUnit:x,lowerTimeUnit:x}});var O=this.getSetting("useUTC"),w=_o.length-1,S=0;return Z(f,function(k){w=Math.min(w,se(_o,k.time.upperTimeUnit)),S=Math.max(S,k.time.level)}),c&&Wr().pruneTicksByBreak(r.pruneByBreak,f,this._brkCtx.breaks,function(k){return k.value},this._approxInterval,this._extent),c&&r.breakTicks!=="none"&&Wr().addBreaksToTicks(f,this._brkCtx.breaks,this._extent,function(k){for(var P=Math.max(se(_o,ym(k.vmin,O)),se(_o,ym(k.vmax,O))),E=0,M=0;M<_o.length;M++)if(!vW(_o[M],k.vmin,k.vmax,O)){E=M;break}var R=Math.min(E,w),N=Math.max(R,P);return{level:S,lowerTimeUnit:_o[N],upperTimeUnit:_o[R]}}),f},n.prototype.calcNiceExtent=function(r){var o=this.getExtent();if(o[0]===o[1]&&(o[0]-=Wo,o[1]+=Wo),o[1]===-1/0&&o[0]===1/0){var l=new Date;o[1]=+new Date(l.getFullYear(),l.getMonth(),l.getDate()),o[0]=o[1]-Wo}this._innerSetExtent(o[0],o[1]),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,o,l){r=r||10;var c=this._getExtentSpanWithBreaks();this._approxInterval=c/r,o!=null&&this._approxInterval<o&&(this._approxInterval=o),l!=null&&this._approxInterval>l&&(this._approxInterval=l);var f=l2.length,p=Math.min(PCe(l2,this._approxInterval,0,f),f-1);this._interval=l2[p][1],this._intervalPrecision=ty(this._interval),this._minLevelUnit=l2[Math.max(p-1,0)][0]},n.prototype.parse=function(r){return dt(r)?r:+hl(r)},n.prototype.contain=function(r){return CD(r,this._extent)},n.prototype.normalize=function(r){return this._calculator.normalize(r,this._extent)},n.prototype.scale=function(r){return this._calculator.scale(r,this._extent)},n.type="time",n})(Bu),l2=[["second",uM],["minute",cM],["hour",I0],["quarter-day",I0*6],["half-day",I0*12],["day",Wo*1.2],["half-week",Wo*3.5],["week",Wo*7],["month",Wo*31],["quarter",Wo*95],["half-year",g7/2],["year",g7]];function vW(a,n,r,o){return Tb(new Date(n),a,o).getTime()===Tb(new Date(r),a,o).getTime()}function ECe(a,n){return a/=Wo,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function MCe(a){var n=30*Wo;return a/=n,a>6?6:a>3?3:a>2?2:1}function DCe(a){return a/=I0,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function yW(a,n){return a/=n?cM:uM,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function ICe(a){return tE(a,!0)}function RCe(a,n,r){var o=Math.max(0,se(_o,n)-1);return Tb(new Date(a),_o[o],r).getTime()}function LCe(a,n){var r=new Date(0);r[a](1);var o=r.getTime();r[a](1+n);var l=r.getTime()-o;return function(c,f){return Math.max(0,Math.round((f-c)/l))}}function NCe(a,n,r,o,l,c){var f=1e4,p=G2e,g=0;function v(ce,ye,Oe,_e,Pe,Se,Re){for(var Ne=LCe(Pe,ce),Be=ye,Fe=new Date(Be);Be<Oe&&Be<=o[1];){if(Re.push({value:Be}),g++>f){fr("Exceed safe limit in time scale.");break}if(Fe[Pe](Fe[_e]()+ce),Be=Fe.getTime(),c){var rt=c.calcNiceTickMultiple(Be,Ne);rt>0&&(Fe[Pe](Fe[_e]()+rt*ce),Be=Fe.getTime())}}Re.push({value:Be,notAdd:!0})}function x(ce,ye,Oe){var _e=[],Pe=!ye.length;if(!vW(R0(ce),o[0],o[1],r)){Pe&&(ye=[{value:RCe(o[0],ce,r)},{value:o[1]}]);for(var Se=0;Se<ye.length-1;Se++){var Re=ye[Se].value,Ne=ye[Se+1].value;if(Re!==Ne){var Be=void 0,Fe=void 0,rt=void 0,ht=!1;switch(ce){case"year":Be=Math.max(1,Math.round(n/Wo/365)),Fe=y7(r),rt=X2e(r);break;case"half-year":case"quarter":case"month":Be=MCe(n),Fe=dM(r),rt=x7(r);break;case"week":case"half-week":case"day":Be=ECe(n),Fe=fM(r),rt=_7(r),ht=!0;break;case"half-day":case"quarter-day":case"hour":Be=DCe(n),Fe=hM(r),rt=O7(r);break;case"minute":Be=yW(n,!0),Fe=pM(r),rt=b7(r);break;case"second":Be=yW(n,!1),Fe=mM(r),rt=w7(r);break;case"millisecond":Be=ICe(n),Fe=gM(r),rt=S7(r);break}Ne>=o[0]&&Re<=o[1]&&v(Be,Re,Ne,Fe,rt,ht,_e),ce==="year"&&Oe.length>1&&Se===0&&Oe.unshift({value:Oe[0].value-Be})}}for(var Se=0;Se<_e.length;Se++)Oe.push(_e[Se])}}for(var O=[],w=[],S=0,k=0,P=0;P<p.length;++P){var E=R0(p[P]);if(q2e(p[P])){x(p[P],O[O.length-1]||[],w);var M=p[P+1]?R0(p[P+1]):null;if(E!==M){if(w.length){k=S,w.sort(function(ce,ye){return ce.value-ye.value});for(var R=[],N=0;N<w.length;++N){var j=w[N].value;(N===0||w[N-1].value!==j)&&(R.push(w[N]),j>=o[0]&&j<=o[1]&&S++)}var W=l/n;if(S>W*1.5&&k>W/1.5||(O.push(R),S>W||a===p[P]))break}w=[]}}}for(var U=Qe(ve(O,function(ce){return Qe(ce,function(ye){return ye.value>=o[0]&&ye.value<=o[1]&&!ye.notAdd})}),function(ce){return ce.length>0}),X=[],J=U.length-1,P=0;P<U.length;++P)for(var re=U[P],ie=0;ie<re.length;++ie){var le=ym(re[ie].value,r);X.push({value:re[ie].value,time:{level:J-P,upperTimeUnit:le,lowerTimeUnit:le}})}X.sort(function(ce,ye){return ce.value-ye.value});for(var pe=[],P=0;P<X.length;++P)(P===0||X[P].value!==X[P-1].value)&&pe.push(X[P]);return pe}Hc.registerClass(ED);var MD=Lr,$Ce=Math.floor,zCe=Math.ceil,u2=Math.pow,c2=Math.log,xW=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Bu,r}return n.prototype.getTicks=function(r){r=r||{};var o=this._extent.slice(),l=this._originalScale.getExtent(),c=a.prototype.getTicks.call(this,r),f=this.base,p=this._originalScale._innerGetBreaks(),g=Wr();return ve(c,function(v){var x=v.value,O=null,w=u2(f,x);x===o[0]&&this._fixMin?O=l[0]:x===o[1]&&this._fixMax&&(O=l[1]);var S;if(g){var k=g.getTicksLogTransformBreak(v,f,p,d2);S=k.vBreak,O==null&&(O=k.brkRoundingCriterion)}return O!=null&&(w=d2(w,O)),{value:w,break:S}},this)},n.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},n.prototype.setExtent=function(r,o){this._originalScale.setExtent(r,o);var l=kD(this.base,[r,o]);a.prototype.setExtent.call(this,l[0],l[1])},n.prototype.getExtent=function(){var r=this.base,o=a.prototype.getExtent.call(this);o[0]=u2(r,o[0]),o[1]=u2(r,o[1]);var l=this._originalScale.getExtent();return this._fixMin&&(o[0]=d2(o[0],l[0])),this._fixMax&&(o[1]=d2(o[1],l[1])),o},n.prototype.unionExtentFromData=function(r,o){this._originalScale.unionExtentFromData(r,o);var l=kD(this.base,r.getApproximateExtent(o),!0);this._innerUnionExtent(l)},n.prototype.calcNiceTicks=function(r){r=r||10;var o=this._extent.slice(),l=this._getExtentSpanWithBreaks();if(!(!isFinite(l)||l<=0)){var c=w8(l),f=r/l*c;for(f<=.5&&(c*=10);!isNaN(c)&&Math.abs(c)<1&&Math.abs(c)>0;)c*=10;var p=[MD(zCe(o[0]/c)*c),MD($Ce(o[1]/c)*c)];this._interval=c,this._intervalPrecision=ty(c),this._niceExtent=p}},n.prototype.calcNiceExtent=function(r){a.prototype.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.contain=function(r){return r=c2(r)/c2(this.base),a.prototype.contain.call(this,r)},n.prototype.normalize=function(r){return r=c2(r)/c2(this.base),a.prototype.normalize.call(this,r)},n.prototype.scale=function(r){return r=a.prototype.scale.call(this,r),u2(this.base,r)},n.prototype.setBreaksFromOption=function(r){var o=Wr();if(o){var l=o.logarithmicParseBreaksFromOption(r,this.base,Ee(this.parse,this)),c=l.parsedOriginal,f=l.parsedLogged;this._originalScale._innerSetBreak(c),this._innerSetBreak(f)}},n.type="log",n})(Bu);function d2(a,n){return MD(a,As(n))}Hc.registerClass(xW);var BCe=(function(){function a(n,r,o){this._prepareParams(n,r,o)}return a.prototype._prepareParams=function(n,r,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var l=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var c=r.get("min",!0);c==null&&(c=r.get("startValue",!0));var f=this._modelMinRaw=c;Ge(f)?this._modelMinNum=f2(n,f({min:o[0],max:o[1]})):f!=="dataMin"&&(this._modelMinNum=f2(n,f));var p=this._modelMaxRaw=r.get("max",!0);if(Ge(p)?this._modelMaxNum=f2(n,p({min:o[0],max:o[1]})):p!=="dataMax"&&(this._modelMaxNum=f2(n,p)),l)this._axisDataLen=r.getCategories().length;else{var g=r.get("boundaryGap"),v=ke(g)?g:[g||0,g||0];typeof v[0]=="boolean"||typeof v[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[ks(v[0],1),ks(v[1],1)]}},a.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,o=this._dataMax,l=this._axisDataLen,c=this._boundaryGapInner,f=n?null:o-r||Math.abs(r),p=this._modelMinRaw==="dataMin"?r:this._modelMinNum,g=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,v=p!=null,x=g!=null;p==null&&(p=n?l?0:NaN:r-c[0]*f),g==null&&(g=n?l?l-1:NaN:o+c[1]*f),(p==null||!isFinite(p))&&(p=NaN),(g==null||!isFinite(g))&&(g=NaN);var O=qe(p)||qe(g)||n&&!l;this._needCrossZero&&(p>0&&g>0&&!v&&(p=0),p<0&&g<0&&!x&&(g=0));var w=this._determinedMin,S=this._determinedMax;return w!=null&&(p=w,v=!0),S!=null&&(g=S,x=!0),{min:p,max:g,minFixed:v,maxFixed:x,isBlank:O}},a.prototype.modifyDataMinMax=function(n,r){Ke(!this.frozen),this[jCe[n]]=r},a.prototype.setDeterminedMinMax=function(n,r){var o=QCe[n];Ke(!this.frozen&&this[o]==null),this[o]=r},a.prototype.freeze=function(){this.frozen=!0},a})(),QCe={min:"_determinedMin",max:"_determinedMax"},jCe={min:"_dataMin",max:"_dataMax"};function _W(a,n,r){var o=a.rawExtentInfo;return o||(o=new BCe(a,n,r),a.rawExtentInfo=o,o)}function f2(a,n){return n==null?null:qe(n)?NaN:a.parse(n)}function OW(a,n){var r=a.type,o=_W(a,n,a.getExtent()).calculate();a.setBlank(o.isBlank);var l=o.min,c=o.max,f=n.ecModel;if(f&&r==="time"){var p=cW("bar",f),g=!1;if(Z(p,function(O){g=g||O.getBaseAxis()===n.axis}),g){var v=dW(p),x=VCe(l,c,n,v);l=x.min,c=x.max}}return{extent:[l,c],fixMin:o.minFixed,fixMax:o.maxFixed}}function VCe(a,n,r,o){var l=r.axis.getExtent(),c=Math.abs(l[1]-l[0]),f=kCe(o,r.axis);if(f===void 0)return{min:a,max:n};var p=1/0;Z(f,function(S){p=Math.min(S.offset,p)});var g=-1/0;Z(f,function(S){g=Math.max(S.offset+S.width,g)}),p=Math.abs(p),g=Math.abs(g);var v=p+g,x=n-a,O=1-(p+g)/c,w=x/O-x;return n+=w*(g/v),a-=w*(p/v),{min:a,max:n}}function nh(a,n){var r=n,o=OW(a,r),l=o.extent,c=r.get("splitNumber");a instanceof xW&&(a.base=r.get("logBase"));var f=a.type,p=r.get("interval"),g=f==="interval"||f==="time";a.setBreaksFromOption(wW(r)),a.setExtent(l[0],l[1]),a.calcNiceExtent({splitNumber:c,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:g?r.get("minInterval"):null,maxInterval:g?r.get("maxInterval"):null}),p!=null&&a.setInterval&&a.setInterval(p)}function ry(a,n){if(n=n||a.get("type"),n)switch(n){case"category":return new Nm({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new ED({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Hc.getClass(n)||Bu)}}function FCe(a){var n=a.scale.getExtent(),r=n[0],o=n[1];return!(r>0&&o>0||r<0&&o<0)}function $m(a){var n=a.getLabelModel().get("formatter");if(a.type==="time"){var r=W2e(n);return function(l,c){return a.scale.getFormattedLabel(l,c,r)}}else{if(De(n))return function(l){var c=a.scale.getLabel(l),f=n.replace("{value}",c??"");return f};if(Ge(n)){if(a.type==="category")return function(l,c){return n(h2(a,l),l.value-a.scale.getExtent()[0],null)};var o=Wr();return function(l,c){var f=null;return o&&(f=o.makeAxisLabelFormatterParamBreak(f,l.break)),n(h2(a,l),c,f)}}else return function(l){return a.scale.getLabel(l)}}}function h2(a,n){return a.type==="category"?a.scale.getLabel(n):n.value}function DD(a){var n=a.get("interval");return n??"auto"}function bW(a){return a.type==="category"&&DD(a.getLabelModel())===0}function p2(a,n){var r={};return Z(a.mapDimensionsAll(n),function(o){r[wD(a,o)]=!0}),He(r)}function GCe(a,n,r){n&&Z(p2(n,r),function(o){var l=n.getApproximateExtent(o);l[0]<a[0]&&(a[0]=l[0]),l[1]>a[1]&&(a[1]=l[1])})}function zm(a){return a==="middle"||a==="center"}function iy(a){return a.getShallow("show")}function wW(a){var n=a.get("breaks",!0);if(n!=null){if(!Wr()){cn('Must `import {AxisBreak} from "echarts/features.js"; use(AxisBreak);` first if using breaks option.');return}if(!WCe(a.axis)){cn("Axis '"+a.axis.dim+"'-'"+a.axis.type+"' does not support break.");return}return n}}function WCe(a){return(a.dim==="x"||a.dim==="y"||a.dim==="z"||a.dim==="single")&&a.type!=="category"}var Bm=(function(){function a(){}return a.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},a.prototype.getCoordSysModel=function(){},a})();function UCe(a){return Tl(null,a)}var qCe={isDimensionStacked:zu,enableDataStack:iW,getStackedDimension:wD};function ZCe(a,n){var r=n;n instanceof en||(r=new en(n));var o=ry(r);return o.setExtent(a[0],a[1]),nh(o,r),o}function HCe(a){we(a,Bm)}function XCe(a,n){return n=n||{},Fn(a,null,null,n.state!=="normal")}var YCe=Object.freeze({__proto__:null,createList:UCe,getLayoutRect:rr,dataStack:qCe,createScale:ZCe,mixinAxisModelCommonMethods:HCe,getECData:Et,createTextStyle:XCe,createDimensions:oCe,createSymbol:Br,enableHoverEmphasis:Bc}),KCe=1e-8;function SW(a,n){return Math.abs(a-n)<KCe}function rh(a,n,r){var o=0,l=a[0];if(!l)return!1;for(var c=1;c<a.length;c++){var f=a[c];o+=Au(l[0],l[1],f[0],f[1],n,r),l=f}var p=a[0];return(!SW(l[0],p[0])||!SW(l[1],p[1]))&&(o+=Au(l[0],l[1],p[0],p[1],n,r)),o!==0}var JCe=[];function ID(a,n){for(var r=0;r<a.length;r++)yr(a[r],a[r],n)}function TW(a,n,r,o){for(var l=0;l<a.length;l++){var c=a[l];o&&(c=o.project(c)),c&&isFinite(c[0])&&isFinite(c[1])&&(No(n,n,c),Os(r,r,c))}}function eke(a){for(var n=0,r=0,o=0,l=a.length,c=a[l-1][0],f=a[l-1][1],p=0;p<l;p++){var g=a[p][0],v=a[p][1],x=c*v-g*f;n+=x,r+=(c+g)*x,o+=(f+v)*x,c=g,f=v}return n?[r/n/3,o/n/3,n]:[a[0][0]||0,a[0][1]||0]}var CW=(function(){function a(n){this.name=n}return a.prototype.setCenter=function(n){this._center=n},a.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},a})(),kW=(function(){function a(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return a})(),AW=(function(){function a(n){this.type="linestring",this.points=n}return a})(),PW=(function(a){u(n,a);function n(r,o,l){var c=a.call(this,r)||this;return c.type="geoJSON",c.geometries=o,c._center=l&&[l[0],l[1]],c}return n.prototype.calcCenter=function(){for(var r=this.geometries,o,l=0,c=0;c<r.length;c++){var f=r[c],p=f.exterior,g=p&&p.length;g>l&&(o=f,l=g)}if(o)return eke(o.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},n.prototype.getBoundingRect=function(r){var o=this._rect;if(o&&!r)return o;var l=[1/0,1/0],c=[-1/0,-1/0],f=this.geometries;return Z(f,function(p){p.type==="polygon"?TW(p.exterior,l,c,r):Z(p.points,function(g){TW(g,l,c,r)})}),isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1])||(l[0]=l[1]=c[0]=c[1]=0),o=new wt(l[0],l[1],c[0]-l[0],c[1]-l[1]),r||(this._rect=o),o},n.prototype.contain=function(r){var o=this.getBoundingRect(),l=this.geometries;if(!o.contain(r[0],r[1]))return!1;e:for(var c=0,f=l.length;c<f;c++){var p=l[c];if(p.type==="polygon"){var g=p.exterior,v=p.interiors;if(rh(g,r[0],r[1])){for(var x=0;x<(v?v.length:0);x++)if(rh(v[x],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,o,l,c){var f=this.getBoundingRect(),p=f.width/f.height;l?c||(c=l/p):l=p*c;for(var g=new wt(r,o,l,c),v=f.calculateTransform(g),x=this.geometries,O=0;O<x.length;O++){var w=x[O];w.type==="polygon"?(ID(w.exterior,v),Z(w.interiors,function(S){ID(S,v)})):Z(w.points,function(S){ID(S,v)})}f=this._rect,f.copy(g),this._center=[f.x+f.width/2,f.y+f.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var o=new n(r,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},n})(CW),tke=(function(a){u(n,a);function n(r,o){var l=a.call(this,r)||this;return l.type="geoSVG",l._elOnlyForCalculate=o,l}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,o=r.getBoundingRect(),l=[o.x+o.width/2,o.y+o.height/2],c=sl(JCe),f=r;f&&!f.isGeoSVGGraphicRoot;)ho(c,f.getLocalTransform(),c),f=f.parent;return za(c,c),yr(l,l,c),l},n})(CW);function nke(a){if(!a.UTF8Encoding)return a;var n=a,r=n.UTF8Scale;r==null&&(r=1024);var o=n.features;return Z(o,function(l){var c=l.geometry,f=c.encodeOffsets,p=c.coordinates;if(f)switch(c.type){case"LineString":c.coordinates=EW(p,f,r);break;case"Polygon":RD(p,f,r);break;case"MultiLineString":RD(p,f,r);break;case"MultiPolygon":Z(p,function(g,v){return RD(g,f[v],r)})}}),n.UTF8Encoding=!1,n}function RD(a,n,r){for(var o=0;o<a.length;o++)a[o]=EW(a[o],n[o],r)}function EW(a,n,r){for(var o=[],l=n[0],c=n[1],f=0;f<a.length;f+=2){var p=a.charCodeAt(f)-64,g=a.charCodeAt(f+1)-64;p=p>>1^-(p&1),g=g>>1^-(g&1),p+=l,g+=c,l=p,c=g,o.push([p/r,g/r])}return o}function LD(a,n){return a=nke(a),ve(Qe(a.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var o=r.properties,l=r.geometry,c=[];switch(l.type){case"Polygon":var f=l.coordinates;c.push(new kW(f[0],f.slice(1)));break;case"MultiPolygon":Z(l.coordinates,function(g){g[0]&&c.push(new kW(g[0],g.slice(1)))});break;case"LineString":c.push(new AW([l.coordinates]));break;case"MultiLineString":c.push(new AW(l.coordinates))}var p=new PW(o[n||"name"],c,o.cp);return p.properties=o,p})}var rke=Object.freeze({__proto__:null,linearMap:wn,round:Lr,asc:go,getPrecision:As,getPrecisionSafe:FO,getPixelPrecision:KP,getPercentWithPrecision:xOe,parsePercent:it,MAX_SAFE_INTEGER:JP,remRadian:eE,isRadianAroundZero:Xp,parseDate:hl,quantity:w8,quantityExponent:v0,nice:tE,quantile:GO,reformIntervals:nE,isNumeric:WO,numericToNumber:pl}),ike=Object.freeze({__proto__:null,parse:hl,format:L0,roundTime:Tb}),ake=Object.freeze({__proto__:null,extendShape:YF,extendPath:KF,makePath:dm,makeImage:qE,mergePath:xo,resizePath:ZE,createIcon:hm,updateProps:pn,initProps:Jn,getTransform:Vc,clipPointsByRect:HE,clipRectByRect:t7,registerShape:Go,getShapeClass:P0,Group:_t,Image:fi,Text:un,Circle:Ol,Ellipse:S0,Sector:Vi,Ring:sm,Polygon:Fi,Polyline:Ei,Rect:Zt,Line:$r,BezierCurve:lm,Arc:k0,IncrementalDisplayable:ZF,CompoundPath:A0,LinearGradient:If,RadialGradient:FE,BoundingRect:wt}),oke=Object.freeze({__proto__:null,addCommas:vM,toCamelCase:yM,normalizeCssArray:xm,encodeHTML:Ai,formatTpl:OM,getTooltipMarker:C7,formatTime:J2e,capitalFirst:ewe,truncateText:YOe,getTextRect:Y2e}),ske=Object.freeze({__proto__:null,map:ve,each:Z,indexOf:se,inherits:Ae,reduce:ze,filter:Qe,bind:Ee,curry:Ue,isArray:ke,isString:De,isObject:Ze,isFunction:Ge,extend:ee,defaults:be,clone:ne,merge:me}),lke=Kt(),ay=Kt(),Ns={estimate:1,determine:2};function m2(a){return{out:{noPxChangeTryDetermine:[]},kind:a}}function MW(a,n){var r=ve(n,function(o){return a.scale.parse(o)});return a.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function uke(a,n){var r=a.getLabelModel().get("customValues");if(r){var o=$m(a),l=a.scale.getExtent(),c=MW(a,r),f=Qe(c,function(p){return p>=l[0]&&p<=l[1]});return{labels:ve(f,function(p){var g={value:p};return{formattedLabel:o(g),rawLabel:a.scale.getLabel(g),tickValue:p,time:void 0,break:void 0}})}}return a.type==="category"?dke(a,n):hke(a)}function cke(a,n,r){var o=a.getTickModel().get("customValues");if(o){var l=a.scale.getExtent(),c=MW(a,o);return{ticks:Qe(c,function(f){return f>=l[0]&&f<=l[1]})}}return a.type==="category"?fke(a,n):{ticks:ve(a.scale.getTicks(r),function(f){return f.value})}}function dke(a,n){var r=a.getLabelModel(),o=DW(a,r,n);return!r.get("show")||a.scale.isBlank()?{labels:[]}:o}function DW(a,n,r){var o=mke(a),l=DD(n),c=r.kind===Ns.estimate;if(!c){var f=RW(o,l);if(f)return f}var p,g;Ge(l)?p=$W(a,l):(g=l==="auto"?gke(a,r):l,p=NW(a,g));var v={labels:p,labelCategoryInterval:g};return c?r.out.noPxChangeTryDetermine.push(function(){return ND(o,l,v),!0}):ND(o,l,v),v}function fke(a,n){var r=pke(a),o=DD(n),l=RW(r,o);if(l)return l;var c,f;if((!n.get("show")||a.scale.isBlank())&&(c=[]),Ge(o))c=$W(a,o,!0);else if(o==="auto"){var p=DW(a,a.getLabelModel(),m2(Ns.determine));f=p.labelCategoryInterval,c=ve(p.labels,function(g){return g.tickValue})}else f=o,c=NW(a,f,!0);return ND(r,o,{ticks:c,tickCategoryInterval:f})}function hke(a){var n=a.scale.getTicks(),r=$m(a);return{labels:ve(n,function(o,l){return{formattedLabel:r(o,l),rawLabel:a.scale.getLabel(o),tickValue:o.value,time:o.time,break:o.break}})}}var pke=IW("axisTick"),mke=IW("axisLabel");function IW(a){return function(r){return ay(r)[a]||(ay(r)[a]={list:[]})}}function RW(a,n){for(var r=0;r<a.list.length;r++)if(a.list[r].key===n)return a.list[r].value}function ND(a,n,r){return a.list.push({key:n,value:r}),r}function gke(a,n){if(n.kind===Ns.estimate){var r=a.calculateCategoryInterval(n);return n.out.noPxChangeTryDetermine.push(function(){return ay(a).autoInterval=r,!0}),r}var o=ay(a).autoInterval;return o??(ay(a).autoInterval=a.calculateCategoryInterval(n))}function vke(a,n){var r=n.kind,o=xke(a),l=$m(a),c=(o.axisRotate-o.labelRotate)/180*Math.PI,f=a.scale,p=f.getExtent(),g=f.count();if(p[1]-p[0]<1)return 0;var v=1,x=40;g>x&&(v=Math.max(1,Math.floor(g/x)));for(var O=p[0],w=a.dataToCoord(O+1)-a.dataToCoord(O),S=Math.abs(w*Math.cos(c)),k=Math.abs(w*Math.sin(c)),P=0,E=0;O<=p[1];O+=v){var M=0,R=0,N=zO(l({value:O}),o.font,"center","top");M=N.width*1.3,R=N.height*1.3,P=Math.max(P,M,7),E=Math.max(E,R,7)}var j=P/S,W=E/k;isNaN(j)&&(j=1/0),isNaN(W)&&(W=1/0);var U=Math.max(0,Math.floor(Math.min(j,W)));if(r===Ns.estimate)return n.out.noPxChangeTryDetermine.push(Ee(yke,null,a,U,g)),U;var X=LW(a,U,g);return X??U}function yke(a,n,r){return LW(a,n,r)==null}function LW(a,n,r){var o=lke(a.model),l=a.getExtent(),c=o.lastAutoInterval,f=o.lastTickCount;if(c!=null&&f!=null&&Math.abs(c-n)<=1&&Math.abs(f-r)<=1&&c>n&&o.axisExtent0===l[0]&&o.axisExtent1===l[1])return c;o.lastTickCount=r,o.lastAutoInterval=n,o.axisExtent0=l[0],o.axisExtent1=l[1]}function xke(a){var n=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function NW(a,n,r){var o=$m(a),l=a.scale,c=l.getExtent(),f=a.getLabelModel(),p=[],g=Math.max((n||0)+1,1),v=c[0],x=l.count();v!==0&&g>1&&x/g>2&&(v=Math.round(Math.ceil(v/g)*g));var O=bW(a),w=f.get("showMinLabel")||O,S=f.get("showMaxLabel")||O;w&&v!==c[0]&&P(c[0]);for(var k=v;k<=c[1];k+=g)P(k);S&&k-g!==c[1]&&P(c[1]);function P(E){var M={value:E};p.push(r?E:{formattedLabel:o(M),rawLabel:l.getLabel(M),tickValue:E,time:void 0,break:void 0})}return p}function $W(a,n,r){var o=a.scale,l=$m(a),c=[];return Z(o.getTicks(),function(f){var p=o.getLabel(f),g=f.value;n(f.value,p)&&c.push(r?g:{formattedLabel:l(f),rawLabel:p,tickValue:g,time:void 0,break:void 0})}),c}var zW=[0,1],Ho=(function(){function a(n,r,o){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=o||[0,0]}return a.prototype.contain=function(n){var r=this._extent,o=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return n>=o&&n<=l},a.prototype.containData=function(n){return this.scale.contain(this.scale.parse(n))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(n){return KP(n||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(n,r){var o=this._extent;o[0]=n,o[1]=r},a.prototype.dataToCoord=function(n,r){var o=this._extent,l=this.scale;return n=l.normalize(l.parse(n)),this.onBand&&l.type==="ordinal"&&(o=o.slice(),BW(o,l.count())),wn(n,zW,o,r)},a.prototype.coordToData=function(n,r){var o=this._extent,l=this.scale;this.onBand&&l.type==="ordinal"&&(o=o.slice(),BW(o,l.count()));var c=wn(n,o,zW,r);return this.scale.scale(c)},a.prototype.pointToData=function(n,r){},a.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),o=cke(this,r,{breakTicks:n.breakTicks,pruneByBreak:n.pruneByBreak}),l=o.ticks,c=ve(l,function(p){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(p):p),tickValue:p}},this),f=r.get("alignWithLabel");return _ke(this,c,f,n.clamp),c},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var o=this.scale.getMinorTicks(r),l=ve(o,function(c){return ve(c,function(f){return{coord:this.dataToCoord(f),tickValue:f}},this)},this);return l},a.prototype.getViewLabels=function(n){return n=n||m2(Ns.determine),uke(this,n).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),o=r[1]-r[0]+(this.onBand?1:0);o===0&&(o=1);var l=Math.abs(n[1]-n[0]);return Math.abs(l)/o},a.prototype.calculateCategoryInterval=function(n){return n=n||m2(Ns.determine),vke(this,n)},a})();function BW(a,n){var r=a[1]-a[0],o=n,l=r/o/2;a[0]+=l,a[1]-=l}function _ke(a,n,r,o){var l=n.length;if(!a.onBand||r||!l)return;var c=a.getExtent(),f,p;if(l===1)n[0].coord=c[0],n[0].onBand=!0,f=n[1]={coord:c[1],tickValue:n[0].tickValue,onBand:!0};else{var g=n[l-1].tickValue-n[0].tickValue,v=(n[l-1].coord-n[0].coord)/g;Z(n,function(S){S.coord-=v/2,S.onBand=!0});var x=a.scale.getExtent();p=1+x[1]-n[l-1].tickValue,f={coord:n[l-1].coord+v*p,tickValue:x[1]+1,onBand:!0},n.push(f)}var O=c[0]>c[1];w(n[0].coord,c[0])&&(o?n[0].coord=c[0]:n.shift()),o&&w(c[0],n[0].coord)&&n.unshift({coord:c[0],onBand:!0}),w(c[1],f.coord)&&(o?f.coord=c[1]:n.pop()),o&&w(f.coord,c[1])&&n.push({coord:c[1],onBand:!0});function w(S,k){return S=Lr(S),k=Lr(k),O?S>k:S<k}}function Oke(a){var n=Ht.extend(a);return Ht.registerClass(n),n}function bke(a){var n=Gn.extend(a);return Gn.registerClass(n),n}function wke(a){var n=Bn.extend(a);return Bn.registerClass(n),n}function Ske(a){var n=Dn.extend(a);return Dn.registerClass(n),n}var oy=Math.PI*2,ih=xl.CMD,Tke=["top","right","bottom","left"];function Cke(a,n,r,o,l){var c=r.width,f=r.height;switch(a){case"top":o.set(r.x+c/2,r.y-n),l.set(0,-1);break;case"bottom":o.set(r.x+c/2,r.y+f+n),l.set(0,1);break;case"left":o.set(r.x-n,r.y+f/2),l.set(-1,0);break;case"right":o.set(r.x+c+n,r.y+f/2),l.set(1,0);break}}function kke(a,n,r,o,l,c,f,p,g){f-=a,p-=n;var v=Math.sqrt(f*f+p*p);f/=v,p/=v;var x=f*r+a,O=p*r+n;if(Math.abs(o-l)%oy<1e-4)return g[0]=x,g[1]=O,v-r;if(c){var w=o;o=vo(l),l=vo(w)}else o=vo(o),l=vo(l);o>l&&(l+=oy);var S=Math.atan2(p,f);if(S<0&&(S+=oy),S>=o&&S<=l||S+oy>=o&&S+oy<=l)return g[0]=x,g[1]=O,v-r;var k=r*Math.cos(o)+a,P=r*Math.sin(o)+n,E=r*Math.cos(l)+a,M=r*Math.sin(l)+n,R=(k-f)*(k-f)+(P-p)*(P-p),N=(E-f)*(E-f)+(M-p)*(M-p);return R<N?(g[0]=k,g[1]=P,Math.sqrt(R)):(g[0]=E,g[1]=M,Math.sqrt(N))}function g2(a,n,r,o,l,c,f,p){var g=l-a,v=c-n,x=r-a,O=o-n,w=Math.sqrt(x*x+O*O);x/=w,O/=w;var S=g*x+v*O,k=S/w;p&&(k=Math.min(Math.max(k,0),1)),k*=w;var P=f[0]=a+k*x,E=f[1]=n+k*O;return Math.sqrt((P-l)*(P-l)+(E-c)*(E-c))}function QW(a,n,r,o,l,c,f){r<0&&(a=a+r,r=-r),o<0&&(n=n+o,o=-o);var p=a+r,g=n+o,v=f[0]=Math.min(Math.max(l,a),p),x=f[1]=Math.min(Math.max(c,n),g);return Math.sqrt((v-l)*(v-l)+(x-c)*(x-c))}var $s=[];function Ake(a,n,r){var o=QW(n.x,n.y,n.width,n.height,a.x,a.y,$s);return r.set($s[0],$s[1]),o}function Pke(a,n,r){for(var o=0,l=0,c=0,f=0,p,g,v=1/0,x=n.data,O=a.x,w=a.y,S=0;S<x.length;){var k=x[S++];S===1&&(o=x[S],l=x[S+1],c=o,f=l);var P=v;switch(k){case ih.M:c=x[S++],f=x[S++],o=c,l=f;break;case ih.L:P=g2(o,l,x[S],x[S+1],O,w,$s,!0),o=x[S++],l=x[S++];break;case ih.C:P=VV(o,l,x[S++],x[S++],x[S++],x[S++],x[S],x[S+1],O,w,$s),o=x[S++],l=x[S++];break;case ih.Q:P=GV(o,l,x[S++],x[S++],x[S],x[S+1],O,w,$s),o=x[S++],l=x[S++];break;case ih.A:var E=x[S++],M=x[S++],R=x[S++],N=x[S++],j=x[S++],W=x[S++];S+=1;var U=!!(1-x[S++]);p=Math.cos(j)*R+E,g=Math.sin(j)*N+M,S<=1&&(c=p,f=g);var X=(O-E)*N/R+E;P=kke(E,M,N,j,j+W,U,X,w,$s),o=Math.cos(j+W)*R+E,l=Math.sin(j+W)*N+M;break;case ih.R:c=o=x[S++],f=l=x[S++];var J=x[S++],re=x[S++];P=QW(c,f,J,re,O,w,$s);break;case ih.Z:P=g2(o,l,c,f,O,w,$s,!0),o=c,l=f;break}P<v&&(v=P,r.set($s[0],$s[1]))}return v}var zs=new bt,er=new bt,Qr=new bt,kl=new bt,Al=new bt;function jW(a,n){if(a){var r=a.getTextGuideLine(),o=a.getTextContent();if(o&&r){var l=a.textGuideLineConfig||{},c=[[0,0],[0,0],[0,0]],f=l.candidates||Tke,p=o.getBoundingRect().clone();p.applyTransform(o.getComputedTransform());var g=1/0,v=l.anchor,x=a.getComputedTransform(),O=x&&za([],x),w=n.get("length2")||0;v&&Qr.copy(v);for(var S=0;S<f.length;S++){var k=f[S];Cke(k,0,p,zs,kl),bt.scaleAndAdd(er,zs,kl,w),er.transform(O);var P=a.getBoundingRect(),E=v?v.distance(er):a instanceof Jt?Pke(er,a.path,Qr):Ake(er,P,Qr);E<g&&(g=E,er.transform(x),Qr.transform(x),Qr.toArray(c[0]),er.toArray(c[1]),zs.toArray(c[2]))}VW(c,n.get("minTurnAngle")),r.setShape({points:c})}}}var v2=[],_a=new bt;function VW(a,n){if(n<=180&&n>0){n=n/180*Math.PI,zs.fromArray(a[0]),er.fromArray(a[1]),Qr.fromArray(a[2]),bt.sub(kl,zs,er),bt.sub(Al,Qr,er);var r=kl.len(),o=Al.len();if(!(r<.001||o<.001)){kl.scale(1/r),Al.scale(1/o);var l=kl.dot(Al),c=Math.cos(n);if(c<l){var f=g2(er.x,er.y,Qr.x,Qr.y,zs.x,zs.y,v2,!1);_a.fromArray(v2),_a.scaleAndAdd(Al,f/Math.tan(Math.PI-n));var p=Qr.x!==er.x?(_a.x-er.x)/(Qr.x-er.x):(_a.y-er.y)/(Qr.y-er.y);if(isNaN(p))return;p<0?bt.copy(_a,er):p>1&&bt.copy(_a,Qr),_a.toArray(a[1])}}}}function Eke(a,n,r){if(r<=180&&r>0){r=r/180*Math.PI,zs.fromArray(a[0]),er.fromArray(a[1]),Qr.fromArray(a[2]),bt.sub(kl,er,zs),bt.sub(Al,Qr,er);var o=kl.len(),l=Al.len();if(!(o<.001||l<.001)){kl.scale(1/o),Al.scale(1/l);var c=kl.dot(n),f=Math.cos(r);if(c<f){var p=g2(er.x,er.y,Qr.x,Qr.y,zs.x,zs.y,v2,!1);_a.fromArray(v2);var g=Math.PI/2,v=Math.acos(Al.dot(n)),x=g+v-r;if(x>=g)bt.copy(_a,Qr);else{_a.scaleAndAdd(Al,p/Math.tan(Math.PI/2-x));var O=Qr.x!==er.x?(_a.x-er.x)/(Qr.x-er.x):(_a.y-er.y)/(Qr.y-er.y);if(isNaN(O))return;O<0?bt.copy(_a,er):O>1&&bt.copy(_a,Qr)}_a.toArray(a[1])}}}}function $D(a,n,r,o){var l=r==="normal",c=l?a:a.ensureState(r);c.ignore=n;var f=o.get("smooth");f&&f===!0&&(f=.3),c.shape=c.shape||{},f>0&&(c.shape.smooth=f);var p=o.getModel("lineStyle").getLineStyle();l?a.useStyle(p):c.style=p}function Mke(a,n){var r=n.smooth,o=n.points;if(o)if(a.moveTo(o[0][0],o[0][1]),r>0&&o.length>=3){var l=_s(o[0],o[1]),c=_s(o[1],o[2]);if(!l||!c){a.lineTo(o[1][0],o[1][1]),a.lineTo(o[2][0],o[2][1]);return}var f=Math.min(l,c)*r,p=xu([],o[1],o[0],f/l),g=xu([],o[1],o[2],f/c),v=xu([],p,g,.5);a.bezierCurveTo(p[0],p[1],p[0],p[1],v[0],v[1]),a.bezierCurveTo(g[0],g[1],g[0],g[1],o[2][0],o[2][1])}else for(var x=1;x<o.length;x++)a.lineTo(o[x][0],o[x][1])}function zD(a,n,r){var o=a.getTextGuideLine(),l=a.getTextContent();if(!l){o&&a.removeTextGuideLine();return}for(var c=n.normal,f=c.get("show"),p=l.ignore,g=0;g<b0.length;g++){var v=b0[g],x=n[v],O=v==="normal";if(x){var w=x.get("show"),S=O?p:$e(l.states[v]&&l.states[v].ignore,p);if(S||!$e(w,f)){var k=O?o:o&&o.states[v];k&&(k.ignore=!0),o&&$D(o,!0,v,x);continue}o||(o=new Ei,a.setTextGuideLine(o),!O&&(p||!f)&&$D(o,!0,"normal",n.normal),a.stateProxy&&(o.stateProxy=a.stateProxy)),$D(o,!1,v,x)}}if(o){be(o.style,r),o.style.fill=null;var P=c.get("showAbove"),E=a.textGuideLineConfig=a.textGuideLineConfig||{};E.showAbove=P||!1,o.buildPath=Mke}}function BD(a,n){n=n||"labelLine";for(var r={normal:a.getModel(n)},o=0;o<ya.length;o++){var l=ya[o];r[l]=a.getModel([l,n])}return r}var FW=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],Dke=1,y2=2,GW=Dke|y2;function x2(a,n,r){r=r||GW,n?a.dirty|=r:a.dirty&=~r}function WW(a,n){return n=n||GW,a.dirty==null||!!(a.dirty&n)}function Pl(a){if(a)return WW(a)&&UW(a,a.label,a),a}function UW(a,n,r){var o=n.getComputedTransform();a.transform=JE(a.transform,o);var l=a.localRect=D0(a.localRect,n.getBoundingRect()),c=n.style,f=c.margin,p=r&&r.marginForce,g=r&&r.minMarginForce,v=r&&r.marginDefault,x=c.__marginType;x==null&&v&&(f=v,x=mm.textMargin);for(var O=0;O<4;O++)QD[O]=x===mm.minMargin&&g&&g[O]!=null?g[O]:p&&p[O]!=null?p[O]:f?f[O]:0;x===mm.textMargin&&Nf(l,QD,!1,!1);var w=a.rect=D0(a.rect,l);return o&&w.applyTransform(o),x===mm.minMargin&&Nf(w,QD,!1,!1),a.axisAligned=KE(o),(a.label=a.label||{}).ignore=n.ignore,x2(a,!1),x2(a,!0,y2),a}var QD=[0,0,0,0];function Ike(a,n,r){return a.transform=JE(a.transform,r),a.localRect=D0(a.localRect,n),a.rect=D0(a.rect,n),r&&a.rect.applyTransform(r),a.axisAligned=KE(r),a.obb=void 0,(a.label=a.label||{}).ignore=!1,a}function jD(a,n){if(a){a.label.x+=n.x,a.label.y+=n.y,a.label.markRedraw();var r=a.transform;r&&(r[4]+=n.x,r[5]+=n.y);var o=a.rect;o&&(o.x+=n.x,o.y+=n.y);var l=a.obb;l&&l.fromBoundingRect(a.localRect,r)}}function VD(a,n){for(var r=0;r<FW.length;r++){var o=FW[r];a[o]==null&&(a[o]=n[o])}return Pl(a)}function qW(a){var n=a.obb;return(!n||WW(a,y2))&&(a.obb=n=n||new qF,n.fromBoundingRect(a.localRect,a.transform),x2(a,!1,y2)),n}function FD(a,n,r,o,l){var c=a.length,f=Bt[n],p=Gr[n];if(c<2)return!1;a.sort(function(X,J){return X.rect[f]-J.rect[f]});for(var g=0,v,x=!1,O=0;O<c;O++){var w=a[O],S=w.rect;v=S[f]-g,v<0&&(S[f]-=v,w.label[f]-=v,x=!0),g=S[f]+S[p]}var k=a[0],P=a[c-1],E,M;R(),E<0&&W(-E,.8),M<0&&W(M,.8),R(),N(E,M,1),N(M,E,-1),R(),E<0&&U(-E),M<0&&U(M);function R(){E=k.rect[f]-r,M=o-P.rect[f]-P.rect[p]}function N(X,J,re){if(X<0){var ie=Math.min(J,-X);if(ie>0){j(ie*re,0,c);var le=ie+X;le<0&&W(-le*re,1)}else W(-X*re,1)}}function j(X,J,re){X!==0&&(x=!0);for(var ie=J;ie<re;ie++){var le=a[ie],pe=le.rect;pe[f]+=X,le.label[f]+=X}}function W(X,J){for(var re=[],ie=0,le=1;le<c;le++){var pe=a[le-1].rect,ce=Math.max(a[le].rect[f]-pe[f]-pe[p],0);re.push(ce),ie+=ce}if(ie){var ye=Math.min(Math.abs(X)/ie,J);if(X>0)for(var le=0;le<c-1;le++){var Oe=re[le]*ye;j(Oe,0,le+1)}else for(var le=c-1;le>0;le--){var Oe=re[le-1]*ye;j(-Oe,le,c)}}}function U(X){var J=X<0?-1:1;X=Math.abs(X);for(var re=Math.ceil(X/(c-1)),ie=0;ie<c-1;ie++)if(J>0?j(re,0,ie+1):j(-re,c-ie-1,c),X-=re,X<=0)return}return x}function Rke(a){for(var n=0;n<a.length;n++){var r=a[n],o=r.defaultAttr,l=r.labelLine;r.label.attr("ignore",o.ignore),l&&l.attr("ignore",o.labelGuideIgnore)}}function ZW(a){var n=[];a.sort(function(v,x){return(x.suggestIgnore?1:0)-(v.suggestIgnore?1:0)||x.priority-v.priority});function r(v){if(!v.ignore){var x=v.ensureState("emphasis");x.ignore==null&&(x.ignore=!1)}v.ignore=!0}for(var o=0;o<a.length;o++){var l=Pl(a[o]);if(!l.label.ignore){for(var c=l.label,f=l.labelLine,p=!1,g=0;g<n.length;g++)if(_2(l,n[g],null,{touchThreshold:.05})){p=!0;break}p?(r(c),f&&r(f)):n.push(l)}}}function _2(a,n,r,o){return!a||!n||a.label&&a.label.ignore||n.label&&n.label.ignore||!a.rect.intersect(n.rect,r,o)?!1:a.axisAligned&&n.axisAligned?!0:qW(a).intersect(qW(n),r,o)}function Lke(a){if(a){for(var n=[],r=0;r<a.length;r++)n.push(a[r].slice());return n}}function Nke(a,n){var r=a.label,o=n&&n.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:Lke(o&&o.shape.points)}}var HW=["align","verticalAlign","width","height","fontSize"],Oa=new Cu,GD=Kt(),$ke=Kt();function O2(a,n,r){for(var o=0;o<r.length;o++){var l=r[o];n[l]!=null&&(a[l]=n[l])}}var b2=["x","y","rotation"],zke=(function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(n,r,o,l,c){var f=l.style,p=l.__hostTarget,g=p.textConfig||{},v=l.getComputedTransform(),x=l.getBoundingRect().plain();wt.applyTransform(x,x,v),v?Oa.setLocalTransform(v):(Oa.x=Oa.y=Oa.rotation=Oa.originX=Oa.originY=0,Oa.scaleX=Oa.scaleY=1),Oa.rotation=vo(Oa.rotation);var O=l.__hostTarget,w;if(O){w=O.getBoundingRect().plain();var S=O.getComputedTransform();wt.applyTransform(w,w,S)}var k=w&&O.getTextGuideLine();this._labelList.push({label:l,labelLine:k,seriesModel:o,dataIndex:n,dataType:r,layoutOptionOrCb:c,layoutOption:null,rect:x,hostRect:w,priority:w?w.width*w.height:0,defaultAttr:{ignore:l.ignore,labelGuideIgnore:k&&k.ignore,x:Oa.x,y:Oa.y,scaleX:Oa.scaleX,scaleY:Oa.scaleY,rotation:Oa.rotation,style:{x:f.x,y:f.y,align:f.align,verticalAlign:f.verticalAlign,width:f.width,height:f.height,fontSize:f.fontSize},cursor:l.cursor,attachedPos:g.position,attachedRot:g.rotation}})},a.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var o=n.__model,l=o.get("labelLayout");(Ge(l)||He(l).length)&&n.group.traverse(function(c){if(c.ignore)return!0;var f=c.getTextContent(),p=Et(c);f&&!f.disableLabelLayout&&r._addLabel(p.dataIndex,p.dataType,o,f,l)})},a.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),o=n.getHeight();function l(N,j){return function(){jW(N,j)}}for(var c=0;c<this._labelList.length;c++){var f=this._labelList[c],p=f.label,g=p.__hostTarget,v=f.defaultAttr,x=void 0;Ge(f.layoutOptionOrCb)?x=f.layoutOptionOrCb(Nke(f,g)):x=f.layoutOptionOrCb,x=x||{},f.layoutOption=x;var O=Math.PI/180;g&&g.setTextConfig({local:!1,position:x.x!=null||x.y!=null?null:v.attachedPos,rotation:x.rotate!=null?x.rotate*O:v.attachedRot,offset:[x.dx||0,x.dy||0]});var w=!1;if(x.x!=null?(p.x=it(x.x,r),p.setStyle("x",0),w=!0):(p.x=v.x,p.setStyle("x",v.style.x)),x.y!=null?(p.y=it(x.y,o),p.setStyle("y",0),w=!0):(p.y=v.y,p.setStyle("y",v.style.y)),x.labelLinePoints){var S=g.getTextGuideLine();S&&(S.setShape({points:x.labelLinePoints}),w=!1)}var k=GD(p);k.needsUpdateLabelLine=w,p.rotation=x.rotate!=null?x.rotate*O:v.rotation,p.scaleX=v.scaleX,p.scaleY=v.scaleY;for(var P=0;P<HW.length;P++){var E=HW[P];p.setStyle(E,x[E]!=null?x[E]:v.style[E])}if(x.draggable){if(p.draggable=!0,p.cursor="move",g){var M=f.seriesModel;if(f.dataIndex!=null){var R=f.seriesModel.getData(f.dataType);M=R.getItemModel(f.dataIndex)}p.on("drag",l(g,M.getModel("labelLine")))}}else p.off("drag"),p.cursor=v.cursor}},a.prototype.layout=function(n){var r=n.getWidth(),o=n.getHeight(),l=[];Z(this._labelList,function(g){g.defaultAttr.ignore||l.push(VD({},g))});var c=Qe(l,function(g){return g.layoutOption.moveOverlap==="shiftX"}),f=Qe(l,function(g){return g.layoutOption.moveOverlap==="shiftY"});FD(c,0,0,r),FD(f,1,0,o);var p=Qe(l,function(g){return g.layoutOption.hideOverlap});Rke(p),ZW(p)},a.prototype.processLabelsOverall=function(){var n=this;Z(this._chartViewList,function(r){var o=r.__model,l=r.ignoreLabelLineUpdate,c=o.isAnimationEnabled();r.group.traverse(function(f){if(f.ignore&&!f.forceLabelAnimation)return!0;var p=!l,g=f.getTextContent();!p&&g&&(p=GD(g).needsUpdateLabelLine),p&&n._updateLabelLine(f,o),c&&n._animateLabels(f,o)})})},a.prototype._updateLabelLine=function(n,r){var o=n.getTextContent(),l=Et(n),c=l.dataIndex;if(o&&c!=null){var f=r.getData(l.dataType),p=f.getItemModel(c),g={},v=f.getItemVisual(c,"style");if(v){var x=f.getVisual("drawType");g.stroke=v[x]}var O=p.getModel("labelLine");zD(n,BD(p),g),jW(n,O)}},a.prototype._animateLabels=function(n,r){var o=n.getTextContent(),l=n.getTextGuideLine();if(o&&(n.forceLabelAnimation||!o.ignore&&!o.invisible&&!n.disableLabelAnimation&&!cm(n))){var c=GD(o),f=c.oldLayout,p=Et(n),g=p.dataIndex,v={x:o.x,y:o.y,rotation:o.rotation},x=r.getData(p.dataType);if(f){o.attr(f);var w=n.prevStates;w&&(se(w,"select")>=0&&o.attr(c.oldLayoutSelect),se(w,"emphasis")>=0&&o.attr(c.oldLayoutEmphasis)),pn(o,v,r,g)}else if(o.attr(v),!pm(o).valueAnimation){var O=$e(o.style.opacity,1);o.style.opacity=0,Jn(o,{style:{opacity:O}},r,g)}if(c.oldLayout=v,o.states.select){var S=c.oldLayoutSelect={};O2(S,v,b2),O2(S,o.states.select,b2)}if(o.states.emphasis){var k=c.oldLayoutEmphasis={};O2(k,v,b2),O2(k,o.states.emphasis,b2)}f7(o,g,x,r,r)}if(l&&!l.ignore&&!l.invisible){var c=$ke(l),f=c.oldLayout,P={points:l.shape.points};f?(l.attr({shape:f}),pn(l,{shape:P},r)):(l.setShape(P),l.style.strokePercent=0,Jn(l,{style:{strokePercent:1}},r)),c.oldLayout=P}},a})(),WD=Kt();function Bke(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,r,o){var l=WD(r).labelManager;l||(l=WD(r).labelManager=new zke),l.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(n,r,o){var l=WD(r).labelManager;o.updatedSeries.forEach(function(c){l.addLabelsOfSeries(r.getViewOfSeriesModel(c))}),l.updateLayoutConfig(r),l.layout(r),l.processLabelsOverall()})}var UD=Math.sin,qD=Math.cos,XW=Math.PI,ah=Math.PI*2,Qke=180/XW,YW=(function(){function a(){}return a.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},a.prototype.moveTo=function(n,r){this._add("M",n,r)},a.prototype.lineTo=function(n,r){this._add("L",n,r)},a.prototype.bezierCurveTo=function(n,r,o,l,c,f){this._add("C",n,r,o,l,c,f)},a.prototype.quadraticCurveTo=function(n,r,o,l){this._add("Q",n,r,o,l)},a.prototype.arc=function(n,r,o,l,c,f){this.ellipse(n,r,o,o,0,l,c,f)},a.prototype.ellipse=function(n,r,o,l,c,f,p,g){var v=p-f,x=!g,O=Math.abs(v),w=Ic(O-ah)||(x?v>=ah:-v>=ah),S=v>0?v%ah:v%ah+ah,k=!1;w?k=!0:Ic(O)?k=!1:k=S>=XW==!!x;var P=n+o*qD(f),E=r+l*UD(f);this._start&&this._add("M",P,E);var M=Math.round(c*Qke);if(w){var R=1/this._p,N=(x?1:-1)*(ah-R);this._add("A",o,l,M,1,+x,n+o*qD(f+N),r+l*UD(f+N)),R>.01&&this._add("A",o,l,M,0,+x,P,E)}else{var j=n+o*qD(p),W=r+l*UD(p);this._add("A",o,l,M,+k,+x,j,W)}},a.prototype.rect=function(n,r,o,l){this._add("M",n,r),this._add("l",o,0),this._add("l",0,l),this._add("l",-o,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(n,r,o,l,c,f,p,g,v){for(var x=[],O=this._p,w=1;w<arguments.length;w++){var S=arguments[w];if(isNaN(S)){this._invalid=!0;return}x.push(Math.round(S*O)/O)}this._d.push(n+x.join(" ")),this._start=n==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a})(),ZD="none",jke=Math.round;function Vke(a){var n=a.fill;return n!=null&&n!==ZD}function Fke(a){var n=a.stroke;return n!=null&&n!==ZD}var HD=["lineCap","miterLimit","lineJoin"],Gke=ve(HD,function(a){return"stroke-"+a.toLowerCase()});function Wke(a,n,r,o){var l=n.opacity==null?1:n.opacity;if(r instanceof fi){a("opacity",l);return}if(Vke(n)){var c=d0(n.fill);a("fill",c.color);var f=n.fillOpacity!=null?n.fillOpacity*c.opacity*l:c.opacity*l;f<1&&a("fill-opacity",f)}else a("fill",ZD);if(Fke(n)){var p=d0(n.stroke);a("stroke",p.color);var g=n.strokeNoScale?r.getLineScale():1,v=g?(n.lineWidth||0)/g:0,x=n.strokeOpacity!=null?n.strokeOpacity*p.opacity*l:p.opacity*l,O=n.strokeFirst;if(v!==1&&a("stroke-width",v),O&&a("paint-order",O?"stroke":"fill"),x<1&&a("stroke-opacity",x),n.lineDash){var w=XM(r),S=w[0],k=w[1];S&&(k=jke(k||0),a("stroke-dasharray",S.join(",")),(k||o)&&a("stroke-dashoffset",k))}for(var P=0;P<HD.length;P++){var E=HD[P];if(n[E]!==tb[E]){var M=n[E]||tb[E];M&&a(Gke[P],M)}}}}var KW="http://www.w3.org/2000/svg",JW="http://www.w3.org/1999/xlink",Uke="http://www.w3.org/2000/xmlns/",qke="http://www.w3.org/XML/1998/namespace",e9="ecmeta_";function t9(a){return document.createElementNS(KW,a)}function pi(a,n,r,o,l){return{tag:a,attrs:r||{},children:o,text:l,key:n}}function Zke(a,n){var r=[];if(n)for(var o in n){var l=n[o],c=o;l!==!1&&(l!==!0&&l!=null&&(c+='="'+l+'"'),r.push(c))}return"<"+a+" "+r.join(" ")+">"}function Hke(a){return"</"+a+">"}function XD(a,n){n=n||{};var r=n.newline?`
`:"";function o(l){var c=l.children,f=l.tag,p=l.attrs,g=l.text;return Zke(f,p)+(f!=="style"?Ai(g):g||"")+(c?""+r+ve(c,function(v){return o(v)}).join(r)+r:"")+Hke(f)}return o(a)}function Xke(a,n,r){r=r||{};var o=r.newline?`
`:"",l=" {"+o,c=o+"}",f=ve(He(a),function(g){return g+l+ve(He(a[g]),function(v){return v+":"+a[g][v]+";"}).join(o)+c}).join(o),p=ve(He(n),function(g){return"@keyframes "+g+l+ve(He(n[g]),function(v){return v+l+ve(He(n[g][v]),function(x){var O=n[g][v][x];return x==="d"&&(O='path("'+O+'")'),x+":"+O+";"}).join(o)+c}).join(o)+c}).join(o);return!f&&!p?"":["<![CDATA[",f,p,"]]>"].join(o)}function YD(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function n9(a,n,r,o){return pi("svg","root",{width:a,height:n,xmlns:KW,"xmlns:xlink":JW,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+a+" "+n:!1},r)}var Yke=0;function r9(){return Yke++}var i9={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},oh="transform-origin";function Kke(a,n,r){var o=ee({},a.shape);ee(o,n),a.buildPath(r,o);var l=new YW;return l.reset(e8(a)),r.rebuildPath(l,1),l.generateStr(),l.getStr()}function Jke(a,n){var r=n.originX,o=n.originY;(r||o)&&(a[oh]=r+"px "+o+"px")}var eAe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function a9(a,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=a,r}function tAe(a,n,r){var o=a.shape.paths,l={},c,f;if(Z(o,function(g){var v=YD(r.zrId);v.animation=!0,w2(g,{},v,!0);var x=v.cssAnims,O=v.cssNodes,w=He(x),S=w.length;if(S){f=w[S-1];var k=x[f];for(var P in k){var E=k[P];l[P]=l[P]||{d:""},l[P].d+=E.d||""}for(var M in O){var R=O[M].animation;R.indexOf(f)>=0&&(c=R)}}}),!!c){n.d=!1;var p=a9(l,r);return c.replace(f,p)}}function o9(a){return De(a)?i9[a]?"cubic-bezier("+i9[a]+")":bP(a)?a:"":""}function w2(a,n,r,o){var l=a.animators,c=l.length,f=[];if(a instanceof A0){var p=tAe(a,n,r);if(p)f.push(p);else if(!c)return}else if(!c)return;for(var g={},v=0;v<c;v++){var x=l[v],O=[x.getMaxTime()/1e3+"s"],w=o9(x.getClip().easing),S=x.getDelay();w?O.push(w):O.push("linear"),S&&O.push(S/1e3+"s"),x.getLoop()&&O.push("infinite");var k=O.join(" ");g[k]=g[k]||[k,[]],g[k][1].push(x)}function P(R){var N=R[1],j=N.length,W={},U={},X={},J="animation-timing-function";function re(Dt,Ot,Ft){for(var pt=Dt.getTracks(),Rt=Dt.getMaxTime(),Wn=0;Wn<pt.length;Wn++){var mn=pt[Wn];if(mn.needsAnimate()){var In=mn.keyframes,Un=mn.propName;if(Ft&&(Un=Ft(Un)),Un)for(var gi=0;gi<In.length;gi++){var So=In[gi],Wa=Math.round(So.time/Rt*100)+"%",Sh=o9(So.easing),fg=So.rawValue;(De(fg)||dt(fg))&&(Ot[Wa]=Ot[Wa]||{},Ot[Wa][Un]=So.rawValue,Sh&&(Ot[Wa][J]=Sh))}}}}for(var ie=0;ie<j;ie++){var le=N[ie],pe=le.targetName;pe?pe==="shape"&&re(le,U):!o&&re(le,W)}for(var ce in W){var ye={};NO(ye,a),ee(ye,W[ce]);var Oe=t8(ye),_e=W[ce][J];X[ce]=Oe?{transform:Oe}:{},Jke(X[ce],ye),_e&&(X[ce][J]=_e)}var Pe,Se=!0;for(var ce in U){X[ce]=X[ce]||{};var Re=!Pe,_e=U[ce][J];Re&&(Pe=new xl);var Ne=Pe.len();Pe.reset(),X[ce].d=Kke(a,U[ce],Pe);var Be=Pe.len();if(!Re&&Ne!==Be){Se=!1;break}_e&&(X[ce][J]=_e)}if(!Se)for(var ce in X)delete X[ce].d;if(!o)for(var ie=0;ie<j;ie++){var le=N[ie],pe=le.targetName;pe==="style"&&re(le,X,function(pt){return eAe[pt]})}for(var Fe=He(X),rt=!0,ht,ie=1;ie<Fe.length;ie++){var Mt=Fe[ie-1],vn=Fe[ie];if(X[Mt][oh]!==X[vn][oh]){rt=!1;break}ht=X[Mt][oh]}if(rt&&ht){for(var ce in X)X[ce][oh]&&delete X[ce][oh];n[oh]=ht}if(Qe(Fe,function(Dt){return He(X[Dt]).length>0}).length){var Rn=a9(X,r);return Rn+" "+R[0]+" both"}}for(var E in g){var p=P(g[E]);p&&f.push(p)}if(f.length){var M=r.zrId+"-cls-"+r9();r.cssNodes["."+M]={animation:f.join(",")},n.class=M}}function nAe(a,n,r){if(!a.ignore)if(a.isSilent()){var o={"pointer-events":"none"};s9(o,n,r)}else{var l=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},c=l.fill;if(!c){var f=a.style&&a.style.fill,p=a.states.select&&a.states.select.style&&a.states.select.style.fill,g=a.currentStates.indexOf("select")>=0&&p||f;g&&(c=TO(g))}var v=l.lineWidth;if(v){var x=!l.strokeNoScale&&a.transform?a.transform[0]:1;v=v/x}var o={cursor:"pointer"};c&&(o.fill=c),l.stroke&&(o.stroke=l.stroke),v&&(o["stroke-width"]=v),s9(o,n,r)}}function s9(a,n,r,o){var l=JSON.stringify(a),c=r.cssStyleCache[l];c||(c=r.zrId+"-cls-"+r9(),r.cssStyleCache[l]=c,r.cssNodes["."+c+":hover"]=a),n.class=n.class?n.class+" "+c:c}var sy=Math.round;function l9(a){return a&&De(a.src)}function u9(a){return a&&Ge(a.toDataURL)}function KD(a,n,r,o){Wke(function(l,c){var f=l==="fill"||l==="stroke";f&&JV(c)?m9(n,a,l,o):f&&AP(c)?g9(r,a,l,o):a[l]=c,f&&o.ssr&&c==="none"&&(a["pointer-events"]="visible")},n,r,!1),uAe(r,a,o)}function JD(a,n){var r=y8(n);r&&(r.each(function(o,l){o!=null&&(a[(e9+l).toLowerCase()]=o+"")}),n.isSilent()&&(a[e9+"silent"]="true"))}function c9(a){return Ic(a[0]-1)&&Ic(a[1])&&Ic(a[2])&&Ic(a[3]-1)}function rAe(a){return Ic(a[4])&&Ic(a[5])}function eI(a,n,r){if(n&&!(rAe(n)&&c9(n))){var o=1e4;a.transform=c9(n)?"translate("+sy(n[4]*o)/o+" "+sy(n[5]*o)/o+")":L_e(n)}}function d9(a,n,r){for(var o=a.points,l=[],c=0;c<o.length;c++)l.push(sy(o[c][0]*r)/r),l.push(sy(o[c][1]*r)/r);n.points=l.join(" ")}function f9(a){return!a.smooth}function iAe(a){var n=ve(a,function(r){return typeof r=="string"?[r,r]:r});return function(r,o,l){for(var c=0;c<n.length;c++){var f=n[c],p=r[f[0]];p!=null&&(o[f[1]]=sy(p*l)/l)}}}var aAe={circle:[iAe(["cx","cy","r"])],polyline:[d9,f9],polygon:[d9,f9]};function oAe(a){for(var n=a.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function h9(a,n){var r=a.style,o=a.shape,l=aAe[a.type],c={},f=n.animation,p="path",g=a.style.strokePercent,v=n.compress&&e8(a)||4;if(l&&!n.willUpdate&&!(l[1]&&!l[1](o))&&!(f&&oAe(a))&&!(g<1)){p=a.type;var x=Math.pow(10,v);l[0](o,c,x)}else{var O=!a.path||a.shapeChanged();a.path||a.createPathProxy();var w=a.path;O&&(w.beginPath(),a.buildPath(w,a.shape),a.pathUpdated());var S=w.getVersion(),k=a,P=k.__svgPathBuilder;(k.__svgPathVersion!==S||!P||g!==k.__svgPathStrokePercent)&&(P||(P=k.__svgPathBuilder=new YW),P.reset(v),w.rebuildPath(P,g),P.generateStr(),k.__svgPathVersion=S,k.__svgPathStrokePercent=g),c.d=P.getStr()}return eI(c,a.transform),KD(c,r,a,n),JD(c,a),n.animation&&w2(a,c,n),n.emphasis&&nAe(a,c,n),pi(p,a.id+"",c)}function sAe(a,n){var r=a.style,o=r.image;if(o&&!De(o)&&(l9(o)?o=o.src:u9(o)&&(o=o.toDataURL())),!!o){var l=r.x||0,c=r.y||0,f=r.width,p=r.height,g={href:o,width:f,height:p};return l&&(g.x=l),c&&(g.y=c),eI(g,a.transform),KD(g,r,a,n),JD(g,a),n.animation&&w2(a,g,n),pi("image",a.id+"",g)}}function lAe(a,n){var r=a.style,o=r.text;if(o!=null&&(o+=""),!(!o||isNaN(r.x)||isNaN(r.y))){var l=r.font||T,c=r.x||0,f=$_e(r.y||0,m0(l),r.textBaseline),p=N_e[r.textAlign]||r.textAlign,g={"dominant-baseline":"central","text-anchor":p};if(cF(r)){var v="",x=r.fontStyle,O=lF(r.fontSize);if(!parseFloat(O))return;var w=r.fontFamily||b,S=r.fontWeight;v+="font-size:"+O+";font-family:"+w+";",x&&x!=="normal"&&(v+="font-style:"+x+";"),S&&S!=="normal"&&(v+="font-weight:"+S+";"),g.style=v}else g.style="font: "+l;return o.match(/\s/)&&(g["xml:space"]="preserve"),c&&(g.x=c),f&&(g.y=f),eI(g,a.transform),KD(g,r,a,n),JD(g,a),n.animation&&w2(a,g,n),pi("text",a.id+"",g,void 0,o)}}function p9(a,n){if(a instanceof Jt)return h9(a,n);if(a instanceof fi)return sAe(a,n);if(a instanceof tm)return lAe(a,n)}function uAe(a,n,r){var o=a.style;if(z_e(o)){var l=B_e(a),c=r.shadowCache,f=c[l];if(!f){var p=a.getGlobalScale(),g=p[0],v=p[1];if(!g||!v)return;var x=o.shadowOffsetX||0,O=o.shadowOffsetY||0,w=o.shadowBlur,S=d0(o.shadowColor),k=S.opacity,P=S.color,E=w/2/g,M=w/2/v,R=E+" "+M;f=r.zrId+"-s"+r.shadowIdx++,r.defs[f]=pi("filter",f,{id:f,x:"-100%",y:"-100%",width:"300%",height:"300%"},[pi("feDropShadow","",{dx:x/g,dy:O/v,stdDeviation:R,"flood-color":P,"flood-opacity":k})]),c[l]=f}n.filter=AO(f)}}function m9(a,n,r,o){var l=a[r],c,f={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if(YV(l))c="linearGradient",f.x1=l.x,f.y1=l.y,f.x2=l.x2,f.y2=l.y2;else if(KV(l))c="radialGradient",f.cx=$e(l.x,.5),f.cy=$e(l.y,.5),f.r=$e(l.r,.5);else{ue("Illegal gradient type.");return}for(var p=l.colorStops,g=[],v=0,x=p.length;v<x;++v){var O=kP(p[v].offset)*100+"%",w=p[v].color,S=d0(w),k=S.color,P=S.opacity,E={offset:O};E["stop-color"]=k,P<1&&(E["stop-opacity"]=P),g.push(pi("stop",v+"",E))}var M=pi(c,"",f,g),R=XD(M),N=o.gradientCache,j=N[R];j||(j=o.zrId+"-g"+o.gradientIdx++,N[R]=j,f.id=j,o.defs[j]=pi(c,j,f,g)),n[r]=AO(j)}function g9(a,n,r,o){var l=a.style[r],c=a.getBoundingRect(),f={},p=l.repeat,g=p==="no-repeat",v=p==="repeat-x",x=p==="repeat-y",O;if(XV(l)){var w=l.imageWidth,S=l.imageHeight,k=void 0,P=l.image;if(De(P)?k=P:l9(P)?k=P.src:u9(P)&&(k=P.toDataURL()),typeof Image>"u"){var E="Image width/height must been given explictly in svg-ssr renderer.";Ke(w,E),Ke(S,E)}else if(w==null||S==null){var M=function(ie,le){if(ie){var pe=ie.elm,ce=w||le.width,ye=S||le.height;ie.tag==="pattern"&&(v?(ye=1,ce/=c.width):x&&(ce=1,ye/=c.height)),ie.attrs.width=ce,ie.attrs.height=ye,pe&&(pe.setAttribute("width",ce),pe.setAttribute("height",ye))}},R=uE(k,null,a,function(ie){g||M(U,ie),M(O,ie)});R&&R.width&&R.height&&(w=w||R.width,S=S||R.height)}O=pi("image","img",{href:k,width:w,height:S}),f.width=w,f.height=S}else l.svgElement&&(O=ne(l.svgElement),f.width=l.svgWidth,f.height=l.svgHeight);if(O){var N,j;g?N=j=1:v?(j=1,N=f.width/c.width):x?(N=1,j=f.height/c.height):f.patternUnits="userSpaceOnUse",N!=null&&!isNaN(N)&&(f.width=N),j!=null&&!isNaN(j)&&(f.height=j);var W=t8(l);W&&(f.patternTransform=W);var U=pi("pattern","",f,[O]),X=XD(U),J=o.patternCache,re=J[X];re||(re=o.zrId+"-p"+o.patternIdx++,J[X]=re,f.id=re,U=o.defs[re]=pi("pattern",re,f,[O])),n[r]=AO(re)}}function cAe(a,n,r){var o=r.clipPathCache,l=r.defs,c=o[a.id];if(!c){c=r.zrId+"-c"+r.clipPathIdx++;var f={id:c};o[a.id]=c,l[c]=pi("clipPath",c,f,[h9(a,r)])}n["clip-path"]=AO(c)}function v9(a){return document.createTextNode(a)}function sh(a,n,r){a.insertBefore(n,r)}function y9(a,n){a.removeChild(n)}function x9(a,n){a.appendChild(n)}function _9(a){return a.parentNode}function O9(a){return a.nextSibling}function tI(a,n){a.textContent=n}var b9=58,dAe=120,fAe=pi("","");function nI(a){return a===void 0}function El(a){return a!==void 0}function hAe(a,n,r){for(var o={},l=n;l<=r;++l){var c=a[l].key;c!==void 0&&(o[c]!=null&&console.error("Duplicate key "+c),o[c]=l)}return o}function ly(a,n){var r=a.key===n.key,o=a.tag===n.tag;return o&&r}function uy(a){var n,r=a.children,o=a.tag;if(El(o)){var l=a.elm=t9(o);if(rI(fAe,a),ke(r))for(n=0;n<r.length;++n){var c=r[n];c!=null&&x9(l,uy(c))}else El(a.text)&&!Ze(a.text)&&x9(l,v9(a.text))}else a.elm=v9(a.text);return a.elm}function w9(a,n,r,o,l){for(;o<=l;++o){var c=r[o];c!=null&&sh(a,uy(c),n)}}function S2(a,n,r,o){for(;r<=o;++r){var l=n[r];if(l!=null)if(El(l.tag)){var c=_9(l.elm);y9(c,l.elm)}else y9(a,l.elm)}}function rI(a,n){var r,o=n.elm,l=a&&a.attrs||{},c=n.attrs||{};if(l!==c){for(r in c){var f=c[r],p=l[r];p!==f&&(f===!0?o.setAttribute(r,""):f===!1?o.removeAttribute(r):r==="style"?o.style.cssText=f:r.charCodeAt(0)!==dAe?o.setAttribute(r,f):r==="xmlns:xlink"||r==="xmlns"?o.setAttributeNS(Uke,r,f):r.charCodeAt(3)===b9?o.setAttributeNS(qke,r,f):r.charCodeAt(5)===b9?o.setAttributeNS(JW,r,f):o.setAttribute(r,f))}for(r in l)r in c||o.removeAttribute(r)}}function pAe(a,n,r){for(var o=0,l=0,c=n.length-1,f=n[0],p=n[c],g=r.length-1,v=r[0],x=r[g],O,w,S,k;o<=c&&l<=g;)f==null?f=n[++o]:p==null?p=n[--c]:v==null?v=r[++l]:x==null?x=r[--g]:ly(f,v)?(Qm(f,v),f=n[++o],v=r[++l]):ly(p,x)?(Qm(p,x),p=n[--c],x=r[--g]):ly(f,x)?(Qm(f,x),sh(a,f.elm,O9(p.elm)),f=n[++o],x=r[--g]):ly(p,v)?(Qm(p,v),sh(a,p.elm,f.elm),p=n[--c],v=r[++l]):(nI(O)&&(O=hAe(n,o,c)),w=O[v.key],nI(w)?sh(a,uy(v),f.elm):(S=n[w],S.tag!==v.tag?sh(a,uy(v),f.elm):(Qm(S,v),n[w]=void 0,sh(a,S.elm,f.elm))),v=r[++l]);(o<=c||l<=g)&&(o>c?(k=r[g+1]==null?null:r[g+1].elm,w9(a,k,r,l,g)):S2(a,n,o,c))}function Qm(a,n){var r=n.elm=a.elm,o=a.children,l=n.children;a!==n&&(rI(a,n),nI(n.text)?El(o)&&El(l)?o!==l&&pAe(r,o,l):El(l)?(El(a.text)&&tI(r,""),w9(r,null,l,0,l.length-1)):El(o)?S2(r,o,0,o.length-1):El(a.text)&&tI(r,""):a.text!==n.text&&(El(o)&&S2(r,o,0,o.length-1),tI(r,n.text)))}function mAe(a,n){if(ly(a,n))Qm(a,n);else{var r=a.elm,o=_9(r);uy(n),o!==null&&(sh(o,n.elm,O9(r)),S2(o,[a],0,0))}return n}var gAe=0,vAe=(function(){function a(n,r,o){if(this.type="svg",this.refreshHover=S9("refreshHover"),this.configLayer=S9("configLayer"),this.storage=r,this._opts=o=ee({},o),this.root=n,this._id="zr"+gAe++,this._oldVNode=n9(o.width,o.height),n&&!o.ssr){var l=this._viewport=document.createElement("div");l.style.cssText="position:relative;overflow:hidden";var c=this._svgDom=this._oldVNode.elm=t9("svg");rI(null,this._oldVNode),l.appendChild(c),n.appendChild(l)}this.resize(o.width,o.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",mAe(this._oldVNode,n),this._oldVNode=n}},a.prototype.renderOneToVNode=function(n){return p9(n,YD(this._id))},a.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),o=this._width,l=this._height,c=YD(this._id);c.animation=n.animation,c.willUpdate=n.willUpdate,c.compress=n.compress,c.emphasis=n.emphasis,c.ssr=this._opts.ssr;var f=[],p=this._bgVNode=yAe(o,l,this._backgroundColor,c);p&&f.push(p);var g=n.compress?null:this._mainVNode=pi("g","main",{},[]);this._paintList(r,c,g?g.children:f),g&&f.push(g);var v=ve(He(c.defs),function(w){return c.defs[w]});if(v.length&&f.push(pi("defs","defs",{},v)),n.animation){var x=Xke(c.cssNodes,c.cssAnims,{newline:!0});if(x){var O=pi("style","stl",{},[],x);f.push(O)}}return n9(o,l,f,n.useViewBox)},a.prototype.renderToString=function(n){return n=n||{},XD(this.renderToVNode({animation:$e(n.cssAnimation,!0),emphasis:$e(n.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:$e(n.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(n){this._backgroundColor=n},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(n,r,o){for(var l=n.length,c=[],f=0,p,g,v=0,x=0;x<l;x++){var O=n[x];if(!O.invisible){var w=O.__clipPaths,S=w&&w.length||0,k=g&&g.length||0,P=void 0;for(P=Math.max(S-1,k-1);P>=0&&!(w&&g&&w[P]===g[P]);P--);for(var E=k-1;E>P;E--)f--,p=c[f-1];for(var M=P+1;M<S;M++){var R={};cAe(w[M],R,r);var N=pi("g","clip-g-"+v++,R,[]);(p?p.children:o).push(N),c[f++]=N,p=N}g=w;var j=p9(O,r);j&&(p?p.children:o).push(j)}}},a.prototype.resize=function(n,r){var o=this._opts,l=this.root,c=this._viewport;if(n!=null&&(o.width=n),r!=null&&(o.height=r),l&&c&&(c.style.display="none",n=Am(l,0,o),r=Am(l,1,o),c.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,c){var f=c.style;f.width=n+"px",f.height=r+"px"}if(AP(this._backgroundColor))this.refresh();else{var p=this._svgDom;p&&(p.setAttribute("width",n),p.setAttribute("height",r));var g=this._bgVNode&&this._bgVNode.elm;g&&(g.setAttribute("width",n),g.setAttribute("height",r))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(n){var r=this.renderToString(),o="data:image/svg+xml;";return n?(r=j_e(r),r&&o+"base64,"+r):o+"charset=UTF-8,"+encodeURIComponent(r)},a})();function S9(a){return function(){ue('In SVG mode painter not support method "'+a+'"')}}function yAe(a,n,r,o){var l;if(r&&r!=="none")if(l=pi("rect","bg",{width:a,height:n,x:"0",y:"0"}),JV(r))m9({fill:r},l.attrs,"fill",o);else if(AP(r))g9({style:{fill:r},dirty:an,getBoundingRect:function(){return{width:a,height:n}}},l.attrs,"fill",o);else{var c=d0(r),f=c.color,p=c.opacity;l.attrs.fill=f,p<1&&(l.attrs["fill-opacity"]=p)}return l}function xAe(a){a.registerPainter("svg",vAe)}function T9(a,n,r){var o=$.createCanvas(),l=n.getWidth(),c=n.getHeight(),f=o.style;return f&&(f.position="absolute",f.left="0",f.top="0",f.width=l+"px",f.height=c+"px",o.setAttribute("data-zr-dom-id",a)),o.width=l*r,o.height=c*r,o}var iI=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;c.motionBlur=!1,c.lastFrameAlpha=.7,c.dpr=1,c.virtual=!1,c.config={},c.incremental=!1,c.zlevel=0,c.maxRepaintRectCount=5,c.__dirty=!0,c.__firstTimePaint=!0,c.__used=!1,c.__drawIndex=0,c.__startIndex=0,c.__endIndex=0,c.__prevStartIndex=null,c.__prevEndIndex=null;var f;l=l||LO,typeof r=="string"?f=T9(r,o,l):Ze(r)&&(f=r,r=f.id),c.id=r,c.dom=f;var p=f.style;return p&&(Dr(f),f.onselectstart=function(){return!1},p.padding="0",p.margin="0",p.borderWidth="0"),c.painter=o,c.dpr=l,c}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=T9("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,o,l,c){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var f=[],p=this.maxRepaintRectCount,g=!1,v=new wt(0,0,0,0);function x(R){if(!(!R.isFinite()||R.isZero()))if(f.length===0){var N=new wt(0,0,0,0);N.copy(R),f.push(N)}else{for(var j=!1,W=1/0,U=0,X=0;X<f.length;++X){var J=f[X];if(J.intersect(R)){var re=new wt(0,0,0,0);re.copy(J),re.union(R),f[X]=re,j=!0;break}else if(g){v.copy(R),v.union(J);var ie=R.width*R.height,le=J.width*J.height,pe=v.width*v.height,ce=pe-ie-le;ce<W&&(W=ce,U=X)}}if(g&&(f[U].union(R),j=!0),!j){var N=new wt(0,0,0,0);N.copy(R),f.push(N)}g||(g=f.length>=p)}}for(var O=this.__startIndex;O<this.__endIndex;++O){var w=r[O];if(w){var S=w.shouldBePainted(l,c,!0,!0),k=w.__isRendered&&(w.__dirty&po||!S)?w.getPrevPaintRect():null;k&&x(k);var P=S&&(w.__dirty&po||!w.__isRendered)?w.getPaintRect():null;P&&x(P)}}for(var O=this.__prevStartIndex;O<this.__prevEndIndex;++O){var w=o[O],S=w&&w.shouldBePainted(l,c,!0,!0);if(w&&(!S||!w.__zr)&&w.__isRendered){var k=w.getPrevPaintRect();k&&x(k)}}var E;do{E=!1;for(var O=0;O<f.length;){if(f[O].isZero()){f.splice(O,1);continue}for(var M=O+1;M<f.length;)f[O].intersect(f[M])?(E=!0,f[O].union(f[M]),f.splice(M,1)):M++;O++}}while(E);return this._paintRects=f,f},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,o){var l=this.dpr,c=this.dom,f=c.style,p=this.domBack;f&&(f.width=r+"px",f.height=o+"px"),c.width=r*l,c.height=o*l,p&&(p.width=r*l,p.height=o*l,l!==1&&this.ctxBack.scale(l,l))},n.prototype.clear=function(r,o,l){var c=this.dom,f=this.ctx,p=c.width,g=c.height;o=o||this.clearColor;var v=this.motionBlur&&!r,x=this.lastFrameAlpha,O=this.dpr,w=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,p/O,g/O));var S=this.domBack;function k(P,E,M,R){if(f.clearRect(P,E,M,R),o&&o!=="transparent"){var N=void 0;if(Ve(o)){var j=o.global||o.__width===M&&o.__height===R;N=j&&o.__canvasGradient||HM(f,o,{x:0,y:0,width:M,height:R}),o.__canvasGradient=N,o.__width=M,o.__height=R}else Ce(o)&&(o.scaleX=o.scaleX||O,o.scaleY=o.scaleY||O,N=YM(f,o,{dirty:function(){w.setUnpainted(),w.painter.refresh()}}));f.save(),f.fillStyle=N||o,f.fillRect(P,E,M,R),f.restore()}v&&(f.save(),f.globalAlpha=x,f.drawImage(S,P,E,M,R),f.restore())}!l||v?k(0,0,p,g):l.length&&Z(l,function(P){k(P.x*O,P.y*O,P.width*O,P.height*O)})},n})(La),C9=1e5,lh=314159,T2=.01,_Ae=.001;function OAe(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function bAe(a,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+a+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var wAe=(function(){function a(n,r,o,l){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var c=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=o=ee({},o||{}),this.dpr=o.devicePixelRatio||LO,this._singleCanvas=c,this.root=n;var f=n.style;f&&(Dr(n),n.innerHTML=""),this.storage=r;var p=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(c){var x=n,O=x.width,w=x.height;o.width!=null&&(O=o.width),o.height!=null&&(w=o.height),this.dpr=o.devicePixelRatio||1,x.width=O*this.dpr,x.height=w*this.dpr,this._width=O,this._height=w;var S=new iI(x,this,this.dpr);S.__builtin__=!0,S.initContext(),g[lh]=S,S.zlevel=lh,p.push(lh),this._domRoot=n}else{this._width=Am(n,0,o),this._height=Am(n,1,o);var v=this._domRoot=bAe(this._width,this._height);n.appendChild(v)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},a.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),o=this._prevDisplayList,l=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,o,n,this._redrawId);for(var c=0;c<l.length;c++){var f=l[c],p=this._layers[f];if(!p.__builtin__&&p.refresh){var g=c===0?this._backgroundColor:null;p.refresh(g)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(n){var r=n.length,o=this._hoverlayer;if(o&&o.clear(),!!r){for(var l={inHover:!0,viewWidth:this._width,viewHeight:this._height},c,f=0;f<r;f++){var p=n[f];p.__inHover&&(o||(o=this._hoverlayer=this.getLayer(C9)),c||(c=o.ctx,c.save()),Jf(c,p,l,f===r-1))}c&&c.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(C9)},a.prototype.paintOne=function(n,r){KM(n,r)},a.prototype._paintList=function(n,r,o,l){if(this._redrawId===l){o=o||!1,this._updateLayerStatus(n);var c=this._doPaintList(n,r,o),f=c.finished,p=c.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),p&&this._paintHoverList(n),f)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var g=this;_P(function(){g._paintList(n,r,o,l)})}}},a.prototype._compositeManually=function(){var n=this.getLayer(lh).ctx,r=this._domRoot.width,o=this._domRoot.height;n.clearRect(0,0,r,o),this.eachBuiltinLayer(function(l){l.virtual&&n.drawImage(l.dom,0,0,r,o)})},a.prototype._doPaintList=function(n,r,o){for(var l=this,c=[],f=this._opts.useDirtyRect,p=0;p<this._zlevelList.length;p++){var g=this._zlevelList[p],v=this._layers[g];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||o)&&c.push(v)}for(var x=!0,O=!1,w=function(P){var E=c[P],M=E.ctx,R=f&&E.createRepaintRects(n,r,S._width,S._height),N=o?E.__startIndex:E.__drawIndex,j=!o&&E.incremental&&Date.now,W=j&&Date.now(),U=E.zlevel===S._zlevelList[0]?S._backgroundColor:null;if(E.__startIndex===E.__endIndex)E.clear(!1,U,R);else if(N===E.__startIndex){var X=n[N];(!X.incremental||!X.notClear||o)&&E.clear(!1,U,R)}N===-1&&(console.error("For some unknown reason. drawIndex is -1"),N=E.__startIndex);var J,re=function(ce){var ye={inHover:!1,allClipped:!1,prevEl:null,viewWidth:l._width,viewHeight:l._height};for(J=N;J<E.__endIndex;J++){var Oe=n[J];if(Oe.__inHover&&(O=!0),l._doPaintEl(Oe,E,f,ce,ye,J===E.__endIndex-1),j){var _e=Date.now()-W;if(_e>15)break}}ye.prevElClipPaths&&M.restore()};if(R)if(R.length===0)J=E.__endIndex;else for(var ie=S.dpr,le=0;le<R.length;++le){var pe=R[le];M.save(),M.beginPath(),M.rect(pe.x*ie,pe.y*ie,pe.width*ie,pe.height*ie),M.clip(),re(pe),M.restore()}else M.save(),re(),M.restore();E.__drawIndex=J,E.__drawIndex<E.__endIndex&&(x=!1)},S=this,k=0;k<c.length;k++)w(k);return m.wxa&&Z(this._layers,function(P){P&&P.ctx&&P.ctx.draw&&P.ctx.draw()}),{finished:x,needsRefreshHover:O}},a.prototype._doPaintEl=function(n,r,o,l,c,f){var p=r.ctx;if(o){var g=n.getPaintRect();(!l||g&&g.intersect(l))&&(Jf(p,n,c,f),n.setPrevPaintRect(g))}else Jf(p,n,c,f)},a.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=lh);var o=this._layers[n];return o||(o=new iI("zr_"+n,this,this.dpr),o.zlevel=n,o.__builtin__=!0,this._layerConfig[n]?me(o,this._layerConfig[n],!0):this._layerConfig[n-T2]&&me(o,this._layerConfig[n-T2],!0),r&&(o.virtual=r),this.insertLayer(n,o),o.initContext()),o},a.prototype.insertLayer=function(n,r){var o=this._layers,l=this._zlevelList,c=l.length,f=this._domRoot,p=null,g=-1;if(o[n]){ue("ZLevel "+n+" has been used already");return}if(!OAe(r)){ue("Layer of zlevel "+n+" is not valid");return}if(c>0&&n>l[0]){for(g=0;g<c-1&&!(l[g]<n&&l[g+1]>n);g++);p=o[l[g]]}if(l.splice(g+1,0,n),o[n]=r,!r.virtual)if(p){var v=p.dom;v.nextSibling?f.insertBefore(r.dom,v.nextSibling):f.appendChild(r.dom)}else f.firstChild?f.insertBefore(r.dom,f.firstChild):f.appendChild(r.dom);r.painter||(r.painter=this)},a.prototype.eachLayer=function(n,r){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l];n.call(r,this._layers[c],c)}},a.prototype.eachBuiltinLayer=function(n,r){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l],f=this._layers[c];f.__builtin__&&n.call(r,f,c)}},a.prototype.eachOtherLayer=function(n,r){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l],f=this._layers[c];f.__builtin__||n.call(r,f,c)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(O,w){O.__dirty=O.__used=!1});function r(O){c&&(c.__endIndex!==O&&(c.__dirty=!0),c.__endIndex=O)}if(this._singleCanvas)for(var o=1;o<n.length;o++){var l=n[o];if(l.zlevel!==n[o-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var c=null,f=0,p,g;for(g=0;g<n.length;g++){var l=n[g],v=l.zlevel,x=void 0;p!==v&&(p=v,f=0),l.incremental?(x=this.getLayer(v+_Ae,this._needsManuallyCompositing),x.incremental=!0,f=1):x=this.getLayer(v+(f>0?T2:0),this._needsManuallyCompositing),x.__builtin__||ue("ZLevel "+v+" has been used by unkown layer "+x.id),x!==c&&(x.__used=!0,x.__startIndex!==g&&(x.__dirty=!0),x.__startIndex=g,x.incremental?x.__drawIndex=-1:x.__drawIndex=g,r(g),c=x),l.__dirty&po&&!l.__inHover&&(x.__dirty=!0,x.incremental&&x.__drawIndex<0&&(x.__drawIndex=g))}r(g),this.eachBuiltinLayer(function(O,w){!O.__used&&O.getElementCount()>0&&(O.__dirty=!0,O.__startIndex=O.__endIndex=O.__drawIndex=0),O.__dirty&&O.__drawIndex<0&&(O.__drawIndex=O.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(n){n.clear()},a.prototype.setBackgroundColor=function(n){this._backgroundColor=n,Z(this._layers,function(r){r.setUnpainted()})},a.prototype.configLayer=function(n,r){if(r){var o=this._layerConfig;o[n]?me(o[n],r,!0):o[n]=r;for(var l=0;l<this._zlevelList.length;l++){var c=this._zlevelList[l];if(c===n||c===n+T2){var f=this._layers[c];me(f,o[n],!0)}}}},a.prototype.delLayer=function(n){var r=this._layers,o=this._zlevelList,l=r[n];l&&(l.dom.parentNode.removeChild(l.dom),delete r[n],o.splice(se(o,n),1))},a.prototype.resize=function(n,r){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var l=this._opts,c=this.root;if(n!=null&&(l.width=n),r!=null&&(l.height=r),n=Am(c,0,l),r=Am(c,1,l),o.style.display="",this._width!==n||r!==this._height){o.style.width=n+"px",o.style.height=r+"px";for(var f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(lh).resize(n,r)}return this},a.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[lh].dom;var r=new iI("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var o=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var l=r.dom.width,c=r.dom.height;this.eachLayer(function(O){O.__builtin__?o.drawImage(O.dom,0,0,l,c):O.renderToCanvas&&(o.save(),O.renderToCanvas(o),o.restore())})}else for(var f={inHover:!1,viewWidth:this._width,viewHeight:this._height},p=this.storage.getDisplayList(!0),g=0,v=p.length;g<v;g++){var x=p[g];Jf(o,x,f,g===v-1)}return r.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a})();function SAe(a){a.registerPainter("canvas",wAe)}var TAe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){{var o=r.coordinateSystem;if(o!=="polar"&&o!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar")}return Tl(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var o=new _t,l=Br("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);o.add(l),l.setStyle(r.lineStyle);var c=this.getData().getVisual("symbol"),f=this.getData().getVisual("symbolRotate"),p=c==="none"?"circle":c,g=r.itemHeight*.8,v=Br(p,(r.itemWidth-g)/2,(r.itemHeight-g)/2,g,g,r.itemStyle.fill);o.add(v),v.setStyle(r.itemStyle);var x=r.iconRotate==="inherit"?f:r.iconRotate||0;return v.rotation=x*Math.PI/180,v.setOrigin([r.itemWidth/2,r.itemHeight/2]),p.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill=Ie.color.neutral00,v.style.lineWidth=2),o},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n})(Bn);function jm(a,n){var r=a.mapDimensionsAll("defaultedLabel"),o=r.length;if(o===1){var l=Om(a,n,r[0]);return l!=null?l+"":null}else if(o){for(var c=[],f=0;f<r.length;f++)c.push(Om(a,n,r[f]));return c.join(" ")}}function k9(a,n){var r=a.mapDimensionsAll("defaultedLabel");if(!ke(n))return n+"";for(var o=[],l=0;l<r.length;l++){var c=a.getDimensionIndex(r[l]);c>=0&&o.push(n[c])}return o.join(" ")}var cy=(function(a){u(n,a);function n(r,o,l,c){var f=a.call(this)||this;return f.updateData(r,o,l,c),f}return n.prototype._createSymbol=function(r,o,l,c,f,p){this.removeAll();var g=Br(r,-1,-1,2,2,null,p);g.attr({z2:$e(f,100),culling:!0,scaleX:c[0]/2,scaleY:c[1]/2}),g.drift=CAe,this._symbolType=r,this.add(g)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){Eu(this.childAt(0))},n.prototype.downplay=function(){Mu(this.childAt(0))},n.prototype.setZ=function(r,o){var l=this.childAt(0);l.zlevel=r,l.z=o},n.prototype.setDraggable=function(r,o){var l=this.childAt(0);l.draggable=r,l.cursor=!o&&r?"move":l.cursor},n.prototype.updateData=function(r,o,l,c){this.silent=!1;var f=r.getItemVisual(o,"symbol")||"circle",p=r.hostModel,g=n.getSymbolSize(r,o),v=n.getSymbolZ2(r,o),x=f!==this._symbolType,O=c&&c.disableAnimation;if(x){var w=r.getItemVisual(o,"symbolKeepAspect");this._createSymbol(f,r,o,g,v,w)}else{var S=this.childAt(0);S.silent=!1;var k={scaleX:g[0]/2,scaleY:g[1]/2};O?S.attr(k):pn(S,k,p,o),Fo(S)}if(this._updateCommon(r,o,g,l,c),x){var S=this.childAt(0);if(!O){var k={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}};S.scaleX=S.scaleY=0,S.style.opacity=0,Jn(S,k,p,o)}}O&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,o,l,c,f){var p=this.childAt(0),g=r.hostModel,v,x,O,w,S,k,P,E,M;if(c&&(v=c.emphasisItemStyle,x=c.blurItemStyle,O=c.selectItemStyle,w=c.focus,S=c.blurScope,P=c.labelStatesModels,E=c.hoverScale,M=c.cursorStyle,k=c.emphasisDisabled),!c||r.hasItemOption){var R=c&&c.itemModel?c.itemModel:r.getItemModel(o),N=R.getModel("emphasis");v=N.getModel("itemStyle").getItemStyle(),O=R.getModel(["select","itemStyle"]).getItemStyle(),x=R.getModel(["blur","itemStyle"]).getItemStyle(),w=N.get("focus"),S=N.get("blurScope"),k=N.get("disabled"),P=Jr(R),E=N.getShallow("scale"),M=R.getShallow("cursor")}var j=r.getItemVisual(o,"symbolRotate");p.attr("rotation",(j||0)*Math.PI/180||0);var W=Yf(r.getItemVisual(o,"symbolOffset"),l);W&&(p.x=W[0],p.y=W[1]),M&&p.attr("cursor",M);var U=r.getItemVisual(o,"style"),X=U.fill;if(p instanceof fi){var J=p.style;p.useStyle(ee({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},U))}else p.__isEmptyBrush?p.useStyle(ee({},U)):p.useStyle(U),p.style.decal=null,p.setColor(X,f&&f.symbolInnerColor),p.style.strokeNoScale=!0;var re=r.getItemVisual(o,"liftZ"),ie=this._z2;re!=null?ie==null&&(this._z2=p.z2,p.z2+=re):ie!=null&&(p.z2=ie,this._z2=null);var le=f&&f.useNameLabel;hi(p,P,{labelFetcher:g,labelDataIndex:o,defaultText:pe,inheritColor:X,defaultOpacity:U.opacity});function pe(Oe){return le?r.getName(Oe):jm(r,Oe)}this._sizeX=l[0]/2,this._sizeY=l[1]/2;var ce=p.ensureState("emphasis");ce.style=v,p.ensureState("select").style=O,p.ensureState("blur").style=x;var ye=E==null||E===!0?Math.max(1.1,3/this._sizeY):isFinite(E)&&E>0?+E:1;ce.scaleX=this._sizeX*ye,ce.scaleY=this._sizeY*ye,this.setSymbolScale(1),ar(this,w,S,k)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,o,l){var c=this.childAt(0),f=Et(this).dataIndex,p=l&&l.animation;if(this.silent=c.silent=!0,l&&l.fadeLabel){var g=c.getTextContent();g&&jc(g,{style:{opacity:0}},o,{dataIndex:f,removeOpt:p,cb:function(){c.removeTextContent()}})}else c.removeTextContent();jc(c,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:f,cb:r,removeOpt:p})},n.getSymbolSize=function(r,o){return km(r.getItemVisual(o,"symbolSize"))},n.getSymbolZ2=function(r,o){return r.getItemVisual(o,"z2")},n})(_t);function CAe(a,n){this.parent.drift(a,n)}function aI(a,n,r,o){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(o.isIgnore&&o.isIgnore(r))&&!(o.clipShape&&!o.clipShape.contain(n[0],n[1]))&&a.getItemVisual(r,"symbol")!=="none"}function A9(a){return a!=null&&!Ze(a)&&(a={isIgnore:a}),a||{}}function P9(a){var n=a.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Jr(n),cursorStyle:n.get("cursor")}}var dy=(function(){function a(n){this.group=new _t,this._SymbolCtor=n||cy}return a.prototype.updateData=function(n,r){this._progressiveEls=null,r=A9(r);var o=this.group,l=n.hostModel,c=this._data,f=this._SymbolCtor,p=r.disableAnimation,g=P9(n),v={disableAnimation:p},x=r.getSymbolPoint||function(O){return n.getItemLayout(O)};c||o.removeAll(),n.diff(c).add(function(O){var w=x(O);if(aI(n,w,O,r)){var S=new f(n,O,g,v);S.setPosition(w),n.setItemGraphicEl(O,S),o.add(S)}}).update(function(O,w){var S=c.getItemGraphicEl(w),k=x(O);if(!aI(n,k,O,r)){o.remove(S);return}var P=n.getItemVisual(O,"symbol")||"circle",E=S&&S.getSymbolType&&S.getSymbolType();if(!S||E&&E!==P)o.remove(S),S=new f(n,O,g,v),S.setPosition(k);else{S.updateData(n,O,g,v);var M={x:k[0],y:k[1]};p?S.attr(M):pn(S,M,l)}o.add(S),n.setItemGraphicEl(O,S)}).remove(function(O){var w=c.getItemGraphicEl(O);w&&w.fadeOut(function(){o.remove(w)},l)}).execute(),this._getSymbolPoint=x,this._data=n},a.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function(o,l){var c=n._getSymbolPoint(l);o.setPosition(c),o.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=P9(n),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,r,o){this._progressiveEls=[],o=A9(o);function l(g){g.isGroup||(g.incremental=!0,g.ensureState("emphasis").hoverLayer=!0)}for(var c=n.start;c<n.end;c++){var f=r.getItemLayout(c);if(aI(r,f,c,o)){var p=new this._SymbolCtor(r,c,this._seriesScope);p.traverse(l),p.setPosition(f),this.group.add(p),r.setItemGraphicEl(c,p),this._progressiveEls.push(p)}}},a.prototype.eachRendered=function(n){Fc(this._progressiveEls||this.group,n)},a.prototype.remove=function(n){var r=this.group,o=this._data;o&&n?o.eachItemGraphicEl(function(l){l.fadeOut(function(){r.remove(l)},o.hostModel)}):r.removeAll()},a})();function E9(a,n,r){var o=a.getBaseAxis(),l=a.getOtherAxis(o),c=kAe(l,r),f=o.dim,p=l.dim,g=n.mapDimension(p),v=n.mapDimension(f),x=p==="x"||p==="radius"?1:0,O=ve(a.dimensions,function(k){return n.mapDimension(k)}),w=!1,S=n.getCalculationInfo("stackResultDimension");return zu(n,O[0])&&(w=!0,O[0]=S),zu(n,O[1])&&(w=!0,O[1]=S),{dataDimsForPoint:O,valueStart:c,valueAxisDim:p,baseAxisDim:f,stacked:!!w,valueDim:g,baseDim:v,baseDataOffset:x,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function kAe(a,n){var r=0,o=a.scale.getExtent();return n==="start"?r=o[0]:n==="end"?r=o[1]:dt(n)&&!isNaN(n)?r=n:o[0]>0?r=o[0]:o[1]<0&&(r=o[1]),r}function M9(a,n,r,o){var l=NaN;a.stacked&&(l=r.get(r.getCalculationInfo("stackedOverDimension"),o)),isNaN(l)&&(l=a.valueStart);var c=a.baseDataOffset,f=[];return f[c]=r.get(a.baseDim,o),f[1-c]=l,n.dataToPoint(f)}function AAe(a,n){var r=[];return n.diff(a).add(function(o){r.push({cmd:"+",idx:o})}).update(function(o,l){r.push({cmd:"=",idx:l,idx1:o})}).remove(function(o){r.push({cmd:"-",idx:o})}).execute(),r}function PAe(a,n,r,o,l,c,f,p){for(var g=AAe(a,n),v=[],x=[],O=[],w=[],S=[],k=[],P=[],E=E9(l,n,f),M=a.getLayout("points")||[],R=n.getLayout("points")||[],N=0;N<g.length;N++){var j=g[N],W=!0,U=void 0,X=void 0;switch(j.cmd){case"=":U=j.idx*2,X=j.idx1*2;var J=M[U],re=M[U+1],ie=R[X],le=R[X+1];(isNaN(J)||isNaN(re))&&(J=ie,re=le),v.push(J,re),x.push(ie,le),O.push(r[U],r[U+1]),w.push(o[X],o[X+1]),P.push(n.getRawIndex(j.idx1));break;case"+":var pe=j.idx,ce=E.dataDimsForPoint,ye=l.dataToPoint([n.get(ce[0],pe),n.get(ce[1],pe)]);X=pe*2,v.push(ye[0],ye[1]),x.push(R[X],R[X+1]);var Oe=M9(E,l,n,pe);O.push(Oe[0],Oe[1]),w.push(o[X],o[X+1]),P.push(n.getRawIndex(pe));break;case"-":W=!1}W&&(S.push(j),k.push(k.length))}k.sort(function(Mt,vn){return P[Mt]-P[vn]});for(var _e=v.length,Pe=Cl(_e),Se=Cl(_e),Re=Cl(_e),Ne=Cl(_e),Be=[],N=0;N<k.length;N++){var Fe=k[N],rt=N*2,ht=Fe*2;Pe[rt]=v[ht],Pe[rt+1]=v[ht+1],Se[rt]=x[ht],Se[rt+1]=x[ht+1],Re[rt]=O[ht],Re[rt+1]=O[ht+1],Ne[rt]=w[ht],Ne[rt+1]=w[ht+1],Be[N]=S[Fe]}return{current:Pe,next:Se,stackedOnCurrent:Re,stackedOnNext:Ne,status:Be}}var Yc=Math.min,Kc=Math.max;function uh(a,n){return isNaN(a)||isNaN(n)}function oI(a,n,r,o,l,c,f,p,g){for(var v,x,O,w,S,k,P=r,E=0;E<o;E++){var M=n[P*2],R=n[P*2+1];if(P>=l||P<0)break;if(uh(M,R)){if(g){P+=c;continue}break}if(P===r)a[c>0?"moveTo":"lineTo"](M,R),O=M,w=R;else{var N=M-v,j=R-x;if(N*N+j*j<.5){P+=c;continue}if(f>0){for(var W=P+c,U=n[W*2],X=n[W*2+1];U===M&&X===R&&E<o;)E++,W+=c,P+=c,U=n[W*2],X=n[W*2+1],M=n[P*2],R=n[P*2+1],N=M-v,j=R-x;var J=E+1;if(g)for(;uh(U,X)&&J<o;)J++,W+=c,U=n[W*2],X=n[W*2+1];var re=.5,ie=0,le=0,pe=void 0,ce=void 0;if(J>=o||uh(U,X))S=M,k=R;else{ie=U-v,le=X-x;var ye=M-v,Oe=U-M,_e=R-x,Pe=X-R,Se=void 0,Re=void 0;if(p==="x"){Se=Math.abs(ye),Re=Math.abs(Oe);var Ne=ie>0?1:-1;S=M-Ne*Se*f,k=R,pe=M+Ne*Re*f,ce=R}else if(p==="y"){Se=Math.abs(_e),Re=Math.abs(Pe);var Be=le>0?1:-1;S=M,k=R-Be*Se*f,pe=M,ce=R+Be*Re*f}else Se=Math.sqrt(ye*ye+_e*_e),Re=Math.sqrt(Oe*Oe+Pe*Pe),re=Re/(Re+Se),S=M-ie*f*(1-re),k=R-le*f*(1-re),pe=M+ie*f*re,ce=R+le*f*re,pe=Yc(pe,Kc(U,M)),ce=Yc(ce,Kc(X,R)),pe=Kc(pe,Yc(U,M)),ce=Kc(ce,Yc(X,R)),ie=pe-M,le=ce-R,S=M-ie*Se/Re,k=R-le*Se/Re,S=Yc(S,Kc(v,M)),k=Yc(k,Kc(x,R)),S=Kc(S,Yc(v,M)),k=Kc(k,Yc(x,R)),ie=M-S,le=R-k,pe=M+ie*Re/Se,ce=R+le*Re/Se}a.bezierCurveTo(O,w,S,k,M,R),O=pe,w=ce}else a.lineTo(M,R)}v=M,x=R,P+=c}return E}var D9=(function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a})(),EAe=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="ec-polyline",o}return n.prototype.getDefaultStyle=function(){return{stroke:Ie.color.neutral99,fill:null}},n.prototype.getDefaultShape=function(){return new D9},n.prototype.buildPath=function(r,o){var l=o.points,c=0,f=l.length/2;if(o.connectNulls){for(;f>0&&uh(l[f*2-2],l[f*2-1]);f--);for(;c<f&&uh(l[c*2],l[c*2+1]);c++);}for(;c<f;)c+=oI(r,l,c,f,f,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},n.prototype.getPointOn=function(r,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var l=this.path,c=l.data,f=xl.CMD,p,g,v=o==="x",x=[],O=0;O<c.length;){var w=c[O++],S=void 0,k=void 0,P=void 0,E=void 0,M=void 0,R=void 0,N=void 0;switch(w){case f.M:p=c[O++],g=c[O++];break;case f.L:if(S=c[O++],k=c[O++],N=v?(r-p)/(S-p):(r-g)/(k-g),N<=1&&N>=0){var j=v?(k-g)*N+g:(S-p)*N+p;return v?[r,j]:[j,r]}p=S,g=k;break;case f.C:S=c[O++],k=c[O++],P=c[O++],E=c[O++],M=c[O++],R=c[O++];var W=v?OO(p,S,P,M,r,x):OO(g,k,E,R,r,x);if(W>0)for(var U=0;U<W;U++){var X=x[U];if(X<=1&&X>=0){var j=v?di(g,k,E,R,X):di(p,S,P,M,X);return v?[r,j]:[j,r]}}p=M,g=R;break}}},n})(Jt),MAe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n})(D9),I9=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="ec-polygon",o}return n.prototype.getDefaultShape=function(){return new MAe},n.prototype.buildPath=function(r,o){var l=o.points,c=o.stackedOnPoints,f=0,p=l.length/2,g=o.smoothMonotone;if(o.connectNulls){for(;p>0&&uh(l[p*2-2],l[p*2-1]);p--);for(;f<p&&uh(l[f*2],l[f*2+1]);f++);}for(;f<p;){var v=oI(r,l,f,p,p,1,o.smooth,g,o.connectNulls);oI(r,c,f+v-1,v,p,-1,o.stackedOnSmooth,g,o.connectNulls),f+=v+1,r.closePath()}},n})(Jt);function R9(a,n,r,o,l){var c=a.getArea(),f=c.x,p=c.y,g=c.width,v=c.height,x=r.get(["lineStyle","width"])||0;f-=x/2,p-=x/2,g+=x,v+=x,g=Math.ceil(g),f!==Math.floor(f)&&(f=Math.floor(f),g++);var O=new Zt({shape:{x:f,y:p,width:g,height:v}});if(n){var w=a.getBaseAxis(),S=w.isHorizontal(),k=w.inverse;S?(k&&(O.shape.x+=g),O.shape.width=0):(k||(O.shape.y+=v),O.shape.height=0);var P=Ge(l)?function(E){l(E,O)}:null;Jn(O,{shape:{width:g,height:v,x:f,y:p}},r,null,o,P)}return O}function L9(a,n,r){var o=a.getArea(),l=Lr(o.r0,1),c=Lr(o.r,1),f=new Vi({shape:{cx:Lr(a.cx,1),cy:Lr(a.cy,1),r0:l,r:c,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(n){var p=a.getBaseAxis().dim==="angle";p?f.shape.endAngle=o.startAngle:f.shape.r=l,Jn(f,{shape:{endAngle:o.endAngle,r:c}},r)}return f}function fy(a,n,r,o,l){if(a){if(a.type==="polar")return L9(a,n,r);if(a.type==="cartesian2d")return R9(a,n,r,o,l)}else return null;return null}function Jc(a,n){return a.type===n}function N9(a,n){if(a.length===n.length){for(var r=0;r<a.length;r++)if(a[r]!==n[r])return;return!0}}function $9(a){for(var n=1/0,r=1/0,o=-1/0,l=-1/0,c=0;c<a.length;){var f=a[c++],p=a[c++];isNaN(f)||(n=Math.min(f,n),o=Math.max(f,o)),isNaN(p)||(r=Math.min(p,r),l=Math.max(p,l))}return[[n,r],[o,l]]}function z9(a,n){var r=$9(a),o=r[0],l=r[1],c=$9(n),f=c[0],p=c[1];return Math.max(Math.abs(o[0]-f[0]),Math.abs(o[1]-f[1]),Math.abs(l[0]-p[0]),Math.abs(l[1]-p[1]))}function B9(a){return dt(a)?a:a?.5:0}function DAe(a,n,r){if(!r.valueDim)return[];for(var o=n.count(),l=Cl(o*2),c=0;c<o;c++){var f=M9(r,a,n,c);l[c*2]=f[0],l[c*2+1]=f[1]}return l}function ed(a,n,r,o,l){var c=r.getBaseAxis(),f=c.dim==="x"||c.dim==="radius"?0:1,p=[],g=0,v=[],x=[],O=[],w=[];if(l){for(g=0;g<a.length;g+=2){var S=n||a;!isNaN(S[g])&&!isNaN(S[g+1])&&w.push(a[g],a[g+1])}a=w}for(g=0;g<a.length-2;g+=2)switch(O[0]=a[g+2],O[1]=a[g+3],x[0]=a[g],x[1]=a[g+1],p.push(x[0],x[1]),o){case"end":v[f]=O[f],v[1-f]=x[1-f],p.push(v[0],v[1]);break;case"middle":var k=(x[f]+O[f])/2,P=[];v[f]=P[f]=k,v[1-f]=x[1-f],P[1-f]=O[1-f],p.push(v[0],v[1]),p.push(P[0],P[1]);break;default:v[f]=x[f],v[1-f]=O[1-f],p.push(v[0],v[1])}return p.push(a[g++],a[g++]),p}function IAe(a,n){var r=[],o=a.length,l,c;function f(x,O,w){var S=x.coord,k=(w-S)/(O.coord-S),P=CP(k,[x.color,O.color]);return{coord:w,color:P}}for(var p=0;p<o;p++){var g=a[p],v=g.coord;if(v<0)l=g;else if(v>n){c?r.push(f(c,g,n)):l&&r.push(f(l,g,0),f(l,g,n));break}else l&&(r.push(f(l,g,0)),l=null),r.push(g),c=g}return r}function RAe(a,n,r){var o=a.getVisual("visualMeta");if(!(!o||!o.length||!a.count())){if(n.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var l,c,f=o.length-1;f>=0;f--){var p=a.getDimensionInfo(o[f].dimension);if(l=p&&p.coordDim,l==="x"||l==="y"){c=o[f];break}}if(!c){console.warn("Visual map on line style only support x or y dimension.");return}var g=n.getAxis(l),v=ve(c.stops,function(N){return{coord:g.toGlobalCoord(g.dataToCoord(N.value)),color:N.color}}),x=v.length,O=c.outerColors.slice();x&&v[0].coord>v[x-1].coord&&(v.reverse(),O.reverse());var w=IAe(v,l==="x"?r.getWidth():r.getHeight()),S=w.length;if(!S&&x)return v[0].coord<0?O[1]?O[1]:v[x-1].color:O[0]?O[0]:v[0].color;var k=10,P=w[0].coord-k,E=w[S-1].coord+k,M=E-P;if(M<.001)return"transparent";Z(w,function(N){N.offset=(N.coord-P)/M}),w.push({offset:S?w[S-1].offset:.5,color:O[1]||"transparent"}),w.unshift({offset:S?w[0].offset:.5,color:O[0]||"transparent"});var R=new If(0,0,0,0,w,!0);return R[l]=P,R[l+"2"]=E,R}}function LAe(a,n,r){var o=a.get("showAllSymbol"),l=o==="auto";if(!(o&&!l)){var c=r.getAxesByScale("ordinal")[0];if(c&&!(l&&NAe(c,n))){var f=n.mapDimension(c.dim),p={};return Z(c.getViewLabels(),function(g){var v=c.scale.getRawOrdinalNumber(g.tickValue);p[v]=1}),function(g){return!p.hasOwnProperty(n.get(f,g))}}}}function NAe(a,n){var r=a.getExtent(),o=Math.abs(r[1]-r[0])/a.scale.count();isNaN(o)&&(o=0);for(var l=n.count(),c=Math.max(1,Math.round(l/5)),f=0;f<l;f+=c)if(cy.getSymbolSize(n,f)[a.isHorizontal()?1:0]*1.5>o)return!1;return!0}function $Ae(a,n){return isNaN(a)||isNaN(n)}function zAe(a){for(var n=a.length/2;n>0&&$Ae(a[n*2-2],a[n*2-1]);n--);return n-1}function Q9(a,n){return[a[n*2],a[n*2+1]]}function BAe(a,n,r){for(var o=a.length/2,l=r==="x"?0:1,c,f,p=0,g=-1,v=0;v<o;v++)if(f=a[v*2+l],!(isNaN(f)||isNaN(a[v*2+1-l]))){if(v===0){c=f;continue}if(c<=n&&f>=n||c>=n&&f<=n){g=v;break}p=v,c=f}return{range:[p,g],t:(n-c)/(f-c)}}function j9(a){if(a.get(["endLabel","show"]))return!0;for(var n=0;n<ya.length;n++)if(a.get([ya[n],"endLabel","show"]))return!0;return!1}function sI(a,n,r,o){if(Jc(n,"cartesian2d")){var l=o.getModel("endLabel"),c=l.get("valueAnimation"),f=o.getData(),p={lastFrameIndex:0},g=j9(o)?function(S,k){a._endLabelOnDuring(S,k,f,p,c,l,n)}:null,v=n.getBaseAxis().isHorizontal(),x=R9(n,r,o,function(){var S=a._endLabel;S&&r&&p.originalX!=null&&S.attr({x:p.originalX,y:p.originalY})},g);if(!o.get("clip",!0)){var O=x.shape,w=Math.max(O.width,O.height);v?(O.y-=w,O.height+=w*2):(O.x-=w,O.width+=w*2)}return g&&g(1,x),x}else return o.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),L9(n,r,o)}function QAe(a,n){var r=n.getBaseAxis(),o=r.isHorizontal(),l=r.inverse,c=o?l?"right":"left":"center",f=o?"middle":l?"top":"bottom";return{normal:{align:a.get("align")||c,verticalAlign:a.get("verticalAlign")||f}}}var jAe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(){var r=new _t,o=new dy;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=r,this._changePolyState=Ee(this._changePolyState,this)},n.prototype.render=function(r,o,l){var c=r.coordinateSystem,f=this.group,p=r.getData(),g=r.getModel("lineStyle"),v=r.getModel("areaStyle"),x=p.getLayout("points")||[],O=c.type==="polar",w=this._coordSys,S=this._symbolDraw,k=this._polyline,P=this._polygon,E=this._lineGroup,M=!o.ssr&&r.get("animation"),R=!v.isEmpty(),N=v.get("origin"),j=E9(c,p,N),W=R&&DAe(c,p,j),U=r.get("showSymbol"),X=r.get("connectNulls"),J=U&&!O&&LAe(r,p,c),re=this._data;re&&re.eachItemGraphicEl(function(Mt,vn){Mt.__temp&&(f.remove(Mt),re.setItemGraphicEl(vn,null))}),U||S.remove(),f.add(E);var ie=O?!1:r.get("step"),le;c&&c.getArea&&r.get("clip",!0)&&(le=c.getArea(),le.width!=null?(le.x-=.1,le.y-=.1,le.width+=.2,le.height+=.2):le.r0&&(le.r0-=.5,le.r+=.5)),this._clipShapeForSymbol=le;var pe=RAe(p,c,l)||p.getVisual("style")[p.getVisual("drawType")];if(!(k&&w.type===c.type&&ie===this._step))U&&S.updateData(p,{isIgnore:J,clipShape:le,disableAnimation:!0,getSymbolPoint:function(Mt){return[x[Mt*2],x[Mt*2+1]]}}),M&&this._initSymbolLabelAnimation(p,c,le),ie&&(W&&(W=ed(W,x,c,ie,X)),x=ed(x,null,c,ie,X)),k=this._newPolyline(x),R?P=this._newPolygon(x,W):P&&(E.remove(P),P=this._polygon=null),O||this._initOrUpdateEndLabel(r,c,Bf(pe)),E.setClipPath(sI(this,c,!0,r));else{R&&!P?P=this._newPolygon(x,W):P&&!R&&(E.remove(P),P=this._polygon=null),O||this._initOrUpdateEndLabel(r,c,Bf(pe));var ce=E.getClipPath();if(ce){var ye=sI(this,c,!1,r);Jn(ce,{shape:ye.shape},r)}else E.setClipPath(sI(this,c,!0,r));U&&S.updateData(p,{isIgnore:J,clipShape:le,disableAnimation:!0,getSymbolPoint:function(Mt){return[x[Mt*2],x[Mt*2+1]]}}),(!N9(this._stackedOnPoints,W)||!N9(this._points,x))&&(M?this._doUpdateAnimation(p,W,c,l,ie,N,X):(ie&&(W&&(W=ed(W,x,c,ie,X)),x=ed(x,null,c,ie,X)),k.setShape({points:x}),P&&P.setShape({points:x,stackedOnPoints:W})))}var Oe=r.getModel("emphasis"),_e=Oe.get("focus"),Pe=Oe.get("blurScope"),Se=Oe.get("disabled");if(k.useStyle(be(g.getLineStyle(),{fill:"none",stroke:pe,lineJoin:"bevel"})),Kr(k,r,"lineStyle"),k.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var Re=k.getState("emphasis").style;Re.lineWidth=+k.style.lineWidth+1}Et(k).seriesIndex=r.seriesIndex,ar(k,_e,Pe,Se);var Ne=B9(r.get("smooth")),Be=r.get("smoothMonotone");if(k.setShape({smooth:Ne,smoothMonotone:Be,connectNulls:X}),P){var Fe=p.getCalculationInfo("stackedOnSeries"),rt=0;P.useStyle(be(v.getAreaStyle(),{fill:pe,opacity:.7,lineJoin:"bevel",decal:p.getVisual("style").decal})),Fe&&(rt=B9(Fe.get("smooth"))),P.setShape({smooth:Ne,stackedOnSmooth:rt,smoothMonotone:Be,connectNulls:X}),Kr(P,r,"areaStyle"),Et(P).seriesIndex=r.seriesIndex,ar(P,_e,Pe,Se)}var ht=this._changePolyState;p.eachItemGraphicEl(function(Mt){Mt&&(Mt.onHoverStateChange=ht)}),this._polyline.onHoverStateChange=ht,this._data=p,this._coordSys=c,this._stackedOnPoints=W,this._points=x,this._step=ie,this._valueOrigin=N,r.get("triggerLineEvent")&&(this.packEventData(r,k),P&&this.packEventData(r,P))},n.prototype.packEventData=function(r,o){Et(o).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,o,l,c){var f=r.getData(),p=xf(f,c);if(this._changePolyState("emphasis"),!(p instanceof Array)&&p!=null&&p>=0){var g=f.getLayout("points"),v=f.getItemGraphicEl(p);if(!v){var x=g[p*2],O=g[p*2+1];if(isNaN(x)||isNaN(O)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(x,O))return;var w=r.get("zlevel")||0,S=r.get("z")||0;v=new cy(f,p),v.x=x,v.y=O,v.setZ(w,S);var k=v.getSymbolPath().getTextContent();k&&(k.zlevel=w,k.z=S,k.z2=this._polyline.z2+1),v.__temp=!0,f.setItemGraphicEl(p,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else Dn.prototype.highlight.call(this,r,o,l,c)},n.prototype.downplay=function(r,o,l,c){var f=r.getData(),p=xf(f,c);if(this._changePolyState("normal"),p!=null&&p>=0){var g=f.getItemGraphicEl(p);g&&(g.__temp?(f.setItemGraphicEl(p,null),this.group.remove(g)):g.downplay())}else Dn.prototype.downplay.call(this,r,o,l,c)},n.prototype._changePolyState=function(r){var o=this._polygon;lb(this._polyline,r),o&&lb(o,r)},n.prototype._newPolyline=function(r){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new EAe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},n.prototype._newPolygon=function(r,o){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new I9({shape:{points:r,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},n.prototype._initSymbolLabelAnimation=function(r,o,l){var c,f,p=o.getBaseAxis(),g=p.inverse;o.type==="cartesian2d"?(c=p.isHorizontal(),f=!1):o.type==="polar"&&(c=p.dim==="angle",f=!0);var v=r.hostModel,x=v.get("animationDuration");Ge(x)&&(x=x(null));var O=v.get("animationDelay")||0,w=Ge(O)?O(null):O;r.eachItemGraphicEl(function(S,k){var P=S;if(P){var E=[S.x,S.y],M=void 0,R=void 0,N=void 0;if(l)if(f){var j=l,W=o.pointToCoord(E);c?(M=j.startAngle,R=j.endAngle,N=-W[1]/180*Math.PI):(M=j.r0,R=j.r,N=W[0])}else{var U=l;c?(M=U.x,R=U.x+U.width,N=S.x):(M=U.y+U.height,R=U.y,N=S.y)}var X=R===M?0:(N-M)/(R-M);g&&(X=1-X);var J=Ge(O)?O(k):x*X+w,re=P.getSymbolPath(),ie=re.getTextContent();P.attr({scaleX:0,scaleY:0}),P.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:J}),ie&&ie.animateFrom({style:{opacity:0}},{duration:300,delay:J}),re.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,o,l){var c=r.getModel("endLabel");if(j9(r)){var f=r.getData(),p=this._polyline,g=f.getLayout("points");if(!g){p.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new un({z2:200}),v.ignoreClip=!0,p.setTextContent(this._endLabel),p.disableLabelAnimation=!0);var x=zAe(g);x>=0&&(hi(p,Jr(r,"endLabel"),{inheritColor:l,labelFetcher:r,labelDataIndex:x,defaultText:function(O,w,S){return S!=null?k9(f,S):jm(f,O)},enableTextSetter:!0},QAe(c,o)),p.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,o,l,c,f,p,g){var v=this._endLabel,x=this._polyline;if(v){r<1&&c.originalX==null&&(c.originalX=v.x,c.originalY=v.y);var O=l.getLayout("points"),w=l.hostModel,S=w.get("connectNulls"),k=p.get("precision"),P=p.get("distance")||0,E=g.getBaseAxis(),M=E.isHorizontal(),R=E.inverse,N=o.shape,j=R?M?N.x:N.y+N.height:M?N.x+N.width:N.y,W=(M?P:0)*(R?-1:1),U=(M?0:-P)*(R?-1:1),X=M?"x":"y",J=BAe(O,j,X),re=J.range,ie=re[1]-re[0],le=void 0;if(ie>=1){if(ie>1&&!S){var pe=Q9(O,re[0]);v.attr({x:pe[0]+W,y:pe[1]+U}),f&&(le=w.getRawValue(re[0]))}else{var pe=x.getPointOn(j,X);pe&&v.attr({x:pe[0]+W,y:pe[1]+U});var ce=w.getRawValue(re[0]),ye=w.getRawValue(re[1]);f&&(le=z8(l,k,ce,ye,J.t))}c.lastFrameIndex=re[0]}else{var Oe=r===1||c.lastFrameIndex>0?re[0]:0,pe=Q9(O,Oe);f&&(le=w.getRawValue(Oe)),v.attr({x:pe[0]+W,y:pe[1]+U})}if(f){var _e=pm(v);typeof _e.setLabelText=="function"&&_e.setLabelText(le)}}},n.prototype._doUpdateAnimation=function(r,o,l,c,f,p,g){var v=this._polyline,x=this._polygon,O=r.hostModel,w=PAe(this._data,r,this._stackedOnPoints,o,this._coordSys,l,this._valueOrigin),S=w.current,k=w.stackedOnCurrent,P=w.next,E=w.stackedOnNext;if(f&&(k=ed(w.stackedOnCurrent,w.current,l,f,g),S=ed(w.current,null,l,f,g),E=ed(w.stackedOnNext,w.next,l,f,g),P=ed(w.next,null,l,f,g)),z9(S,P)>3e3||x&&z9(k,E)>3e3){v.stopAnimation(),v.setShape({points:P}),x&&(x.stopAnimation(),x.setShape({points:P,stackedOnPoints:E}));return}v.shape.__points=w.current,v.shape.points=S;var M={shape:{points:P}};w.current!==S&&(M.shape.__points=w.next),v.stopAnimation(),pn(v,M,O),x&&(x.setShape({points:S,stackedOnPoints:k}),x.stopAnimation(),pn(x,{shape:{stackedOnPoints:E}},O),v.shape.points!==x.shape.points&&(x.shape.points=v.shape.points));for(var R=[],N=w.status,j=0;j<N.length;j++){var W=N[j].cmd;if(W==="="){var U=r.getItemGraphicEl(N[j].idx1);U&&R.push({el:U,ptIdx:j})}}v.animators&&v.animators.length&&v.animators[0].during(function(){x&&x.dirtyShape();for(var X=v.shape.__points,J=0;J<R.length;J++){var re=R[J].el,ie=R[J].ptIdx*2;re.x=X[ie],re.y=X[ie+1],re.markRedraw()}})},n.prototype.remove=function(r){var o=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(c,f){c.__temp&&(o.remove(c),l.setItemGraphicEl(f,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n})(Dn);function hy(a,n){return{seriesType:a,plan:Sm(),reset:function(r){var o=r.getData(),l=r.coordinateSystem,c=r.pipelineContext,f=n||c.large;if(l){var p=ve(l.dimensions,function(S){return o.mapDimension(S)}).slice(0,2),g=p.length,v=o.getCalculationInfo("stackResultDimension");zu(o,p[0])&&(p[0]=v),zu(o,p[1])&&(p[1]=v);var x=o.getStore(),O=o.getDimensionIndex(p[0]),w=o.getDimensionIndex(p[1]);return g&&{progress:function(S,k){for(var P=S.end-S.start,E=f&&Cl(P*g),M=[],R=[],N=S.start,j=0;N<S.end;N++){var W=void 0;if(g===1){var U=x.get(O,N);W=l.dataToPoint(U,null,R)}else M[0]=x.get(O,N),M[1]=x.get(w,N),W=l.dataToPoint(M,null,R);f?(E[j++]=W[0],E[j++]=W[1]):k.setItemLayout(N,W.slice())}f&&k.setLayout("points",E)}}}}}}var VAe={average:function(a){for(var n=0,r=0,o=0;o<a.length;o++)isNaN(a[o])||(n+=a[o],r++);return r===0?NaN:n/r},sum:function(a){for(var n=0,r=0;r<a.length;r++)n+=a[r]||0;return n},max:function(a){for(var n=-1/0,r=0;r<a.length;r++)a[r]>n&&(n=a[r]);return isFinite(n)?n:NaN},min:function(a){for(var n=1/0,r=0;r<a.length;r++)a[r]<n&&(n=a[r]);return isFinite(n)?n:NaN},nearest:function(a){return a[0]}},FAe=function(a){return Math.round(a.length/2)};function V9(a){return{seriesType:a,reset:function(n,r,o){var l=n.getData(),c=n.get("sampling"),f=n.coordinateSystem,p=l.count();if(p>10&&f.type==="cartesian2d"&&c){var g=f.getBaseAxis(),v=f.getOtherAxis(g),x=g.getExtent(),O=o.getDevicePixelRatio(),w=Math.abs(x[1]-x[0])*(O||1),S=Math.round(p/w);if(isFinite(S)&&S>1){c==="lttb"?n.setData(l.lttbDownSample(l.mapDimension(v.dim),1/S)):c==="minmax"&&n.setData(l.minmaxDownSample(l.mapDimension(v.dim),1/S));var k=void 0;De(c)?k=VAe[c]:Ge(c)&&(k=c),k&&n.setData(l.downSample(l.mapDimension(v.dim),1/S,k,FAe))}}}}}function GAe(a){a.registerChartView(jAe),a.registerSeriesModel(TAe),a.registerLayout(hy("line",!0)),a.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),o=n.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",o)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,V9("line"))}var py=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,o){return Tl(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,o,l){var c=this.coordinateSystem;if(c&&c.clampData){var f=c.clampData(r),p=c.dataToPoint(f);if(l)Z(c.getAxes(),function(w,S){if(w.type==="category"&&o!=null){var k=w.getTicksCoords(),P=w.getTickModel().get("alignWithLabel"),E=f[S],M=o[S]==="x1"||o[S]==="y1";if(M&&!P&&(E+=1),k.length<2)return;if(k.length===2){p[S]=w.toGlobalCoord(w.getExtent()[M?1:0]);return}for(var R=void 0,N=void 0,j=1,W=0;W<k.length;W++){var U=k[W].coord,X=W===k.length-1?k[W-1].tickValue+j:k[W].tickValue;if(X===E){N=U;break}else if(X<E)R=U;else if(R!=null&&X>E){N=(U+R)/2;break}W===1&&(j=X-k[0].tickValue)}N==null&&(R?R&&(N=k[k.length-1].coord):N=k[0].coord),p[S]=w.toGlobalCoord(N)}});else{var g=this.getData(),v=g.getLayout("offset"),x=g.getLayout("size"),O=c.getBaseAxis().isHorizontal()?0:1;p[O]+=v+x/2}return p}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},n})(Bn);Bn.registerClass(py);var WAe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return Tl(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>r&&(r=o),r},n.prototype.brushSelector=function(r,o,l){return l.rect(o.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=Gc(py.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:Ie.color.primary,borderWidth:2}},realtimeSort:!1}),n})(py),UAe=(function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a})(),C2=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="sausage",o}return n.prototype.getDefaultShape=function(){return new UAe},n.prototype.buildPath=function(r,o){var l=o.cx,c=o.cy,f=Math.max(o.r0||0,0),p=Math.max(o.r,0),g=(p-f)*.5,v=f+g,x=o.startAngle,O=o.endAngle,w=o.clockwise,S=Math.PI*2,k=w?O-x<S:x-O<S;k||(x=O-(w?S:-S));var P=Math.cos(x),E=Math.sin(x),M=Math.cos(O),R=Math.sin(O);k?(r.moveTo(P*f+l,E*f+c),r.arc(P*v+l,E*v+c,g,-Math.PI+x,x,!w)):r.moveTo(P*p+l,E*p+c),r.arc(l,c,p,x,O,!w),r.arc(M*v+l,R*v+c,g,O-Math.PI*2,O-Math.PI,!w),f!==0&&r.arc(l,c,f,O,x,w)},n})(Jt);function qAe(a,n){n=n||{};var r=n.isRoundCap;return function(o,l,c){var f=l.position;if(!f||f instanceof Array)return BO(o,l,c);var p=a(f),g=l.distance!=null?l.distance:5,v=this.shape,x=v.cx,O=v.cy,w=v.r,S=v.r0,k=(w+S)/2,P=v.startAngle,E=v.endAngle,M=(P+E)/2,R=r?Math.abs(w-S)/2:0,N=Math.cos,j=Math.sin,W=x+w*N(P),U=O+w*j(P),X="left",J="top";switch(p){case"startArc":W=x+(S-g)*N(M),U=O+(S-g)*j(M),X="center",J="top";break;case"insideStartArc":W=x+(S+g)*N(M),U=O+(S+g)*j(M),X="center",J="bottom";break;case"startAngle":W=x+k*N(P)+k2(P,g+R,!1),U=O+k*j(P)+A2(P,g+R,!1),X="right",J="middle";break;case"insideStartAngle":W=x+k*N(P)+k2(P,-g+R,!1),U=O+k*j(P)+A2(P,-g+R,!1),X="left",J="middle";break;case"middle":W=x+k*N(M),U=O+k*j(M),X="center",J="middle";break;case"endArc":W=x+(w+g)*N(M),U=O+(w+g)*j(M),X="center",J="bottom";break;case"insideEndArc":W=x+(w-g)*N(M),U=O+(w-g)*j(M),X="center",J="top";break;case"endAngle":W=x+k*N(E)+k2(E,g+R,!0),U=O+k*j(E)+A2(E,g+R,!0),X="left",J="middle";break;case"insideEndAngle":W=x+k*N(E)+k2(E,-g+R,!0),U=O+k*j(E)+A2(E,-g+R,!0),X="right",J="middle";break;default:return BO(o,l,c)}return o=o||{},o.x=W,o.y=U,o.align=X,o.verticalAlign=J,o}}function ZAe(a,n,r,o){if(dt(o)){a.setTextConfig({rotation:o});return}else if(ke(n)){a.setTextConfig({rotation:0});return}var l=a.shape,c=l.clockwise?l.startAngle:l.endAngle,f=l.clockwise?l.endAngle:l.startAngle,p=(c+f)/2,g,v=r(n);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":g=p;break;case"startAngle":case"insideStartAngle":g=c;break;case"endAngle":case"insideEndAngle":g=f;break;default:a.setTextConfig({rotation:0});return}var x=Math.PI*1.5-g;v==="middle"&&x>Math.PI/2&&x<Math.PI*1.5&&(x-=Math.PI),a.setTextConfig({rotation:x})}function k2(a,n,r){return n*Math.sin(a)*(r?-1:1)}function A2(a,n,r){return n*Math.cos(a)*(r?1:-1)}function Ml(a,n,r){var o=a.get("borderRadius");if(o==null)return r?{cornerRadius:0}:null;ke(o)||(o=[o,o,o,o]);var l=Math.abs(n.r||0-n.r0||0);return{cornerRadius:ve(o,function(c){return ks(c,l)})}}var lI=Math.max,uI=Math.min;function HAe(a,n){var r=a.getArea&&a.getArea();if(Jc(a,"cartesian2d")){var o=a.getBaseAxis();if(o.type!=="category"||!o.onBand){var l=n.getLayout("bandWidth");o.isHorizontal()?(r.x-=l,r.width+=l*2):(r.y-=l,r.height+=l*2)}}return r}var XAe=(function(a){u(n,a);function n(){var r=a.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,o,l,c){this._model=r,this._removeOnRenderedListener(l),this._updateDrawMode(r);var f=r.get("coordinateSystem");f==="cartesian2d"||f==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,o,l):this._renderNormal(r,o,l,c)):fr("Only cartesian2d and polar supported for bar.")},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,o){this._progressiveEls=[],this._incrementalRenderLarge(r,o)},n.prototype.eachRendered=function(r){Fc(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var o=r.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(r,o,l,c){var f=this.group,p=r.getData(),g=this._data,v=r.coordinateSystem,x=v.getBaseAxis(),O;v.type==="cartesian2d"?O=x.isHorizontal():v.type==="polar"&&(O=x.dim==="angle");var w=r.isAnimationEnabled()?r:null,S=YAe(r,v);S&&this._enableRealtimeSort(S,p,l);var k=r.get("clip",!0)||S,P=HAe(v,p);f.removeClipPath();var E=r.get("roundCap",!0),M=r.get("showBackground",!0),R=r.getModel("backgroundStyle"),N=R.get("borderRadius")||0,j=[],W=this._backgroundEls,U=c&&c.isInitSort,X=c&&c.type==="changeAxisOrder";function J(le){var pe=P2[v.type](p,le);if(!pe)return null;var ce=iPe(v,O,pe);return ce.useStyle(R.getItemStyle()),v.type==="cartesian2d"?ce.setShape("r",N):ce.setShape("cornerRadius",N),j[le]=ce,ce}p.diff(g).add(function(le){var pe=p.getItemModel(le),ce=P2[v.type](p,le,pe);if(ce&&(M&&J(le),!(!p.hasValue(le)||!q9[v.type](ce)))){var ye=!1;k&&(ye=F9[v.type](P,ce));var Oe=G9[v.type](r,p,le,ce,O,w,x.model,!1,E);S&&(Oe.forceLabelAnimation=!0),H9(Oe,p,le,pe,ce,r,O,v.type==="polar"),U?Oe.attr({shape:ce}):S?W9(S,w,Oe,ce,le,O,!1,!1):Jn(Oe,{shape:ce},r,le),p.setItemGraphicEl(le,Oe),f.add(Oe),Oe.ignore=ye}}).update(function(le,pe){var ce=p.getItemModel(le),ye=P2[v.type](p,le,ce);if(ye){if(M){var Oe=void 0;W.length===0?Oe=J(pe):(Oe=W[pe],Oe.useStyle(R.getItemStyle()),v.type==="cartesian2d"?Oe.setShape("r",N):Oe.setShape("cornerRadius",N),j[le]=Oe);var _e=P2[v.type](p,le),Pe=J9(O,_e,v);pn(Oe,{shape:Pe},w,le)}var Se=g.getItemGraphicEl(pe);if(!p.hasValue(le)||!q9[v.type](ye)){f.remove(Se);return}var Re=!1;k&&(Re=F9[v.type](P,ye),Re&&f.remove(Se));var Ne=Se&&(Se.type==="sector"&&E||Se.type==="sausage"&&!E);if(Ne&&(Se&&Du(Se,r,pe),Se=null),Se?Fo(Se):Se=G9[v.type](r,p,le,ye,O,w,x.model,!0,E),S&&(Se.forceLabelAnimation=!0),X){var Be=Se.getTextContent();if(Be){var Fe=pm(Be);Fe.prevValue!=null&&(Fe.prevValue=Fe.value)}}else H9(Se,p,le,ce,ye,r,O,v.type==="polar");U?Se.attr({shape:ye}):S?W9(S,w,Se,ye,le,O,!0,X):pn(Se,{shape:ye},r,le,null),p.setItemGraphicEl(le,Se),Se.ignore=Re,f.add(Se)}}).remove(function(le){var pe=g.getItemGraphicEl(le);pe&&Du(pe,r,le)}).execute();var re=this._backgroundGroup||(this._backgroundGroup=new _t);re.removeAll();for(var ie=0;ie<j.length;++ie)re.add(j[ie]);f.add(re),this._backgroundEls=j,this._data=p},n.prototype._renderLarge=function(r,o,l){this._clear(),Y9(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,o){this._removeBackground(),Y9(o,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var o=r.get("clip",!0)&&fy(r.coordinateSystem,!1,r),l=this.group;o?l.setClipPath(o):l.removeClipPath()},n.prototype._enableRealtimeSort=function(r,o,l){var c=this;if(o.count()){var f=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,r,l),this._isFirstFrame=!1;else{var p=function(g){var v=o.getItemGraphicEl(g),x=v&&v.shape;return x&&Math.abs(f.isHorizontal()?x.height:x.width)||0};this._onRendered=function(){c._updateSortWithinSameData(o,p,f,l)},l.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,o,l){var c=[];return r.each(r.mapDimension(o.dim),function(f,p){var g=l(p);g=g??NaN,c.push({dataIndex:p,mappedValue:g,ordinalNumber:f})}),c.sort(function(f,p){return p.mappedValue-f.mappedValue}),{ordinalNumbers:ve(c,function(f){return f.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,o,l){for(var c=l.scale,f=r.mapDimension(l.dim),p=Number.MAX_VALUE,g=0,v=c.getOrdinalMeta().categories.length;g<v;++g){var x=r.rawIndexOf(f,c.getRawOrdinalNumber(g)),O=x<0?Number.MIN_VALUE:o(r.indexOfRawIndex(x));if(O>p)return!0;p=O}return!1},n.prototype._isOrderDifferentInView=function(r,o){for(var l=o.scale,c=l.getExtent(),f=Math.max(0,c[0]),p=Math.min(c[1],l.getOrdinalMeta().categories.length-1);f<=p;++f)if(r.ordinalNumbers[f]!==l.getRawOrdinalNumber(f))return!0},n.prototype._updateSortWithinSameData=function(r,o,l,c){if(this._isOrderChangedWithinSameData(r,o,l)){var f=this._dataSort(r,l,o);this._isOrderDifferentInView(f,l)&&(this._removeOnRenderedListener(c),c.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:f}))}},n.prototype._dispatchInitSort=function(r,o,l){var c=o.baseAxis,f=this._dataSort(r,c,function(p){return r.get(r.mapDimension(o.otherAxis.dim),p)});l.dispatchAction({type:"changeAxisOrder",componentType:c.dim+"Axis",isInitSort:!0,axisId:c.index,sortInfo:f})},n.prototype.remove=function(r,o){this._clear(this._model),this._removeOnRenderedListener(o)},n.prototype.dispose=function(r,o){this._removeOnRenderedListener(o)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var o=this.group,l=this._data;r&&r.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(c){Du(c,r,Et(c).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n})(Dn),F9={cartesian2d:function(a,n){var r=n.width<0?-1:1,o=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height);var l=a.x+a.width,c=a.y+a.height,f=lI(n.x,a.x),p=uI(n.x+n.width,l),g=lI(n.y,a.y),v=uI(n.y+n.height,c),x=p<f,O=v<g;return n.x=x&&f>l?p:f,n.y=O&&g>c?v:g,n.width=x?0:p-f,n.height=O?0:v-g,r<0&&(n.x+=n.width,n.width=-n.width),o<0&&(n.y+=n.height,n.height=-n.height),x||O},polar:function(a,n){var r=n.r0<=n.r?1:-1;if(r<0){var o=n.r;n.r=n.r0,n.r0=o}var l=uI(n.r,a.r),c=lI(n.r0,a.r0);n.r=l,n.r0=c;var f=l-c<0;if(r<0){var o=n.r;n.r=n.r0,n.r0=o}return f}},G9={cartesian2d:function(a,n,r,o,l,c,f,p,g){var v=new Zt({shape:ee({},o),z2:1});if(v.__dataIndex=r,v.name="item",c){var x=v.shape,O=l?"height":"width";x[O]=0}return v},polar:function(a,n,r,o,l,c,f,p,g){var v=!l&&g?C2:Vi,x=new v({shape:o,z2:1});x.name="item";var O=Z9(l);if(x.calculateTextPosition=qAe(O,{isRoundCap:v===C2}),c){var w=x.shape,S=l?"r":"endAngle",k={};w[S]=l?o.r0:o.startAngle,k[S]=o[S],(p?pn:Jn)(x,{shape:k},c)}return x}};function YAe(a,n){var r=a.get("realtimeSort",!0),o=n.getBaseAxis();if(r&&(o.type!=="category"&&fr("`realtimeSort` will not work because this bar series is not based on a category axis."),n.type!=="cartesian2d"&&fr("`realtimeSort` will not work because this bar series is not on cartesian2d.")),r&&o.type==="category"&&n.type==="cartesian2d")return{baseAxis:o,otherAxis:n.getOtherAxis(o)}}function W9(a,n,r,o,l,c,f,p){var g,v;c?(v={x:o.x,width:o.width},g={y:o.y,height:o.height}):(v={y:o.y,height:o.height},g={x:o.x,width:o.width}),p||(f?pn:Jn)(r,{shape:g},n,l,null);var x=n?a.baseAxis.model:null;(f?pn:Jn)(r,{shape:v},x,l)}function U9(a,n){for(var r=0;r<n.length;r++)if(!isFinite(a[n[r]]))return!0;return!1}var KAe=["x","y","width","height"],JAe=["cx","cy","r","startAngle","endAngle"],q9={cartesian2d:function(a){return!U9(a,KAe)},polar:function(a){return!U9(a,JAe)}},P2={cartesian2d:function(a,n,r){var o=a.getItemLayout(n);if(!o)return null;var l=r?tPe(r,o):0,c=o.width>0?1:-1,f=o.height>0?1:-1;return{x:o.x+c*l/2,y:o.y+f*l/2,width:o.width-c*l,height:o.height-f*l}},polar:function(a,n,r){var o=a.getItemLayout(n);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function ePe(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function Z9(a){return(function(n){var r=n?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+r;default:return o}}})(a)}function H9(a,n,r,o,l,c,f,p){var g=n.getItemVisual(r,"style");if(p){if(!c.get("roundCap")){var x=a.shape,O=Ml(o.getModel("itemStyle"),x,!0);ee(x,O),a.setShape(x)}}else{var v=o.get(["itemStyle","borderRadius"])||0;a.setShape("r",v)}a.useStyle(g);var w=o.getShallow("cursor");w&&a.attr("cursor",w);var S=p?f?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":f?l.height>=0?"bottom":"top":l.width>=0?"right":"left",k=Jr(o);hi(a,k,{labelFetcher:c,labelDataIndex:r,defaultText:jm(c.getData(),r),inheritColor:g.fill,defaultOpacity:g.opacity,defaultOutsidePosition:S});var P=a.getTextContent();if(p&&P){var E=o.get(["label","position"]);a.textConfig.inside=E==="middle"?!0:null,ZAe(a,E==="outside"?S:E,Z9(f),o.get(["label","rotate"]))}d7(P,k,c.getRawValue(r),function(R){return k9(n,R)});var M=o.getModel(["emphasis"]);ar(a,M.get("focus"),M.get("blurScope"),M.get("disabled")),Kr(a,o),ePe(l)&&(a.style.fill="none",a.style.stroke="none",Z(a.states,function(R){R.style&&(R.style.fill=R.style.stroke="none")}))}function tPe(a,n){var r=a.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var o=a.get(["itemStyle","borderWidth"])||0,l=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),c=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(o,l,c)}var nPe=(function(){function a(){}return a})(),X9=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="largeBar",o}return n.prototype.getDefaultShape=function(){return new nPe},n.prototype.buildPath=function(r,o){for(var l=o.points,c=this.baseDimIdx,f=1-this.baseDimIdx,p=[],g=[],v=this.barWidth,x=0;x<l.length;x+=3)g[c]=v,g[f]=l[x+2],p[c]=l[x+c],p[f]=l[x+f],r.rect(p[0],p[1],g[0],g[1])},n})(Jt);function Y9(a,n,r,o){var l=a.getData(),c=l.getLayout("valueAxisHorizontal")?1:0,f=l.getLayout("largeDataIndices"),p=l.getLayout("size"),g=a.getModel("backgroundStyle"),v=l.getLayout("largeBackgroundPoints");if(v){var x=new X9({shape:{points:v},incremental:!!o,silent:!0,z2:0});x.baseDimIdx=c,x.largeDataIndices=f,x.barWidth=p,x.useStyle(g.getItemStyle()),n.add(x),r&&r.push(x)}var O=new X9({shape:{points:l.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});O.baseDimIdx=c,O.largeDataIndices=f,O.barWidth=p,n.add(O),O.useStyle(l.getVisual("style")),O.style.stroke=null,Et(O).seriesIndex=a.seriesIndex,a.get("silent")||(O.on("mousedown",K9),O.on("mousemove",K9)),r&&r.push(O)}var K9=Qb(function(a){var n=this,r=rPe(n,a.offsetX,a.offsetY);Et(n).dataIndex=r>=0?r:null},30,!1);function rPe(a,n,r){for(var o=a.baseDimIdx,l=1-o,c=a.shape.points,f=a.largeDataIndices,p=[],g=[],v=a.barWidth,x=0,O=c.length/3;x<O;x++){var w=x*3;if(g[o]=v,g[l]=c[w+2],p[o]=c[w+o],p[l]=c[w+l],g[l]<0&&(p[l]+=g[l],g[l]=-g[l]),n>=p[0]&&n<=p[0]+g[0]&&r>=p[1]&&r<=p[1]+g[1])return f[x]}return-1}function J9(a,n,r){if(Jc(r,"cartesian2d")){var o=n,l=r.getArea();return{x:a?o.x:l.x,y:a?l.y:o.y,width:a?o.width:l.width,height:a?l.height:o.height}}else{var l=r.getArea(),c=n;return{cx:l.cx,cy:l.cy,r0:a?l.r0:c.r0,r:a?l.r:c.r,startAngle:a?c.startAngle:0,endAngle:a?c.endAngle:Math.PI*2}}}function iPe(a,n,r){var o=a.type==="polar"?Vi:Zt;return new o({shape:J9(n,r,a),silent:!0,z2:0})}function aPe(a){a.registerChartView(XAe),a.registerSeriesModel(WAe),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Ue(hW,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,pW("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,V9("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var o=n.componentType||"series";r.eachComponent({mainType:o,query:n},function(l){n.sortInfo&&l.axis.setCategorySortInfo(n.sortInfo)})})}var eU=Math.PI*2,E2=Math.PI/180;function oPe(a,n,r){n.eachSeriesByType(a,function(o){var l=o.getData(),c=l.mapDimension("value"),f=M7(o,r),p=f.cx,g=f.cy,v=f.r,x=f.r0,O=f.viewRect,w=-o.get("startAngle")*E2,S=o.get("endAngle"),k=o.get("padAngle")*E2;S=S==="auto"?w-eU:-S*E2;var P=o.get("minAngle")*E2,E=P+k,M=0;l.each(c,function(Pe){!isNaN(Pe)&&M++});var R=l.getSum(c),N=Math.PI/(R||M)*2,j=o.get("clockwise"),W=o.get("roseType"),U=o.get("stillShowZeroSum"),X=l.getDataExtent(c);X[0]=0;var J=j?1:-1,re=[w,S],ie=J*k/2;eb(re,!j),w=re[0],S=re[1];var le=tU(o);le.startAngle=w,le.endAngle=S,le.clockwise=j,le.cx=p,le.cy=g,le.r=v,le.r0=x;var pe=Math.abs(S-w),ce=pe,ye=0,Oe=w;if(l.setLayout({viewRect:O,r:v}),l.each(c,function(Pe,Se){var Re;if(isNaN(Pe)){l.setItemLayout(Se,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:j,cx:p,cy:g,r0:x,r:W?NaN:v});return}W!=="area"?Re=R===0&&U?N:Pe*N:Re=pe/M,Re<E?(Re=E,ce-=E):ye+=Pe;var Ne=Oe+J*Re,Be=0,Fe=0;k>Re?(Be=Oe+J*Re/2,Fe=Be):(Be=Oe+ie,Fe=Ne-ie),l.setItemLayout(Se,{angle:Re,startAngle:Be,endAngle:Fe,clockwise:j,cx:p,cy:g,r0:x,r:W?wn(Pe,X,[x,v]):v}),Oe=Ne}),ce<eU&&M)if(ce<=.001){var _e=pe/M;l.each(c,function(Pe,Se){if(!isNaN(Pe)){var Re=l.getItemLayout(Se);Re.angle=_e;var Ne=0,Be=0;_e<k?(Ne=w+J*(Se+1/2)*_e,Be=Ne):(Ne=w+J*Se*_e+ie,Be=w+J*(Se+1)*_e-ie),Re.startAngle=Ne,Re.endAngle=Be}})}else N=ce/ye,Oe=w,l.each(c,function(Pe,Se){if(!isNaN(Pe)){var Re=l.getItemLayout(Se),Ne=Re.angle===E?E:Pe*N,Be=0,Fe=0;Ne<k?(Be=Oe+J*Ne/2,Fe=Be):(Be=Oe+ie,Fe=Oe+J*Ne-ie),Re.startAngle=Be,Re.endAngle=Fe,Oe+=J*Ne}})})}var tU=Kt();function Vm(a){return{seriesType:a,reset:function(n,r){var o=r.findComponents({mainType:"legend"});if(!(!o||!o.length)){var l=n.getData();l.filterSelf(function(c){for(var f=l.getName(c),p=0;p<o.length;p++)if(!o[p].isSelected(f))return!1;return!0})}}}}var sPe=Math.PI/180;function nU(a,n,r,o,l,c,f,p,g,v){if(a.length<2)return;function x(P){for(var E=P.rB,M=E*E,R=0;R<P.list.length;R++){var N=P.list[R],j=Math.abs(N.label.y-r),W=o+N.len,U=W*W,X=Math.sqrt(Math.abs((1-j*j/M)*U)),J=n+(X+N.len2)*l,re=J-N.label.x,ie=N.targetTextWidth-re*l;rU(N,ie,!0),N.label.x=J}}function O(P){for(var E={list:[],maxY:0},M={list:[],maxY:0},R=0;R<P.length;R++)if(P[R].labelAlignTo==="none"){var N=P[R],j=N.label.y>r?M:E,W=Math.abs(N.label.y-r);if(W>=j.maxY){var U=N.label.x-n-N.len2*l,X=o+N.len,J=Math.abs(U)<X?Math.sqrt(W*W/(1-U*U/X/X)):X;j.rB=J,j.maxY=W}j.list.push(N)}x(E),x(M)}for(var w=a.length,S=0;S<w;S++)if(a[S].position==="outer"&&a[S].labelAlignTo==="labelLine"){var k=a[S].label.x-v;a[S].linePoints[1][0]+=k,a[S].label.x=v}FD(a,1,g,g+f)&&O(a)}function lPe(a,n,r,o,l,c,f,p){for(var g=[],v=[],x=Number.MAX_VALUE,O=-Number.MAX_VALUE,w=0;w<a.length;w++){var S=a[w].label;cI(a[w])||(S.x<n?(x=Math.min(x,S.x),g.push(a[w])):(O=Math.max(O,S.x),v.push(a[w])))}for(var w=0;w<a.length;w++){var k=a[w];if(!cI(k)&&k.linePoints){if(k.labelStyleWidth!=null)continue;var S=k.label,P=k.linePoints,E=void 0;k.labelAlignTo==="edge"?S.x<n?E=P[2][0]-k.labelDistance-f-k.edgeDistance:E=f+l-k.edgeDistance-P[2][0]-k.labelDistance:k.labelAlignTo==="labelLine"?S.x<n?E=x-f-k.bleedMargin:E=f+l-O-k.bleedMargin:S.x<n?E=S.x-f-k.bleedMargin:E=f+l-S.x-k.bleedMargin,k.targetTextWidth=E,rU(k,E,!1)}}nU(v,n,r,o,1,l,c,f,p,O),nU(g,n,r,o,-1,l,c,f,p,x);for(var w=0;w<a.length;w++){var k=a[w];if(!cI(k)&&k.linePoints){var S=k.label,P=k.linePoints,M=k.labelAlignTo==="edge",R=S.style.padding,N=R?R[1]+R[3]:0,j=S.style.backgroundColor?0:N,W=k.rect.width+j,U=P[1][0]-P[2][0];M?S.x<n?P[2][0]=f+k.edgeDistance+W+k.labelDistance:P[2][0]=f+l-k.edgeDistance-W-k.labelDistance:(S.x<n?P[2][0]=S.x+k.labelDistance:P[2][0]=S.x-k.labelDistance,P[1][0]=P[2][0]+U),P[1][1]=P[2][1]=S.y}}}function rU(a,n,r){if(a.labelStyleWidth==null){var o=a.label,l=o.style,c=a.rect,f=l.backgroundColor,p=l.padding,g=p?p[1]+p[3]:0,v=l.overflow,x=c.width+(f?0:g);if(n<x||r){if(v&&v.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-g);var O=o.getBoundingRect();o.setStyle("width",Math.ceil(O.width)),o.setStyle("backgroundColor",f)}else{var w=n-g,S=n<x?w:r?w>a.unconstrainedWidth?null:w:null;o.setStyle("width",S)}iU(c,o)}}}function iU(a,n){aU.rect=a,UW(aU,n,uPe)}var uPe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},aU={};function cI(a){return a.position==="center"}function cPe(a){var n=a.getData(),r=[],o,l,c=!1,f=(a.get("minShowLabelAngle")||0)*sPe,p=n.getLayout("viewRect"),g=n.getLayout("r"),v=p.width,x=p.x,O=p.y,w=p.height;function S(U){U.ignore=!0}function k(U){if(!U.ignore)return!0;for(var X in U.states)if(U.states[X].ignore===!1)return!0;return!1}n.each(function(U){var X=n.getItemGraphicEl(U),J=X.shape,re=X.getTextContent(),ie=X.getTextGuideLine(),le=n.getItemModel(U),pe=le.getModel("label"),ce=pe.get("position")||le.get(["emphasis","label","position"]),ye=pe.get("distanceToLabelLine"),Oe=pe.get("alignTo"),_e=it(pe.get("edgeDistance"),v),Pe=pe.get("bleedMargin");Pe==null&&(Pe=Math.min(v,w)>200?10:2);var Se=le.getModel("labelLine"),Re=Se.get("length");Re=it(Re,v);var Ne=Se.get("length2");if(Ne=it(Ne,v),Math.abs(J.endAngle-J.startAngle)<f){Z(re.states,S),re.ignore=!0,ie&&(Z(ie.states,S),ie.ignore=!0);return}if(k(re)){var Be=(J.startAngle+J.endAngle)/2,Fe=Math.cos(Be),rt=Math.sin(Be),ht,Mt,vn,Rn;o=J.cx,l=J.cy;var Dt=ce==="inside"||ce==="inner";if(ce==="center")ht=J.cx,Mt=J.cy,Rn="center";else{var Ot=(Dt?(J.r+J.r0)/2*Fe:J.r*Fe)+o,Ft=(Dt?(J.r+J.r0)/2*rt:J.r*rt)+l;if(ht=Ot+Fe*3,Mt=Ft+rt*3,!Dt){var pt=Ot+Fe*(Re+g-J.r),Rt=Ft+rt*(Re+g-J.r),Wn=pt+(Fe<0?-1:1)*Ne,mn=Rt;Oe==="edge"?ht=Fe<0?x+_e:x+v-_e:ht=Wn+(Fe<0?-ye:ye),Mt=mn,vn=[[Ot,Ft],[pt,Rt],[Wn,mn]]}Rn=Dt?"center":Oe==="edge"?Fe>0?"right":"left":Fe>0?"left":"right"}var In=Math.PI,Un=0,gi=pe.get("rotate");if(dt(gi))Un=gi*(In/180);else if(ce==="center")Un=0;else if(gi==="radial"||gi===!0){var So=Fe<0?-Be+In:-Be;Un=So}else if(gi==="tangential"&&ce!=="outside"&&ce!=="outer"){var Wa=Math.atan2(Fe,rt);Wa<0&&(Wa=In*2+Wa);var Sh=rt>0;Sh&&(Wa=In+Wa),Un=Wa-In}if(c=!!Un,re.x=ht,re.y=Mt,re.rotation=Un,re.setStyle({verticalAlign:"middle"}),Dt){re.setStyle({align:Rn});var gL=re.states.select;gL&&(gL.x+=re.x,gL.y+=re.y)}else{var fg=new wt(0,0,0,0);iU(fg,re),r.push({label:re,labelLine:ie,position:ce,len:Re,len2:Ne,minTurnAngle:Se.get("minTurnAngle"),maxSurfaceAngle:Se.get("maxSurfaceAngle"),surfaceNormal:new bt(Fe,rt),linePoints:vn,textAlign:Rn,labelDistance:ye,labelAlignTo:Oe,edgeDistance:_e,bleedMargin:Pe,rect:fg,unconstrainedWidth:fg.width,labelStyleWidth:re.style.width})}X.setTextConfig({inside:Dt})}}),!c&&a.get("avoidLabelOverlap")&&lPe(r,o,l,g,v,w,x,O);for(var P=0;P<r.length;P++){var E=r[P],M=E.label,R=E.labelLine,N=isNaN(M.x)||isNaN(M.y);if(M){M.setStyle({align:E.textAlign}),N&&(Z(M.states,S),M.ignore=!0);var j=M.states.select;j&&(j.x+=M.x,j.y+=M.y)}if(R){var W=E.linePoints;N||!W?(Z(R.states,S),R.ignore=!0):(VW(W,E.minTurnAngle),Eke(W,E.surfaceNormal,E.maxSurfaceAngle),R.setShape({points:W}),M.__hostTarget.textGuideLineConfig={anchor:new bt(W[0][0],W[0][1])})}}}var dPe=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;c.z2=2;var f=new un;return c.setTextContent(f),c.updateData(r,o,l,!0),c}return n.prototype.updateData=function(r,o,l,c){var f=this,p=r.hostModel,g=r.getItemModel(o),v=g.getModel("emphasis"),x=r.getItemLayout(o),O=ee(Ml(g.getModel("itemStyle"),x,!0),x);if(isNaN(O.startAngle)){f.setShape(O);return}if(c){f.setShape(O);var w=p.getShallow("animationType");p.ecModel.ssr?(Jn(f,{scaleX:0,scaleY:0},p,{dataIndex:o,isFrom:!0}),f.originX=O.cx,f.originY=O.cy):w==="scale"?(f.shape.r=x.r0,Jn(f,{shape:{r:x.r}},p,o)):l!=null?(f.setShape({startAngle:l,endAngle:l}),Jn(f,{shape:{startAngle:x.startAngle,endAngle:x.endAngle}},p,o)):(f.shape.endAngle=x.startAngle,pn(f,{shape:{endAngle:x.endAngle}},p,o))}else Fo(f),pn(f,{shape:O},p,o);f.useStyle(r.getItemVisual(o,"style")),Kr(f,g);var S=(x.startAngle+x.endAngle)/2,k=p.get("selectedOffset"),P=Math.cos(S)*k,E=Math.sin(S)*k,M=g.getShallow("cursor");M&&f.attr("cursor",M),this._updateLabel(p,r,o),f.ensureState("emphasis").shape=ee({r:x.r+(v.get("scale")&&v.get("scaleSize")||0)},Ml(v.getModel("itemStyle"),x)),ee(f.ensureState("select"),{x:P,y:E,shape:Ml(g.getModel(["select","itemStyle"]),x)}),ee(f.ensureState("blur"),{shape:Ml(g.getModel(["blur","itemStyle"]),x)});var R=f.getTextGuideLine(),N=f.getTextContent();R&&ee(R.ensureState("select"),{x:P,y:E}),ee(N.ensureState("select"),{x:P,y:E}),ar(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r,o,l){var c=this,f=o.getItemModel(l),p=f.getModel("labelLine"),g=o.getItemVisual(l,"style"),v=g&&g.fill,x=g&&g.opacity;hi(c,Jr(f),{labelFetcher:o.hostModel,labelDataIndex:l,inheritColor:v,defaultOpacity:x,defaultText:r.getFormattedLabel(l,"normal")||o.getName(l)});var O=c.getTextContent();c.setTextConfig({position:null,rotation:null}),O.attr({z2:10});var w=f.get(["label","position"]);if(w!=="outside"&&w!=="outer")c.removeTextGuideLine();else{var S=this.getTextGuideLine();S||(S=new Ei,this.setTextGuideLine(S)),zD(this,BD(f),{stroke:v,opacity:zt(p.get(["lineStyle","opacity"]),x,1)})}},n})(Vi),fPe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,o,l,c){var f=r.getData(),p=this._data,g=this.group,v;if(!p&&f.count()>0){for(var x=f.getItemLayout(0),O=1;isNaN(x&&x.startAngle)&&O<f.count();++O)x=f.getItemLayout(O);x&&(v=x.startAngle)}if(this._emptyCircleSector&&g.remove(this._emptyCircleSector),f.count()===0&&r.get("showEmptyCircle")){var w=tU(r),S=new Vi({shape:ne(w)});S.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=S,g.add(S)}f.diff(p).add(function(k){var P=new dPe(f,k,v);f.setItemGraphicEl(k,P),g.add(P)}).update(function(k,P){var E=p.getItemGraphicEl(P);E.updateData(f,k,v),E.off("click"),g.add(E),f.setItemGraphicEl(k,E)}).remove(function(k){var P=p.getItemGraphicEl(k);Du(P,r,k)}).execute(),cPe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=f)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,o){var l=o.getData(),c=l.getItemLayout(0);if(c){var f=r[0]-c.cx,p=r[1]-c.cy,g=Math.sqrt(f*f+p*p);return g<=c.r&&g>=c.r0}},n.type="pie",n})(Dn);function Fm(a,n,r){n=ke(n)&&{coordDimensions:n}||ee({encodeDefine:a.getEncode()},n);var o=a.getSource(),l=Rm(o,n).dimensions,c=new ra(l,a);return c.initData(o,r),c}var Gm=(function(){function a(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return a.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},a.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},a.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},a.prototype.getItemVisual=function(n,r){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,r)},a})(),hPe=Kt(),oU=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gm(Ee(this.getData,this),Ee(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return Fm(this,{coordDimensions:["value"],encodeDefaulter:Ue(kM,this)})},n.prototype.getDataParams=function(r){var o=this.getData(),l=hPe(o),c=l.seats;if(!c){var f=[];o.each(o.mapDimension("value"),function(g){f.push(g)}),c=l.seats=b8(f,o.hostModel.get("percentPrecision"))}var p=a.prototype.getDataParams.call(this,r);return p.percent=c[r]||0,p.$vars.push("percent"),p},n.prototype._defaultLabelLine=function(r){yf(r,"labelLine",["show"]);var o=r.labelLine,l=r.emphasis.labelLine;o.show=o.show&&r.label.show,l.show=l.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n})(Bn);nwe({fullType:oU.type,getCoord2:function(a){return a.getShallow("center")}});function pPe(a){return{seriesType:a,reset:function(n,r){var o=n.getData();o.filterSelf(function(l){var c=o.mapDimension("value"),f=o.get(c,l);return!(dt(f)&&!isNaN(f)&&f<0)})}}}function mPe(a){a.registerChartView(fPe),a.registerSeriesModel(oU),nG("pie",a.registerAction),a.registerLayout(Ue(oPe,"pie")),a.registerProcessor(Vm("pie")),a.registerProcessor(pPe("pie"))}var gPe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,o){return Tl(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},n.prototype.brushSelector=function(r,o,l){return l.point(o.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:Ie.color.primary}},universalTransition:{divideShape:"clone"}},n})(Bn),sU=4,vPe=(function(){function a(){}return a})(),yPe=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.getDefaultShape=function(){return new vPe},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,o){var l=o.points,c=o.size,f=this.symbolProxy,p=f.shape,g=r.getContext?r.getContext():r,v=g&&c[0]<sU,x=this.softClipShape,O;if(v){this._ctx=g;return}for(this._ctx=null,O=this._off;O<l.length;){var w=l[O++],S=l[O++];isNaN(w)||isNaN(S)||x&&!x.contain(w,S)||(p.x=w-c[0]/2,p.y=S-c[1]/2,p.width=c[0],p.height=c[1],f.buildPath(r,p,!0))}this.incremental&&(this._off=O,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,o=r.points,l=r.size,c=this._ctx,f=this.softClipShape,p;if(c){for(p=this._off;p<o.length;){var g=o[p++],v=o[p++];isNaN(g)||isNaN(v)||f&&!f.contain(g,v)||c.fillRect(g-l[0]/2,v-l[1]/2,l[0],l[1])}this.incremental&&(this._off=p,this.notClear=!0)}},n.prototype.findDataIndex=function(r,o){for(var l=this.shape,c=l.points,f=l.size,p=Math.max(f[0],4),g=Math.max(f[1],4),v=c.length/2-1;v>=0;v--){var x=v*2,O=c[x]-p/2,w=c[x+1]-g/2;if(r>=O&&o>=w&&r<=O+p&&o<=w+g)return v}return-1},n.prototype.contain=function(r,o){var l=this.transformCoordToLocal(r,o),c=this.getBoundingRect();if(r=l[0],o=l[1],c.contain(r,o)){var f=this.hoverDataIdx=this.findDataIndex(r,o);return f>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var o=this.shape,l=o.points,c=o.size,f=c[0],p=c[1],g=1/0,v=1/0,x=-1/0,O=-1/0,w=0;w<l.length;){var S=l[w++],k=l[w++];g=Math.min(S,g),x=Math.max(S,x),v=Math.min(k,v),O=Math.max(k,O)}r=this._rect=new wt(g-f/2,v-p/2,x-g+f,O-v+p)}return r},n})(Jt),xPe=(function(){function a(){this.group=new _t}return a.prototype.updateData=function(n,r){this._clear();var o=this._create();o.setShape({points:n.getLayout("points")}),this._setCommon(o,n,r)},a.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var l=(o.endIndex-o.startIndex)*2,c=o.startIndex*4*2;r=new Float32Array(r.buffer,c,l)}o.setShape("points",r),o.reset()})},a.prototype.incrementalPrepareUpdate=function(n){this._clear()},a.prototype.incrementalUpdate=function(n,r,o){var l=this._newAdded[0],c=r.getLayout("points"),f=l&&l.shape.points;if(f&&f.length<2e4){var p=f.length,g=new Float32Array(p+c.length);g.set(f),g.set(c,p),l.endIndex=n.end,l.setShape({points:g})}else{this._newAdded=[];var v=this._create();v.startIndex=n.start,v.endIndex=n.end,v.incremental=!0,v.setShape({points:c}),this._setCommon(v,r,o)}},a.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},a.prototype._create=function(){var n=new yPe({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},a.prototype._setCommon=function(n,r,o){var l=r.hostModel;o=o||{};var c=r.getVisual("symbolSize");n.setShape("size",c instanceof Array?c:[c,c]),n.softClipShape=o.clipShape||null,n.symbolProxy=Br(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var f=n.shape.size[0]<sU;n.useStyle(l.getModel("itemStyle").getItemStyle(f?["color","shadowBlur","shadowColor"]:["color"]));var p=r.getVisual("style"),g=p&&p.fill;g&&n.setColor(g);var v=Et(n);v.seriesIndex=l.seriesIndex,n.on("mousemove",function(x){v.dataIndex=null;var O=n.hoverDataIdx;O>=0&&(v.dataIndex=O+(n.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a})(),_Pe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=r.getData(),f=this._updateSymbolDraw(c,r);f.updateData(c,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,o,l){var c=r.getData(),f=this._updateSymbolDraw(c,r);f.incrementalPrepareUpdate(c),this._finished=!1},n.prototype.incrementalRender=function(r,o,l){this._symbolDraw.incrementalUpdate(r,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=r.end===o.getData().count()},n.prototype.updateTransform=function(r,o,l){var c=r.getData();if(this.group.dirty(),!this._finished||c.count()>1e4)return{update:!0};var f=hy("").reset(r,o,l);f.progress&&f.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout(c)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){if(r.get("clip",!0)){var o=r.coordinateSystem;return o&&o.getArea&&o.getArea(.1)}},n.prototype._updateSymbolDraw=function(r,o){var l=this._symbolDraw,c=o.pipelineContext,f=c.large;return(!l||f!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=f?new xPe:new dy,this._isLargeDraw=f,this.group.removeAll()),this.group.add(l.group),l},n.prototype.remove=function(r,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n})(Dn),lU={left:0,right:0,top:0,bottom:0},M2=["25%","25%"],OPe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.mergeDefaultAndTheme=function(r,o){var l=Ff(r.outerBounds);a.prototype.mergeDefaultAndTheme.apply(this,arguments),l&&r.outerBounds&&Sl(r.outerBounds,l)},n.prototype.mergeOption=function(r,o){a.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&r.outerBounds&&Sl(this.option.outerBounds,r.outerBounds)},n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:lU,outerBoundsContain:"all",outerBoundsClampWidth:M2[0],outerBoundsClampHeight:M2[1],backgroundColor:Ie.color.transparent,borderWidth:1,borderColor:Ie.color.neutral30},n})(Ht),dI=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",br).models[0]},n.type="cartesian2dAxis",n})(Ht);we(dI,Bm);var uU={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:Ie.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:Ie.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:Ie.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[Ie.color.backgroundTint,Ie.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:Ie.color.neutral00,borderColor:Ie.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},bPe=me({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},uU),fI=me({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:Ie.color.axisMinorSplitLine,width:1}}},uU),wPe=me({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},fI),SPe=be({logBase:10},fI),cU={category:bPe,value:fI,time:wPe,log:SPe},TPe={value:1,category:1,time:1,log:1},hI=null;function CPe(a){hI||(hI=a)}function my(){return hI}function Wm(a,n,r,o){Z(TPe,function(l,c){var f=me(me({},cU[c],!0),o,!0),p=(function(g){u(v,g);function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.type=n+"Axis."+c,x}return v.prototype.mergeDefaultAndTheme=function(x,O){var w=z0(this),S=w?Ff(x):{},k=O.getTheme();me(x,k.get(c+"Axis")),me(x,this.getDefaultOption()),x.type=dU(x),w&&Sl(x,S,w)},v.prototype.optionUpdated=function(){var x=this.option;x.type==="category"&&(this.__ordinalMeta=ny.createByAxisModel(this))},v.prototype.getCategories=function(x){var O=this.option;if(O.type==="category")return x?O.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.prototype.updateAxisBreaks=function(x){var O=my();return O?O.updateModelAxisBreak(this,x):{breaks:[]}},v.type=n+"Axis."+c,v.defaultOption=f,v})(r);a.registerComponentModel(p)}),a.registerSubTypeDefaulter(n+"Axis",dU)}function dU(a){return a.type||(a.data?"category":"value")}var kPe=(function(){function a(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return a.prototype.getAxis=function(n){return this._axes[n]},a.prototype.getAxes=function(){return ve(this._dimList,function(n){return this._axes[n]},this)},a.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),Qe(this.getAxes(),function(r){return r.scale.type===n})},a.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},a})(),pI=["x","y"];function fU(a){return(a.type==="interval"||a.type==="time")&&!a.hasBreaks()}var APe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=pI,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!fU(r)||!fU(o))){var l=r.getExtent(),c=o.getExtent(),f=this.dataToPoint([l[0],c[0]]),p=this.dataToPoint([l[1],c[1]]),g=l[1]-l[0],v=c[1]-c[0];if(!(!g||!v)){var x=(p[0]-f[0])/g,O=(p[1]-f[1])/v,w=f[0]-l[0]*x,S=f[1]-c[0]*O,k=this._transform=[x,0,0,O,w,S];this._invTransform=za([],k)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var o=this.getAxis("x"),l=this.getAxis("y");return o.contain(o.toLocalCoord(r[0]))&&l.contain(l.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,o){var l=this.dataToPoint(r),c=this.dataToPoint(o),f=this.getArea(),p=new wt(l[0],l[1],c[0]-l[0],c[1]-l[1]);return f.intersect(p)},n.prototype.dataToPoint=function(r,o,l){l=l||[];var c=r[0],f=r[1];if(this._transform&&c!=null&&isFinite(c)&&f!=null&&isFinite(f))return yr(l,r,this._transform);var p=this.getAxis("x"),g=this.getAxis("y");return l[0]=p.toGlobalCoord(p.dataToCoord(c,o)),l[1]=g.toGlobalCoord(g.dataToCoord(f,o)),l},n.prototype.clampData=function(r,o){var l=this.getAxis("x").scale,c=this.getAxis("y").scale,f=l.getExtent(),p=c.getExtent(),g=l.parse(r[0]),v=c.parse(r[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(f[0],f[1]),g),Math.max(f[0],f[1])),o[1]=Math.min(Math.max(Math.min(p[0],p[1]),v),Math.max(p[0],p[1])),o},n.prototype.pointToData=function(r,o,l){if(l=l||[],this._invTransform)return yr(l,r,this._invTransform);var c=this.getAxis("x"),f=this.getAxis("y");return l[0]=c.coordToData(c.toLocalCoord(r[0]),o),l[1]=f.coordToData(f.toLocalCoord(r[1]),o),l},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(r){r=r||0;var o=this.getAxis("x").getGlobalExtent(),l=this.getAxis("y").getGlobalExtent(),c=Math.min(o[0],o[1])-r,f=Math.min(l[0],l[1])-r,p=Math.max(o[0],o[1])-c+r,g=Math.max(l[0],l[1])-f+r;return new wt(c,f,p,g)},n})(kPe),hU=(function(a){u(n,a);function n(r,o,l,c,f){var p=a.call(this,r,o,l)||this;return p.index=0,p.type=c||"value",p.position=f||"bottom",p}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),r&&o[0]>o[1]&&o.reverse(),o},n.prototype.pointToData=function(r,o){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),o)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n})(Ho),D2="expandAxisBreak",pU="collapseAxisBreak",mU="toggleAxisBreak",mI="axisbreakchanged",PPe={type:D2,event:mI,update:"update",refineEvent:gI},EPe={type:pU,event:mI,update:"update",refineEvent:gI},MPe={type:mU,event:mI,update:"update",refineEvent:gI};function gI(a,n,r,o){var l=[];return Z(a,function(c){l=l.concat(c.eventBreaks)}),{eventContent:{breaks:l}}}function DPe(a){a.registerAction(PPe,n),a.registerAction(EPe,n),a.registerAction(MPe,n);function n(r,o){var l=[],c=Jp(o,r);function f(p,g){Z(c[p],function(v){var x=v.updateAxisBreaks(r);Z(x.breaks,function(O){var w;l.push(be((w={},w[g]=v.componentIndex,w),O))})})}return f("xAxisModels","xAxisIndex"),f("yAxisModels","yAxisIndex"),f("singleAxisModels","singleAxisIndex"),{eventBreaks:l}}}var td=Math.PI,IPe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],RPe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Um=Kt(),gU=Kt(),vU=(function(){function a(n){this.recordMap={},this.resolveAxisNameOverlap=n}return a.prototype.ensureRecord=function(n){var r=n.axis.dim,o=n.componentIndex,l=this.recordMap,c=l[r]||(l[r]=[]);return c[o]||(c[o]={ready:{}})},a})();function LPe(a,n,r,o){var l=r.axis,c=n.ensureRecord(r),f=[],p,g=yI(a.axisName)&&zm(a.nameLocation);Z(o,function(k){var P=Pl(k);if(!(!P||P.label.ignore)){f.push(P);var E=c.transGroup;g&&(E.transform?za(gy,E.transform):sl(gy),P.transform&&ho(gy,gy,P.transform),wt.copy(I2,P.localRect),I2.applyTransform(gy),p?p.union(I2):wt.copy(p=new wt(0,0,0,0),I2))}});var v=Math.abs(c.dirVec.x)>.1?"x":"y",x=c.transGroup[v];if(f.sort(function(k,P){return Math.abs(k.label[v]-x)-Math.abs(P.label[v]-x)}),g&&p){var O=l.getExtent(),w=Math.min(O[0],O[1]),S=Math.max(O[0],O[1])-w;p.union(new wt(w,0,S,1))}c.stOccupiedRect=p,c.labelInfoList=f}var gy=Ir(),I2=new wt(0,0,0,0),yU=function(a,n,r,o,l,c){if(zm(a.nameLocation)){var f=c.stOccupiedRect;f&&xU(Ike({},f,c.transGroup.transform),o,l)}else _U(c.labelInfoList,c.dirVec,o,l)};function xU(a,n,r){var o=new bt;_2(a,n,o,{direction:Math.atan2(r.y,r.x),bidirectional:!1,touchThreshold:.05})&&jD(n,o)}function _U(a,n,r,o){for(var l=bt.dot(o,n)>=0,c=0,f=a.length;c<f;c++){var p=a[l?c:f-1-c];p.label.ignore||xU(p,r,o)}}var ba=(function(){function a(n,r,o,l){this.group=new _t,this._axisModel=n,this._api=r,this._local={},this._shared=l||new vU(yU),this._resetCfgDetermined(o)}return a.prototype.updateCfg=function(n){{var r=this._shared.ensureRecord(this._axisModel).ready;Ke(!r.axisLine&&!r.axisTickLabelDetermine),r.axisName=r.axisTickLabelEstimate=!1}var o=this._cfg.raw;o.position=n.position,o.labelOffset=n.labelOffset,this._resetCfgDetermined(o)},a.prototype.__getRawCfg=function(){return this._cfg.raw},a.prototype._resetCfgDetermined=function(n){var r=this._axisModel,o=r.getDefaultOption?r.getDefaultOption():{},l=$e(n.axisName,r.get("name")),c=r.get("nameMoveOverlap");(c==null||c==="auto")&&(c=$e(n.defaultNameMoveOverlap,!0));var f={raw:n,position:n.position,rotation:n.rotation,nameDirection:$e(n.nameDirection,1),tickDirection:$e(n.tickDirection,1),labelDirection:$e(n.labelDirection,1),labelOffset:$e(n.labelOffset,0),silent:$e(n.silent,!0),axisName:l,nameLocation:zt(r.get("nameLocation"),o.nameLocation,"end"),shouldNameMoveOverlap:yI(l)&&c,optionHideOverlap:r.get(["axisLabel","hideOverlap"]),showMinorTicks:r.get(["minorTick","show"])};Ke(f.position!=null),Ke(f.rotation!=null),this._cfg=f;var p=new _t({x:f.position[0],y:f.position[1],rotation:f.rotation});p.updateTransform(),this._transformGroup=p;var g=this._shared.ensureRecord(r);g.transGroup=this._transformGroup,g.dirVec=new bt(Math.cos(-f.rotation),Math.sin(-f.rotation))},a.prototype.build=function(n,r){var o=this;return n||(n={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),Z(NPe,function(l){n[l]&&$Pe[l](o._cfg,o._local,o._shared,o._axisModel,o.group,o._transformGroup,o._api,r||{})}),this},a.innerTextLayout=function(n,r,o){var l=eE(r-n),c,f;return Xp(l)?(f=o>0?"top":"bottom",c="center"):Xp(l-td)?(f=o>0?"bottom":"top",c="center"):(f="middle",l>0&&l<td?c=o>0?"right":"left":c=o>0?"left":"right"),{rotation:l,textAlign:c,textVerticalAlign:f}},a.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},a.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},a})(),NPe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],$Pe={axisLine:function(a,n,r,o,l,c,f){{var p=r.ensureRecord(o).ready;Ke(!p.axisLine),p.axisLine=!0}var g=o.get(["axisLine","show"]);if(g==="auto"&&(g=!0,a.raw.axisLineAutoShow!=null&&(g=!!a.raw.axisLineAutoShow)),!!g){var v=o.axis.getExtent(),x=c.transform,O=[v[0],0],w=[v[1],0],S=O[0]>w[0];x&&(yr(O,O,x),yr(w,w,x));var k=ee({lineCap:"round"},o.getModel(["axisLine","lineStyle"]).getLineStyle()),P={strokeContainThreshold:a.raw.strokeContainThreshold||5,silent:!0,z2:1,style:k};if(o.get(["axisLine","breakLine"])&&o.axis.scale.hasBreaks())my().buildAxisBreakLine(o,l,c,P);else{var E=new $r(ee({shape:{x1:O[0],y1:O[1],x2:w[0],y2:w[1]}},P));fm(E.shape,E.style.lineWidth),E.anid="line",l.add(E)}var M=o.get(["axisLine","symbol"]);if(M!=null){var R=o.get(["axisLine","symbolSize"]);De(M)&&(M=[M,M]),(De(R)||dt(R))&&(R=[R,R]);var N=Yf(o.get(["axisLine","symbolOffset"])||0,R),j=R[0],W=R[1];Z([{rotate:a.rotation+Math.PI/2,offset:N[0],r:0},{rotate:a.rotation-Math.PI/2,offset:N[1],r:Math.sqrt((O[0]-w[0])*(O[0]-w[0])+(O[1]-w[1])*(O[1]-w[1]))}],function(U,X){if(M[X]!=="none"&&M[X]!=null){var J=Br(M[X],-j/2,-W/2,j,W,k.stroke,!0),re=U.r+U.offset,ie=S?w:O;J.attr({rotation:U.rotate,x:ie[0]+re*Math.cos(a.rotation),y:ie[1]-re*Math.sin(a.rotation),silent:!0,z2:11}),l.add(J)}})}}},axisTickLabelEstimate:function(a,n,r,o,l,c,f,p){{var g=r.ensureRecord(o).ready;Ke(!g.axisTickLabelDetermine),g.axisTickLabelEstimate=!0}var v=wU(n,l,p);v&&OU(a,n,r,o,l,c,f,Ns.estimate)},axisTickLabelDetermine:function(a,n,r,o,l,c,f,p){{var g=r.ensureRecord(o).ready;g.axisTickLabelDetermine=!0}var v=wU(n,l,p);v&&OU(a,n,r,o,l,c,f,Ns.determine);var x=jPe(a,l,c,o);QPe(a,n.labelLayoutList,x),VPe(a,l,c,o,a.tickDirection)},axisName:function(a,n,r,o,l,c,f,p){var g=r.ensureRecord(o);{var v=g.ready;Ke(v.axisTickLabelEstimate||v.axisTickLabelDetermine),v.axisName=!0}n.nameEl&&(l.remove(n.nameEl),n.nameEl=g.nameLayout=g.nameLocation=null);var x=a.axisName;if(yI(x)){var O=a.nameLocation,w=a.nameDirection,S=o.getModel("nameTextStyle"),k=o.get("nameGap")||0,P=o.axis.getExtent(),E=o.axis.inverse?-1:1,M=new bt(0,0),R=new bt(0,0);O==="start"?(M.x=P[0]-E*k,R.x=-E):O==="end"?(M.x=P[1]+E*k,R.x=E):(M.x=(P[0]+P[1])/2,M.y=a.labelOffset+w*k,R.y=w);var N=Ir();R.transform(Ss(N,N,a.rotation));var j=o.get("nameRotate");j!=null&&(j=j*td/180);var W,U;zm(O)?W=ba.innerTextLayout(a.rotation,j??a.rotation,w):(W=zPe(a.rotation,O,j||0,P),U=a.raw.axisNameAvailableWidth,U!=null&&(U=Math.abs(U/Math.sin(W.rotation)),!isFinite(U)&&(U=null)));var X=S.getFont(),J=o.get("nameTruncate",!0)||{},re=J.ellipsis,ie=tt(a.raw.nameTruncateMaxWidth,J.maxWidth,U),le=p.nameMarginLevel||0,pe=new un({x:M.x,y:M.y,rotation:W.rotation,silent:ba.isLabelSilent(o),style:Fn(S,{text:x,font:X,overflow:"truncate",width:ie,ellipsis:re,fill:S.getTextColor()||o.get(["axisLine","lineStyle","color"]),align:S.get("align")||W.textAlign,verticalAlign:S.get("verticalAlign")||W.textVerticalAlign}),z2:1});if(Iu({el:pe,componentModel:o,itemName:x}),pe.__fullText=x,pe.anid="name",o.get("triggerEvent")){var ce=ba.makeAxisEventDataBase(o);ce.targetType="axisName",ce.name=x,Et(pe).eventData=ce}c.add(pe),pe.updateTransform(),n.nameEl=pe;var ye=g.nameLayout=Pl({label:pe,priority:pe.z2,defaultAttr:{ignore:pe.ignore},marginDefault:zm(O)?IPe[le]:RPe[le]});if(g.nameLocation=O,l.add(pe),pe.decomposeTransform(),a.shouldNameMoveOverlap&&ye){var Oe=r.ensureRecord(o);Ke(Oe.labelInfoList),r.resolveAxisNameOverlap(a,r,o,ye,R,Oe)}}}};function OU(a,n,r,o,l,c,f,p){SU(n)||FPe(a,n,l,p,o,f);var g=n.labelLayoutList;GPe(a,o,g,c),qPe(o,a.rotation,g);var v=a.optionHideOverlap;BPe(o,g,v),v&&ZW(Qe(g,function(x){return x&&!x.label.ignore})),LPe(a,r,o,g)}function zPe(a,n,r,o){var l=eE(r-a),c,f,p=o[0]>o[1],g=n==="start"&&!p||n!=="start"&&p;return Xp(l-td/2)?(f=g?"bottom":"top",c="center"):Xp(l-td*1.5)?(f=g?"top":"bottom",c="center"):(f="middle",l<td*1.5&&l>td/2?c=g?"left":"right":c=g?"right":"left"),{rotation:l,textAlign:c,textVerticalAlign:f}}function BPe(a,n,r){if(bW(a.axis))return;function o(p,g,v){var x=Pl(n[g]),O=Pl(n[v]);if(!(!x||!O)){if(p===!1||x.suggestIgnore){vy(x.label);return}if(O.suggestIgnore){vy(O.label);return}var w=.1;if(!r){var S=[0,0,0,0];x=VD({marginForce:S},x),O=VD({marginForce:S},O)}_2(x,O,null,{touchThreshold:w})&&vy(p?O.label:x.label)}}var l=a.get(["axisLabel","showMinLabel"]),c=a.get(["axisLabel","showMaxLabel"]),f=n.length;o(l,0,1),o(c,f-1,f-2)}function QPe(a,n,r){a.showMinorTicks||Z(n,function(o){if(o&&o.label.ignore)for(var l=0;l<r.length;l++){var c=r[l],f=gU(c),p=Um(o.label);if(f.tickValue!=null&&!f.onBand&&f.tickValue===p.tickValue){vy(c);return}}})}function vy(a){a&&(a.ignore=!0)}function bU(a,n,r,o,l){for(var c=[],f=[],p=[],g=0;g<a.length;g++){var v=a[g].coord;f[0]=v,f[1]=0,p[0]=v,p[1]=r,n&&(yr(f,f,n),yr(p,p,n));var x=new $r({shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:o,z2:2,autoBatch:!0,silent:!0});fm(x.shape,x.style.lineWidth),x.anid=l+"_"+a[g].tickValue,c.push(x);var O=gU(x);O.onBand=!!a[g].onBand,O.tickValue=a[g].tickValue}return c}function jPe(a,n,r,o){var l=o.axis,c=o.getModel("axisTick"),f=c.get("show");if(f==="auto"&&(f=!0,a.raw.axisTickAutoShow!=null&&(f=!!a.raw.axisTickAutoShow)),!f||l.scale.isBlank())return[];for(var p=c.getModel("lineStyle"),g=a.tickDirection*c.get("length"),v=l.getTicksCoords(),x=bU(v,r.transform,g,be(p.getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])}),"ticks"),O=0;O<x.length;O++)n.add(x[O]);return x}function VPe(a,n,r,o,l){var c=o.axis,f=o.getModel("minorTick");if(!(!a.showMinorTicks||c.scale.isBlank())){var p=c.getMinorTicksCoords();if(p.length)for(var g=f.getModel("lineStyle"),v=l*f.get("length"),x=be(g.getLineStyle(),be(o.getModel("axisTick").getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])})),O=0;O<p.length;O++)for(var w=bU(p[O],r.transform,v,x,"minorticks_"+O),S=0;S<w.length;S++)n.add(w[S])}}function wU(a,n,r){if(SU(a)){var o=a.axisLabelsCreationContext;Ke(a.labelGroup&&o);var l=o.out.noPxChangeTryDetermine;if(r.noPxChange){for(var c=!0,f=0;f<l.length;f++)c=c&&l[f]();if(c)return!1}l.length&&(n.remove(a.labelGroup),vI(a,null,null,null))}return!0}function FPe(a,n,r,o,l,c){var f=l.axis,p=tt(a.raw.axisLabelShow,l.get(["axisLabel","show"])),g=new _t;r.add(g);var v=m2(o);if(!p||f.scale.isBlank()){vI(n,[],g,v);return}var x=l.getModel("axisLabel"),O=f.getViewLabels(v),w=(tt(a.raw.labelRotate,x.get("rotate"))||0)*td/180,S=ba.innerTextLayout(a.rotation,w,a.labelDirection),k=l.getCategories&&l.getCategories(!0),P=[],E=l.get("triggerEvent"),M=1/0,R=-1/0;Z(O,function(j,W){var U,X=f.scale.type==="ordinal"?f.scale.getRawOrdinalNumber(j.tickValue):j.tickValue,J=j.formattedLabel,re=j.rawLabel,ie=x;if(k&&k[X]){var le=k[X];Ze(le)&&le.textStyle&&(ie=new en(le.textStyle,x,l.ecModel))}var pe=ie.getTextColor()||l.get(["axisLine","lineStyle","color"]),ce=ie.getShallow("align",!0)||S.textAlign,ye=$e(ie.getShallow("alignMinLabel",!0),ce),Oe=$e(ie.getShallow("alignMaxLabel",!0),ce),_e=ie.getShallow("verticalAlign",!0)||ie.getShallow("baseline",!0)||S.textVerticalAlign,Pe=$e(ie.getShallow("verticalAlignMinLabel",!0),_e),Se=$e(ie.getShallow("verticalAlignMaxLabel",!0),_e),Re=10+(((U=j.time)===null||U===void 0?void 0:U.level)||0);M=Math.min(M,Re),R=Math.max(R,Re);var Ne=new un({x:0,y:0,rotation:0,silent:ba.isLabelSilent(l),z2:Re,style:Fn(ie,{text:J,align:W===0?ye:W===O.length-1?Oe:ce,verticalAlign:W===0?Pe:W===O.length-1?Se:_e,fill:Ge(pe)?pe(f.type==="category"?re:f.type==="value"?X+"":X,W):pe})});Ne.anid="label_"+X;var Be=Um(Ne);if(Be.break=j.break,Be.tickValue=X,Be.layoutRotation=S.rotation,Iu({el:Ne,componentModel:l,itemName:J,formatterParamsExtra:{isTruncated:function(){return Ne.isTruncated},value:re,tickIndex:W}}),E){var Fe=ba.makeAxisEventDataBase(l);Fe.targetType="axisLabel",Fe.value=re,Fe.tickIndex=W,j.break&&(Fe.break={start:j.break.parsedBreak.vmin,end:j.break.parsedBreak.vmax}),f.type==="category"&&(Fe.dataIndex=X),Et(Ne).eventData=Fe,j.break&&UPe(l,c,Ne,j.break)}P.push(Ne),g.add(Ne)});var N=ve(P,function(j){return{label:j,priority:Um(j).break?j.z2+(R-M+1):j.z2,defaultAttr:{ignore:j.ignore}}});vI(n,N,g,v)}function SU(a){return!!a.labelLayoutList}function vI(a,n,r,o){a.labelLayoutList=n,a.labelGroup=r,a.axisLabelsCreationContext=o}function GPe(a,n,r,o){var l=n.get(["axisLabel","margin"]);Z(r,function(c,f){var p=Pl(c);if(p){var g=p.label,v=Um(g);p.suggestIgnore=g.ignore,g.ignore=!1,NO(Qu,WPe),Qu.x=n.axis.dataToCoord(v.tickValue),Qu.y=a.labelOffset+a.labelDirection*l,Qu.rotation=v.layoutRotation,o.add(Qu),Qu.updateTransform(),o.remove(Qu),Qu.decomposeTransform(),NO(g,Qu),g.markRedraw(),x2(p,!0),Pl(p)}})}var Qu=new Zt,WPe=new Zt;function yI(a){return!!a}function UPe(a,n,r,o){r.on("click",function(l){var c={type:D2,breaks:[{start:o.parsedBreak.breakOption.start,end:o.parsedBreak.breakOption.end}]};c[a.axis.dim+"AxisIndex"]=a.componentIndex,n.dispatchAction(c)})}function qPe(a,n,r){var o=Wr();if(o){var l=o.retrieveAxisBreakPairs(r,function(f){return f&&Um(f.label).break},!0),c=a.get(["breakLabelLayout","moveOverlap"],!0);(c===!0||c==="auto")&&Z(l,function(f){my().adjustBreakLabelPair(a.axis.inverse,n,[Pl(r[f[0]]),Pl(r[f[1]])])})}}function R2(a,n,r){r=r||{};var o=n.axis,l={},c=o.getAxesOnZeroOf()[0],f=o.position,p=c?"onZero":f,g=o.dim,v=[a.x,a.x+a.width,a.y,a.y+a.height],x={left:0,right:1,top:0,bottom:1,onZero:2},O=n.get("offset")||0,w=g==="x"?[v[2]-O,v[3]+O]:[v[0]-O,v[1]+O];if(c){var S=c.toGlobalCoord(c.dataToCoord(0));w[x.onZero]=Math.max(Math.min(S,w[1]),w[0])}l.position=[g==="y"?w[x[p]]:v[0],g==="x"?w[x[p]]:v[3]],l.rotation=Math.PI/2*(g==="x"?0:1);var k={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=k[f],l.labelOffset=c?w[x[f]]-w[x.onZero]:0,n.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),tt(r.labelInside,n.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var P=n.get(["axisLabel","rotate"]);return l.labelRotate=p==="top"?-P:P,l.z2=1,l}function ZPe(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function TU(a){var n={xAxisModel:null,yAxisModel:null};return Z(n,function(r,o){var l=o.replace(/Model$/,""),c=a.getReferringComponents(l,br).models[0];if(!c)throw new Error(l+' "'+zt(a.get(l+"Index"),a.get(l+"Id"),0)+'" not found');n[o]=c}),n}function HPe(a,n,r,o,l,c){for(var f=R2(a,r),p=!1,g=!1,v=0;v<n.length;v++)SD(n[v].getOtherAxis(r.axis).scale)&&(p=g=!0,r.axis.type==="category"&&r.axis.onBand&&(g=!1));return f.axisLineAutoShow=p,f.axisTickAutoShow=g,f.defaultNameMoveOverlap=c,new ba(r,o,f,l)}function XPe(a,n,r){var o=R2(n,r);{var l=a.__getRawCfg();Z(He(o),function(c){c!=="position"&&c!=="labelOffset"&&Ke(o[c]===l[c])})}a.updateCfg(o)}function CU(a,n,r){var o,l=Bu.prototype,c=l.getTicks.call(r),f=l.getTicks.call(r,{expandToNicedExtent:!0}),p=c.length-1,g=l.getInterval.call(r),v=OW(a,n),x=v.extent,O=v.fixMin,w=v.fixMax;a.type==="log"&&(x=kD(a.base,x,!0)),a.setBreaksFromOption(wW(n)),a.setExtent(x[0],x[1]),a.calcNiceExtent({splitNumber:p,fixMin:O,fixMax:w});var S=l.getExtent.call(a);O&&(x[0]=S[0]),w&&(x[1]=S[1]);var k=l.getInterval.call(a),P=x[0],E=x[1];if(O&&w)k=(E-P)/p;else if(O)for(E=x[0]+k*p;E<x[1]&&isFinite(E)&&isFinite(x[1]);)k=TD(k),E=x[0]+k*p;else if(w)for(P=x[1]-k*p;P>x[0]&&isFinite(P)&&isFinite(x[0]);)k=TD(k),P=x[1]-k*p;else{var M=a.getTicks().length-1;M>p&&(k=TD(k));var R=k*p;E=Math.ceil(x[1]/k)*k,P=Lr(E-R),P<0&&x[0]>=0?(P=0,E=Lr(R)):E>0&&x[1]<=0&&(E=0,P=-Lr(R))}var N=(c[0].value-f[0].value)/g,j=(c[p].value-f[p].value)/g;l.setExtent.call(a,P+k*N,E+k*j),l.setInterval.call(a,k),(N||j)&&l.setNiceExtent.call(a,P+k,E-k);{var W=l.getTicks.call(a);W[1]&&(!yCe(k)||FO(W[1].value)>FO(k))&&fr("The ticks may be not readable when set min: "+n.get("min")+", max: "+n.get("max")+(" and alignTicks: true. ("+((o=n.axis)===null||o===void 0?void 0:o.dim)+"AxisIndex: "+n.componentIndex+")"),!0)}}var kU=[[3,1],[0,2]],YPe=(function(){function a(n,r,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=pI,this._initCartesian(n,r,o),this.model=n}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(n,r){var o=this._axesMap;this._updateScale(n,this.model);function l(f){var p,g=He(f),v=g.length;if(v){for(var x=[],O=v-1;O>=0;O--){var w=+g[O],S=f[w],k=S.model,P=S.scale;SD(P)&&k.get("alignTicks")&&k.get("interval")==null?x.push(S):(nh(P,k),SD(P)&&(p=S))}x.length&&(p||(p=x.pop(),nh(p.scale,p.model)),Z(x,function(E){CU(E.scale,E.model,p.scale)}))}}l(o.x),l(o.y);var c={};Z(o.x,function(f){AU(o,"y",f,c)}),Z(o.y,function(f){AU(o,"x",f,c)}),this.resize(this.model,r)},a.prototype.resize=function(n,r,o){var l=ei(n,r),c=this._rect=rr(n.getBoxLayoutParams(),l.refContainer),f=this._axesMap,p=this._coordsList,g=n.get("containLabel");if(_I(f,c),!o){var v=eEe(c,p,f,g,r),x=void 0;if(g)OI?(OI(this._axesList,c),_I(f,c)):(A8("Specified `grid.containLabel` but no `use(LegacyGridContainLabel)`;use `grid.outerBounds` instead.",!0),x=MU(c.clone(),"axisLabel",null,c,f,v,l));else{var O=tEe(n,c,l),w=O.outerBoundsRect,S=O.parsedOuterBoundsContain,k=O.outerBoundsClamp;w&&(x=MU(w,S,k,c,f,v,l))}DU(c,f,Ns.determine,null,x,l)}Z(this._coordsList,function(P){P.calcAffineTransform()})},a.prototype.getAxis=function(n,r){var o=this._axesMap[n];if(o!=null)return o[r||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var o="x"+n+"y"+r;return this._coordsMap[o]}Ze(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var l=0,c=this._coordsList;l<c.length;l++)if(c[l].getAxis("x").index===n||c[l].getAxis("y").index===r)return c[l]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(n,r,o){var l=this._findConvertTarget(r);return l.cartesian?l.cartesian.dataToPoint(o):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(o)):null},a.prototype.convertFromPixel=function(n,r,o){var l=this._findConvertTarget(r);return l.cartesian?l.cartesian.pointToData(o):l.axis?l.axis.coordToData(l.axis.toLocalCoord(o)):null},a.prototype._findConvertTarget=function(n){var r=n.seriesModel,o=n.xAxisModel||r&&r.getReferringComponents("xAxis",br).models[0],l=n.yAxisModel||r&&r.getReferringComponents("yAxis",br).models[0],c=n.gridModel,f=this._coordsList,p,g;if(r)p=r.coordinateSystem,se(f,p)<0&&(p=null);else if(o&&l)p=this.getCartesian(o.componentIndex,l.componentIndex);else if(o)g=this.getAxis("x",o.componentIndex);else if(l)g=this.getAxis("y",l.componentIndex);else if(c){var v=c.coordinateSystem;v===this&&(p=this._coordsList[0])}return{cartesian:p,axis:g}},a.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},a.prototype._initCartesian=function(n,r,o){var l=this,c=this,f={left:!1,right:!1,top:!1,bottom:!1},p={x:{},y:{}},g={x:0,y:0};if(r.eachComponent("xAxis",v("x"),this),r.eachComponent("yAxis",v("y"),this),!g.x||!g.y){this._axesMap={},this._axesList=[];return}this._axesMap=p,Z(p.x,function(x,O){Z(p.y,function(w,S){var k="x"+O+"y"+S,P=new APe(k);P.master=l,P.model=n,l._coordsMap[k]=P,l._coordsList.push(P),P.addAxis(x),P.addAxis(w)})});function v(x){return function(O,w){if(xI(O,n)){var S=O.get("position");x==="x"?S!=="top"&&S!=="bottom"&&(S=f.bottom?"top":"bottom"):S!=="left"&&S!=="right"&&(S=f.left?"right":"left"),f[S]=!0;var k=new hU(x,ry(O),[0,0],O.get("type"),S),P=k.type==="category";k.onBand=P&&O.get("boundaryGap"),k.inverse=O.get("inverse"),O.axis=k,k.model=O,k.grid=c,k.index=w,c._axesList.push(k),p[x][w]=k,g[x]++}}}},a.prototype._updateScale=function(n,r){Z(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),l.type==="category"){var c=l.model.get("categorySortInfo");l.scale.setSortInfo(c)}}),n.eachSeries(function(l){if(ZPe(l)){var c=TU(l),f=c.xAxisModel,p=c.yAxisModel;if(!xI(f,r)||!xI(p,r))return;var g=this.getCartesian(f.componentIndex,p.componentIndex),v=l.getData(),x=g.getAxis("x"),O=g.getAxis("y");o(v,x),o(v,O)}},this);function o(l,c){Z(p2(l,c.dim),function(f){c.scale.unionExtentFromData(l,f)})}},a.prototype.getTooltipAxes=function(n){var r=[],o=[];return Z(this.getCartesians(),function(l){var c=n!=null&&n!=="auto"?l.getAxis(n):l.getBaseAxis(),f=l.getOtherAxis(c);se(r,c)<0&&r.push(c),se(o,f)<0&&o.push(f)}),{baseAxes:r,otherAxes:o}},a.create=function(n,r){var o=[];return n.eachComponent("grid",function(l,c){var f=new a(l,n,r);f.name="grid_"+c,f.resize(l,r,!0),l.coordinateSystem=f,o.push(f)}),n.eachSeries(function(l){N0({targetModel:l,coordSysType:"cartesian2d",coordSysProvider:c});function c(){var f=TU(l),p=f.xAxisModel,g=f.yAxisModel,v=p.getCoordSysModel();{if(!v)throw new Error('Grid "'+zt(p.get("gridIndex"),p.get("gridId"),0)+'" not found');if(p.getCoordSysModel()!==g.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var x=v.coordinateSystem;return x.getCartesian(p.componentIndex,g.componentIndex)}}),o},a.dimensions=pI,a})();function xI(a,n){return a.getCoordSysModel()===n}function AU(a,n,r,o){r.getAxesOnZeroOf=function(){return c?[c]:[]};var l=a[n],c,f=r.model,p=f.get(["axisLine","onZero"]),g=f.get(["axisLine","onZeroAxisIndex"]);if(!p)return;if(g!=null)PU(l[g])&&(c=l[g]);else for(var v in l)if(l.hasOwnProperty(v)&&PU(l[v])&&!o[x(l[v])]){c=l[v];break}c&&(o[x(c)]=!0);function x(O){return O.dim+"_"+O.index}}function PU(a){return a&&a.type!=="category"&&a.type!=="time"&&FCe(a)}function KPe(a,n){var r=a.getExtent(),o=r[0]+r[1];a.toGlobalCoord=a.dim==="x"?function(l){return l+n}:function(l){return o-l+n},a.toLocalCoord=a.dim==="x"?function(l){return l-n}:function(l){return o-l+n}}function _I(a,n){Z(a.x,function(r){return EU(r,n.x,n.width)}),Z(a.y,function(r){return EU(r,n.y,n.height)})}function EU(a,n,r){var o=[0,r],l=a.inverse?1:0;a.setExtent(o[l],o[1-l]),KPe(a,n)}var OI;function JPe(a){OI=a}function MU(a,n,r,o,l,c,f){Ke(n==="all"||n==="axisLabel"),DU(o,l,Ns.estimate,n,!1,f);var p=[0,0,0,0];v(0),v(1),x(o,0,NaN),x(o,1,NaN);var g=et(p,function(w){return w>0})==null;return Nf(o,p,!0,!0,r),_I(l,o),g;function v(w){Z(l[Bt[w]],function(S){if(iy(S.model)){var k=c.ensureRecord(S.model),P=k.labelInfoList;if(P)for(var E=0;E<P.length;E++){var M=P[E],R=S.scale.normalize(Um(M.label).tickValue);R=w===1?1-R:R,x(M.rect,w,R),x(M.rect,1-w,NaN)}var N=k.nameLayout;if(N){var R=zm(k.nameLocation)?.5:NaN;x(N.rect,w,R),x(N.rect,1-w,NaN)}}})}function x(w,S,k){var P=a[Bt[S]]-w[Bt[S]],E=w[Gr[S]]+w[Bt[S]]-(a[Gr[S]]+a[Bt[S]]);P=O(P,1-k),E=O(E,k);var M=kU[S][0],R=kU[S][1];p[M]=Rr(p[M],P),p[R]=Rr(p[R],E)}function O(w,S){return w>0&&!qe(S)&&S>1e-4&&(w/=S),w}}function eEe(a,n,r,o,l){var c=new vU(nEe);return Z(r,function(f){return Z(f,function(p){if(iy(p.model)){var g=!o;p.axisBuilder=HPe(a,n,p.model,l,c,g)}})}),c}function DU(a,n,r,o,l,c){var f=r===Ns.determine;Z(n,function(v){return Z(v,function(x){iy(x.model)&&(XPe(x.axisBuilder,a,x.model),x.axisBuilder.build(f?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:l}))})});var p={x:0,y:0};g(0),g(1);function g(v){p[Bt[1-v]]=a[Gr[v]]<=c.refContainer[Gr[v]]*.5?0:1-v===1?2:1}Z(n,function(v,x){return Z(v,function(O){iy(O.model)&&((o==="all"||f)&&O.axisBuilder.build({axisName:!0},{nameMarginLevel:p[x]}),f&&O.axisBuilder.build({axisLine:!0}))})})}function tEe(a,n,r){var o,l=a.get("outerBoundsMode",!0);l==="same"?o=n.clone():l==null||l==="auto"?o=rr(a.get("outerBounds",!0)||lU,r.refContainer):l!=="none"&&cn("Invalid grid["+a.componentIndex+"].outerBoundsMode.");var c=a.get("outerBoundsContain",!0),f;c==null||c==="auto"?f="all":se(["all","axisLabel"],c)<0?(cn("Invalid grid["+a.componentIndex+"].outerBoundsContain."),f="all"):f=c;var p=[VO($e(a.get("outerBoundsClampWidth",!0),M2[0]),n.width),VO($e(a.get("outerBoundsClampHeight",!0),M2[1]),n.height)];return{outerBoundsRect:o,parsedOuterBoundsContain:f,outerBoundsClamp:p}}var nEe=function(a,n,r,o,l,c){var f=r.axis.dim==="x"?"y":"x";yU(a,n,r,o,l,c),zm(a.nameLocation)||Z(n.recordMap[f],function(p){p&&p.labelInfoList&&p.dirVec&&_U(p.labelInfoList,p.dirVec,o,l)})};function rEe(a,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return iEe(r,a,n),r.seriesInvolved&&oEe(r,a),r}function iEe(a,n,r){var o=n.getComponent("tooltip"),l=n.getComponent("axisPointer"),c=l.get("link",!0)||[],f=[];Z(r.getCoordinateSystems(),function(p){if(!p.axisPointerEnabled)return;var g=yy(p.model),v=a.coordSysAxesInfo[g]={};a.coordSysMap[g]=p;var x=p.model,O=x.getModel("tooltip",o);if(Z(p.getAxes(),Ue(P,!1,null)),p.getTooltipAxes&&o&&O.get("show")){var w=O.get("trigger")==="axis",S=O.get(["axisPointer","type"])==="cross",k=p.getTooltipAxes(O.get(["axisPointer","axis"]));(w||S)&&Z(k.baseAxes,Ue(P,S?"cross":!0,w)),S&&Z(k.otherAxes,Ue(P,"cross",!1))}function P(E,M,R){var N=R.model.getModel("axisPointer",l),j=N.get("show");if(!(!j||j==="auto"&&!E&&!SI(N))){M==null&&(M=N.get("triggerTooltip")),N=E?aEe(R,O,l,n,E,M):N;var W=N.get("snap"),U=N.get("triggerEmphasis"),X=yy(R.model),J=M||W||R.type==="category",re=a.axesInfo[X]={key:X,axis:R,coordSys:p,axisPointerModel:N,triggerTooltip:M,triggerEmphasis:U,involveSeries:J,snap:W,useHandle:SI(N),seriesModels:[],linkGroup:null};v[X]=re,a.seriesInvolved=a.seriesInvolved||J;var ie=sEe(c,R);if(ie!=null){var le=f[ie]||(f[ie]={axesInfo:{}});le.axesInfo[X]=re,le.mapper=c[ie].mapper,re.linkGroup=le}}}})}function aEe(a,n,r,o,l,c){var f=n.getModel("axisPointer"),p=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],g={};Z(p,function(w){g[w]=ne(f.get(w))}),g.snap=a.type!=="category"&&!!c,f.get("type")==="cross"&&(g.type="line");var v=g.label||(g.label={});if(v.show==null&&(v.show=!1),l==="cross"){var x=f.get(["label","show"]);if(v.show=x??!0,!c){var O=g.lineStyle=f.get("crossStyle");O&&be(v,O.textStyle)}}return a.model.getModel("axisPointer",new en(g,r,o))}function oEe(a,n){n.eachSeries(function(r){var o=r.coordinateSystem,l=r.get(["tooltip","trigger"],!0),c=r.get(["tooltip","show"],!0);!o||!o.model||l==="none"||l===!1||l==="item"||c===!1||r.get(["axisPointer","show"],!0)===!1||Z(a.coordSysAxesInfo[yy(o.model)],function(f){var p=f.axis;o.getAxis(p.dim)===p&&(f.seriesModels.push(r),f.seriesDataCount==null&&(f.seriesDataCount=0),f.seriesDataCount+=r.getData().count())})})}function sEe(a,n){for(var r=n.model,o=n.dim,l=0;l<a.length;l++){var c=a[l]||{};if(bI(c[o+"AxisId"],r.id)||bI(c[o+"AxisIndex"],r.componentIndex)||bI(c[o+"AxisName"],r.name))return l}}function bI(a,n){return a==="all"||ke(a)&&se(a,n)>=0||a===n}function lEe(a){var n=wI(a);if(n){var r=n.axisPointerModel,o=n.axis.scale,l=r.option,c=r.get("status"),f=r.get("value");f!=null&&(f=o.parse(f));var p=SI(r);c==null&&(l.status=p?"show":"hide");var g=o.getExtent().slice();g[0]>g[1]&&g.reverse(),(f==null||f>g[1])&&(f=g[1]),f<g[0]&&(f=g[0]),l.value=f,p&&(l.status=n.axis.scale.isBlank()?"hide":"show")}}function wI(a){var n=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[yy(a)]}function uEe(a){var n=wI(a);return n&&n.axisPointerModel}function SI(a){return!!a.get(["handle","show"])}function yy(a){return a.type+"||"+a.id}var TI={},ch=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l,c){this.axisPointerClass&&lEe(r),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,l,!0)},n.prototype.updateAxisPointer=function(r,o,l,c){this._doUpdateAxisPointerClass(r,l,!1)},n.prototype.remove=function(r,o){var l=this._axisPointer;l&&l.remove(o)},n.prototype.dispose=function(r,o){this._disposeAxisPointer(o),a.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,o,l){var c=n.getAxisPointerClass(this.axisPointerClass);if(c){var f=uEe(r);f?(this._axisPointer||(this._axisPointer=new c)).render(r,f,o,l):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,o){if(TI[r])throw new Error("axisPointer "+r+" exists");TI[r]=o},n.getAxisPointerClass=function(r){return r&&TI[r]},n.type="axis",n})(Gn),CI=Kt();function IU(a,n,r,o){var l=r.axis;if(!l.scale.isBlank()){var c=r.getModel("splitArea"),f=c.getModel("areaStyle"),p=f.get("color"),g=o.coordinateSystem.getRect(),v=l.getTicksCoords({tickModel:c,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(v.length){var x=p.length,O=CI(a).splitAreaColors,w=Xe(),S=0;if(O)for(var k=0;k<v.length;k++){var P=O.get(v[k].tickValue);if(P!=null){S=(P+(x-1)*k)%x;break}}var E=l.toGlobalCoord(v[0].coord),M=f.getAreaStyle();p=ke(p)?p:[p];for(var k=1;k<v.length;k++){var R=l.toGlobalCoord(v[k].coord),N=void 0,j=void 0,W=void 0,U=void 0;l.isHorizontal()?(N=E,j=g.y,W=R-N,U=g.height,E=N+W):(N=g.x,j=E,W=g.width,U=R-j,E=j+U);var X=v[k-1].tickValue;X!=null&&w.set(X,S),n.add(new Zt({anid:X!=null?"area_"+X:null,shape:{x:N,y:j,width:W,height:U},style:be({fill:p[S]},M),autoBatch:!0,silent:!0})),S=(S+1)%x}CI(a).splitAreaColors=w}}}function RU(a){CI(a).splitAreaColors=null}var cEe=["splitArea","splitLine","minorSplitLine","breakArea"],LU=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,o,l,c){this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new _t,this.group.add(this._axisGroup),!!iy(r)){this._axisGroup.add(r.axis.axisBuilder.group),Z(cEe,function(g){r.get([g,"show"])&&dEe[g](this,this._axisGroup,r,r.getCoordSysModel(),l)},this);var p=c&&c.type==="changeAxisOrder"&&c.isInitSort;p||E0(f,this._axisGroup,r),a.prototype.render.call(this,r,o,l,c)}},n.prototype.remove=function(){RU(this)},n.type="cartesianAxis",n})(ch),dEe={splitLine:function(a,n,r,o,l){var c=r.axis;if(!c.scale.isBlank()){var f=r.getModel("splitLine"),p=f.getModel("lineStyle"),g=p.get("color"),v=f.get("showMinLine")!==!1,x=f.get("showMaxLine")!==!1;g=ke(g)?g:[g];for(var O=o.coordinateSystem.getRect(),w=c.isHorizontal(),S=0,k=c.getTicksCoords({tickModel:f,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),P=[],E=[],M=p.getLineStyle(),R=0;R<k.length;R++){var N=c.toGlobalCoord(k[R].coord);if(!(R===0&&!v||R===k.length-1&&!x)){var j=k[R].tickValue;w?(P[0]=N,P[1]=O.y,E[0]=N,E[1]=O.y+O.height):(P[0]=O.x,P[1]=N,E[0]=O.x+O.width,E[1]=N);var W=S++%g.length,U=new $r({anid:j!=null?"line_"+j:null,autoBatch:!0,shape:{x1:P[0],y1:P[1],x2:E[0],y2:E[1]},style:be({stroke:g[W]},M),silent:!0});fm(U.shape,M.lineWidth),n.add(U)}}}},minorSplitLine:function(a,n,r,o,l){var c=r.axis,f=r.getModel("minorSplitLine"),p=f.getModel("lineStyle"),g=o.coordinateSystem.getRect(),v=c.isHorizontal(),x=c.getMinorTicksCoords();if(x.length)for(var O=[],w=[],S=p.getLineStyle(),k=0;k<x.length;k++)for(var P=0;P<x[k].length;P++){var E=c.toGlobalCoord(x[k][P].coord);v?(O[0]=E,O[1]=g.y,w[0]=E,w[1]=g.y+g.height):(O[0]=g.x,O[1]=E,w[0]=g.x+g.width,w[1]=E);var M=new $r({anid:"minor_line_"+x[k][P].tickValue,autoBatch:!0,shape:{x1:O[0],y1:O[1],x2:w[0],y2:w[1]},style:S,silent:!0});fm(M.shape,S.lineWidth),n.add(M)}},splitArea:function(a,n,r,o,l){IU(a,n,r,o)},breakArea:function(a,n,r,o,l){var c=my(),f=r.axis.scale;c&&f.type!=="ordinal"&&c.rectCoordBuildBreakAxis(n,a,r,o.coordinateSystem.getRect(),l)}},NU=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n})(LU),fEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=NU.type,r}return n.type="yAxis",n})(LU),hEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,o){this.group.removeAll(),r.get("show")&&this.group.add(new Zt({shape:r.coordinateSystem.getRect(),style:be({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n})(Gn),$U={offset:0};function zU(a){a.registerComponentView(hEe),a.registerComponentModel(OPe),a.registerCoordinateSystem("cartesian2d",YPe),Wm(a,"x",dI,$U),Wm(a,"y",dI,$U),a.registerComponentView(NU),a.registerComponentView(fEe),a.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function pEe(a,n){var r=a.coordinateSystem,o=r&&r.type,l=r&&r.getBaseAxis&&r.getBaseAxis(),c=l&&l.scale&&l.scale.type,f=o==="cartesian2d"&&c==="ordinal"||o==="single",p=n.model.get("jitter")>0;return f&&p}var mEe=Kt();function BU(a,n,r,o){if(a instanceof hU){var l=a.scale.type;if(l!=="category"&&l!=="ordinal")return r}var c=a.model,f=c.get("jitter"),p=c.get("jitterOverlap"),g=c.get("jitterMargin")||0,v=a.scale.type==="ordinal"?a.getBandWidth():null;return f>0?p?QU(r,f,v,o):gEe(a,n,r,o,f,g):r}function QU(a,n,r,o){if(r===null)return a+(Math.random()-.5)*n;var l=r-o*2,c=Math.min(Math.max(0,n),l);return a+(Math.random()-.5)*c}function gEe(a,n,r,o,l,c){var f=mEe(a);f.items||(f.items=[]);var p=f.items,g=jU(p,n,r,o,l,c,1),v=jU(p,n,r,o,l,c,-1),x=Math.abs(g-r)<Math.abs(v-r)?g:v,O=a.scale.type==="ordinal"?a.getBandWidth():null,w=Math.abs(x-r);return w>l/2||O&&w>O/2-o?QU(r,l,O,o):(p.push({fixedCoord:n,floatCoord:x,r:o}),x)}function jU(a,n,r,o,l,c,f){for(var p=r,g=0;g<a.length;g++){var v=a[g],x=n-v.fixedCoord,O=p-v.floatCoord,w=x*x+O*O,S=o+v.r+c;if(w<S*S){var k=v.floatCoord+Math.sqrt(S*S-x*x)*f;if(Math.abs(k-r)>l/2)return Number.MAX_VALUE;if(f===1&&k>p||f===-1&&k<p){p=k,g=-1;continue}}}return p}function vEe(a){a.eachSeriesByType("scatter",function(n){var r=n.coordinateSystem;if(r&&(r.type==="cartesian2d"||r.type==="single")){var o=r.getBaseAxis?r.getBaseAxis():null,l=o&&pEe(n,o);if(l){var c=n.getData();c.each(function(f){var p=o.dim,g=o.orient,v=g==="horizontal"&&o.type!=="category"||g==="vertical"&&o.type==="category",x=c.getItemLayout(f),O=c.getItemVisual(f,"symbolSize"),w=O instanceof Array?(O[1]+O[0])/2:O;if(p==="y"||p==="single"&&v){var S=BU(o,x[0],x[1],w/2);c.setItemLayout(f,[x[0],S])}else if(p==="x"||p==="single"&&!v){var S=BU(o,x[1],x[0],w/2);c.setItemLayout(f,[S,x[1]])}})}}})}function yEe(a){Gt(zU),a.registerSeriesModel(gPe),a.registerChartView(_Pe),a.registerLayout(hy("scatter"))}function xEe(a){a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,vEe)}function _Ee(a){a.eachSeriesByType("radar",function(n){var r=n.getData(),o=[],l=n.coordinateSystem;if(l){var c=l.getIndicatorAxes();Z(c,function(f,p){r.each(r.mapDimension(c[p].dim),function(g,v){o[v]=o[v]||[];var x=l.dataToPoint(g,p);o[v][p]=VU(x)?x:FU(l)})}),r.each(function(f){var p=et(o[f],function(g){return VU(g)})||FU(l);o[f].push(p.slice()),r.setItemLayout(f,o[f])})}})}function VU(a){return!isNaN(a[0])&&!isNaN(a[1])}function FU(a){return[a.cx,a.cy]}function OEe(a){var n=a.polar;if(n){ke(n)||(n=[n]);var r=[];Z(n,function(o,l){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),a.radar=a.radar||[],ke(a.radar)||(a.radar=[a.radar]),a.radar.push(o)):r.push(o)}),a.polar=r}Z(a.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var bEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=r.coordinateSystem,f=this.group,p=r.getData(),g=this._data;function v(w,S){var k=w.getItemVisual(S,"symbol")||"circle";if(k!=="none"){var P=km(w.getItemVisual(S,"symbolSize")),E=Br(k,-1,-1,2,2),M=w.getItemVisual(S,"symbolRotate")||0;return E.attr({style:{strokeNoScale:!0},z2:100,scaleX:P[0]/2,scaleY:P[1]/2,rotation:M*Math.PI/180||0}),E}}function x(w,S,k,P,E,M){k.removeAll();for(var R=0;R<S.length-1;R++){var N=v(P,E);N&&(N.__dimIdx=R,w[R]?(N.setPosition(w[R]),zf[M?"initProps":"updateProps"](N,{x:S[R][0],y:S[R][1]},r,E)):N.setPosition(S[R]),k.add(N))}}function O(w){return ve(w,function(S){return[c.cx,c.cy]})}p.diff(g).add(function(w){var S=p.getItemLayout(w);if(S){var k=new Fi,P=new Ei,E={shape:{points:S}};k.shape.points=O(S),P.shape.points=O(S),Jn(k,E,r,w),Jn(P,E,r,w);var M=new _t,R=new _t;M.add(P),M.add(k),M.add(R),x(P.shape.points,S,R,p,w,!0),p.setItemGraphicEl(w,M)}}).update(function(w,S){var k=g.getItemGraphicEl(S),P=k.childAt(0),E=k.childAt(1),M=k.childAt(2),R={shape:{points:p.getItemLayout(w)}};R.shape.points&&(x(P.shape.points,R.shape.points,M,p,w,!1),Fo(E),Fo(P),pn(P,R,r),pn(E,R,r),p.setItemGraphicEl(w,k))}).remove(function(w){f.remove(g.getItemGraphicEl(w))}).execute(),p.eachItemGraphicEl(function(w,S){var k=p.getItemModel(S),P=w.childAt(0),E=w.childAt(1),M=w.childAt(2),R=p.getItemVisual(S,"style"),N=R.fill;f.add(w),P.useStyle(be(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:N})),Kr(P,k,"lineStyle"),Kr(E,k,"areaStyle");var j=k.getModel("areaStyle"),W=j.isEmpty()&&j.parentModel.isEmpty();E.ignore=W,Z(["emphasis","select","blur"],function(X){var J=k.getModel([X,"areaStyle"]),re=J.isEmpty()&&J.parentModel.isEmpty();E.ensureState(X).ignore=re&&W;var ie=k.getModel([X,"lineStyle"]).getLineStyle();P.ensureState(X).style=ie;var le=J.getAreaStyle();E.ensureState(X).style=le;var pe=k.getModel([X,"itemStyle"]).getItemStyle();M.eachChild(function(ce){ce.ensureState(X).style=ne(pe)})}),E.useStyle(be(k.getModel("areaStyle").getAreaStyle(),{fill:N,opacity:.7,decal:R.decal}));var U=k.getModel("emphasis");M.eachChild(function(X){if(X instanceof fi){var J=X.style;X.useStyle(ee({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},R))}else X.useStyle(R),X.setColor(N),X.style.strokeNoScale=!0;var re=p.getStore().get(p.getDimensionIndex(X.__dimIdx),S);(re==null||isNaN(re))&&(re=""),hi(X,Jr(k),{labelFetcher:p.hostModel,labelDataIndex:S,labelDimIndex:X.__dimIdx,defaultText:re,inheritColor:N,defaultOpacity:R.opacity})}),ar(w,U.get("focus"),U.get("blurScope"),U.get("disabled"))}),this._data=p},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n})(Dn),wEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gm(Ee(this.getData,this),Ee(this.getRawData,this))},n.prototype.getInitialData=function(r,o){return Fm(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,o,l){var c=this.getData(),f=this.coordinateSystem,p=f.getIndicatorAxes(),g=this.getData().getName(r),v=g===""?this.name:g,x=R6(this,r);return qr("section",{header:v,sortBlocks:!0,blocks:ve(p,function(O){var w=c.get(c.mapDimension(O.dim),r);return qr("nameValue",{markerType:"subItem",markerColor:x,name:O.name,value:w,sortParam:w})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var o=this.getData(),l=this.coordinateSystem,c=o.getValues(ve(l.dimensions,function(v){return o.mapDimension(v)}),r),f=0,p=c.length;f<p;f++)if(!isNaN(c[f])){var g=l.getIndicatorAxes();return l.coordToPoint(g[f].dataToCoord(c[f]),f)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n})(Bn),xy=cU.value;function L2(a,n){return be({show:n},a)}var SEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),o=this.get("splitNumber"),l=this.get("scale"),c=this.get("axisLine"),f=this.get("axisTick"),p=this.get("axisLabel"),g=this.get("axisName"),v=this.get(["axisName","show"]),x=this.get(["axisName","formatter"]),O=this.get("axisNameGap"),w=this.get("triggerEvent"),S=ve(this.get("indicator")||[],function(k){k.max!=null&&k.max>0&&!k.min?k.min=0:k.min!=null&&k.min<0&&!k.max&&(k.max=0);var P=g;k.color!=null&&(P=be({color:k.color},g));var E=me(ne(k),{boundaryGap:r,splitNumber:o,scale:l,axisLine:c,axisTick:f,axisLabel:p,name:k.text,showName:v,nameLocation:"end",nameGap:O,nameTextStyle:P,triggerEvent:w},!1);if(De(x)){var M=E.name;E.name=x.replace("{value}",M??"")}else Ge(x)&&(E.name=x(E.name,E));var R=new en(E,null,this.ecModel);return we(R,Bm.prototype),R.mainType="radar",R.componentIndex=this.componentIndex,R},this);this._indicatorModels=S},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:Ie.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:me({lineStyle:{color:Ie.color.neutral20}},xy.axisLine),axisLabel:L2(xy.axisLabel,!1),axisTick:L2(xy.axisTick,!1),splitLine:L2(xy.splitLine,!0),splitArea:L2(xy.splitArea,!0),indicator:[]},n})(Ht),TEe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=this.group;c.removeAll(),this._buildAxes(r,l),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r,o){var l=r.coordinateSystem,c=l.getIndicatorAxes(),f=ve(c,function(p){var g=p.model.get("showName")?p.name:"",v=new ba(p.model,o,{axisName:g,position:[l.cx,l.cy],rotation:p.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});Z(f,function(p){p.build(),this.group.add(p.group)},this)},n.prototype._buildSplitLineAndArea=function(r){var o=r.coordinateSystem,l=o.getIndicatorAxes();if(!l.length)return;var c=r.get("shape"),f=r.getModel("splitLine"),p=r.getModel("splitArea"),g=f.getModel("lineStyle"),v=p.getModel("areaStyle"),x=f.get("show"),O=p.get("show"),w=g.get("color"),S=v.get("color"),k=ke(w)?w:[w],P=ke(S)?S:[S],E=[],M=[];function R(Oe,_e,Pe){var Se=Pe%_e.length;return Oe[Se]=Oe[Se]||[],Se}if(c==="circle")for(var N=l[0].getTicksCoords(),j=o.cx,W=o.cy,U=0;U<N.length;U++){if(x){var X=R(E,k,U);E[X].push(new Ol({shape:{cx:j,cy:W,r:N[U].coord}}))}if(O&&U<N.length-1){var X=R(M,P,U);M[X].push(new sm({shape:{cx:j,cy:W,r0:N[U].coord,r:N[U+1].coord}}))}}else for(var J,re=ve(l,function(Oe,_e){var Pe=Oe.getTicksCoords();return J=J==null?Pe.length-1:Math.min(Pe.length-1,J),ve(Pe,function(Se){return o.coordToPoint(Se.coord,_e)})}),ie=[],U=0;U<=J;U++){for(var le=[],pe=0;pe<l.length;pe++)le.push(re[pe][U]);if(le[0]?le.push(le[0].slice()):console.error("Can't draw value axis "+U),x){var X=R(E,k,U);E[X].push(new Ei({shape:{points:le}}))}if(O&&ie){var X=R(M,P,U-1);M[X].push(new Fi({shape:{points:le.concat(ie)}}))}ie=le.slice().reverse()}var ce=g.getLineStyle(),ye=v.getAreaStyle();Z(M,function(Oe,_e){this.group.add(xo(Oe,{style:be({stroke:"none",fill:P[_e%P.length]},ye),silent:!0}))},this),Z(E,function(Oe,_e){this.group.add(xo(Oe,{style:be({fill:"none",stroke:k[_e%k.length]},ce),silent:!0}))},this)},n.type="radar",n})(Gn),CEe=(function(a){u(n,a);function n(r,o,l){var c=a.call(this,r,o,l)||this;return c.type="value",c.angle=0,c.name="",c}return n})(Ho),kEe=(function(){function a(n,r,o){this.dimensions=[],this._model=n,this._indicatorAxes=ve(n.getIndicatorModels(),function(l,c){var f="indicator_"+c,p=new CEe(f,new Bu);return p.name=l.get("name"),p.model=l,l.axis=p,this.dimensions.push(f),p},this),this.resize(n,o)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(n,r){var o=this._indicatorAxes[r];return this.coordToPoint(o.dataToCoord(n),r)},a.prototype.coordToPoint=function(n,r){var o=this._indicatorAxes[r],l=o.angle,c=this.cx+n*Math.cos(l),f=this.cy-n*Math.sin(l);return[c,f]},a.prototype.pointToData=function(n){var r=n[0]-this.cx,o=n[1]-this.cy,l=Math.sqrt(r*r+o*o);r/=l,o/=l;for(var c=Math.atan2(-o,r),f=1/0,p,g=-1,v=0;v<this._indicatorAxes.length;v++){var x=this._indicatorAxes[v],O=Math.abs(c-x.angle);O<f&&(p=x,g=v,f=O)}return[g,+(p&&p.coordToData(l))]},a.prototype.resize=function(n,r){var o=ei(n,r).refContainer,l=n.get("center"),c=Math.min(o.width,o.height)/2;this.cx=it(l[0],o.width)+o.x,this.cy=it(l[1],o.height)+o.y,this.startAngle=n.get("startAngle")*Math.PI/180;var f=n.get("radius");(De(f)||dt(f))&&(f=[0,f]),this.r0=it(f[0],c),this.r=it(f[1],c),Z(this._indicatorAxes,function(p,g){p.setExtent(this.r0,this.r);var v=this.startAngle+g*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),p.angle=v},this)},a.prototype.update=function(n,r){var o=this._indicatorAxes,l=this._model;Z(o,function(p){p.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(p,g){if(!(p.get("coordinateSystem")!=="radar"||n.getComponent("radar",p.get("radarIndex"))!==l)){var v=p.getData();Z(o,function(x){x.scale.unionExtentFromData(v,v.mapDimension(x.dim))})}},this);var c=l.get("splitNumber"),f=new Bu;f.setExtent(0,c),f.setInterval(1),Z(o,function(p,g){CU(p.scale,p.model,f)})},a.prototype.convertToPixel=function(n,r,o){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(n,r,o){return console.warn("Not implemented."),null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.create=function(n,r){var o=[];return n.eachComponent("radar",function(l){var c=new a(l,n,r);o.push(c),l.coordinateSystem=c}),n.eachSeriesByType("radar",function(l){l.get("coordinateSystem")==="radar"&&(l.coordinateSystem=o[l.get("radarIndex")||0])}),o},a.dimensions=[],a})();function AEe(a){a.registerCoordinateSystem("radar",kEe),a.registerComponentModel(SEe),a.registerComponentView(TEe),a.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function(o){r.setItemVisual(o,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function PEe(a){Gt(AEe),a.registerChartView(bEe),a.registerSeriesModel(wEe),a.registerLayout(_Ee),a.registerProcessor(Vm("radar")),a.registerPreprocessor(OEe)}var kI=Kt();function EEe(a,n,r){kI(a)[n]=r}function MEe(a,n,r){var o=kI(a),l=o[n];l===r&&(o[n]=null)}function GU(a,n){return!!kI(a)[n]}Ls({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},an);var DEe={axisPointer:1,tooltip:1,brush:1};function WU(a,n,r){var o=n.getComponentByElement(a.topTarget);if(!o||o===r||DEe.hasOwnProperty(o.mainType))return!1;var l=o.coordinateSystem;if(!l||l.model===r)return!1;var c=$f(o),f=$f(r);return!((c.zlevel-f.zlevel||c.z-f.z)<=0)}var dh=(function(a){u(n,a);function n(r){var o=a.call(this)||this;o._zr=r;var l=Ee(o._mousedownHandler,o),c=Ee(o._mousemoveHandler,o),f=Ee(o._mouseupHandler,o),p=Ee(o._mousewheelHandler,o),g=Ee(o._pinchHandler,o);return o.enable=function(v,x){var O=x.zInfo,w=$f(O.component),S=w.z,k=w.zlevel,P={component:O.component,z:S,zlevel:k,z2:$e(O.z2,-1/0)},E=ee({},x.triggerInfo);this._opt=be(ee({},x),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:P,triggerInfo:E}),v==null&&(v=!0),(!this._enabled||this._controlType!==v)&&(this._enabled=!0,this.disable(),(v===!0||v==="move"||v==="pan")&&(Oy(r,"mousedown",l,P),Oy(r,"mousemove",c,P),Oy(r,"mouseup",f,P)),(v===!0||v==="scale"||v==="zoom")&&(Oy(r,"mousewheel",p,P),Oy(r,"pinch",g,P)))},o.disable=function(){this._enabled=!1,by(r,"mousedown",l),by(r,"mousemove",c),by(r,"mouseup",f),by(r,"mousewheel",p),by(r,"pinch",g)},o}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype._checkPointer=function(r,o,l){var c=this._opt,f=c.zInfoParsed;if(WU(r,c.api,f.component))return!1;var p=c.triggerInfo,g=p.roamTrigger,v=!1;return g==="global"&&(v=!0),v||(v=p.isInSelf(r,o,l)),v&&p.isInClip&&!p.isInClip(r,o,l)&&(v=!1),v},n.prototype._decideCursorStyle=function(r,o,l,c){var f=r.target;if(!f&&this._checkPointer(r,o,l))return"grab";if(c)return f&&f.cursor||"default"},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!(hO(r)||_y(r))){for(var o=r.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var l=r.offsetX,c=r.offsetY;this._checkPointer(r,l,c)&&(this._x=l,this._y=c,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){var o=this._zr;if(!(r.gestureEvent==="pinch"||GU(o,"globalPan")||_y(r))){var l=r.offsetX,c=r.offsetY;if(!this._dragging||!$2("moveOnMouseMove",r,this._opt)){var f=this._decideCursorStyle(r,l,c,!1);f&&o.setCursorStyle(f);return}o.setCursorStyle("grabbing");var p=this._x,g=this._y,v=l-p,x=c-g;this._x=l,this._y=c,this._opt.preventDefaultMouseMove&&bs(r.event),r.__ecRoamConsumed=!0,UU(this,"pan","moveOnMouseMove",r,{dx:v,dy:x,oldX:p,oldY:g,newX:l,newY:c,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){if(!_y(r)){var o=this._zr;if(!hO(r)){this._dragging=!1;var l=this._decideCursorStyle(r,r.offsetX,r.offsetY,!0);l&&o.setCursorStyle(l)}}},n.prototype._mousewheelHandler=function(r){if(!_y(r)){var o=$2("zoomOnMouseWheel",r,this._opt),l=$2("moveOnMouseWheel",r,this._opt),c=r.wheelDelta,f=Math.abs(c),p=r.offsetX,g=r.offsetY;if(!(c===0||!o&&!l)){if(o){var v=f>3?1.4:f>1?1.2:1.1,x=c>0?v:1/v;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",r,{scale:x,originX:p,originY:g,isAvailableBehavior:null})}if(l){var O=Math.abs(c),w=(c>0?1:-1)*(O>3?.4:O>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:w,originX:p,originY:g,isAvailableBehavior:null})}}}},n.prototype._pinchHandler=function(r){if(!(GU(this._zr,"globalPan")||_y(r))){var o=r.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,r,{scale:o,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n.prototype._checkTriggerMoveZoom=function(r,o,l,c,f){r._checkPointer(c,f.originX,f.originY)&&(bs(c.event),c.__ecRoamConsumed=!0,UU(r,o,l,c,f))},n})(La);function _y(a){return a.__ecRoamConsumed}var IEe=Kt();function N2(a){var n=IEe(a);return n.roam=n.roam||{},n.uniform=n.uniform||{},n}function Oy(a,n,r,o){for(var l=N2(a),c=l.roam,f=c[n]=c[n]||[],p=0;p<f.length;p++){var g=f[p].zInfoParsed;if((g.zlevel-o.zlevel||g.z-o.z||g.z2-o.z2)<=0)break}f.splice(p,0,{listener:r,zInfoParsed:o}),REe(a,n)}function by(a,n,r){for(var o=N2(a),l=o.roam[n]||[],c=0;c<l.length;c++)if(l[c].listener===r){l.splice(c,1),l.length||LEe(a,n);return}}function REe(a,n){var r=N2(a);r.uniform[n]||a.on(n,r.uniform[n]=function(o){var l=r.roam[n];if(l)for(var c=0;c<l.length;c++)l[c].listener(o)})}function LEe(a,n){var r=N2(a),o=r.uniform;o[n]&&(a.off(n,o[n]),o[n]=null)}function UU(a,n,r,o,l){l.isAvailableBehavior=Ee($2,null,r,o),a.trigger(n,l)}function $2(a,n,r){var o=r[a];return!a||o&&(!De(o)||n.event[o+"Key"])}function AI(a,n,r){var o=a.target;o.x+=n,o.y+=r,o.dirty()}function PI(a,n,r,o){var l=a.target,c=a.zoomLimit,f=a.zoom=a.zoom||1;f*=n,f=EI(f,c);var p=f/a.zoom;a.zoom=f,HU(l,r,o,p),l.dirty()}function qU(a,n,r,o,l,c){var f=new wt(0,0,0,0);o.enable(a.get("roam"),{api:n,zInfo:{component:a},triggerInfo:{roamTrigger:a.get("roamTrigger"),isInSelf:function(v,x,O){return f.copy(r.getBoundingRect()),f.applyTransform(r.getComputedTransform()),f.contain(x,O)},isInClip:function(v,x,O){return!c||c.contain(x,O)}}}),l.zoomLimit=a.get("scaleLimit");var p=a.coordinateSystem;l.zoom=p?p.getZoom():1;var g=a.subType+"Roam";o.off("pan").off("zoom").on("pan",function(v){AI(l,v.dx,v.dy),n.dispatchAction({seriesId:a.id,type:g,dx:v.dx,dy:v.dy})}).on("zoom",function(v){PI(l,v.scale,v.originX,v.originY),n.dispatchAction({seriesId:a.id,type:g,zoom:v.scale,originX:v.originX,originY:v.originY}),n.updateLabelLayout()})}function ZU(a,n){return a.pointToProjected?a.pointToProjected(n):a.pointToData(n)}function z2(a,n,r){var o=a.getZoom(),l=a.getCenter(),c=n.zoom,f=a.projectedToPoint?a.projectedToPoint(l):a.dataToPoint(l);return n.dx!=null&&n.dy!=null&&(f[0]-=n.dx,f[1]-=n.dy,a.setCenter(ZU(a,f))),c!=null&&(c=EI(o*c,r)/o,HU(a,n.originX,n.originY,c),a.updateTransform(),a.setCenter(ZU(a,f)),a.setZoom(c*o)),{center:a.getCenter(),zoom:a.getZoom()}}function HU(a,n,r,o){a.x-=(n-a.x)*(o-1),a.y-=(r-a.y)*(o-1),a.scaleX*=o,a.scaleY*=o}function EI(a,n){if(n){var r=n.min||0,o=n.max||1/0;a=Math.max(Math.min(o,a),r)}return a}function XU(a){if(De(a)){var n=new DOMParser;a=n.parseFromString(a,"text/xml")}var r=a;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var MI,B2={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},YU=He(B2),Q2={"alignment-baseline":"textBaseline","stop-color":"stopColor"},KU=He(Q2),NEe=(function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(n,r){r=r||{};var o=XU(n);if(!o)throw new Error("Illegal svg");this._defsUsePending=[];var l=new _t;this._root=l;var c=[],f=o.getAttribute("viewBox")||"",p=parseFloat(o.getAttribute("width")||r.width),g=parseFloat(o.getAttribute("height")||r.height);isNaN(p)&&(p=null),isNaN(g)&&(g=null),wo(o,l,null,!0,!1);for(var v=o.firstChild;v;)this._parseNode(v,l,c,null,!1,!1),v=v.nextSibling;BEe(this._defs,this._defsUsePending),this._defsUsePending=[];var x,O;if(f){var w=j2(f);w.length>=4&&(x={x:parseFloat(w[0]||0),y:parseFloat(w[1]||0),width:parseFloat(w[2]),height:parseFloat(w[3])})}if(x&&p!=null&&g!=null&&(O=oq(x,{x:0,y:0,width:p,height:g}),!r.ignoreViewBox)){var S=l;l=new _t,l.add(S),S.scaleX=S.scaleY=O.scale,S.x=O.x,S.y=O.y}return!r.ignoreRootClip&&p!=null&&g!=null&&l.setClipPath(new Zt({shape:{x:0,y:0,width:p,height:g}})),{root:l,width:p,height:g,viewBoxRect:x,viewBoxTransform:O,named:c}},a.prototype._parseNode=function(n,r,o,l,c,f){var p=n.nodeName.toLowerCase(),g,v=l;if(p==="defs"&&(c=!0),p==="text"&&(f=!0),p==="defs"||p==="switch")g=r;else{if(!c){var x=MI[p];if(x&&Je(MI,p)){g=x.call(this,n,r);var O=n.getAttribute("name");if(O){var w={name:O,namedFrom:null,svgNodeTagLower:p,el:g};o.push(w),p==="g"&&(v=w)}else l&&o.push({name:l.name,namedFrom:l,svgNodeTagLower:p,el:g});r.add(g)}}var S=JU[p];if(S&&Je(JU,p)){var k=S.call(this,n),P=n.getAttribute("id");P&&(this._defs[P]=k)}}if(g&&g.isGroup)for(var E=n.firstChild;E;)E.nodeType===1?this._parseNode(E,g,o,v,c,f):E.nodeType===3&&f&&this._parseText(E,g),E=E.nextSibling},a.prototype._parseText=function(n,r){var o=new tm({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),$Ee(o,r);var l=o.style,c=l.fontSize;c&&c<9&&(l.fontSize=9,o.scaleX*=c/9,o.scaleY*=c/9);var f=(l.fontSize||l.fontFamily)&&[l.fontStyle,l.fontWeight,(l.fontSize||12)+"px",l.fontFamily||"sans-serif"].join(" ");l.font=f;var p=o.getBoundingRect();return this._textX+=p.width,r.add(o),o},a.internalField=(function(){MI={g:function(n,r){var o=new _t;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o},rect:function(n,r){var o=new Zt;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(n,r){var o=new Ol;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),o.silent=!0,o},line:function(n,r){var o=new $r;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(n,r){var o=new S0;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(n,r){var o=n.getAttribute("points"),l;o&&(l=nq(o));var c=new Fi({shape:{points:l||[]},silent:!0});return Xo(r,c),wo(n,c,this._defsUsePending,!1,!1),c},polyline:function(n,r){var o=n.getAttribute("points"),l;o&&(l=nq(o));var c=new Ei({shape:{points:l||[]},silent:!0});return Xo(r,c),wo(n,c,this._defsUsePending,!1,!1),c},image:function(n,r){var o=new fi;return Xo(r,o),wo(n,o,this._defsUsePending,!1,!1),o.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),o.silent=!0,o},text:function(n,r){var o=n.getAttribute("x")||"0",l=n.getAttribute("y")||"0",c=n.getAttribute("dx")||"0",f=n.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(c),this._textY=parseFloat(l)+parseFloat(f);var p=new _t;return Xo(r,p),wo(n,p,this._defsUsePending,!1,!0),p},tspan:function(n,r){var o=n.getAttribute("x"),l=n.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),l!=null&&(this._textY=parseFloat(l));var c=n.getAttribute("dx")||"0",f=n.getAttribute("dy")||"0",p=new _t;return Xo(r,p),wo(n,p,this._defsUsePending,!1,!0),this._textX+=parseFloat(c),this._textY+=parseFloat(f),p},path:function(n,r){var o=n.getAttribute("d")||"",l=jF(o);return Xo(r,l),wo(n,l,this._defsUsePending,!1,!1),l.silent=!0,l}}})(),a})(),JU={lineargradient:function(a){var n=parseInt(a.getAttribute("x1")||"0",10),r=parseInt(a.getAttribute("y1")||"0",10),o=parseInt(a.getAttribute("x2")||"10",10),l=parseInt(a.getAttribute("y2")||"0",10),c=new If(n,r,o,l);return eq(a,c),tq(a,c),c},radialgradient:function(a){var n=parseInt(a.getAttribute("cx")||"0",10),r=parseInt(a.getAttribute("cy")||"0",10),o=parseInt(a.getAttribute("r")||"0",10),l=new FE(n,r,o);return eq(a,l),tq(a,l),l}};function eq(a,n){var r=a.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function tq(a,n){for(var r=a.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var o=r.getAttribute("offset"),l=void 0;o&&o.indexOf("%")>0?l=parseInt(o,10)/100:o?l=parseFloat(o):l=0;var c={};aq(r,c,c);var f=c.stopColor||r.getAttribute("stop-color")||"#000000",p=c.stopOpacity||r.getAttribute("stop-opacity");if(p){var g=ea(f),v=g&&g[3];v&&(g[3]*=wu(p),f=Qo(g,"rgba"))}n.colorStops.push({offset:l,color:f})}r=r.nextSibling}}function Xo(a,n){a&&a.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),be(n.__inheritedStyle,a.__inheritedStyle))}function nq(a){for(var n=j2(a),r=[],o=0;o<n.length;o+=2){var l=parseFloat(n[o]),c=parseFloat(n[o+1]);r.push([l,c])}return r}function wo(a,n,r,o,l){var c=n,f=c.__inheritedStyle=c.__inheritedStyle||{},p={};a.nodeType===1&&(VEe(a,n),aq(a,f,p),o||FEe(a,f,p)),c.style=c.style||{},f.fill!=null&&(c.style.fill=rq(c,"fill",f.fill,r)),f.stroke!=null&&(c.style.stroke=rq(c,"stroke",f.stroke,r)),Z(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(g){f[g]!=null&&(c.style[g]=parseFloat(f[g]))}),Z(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(g){f[g]!=null&&(c.style[g]=f[g])}),l&&(c.__selfStyle=p),f.lineDash&&(c.style.lineDash=ve(j2(f.lineDash),function(g){return parseFloat(g)})),(f.visibility==="hidden"||f.visibility==="collapse")&&(c.invisible=!0),f.display==="none"&&(c.ignore=!0)}function $Ee(a,n){var r=n.__selfStyle;if(r){var o=r.textBaseline,l=o;!o||o==="auto"||o==="baseline"?l="alphabetic":o==="before-edge"||o==="text-before-edge"?l="top":o==="after-edge"||o==="text-after-edge"?l="bottom":(o==="central"||o==="mathematical")&&(l="middle"),a.style.textBaseline=l}var c=n.__inheritedStyle;if(c){var f=c.textAlign,p=f;f&&(f==="middle"&&(p="center"),a.style.textAlign=p)}}var zEe=/^url\(\s*#(.*?)\)/;function rq(a,n,r,o){var l=r&&r.match(zEe);if(l){var c=An(l[1]);o.push([a,n,c]);return}return r==="none"&&(r=null),r}function BEe(a,n){for(var r=0;r<n.length;r++){var o=n[r];o[0].style[o[1]]=a[o[2]]}}var QEe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function j2(a){return a.match(QEe)||[]}var jEe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DI=Math.PI/180;function VEe(a,n){var r=a.getAttribute("transform");if(r){r=r.replace(/,/g," ");var o=[],l=null;r.replace(jEe,function(O,w,S){return o.push(w,S),""});for(var c=o.length-1;c>0;c-=2){var f=o[c],p=o[c-1],g=j2(f);switch(l=l||Ir(),p){case"translate":$a(l,l,[parseFloat(g[0]),parseFloat(g[1]||"0")]);break;case"scale":ff(l,l,[parseFloat(g[0]),parseFloat(g[1]||g[0])]);break;case"rotate":Ss(l,l,-parseFloat(g[0])*DI,[parseFloat(g[1]||"0"),parseFloat(g[2]||"0")]);break;case"skewX":var v=Math.tan(parseFloat(g[0])*DI);ho(l,[1,0,v,1,0,0],l);break;case"skewY":var x=Math.tan(parseFloat(g[0])*DI);ho(l,[1,x,0,1,0,0],l);break;case"matrix":l[0]=parseFloat(g[0]),l[1]=parseFloat(g[1]),l[2]=parseFloat(g[2]),l[3]=parseFloat(g[3]),l[4]=parseFloat(g[4]),l[5]=parseFloat(g[5]);break}}n.setLocalTransform(l)}}var iq=/([^\s:;]+)\s*:\s*([^:;]+)/g;function aq(a,n,r){var o=a.getAttribute("style");if(o){iq.lastIndex=0;for(var l;(l=iq.exec(o))!=null;){var c=l[1],f=Je(B2,c)?B2[c]:null;f&&(n[f]=l[2]);var p=Je(Q2,c)?Q2[c]:null;p&&(r[p]=l[2])}}}function FEe(a,n,r){for(var o=0;o<YU.length;o++){var l=YU[o],c=a.getAttribute(l);c!=null&&(n[B2[l]]=c)}for(var o=0;o<KU.length;o++){var l=KU[o],c=a.getAttribute(l);c!=null&&(r[Q2[l]]=c)}}function oq(a,n){var r=n.width/a.width,o=n.height/a.height,l=Math.min(r,o);return{scale:l,x:-(a.x+a.width/2)*l+(n.x+n.width/2),y:-(a.y+a.height/2)*l+(n.y+n.height/2)}}function GEe(a,n){var r=new NEe;return r.parse(a,n)}var WEe=Xe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),UEe=(function(){function a(n,r){this.type="geoSVG",this._usedGraphicMap=Xe(),this._freedGraphics=[],this._mapName=n,this._parsedXML=XU(r)}return a.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=ZEe(n.named),o=r.regions,l=r.regionsMap;this._regions=o,this._regionsMap=l}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(n){var r,o;try{r=n&&GEe(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=r.root,Ke(o!=null)}catch(E){throw new Error(`Invalid svg format
`+E.message)}var l=new _t;l.add(o),l.isGeoSVGGraphicRoot=!0;var c=r.width,f=r.height,p=r.viewBoxRect,g=this._boundingRect;if(!g){var v=void 0,x=void 0,O=void 0,w=void 0;if(c!=null?(v=0,O=c):p&&(v=p.x,O=p.width),f!=null?(x=0,w=f):p&&(x=p.y,w=p.height),v==null||x==null){var S=o.getBoundingRect();v==null&&(v=S.x,O=S.width),x==null&&(x=S.y,w=S.height)}g=this._boundingRect=new wt(v,x,O,w)}if(p){var k=oq(p,g);o.scaleX=o.scaleY=k.scale,o.x=k.x,o.y=k.y}l.setClipPath(new Zt({shape:g.plain()}));var P=[];return Z(r.named,function(E){WEe.get(E.svgNodeTagLower)!=null&&(P.push(E),qEe(E.el))}),{root:l,boundingRect:g,named:P}},a.prototype.useGraphic=function(n){var r=this._usedGraphicMap,o=r.get(n);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,o),o)},a.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,o=r.get(n);o&&(r.removeKey(n),this._freedGraphics.push(o))},a})();function qEe(a){a.silent=!1,a.isGroup&&a.traverse(function(n){n.silent=!1})}function ZEe(a){var n=[],r=Xe();return Z(a,function(o){if(o.namedFrom==null){var l=new tke(o.name,o.el);n.push(l),r.set(o.name,l)}}),{regions:n,regionsMap:r}}for(var II=[126,25],sq="南海诸岛",fh=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],hh=0;hh<fh.length;hh++)for(var qm=0;qm<fh[hh].length;qm++)fh[hh][qm][0]/=10.5,fh[hh][qm][1]/=-10.5/.75,fh[hh][qm][0]+=II[0],fh[hh][qm][1]+=II[1];function HEe(a,n){if(a==="china"){for(var r=0;r<n.length;r++)if(n[r].name===sq)return;n.push(new PW(sq,ve(fh,function(o){return{type:"polygon",exterior:o}}),II))}}var XEe={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function YEe(a,n){if(a==="china"){var r=XEe[n.name];if(r){var o=n.getCenter();o[0]+=r[0]/10.5,o[1]+=-r[1]/(10.5/.75),n.setCenter(o)}}}var KEe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function JEe(a,n){a==="china"&&n.name==="台湾"&&n.geometries.push({type:"polygon",exterior:KEe[0]})}var eMe="name",tMe=(function(){function a(n,r,o){this.type="geoJSON",this._parsedMap=Xe(),this._mapName=n,this._specialAreas=o,this._geoJSON=rMe(r)}return a.prototype.load=function(n,r){r=r||eMe;var o=this._parsedMap.get(r);if(!o){var l=this._parseToRegions(r);o=this._parsedMap.set(r,{regions:l,boundingRect:nMe(l)})}var c=Xe(),f=[];return Z(o.regions,function(p){var g=p.name;n&&Je(n,g)&&(p=p.cloneShallow(g=n[g])),f.push(p),c.set(g,p)}),{regions:f,boundingRect:o.boundingRect||new wt(0,0,0,0),regionsMap:c}},a.prototype._parseToRegions=function(n){var r=this._mapName,o=this._geoJSON,l;try{l=o?LD(o,n):[]}catch(c){throw new Error(`Invalid geoJson format
`+c.message)}return HEe(r,l),Z(l,function(c){var f=c.name;YEe(r,c),JEe(r,c);var p=this._specialAreas&&this._specialAreas[f];p&&c.transformTo(p.left,p.top,p.width,p.height)},this),l},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a})();function nMe(a){for(var n,r=0;r<a.length;r++){var o=a[r].getBoundingRect();n=n||o.clone(),n.union(o)}return n}function rMe(a){return De(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var wy=Xe(),ju={registerMap:function(a,n,r){if(n.svg){var o=new UEe(a,n.svg);wy.set(a,o)}else{var l=n.geoJson||n.geoJSON;l&&!n.features?r=n.specialAreas:l=n;var o=new tMe(a,l,r);wy.set(a,o)}},getGeoResource:function(a){return wy.get(a)},getMapForUser:function(a){var n=wy.get(a);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(a,n,r){var o=wy.get(a);if(!o){console.error("Map "+a+" not exists. The GeoJSON of the map must be provided.");return}return o.load(n,r)}},RI=["rect","circle","line","ellipse","polygon","polyline","path"],iMe=Xe(RI),aMe=Xe(RI.concat(["g"])),oMe=Xe(RI.concat(["g"])),lq=Kt();function V2(a){var n=a.getItemStyle(),r=a.get("areaColor");return r!=null&&(n.fill=r),n}function uq(a){var n=a.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var cq=(function(){function a(n){var r=this.group=new _t,o=this._transformGroup=new _t;r.add(o),this.uid=gm("ec_map_draw"),this._controller=new dh(n.getZr()),this._controllerHost={target:o},o.add(this._regionsGroup=new _t),o.add(this._svgGroup=new _t)}return a.prototype.draw=function(n,r,o,l,c){var f=n.mainType==="geo",p=n.getData&&n.getData();f&&r.eachComponent({mainType:"series",subType:"map"},function(N){!p&&N.getHostGeoModel()===n&&(p=N.getData())});var g=n.coordinateSystem,v=this._regionsGroup,x=this._transformGroup,O=g.getTransformInfo(),w=O.raw,S=O.roam,k=!v.childAt(0)||c,P=n.getShallow("clip",!0),E;P?(E=g.getViewRect().clone(),this.group.setClipPath(new Zt({shape:E.clone()}))):this.group.removeClipPath(),k?(x.x=S.x,x.y=S.y,x.scaleX=S.scaleX,x.scaleY=S.scaleY,x.dirty()):pn(x,S,n);var M=p&&p.getVisual("visualMeta")&&p.getVisual("visualMeta").length>0,R={api:o,geo:g,mapOrGeoModel:n,data:p,isVisualEncodedByVisualMap:M,isGeo:f,transformInfoRaw:w};g.resourceType==="geoJSON"?this._buildGeoJSON(R):g.resourceType==="geoSVG"&&this._buildSVG(R),this._updateController(n,E,r,o),this._updateMapSelectHandler(n,v,o,l)},a.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=Xe(),o=Xe(),l=this._regionsGroup,c=n.transformInfoRaw,f=n.mapOrGeoModel,p=n.data,g=n.geo.projection,v=g&&g.stream;function x(S,k){return k&&(S=k(S)),S&&[S[0]*c.scaleX+c.x,S[1]*c.scaleY+c.y]}function O(S){for(var k=[],P=!v&&g&&g.project,E=0;E<S.length;++E){var M=x(S[E],P);M&&k.push(M)}return k}function w(S){return{shape:{points:O(S)}}}l.removeAll(),Z(n.geo.regions,function(S){var k=S.name,P=r.get(k),E=o.get(k)||{},M=E.dataIdx,R=E.regionModel;if(!P){P=r.set(k,new _t),l.add(P),M=p?p.indexOfName(k):null,R=n.isGeo?f.getRegionModel(k):p?p.getItemModel(M):null;var N=R.get("silent",!0);N!=null&&(P.silent=N),o.set(k,{dataIdx:M,regionModel:R})}var j=[],W=[];Z(S.geometries,function(J){if(J.type==="polygon"){var re=[J.exterior].concat(J.interiors||[]);v&&(re=gq(re,v)),Z(re,function(le){j.push(new Fi(w(le)))})}else{var ie=J.points;v&&(ie=gq(ie,v,!0)),Z(ie,function(le){W.push(new Ei(w(le)))})}});var U=x(S.getCenter(),g&&g.project);function X(J,re){if(J.length){var ie=new A0({culling:!0,segmentIgnoreThreshold:1,shape:{paths:J}});P.add(ie),dq(n,ie,M,R),fq(n,ie,k,R,f,M,U),re&&(uq(ie),Z(ie.states,uq))}}X(j),X(W,!0)}),r.each(function(S,k){var P=o.get(k),E=P.dataIdx,M=P.regionModel;hq(n,S,k,M,f,E),pq(n,S,k,M,f),mq(n,S,k,M,f)},this)},a.prototype._buildSVG=function(n){var r=n.geo.map,o=n.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var l=this._svgDispatcherMap=Xe(),c=!1;Z(this._svgGraphicRecord.named,function(f){var p=f.name,g=n.mapOrGeoModel,v=n.data,x=f.svgNodeTagLower,O=f.el,w=v?v.indexOfName(p):null,S=g.getRegionModel(p);iMe.get(x)!=null&&O instanceof jo&&dq(n,O,w,S),O instanceof jo&&(O.culling=!0);var k=S.get("silent",!0);if(k!=null&&(O.silent=k),O.z2EmphasisLift=0,!f.namedFrom&&(oMe.get(x)!=null&&fq(n,O,p,S,g,w,null),hq(n,O,p,S,g,w),pq(n,O,p,S,g),aMe.get(x)!=null)){var P=mq(n,O,p,S,g);P==="self"&&(c=!0);var E=l.get(p)||l.set(p,[]);E.push(O)}},this),this._enableBlurEntireSVG(c,n)},a.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var o=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),l=o.opacity;this._svgGraphicRecord.root.traverse(function(c){if(!c.isGroup){Ef(c);var f=c.ensureState("blur").style||{};f.opacity==null&&l!=null&&(f.opacity=l),c.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var o=r.coordinateSystem;if(o.resourceType==="geoJSON"){var l=this._regionsGroupByName;if(l){var c=l.get(n);return c?[c]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},a.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},a.prototype._useSVG=function(n){var r=ju.getGeoResource(n);if(r&&r.type==="geoSVG"){var o=r.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=n}},a.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=ju.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(n,r,o,l){var c=n.coordinateSystem,f=this._controller,p=this._controllerHost;p.zoomLimit=n.get("scaleLimit"),p.zoom=c.getZoom(),f.enable(n.get("roam")||!1,{api:l,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(x,O,w){return c.containPoint([O,w])},isInClip:function(x,O,w){return!r||r.contain(O,w)}}});var g=n.mainType;function v(){var x={type:"geoRoam",componentType:g};return x[g+"Id"]=n.id,x}f.off("pan").on("pan",function(x){this._mouseDownFlag=!1,AI(p,x.dx,x.dy),l.dispatchAction(ee(v(),{dx:x.dx,dy:x.dy,animation:{duration:0}}))},this),f.off("zoom").on("zoom",function(x){this._mouseDownFlag=!1,PI(p,x.scale,x.originX,x.originY),l.dispatchAction(ee(v(),{totalZoom:p.zoom,zoom:x.scale,originX:x.originX,originY:x.originY,animation:{duration:0}}))},this)},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=lq(r).ignore)})},a.prototype._updateMapSelectHandler=function(n,r,o,l){var c=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){c._mouseDownFlag=!0}),r.on("click",function(f){c._mouseDownFlag&&(c._mouseDownFlag=!1)}))},a})();function dq(a,n,r,o){var l=o.getModel("itemStyle"),c=o.getModel(["emphasis","itemStyle"]),f=o.getModel(["blur","itemStyle"]),p=o.getModel(["select","itemStyle"]),g=V2(l),v=V2(c),x=V2(p),O=V2(f),w=a.data;if(w){var S=w.getItemVisual(r,"style"),k=w.getItemVisual(r,"decal");a.isVisualEncodedByVisualMap&&S.fill&&(g.fill=S.fill),k&&(g.decal=Pm(k,a.api))}n.setStyle(g),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=v,n.ensureState("select").style=x,n.ensureState("blur").style=O,Ef(n)}function fq(a,n,r,o,l,c,f){var p=a.data,g=a.isGeo,v=p&&isNaN(p.get(p.mapDimension("value"),c)),x=p&&p.getItemLayout(c);if(g||v||x&&x.showLabel){var O=g?r:c,w=void 0;(!p||c>=0)&&(w=l);var S=f?{normal:{align:"center",verticalAlign:"middle"}}:null;hi(n,Jr(o),{labelFetcher:w,labelDataIndex:O,defaultText:r},S);var k=n.getTextContent();if(k&&(lq(k).ignore=k.ignore,n.textConfig&&f)){var P=n.getBoundingRect().clone();n.textConfig.layoutRect=P,n.textConfig.position=[(f[0]-P.x)/P.width*100+"%",(f[1]-P.y)/P.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function hq(a,n,r,o,l,c){a.data?a.data.setItemGraphicEl(c,n):Et(n).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:r,region:o&&o.option||{}}}function pq(a,n,r,o,l){a.data||Iu({el:n,componentModel:l,itemName:r,itemTooltipOption:o.get("tooltip")})}function mq(a,n,r,o,l){n.highDownSilentOnTouch=!!l.get("selectedMode");var c=o.getModel("emphasis"),f=c.get("focus");return ar(n,f,c.get("blurScope"),c.get("disabled")),a.isGeo&&Zbe(n,l,r),f}function gq(a,n,r){var o=[],l;function c(){l=[]}function f(){l.length&&(o.push(l),l=[])}var p=n({polygonStart:c,polygonEnd:f,lineStart:c,lineEnd:f,point:function(g,v){isFinite(g)&&isFinite(v)&&l.push([g,v])},sphere:function(){}});return!r&&p.polygonStart(),Z(a,function(g){p.lineStart();for(var v=0;v<g.length;v++)p.point(g[v][0],g[v][1]);p.lineEnd()}),!r&&p.polygonEnd(),o}var sMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l,c){if(!(c&&c.type==="mapToggleSelect"&&c.from===this.uid)){var f=this.group;if(f.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&c&&c.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),c&&c.type==="geoRoam"&&c.componentType==="series"&&c.seriesId===r.id){var p=this._mapDraw;p&&f.add(p.group)}else if(r.needsDrawMap){var p=this._mapDraw||new cq(l);f.add(p.group),p.draw(r,o,l,this,c),this._mapDraw=p}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(r,o,l)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,o,l){var c=r.originalData,f=this.group;c.each(c.mapDimension("value"),function(p,g){if(!isNaN(p)){var v=c.getItemLayout(g);if(!(!v||!v.point)){var x=v.point,O=v.offset,w=new Ol({style:{fill:r.getData().getVisual("style").fill},shape:{cx:x[0]+O*9,cy:x[1],r:3},silent:!0,z2:8+(O?0:rm+1)});if(!O){var S=r.mainSeries.getData(),k=c.getName(g),P=S.indexOfName(k),E=c.getItemModel(g),M=E.getModel("label"),R=S.getItemGraphicEl(P);hi(w,Jr(E),{labelFetcher:{getFormattedLabel:function(N,j){return r.getFormattedLabel(P,j)}},defaultText:k}),w.disableLabelAnimation=!0,M.get("position")||w.setTextConfig({position:"bottom"}),R.onHoverStateChange=function(N){lb(w,N)}}f.add(w)}}})},n.type="map",n})(Dn),lMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(o){if(o!=null){var l=this.getData().getName(o),c=this.coordinateSystem,f=c.getRegion(l);return f&&c.dataToPoint(f.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var o=Fm(this,{coordDimensions:["value"],encodeDefaulter:Ue(kM,this)}),l=Xe(),c=[],f=0,p=o.count();f<p;f++){var g=o.getName(f);l.set(g,f)}var v=ju.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Z(v.regions,function(x){var O=x.name,w=l.get(O),S=x.properties&&x.properties.echartsStyle,k;w==null?(k={name:O},c.push(k)):k=o.getRawDataItem(w),S&&me(k,S)}),o.appendData(c),o},n.prototype.getHostGeoModel=function(){if(k7(this).kind!==wl.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var o=this.getData();return o.get(o.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var o=this.getData();return o.getItemModel(o.indexOfName(r))},n.prototype.formatTooltip=function(r,o,l){for(var c=this.getData(),f=this.getRawValue(r),p=c.getName(r),g=this.seriesGroup,v=[],x=0;x<g.length;x++){var O=g[x].originalData.indexOfName(p),w=c.mapDimension("value");isNaN(g[x].originalData.get(w,O))||v.push(g[x].name)}return qr("section",{header:v.join(", "),noHeader:!v.length,blocks:[qr("nameValue",{name:p,value:f})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var o=r.icon||"roundRect",l=Br(o,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return l.setStyle(r.itemStyle),l.style.stroke="none",o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill=Ie.color.neutral00,l.style.lineWidth=2),l},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:Ie.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Ie.color.border,areaColor:Ie.color.background},emphasis:{label:{show:!0,color:Ie.color.primary},itemStyle:{areaColor:Ie.color.highlight}},select:{label:{show:!0,color:Ie.color.primary},itemStyle:{color:Ie.color.highlight}},nameProperty:"name"},n})(Bn);function uMe(a,n){var r={};return Z(a,function(o){o.each(o.mapDimension("value"),function(l,c){var f="ec-"+o.getName(c);r[f]=r[f]||[],isNaN(l)||r[f].push(l)})}),a[0].map(a[0].mapDimension("value"),function(o,l){for(var c="ec-"+a[0].getName(l),f=0,p=1/0,g=-1/0,v=r[c].length,x=0;x<v;x++)p=Math.min(p,r[c][x]),g=Math.max(g,r[c][x]),f+=r[c][x];var O;return n==="min"?O=p:n==="max"?O=g:n==="average"?O=f/v:O=f,v===0?NaN:O})}function cMe(a){var n={};a.eachSeriesByType("map",function(r){var o=r.getHostGeoModel(),l=o?"o"+o.id:"i"+r.getMapType();(n[l]=n[l]||[]).push(r)}),Z(n,function(r,o){for(var l=uMe(ve(r,function(f){return f.getData()}),r[0].get("mapValueCalculation")),c=0;c<r.length;c++)r[c].originalData=r[c].getData();for(var c=0;c<r.length;c++)r[c].seriesGroup=r,r[c].needsDrawMap=c===0&&!r[c].getHostGeoModel(),r[c].setData(l.cloneShallow()),r[c].mainSeries=r[0]})}function dMe(a){var n={};a.eachSeriesByType("map",function(r){var o=r.getMapType();if(!(r.getHostGeoModel()||n[o])){var l={};Z(r.seriesGroup,function(f){var p=f.coordinateSystem,g=f.originalData;f.get("showLegendSymbol")&&a.getComponent("legend")&&g.each(g.mapDimension("value"),function(v,x){var O=g.getName(x),w=p.getRegion(O);if(!(!w||isNaN(v))){var S=l[O]||0,k=p.dataToPoint(w.getCenter());l[O]=S+1,g.setItemLayout(x,{point:k,offset:S})}})});var c=r.getData();c.each(function(f){var p=c.getName(f),g=c.getItemLayout(f)||{};g.showLabel=!l[p],c.setItemLayout(f,g)}),n[o]=!0}})}var vq=yr,ph=(function(a){u(n,a);function n(r,o){var l=a.call(this)||this;return l.type="view",l.dimensions=["x","y"],l._roamTransformable=new Cu,l._rawTransformable=new Cu,l.name=r,l._opt=o,l}return n.prototype.setBoundingRect=function(r,o,l,c){return this._rect=new wt(r,o,l,c),this._updateCenterAndZoom(),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,o,l,c){this._transformTo(r,o,l,c),this._viewRect=new wt(r,o,l,c)},n.prototype._transformTo=function(r,o,l,c){var f=this.getBoundingRect(),p=this._rawTransformable;p.transform=f.calculateTransform(new wt(r,o,l,c));var g=p.parent;p.parent=null,p.decomposeTransform(),p.parent=g,this._updateTransform()},n.prototype.setCenter=function(r){var o=this._opt;o&&o.api&&o.ecModel&&o.ecModel.getShallow("legacyViewCoordSysCenterBase")&&r&&(r=[it(r[0],o.api.getWidth()),it(r[1],o.api.getWidth())]),this._centerOption=ne(r),this._updateCenterAndZoom()},n.prototype.setZoom=function(r){this._zoom=EI(r||1,this.zoomLimit),this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),o=r.x+r.width/2,l=r.y+r.height/2;return[o,l]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._centerOption,o=this._rect;r&&o&&(this._center=[it(r[0],o.width,o.x),it(r[1],o.height,o.y)]);var l=this._rawTransformable.getLocalTransform(),c=this._roamTransformable,f=this.getDefaultCenter(),p=this.getCenter(),g=this.getZoom();p=yr([],p,l),f=yr([],f,l),c.originX=p[0],c.originY=p[1],c.x=f[0]-p[0],c.y=f[1]-p[1],c.scaleX=c.scaleY=g,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,o=this._rawTransformable;o.parent=r,r.updateTransform(),o.updateTransform(),ws(this.transform||(this.transform=[]),o.transform||Ir()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],za(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,o=this._roamTransformable,l=new Cu;return l.transform=o.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,o,l){var c=o?this._rawTransform:this.transform;return l=l||[],c?vq(l,r,c):xt(l,r)},n.prototype.pointToData=function(r,o,l){l=l||[];var c=this.invTransform;return c?vq(l,r,c):(l[0]=r[0],l[1]=r[1],l)},n.prototype.convertToPixel=function(r,o,l){var c=yq(o);return c===this?c.dataToPoint(l):null},n.prototype.convertFromPixel=function(r,o,l){var c=yq(o);return c===this?c.pointToData(l):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n})(Cu);function yq(a){var n=a.seriesModel;return n?n.coordinateSystem:null}var fMe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},xq=["lng","lat"],LI=(function(a){u(n,a);function n(r,o,l){var c=a.call(this,r,{api:l.api,ecModel:l.ecModel})||this;c.dimensions=xq,c.type="geo",c._nameCoordMap=Xe(),c.map=o;var f=l.projection,p=ju.load(o,l.nameMap,l.nameProperty),g=ju.getGeoResource(o),v=c.resourceType=g?g.type:null,x=c.regions=p.regions,O=fMe[g.type];c._regionsMap=p.regionsMap,c.regions=p.regions,f&&(v==="geoSVG"&&(fr("Map "+o+" with SVG source can't use projection. Only GeoJSON source supports projection."),f=null),f.project&&f.unproject||(fr("project and unproject must be both provided in the projeciton."),f=null)),c.projection=f;var w;if(f)for(var S=0;S<x.length;S++){var k=x[S].getBoundingRect(f);w=w||k.clone(),w.union(k)}else w=p.boundingRect;return c.setBoundingRect(w.x,w.y,w.width,w.height),c.aspectScale=f?1:$e(l.aspectScale,O.aspectScale),c._invertLongitute=f?!1:O.invertLongitute,c}return n.prototype._transformTo=function(r,o,l,c){var f=this.getBoundingRect(),p=this._invertLongitute;f=f.clone(),p&&(f.y=-f.y-f.height);var g=this._rawTransformable;g.transform=f.calculateTransform(new wt(r,o,l,c));var v=g.parent;g.parent=null,g.decomposeTransform(),g.parent=v,p&&(g.scaleY=-g.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var o=this.regions,l=0;l<o.length;l++){var c=o[l];if(c.type==="geoJSON"&&c.contain(r))return o[l]}},n.prototype.addGeoCoord=function(r,o){this._nameCoordMap.set(r,o)},n.prototype.getGeoCoord=function(r){var o=this._regionsMap.get(r);return this._nameCoordMap.get(r)||o&&o.getCenter()},n.prototype.dataToPoint=function(r,o,l){if(De(r)&&(r=this.getGeoCoord(r)),r){var c=this.projection;return c&&(r=c.project(r)),r&&this.projectedToPoint(r,o,l)}},n.prototype.pointToData=function(r,o,l){var c=this.projection;return c&&(r=c.unproject(r)),r&&this.pointToProjected(r,l)},n.prototype.pointToProjected=function(r,o){return a.prototype.pointToData.call(this,r,0,o)},n.prototype.projectedToPoint=function(r,o,l){return a.prototype.dataToPoint.call(this,r,o,l)},n.prototype.convertToPixel=function(r,o,l){var c=_q(o);return c===this?c.dataToPoint(l):null},n.prototype.convertFromPixel=function(r,o,l){var c=_q(o);return c===this?c.pointToData(l):null},n})(ph);we(LI,ph);function _q(a){var n=a.geoModel,r=a.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",br).models[0]||{}).coordinateSystem:null}function Oq(a,n){var r=a.get("boundingCoords");if(r!=null){var o=r[0],l=r[1];if(!(isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])))console.error("Invalid boundingCoords");else{var c=this.projection;if(c){var f=o[0],p=o[1],g=l[0],v=l[1];o=[1/0,1/0],l=[-1/0,-1/0];var x=function(W,U,X,J){for(var re=X-W,ie=J-U,le=0;le<=100;le++){var pe=le/100,ce=c.project([W+re*pe,U+ie*pe]);No(o,o,ce),Os(l,l,ce)}};x(f,p,g,p),x(g,p,g,v),x(g,v,f,v),x(f,v,g,p)}this.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1])}}var O=this.getBoundingRect(),w=a.get("layoutCenter"),S=a.get("layoutSize"),k=ei(a,n).refContainer,P=O.width/O.height*this.aspectScale,E=!1,M,R;w&&S&&(M=[it(w[0],k.width)+k.x,it(w[1],k.height)+k.y],R=it(S,Math.min(k.width,k.height)),!isNaN(M[0])&&!isNaN(M[1])&&!isNaN(R)?E=!0:console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."));var N;if(E)N={},P>1?(N.width=R,N.height=R/P):(N.height=R,N.width=R*P),N.y=M[1]-N.height/2,N.x=M[0]-N.width/2;else{var j=a.getBoxLayoutParams();j.aspect=P,N=rr(j,k),N=D7(a,N,P)}this.setViewRect(N.x,N.y,N.width,N.height),this.setCenter(a.get("center")),this.setZoom(a.get("zoom"))}function hMe(a,n){Z(n.get("geoCoord"),function(r,o){a.addGeoCoord(o,r)})}var pMe=(function(){function a(){this.dimensions=xq}return a.prototype.create=function(n,r){var o=[];function l(f){return{nameProperty:f.get("nameProperty"),aspectScale:f.get("aspectScale"),projection:f.get("projection")}}n.eachComponent("geo",function(f,p){var g=f.get("map"),v=new LI(g+p,g,ee({nameMap:f.get("nameMap"),api:r,ecModel:n},l(f)));v.zoomLimit=f.get("scaleLimit"),o.push(v),f.coordinateSystem=v,v.model=f,v.resize=Oq,v.resize(f,r)}),n.eachSeries(function(f){N0({targetModel:f,coordSysType:"geo",coordSysProvider:function(){var p=f.subType==="map"?f.getHostGeoModel():f.getReferringComponents("geo",br).models[0];return p&&p.coordinateSystem},allowNotFound:!0})});var c={};return n.eachSeriesByType("map",function(f){if(!f.getHostGeoModel()){var p=f.getMapType();c[p]=c[p]||[],c[p].push(f)}}),Z(c,function(f,p){var g=ve(f,function(x){return x.get("nameMap")}),v=new LI(p,p,ee({nameMap:ge(g),api:r,ecModel:n},l(f[0])));v.zoomLimit=tt.apply(null,ve(f,function(x){return x.get("scaleLimit")})),o.push(v),v.resize=Oq,v.resize(f[0],r),Z(f,function(x){x.coordinateSystem=v,hMe(v,x)})}),o},a.prototype.getFilledRegions=function(n,r,o,l){for(var c=(n||[]).slice(),f=Xe(),p=0;p<c.length;p++)f.set(c[p].name,c[p]);var g=ju.load(r,o,l);return Z(g.regions,function(v){var x=v.name,O=f.get(x),w=v.properties&&v.properties.echartsStyle;O||(O={name:x},c.push(O)),w&&me(O,w)}),c},a})(),bq=new pMe,mMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o,l){this.mergeDefaultAndTheme(r,l);var c=ju.getGeoResource(r.map);if(c&&c.type==="geoJSON"){var f=r.itemStyle=r.itemStyle||{};"color"in f||(f.color=r.defaultItemStyleColor||Ie.color.backgroundTint)}yf(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,o=this.option;o.regions=bq.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var l={};this._optionModelMap=ze(o.regions||[],function(c,f){var p=f.name;return p&&(c.set(p,new en(f,r,r.ecModel)),f.selected&&(l[p]=!0)),c},Xe()),o.selectedMap||(o.selectedMap=l)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new en(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,o){var l=this.getRegionModel(r),c=o==="normal"?l.get(["label","formatter"]):l.get(["emphasis","label","formatter"]),f={name:r};if(Ge(c))return f.status=o,c(f);if(De(c))return c.replace("{a}",r??"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var o=this.option,l=o.selectedMode;if(l){l!=="multiple"&&(o.selectedMap=null);var c=o.selectedMap||(o.selectedMap={});c[r]=!0}},n.prototype.unSelect=function(r){var o=this.option.selectedMap;o&&(o[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var o=this.option.selectedMap;return!!(o&&o[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:Ie.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Ie.color.border},emphasis:{label:{show:!0,color:Ie.color.primary},itemStyle:{color:Ie.color.highlight}},select:{label:{show:!0,color:Ie.color.primary},itemStyle:{color:Ie.color.highlight}},regions:[]},n})(Ht),gMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,o){this._api=o},n.prototype.render=function(r,o,l,c){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new cq(l));var f=this._mapDraw;f.draw(r,o,l,this,c),f.group.on("click",this._handleRegionClick,this),f.group.silent=r.get("silent"),this.group.add(f.group),this.updateSelectStatus(r,o,l)},n.prototype._handleRegionClick=function(r){var o;Xf(r.target,function(l){return(o=Et(l).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},n.prototype.updateSelectStatus=function(r,o,l){var c=this;this._mapDraw.group.traverse(function(f){var p=Et(f).eventData;if(p)return c._model.isSelected(p.name)?l.enterSelect(f):l.leaveSelect(f),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n})(Gn);function vMe(a,n,r){ju.registerMap(a,n,r)}function wq(a){a.registerCoordinateSystem("geo",bq),a.registerComponentModel(mMe),a.registerComponentView(gMe),a.registerImpl("registerMap",vMe),a.registerImpl("getMap",function(r){return ju.getMapForUser(r)});function n(r,o){o.update="geo:updateSelectStatus",a.registerAction(o,function(l,c){var f={},p=[];return c.eachComponent({mainType:"geo",query:l},function(g){g[r](l.name);var v=g.coordinateSystem;Z(v.regions,function(O){f[O.name]=g.isSelected(O.name)||!1});var x=[];Z(f,function(O,w){f[w]&&x.push(w)}),p.push({geoIndex:g.componentIndex,name:x})}),{selected:f,allSelected:p,name:l.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,o,l){var c=r.componentType;c||(r.geoId!=null?c="geo":r.seriesId!=null&&(c="series")),c||(c="series"),o.eachComponent({mainType:c,query:r},function(f){var p=f.coordinateSystem;if(p.type==="geo"){var g=z2(p,r,f.get("scaleLimit"));f.setCenter&&f.setCenter(g.center),f.setZoom&&f.setZoom(g.zoom),c==="series"&&Z(f.seriesGroup,function(v){v.setCenter(g.center),v.setZoom(g.zoom)})}})})}function yMe(a){Gt(wq),a.registerChartView(sMe),a.registerSeriesModel(lMe),a.registerLayout(dMe),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,cMe),nG("map",a.registerAction)}function xMe(a){var n=a;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],o,l;o=r.pop();)if(l=o.children,o.isExpand&&l.length)for(var c=l.length,f=c-1;f>=0;f--){var p=l[f];p.hierNode={defaultAncestor:null,ancestor:p,prelim:0,modifier:0,change:0,shift:0,i:f,thread:null},r.push(p)}}function _Me(a,n){var r=a.isExpand?a.children:[],o=a.parentNode.children,l=a.hierNode.i?o[a.hierNode.i-1]:null;if(r.length){bMe(a);var c=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;l?(a.hierNode.prelim=l.hierNode.prelim+n(a,l),a.hierNode.modifier=a.hierNode.prelim-c):a.hierNode.prelim=c}else l&&(a.hierNode.prelim=l.hierNode.prelim+n(a,l));a.parentNode.hierNode.defaultAncestor=wMe(a,l,a.parentNode.hierNode.defaultAncestor||o[0],n)}function OMe(a){var n=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:n},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function Sq(a){return arguments.length?a:CMe}function Sy(a,n){return a-=Math.PI/2,{x:n*Math.cos(a),y:n*Math.sin(a)}}function bMe(a){for(var n=a.children,r=n.length,o=0,l=0;--r>=0;){var c=n[r];c.hierNode.prelim+=o,c.hierNode.modifier+=o,l+=c.hierNode.change,o+=c.hierNode.shift+l}}function wMe(a,n,r,o){if(n){for(var l=a,c=a,f=c.parentNode.children[0],p=n,g=l.hierNode.modifier,v=c.hierNode.modifier,x=f.hierNode.modifier,O=p.hierNode.modifier;p=NI(p),c=$I(c),p&&c;){l=NI(l),f=$I(f),l.hierNode.ancestor=a;var w=p.hierNode.prelim+O-c.hierNode.prelim-v+o(p,c);w>0&&(TMe(SMe(p,a,r),a,w),v+=w,g+=w),O+=p.hierNode.modifier,v+=c.hierNode.modifier,g+=l.hierNode.modifier,x+=f.hierNode.modifier}p&&!NI(l)&&(l.hierNode.thread=p,l.hierNode.modifier+=O-g),c&&!$I(f)&&(f.hierNode.thread=c,f.hierNode.modifier+=v-x,r=a)}return r}function NI(a){var n=a.children;return n.length&&a.isExpand?n[n.length-1]:a.hierNode.thread}function $I(a){var n=a.children;return n.length&&a.isExpand?n[0]:a.hierNode.thread}function SMe(a,n,r){return a.hierNode.ancestor.parentNode===n.parentNode?a.hierNode.ancestor:r}function TMe(a,n,r){var o=r/(n.hierNode.i-a.hierNode.i);n.hierNode.change-=o,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,a.hierNode.change+=o}function CMe(a,n){return a.parentNode===n.parentNode?1:2}var kMe=(function(){function a(){this.parentPoint=[],this.childPoints=[]}return a})(),AMe=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:Ie.color.neutral99,fill:null}},n.prototype.getDefaultShape=function(){return new kMe},n.prototype.buildPath=function(r,o){var l=o.childPoints,c=l.length,f=o.parentPoint,p=l[0],g=l[c-1];if(c===1){r.moveTo(f[0],f[1]),r.lineTo(p[0],p[1]);return}var v=o.orient,x=v==="TB"||v==="BT"?0:1,O=1-x,w=it(o.forkPosition,1),S=[];S[x]=f[x],S[O]=f[O]+(g[O]-f[O])*w,r.moveTo(f[0],f[1]),r.lineTo(S[0],S[1]),r.moveTo(p[0],p[1]),S[x]=p[x],r.lineTo(S[0],S[1]),S[x]=g[x],r.lineTo(S[0],S[1]),r.lineTo(g[0],g[1]);for(var k=1;k<c-1;k++){var P=l[k];r.moveTo(P[0],P[1]),S[x]=P[x],r.lineTo(S[0],S[1])}},n})(Jt),PMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new _t,r}return n.prototype.init=function(r,o){this._controller=new dh(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,o,l){var c=r.getData(),f=r.layoutInfo,p=this._mainGroup,g=r.get("layout");g==="radial"?(p.x=f.x+f.width/2,p.y=f.y+f.height/2):(p.x=f.x,p.y=f.y),this._updateViewCoordSys(r,l),this._updateController(r,null,o,l);var v=this._data;c.diff(v).add(function(x){Tq(c,x)&&Cq(c,x,null,p,r)}).update(function(x,O){var w=v.getItemGraphicEl(O);if(!Tq(c,x)){w&&Pq(v,O,w,p,r);return}Cq(c,x,w,p,r)}).remove(function(x){var O=v.getItemGraphicEl(x);O&&Pq(v,x,O,p,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&c.eachItemGraphicEl(function(x,O){x.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:O})})}),this._data=c},n.prototype._updateViewCoordSys=function(r,o){var l=r.getData(),c=[];l.each(function(O){var w=l.getItemLayout(O);w&&!isNaN(w.x)&&!isNaN(w.y)&&c.push([+w.x,+w.y])});var f=[],p=[];JO(c,f,p);var g=this._min,v=this._max;p[0]-f[0]===0&&(f[0]=g?g[0]:f[0]-1,p[0]=v?v[0]:p[0]+1),p[1]-f[1]===0&&(f[1]=g?g[1]:f[1]-1,p[1]=v?v[1]:p[1]+1);var x=r.coordinateSystem=new ph(null,{api:o,ecModel:r.ecModel});x.zoomLimit=r.get("scaleLimit"),x.setBoundingRect(f[0],f[1],p[0]-f[0],p[1]-f[1]),x.setCenter(r.get("center")),x.setZoom(r.get("zoom")),this.group.attr({x:x.x,y:x.y,scaleX:x.scaleX,scaleY:x.scaleY}),this._min=f,this._max=p},n.prototype._updateController=function(r,o,l,c){var f=this;qU(r,c,this.group,this._controller,this._controllerHost,o),this._controller.on("zoom",function(p){f._updateNodeAndLinkScale(r)})},n.prototype._updateNodeAndLinkScale=function(r){var o=r.getData(),l=this._getNodeGlobalScale(r);o.eachItemGraphicEl(function(c,f){c.setSymbolScale(l)})},n.prototype._getNodeGlobalScale=function(r){var o=r.coordinateSystem;if(o.type!=="view")return 1;var l=this._nodeScaleRatio,c=o.scaleX||1,f=o.getZoom(),p=(f-1)*l+1;return p/c},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n})(Dn);function Tq(a,n){var r=a.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function Cq(a,n,r,o,l){var c=!r,f=a.tree.getNodeByDataIndex(n),p=f.getModel(),g=f.getVisual("style").fill,v=f.isExpand===!1&&f.children.length!==0?g:Ie.color.neutral00,x=a.tree.root,O=f.parentNode===x?f:f.parentNode||f,w=a.getItemGraphicEl(O.dataIndex),S=O.getLayout(),k=w?{x:w.__oldX,y:w.__oldY,rawX:w.__radialOldRawX,rawY:w.__radialOldRawY}:S,P=f.getLayout();c?(r=new cy(a,n,null,{symbolInnerColor:v,useNameLabel:!0}),r.x=k.x,r.y=k.y):r.updateData(a,n,null,{symbolInnerColor:v,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=P.rawX,r.__radialRawY=P.rawY,o.add(r),a.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,pn(r,{x:P.x,y:P.y},l);var E=r.getSymbolPath();if(l.get("layout")==="radial"){var M=x.children[0],R=M.getLayout(),N=M.children.length,j=void 0,W=void 0;if(P.x===R.x&&f.isExpand===!0&&M.children.length){var U={x:(M.children[0].getLayout().x+M.children[N-1].getLayout().x)/2,y:(M.children[0].getLayout().y+M.children[N-1].getLayout().y)/2};j=Math.atan2(U.y-R.y,U.x-R.x),j<0&&(j=Math.PI*2+j),W=U.x<R.x,W&&(j=j-Math.PI)}else j=Math.atan2(P.y-R.y,P.x-R.x),j<0&&(j=Math.PI*2+j),f.children.length===0||f.children.length!==0&&f.isExpand===!1?(W=P.x<R.x,W&&(j=j-Math.PI)):(W=P.x>R.x,W||(j=j-Math.PI));var X=W?"left":"right",J=p.getModel("label"),re=J.get("rotate"),ie=re*(Math.PI/180),le=E.getTextContent();le&&(E.setTextConfig({position:J.get("position")||X,rotation:re==null?-j:ie,origin:"center"}),le.setStyle("verticalAlign","middle"))}var pe=p.get(["emphasis","focus"]),ce=pe==="relative"?Xn(f.getAncestorsIndices(),f.getDescendantIndices()):pe==="ancestor"?f.getAncestorsIndices():pe==="descendant"?f.getDescendantIndices():null;ce&&(Et(r).focus=ce),EMe(l,f,x,r,k,S,P,o),r.__edge&&(r.onHoverStateChange=function(ye){if(ye!=="blur"){var Oe=f.parentNode&&a.getItemGraphicEl(f.parentNode.dataIndex);Oe&&Oe.hoverState===O0||lb(r.__edge,ye)}})}function EMe(a,n,r,o,l,c,f,p){var g=n.getModel(),v=a.get("edgeShape"),x=a.get("layout"),O=a.getOrient(),w=a.get(["lineStyle","curveness"]),S=a.get("edgeForkPosition"),k=g.getModel("lineStyle").getLineStyle(),P=o.__edge;if(v==="curve")n.parentNode&&n.parentNode!==r&&(P||(P=o.__edge=new lm({shape:zI(x,O,w,l,l)})),pn(P,{shape:zI(x,O,w,c,f)},a));else if(v==="polyline")if(x==="orthogonal"){if(n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var E=n.children,M=[],R=0;R<E.length;R++){var N=E[R].getLayout();M.push([N.x,N.y])}P||(P=o.__edge=new AMe({shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]],orient:O,forkPosition:S}})),pn(P,{shape:{parentPoint:[f.x,f.y],childPoints:M}},a)}}else throw new Error("The polyline edgeShape can only be used in orthogonal layout");P&&!(v==="polyline"&&!n.isExpand)&&(P.useStyle(be({strokeNoScale:!0,fill:null},k)),Kr(P,g,"lineStyle"),Ef(P),p.add(P))}function kq(a,n,r,o,l){var c=n.tree.root,f=Aq(c,a),p=f.source,g=f.sourceLayout,v=n.getItemGraphicEl(a.dataIndex);if(v){var x=n.getItemGraphicEl(p.dataIndex),O=x.__edge,w=v.__edge||(p.isExpand===!1||p.children.length===1?O:void 0),S=o.get("edgeShape"),k=o.get("layout"),P=o.get("orient"),E=o.get(["lineStyle","curveness"]);w&&(S==="curve"?jc(w,{shape:zI(k,P,E,g,g),style:{opacity:0}},o,{cb:function(){r.remove(w)},removeOpt:l}):S==="polyline"&&o.get("layout")==="orthogonal"&&jc(w,{shape:{parentPoint:[g.x,g.y],childPoints:[[g.x,g.y]]},style:{opacity:0}},o,{cb:function(){r.remove(w)},removeOpt:l}))}}function Aq(a,n){for(var r=n.parentNode===a?n:n.parentNode||n,o;o=r.getLayout(),o==null;)r=r.parentNode===a?r:r.parentNode||r;return{source:r,sourceLayout:o}}function Pq(a,n,r,o,l){var c=a.tree.getNodeByDataIndex(n),f=a.tree.root,p=Aq(f,c).sourceLayout,g={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};jc(r,{x:p.x+1,y:p.y+1},l,{cb:function(){o.remove(r),a.setItemGraphicEl(n,null)},removeOpt:g}),r.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:g}),c.children.forEach(function(v){kq(v,a,o,l,g)}),kq(c,a,o,l,g)}function zI(a,n,r,o,l){var c,f,p,g,v,x,O,w;if(a==="radial"){v=o.rawX,O=o.rawY,x=l.rawX,w=l.rawY;var S=Sy(v,O),k=Sy(v,O+(w-O)*r),P=Sy(x,w+(O-w)*r),E=Sy(x,w);return{x1:S.x||0,y1:S.y||0,x2:E.x||0,y2:E.y||0,cpx1:k.x||0,cpy1:k.y||0,cpx2:P.x||0,cpy2:P.y||0}}else v=o.x,O=o.y,x=l.x,w=l.y,(n==="LR"||n==="RL")&&(c=v+(x-v)*r,f=O,p=x+(v-x)*r,g=w),(n==="TB"||n==="BT")&&(c=v,f=O+(w-O)*r,p=x,g=w+(O-w)*r);return{x1:v,y1:O,x2:x,y2:w,cpx1:c,cpy1:f,cpx2:p,cpy2:g}}var Yo=Kt();function Eq(a){var n=a.mainData,r=a.datas;r||(r={main:n},a.datasAttr={main:"data"}),a.datas=a.mainData=null,Mq(n,r,a),Z(r,function(o){Z(n.TRANSFERABLE_METHODS,function(l){o.wrapMethod(l,Ue(MMe,a))})}),n.wrapMethod("cloneShallow",Ue(IMe,a)),Z(n.CHANGABLE_METHODS,function(o){n.wrapMethod(o,Ue(DMe,a))}),Ke(r[n.dataType]===n)}function MMe(a,n){if(NMe(this)){var r=ee({},Yo(this).datas);r[this.dataType]=n,Mq(n,r,a)}else BI(n,this.dataType,Yo(this).mainData,a);return n}function DMe(a,n){return a.struct&&a.struct.update(),n}function IMe(a,n){return Z(Yo(n).datas,function(r,o){r!==n&&BI(r.cloneShallow(),o,n,a)}),n}function RMe(a){var n=Yo(this).mainData;return a==null||n==null?n:Yo(n).datas[a]}function LMe(){var a=Yo(this).mainData;return a==null?[{data:a}]:ve(He(Yo(a).datas),function(n){return{type:n,data:Yo(a).datas[n]}})}function NMe(a){return Yo(a).mainData===a}function Mq(a,n,r){Yo(a).datas={},Z(n,function(o,l){BI(o,l,a,r)})}function BI(a,n,r,o){Yo(r).datas[n]=a,Yo(a).mainData=r,a.dataType=n,o.struct&&(a[o.structAttr]=o.struct,o.struct[o.datasAttr[n]]=a),a.getLinkedData=RMe,a.getLinkedDataAll=LMe}var $Me=(function(){function a(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(n,r,o){Ge(n)&&(o=r,r=n,n=null),n=n||{},De(n)&&(n={order:n});var l=n.order||"preorder",c=this[n.attr||"children"],f;l==="preorder"&&(f=r.call(o,this));for(var p=0;!f&&p<c.length;p++)c[p].eachNode(n,r,o);l==="postorder"&&r.call(o,this)},a.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var o=0;o<this.children.length;o++){var l=this.children[o];l.updateDepthAndHeight(n+1),l.height>r&&(r=l.height)}this.height=r+1},a.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,o=this.children,l=o.length;r<l;r++){var c=o[r].getNodeById(n);if(c)return c}},a.prototype.contains=function(n){if(n===this)return!0;for(var r=0,o=this.children,l=o.length;r<l;r++){var c=o[r].contains(n);if(c)return c}},a.prototype.getAncestors=function(n){for(var r=[],o=n?this:this.parentNode;o;)r.push(o),o=o.parentNode;return r.reverse(),r},a.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},a.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},a.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},a.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,o=r.data.getItemModel(this.dataIndex);return o.getModel(n)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},a.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},a.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},a.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},a})(),QI=(function(){function a(n){this.type="tree",this._nodes=[],this.hostModel=n}return a.prototype.eachNode=function(n,r,o){this.root.eachNode(n,r,o)},a.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},a.prototype.getNodeById=function(n){return this.root.getNodeById(n)},a.prototype.update=function(){for(var n=this.data,r=this._nodes,o=0,l=r.length;o<l;o++)r[o].dataIndex=-1;for(var o=0,l=n.count();o<l;o++)r[n.getRawIndex(o)].dataIndex=o},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(n,r,o){var l=new a(r),c=[],f=1;p(n);function p(x,O){var w=x.value;f=Math.max(f,ke(w)?w.length:1),c.push(x);var S=new $Me(Yr(x.name,""),l);O?zMe(S,O):l.root=S,l._nodes.push(S);var k=x.children;if(k)for(var P=0;P<k.length;P++)p(k[P],S)}l.root.updateDepthAndHeight(0);var g=Rm(c,{coordDimensions:["value"],dimensionsCount:f}).dimensions,v=new ra(g,r);return v.initData(c),o&&o(v),Eq({mainData:v,struct:l,structAttr:"tree"}),l.update(),l},a})();function zMe(a,n){var r=n.children;a.parentNode!==n&&(r.push(a),a.parentNode=n)}function Ty(a,n,r){if(a&&se(n,a.type)>=0){var o=r.getData().tree.root,l=a.targetNode;if(De(l)&&(l=o.getNodeById(l)),l&&o.contains(l))return{node:l};var c=a.targetNodeId;if(c!=null&&(l=o.getNodeById(c)))return{node:l}}}function Dq(a){for(var n=[];a;)a=a.parentNode,a&&n.push(a);return n.reverse()}function jI(a,n){var r=Dq(a);return se(r,n)>=0}function F2(a,n){for(var r=[];a;){var o=a.dataIndex;r.push({name:a.name,dataIndex:o,value:n.getRawValue(o)}),a=a.parentNode}return r.reverse(),r}var BMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var o={name:r.name,children:r.data},l=r.leaves||{},c=new en(l,this,this.ecModel),f=QI.createTree(o,this,p);function p(O){O.wrapMethod("getItemModel",function(w,S){var k=f.getNodeByDataIndex(S);return k&&k.children.length&&k.isExpand||(w.parentModel=c),w})}var g=0;f.eachNode("preorder",function(O){O.depth>g&&(g=O.depth)});var v=r.expandAndCollapse,x=v&&r.initialTreeDepth>=0?r.initialTreeDepth:g;return f.root.eachNode("preorder",function(O){var w=O.hostTree.data.getRawDataItem(O.dataIndex);O.isExpand=w&&w.collapsed!=null?!w.collapsed:O.depth<=x}),f.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,o,l){for(var c=this.getData().tree,f=c.root.children[0],p=c.getNodeByDataIndex(r),g=p.getValue(),v=p.name;p&&p!==f;)v=p.parentNode.name+"."+v,p=p.parentNode;return qr("nameValue",{name:v,value:g,noValue:isNaN(g)||g==null})},n.prototype.getDataParams=function(r){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return o.treeAncestors=F2(l,this),o.collapsed=!l.isExpand,o},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:Ie.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n})(Bn);function QMe(a,n,r){for(var o=[a],l=[],c;c=o.pop();)if(l.push(c),c.isExpand){var f=c.children;if(f.length)for(var p=0;p<f.length;p++)o.push(f[p])}for(;c=l.pop();)n(c,r)}function Cy(a,n){for(var r=[a],o;o=r.pop();)if(n(o),o.isExpand){var l=o.children;if(l.length)for(var c=l.length-1;c>=0;c--)r.push(l[c])}}function jMe(a,n){a.eachSeriesByType("tree",function(r){VMe(r,n)})}function VMe(a,n){var r=ei(a,n).refContainer,o=rr(a.getBoxLayoutParams(),r);a.layoutInfo=o;var l=a.get("layout"),c=0,f=0,p=null;l==="radial"?(c=2*Math.PI,f=Math.min(o.height,o.width)/2,p=Sq(function(j,W){return(j.parentNode===W.parentNode?1:2)/j.depth})):(c=o.width,f=o.height,p=Sq());var g=a.getData().tree.root,v=g.children[0];if(v){xMe(g),QMe(v,_Me,p),g.hierNode.modifier=-v.hierNode.prelim,Cy(v,OMe);var x=v,O=v,w=v;Cy(v,function(j){var W=j.getLayout().x;W<x.getLayout().x&&(x=j),W>O.getLayout().x&&(O=j),j.depth>w.depth&&(w=j)});var S=x===O?1:p(x,O)/2,k=S-x.getLayout().x,P=0,E=0,M=0,R=0;if(l==="radial")P=c/(O.getLayout().x+S+k),E=f/(w.depth-1||1),Cy(v,function(j){M=(j.getLayout().x+k)*P,R=(j.depth-1)*E;var W=Sy(M,R);j.setLayout({x:W.x,y:W.y,rawX:M,rawY:R},!0)});else{var N=a.getOrient();N==="RL"||N==="LR"?(E=f/(O.getLayout().x+S+k),P=c/(w.depth-1||1),Cy(v,function(j){R=(j.getLayout().x+k)*E,M=N==="LR"?(j.depth-1)*P:c-(j.depth-1)*P,j.setLayout({x:M,y:R},!0)})):(N==="TB"||N==="BT")&&(P=c/(O.getLayout().x+S+k),E=f/(w.depth-1||1),Cy(v,function(j){M=(j.getLayout().x+k)*P,R=N==="TB"?(j.depth-1)*E:f-(j.depth-1)*E,j.setLayout({x:M,y:R},!0)}))}}}function FMe(a){a.eachSeriesByType("tree",function(n){var r=n.getData(),o=r.tree;o.eachNode(function(l){var c=l.getModel(),f=c.getModel("itemStyle").getItemStyle(),p=r.ensureUniqueItemVisual(l.dataIndex,"style");ee(p,f)})})}function GMe(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function(o){var l=n.dataIndex,c=o.getData().tree,f=c.getNodeByDataIndex(l);f.isExpand=!f.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,o){r.eachComponent({mainType:"series",subType:"tree",query:n},function(l){var c=l.coordinateSystem,f=z2(c,n,l.get("scaleLimit"));l.setCenter(f.center),l.setZoom(f.zoom)})})}function WMe(a){a.registerChartView(PMe),a.registerSeriesModel(BMe),a.registerLayout(jMe),a.registerVisual(FMe),GMe(a)}var Iq=["treemapZoomToNode","treemapRender","treemapMove"];function UMe(a){for(var n=0;n<Iq.length;n++)a.registerAction({type:Iq[n],update:"updateView"},an);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,o){o.eachComponent({mainType:"series",subType:"treemap",query:r},l);function l(c,f){var p=["treemapZoomToNode","treemapRootToNode"],g=Ty(r,p,c);if(g){var v=c.getViewRoot();v&&(r.direction=jI(v,g.node)?"rollUp":"drillDown"),c.resetViewRoot(g.node)}}})}function Rq(a){var n=a.getData(),r=n.tree,o={};r.eachNode(function(l){for(var c=l;c&&c.depth>1;)c=c.parentNode;var f=MM(a.ecModel,c.name||c.dataIndex+"",o);l.setVisual("decal",f)})}var qMe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,o){var l={name:r.name,children:r.data};Lq(l);var c=r.levels||[],f=this.designatedVisualItemStyle={},p=new en({itemStyle:f},this,o);c=r.levels=ZMe(c,o);var g=ve(c||[],function(O){return new en(O,p,o)},this),v=QI.createTree(l,this,x);function x(O){O.wrapMethod("getItemModel",function(w,S){var k=v.getNodeByDataIndex(S),P=k?g[k.depth]:null;return w.parentModel=P||p,w})}return v.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,o,l){var c=this.getData(),f=this.getRawValue(r),p=c.getName(r);return qr("nameValue",{name:p,value:f})},n.prototype.getDataParams=function(r){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return o.treeAncestors=F2(l,this),o.treePathInfo=o.treeAncestors,o},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},ee(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var o=this._idIndexMap;o||(o=this._idIndexMap=Xe(),this._idIndexMapCount=0);var l=o.get(r);return l==null&&o.set(r,l=this._idIndexMapCount++),l},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var o=this.getRawData().tree.root;(!r||r!==o&&!o.contains(r))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){Rq(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,coordinateSystemUsage:"box",left:Ie.size.l,top:Ie.size.xxxl,right:Ie.size.l,bottom:Ie.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:Ie.size.m,emptyItemWidth:25,itemStyle:{color:Ie.color.backgroundShade,textStyle:{color:Ie.color.secondary}},emphasis:{itemStyle:{color:Ie.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:Ie.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:Ie.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n})(Bn);function Lq(a){var n=0;Z(a.children,function(o){Lq(o);var l=o.value;ke(l)&&(l=l[0]),n+=l});var r=a.value;ke(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),ke(a.value)?a.value[0]=r:a.value=r}function ZMe(a,n){var r=Vn(n.get("color")),o=Vn(n.get(["aria","decal","decals"]));if(r){a=a||[];var l,c;Z(a,function(p){var g=new en(p),v=g.get("color"),x=g.get("decal");(g.get(["itemStyle","color"])||v&&v!=="none")&&(l=!0),(g.get(["itemStyle","decal"])||x&&x!=="none")&&(c=!0)});var f=a[0]||(a[0]={});return l||(f.color=r.slice()),!c&&o&&(f.decal=o.slice()),a}}var HMe=8,Nq=8,VI=5,XMe=(function(){function a(n){this.group=new _t,n.add(this.group)}return a.prototype.render=function(n,r,o,l){var c=n.getModel("breadcrumb"),f=this.group;if(f.removeAll(),!(!c.get("show")||!o)){var p=c.getModel("itemStyle"),g=c.getModel("emphasis"),v=p.getModel("textStyle"),x=g.getModel(["itemStyle","textStyle"]),O=ei(n,r).refContainer,w={left:c.get("left"),right:c.get("right"),top:c.get("top"),bottom:c.get("bottom")},S={emptyItemWidth:c.get("emptyItemWidth"),totalWidth:0,renderList:[]},k=rr(w,O);this._prepare(o,S,v),this._renderContent(n,S,k,p,g,v,x,l),Pb(f,w,O)}},a.prototype._prepare=function(n,r,o){for(var l=n;l;l=l.parentNode){var c=Yr(l.getModel().get("name"),""),f=o.getTextRect(c),p=Math.max(f.width+HMe*2,r.emptyItemWidth);r.totalWidth+=p+Nq,r.renderList.push({node:l,text:c,width:p})}},a.prototype._renderContent=function(n,r,o,l,c,f,p,g){for(var v=0,x=r.emptyItemWidth,O=n.get(["breadcrumb","height"]),w=r.totalWidth,S=r.renderList,k=c.getModel("itemStyle").getItemStyle(),P=S.length-1;P>=0;P--){var E=S[P],M=E.node,R=E.width,N=E.text;w>o.width&&(w-=R-x,R=x,N=null);var j=new Fi({shape:{points:YMe(v,0,R,O,P===S.length-1,P===0)},style:be(l.getItemStyle(),{lineJoin:"bevel"}),textContent:new un({style:Fn(f,{text:N})}),textConfig:{position:"inside"},z2:rm*1e4,onclick:Ue(g,M)});j.disableLabelAnimation=!0,j.getTextContent().ensureState("emphasis").style=Fn(p,{text:N}),j.ensureState("emphasis").style=k,ar(j,c.get("focus"),c.get("blurScope"),c.get("disabled")),this.group.add(j),KMe(j,n,M),v+=R+Nq}},a.prototype.remove=function(){this.group.removeAll()},a})();function YMe(a,n,r,o,l,c){var f=[[l?a:a-VI,n],[a+r,n],[a+r,n+o],[l?a:a-VI,n+o]];return!c&&f.splice(2,0,[a+r+VI,n+o/2]),!l&&f.push([a,n+o/2]),f}function KMe(a,n,r){Et(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&F2(r,n)}}var JMe=(function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(n,r,o,l,c){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:o,delay:l,easing:c}),!0)},a.prototype.finished=function(n){return this._finishedCallback=n,this},a.prototype.start=function(){for(var n=this,r=this._storage.length,o=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},l=0,c=this._storage.length;l<c;l++){var f=this._storage[l];f.el.animateTo(f.target,{duration:f.duration,delay:f.delay,easing:f.easing,setToFinal:!0,done:o,aborted:o})}return this},a})();function eDe(){return new JMe}var FI=_t,$q=Zt,zq=3,Bq="label",Qq="upperLabel",tDe=rm*10,nDe=rm*2,rDe=rm*3,mh=Of([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),jq=function(a){var n=mh(a);return n.stroke=n.fill=n.lineWidth=null,n},G2=Kt(),iDe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=ky(),r}return n.prototype.render=function(r,o,l,c){var f=o.findComponents({mainType:"series",subType:"treemap",query:c});if(!(se(f,r)<0)){this.seriesModel=r,this.api=l,this.ecModel=o;var p=["treemapZoomToNode","treemapRootToNode"],g=Ty(c,p,r),v=c&&c.type,x=r.layoutInfo,O=!this._oldTree,w=this._storage,S=v==="treemapRootToNode"&&g&&w?{rootNodeGroup:w.nodeGroup[g.node.getRawIndex()],direction:c.direction}:null,k=this._giveContainerGroup(x),P=r.get("animation"),E=this._doRender(k,r,S);P&&!O&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(k,E,r,S):E.renderFinally(),this._resetController(l),this._renderBreadcrumb(r,l,g)}},n.prototype._giveContainerGroup=function(r){var o=this._containerGroup;return o||(o=this._containerGroup=new FI,this._initEvents(o),this.group.add(o)),o.x=r.x,o.y=r.y,o},n.prototype._doRender=function(r,o,l){var c=o.getData().tree,f=this._oldTree,p=ky(),g=ky(),v=this._storage,x=[];function O(R,N,j,W){return aDe(o,g,v,l,p,x,R,N,j,W)}P(c.root?[c.root]:[],f&&f.root?[f.root]:[],r,c===f||!f,0);var w=E(v);if(this._oldTree=c,this._storage=g,this._controllerHost){var S=this.seriesModel.layoutInfo,k=c.root.getLayout();k.width===S.width&&k.height===S.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:p,willDeleteEls:w,renderFinally:M};function P(R,N,j,W,U){W?(N=R,Z(R,function(re,ie){!re.isRemoved()&&J(ie,ie)})):new $u(N,R,X,X).add(J).update(J).remove(Ue(J,null)).execute();function X(re){return re.getId()}function J(re,ie){var le=re!=null?R[re]:null,pe=ie!=null?N[ie]:null,ce=O(le,pe,j,U);ce&&P(le&&le.viewChildren||[],pe&&pe.viewChildren||[],ce,W,U+1)}}function E(R){var N=ky();return R&&Z(R,function(j,W){var U=N[W];Z(j,function(X){X&&(U.push(X),G2(X).willDelete=!0)})}),N}function M(){Z(w,function(R){Z(R,function(N){N.parent&&N.parent.remove(N)})}),Z(x,function(R){R.invisible=!0,R.dirty()})}},n.prototype._doAnimation=function(r,o,l,c){var f=l.get("animationDurationUpdate"),p=l.get("animationEasing"),g=(Ge(f)?0:f)||0,v=(Ge(p)?null:p)||"cubicOut",x=eDe();Z(o.willDeleteEls,function(O,w){Z(O,function(S,k){if(!S.invisible){var P=S.parent,E,M=G2(P);if(c&&c.direction==="drillDown")E=P===c.rootNodeGroup?{shape:{x:0,y:0,width:M.nodeWidth,height:M.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var R=0,N=0;M.willDelete||(R=M.nodeWidth/2,N=M.nodeHeight/2),E=w==="nodeGroup"?{x:R,y:N,style:{opacity:0}}:{shape:{x:R,y:N,width:0,height:0},style:{opacity:0}}}E&&x.add(S,E,g,0,v)}})}),Z(this._storage,function(O,w){Z(O,function(S,k){var P=o.lastsForAnimation[w][k],E={};P&&(S instanceof _t?P.oldX!=null&&(E.x=S.x,E.y=S.y,S.x=P.oldX,S.y=P.oldY):(P.oldShape&&(E.shape=ee({},S.shape),S.setShape(P.oldShape)),P.fadein?(S.setStyle("opacity",0),E.style={opacity:1}):S.style.opacity!==1&&(E.style={opacity:1})),x.add(S,E,g,0,v))})},this),this._state="animating",x.finished(Ee(function(){this._state="ready",o.renderFinally()},this)).start()},n.prototype._resetController=function(r){var o=this,l=this._controller,c=this._controllerHost;c||(this._controllerHost={target:this.group},c=this._controllerHost);var f=this.seriesModel;l||(l=this._controller=new dh(r.getZr()),l.on("pan",Ee(this._onPan,this)),l.on("zoom",Ee(this._onZoom,this))),l.enable(f.get("roam"),{api:r,zInfo:{component:f},triggerInfo:{roamTrigger:f.get("roamTrigger"),isInSelf:function(p,g,v){var x=o._containerGroup;return x?x.getBoundingRect().contain(g-x.x,v-x.y):!1}}}),c.zoomLimit=f.get("scaleLimit"),c.zoom=f.get("zoom")},n.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>zq||Math.abs(r.dy)>zq)){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+r.dx,y:l.y+r.dy,width:l.width,height:l.height}})}},n.prototype._onZoom=function(r){var o=r.originX,l=r.originY,c=r.scale;if(this._state!=="animating"){var f=this.seriesModel.getData().tree.root;if(!f)return;var p=f.getLayout();if(!p)return;var g=new wt(p.x,p.y,p.width,p.height),v=null,x=this._controllerHost;v=x.zoomLimit;var O=x.zoom=x.zoom||1;if(O*=c,v){var w=v.min||0,S=v.max||1/0;O=Math.max(Math.min(S,O),w)}var k=O/x.zoom;x.zoom=O;var P=this.seriesModel.layoutInfo;o-=P.x,l-=P.y;var E=Ir();$a(E,E,[-o,-l]),ff(E,E,[k,k]),$a(E,E,[o,l]),g.applyTransform(E),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:g.x,y:g.y,width:g.width,height:g.height}})}},n.prototype._initEvents=function(r){var o=this;r.on("click",function(l){if(o._state==="ready"){var c=o.seriesModel.get("nodeClick",!0);if(c){var f=o.findTarget(l.offsetX,l.offsetY);if(f){var p=f.node;if(p.getLayout().isLeafRoot)o._rootToNode(f);else if(c==="zoomToNode")o._zoomToNode(f);else if(c==="link"){var g=p.hostTree.data.getItemModel(p.dataIndex),v=g.get("link",!0),x=g.get("target",!0)||"blank";v&&Cb(v,x)}}}}},this)},n.prototype._renderBreadcrumb=function(r,o,l){var c=this;l||(l=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),l||(l={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new XMe(this.group))).render(r,o,l.node,function(f){c._state!=="animating"&&(jI(r.getViewRoot(),f)?c._rootToNode({node:f}):c._zoomToNode({node:f}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ky(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,o){var l,c=this.seriesModel.getViewRoot();return c.eachNode({attr:"viewChildren",order:"preorder"},function(f){var p=this._storage.background[f.getRawIndex()];if(p){var g=p.transformCoordToLocal(r,o),v=p.shape;if(v.x<=g[0]&&g[0]<=v.x+v.width&&v.y<=g[1]&&g[1]<=v.y+v.height)l={node:f,offsetX:g[0],offsetY:g[1]};else return!1}},this),l},n.type="treemap",n})(Dn);function ky(){return{nodeGroup:[],background:[],content:[]}}function aDe(a,n,r,o,l,c,f,p,g,v){if(!f)return;var x=f.getLayout(),O=a.getData(),w=f.getModel();if(O.setItemGraphicEl(f.dataIndex,null),!x||!x.isInView)return;var S=x.width,k=x.height,P=x.borderWidth,E=x.invisible,M=f.getRawIndex(),R=p&&p.getRawIndex(),N=f.viewChildren,j=x.upperHeight,W=N&&N.length,U=w.getModel("itemStyle"),X=w.getModel(["emphasis","itemStyle"]),J=w.getModel(["blur","itemStyle"]),re=w.getModel(["select","itemStyle"]),ie=U.get("borderRadius")||0,le=Mt("nodeGroup",FI);if(!le)return;if(g.add(le),le.x=x.x||0,le.y=x.y||0,le.markRedraw(),G2(le).nodeWidth=S,G2(le).nodeHeight=k,x.isAboveViewRoot)return le;var pe=Mt("background",$q,v,nDe);pe&&Ne(le,pe,W&&x.upperLabelHeight);var ce=w.getModel("emphasis"),ye=ce.get("focus"),Oe=ce.get("blurScope"),_e=ce.get("disabled"),Pe=ye==="ancestor"?f.getAncestorsIndices():ye==="descendant"?f.getDescendantIndices():ye;if(W)Qc(le)&&Mf(le,!1),pe&&(Mf(pe,!_e),O.setItemGraphicEl(f.dataIndex,pe),$E(pe,Pe,Oe));else{var Se=Mt("content",$q,v,rDe);Se&&Be(le,Se),pe.disableMorphing=!0,pe&&Qc(pe)&&Mf(pe,!1),Mf(le,!_e),O.setItemGraphicEl(f.dataIndex,le);var Re=w.getShallow("cursor");Re&&Se.attr("cursor",Re),$E(le,Pe,Oe)}return le;function Ne(Dt,Ot,Ft){var pt=Et(Ot);if(pt.dataIndex=f.dataIndex,pt.seriesIndex=a.seriesIndex,Ot.setShape({x:0,y:0,width:S,height:k,r:ie}),E)Fe(Ot);else{Ot.invisible=!1;var Rt=f.getVisual("style"),Wn=Rt.stroke,mn=jq(U);mn.fill=Wn;var In=mh(X);In.fill=X.get("borderColor");var Un=mh(J);Un.fill=J.get("borderColor");var gi=mh(re);if(gi.fill=re.get("borderColor"),Ft){var So=S-2*P;rt(Ot,Wn,Rt.opacity,{x:P,y:0,width:So,height:j})}else Ot.removeTextContent();Ot.setStyle(mn),Ot.ensureState("emphasis").style=In,Ot.ensureState("blur").style=Un,Ot.ensureState("select").style=gi,Ef(Ot)}Dt.add(Ot)}function Be(Dt,Ot){var Ft=Et(Ot);Ft.dataIndex=f.dataIndex,Ft.seriesIndex=a.seriesIndex;var pt=Math.max(S-2*P,0),Rt=Math.max(k-2*P,0);if(Ot.culling=!0,Ot.setShape({x:P,y:P,width:pt,height:Rt,r:ie}),E)Fe(Ot);else{Ot.invisible=!1;var Wn=f.getVisual("style"),mn=Wn.fill,In=jq(U);In.fill=mn,In.decal=Wn.decal;var Un=mh(X),gi=mh(J),So=mh(re);rt(Ot,mn,Wn.opacity,null),Ot.setStyle(In),Ot.ensureState("emphasis").style=Un,Ot.ensureState("blur").style=gi,Ot.ensureState("select").style=So,Ef(Ot)}Dt.add(Ot)}function Fe(Dt){!Dt.invisible&&c.push(Dt)}function rt(Dt,Ot,Ft,pt){var Rt=w.getModel(pt?Qq:Bq),Wn=Yr(w.get("name"),null),mn=Rt.getShallow("show");hi(Dt,Jr(w,pt?Qq:Bq),{defaultText:mn?Wn:null,inheritColor:Ot,defaultOpacity:Ft,labelFetcher:a,labelDataIndex:f.dataIndex});var In=Dt.getTextContent();if(In){var Un=In.style,gi=gn(Un.padding||0);pt&&(Dt.setTextConfig({layoutRect:pt}),In.disableLabelLayout=!0),In.beforeUpdate=function(){var Wa=Math.max((pt?pt.width:Dt.shape.width)-gi[1]-gi[3],0),Sh=Math.max((pt?pt.height:Dt.shape.height)-gi[0]-gi[2],0);(Un.width!==Wa||Un.height!==Sh)&&In.setStyle({width:Wa,height:Sh})},Un.truncateMinChar=2,Un.lineOverflow="truncate",ht(Un,pt,x);var So=In.getState("emphasis");ht(So?So.style:null,pt,x)}}function ht(Dt,Ot,Ft){var pt=Dt?Dt.text:null;if(!Ot&&Ft.isLeafRoot&&pt!=null){var Rt=a.get("drillDownIcon",!0);Dt.text=Rt?Rt+" "+pt:pt}}function Mt(Dt,Ot,Ft,pt){var Rt=R!=null&&r[Dt][R],Wn=l[Dt];return Rt?(r[Dt][R]=null,vn(Wn,Rt)):E||(Rt=new Ot,Rt instanceof jo&&(Rt.z2=oDe(Ft,pt)),Rn(Wn,Rt)),n[Dt][M]=Rt}function vn(Dt,Ot){var Ft=Dt[M]={};Ot instanceof FI?(Ft.oldX=Ot.x,Ft.oldY=Ot.y):Ft.oldShape=ee({},Ot.shape)}function Rn(Dt,Ot){var Ft=Dt[M]={},pt=f.parentNode,Rt=Ot instanceof _t;if(pt&&(!o||o.direction==="drillDown")){var Wn=0,mn=0,In=l.background[pt.getRawIndex()];!o&&In&&In.oldShape&&(Wn=In.oldShape.width,mn=In.oldShape.height),Rt?(Ft.oldX=0,Ft.oldY=mn):Ft.oldShape={x:Wn,y:mn,width:0,height:0}}Ft.fadein=!Rt}}function oDe(a,n){return a*tDe+n}var Ay=Z,sDe=Ze,W2=-1,mi=(function(){function a(n){var r=n.mappingMethod,o=n.type,l=this.option=ne(n);this.type=o,this.mappingMethod=r,this._normalizeData=cDe[r];var c=a.visualHandlers[o];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._normalizedToVisual=c._normalizedToVisual[r],r==="piecewise"?(GI(l),lDe(l)):r==="category"?l.categories?uDe(l):GI(l,!0):(Ke(r!=="linear"||l.dataExtent),GI(l))}return a.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},a.prototype.getNormalizer=function(){return Ee(this._normalizeData,this)},a.listVisualTypes=function(){return He(a.visualHandlers)},a.isValidType=function(n){return a.visualHandlers.hasOwnProperty(n)},a.eachVisual=function(n,r,o){Ze(n)?Z(n,r,o):r.call(o,n)},a.mapVisual=function(n,r,o){var l,c=ke(n)?[]:Ze(n)?{}:(l=!0,null);return a.eachVisual(n,function(f,p){var g=r.call(o,f,p);l?c=g:c[p]=g}),c},a.retrieveVisuals=function(n){var r={},o;return n&&Ay(a.visualHandlers,function(l,c){n.hasOwnProperty(c)&&(r[c]=n[c],o=!0)}),o?r:null},a.prepareVisualTypes=function(n){if(ke(n))n=n.slice();else if(sDe(n)){var r=[];Ay(n,function(o,l){r.push(l)}),n=r}else return[];return n.sort(function(o,l){return l==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),n},a.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},a.findPieceIndex=function(n,r,o){for(var l,c=1/0,f=0,p=r.length;f<p;f++){var g=r[f].value;if(g!=null){if(g===n||De(g)&&g===n+"")return f;o&&w(g,f)}}for(var f=0,p=r.length;f<p;f++){var v=r[f],x=v.interval,O=v.close;if(x){if(x[0]===-1/0){if(q2(O[1],n,x[1]))return f}else if(x[1]===1/0){if(q2(O[0],x[0],n))return f}else if(q2(O[0],x[0],n)&&q2(O[1],n,x[1]))return f;o&&w(x[0],f),o&&w(x[1],f)}}if(o)return n===1/0?r.length-1:n===-1/0?0:l;function w(S,k){var P=Math.abs(S-n);P<c&&(c=P,l=k)}},a.visualHandlers={color:{applyVisual:Py("color"),getColorMapper:function(){var n=this.option;return Ee(n.mappingMethod==="category"?function(r,o){return!o&&(r=this._normalizeData(r)),Ey.call(this,r)}:function(r,o,l){var c=!!l;return!o&&(r=this._normalizeData(r)),l=l0(r,n.parsedVisual,l),c?l:Qo(l,"rgba")},this)},_normalizedToVisual:{linear:function(n){return Qo(l0(n,this.option.parsedVisual),"rgba")},category:Ey,piecewise:function(n,r){var o=UI.call(this,r);return o==null&&(o=Qo(l0(n,this.option.parsedVisual),"rgba")),o},fixed:gh}},colorHue:U2(function(n,r){return Su(n,r)}),colorSaturation:U2(function(n,r){return Su(n,null,r)}),colorLightness:U2(function(n,r){return Su(n,null,null,r)}),colorAlpha:U2(function(n,r){return u0(n,r)}),decal:{applyVisual:Py("decal"),_normalizedToVisual:{linear:null,category:Ey,piecewise:null,fixed:null}},opacity:{applyVisual:Py("opacity"),_normalizedToVisual:WI([0,1])},liftZ:{applyVisual:Py("liftZ"),_normalizedToVisual:{linear:gh,category:gh,piecewise:gh,fixed:gh}},symbol:{applyVisual:function(n,r,o){var l=this.mapValueToVisual(n);o("symbol",l)},_normalizedToVisual:{linear:Vq,category:Ey,piecewise:function(n,r){var o=UI.call(this,r);return o==null&&(o=Vq.call(this,n)),o},fixed:gh}},symbolSize:{applyVisual:Py("symbolSize"),_normalizedToVisual:WI([0,1])}},a})();function lDe(a){var n=a.pieceList;a.hasSpecialVisual=!1,Z(n,function(r,o){r.originIndex=o,r.visual!=null&&(a.hasSpecialVisual=!0)})}function uDe(a){var n=a.categories,r=a.categoryMap={},o=a.visual;if(Ay(n,function(f,p){r[f]=p}),!ke(o)){var l=[];Ze(o)?Ay(o,function(f,p){var g=r[p];l[g??W2]=f}):l[W2]=o,o=Fq(a,l)}for(var c=n.length-1;c>=0;c--)o[c]==null&&(delete r[n[c]],n.pop())}function GI(a,n){var r=a.visual,o=[];Ze(r)?Ay(r,function(c){o.push(c)}):r!=null&&o.push(r);var l={color:1,symbol:1};!n&&o.length===1&&!l.hasOwnProperty(a.type)&&(o[1]=o[0]),Fq(a,o)}function U2(a){return{applyVisual:function(n,r,o){var l=this.mapValueToVisual(n);o("color",a(r("color"),l))},_normalizedToVisual:WI([0,1])}}function Vq(a){var n=this.option.visual;return n[Math.round(wn(a,[0,1],[0,n.length-1],!0))]||{}}function Py(a){return function(n,r,o){o(a,this.mapValueToVisual(n))}}function Ey(a){var n=this.option.visual;return n[this.option.loop&&a!==W2?a%n.length:a]}function gh(){return this.option.visual[0]}function WI(a){return{linear:function(n){return wn(n,a,this.option.visual,!0)},category:Ey,piecewise:function(n,r){var o=UI.call(this,r);return o==null&&(o=wn(n,a,this.option.visual,!0)),o},fixed:gh}}function UI(a){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var o=mi.findPieceIndex(a,r),l=r[o];if(l&&l.visual)return l.visual[this.type]}}function Fq(a,n){return a.visual=n,a.type==="color"&&(a.parsedVisual=ve(n,function(r){var o=ea(r);return o||fr("'"+r+"' is an illegal color, fallback to '#000000'",!0),o||[0,0,0,1]})),n}var cDe={linear:function(a){return wn(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var n=this.option.pieceList,r=mi.findPieceIndex(a,n,!0);if(r!=null)return wn(r,[0,n.length-1],[0,1],!0)},category:function(a){var n=this.option.categories?this.option.categoryMap[a]:a;return n??W2},fixed:an};function q2(a,n,r){return a?n<=r:n<r}var dDe="itemStyle",Gq=Kt(),fDe={seriesType:"treemap",reset:function(a){var n=a.getData().tree,r=n.root;r.isRemoved()||Wq(r,{},a.getViewRoot().getAncestors(),a)}};function Wq(a,n,r,o){var l=a.getModel(),c=a.getLayout(),f=a.hostTree.data;if(!(!c||c.invisible||!c.isInView)){var p=l.getModel(dDe),g=hDe(p,n,o),v=f.ensureUniqueItemVisual(a.dataIndex,"style"),x=p.get("borderColor"),O=p.get("borderColorSaturation"),w;O!=null&&(w=Uq(g),x=pDe(O,w)),v.stroke=x;var S=a.viewChildren;if(!S||!S.length)w=Uq(g),v.fill=w;else{var k=mDe(a,l,c,p,g,S);Z(S,function(P,E){if(P.depth>=r.length||P===r[P.depth]){var M=gDe(l,g,P,E,k,o);Wq(P,M,r,o)}})}}}function hDe(a,n,r){var o=ee({},n),l=r.designatedVisualItemStyle;return Z(["color","colorAlpha","colorSaturation"],function(c){l[c]=n[c];var f=a.get(c);l[c]=null,f!=null&&(o[c]=f)}),o}function Uq(a){var n=qI(a,"color");if(n){var r=qI(a,"colorAlpha"),o=qI(a,"colorSaturation");return o&&(n=Su(n,null,null,o)),r&&(n=u0(n,r)),n}}function pDe(a,n){return n!=null?Su(n,null,null,a):null}function qI(a,n){var r=a[n];if(r!=null&&r!=="none")return r}function mDe(a,n,r,o,l,c){if(!(!c||!c.length)){var f=ZI(n,"color")||l.color!=null&&l.color!=="none"&&(ZI(n,"colorAlpha")||ZI(n,"colorSaturation"));if(f){var p=n.get("visualMin"),g=n.get("visualMax"),v=r.dataExtent.slice();p!=null&&p<v[0]&&(v[0]=p),g!=null&&g>v[1]&&(v[1]=g);var x=n.get("colorMappingBy"),O={type:f.name,dataExtent:v,visual:f.range};O.type==="color"&&(x==="index"||x==="id")?(O.mappingMethod="category",O.loop=!0):O.mappingMethod="linear";var w=new mi(O);return Gq(w).drColorMappingBy=x,w}}}function ZI(a,n){var r=a.get(n);return ke(r)&&r.length?{name:n,range:r}:null}function gDe(a,n,r,o,l,c){var f=ee({},n);if(l){var p=l.type,g=p==="color"&&Gq(l).drColorMappingBy,v=g==="index"?o:g==="id"?c.mapIdToIndex(r.getId()):r.getValue(a.get("visualDimension"));f[p]=l.mapValueToVisual(v)}return f}var My=Math.max,Z2=Math.min,qq=tt,HI=Z,Zq=["itemStyle","borderWidth"],vDe=["itemStyle","gapWidth"],yDe=["upperLabel","show"],xDe=["upperLabel","height"],_De={seriesType:"treemap",reset:function(a,n,r,o){var l=a.option,c=ei(a,r).refContainer,f=rr(a.getBoxLayoutParams(),c),p=l.size||[],g=it(qq(f.width,p[0]),c.width),v=it(qq(f.height,p[1]),c.height),x=o&&o.type,O=["treemapZoomToNode","treemapRootToNode"],w=Ty(o,O,a),S=x==="treemapRender"||x==="treemapMove"?o.rootRect:null,k=a.getViewRoot(),P=Dq(k);if(x!=="treemapMove"){var E=x==="treemapZoomToNode"?CDe(a,w,k,g,v):S?[S.width,S.height]:[g,v],M=l.sort;M&&M!=="asc"&&M!=="desc"&&(M="desc");var R={squareRatio:l.squareRatio,sort:M,leafDepth:l.leafDepth};k.hostTree.clearLayouts();var N={x:0,y:0,width:E[0],height:E[1],area:E[0]*E[1]};k.setLayout(N),Hq(k,R,!1,0),N=k.getLayout(),HI(P,function(W,U){var X=(P[U+1]||k).getValue();W.setLayout(ee({dataExtent:[X,X],borderWidth:0,upperHeight:0},N))})}var j=a.getData().tree.root;j.setLayout(kDe(f,S,w),!0),a.setLayoutInfo(f),Yq(j,new wt(-f.x,-f.y,r.getWidth(),r.getHeight()),P,k,0)}};function Hq(a,n,r,o){var l,c;if(!a.isRemoved()){var f=a.getLayout();l=f.width,c=f.height;var p=a.getModel(),g=p.get(Zq),v=p.get(vDe)/2,x=Kq(p),O=Math.max(g,x),w=g-v,S=O-v;a.setLayout({borderWidth:g,upperHeight:O,upperLabelHeight:x},!0),l=My(l-2*w,0),c=My(c-w-S,0);var k=l*c,P=ODe(a,p,k,n,r,o);if(P.length){var E={x:w,y:S,width:l,height:c},M=Z2(l,c),R=1/0,N=[];N.area=0;for(var j=0,W=P.length;j<W;){var U=P[j];N.push(U),N.area+=U.getLayout().area;var X=TDe(N,M,n.squareRatio);X<=R?(j++,R=X):(N.area-=N.pop().getLayout().area,Xq(N,M,E,v,!1),M=Z2(E.width,E.height),N.length=N.area=0,R=1/0)}if(N.length&&Xq(N,M,E,v,!0),!r){var J=p.get("childrenVisibleMin");J!=null&&k<J&&(r=!0)}for(var j=0,W=P.length;j<W;j++)Hq(P[j],n,r,o+1)}}}function ODe(a,n,r,o,l,c){var f=a.children||[],p=o.sort;p!=="asc"&&p!=="desc"&&(p=null);var g=o.leafDepth!=null&&o.leafDepth<=c;if(l&&!g)return a.viewChildren=[];f=Qe(f,function(S){return!S.isRemoved()}),wDe(f,p);var v=SDe(n,f,p);if(v.sum===0)return a.viewChildren=[];if(v.sum=bDe(n,r,v.sum,p,f),v.sum===0)return a.viewChildren=[];for(var x=0,O=f.length;x<O;x++){var w=f[x].getValue()/v.sum*r;f[x].setLayout({area:w})}return g&&(f.length&&a.setLayout({isLeafRoot:!0},!0),f.length=0),a.viewChildren=f,a.setLayout({dataExtent:v.dataExtent},!0),f}function bDe(a,n,r,o,l){if(!o)return r;for(var c=a.get("visibleMin"),f=l.length,p=f,g=f-1;g>=0;g--){var v=l[o==="asc"?f-g-1:g].getValue();v/r*n<c&&(p=g,r-=v)}return o==="asc"?l.splice(0,f-p):l.splice(p,f-p),r}function wDe(a,n){return n&&a.sort(function(r,o){var l=n==="asc"?r.getValue()-o.getValue():o.getValue()-r.getValue();return l===0?n==="asc"?r.dataIndex-o.dataIndex:o.dataIndex-r.dataIndex:l}),a}function SDe(a,n,r){for(var o=0,l=0,c=n.length;l<c;l++)o+=n[l].getValue();var f=a.get("visualDimension"),p;return!n||!n.length?p=[NaN,NaN]:f==="value"&&r?(p=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&p.reverse()):(p=[1/0,-1/0],HI(n,function(g){var v=g.getValue(f);v<p[0]&&(p[0]=v),v>p[1]&&(p[1]=v)})),{sum:o,dataExtent:p}}function TDe(a,n,r){for(var o=0,l=1/0,c=0,f=void 0,p=a.length;c<p;c++)f=a[c].getLayout().area,f&&(f<l&&(l=f),f>o&&(o=f));var g=a.area*a.area,v=n*n*r;return g?My(v*o/g,g/(v*l)):1/0}function Xq(a,n,r,o,l){var c=n===r.width?0:1,f=1-c,p=["x","y"],g=["width","height"],v=r[p[c]],x=n?a.area/n:0;(l||x>r[g[f]])&&(x=r[g[f]]);for(var O=0,w=a.length;O<w;O++){var S=a[O],k={},P=x?S.getLayout().area/x:0,E=k[g[f]]=My(x-2*o,0),M=r[p[c]]+r[g[c]]-v,R=O===w-1||M<P?M:P,N=k[g[c]]=My(R-2*o,0);k[p[f]]=r[p[f]]+Z2(o,E/2),k[p[c]]=v+Z2(o,N/2),v+=R,S.setLayout(k,!0)}r[p[f]]+=x,r[g[f]]-=x}function CDe(a,n,r,o,l){var c=(n||{}).node,f=[o,l];if(!c||c===r)return f;for(var p,g=o*l,v=g*a.option.zoomToNodeRatio;p=c.parentNode;){for(var x=0,O=p.children,w=0,S=O.length;w<S;w++)x+=O[w].getValue();var k=c.getValue();if(k===0)return f;v*=x/k;var P=p.getModel(),E=P.get(Zq),M=Math.max(E,Kq(P));v+=4*E*E+(3*E+M)*Math.pow(v,.5),v>JP&&(v=JP),c=p}v<g&&(v=g);var R=Math.pow(v/g,.5);return[o*R,l*R]}function kDe(a,n,r){if(n)return{x:n.x,y:n.y};var o={x:0,y:0};if(!r)return o;var l=r.node,c=l.getLayout();if(!c)return o;for(var f=[c.width/2,c.height/2],p=l;p;){var g=p.getLayout();f[0]+=g.x,f[1]+=g.y,p=p.parentNode}return{x:a.width/2-f[0],y:a.height/2-f[1]}}function Yq(a,n,r,o,l){var c=a.getLayout(),f=r[l],p=f&&f===a;if(!(f&&!p||l===r.length&&a!==o)){a.setLayout({isInView:!0,invisible:!p&&!n.intersect(c),isAboveViewRoot:p},!0);var g=new wt(n.x-c.x,n.y-c.y,n.width,n.height);HI(a.viewChildren||[],function(v){Yq(v,g,r,o,l+1)})}}function Kq(a){return a.get(yDe)?a.get(xDe):0}function ADe(a){a.registerSeriesModel(qMe),a.registerChartView(iDe),a.registerVisual(fDe),a.registerLayout(_De),UMe(a)}function PDe(a){var n=a.findComponents({mainType:"legend"});!n||!n.length||a.eachSeriesByType("graph",function(r){var o=r.getCategoriesData(),l=r.getGraph(),c=l.data,f=o.mapArray(o.getName);c.filterSelf(function(p){var g=c.getItemModel(p),v=g.getShallow("category");if(v!=null){dt(v)&&(v=f[v]);for(var x=0;x<n.length;x++)if(!n[x].isSelected(v))return!1}return!0})})}function EDe(a){var n={};a.eachSeriesByType("graph",function(r){var o=r.getCategoriesData(),l=r.getData(),c={};o.each(function(f){var p=o.getName(f);c["ec-"+p]=f;var g=o.getItemModel(f),v=g.getModel("itemStyle").getItemStyle();v.fill||(v.fill=r.getColorFromPalette(p,n)),o.setItemVisual(f,"style",v);for(var x=["symbol","symbolSize","symbolKeepAspect"],O=0;O<x.length;O++){var w=g.getShallow(x[O],!0);w!=null&&o.setItemVisual(f,x[O],w)}}),o.count()&&l.each(function(f){var p=l.getItemModel(f),g=p.getShallow("category");if(g!=null){De(g)&&(g=c["ec-"+g]);var v=o.getItemVisual(g,"style"),x=l.ensureUniqueItemVisual(f,"style");ee(x,v);for(var O=["symbol","symbolSize","symbolKeepAspect"],w=0;w<O.length;w++)l.setItemVisual(f,O[w],o.getItemVisual(g,O[w]))}})})}function H2(a){return a instanceof Array||(a=[a,a]),a}function MDe(a){a.eachSeriesByType("graph",function(n){var r=n.getGraph(),o=n.getEdgeData(),l=H2(n.get("edgeSymbol")),c=H2(n.get("edgeSymbolSize"));o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",c&&c[0]),o.setVisual("toSymbolSize",c&&c[1]),o.setVisual("style",n.getModel("lineStyle").getLineStyle()),o.each(function(f){var p=o.getItemModel(f),g=r.getEdgeByIndex(f),v=H2(p.getShallow("symbol",!0)),x=H2(p.getShallow("symbolSize",!0)),O=p.getModel("lineStyle").getLineStyle(),w=o.ensureUniqueItemVisual(f,"style");switch(ee(w,O),w.stroke){case"source":{var S=g.node1.getVisual("style");w.stroke=S&&S.fill;break}case"target":{var S=g.node2.getVisual("style");w.stroke=S&&S.fill;break}}v[0]&&g.setVisual("fromSymbol",v[0]),v[1]&&g.setVisual("toSymbol",v[1]),x[0]&&g.setVisual("fromSymbolSize",x[0]),x[1]&&g.setVisual("toSymbolSize",x[1])})})}var XI="-->",X2=function(a){return a.get("autoCurveness")||null},Jq=function(a,n){var r=X2(a),o=20,l=[];if(dt(r))o=r;else if(ke(r)){a.__curvenessList=r;return}n>o&&(o=n);var c=o%2?o+2:o+3;l=[];for(var f=0;f<c;f++)l.push((f%2?f+1:f)/10*(f%2?-1:1));a.__curvenessList=l},Dy=function(a,n,r){var o=[a.id,a.dataIndex].join("."),l=[n.id,n.dataIndex].join(".");return[r.uid,o,l].join(XI)},eZ=function(a){var n=a.split(XI);return[n[0],n[2],n[1]].join(XI)},DDe=function(a,n){var r=Dy(a.node1,a.node2,n);return n.__edgeMap[r]},IDe=function(a,n){var r=YI(Dy(a.node1,a.node2,n),n),o=YI(Dy(a.node2,a.node1,n),n);return r+o},YI=function(a,n){var r=n.__edgeMap;return r[a]?r[a].length:0};function RDe(a){X2(a)&&(a.__curvenessList=[],a.__edgeMap={},Jq(a))}function LDe(a,n,r,o){if(X2(r)){var l=Dy(a,n,r),c=r.__edgeMap,f=c[eZ(l)];c[l]&&!f?c[l].isForward=!0:f&&c[l]&&(f.isForward=!0,c[l].isForward=!1),c[l]=c[l]||[],c[l].push(o)}}function KI(a,n,r,o){var l=X2(n),c=ke(l);if(!l)return null;var f=DDe(a,n);if(!f)return null;for(var p=-1,g=0;g<f.length;g++)if(f[g]===r){p=g;break}var v=IDe(a,n);Jq(n,v),a.lineStyle=a.lineStyle||{};var x=Dy(a.node1,a.node2,n),O=n.__curvenessList,w=c||v%2?0:1;if(f.isForward)return O[w+p];var S=eZ(x),k=YI(S,n),P=O[p+k+w];return o?c?l&&l[0]===0?(k+w)%2?P:-P:((k%2?0:1)+w)%2?P:-P:(k+w)%2?P:-P:O[p+k+w]}function tZ(a){var n=a.coordinateSystem;if(!(n&&n.type!=="view")){var r=a.getGraph();r.eachNode(function(o){var l=o.getModel();o.setLayout([+l.get("x"),+l.get("y")])}),JI(r,a)}}function JI(a,n){a.eachEdge(function(r,o){var l=zt(r.getModel().get(["lineStyle","curveness"]),-KI(r,n,o,!0),0),c=ji(r.node1.getLayout()),f=ji(r.node2.getLayout()),p=[c,f];+l&&p.push([(c[0]+f[0])/2-(c[1]-f[1])*l,(c[1]+f[1])/2-(f[0]-c[0])*l]),r.setLayout(p)})}function NDe(a,n){a.eachSeriesByType("graph",function(r){var o=r.get("layout"),l=r.coordinateSystem;if(l&&l.type!=="view"){var c=r.getData(),f=[];Z(l.dimensions,function(w){f=f.concat(c.mapDimensionsAll(w))});for(var p=0;p<c.count();p++){for(var g=[],v=!1,x=0;x<f.length;x++){var O=c.get(f[x],p);isNaN(O)||(v=!0),g.push(O)}v?c.setItemLayout(p,l.dataToPoint(g)):c.setItemLayout(p,[NaN,NaN])}JI(c.graph,r)}else(!o||o==="none")&&tZ(r)})}function Iy(a){var n=a.coordinateSystem;if(n.type!=="view")return 1;var r=a.option.nodeScaleRatio,o=n.scaleX,l=n.getZoom(),c=(l-1)*r+1;return c/o}function Ry(a){var n=a.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var nZ=Math.PI,e5=[];function t5(a,n,r,o){var l=a.coordinateSystem;if(!(l&&l.type!=="view")){var c=l.getBoundingRect(),f=a.getData(),p=f.graph,g=c.width/2+c.x,v=c.height/2+c.y,x=Math.min(c.width,c.height)/2,O=f.count();if(f.setLayout({cx:g,cy:v}),!!O){if(r){var w=l.pointToData(o),S=w[0],k=w[1],P=[S-g,k-v];al(P,P),uf(P,P,x),r.setLayout([g+P[0],v+P[1]],!0);var E=a.get(["circular","rotateLabel"]);rZ(r,E,g,v)}$De[n](a,p,f,x,g,v,O),p.eachEdge(function(M,R){var N=zt(M.getModel().get(["lineStyle","curveness"]),KI(M,a,R),0),j=ji(M.node1.getLayout()),W=ji(M.node2.getLayout()),U,X=(j[0]+W[0])/2,J=(j[1]+W[1])/2;+N&&(N*=3,U=[g*N+X*(1-N),v*N+J*(1-N)]),M.setLayout([j,W,U])})}}}var $De={value:function(a,n,r,o,l,c,f){var p=0,g=r.getSum("value"),v=Math.PI*2/(g||f);n.eachNode(function(x){var O=x.getValue("value"),w=v*(g?O:1)/2;p+=w,x.setLayout([o*Math.cos(p)+l,o*Math.sin(p)+c]),p+=w})},symbolSize:function(a,n,r,o,l,c,f){var p=0;e5.length=f;var g=Iy(a);n.eachNode(function(O){var w=Ry(O);isNaN(w)&&(w=2),w<0&&(w=0),w*=g;var S=Math.asin(w/2/o);isNaN(S)&&(S=nZ/2),e5[O.dataIndex]=S,p+=S*2});var v=(2*nZ-p)/f/2,x=0;n.eachNode(function(O){var w=v+e5[O.dataIndex];x+=w,(!O.getLayout()||!O.getLayout().fixed)&&O.setLayout([o*Math.cos(x)+l,o*Math.sin(x)+c]),x+=w})}};function rZ(a,n,r,o){var l=a.getGraphicEl();if(l){var c=a.getModel(),f=c.get(["label","rotate"])||0,p=l.getSymbolPath();if(n){var g=a.getLayout(),v=Math.atan2(g[1]-o,g[0]-r);v<0&&(v=Math.PI*2+v);var x=g[0]<r;x&&(v=v-Math.PI);var O=x?"left":"right";p.setTextConfig({rotation:-v,position:O,origin:"center"});var w=p.ensureState("emphasis");ee(w.textConfig||(w.textConfig={}),{position:O})}else p.setTextConfig({rotation:f*=Math.PI/180})}}function zDe(a){a.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&t5(n,"symbolSize")})}var Zm=sf;function BDe(a,n,r){for(var o=a,l=n,c=r.rect,f=c.width,p=c.height,g=[c.x+f/2,c.y+p/2],v=r.gravity==null?.1:r.gravity,x=0;x<o.length;x++){var O=o[x];O.p||(O.p=ci(f*(Math.random()-.5)+g[0],p*(Math.random()-.5)+g[1])),O.pp=ji(O.p),O.edges=null}var w=r.friction==null?.6:r.friction,S=w,k,P;return{warmUp:function(){S=w*.8},setFixed:function(E){o[E].fixed=!0},setUnfixed:function(E){o[E].fixed=!1},beforeStep:function(E){k=E},afterStep:function(E){P=E},step:function(E){k&&k(o,l);for(var M=[],R=o.length,N=0;N<l.length;N++){var j=l[N];if(!j.ignoreForceLayout){var W=j.n1,U=j.n2;fo(M,U.p,W.p);var X=il(M)-j.d,J=U.w/(W.w+U.w);isNaN(J)&&(J=0),al(M,M),!W.fixed&&Zm(W.p,W.p,M,J*X*S),!U.fixed&&Zm(U.p,U.p,M,-(1-J)*X*S)}}for(var N=0;N<R;N++){var re=o[N];re.fixed||(fo(M,g,re.p),Zm(re.p,re.p,M,v*S))}for(var N=0;N<R;N++)for(var W=o[N],ie=N+1;ie<R;ie++){var U=o[ie];fo(M,U.p,W.p);var X=il(M);X===0&&(Ac(M,Math.random()-.5,Math.random()-.5),X=1);var le=(W.rep+U.rep)/X/X;!W.fixed&&Zm(W.pp,W.pp,M,le),!U.fixed&&Zm(U.pp,U.pp,M,-le)}for(var pe=[],N=0;N<R;N++){var re=o[N];re.fixed||(fo(pe,re.p,re.pp),Zm(re.p,re.p,pe,S),xt(re.pp,re.p))}S=S*.992;var ce=S<.01;P&&P(o,l,ce),E&&E(ce)}}}function QDe(a){a.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var o=n.preservedPoints||{},l=n.getGraph(),c=l.data,f=l.edgeData,p=n.getModel("force"),g=p.get("initLayout");n.preservedPoints?c.each(function(N){var j=c.getId(N);c.setItemLayout(N,o[j]||[NaN,NaN])}):!g||g==="none"?tZ(n):g==="circular"&&t5(n,"value");var v=c.getDataExtent("value"),x=f.getDataExtent("value"),O=p.get("repulsion"),w=p.get("edgeLength"),S=ke(O)?O:[O,O],k=ke(w)?w:[w,w];k=[k[1],k[0]];var P=c.mapArray("value",function(N,j){var W=c.getItemLayout(j),U=wn(N,v,S);return isNaN(U)&&(U=(S[0]+S[1])/2),{w:U,rep:U,fixed:c.getItemModel(j).get("fixed"),p:!W||isNaN(W[0])||isNaN(W[1])?null:W}}),E=f.mapArray("value",function(N,j){var W=l.getEdgeByIndex(j),U=wn(N,x,k);isNaN(U)&&(U=(k[0]+k[1])/2);var X=W.getModel(),J=zt(W.getModel().get(["lineStyle","curveness"]),-KI(W,n,j,!0),0);return{n1:P[W.node1.dataIndex],n2:P[W.node2.dataIndex],d:U,curveness:J,ignoreForceLayout:X.get("ignoreForceLayout")}}),M=r.getBoundingRect(),R=BDe(P,E,{rect:M,gravity:p.get("gravity"),friction:p.get("friction")});R.beforeStep(function(N,j){for(var W=0,U=N.length;W<U;W++)N[W].fixed&&xt(N[W].p,l.getNodeByIndex(W).getLayout())}),R.afterStep(function(N,j,W){for(var U=0,X=N.length;U<X;U++)N[U].fixed||l.getNodeByIndex(U).setLayout(N[U].p),o[c.getId(U)]=N[U].p;for(var U=0,X=j.length;U<X;U++){var J=j[U],re=l.getEdgeByIndex(U),ie=J.n1.p,le=J.n2.p,pe=re.getLayout();pe=pe?pe.slice():[],pe[0]=pe[0]||[],pe[1]=pe[1]||[],xt(pe[0],ie),xt(pe[1],le),+J.curveness&&(pe[2]=[(ie[0]+le[0])/2-(ie[1]-le[1])*J.curveness,(ie[1]+le[1])/2-(le[0]-ie[0])*J.curveness]),re.setLayout(pe)}}),n.forceLayout=R,n.preservedPoints=o,R.step()}else n.forceLayout=null})}function jDe(a,n,r){var o=ei(a,n),l=ee(a.getBoxLayoutParams(),{aspect:r}),c=rr(l,o.refContainer);return D7(a,c,r)}function VDe(a,n){var r=[];return a.eachSeriesByType("graph",function(o){N0({targetModel:o,coordSysType:"view",coordSysProvider:l,isDefaultDataCoordSys:!0});function l(){var c=o.getData(),f=c.mapArray(function(k){var P=c.getItemModel(k);return[+P.get("x"),+P.get("y")]}),p=[],g=[];JO(f,p,g),g[0]-p[0]===0&&(g[0]+=1,p[0]-=1),g[1]-p[1]===0&&(g[1]+=1,p[1]-=1);var v=(g[0]-p[0])/(g[1]-p[1]),x=jDe(o,n,v);isNaN(v)&&(p=[x.x,x.y],g=[x.x+x.width,x.y+x.height]);var O=g[0]-p[0],w=g[1]-p[1],S=new ph(null,{api:n,ecModel:a});return S.zoomLimit=o.get("scaleLimit"),S.setBoundingRect(p[0],p[1],O,w),S.setViewRect(x.x,x.y,x.width,x.height),S.setCenter(o.get("center")),S.setZoom(o.get("zoom")),r.push(S),S}}),r}var iZ=$r.prototype,n5=lm.prototype,aZ=(function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a})();(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n})(aZ);function r5(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var oZ=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="ec-line",o}return n.prototype.getDefaultStyle=function(){return{stroke:Ie.color.neutral99,fill:null}},n.prototype.getDefaultShape=function(){return new aZ},n.prototype.buildPath=function(r,o){r5(o)?iZ.buildPath.call(this,r,o):n5.buildPath.call(this,r,o)},n.prototype.pointAt=function(r){return r5(this.shape)?iZ.pointAt.call(this,r):n5.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var o=this.shape,l=r5(o)?[o.x2-o.x1,o.y2-o.y1]:n5.tangentAt.call(this,r);return al(l,l)},n})(Jt),i5=["fromSymbol","toSymbol"];function sZ(a){return"_"+a+"Type"}function lZ(a,n,r){var o=n.getItemVisual(r,a);if(!o||o==="none")return o;var l=n.getItemVisual(r,a+"Size"),c=n.getItemVisual(r,a+"Rotate"),f=n.getItemVisual(r,a+"Offset"),p=n.getItemVisual(r,a+"KeepAspect"),g=km(l),v=Yf(f||0,g);return o+g+v+(c||"")+(p||"")}function uZ(a,n,r){var o=n.getItemVisual(r,a);if(!(!o||o==="none")){var l=n.getItemVisual(r,a+"Size"),c=n.getItemVisual(r,a+"Rotate"),f=n.getItemVisual(r,a+"Offset"),p=n.getItemVisual(r,a+"KeepAspect"),g=km(l),v=Yf(f||0,g),x=Br(o,-g[0]/2+v[0],-g[1]/2+v[1],g[0],g[1],null,p);return x.__specifiedRotation=c==null||isNaN(c)?void 0:+c*Math.PI/180||0,x.name=a,x}}function FDe(a){var n=new oZ({name:"line",subPixelOptimize:!0});return a5(n.shape,a),n}function a5(a,n){a.x1=n[0][0],a.y1=n[0][1],a.x2=n[1][0],a.y2=n[1][1],a.percent=1;var r=n[2];r?(a.cpx1=r[0],a.cpy1=r[1]):(a.cpx1=NaN,a.cpy1=NaN)}var o5=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;return c._createLine(r,o,l),c}return n.prototype._createLine=function(r,o,l){var c=r.hostModel,f=r.getItemLayout(o),p=r.getItemVisual(o,"z2"),g=FDe(f);g.shape.percent=0,Jn(g,{z2:$e(p,0),shape:{percent:1}},c,o),this.add(g),Z(i5,function(v){var x=uZ(v,r,o);this.add(x),this[sZ(v)]=lZ(v,r,o)},this),this._updateCommonStl(r,o,l)},n.prototype.updateData=function(r,o,l){var c=r.hostModel,f=this.childOfName("line"),p=r.getItemLayout(o),g={shape:{}};a5(g.shape,p),pn(f,g,c,o),Z(i5,function(v){var x=lZ(v,r,o),O=sZ(v);if(this[O]!==x){this.remove(this.childOfName(v));var w=uZ(v,r,o);this.add(w)}this[O]=x},this),this._updateCommonStl(r,o,l)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,o,l){var c=r.hostModel,f=this.childOfName("line"),p=l&&l.emphasisLineStyle,g=l&&l.blurLineStyle,v=l&&l.selectLineStyle,x=l&&l.labelStatesModels,O=l&&l.emphasisDisabled,w=l&&l.focus,S=l&&l.blurScope;if(!l||r.hasItemOption){var k=r.getItemModel(o),P=k.getModel("emphasis");p=P.getModel("lineStyle").getLineStyle(),g=k.getModel(["blur","lineStyle"]).getLineStyle(),v=k.getModel(["select","lineStyle"]).getLineStyle(),O=P.get("disabled"),w=P.get("focus"),S=P.get("blurScope"),x=Jr(k)}var E=r.getItemVisual(o,"style"),M=E.stroke;f.useStyle(E),f.style.fill=null,f.style.strokeNoScale=!0,f.ensureState("emphasis").style=p,f.ensureState("blur").style=g,f.ensureState("select").style=v,Z(i5,function(U){var X=this.childOfName(U);if(X){X.setColor(M),X.style.opacity=E.opacity;for(var J=0;J<ya.length;J++){var re=ya[J],ie=f.getState(re);if(ie){var le=ie.style||{},pe=X.ensureState(re),ce=pe.style||(pe.style={});le.stroke!=null&&(ce[X.__isEmptyBrush?"stroke":"fill"]=le.stroke),le.opacity!=null&&(ce.opacity=le.opacity)}}X.markRedraw()}},this);var R=c.getRawValue(o);hi(this,x,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(U,X){return c.getFormattedLabel(U,X,r.dataType)}},inheritColor:M||Ie.color.neutral99,defaultOpacity:E.opacity,defaultText:(R==null?r.getName(o):isFinite(R)?Lr(R):R)+""});var N=this.getTextContent();if(N){var j=x.normal;N.__align=N.style.align,N.__verticalAlign=N.style.verticalAlign,N.__position=j.get("position")||"middle";var W=j.get("distance");ke(W)||(W=[W,W]),N.__labelDistance=W}this.setTextConfig({position:null,local:!0,inside:!1}),ar(this,w,S,O)},n.prototype.highlight=function(){Eu(this)},n.prototype.downplay=function(){Mu(this)},n.prototype.updateLayout=function(r,o){this.setLinePoints(r.getItemLayout(o))},n.prototype.setLinePoints=function(r){var o=this.childOfName("line");a5(o.shape,r),o.dirty()},n.prototype.beforeUpdate=function(){var r=this,o=r.childOfName("fromSymbol"),l=r.childOfName("toSymbol"),c=r.getTextContent();if(!o&&!l&&(!c||c.ignore))return;for(var f=1,p=this.parent;p;)p.scaleX&&(f/=p.scaleX),p=p.parent;var g=r.childOfName("line");if(!this.__dirty&&!g.__dirty)return;var v=g.shape.percent,x=g.pointAt(0),O=g.pointAt(v),w=fo([],O,x);al(w,w);function S(ie,le){var pe=ie.__specifiedRotation;if(pe==null){var ce=g.tangentAt(le);ie.attr("rotation",(le===1?-1:1)*Math.PI/2-Math.atan2(ce[1],ce[0]))}else ie.attr("rotation",pe)}if(o&&(o.setPosition(x),S(o,0),o.scaleX=o.scaleY=f*v,o.markRedraw()),l&&(l.setPosition(O),S(l,1),l.scaleX=l.scaleY=f*v,l.markRedraw()),c&&!c.ignore){c.x=c.y=0,c.originX=c.originY=0;var k=void 0,P=void 0,E=c.__labelDistance,M=E[0]*f,R=E[1]*f,N=v/2,j=g.tangentAt(N),W=[j[1],-j[0]],U=g.pointAt(N);W[1]>0&&(W[0]=-W[0],W[1]=-W[1]);var X=j[0]<0?-1:1;if(c.__position!=="start"&&c.__position!=="end"){var J=-Math.atan2(j[1],j[0]);O[0]<x[0]&&(J=Math.PI+J),c.rotation=J}var re=void 0;switch(c.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":re=-R,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":re=R,P="top";break;default:re=0,P="middle"}switch(c.__position){case"end":c.x=w[0]*M+O[0],c.y=w[1]*R+O[1],k=w[0]>.8?"left":w[0]<-.8?"right":"center",P=w[1]>.8?"top":w[1]<-.8?"bottom":"middle";break;case"start":c.x=-w[0]*M+x[0],c.y=-w[1]*R+x[1],k=w[0]>.8?"right":w[0]<-.8?"left":"center",P=w[1]>.8?"bottom":w[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c.x=M*X+x[0],c.y=x[1]+re,k=j[0]<0?"right":"left",c.originX=-M*X,c.originY=-re;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c.x=U[0],c.y=U[1]+re,k="center",c.originY=-re;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c.x=-M*X+O[0],c.y=O[1]+re,k=j[0]>=0?"right":"left",c.originX=M*X,c.originY=-re;break}c.scaleX=c.scaleY=f,c.setStyle({verticalAlign:c.__verticalAlign||P,align:c.__align||k})}},n})(_t),s5=(function(){function a(n){this.group=new _t,this._LineCtor=n||o5}return a.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var o=this,l=o.group,c=o._lineData;o._lineData=n,c||l.removeAll();var f=cZ(n);n.diff(c).add(function(p){r._doAdd(n,p,f)}).update(function(p,g){r._doUpdate(c,n,g,p,f)}).remove(function(p){l.remove(c.getItemGraphicEl(p))}).execute()},a.prototype.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(r,o){r.updateLayout(n,o)},this)},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=cZ(n),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function o(p){!p.isGroup&&!GDe(p)&&(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var l=n.start;l<n.end;l++){var c=r.getItemLayout(l);if(l5(c)){var f=new this._LineCtor(r,l,this._seriesScope);f.traverse(o),this.group.add(f),r.setItemGraphicEl(l,f),this._progressiveEls.push(f)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(n){Fc(this._progressiveEls||this.group,n)},a.prototype._doAdd=function(n,r,o){var l=n.getItemLayout(r);if(l5(l)){var c=new this._LineCtor(n,r,o);n.setItemGraphicEl(r,c),this.group.add(c)}},a.prototype._doUpdate=function(n,r,o,l,c){var f=n.getItemGraphicEl(o);if(!l5(r.getItemLayout(l))){this.group.remove(f);return}f?f.updateData(r,l,c):f=new this._LineCtor(r,l,c),r.setItemGraphicEl(l,f),this.group.add(f)},a})();function GDe(a){return a.animators&&a.animators.length>0}function cZ(a){var n=a.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Jr(n)}}function dZ(a){return isNaN(a[0])||isNaN(a[1])}function l5(a){return a&&!dZ(a[0])&&!dZ(a[1])}var u5=[],c5=[],d5=[],Hm=Pi,f5=Ra,fZ=Math.abs;function hZ(a,n,r){for(var o=a[0],l=a[1],c=a[2],f=1/0,p,g=r*r,v=.1,x=.1;x<=.9;x+=.1){u5[0]=Hm(o[0],l[0],c[0],x),u5[1]=Hm(o[1],l[1],c[1],x);var O=fZ(f5(u5,n)-g);O<f&&(f=O,p=x)}for(var w=0;w<32;w++){var S=p+v;c5[0]=Hm(o[0],l[0],c[0],p),c5[1]=Hm(o[1],l[1],c[1],p),d5[0]=Hm(o[0],l[0],c[0],S),d5[1]=Hm(o[1],l[1],c[1],S);var O=f5(c5,n)-g;if(fZ(O)<.01)break;var k=f5(d5,n)-g;v/=2,O<0?k>=0?p=p+v:p=p-v:k>=0?p=p-v:p=p+v}return p}function h5(a,n){var r=[],o=o0,l=[[],[],[]],c=[[],[]],f=[];n/=2,a.eachEdge(function(p,g){var v=p.getLayout(),x=p.getVisual("fromSymbol"),O=p.getVisual("toSymbol");v.__original||(v.__original=[ji(v[0]),ji(v[1])],v[2]&&v.__original.push(ji(v[2])));var w=v.__original;if(v[2]!=null){if(xt(l[0],w[0]),xt(l[1],w[2]),xt(l[2],w[1]),x&&x!=="none"){var S=Ry(p.node1),k=hZ(l,w[0],S*n);o(l[0][0],l[1][0],l[2][0],k,r),l[0][0]=r[3],l[1][0]=r[4],o(l[0][1],l[1][1],l[2][1],k,r),l[0][1]=r[3],l[1][1]=r[4]}if(O&&O!=="none"){var S=Ry(p.node2),k=hZ(l,w[1],S*n);o(l[0][0],l[1][0],l[2][0],k,r),l[1][0]=r[1],l[2][0]=r[2],o(l[0][1],l[1][1],l[2][1],k,r),l[1][1]=r[1],l[2][1]=r[2]}xt(v[0],l[0]),xt(v[1],l[2]),xt(v[2],l[1])}else{if(xt(c[0],w[0]),xt(c[1],w[1]),fo(f,c[1],c[0]),al(f,f),x&&x!=="none"){var S=Ry(p.node1);sf(c[0],c[0],f,S*n)}if(O&&O!=="none"){var S=Ry(p.node2);sf(c[1],c[1],f,-S*n)}xt(v[0],c[0]),xt(v[1],c[1])}})}var pZ=Kt();function WDe(a){if(a)return pZ(a).bridge}function mZ(a,n){a&&(pZ(a).bridge=n)}function gZ(a){return a.type==="view"}var UDe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){var l=new dy,c=new s5,f=this.group,p=new _t;this._controller=new dh(o.getZr()),this._controllerHost={target:p},p.add(l.group),p.add(c.group),f.add(p),this._symbolDraw=l,this._lineDraw=c,this._mainGroup=p,this._firstRender=!0},n.prototype.render=function(r,o,l){var c=this,f=r.coordinateSystem,p=!1;this._model=r,this._api=l,this._active=!0;var g=this._getThumbnailInfo();g&&g.bridge.reset(l);var v=this._symbolDraw,x=this._lineDraw;if(gZ(f)){var O={x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY};this._firstRender?this._mainGroup.attr(O):pn(this._mainGroup,O,r)}h5(r.getGraph(),Iy(r));var w=r.getData();v.updateData(w);var S=r.getEdgeData();x.updateData(S),this._updateNodeAndLinkScale(),this._updateController(null,r,l),clearTimeout(this._layoutTimeout);var k=r.forceLayout,P=r.get(["force","layoutAnimation"]);k&&(p=!0,this._startForceLayoutIteration(k,l,P));var E=r.get("layout");w.graph.eachNode(function(j){var W=j.dataIndex,U=j.getGraphicEl(),X=j.getModel();if(U){U.off("drag").off("dragend");var J=X.get("draggable");J&&U.on("drag",function(ie){switch(E){case"force":k.warmUp(),!c._layouting&&c._startForceLayoutIteration(k,l,P),k.setFixed(W),w.setItemLayout(W,[U.x,U.y]);break;case"circular":w.setItemLayout(W,[U.x,U.y]),j.setLayout({fixed:!0},!0),t5(r,"symbolSize",j,[ie.offsetX,ie.offsetY]),c.updateLayout(r);break;default:w.setItemLayout(W,[U.x,U.y]),JI(r.getGraph(),r),c.updateLayout(r);break}}).on("dragend",function(){k&&k.setUnfixed(W)}),U.setDraggable(J,!!X.get("cursor"));var re=X.get(["emphasis","focus"]);re==="adjacency"&&(Et(U).focus=j.getAdjacentDataIndices())}}),w.graph.eachEdge(function(j){var W=j.getGraphicEl(),U=j.getModel().get(["emphasis","focus"]);W&&U==="adjacency"&&(Et(W).focus={edge:[j.dataIndex],node:[j.node1.dataIndex,j.node2.dataIndex]})});var M=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),R=w.getLayout("cx"),N=w.getLayout("cy");w.graph.eachNode(function(j){rZ(j,M,R,N)}),this._firstRender=!1,p||this._renderThumbnail(r,l,this._symbolDraw,this._lineDraw)},n.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,o,l){var c=this,f=!1;(function p(){r.step(function(g){c.updateLayout(c._model),(g||!f)&&(f=!0,c._renderThumbnail(c._model,o,c._symbolDraw,c._lineDraw)),(c._layouting=!g)&&(l?c._layoutTimeout=setTimeout(p,16):p())})})()},n.prototype._updateController=function(r,o,l){var c=this._controller,f=this._controllerHost,p=o.coordinateSystem;if(!gZ(p)){c.disable();return}c.enable(o.get("roam"),{api:l,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(g,v,x){return p.containPoint([v,x])},isInClip:function(g,v,x){return!r||r.contain(v,x)}}}),f.zoomLimit=o.get("scaleLimit"),f.zoom=p.getZoom(),c.off("pan").off("zoom").on("pan",function(g){l.dispatchAction({seriesId:o.id,type:"graphRoam",dx:g.dx,dy:g.dy})}).on("zoom",function(g){l.dispatchAction({seriesId:o.id,type:"graphRoam",zoom:g.scale,originX:g.originX,originY:g.originY})})},n.prototype.updateViewOnPan=function(r,o,l){this._active&&(AI(this._controllerHost,l.dx,l.dy),this._updateThumbnailWindow())},n.prototype.updateViewOnZoom=function(r,o,l){this._active&&(PI(this._controllerHost,l.zoom,l.originX,l.originY),this._updateNodeAndLinkScale(),h5(r.getGraph(),Iy(r)),this._lineDraw.updateLayout(),o.updateLabelLayout(),this._updateThumbnailWindow())},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,o=r.getData(),l=Iy(r);o.eachItemGraphicEl(function(c,f){c&&c.setSymbolScale(l)})},n.prototype.updateLayout=function(r){this._active&&(h5(r.getGraph(),Iy(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},n.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},n.prototype._getThumbnailInfo=function(){var r=this._model,o=r.coordinateSystem;if(o.type==="view"){var l=WDe(r);if(l)return{bridge:l,coordSys:o}}},n.prototype._updateThumbnailWindow=function(){var r=this._getThumbnailInfo();r&&r.bridge.updateWindow(r.coordSys.transform,this._api)},n.prototype._renderThumbnail=function(r,o,l,c){var f=this._getThumbnailInfo();if(f){var p=new _t,g=l.group.children(),v=c.group.children(),x=new _t,O=new _t;p.add(O),p.add(x);for(var w=0;w<g.length;w++){var S=g[w],k=S.children()[0],P=S.x,E=S.y,M=ne(k.shape),R=ee(M,{width:k.scaleX,height:k.scaleY,x:P-k.scaleX/2,y:E-k.scaleY/2}),N=ne(k.style),j=new k.constructor({shape:R,style:N,z2:151});O.add(j)}for(var w=0;w<v.length;w++){var S=v[w],W=S.children()[0],N=ne(W.style),R=ne(W.shape),U=new oZ({style:N,shape:R,z2:151});x.add(U)}f.bridge.renderContent({api:o,roamType:r.get("roam"),viewportRect:null,group:p,targetTrans:f.coordSys.transform})}},n.type="graph",n})(Dn);function Xm(a){return"_EC_"+a}var qDe=(function(){function a(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var o=this._nodesMap;if(o[Xm(n)]){console.error("Graph nodes have duplicate name or id");return}var l=new vh(n,r);return l.hostGraph=this,this.nodes.push(l),o[Xm(n)]=l,l},a.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},a.prototype.getNodeById=function(n){return this._nodesMap[Xm(n)]},a.prototype.addEdge=function(n,r,o){var l=this._nodesMap,c=this._edgesMap;if(dt(n)&&(n=this.nodes[n]),dt(r)&&(r=this.nodes[r]),n instanceof vh||(n=l[Xm(n)]),r instanceof vh||(r=l[Xm(r)]),!(!n||!r)){var f=n.id+"-"+r.id,p=new vZ(n,r,o);return p.hostGraph=this,this._directed&&(n.outEdges.push(p),r.inEdges.push(p)),n.edges.push(p),n!==r&&r.edges.push(p),this.edges.push(p),c[f]=p,p}},a.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},a.prototype.getEdge=function(n,r){n instanceof vh&&(n=n.id),r instanceof vh&&(r=r.id);var o=this._edgesMap;return this._directed?o[n+"-"+r]:o[n+"-"+r]||o[r+"-"+n]},a.prototype.eachNode=function(n,r){for(var o=this.nodes,l=o.length,c=0;c<l;c++)o[c].dataIndex>=0&&n.call(r,o[c],c)},a.prototype.eachEdge=function(n,r){for(var o=this.edges,l=o.length,c=0;c<l;c++)o[c].dataIndex>=0&&o[c].node1.dataIndex>=0&&o[c].node2.dataIndex>=0&&n.call(r,o[c],c)},a.prototype.breadthFirstTraverse=function(n,r,o,l){if(r instanceof vh||(r=this._nodesMap[Xm(r)]),!!r){for(var c=o==="out"?"outEdges":o==="in"?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!n.call(l,r,null))for(var p=[r];p.length;)for(var g=p.shift(),v=g[c],f=0;f<v.length;f++){var x=v[f],O=x.node1===g?x.node2:x.node1;if(!O.__visited){if(n.call(l,O,g))return;p.push(O),O.__visited=!0}}}},a.prototype.update=function(){for(var n=this.data,r=this.edgeData,o=this.nodes,l=this.edges,c=0,f=o.length;c<f;c++)o[c].dataIndex=-1;for(var c=0,f=n.count();c<f;c++)o[n.getRawIndex(c)].dataIndex=c;r.filterSelf(function(p){var g=l[r.getRawIndex(p)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});for(var c=0,f=l.length;c<f;c++)l[c].dataIndex=-1;for(var c=0,f=r.count();c<f;c++)l[r.getRawIndex(c)].dataIndex=c},a.prototype.clone=function(){for(var n=new a(this._directed),r=this.nodes,o=this.edges,l=0;l<r.length;l++)n.addNode(r[l].id,r[l].dataIndex);for(var l=0;l<o.length;l++){var c=o[l];n.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return n},a})(),vh=(function(){function a(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=r??-1}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,o=r.data.getItemModel(this.dataIndex);return o.getModel(n)}},a.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var o=this.edges[r];o.dataIndex<0||(n.edge.push(o.dataIndex),n.node.push(o.node1.dataIndex,o.node2.dataIndex))}return n},a.prototype.getTrajectoryDataIndices=function(){for(var n=Xe(),r=Xe(),o=0,l=this.edges.length;o<l;o++){var c=this.edges[o];if(!(c.dataIndex<0)){n.set(c.dataIndex,!0);for(var f=[c.node1],p=[c.node2],g=0;g<f.length;){var v=f[g];g++,r.set(v.dataIndex,!0);for(var x=v.inEdges,O=0,w=x.length,S=void 0,k=void 0;O<w;O++)S=x[O],k=S.dataIndex,k>=0&&!n.hasKey(k)&&(n.set(k,!0),f.push(S.node1))}for(g=0;g<p.length;){var P=p[g];g++,r.set(P.dataIndex,!0);for(var E=P.outEdges,O=0,M=E.length,R=void 0,N=void 0;O<M;O++)R=E[O],N=R.dataIndex,N>=0&&!n.hasKey(N)&&(n.set(N,!0),p.push(R.node2))}}}return{edge:n.keys(),node:r.keys()}},a})(),vZ=(function(){function a(n,r,o){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=o??-1}return a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,o=r.edgeData.getItemModel(this.dataIndex);return o.getModel(n)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var n=Xe(),r=Xe();n.set(this.dataIndex,!0);for(var o=[this.node1],l=[this.node2],c=0;c<o.length;){var f=o[c];c++,r.set(f.dataIndex,!0);for(var p=f.inEdges,g=0,v=p.length,x=void 0,O=void 0;g<v;g++)x=f.inEdges[g],O=x.dataIndex,O>=0&&!n.hasKey(O)&&(n.set(O,!0),o.push(x.node1))}for(c=0;c<l.length;){var w=l[c];c++,r.set(w.dataIndex,!0);for(var S=w.outEdges,g=0,v=S.length,k=void 0,P=void 0;g<v;g++)k=w.outEdges[g],P=k.dataIndex,P>=0&&!n.hasKey(P)&&(n.set(P,!0),l.push(k.node2))}return{edge:n.keys(),node:r.keys()}},a})();function yZ(a,n){return{getValue:function(r){var o=this[a][n];return o.getStore().get(o.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,o){this.dataIndex>=0&&this[a][n].setItemVisual(this.dataIndex,r,o)},getVisual:function(r){return this[a][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,o){this.dataIndex>=0&&this[a][n].setItemLayout(this.dataIndex,r,o)},getLayout:function(){return this[a][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][n].getRawIndex(this.dataIndex)}}}we(vh,yZ("hostGraph","data")),we(vZ,yZ("hostGraph","edgeData"));function p5(a,n,r,o,l){for(var c=new qDe(o),f=0;f<a.length;f++)c.addNode(tt(a[f].id,a[f].name,f),f);for(var p=[],g=[],v=0,f=0;f<n.length;f++){var x=n[f],O=x.source,w=x.target;c.addEdge(O,w,v)&&(g.push(x),p.push(tt(Yr(x.id,null),O+" > "+w)),v++)}var S=r.get("coordinateSystem"),k;if(S==="cartesian2d"||S==="polar"||S==="matrix")k=Tl(a,r);else{var P=Qf.get(S),E=P?P.dimensions||[]:[];se(E,"value")<0&&E.concat(["value"]);var M=Rm(a,{coordDimensions:E,encodeDefine:r.getEncode()}).dimensions;k=new ra(M,r),k.initData(a)}var R=new ra(["value"],r);return R.initData(g,p),l&&l(k,R),Eq({mainData:k,struct:c,structAttr:"graph",datas:{node:k,edge:R},datasAttr:{node:"data",edge:"edgeData"}}),c.update(),c}var ZDe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments);var o=this;function l(){return o._categoriesData}this.legendVisualProvider=new Gm(l,l),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){a.prototype.mergeDefaultAndTheme.apply(this,arguments),yf(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,o){var l=r.edges||r.links||[],c=r.data||r.nodes||[],f=this;if(c&&l){RDe(this);var p=p5(c,l,this,!0,g);return Z(p.edges,function(v){LDe(v.node1,v.node2,this,v.dataIndex)},this),p.data}function g(v,x){v.wrapMethod("getItemModel",function(k){var P=f._categoriesModels,E=k.getShallow("category"),M=P[E];return M&&(M.parentModel=k.parentModel,k.parentModel=M),k});var O=en.prototype.getModel;function w(k,P){var E=O.call(this,k,P);return E.resolveParentPath=S,E}x.wrapMethod("getItemModel",function(k){return k.resolveParentPath=S,k.getModel=w,k});function S(k){if(k&&(k[0]==="label"||k[1]==="label")){var P=k.slice();return k[0]==="label"?P[0]="edgeLabel":k[1]==="label"&&(P[1]="edgeLabel"),P}return k}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,o,l){if(l==="edge"){var c=this.getData(),f=this.getDataParams(r,l),p=c.graph.getEdgeByIndex(r),g=c.getName(p.node1.dataIndex),v=c.getName(p.node2.dataIndex),x=[];return g!=null&&x.push(g),v!=null&&x.push(v),qr("nameValue",{name:x.join(" > "),value:f.value,noValue:f.value==null})}var O=N6({series:this,dataIndex:r,multipleSeries:o});return O},n.prototype._updateCategoriesData=function(){var r=ve(this.option.categories||[],function(l){return l.value!=null?l:ee({value:0},l)}),o=new ra(["value"],this);o.initData(r),this._categoriesData=o,this._categoriesModels=o.mapArray(function(l){return o.getItemModel(l)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:Ie.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:Ie.color.primary}}},n})(Bn);function HDe(a){a.registerChartView(UDe),a.registerSeriesModel(ZDe),a.registerProcessor(PDe),a.registerVisual(EDe),a.registerVisual(MDe),a.registerLayout(NDe),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,zDe),a.registerLayout(QDe),a.registerCoordinateSystem("graphView",{dimensions:ph.dimensions,create:VDe}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},an),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},an),a.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(n,r,o){r.eachComponent({mainType:"series",query:n},function(l){var c=o.getViewOfSeriesModel(l);c&&(n.dx!=null&&n.dy!=null&&c.updateViewOnPan(l,o,n),n.zoom!=null&&n.originX!=null&&n.originY!=null&&c.updateViewOnZoom(l,o,n));var f=l.coordinateSystem,p=z2(f,n,l.get("scaleLimit"));l.setCenter&&l.setCenter(p.center),l.setZoom&&l.setZoom(p.zoom)})})}var xZ=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;Et(c).dataType="node",c.z2=2;var f=new un;return c.setTextContent(f),c.updateData(r,o,l,!0),c}return n.prototype.updateData=function(r,o,l,c){var f=this,p=r.graph.getNodeByIndex(o),g=r.hostModel,v=p.getModel(),x=v.getModel("emphasis"),O=r.getItemLayout(o),w=ee(Ml(v.getModel("itemStyle"),O,!0),O),S=this;if(isNaN(w.startAngle)){S.setShape(w);return}c?S.setShape(w):pn(S,{shape:w},g,o);var k=ee(Ml(v.getModel("itemStyle"),O,!0),O);f.setShape(k),f.useStyle(r.getItemVisual(o,"style")),Kr(f,v),this._updateLabel(g,v,p),r.setItemGraphicEl(o,S),Kr(S,v,"itemStyle");var P=x.get("focus");ar(this,P==="adjacency"?p.getAdjacentDataIndices():P,x.get("blurScope"),x.get("disabled"))},n.prototype._updateLabel=function(r,o,l){var c=this.getTextContent(),f=l.getLayout(),p=(f.startAngle+f.endAngle)/2,g=Math.cos(p),v=Math.sin(p),x=o.getModel("label");c.ignore=!x.get("show");var O=Jr(o),w=l.getVisual("style");hi(c,O,{labelFetcher:{getFormattedLabel:function(R,N,j,W,U,X){return r.getFormattedLabel(R,N,"node",W,zt(U,O.normal&&O.normal.get("formatter"),o.get("name")),X)}},labelDataIndex:l.dataIndex,defaultText:l.dataIndex+"",inheritColor:w.fill,defaultOpacity:w.opacity,defaultOutsidePosition:"startArc"});var S=x.get("position")||"outside",k=x.get("distance")||0,P;S==="outside"?P=f.r+k:P=(f.r+f.r0)/2,this.textConfig={inside:S!=="outside"};var E=S!=="outside"?x.get("align")||"center":g>0?"left":"right",M=S!=="outside"?x.get("verticalAlign")||"middle":v>0?"top":"bottom";c.attr({x:g*P+f.cx,y:v*P+f.cy,rotation:0,style:{align:E,verticalAlign:M}})},n})(Vi),XDe=(function(a){u(n,a);function n(r,o,l,c){var f=a.call(this)||this;return Et(f).dataType="edge",f.updateData(r,o,l,c,!0),f}return n.prototype.buildPath=function(r,o){r.moveTo(o.s1[0],o.s1[1]);var l=.7,c=o.clockwise;r.arc(o.cx,o.cy,o.r,o.sStartAngle,o.sEndAngle,!c),r.bezierCurveTo((o.cx-o.s2[0])*l+o.s2[0],(o.cy-o.s2[1])*l+o.s2[1],(o.cx-o.t1[0])*l+o.t1[0],(o.cy-o.t1[1])*l+o.t1[1],o.t1[0],o.t1[1]),r.arc(o.cx,o.cy,o.r,o.tStartAngle,o.tEndAngle,!c),r.bezierCurveTo((o.cx-o.t2[0])*l+o.t2[0],(o.cy-o.t2[1])*l+o.t2[1],(o.cx-o.s1[0])*l+o.s1[0],(o.cy-o.s1[1])*l+o.s1[1],o.s1[0],o.s1[1]),r.closePath()},n.prototype.updateData=function(r,o,l,c,f){var p=r.hostModel,g=o.graph.getEdgeByIndex(l),v=g.getLayout(),x=g.node1.getModel(),O=o.getItemModel(g.dataIndex),w=O.getModel("lineStyle"),S=O.getModel("emphasis"),k=S.get("focus"),P=ee(Ml(x.getModel("itemStyle"),v,!0),v),E=this;if(isNaN(P.sStartAngle)||isNaN(P.tStartAngle)){E.setShape(P);return}f?(E.setShape(P),_Z(E,g,r,w)):(Fo(E),_Z(E,g,r,w),pn(E,{shape:P},p,l)),ar(this,k==="adjacency"?g.getAdjacentDataIndices():k,S.get("blurScope"),S.get("disabled")),Kr(E,O,"lineStyle"),o.setItemGraphicEl(g.dataIndex,E)},n})(Jt);function _Z(a,n,r,o){var l=n.node1,c=n.node2,f=a.style;a.setStyle(o.getLineStyle());var p=o.get("color");switch(p){case"source":f.fill=r.getItemVisual(l.dataIndex,"style").fill,f.decal=l.getVisual("style").decal;break;case"target":f.fill=r.getItemVisual(c.dataIndex,"style").fill,f.decal=c.getVisual("style").decal;break;case"gradient":var g=r.getItemVisual(l.dataIndex,"style").fill,v=r.getItemVisual(c.dataIndex,"style").fill;if(De(g)&&De(v)){var x=a.shape,O=(x.s1[0]+x.s2[0])/2,w=(x.s1[1]+x.s2[1])/2,S=(x.t1[0]+x.t2[0])/2,k=(x.t1[1]+x.t2[1])/2;f.fill=new If(O,w,S,k,[{offset:0,color:g},{offset:1,color:v}],!0)}break}}var YDe=Math.PI/180,KDe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){},n.prototype.render=function(r,o,l){var c=r.getData(),f=this._data,p=this.group,g=-r.get("startAngle")*YDe;if(c.diff(f).add(function(x){var O=c.getItemLayout(x);if(O){var w=new xZ(c,x,g);Et(w).dataIndex=x,p.add(w)}}).update(function(x,O){var w=f.getItemGraphicEl(O),S=c.getItemLayout(x);if(!S){w&&Du(w,r,O);return}w?w.updateData(c,x,g):w=new xZ(c,x,g),p.add(w)}).remove(function(x){var O=f.getItemGraphicEl(x);O&&Du(O,r,x)}).execute(),!f){var v=r.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=it(v[0],l.getWidth()),this.group.originY=it(v[1],l.getHeight()),Jn(this.group,{scaleX:1,scaleY:1},r)}this._data=c,this.renderEdges(r,g)},n.prototype.renderEdges=function(r,o){var l=r.getData(),c=r.getEdgeData(),f=this._edgeData,p=this.group;c.diff(f).add(function(g){var v=new XDe(l,c,g,o);Et(v).dataIndex=g,p.add(v)}).update(function(g,v){var x=f.getItemGraphicEl(v);x.updateData(l,c,g,o),p.add(x)}).remove(function(g){var v=f.getItemGraphicEl(g);v&&Du(v,r,g)}).execute(),this._edgeData=c},n.prototype.dispose=function(){},n.type="chord",n})(Dn),JDe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this.legendVisualProvider=new Gm(Ee(this.getData,this),Ee(this.getRawData,this))},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links)},n.prototype.getInitialData=function(r,o){var l=r.edges||r.links||[],c=r.data||r.nodes||[];if(c&&l){var f=p5(c,l,this,!0,p);return f.data}function p(g,v){var x=en.prototype.getModel;function O(S,k){var P=x.call(this,S,k);return P.resolveParentPath=w,P}v.wrapMethod("getItemModel",function(S){return S.resolveParentPath=w,S.getModel=O,S});function w(S){if(S&&(S[0]==="label"||S[1]==="label")){var k=S.slice();return S[0]==="label"?k[0]="edgeLabel":S[1]==="label"&&(k[1]="edgeLabel"),k}return S}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,o,l){var c=this.getDataParams(r,l);if(l==="edge"){var f=this.getData(),p=f.graph.getEdgeByIndex(r),g=f.getName(p.node1.dataIndex),v=f.getName(p.node2.dataIndex),x=[];return g!=null&&x.push(g),v!=null&&x.push(v),qr("nameValue",{name:x.join(" > "),value:c.value,noValue:c.value==null})}return qr("nameValue",{name:c.name,value:c.value,noValue:c.value==null})},n.prototype.getDataParams=function(r,o){var l=a.prototype.getDataParams.call(this,r,o);if(o==="node"){var c=this.getData(),f=this.getGraph().getNodeByIndex(r);if(l.name==null&&(l.name=c.getName(r)),l.value==null){var p=f.getLayout().value;l.value=p}}return l},n.type="series.chord",n.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},n})(Bn),m5=Math.PI/180;function eIe(a,n){a.eachSeriesByType("chord",function(r){tIe(r,n)})}function tIe(a,n){var r=a.getData(),o=r.graph,l=a.getEdgeData(),c=l.count();if(c){var f=M7(a,n),p=f.cx,g=f.cy,v=f.r,x=f.r0,O=Math.max((a.get("padAngle")||0)*m5,0),w=Math.max((a.get("minAngle")||0)*m5,0),S=-a.get("startAngle")*m5,k=S+Math.PI*2,P=a.get("clockwise"),E=P?1:-1,M=[S,k];eb(M,!P);var R=M[0],N=M[1],j=N-R,W=r.getSum("value")===0&&l.getSum("value")===0,U=[],X=0;o.eachEdge(function(Se){var Re=W?1:Se.getValue("value");W&&(Re>0||w)&&(X+=2);var Ne=Se.node1.dataIndex,Be=Se.node2.dataIndex;U[Ne]=(U[Ne]||0)+Re,U[Be]=(U[Be]||0)+Re});var J=0;if(o.eachNode(function(Se){var Re=Se.getValue("value");isNaN(Re)||(U[Se.dataIndex]=Math.max(Re,U[Se.dataIndex]||0)),!W&&(U[Se.dataIndex]>0||w)&&X++,J+=U[Se.dataIndex]||0}),!(X===0||J===0)){O*X>=Math.abs(j)&&(O=Math.max(0,(Math.abs(j)-w*X)/X)),(O+w)*X>=Math.abs(j)&&(w=(Math.abs(j)-O*X)/X);var re=(j-O*X*E)/J,ie=0,le=0,pe=0;o.eachNode(function(Se){var Re=U[Se.dataIndex]||0,Ne=re*(J?Re:1)*E;Math.abs(Ne)<w?ie+=w-Math.abs(Ne):(le+=Math.abs(Ne)-w,pe+=Math.abs(Ne)),Se.setLayout({angle:Ne,value:Re})});var ce=!1;if(ie>le){var ye=ie/le;o.eachNode(function(Se){var Re=Se.getLayout().angle;Math.abs(Re)>=w?Se.setLayout({angle:Re*ye,ratio:ye},!0):Se.setLayout({angle:w,ratio:w===0?1:Re/w},!0)})}else o.eachNode(function(Se){if(!ce){var Re=Se.getLayout().angle,Ne=Math.min(Re/pe,1),Be=Ne*ie;Re-Be<w&&(ce=!0)}});var Oe=ie;o.eachNode(function(Se){if(!(Oe<=0)){var Re=Se.getLayout().angle;if(Re>w&&w>0){var Ne=ce?1:Math.min(Re/pe,1),Be=Re-w,Fe=Math.min(Be,Math.min(Oe,ie*Ne));Oe-=Fe,Se.setLayout({angle:Re-Fe,ratio:(Re-Fe)/Re},!0)}else w>0&&Se.setLayout({angle:w,ratio:Re===0?1:w/Re},!0)}});var _e=R,Pe=[];o.eachNode(function(Se){var Re=Math.max(Se.getLayout().angle,w);Se.setLayout({cx:p,cy:g,r0:x,r:v,startAngle:_e,endAngle:_e+Re*E,clockwise:P},!0),Pe[Se.dataIndex]=_e,_e+=(Re+O)*E}),o.eachEdge(function(Se){var Re=W?1:Se.getValue("value"),Ne=re*(J?Re:1)*E,Be=Se.node1.dataIndex,Fe=Pe[Be]||0,rt=Math.abs((Se.node1.getLayout().ratio||1)*Ne),ht=Fe+rt*E,Mt=[p+x*Math.cos(Fe),g+x*Math.sin(Fe)],vn=[p+x*Math.cos(ht),g+x*Math.sin(ht)],Rn=Se.node2.dataIndex,Dt=Pe[Rn]||0,Ot=Math.abs((Se.node2.getLayout().ratio||1)*Ne),Ft=Dt+Ot*E,pt=[p+x*Math.cos(Dt),g+x*Math.sin(Dt)],Rt=[p+x*Math.cos(Ft),g+x*Math.sin(Ft)];Se.setLayout({s1:Mt,s2:vn,sStartAngle:Fe,sEndAngle:ht,t1:pt,t2:Rt,tStartAngle:Dt,tEndAngle:Ft,cx:p,cy:g,r:x,value:Re,clockwise:P}),Pe[Be]=ht,Pe[Rn]=Ft})}}}function nIe(a){a.registerChartView(KDe),a.registerSeriesModel(JDe),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,eIe),a.registerProcessor(Vm("chord"))}var rIe=(function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a})(),iIe=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="pointer",o}return n.prototype.getDefaultShape=function(){return new rIe},n.prototype.buildPath=function(r,o){var l=Math.cos,c=Math.sin,f=o.r,p=o.width,g=o.angle,v=o.x-l(g)*p*(p>=f/3?1:2),x=o.y-c(g)*p*(p>=f/3?1:2);g=o.angle-Math.PI/2,r.moveTo(v,x),r.lineTo(o.x+l(g)*p,o.y+c(g)*p),r.lineTo(o.x+l(o.angle)*f,o.y+c(o.angle)*f),r.lineTo(o.x-l(g)*p,o.y-c(g)*p),r.lineTo(v,x)},n})(Jt);function aIe(a,n){var r=a.get("center"),o=n.getWidth(),l=n.getHeight(),c=Math.min(o,l),f=it(r[0],n.getWidth()),p=it(r[1],n.getHeight()),g=it(a.get("radius"),c/2);return{cx:f,cy:p,r:g}}function Y2(a,n){var r=a==null?"":a+"";return n&&(De(n)?r=n.replace("{value}",r):Ge(n)&&(r=n(a))),r}var oIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){this.group.removeAll();var c=r.get(["axisLine","lineStyle","color"]),f=aIe(r,l);this._renderMain(r,o,l,c,f),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,o,l,c,f){var p=this.group,g=r.get("clockwise"),v=-r.get("startAngle")/180*Math.PI,x=-r.get("endAngle")/180*Math.PI,O=r.getModel("axisLine"),w=O.get("roundCap"),S=w?C2:Vi,k=O.get("show"),P=O.getModel("lineStyle"),E=P.get("width"),M=[v,x];eb(M,!g),v=M[0],x=M[1];for(var R=x-v,N=v,j=[],W=0;k&&W<c.length;W++){var U=Math.min(Math.max(c[W][0],0),1);x=v+R*U;var X=new S({shape:{startAngle:N,endAngle:x,cx:f.cx,cy:f.cy,clockwise:g,r0:f.r-E,r:f.r},silent:!0});X.setStyle({fill:c[W][1]}),X.setStyle(P.getLineStyle(["color","width"])),j.push(X),N=x}j.reverse(),Z(j,function(re){return p.add(re)});var J=function(re){if(re<=0)return c[0][1];var ie;for(ie=0;ie<c.length;ie++)if(c[ie][0]>=re&&(ie===0?0:c[ie-1][0])<re)return c[ie][1];return c[ie-1][1]};this._renderTicks(r,o,l,J,f,v,x,g,E),this._renderTitleAndDetail(r,o,l,J,f),this._renderAnchor(r,f),this._renderPointer(r,o,l,J,f,v,x,g,E)},n.prototype._renderTicks=function(r,o,l,c,f,p,g,v,x){for(var O=this.group,w=f.cx,S=f.cy,k=f.r,P=+r.get("min"),E=+r.get("max"),M=r.getModel("splitLine"),R=r.getModel("axisTick"),N=r.getModel("axisLabel"),j=r.get("splitNumber"),W=R.get("splitNumber"),U=it(M.get("length"),k),X=it(R.get("length"),k),J=p,re=(g-p)/j,ie=re/W,le=M.getModel("lineStyle").getLineStyle(),pe=R.getModel("lineStyle").getLineStyle(),ce=M.get("distance"),ye,Oe,_e=0;_e<=j;_e++){if(ye=Math.cos(J),Oe=Math.sin(J),M.get("show")){var Pe=ce?ce+x:x,Se=new $r({shape:{x1:ye*(k-Pe)+w,y1:Oe*(k-Pe)+S,x2:ye*(k-U-Pe)+w,y2:Oe*(k-U-Pe)+S},style:le,silent:!0});le.stroke==="auto"&&Se.setStyle({stroke:c(_e/j)}),O.add(Se)}if(N.get("show")){var Pe=N.get("distance")+ce,Re=Y2(Lr(_e/j*(E-P)+P),N.get("formatter")),Ne=c(_e/j),Be=ye*(k-U-Pe)+w,Fe=Oe*(k-U-Pe)+S,rt=N.get("rotate"),ht=0;rt==="radial"?(ht=-J+2*Math.PI,ht>Math.PI/2&&(ht+=Math.PI)):rt==="tangential"?ht=-J-Math.PI/2:dt(rt)&&(ht=rt*Math.PI/180),ht===0?O.add(new un({style:Fn(N,{text:Re,x:Be,y:Fe,verticalAlign:Oe<-.8?"top":Oe>.8?"bottom":"middle",align:ye<-.4?"left":ye>.4?"right":"center"},{inheritColor:Ne}),silent:!0})):O.add(new un({style:Fn(N,{text:Re,x:Be,y:Fe,verticalAlign:"middle",align:"center"},{inheritColor:Ne}),silent:!0,originX:Be,originY:Fe,rotation:ht}))}if(R.get("show")&&_e!==j){var Pe=R.get("distance");Pe=Pe?Pe+x:x;for(var Mt=0;Mt<=W;Mt++){ye=Math.cos(J),Oe=Math.sin(J);var vn=new $r({shape:{x1:ye*(k-Pe)+w,y1:Oe*(k-Pe)+S,x2:ye*(k-X-Pe)+w,y2:Oe*(k-X-Pe)+S},silent:!0,style:pe});pe.stroke==="auto"&&vn.setStyle({stroke:c((_e+Mt/W)/j)}),O.add(vn),J+=ie}J-=ie}else J+=re}},n.prototype._renderPointer=function(r,o,l,c,f,p,g,v,x){var O=this.group,w=this._data,S=this._progressEls,k=[],P=r.get(["pointer","show"]),E=r.getModel("progress"),M=E.get("show"),R=r.getData(),N=R.mapDimension("value"),j=+r.get("min"),W=+r.get("max"),U=[j,W],X=[p,g];function J(ie,le){var pe=R.getItemModel(ie),ce=pe.getModel("pointer"),ye=it(ce.get("width"),f.r),Oe=it(ce.get("length"),f.r),_e=r.get(["pointer","icon"]),Pe=ce.get("offsetCenter"),Se=it(Pe[0],f.r),Re=it(Pe[1],f.r),Ne=ce.get("keepAspect"),Be;return _e?Be=Br(_e,Se-ye/2,Re-Oe,ye,Oe,null,Ne):Be=new iIe({shape:{angle:-Math.PI/2,width:ye,r:Oe,x:Se,y:Re}}),Be.rotation=-(le+Math.PI/2),Be.x=f.cx,Be.y=f.cy,Be}function re(ie,le){var pe=E.get("roundCap"),ce=pe?C2:Vi,ye=E.get("overlap"),Oe=ye?E.get("width"):x/R.count(),_e=ye?f.r-Oe:f.r-(ie+1)*Oe,Pe=ye?f.r:f.r-ie*Oe,Se=new ce({shape:{startAngle:p,endAngle:le,cx:f.cx,cy:f.cy,clockwise:v,r0:_e,r:Pe}});return ye&&(Se.z2=wn(R.get(N,ie),[j,W],[100,0],!0)),Se}(M||P)&&(R.diff(w).add(function(ie){var le=R.get(N,ie);if(P){var pe=J(ie,p);Jn(pe,{rotation:-((isNaN(+le)?X[0]:wn(le,U,X,!0))+Math.PI/2)},r),O.add(pe),R.setItemGraphicEl(ie,pe)}if(M){var ce=re(ie,p),ye=E.get("clip");Jn(ce,{shape:{endAngle:wn(le,U,X,ye)}},r),O.add(ce),CE(r.seriesIndex,R.dataType,ie,ce),k[ie]=ce}}).update(function(ie,le){var pe=R.get(N,ie);if(P){var ce=w.getItemGraphicEl(le),ye=ce?ce.rotation:p,Oe=J(ie,ye);Oe.rotation=ye,pn(Oe,{rotation:-((isNaN(+pe)?X[0]:wn(pe,U,X,!0))+Math.PI/2)},r),O.add(Oe),R.setItemGraphicEl(ie,Oe)}if(M){var _e=S[le],Pe=_e?_e.shape.endAngle:p,Se=re(ie,Pe),Re=E.get("clip");pn(Se,{shape:{endAngle:wn(pe,U,X,Re)}},r),O.add(Se),CE(r.seriesIndex,R.dataType,ie,Se),k[ie]=Se}}).execute(),R.each(function(ie){var le=R.getItemModel(ie),pe=le.getModel("emphasis"),ce=pe.get("focus"),ye=pe.get("blurScope"),Oe=pe.get("disabled");if(P){var _e=R.getItemGraphicEl(ie),Pe=R.getItemVisual(ie,"style"),Se=Pe.fill;if(_e instanceof fi){var Re=_e.style;_e.useStyle(ee({image:Re.image,x:Re.x,y:Re.y,width:Re.width,height:Re.height},Pe))}else _e.useStyle(Pe),_e.type!=="pointer"&&_e.setColor(Se);_e.setStyle(le.getModel(["pointer","itemStyle"]).getItemStyle()),_e.style.fill==="auto"&&_e.setStyle("fill",c(wn(R.get(N,ie),U,[0,1],!0))),_e.z2EmphasisLift=0,Kr(_e,le),ar(_e,ce,ye,Oe)}if(M){var Ne=k[ie];Ne.useStyle(R.getItemVisual(ie,"style")),Ne.setStyle(le.getModel(["progress","itemStyle"]).getItemStyle()),Ne.z2EmphasisLift=0,Kr(Ne,le),ar(Ne,ce,ye,Oe)}}),this._progressEls=k)},n.prototype._renderAnchor=function(r,o){var l=r.getModel("anchor"),c=l.get("show");if(c){var f=l.get("size"),p=l.get("icon"),g=l.get("offsetCenter"),v=l.get("keepAspect"),x=Br(p,o.cx-f/2+it(g[0],o.r),o.cy-f/2+it(g[1],o.r),f,f,null,v);x.z2=l.get("showAbove")?1:0,x.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(x)}},n.prototype._renderTitleAndDetail=function(r,o,l,c,f){var p=this,g=r.getData(),v=g.mapDimension("value"),x=+r.get("min"),O=+r.get("max"),w=new _t,S=[],k=[],P=r.isAnimationEnabled(),E=r.get(["pointer","showAbove"]);g.diff(this._data).add(function(M){S[M]=new un({silent:!0}),k[M]=new un({silent:!0})}).update(function(M,R){S[M]=p._titleEls[R],k[M]=p._detailEls[R]}).execute(),g.each(function(M){var R=g.getItemModel(M),N=g.get(v,M),j=new _t,W=c(wn(N,[x,O],[0,1],!0)),U=R.getModel("title");if(U.get("show")){var X=U.get("offsetCenter"),J=f.cx+it(X[0],f.r),re=f.cy+it(X[1],f.r),ie=S[M];ie.attr({z2:E?0:2,style:Fn(U,{x:J,y:re,text:g.getName(M),align:"center",verticalAlign:"middle"},{inheritColor:W})}),j.add(ie)}var le=R.getModel("detail");if(le.get("show")){var pe=le.get("offsetCenter"),ce=f.cx+it(pe[0],f.r),ye=f.cy+it(pe[1],f.r),Oe=it(le.get("width"),f.r),_e=it(le.get("height"),f.r),Pe=r.get(["progress","show"])?g.getItemVisual(M,"style").fill:W,ie=k[M],Se=le.get("formatter");ie.attr({z2:E?0:2,style:Fn(le,{x:ce,y:ye,text:Y2(N,Se),width:isNaN(Oe)?null:Oe,height:isNaN(_e)?null:_e,align:"center",verticalAlign:"middle"},{inheritColor:Pe})}),d7(ie,{normal:le},N,function(Ne){return Y2(Ne,Se)}),P&&f7(ie,M,g,r,{getFormattedLabel:function(Ne,Be,Fe,rt,ht,Mt){return Y2(Mt?Mt.interpolatedValue:N,Se)}}),j.add(ie)}w.add(j)}),this.group.add(w),this._titleEls=S,this._detailEls=k},n.type="gauge",n})(Dn),sIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,o){return Fm(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,Ie.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:Ie.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:Ie.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:Ie.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:Ie.color.neutral00,borderWidth:0,borderColor:Ie.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:Ie.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:Ie.color.transparent,borderWidth:0,borderColor:Ie.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:Ie.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n})(Bn);function lIe(a){a.registerChartView(oIe),a.registerSeriesModel(sIe)}var uIe=["itemStyle","opacity"],cIe=(function(a){u(n,a);function n(r,o){var l=a.call(this)||this,c=l,f=new Ei,p=new un;return c.setTextContent(p),l.setTextGuideLine(f),l.updateData(r,o,!0),l}return n.prototype.updateData=function(r,o,l){var c=this,f=r.hostModel,p=r.getItemModel(o),g=r.getItemLayout(o),v=p.getModel("emphasis"),x=p.get(uIe);x=x??1,l||Fo(c),c.useStyle(r.getItemVisual(o,"style")),c.style.lineJoin="round",l?(c.setShape({points:g.points}),c.style.opacity=0,Jn(c,{style:{opacity:x}},f,o)):pn(c,{style:{opacity:x},shape:{points:g.points}},f,o),Kr(c,p),this._updateLabel(r,o),ar(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r,o){var l=this,c=this.getTextGuideLine(),f=l.getTextContent(),p=r.hostModel,g=r.getItemModel(o),v=r.getItemLayout(o),x=v.label,O=r.getItemVisual(o,"style"),w=O.fill;hi(f,Jr(g),{labelFetcher:r.hostModel,labelDataIndex:o,defaultOpacity:O.opacity,defaultText:r.getName(o)},{normal:{align:x.textAlign,verticalAlign:x.verticalAlign}});var S=g.getModel("label"),k=S.get("color"),P=k==="inherit"?w:null;l.setTextConfig({local:!0,inside:!!x.inside,insideStroke:P,outsideFill:P});var E=x.linePoints;c.setShape({points:E}),l.textGuideLineConfig={anchor:E?new bt(E[0][0],E[0][1]):null},pn(f,{style:{x:x.x,y:x.y}},p,o),f.attr({rotation:x.rotation,originX:x.x,originY:x.y,z2:10}),zD(l,BD(g),{stroke:w})},n})(Fi),dIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,o,l){var c=r.getData(),f=this._data,p=this.group;c.diff(f).add(function(g){var v=new cIe(c,g);c.setItemGraphicEl(g,v),p.add(v)}).update(function(g,v){var x=f.getItemGraphicEl(v);x.updateData(c,g),p.add(x),c.setItemGraphicEl(g,x)}).remove(function(g){var v=f.getItemGraphicEl(g);Du(v,r,g)}).execute(),this._data=c},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n})(Dn),fIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gm(Ee(this.getData,this),Ee(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,o){return Fm(this,{coordDimensions:["value"],encodeDefaulter:Ue(kM,this)})},n.prototype._defaultLabelLine=function(r){yf(r,"labelLine",["show"]);var o=r.labelLine,l=r.emphasis.labelLine;o.show=o.show&&r.label.show,l.show=l.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var o=this.getData(),l=a.prototype.getDataParams.call(this,r),c=o.mapDimension("value"),f=o.getSum(c);return l.percent=f?+(o.get(c,r)/f*100).toFixed(2):0,l.$vars.push("percent"),l},n.type="series.funnel",n.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:Ie.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:Ie.color.primary}}},n})(Bn);function hIe(a,n){for(var r=a.mapDimension("value"),o=a.mapArray(r,function(g){return g}),l=[],c=n==="ascending",f=0,p=a.count();f<p;f++)l[f]=f;return Ge(n)?l.sort(n):n!=="none"&&l.sort(function(g,v){return c?o[g]-o[v]:o[v]-o[g]}),l}function pIe(a){var n=a.hostModel,r=n.get("orient");a.each(function(o){var l=a.getItemModel(o),c=l.getModel("label"),f=c.get("position"),p=l.getModel("labelLine"),g=a.getItemLayout(o),v=g.points,x=f==="inner"||f==="inside"||f==="center"||f==="insideLeft"||f==="insideRight",O,w,S,k;if(x)f==="insideLeft"?(w=(v[0][0]+v[3][0])/2+5,S=(v[0][1]+v[3][1])/2,O="left"):f==="insideRight"?(w=(v[1][0]+v[2][0])/2-5,S=(v[1][1]+v[2][1])/2,O="right"):(w=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,S=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,O="center"),k=[[w,S],[w,S]];else{var P=void 0,E=void 0,M=void 0,R=void 0,N=p.get("length");r==="vertical"&&["top","bottom"].indexOf(f)>-1&&(f="left",console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")),r==="horizontal"&&["left","right"].indexOf(f)>-1&&(f="bottom",console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")),f==="left"?(P=(v[3][0]+v[0][0])/2,E=(v[3][1]+v[0][1])/2,M=P-N,w=M-5,O="right"):f==="right"?(P=(v[1][0]+v[2][0])/2,E=(v[1][1]+v[2][1])/2,M=P+N,w=M+5,O="left"):f==="top"?(P=(v[3][0]+v[0][0])/2,E=(v[3][1]+v[0][1])/2,R=E-N,S=R-5,O="center"):f==="bottom"?(P=(v[1][0]+v[2][0])/2,E=(v[1][1]+v[2][1])/2,R=E+N,S=R+5,O="center"):f==="rightTop"?(P=r==="horizontal"?v[3][0]:v[1][0],E=r==="horizontal"?v[3][1]:v[1][1],r==="horizontal"?(R=E-N,S=R-5,O="center"):(M=P+N,w=M+5,O="top")):f==="rightBottom"?(P=v[2][0],E=v[2][1],r==="horizontal"?(R=E+N,S=R+5,O="center"):(M=P+N,w=M+5,O="bottom")):f==="leftTop"?(P=v[0][0],E=r==="horizontal"?v[0][1]:v[1][1],r==="horizontal"?(R=E-N,S=R-5,O="center"):(M=P-N,w=M-5,O="right")):f==="leftBottom"?(P=r==="horizontal"?v[1][0]:v[3][0],E=r==="horizontal"?v[1][1]:v[2][1],r==="horizontal"?(R=E+N,S=R+5,O="center"):(M=P-N,w=M-5,O="right")):(P=(v[1][0]+v[2][0])/2,E=(v[1][1]+v[2][1])/2,r==="horizontal"?(R=E+N,S=R+5,O="center"):(M=P+N,w=M+5,O="left")),r==="horizontal"?(M=P,w=M):(R=E,S=R),k=[[P,E],[M,R]]}g.label={linePoints:k,x:w,y:S,verticalAlign:"middle",textAlign:O,inside:x}})}function mIe(a,n){a.eachSeriesByType("funnel",function(r){var o=r.getData(),l=o.mapDimension("value"),c=r.get("sort"),f=ei(r,n),p=rr(r.getBoxLayoutParams(),f.refContainer),g=r.get("orient"),v=p.width,x=p.height,O=hIe(o,c),w=p.x,S=p.y,k=g==="horizontal"?[it(r.get("minSize"),x),it(r.get("maxSize"),x)]:[it(r.get("minSize"),v),it(r.get("maxSize"),v)],P=o.getDataExtent(l),E=r.get("min"),M=r.get("max");E==null&&(E=Math.min(P[0],0)),M==null&&(M=P[1]);var R=r.get("funnelAlign"),N=r.get("gap"),j=g==="horizontal"?v:x,W=(j-N*(o.count()-1))/o.count(),U=function(Oe,_e){if(g==="horizontal"){var Pe=o.get(l,Oe)||0,Se=wn(Pe,[E,M],k,!0),Re=void 0;switch(R){case"top":Re=S;break;case"center":Re=S+(x-Se)/2;break;case"bottom":Re=S+(x-Se);break}return[[_e,Re],[_e,Re+Se]]}var Ne=o.get(l,Oe)||0,Be=wn(Ne,[E,M],k,!0),Fe;switch(R){case"left":Fe=w;break;case"center":Fe=w+(v-Be)/2;break;case"right":Fe=w+v-Be;break}return[[Fe,_e],[Fe+Be,_e]]};c==="ascending"&&(W=-W,N=-N,g==="horizontal"?w+=v:S+=x,O=O.reverse());for(var X=0;X<O.length;X++){var J=O[X],re=O[X+1],ie=o.getItemModel(J);if(g==="horizontal"){var le=ie.get(["itemStyle","width"]);le==null?le=W:(le=it(le,v),c==="ascending"&&(le=-le));var pe=U(J,w),ce=U(re,w+le);w+=le+N,o.setItemLayout(J,{points:pe.concat(ce.slice().reverse())})}else{var ye=ie.get(["itemStyle","height"]);ye==null?ye=W:(ye=it(ye,x),c==="ascending"&&(ye=-ye));var pe=U(J,S),ce=U(re,S+ye);S+=ye+N,o.setItemLayout(J,{points:pe.concat(ce.slice().reverse())})}}pIe(o)})}function gIe(a){a.registerChartView(dIe),a.registerSeriesModel(fIe),a.registerLayout(mIe),a.registerProcessor(Vm("funnel"))}var vIe=.3,yIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new _t,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,o,l,c){this._progressiveEls=null;var f=this._dataGroup,p=r.getData(),g=this._data,v=r.coordinateSystem,x=v.dimensions,O=wZ(r);p.diff(g).add(w).update(S).remove(k).execute();function w(E){var M=bZ(p,f,E,x,v);g5(M,p,E,O)}function S(E,M){var R=g.getItemGraphicEl(M),N=OZ(p,E,x,v);p.setItemGraphicEl(E,R),pn(R,{shape:{points:N}},r,E),Fo(R),g5(R,p,E,O)}function k(E){var M=g.getItemGraphicEl(E);f.remove(M)}if(!this._initialized){this._initialized=!0;var P=xIe(v,r,function(){setTimeout(function(){f.removeClipPath()})});f.setClipPath(P)}this._data=p},n.prototype.incrementalPrepareRender=function(r,o,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,o,l){for(var c=o.getData(),f=o.coordinateSystem,p=f.dimensions,g=wZ(o),v=this._progressiveEls=[],x=r.start;x<r.end;x++){var O=bZ(c,this._dataGroup,x,p,f);O.incremental=!0,g5(O,c,x,g),v.push(O)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n})(Dn);function xIe(a,n,r){var o=a.model,l=a.getRect(),c=new Zt({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),f=o.get("layout")==="horizontal"?"width":"height";return c.setShape(f,0),Jn(c,{shape:{width:l.width,height:l.height}},n,r),c}function OZ(a,n,r,o){for(var l=[],c=0;c<r.length;c++){var f=r[c],p=a.get(a.mapDimension(f),n);_Ie(p,o.getAxis(f).type)||l.push(o.dataToPoint(p,f))}return l}function bZ(a,n,r,o,l){var c=OZ(a,r,o,l),f=new Ei({shape:{points:c},z2:10});return n.add(f),a.setItemGraphicEl(r,f),f}function wZ(a){var n=a.get("smooth",!0);return n===!0&&(n=vIe),n=pl(n),qe(n)&&(n=0),{smooth:n}}function g5(a,n,r,o){a.useStyle(n.getItemVisual(r,"style")),a.style.fill=null,a.setShape("smooth",o.smooth);var l=n.getItemModel(r),c=l.getModel("emphasis");Kr(a,l,"lineStyle"),ar(a,c.get("focus"),c.get("blurScope"),c.get("disabled"))}function _Ie(a,n){return n==="category"?a==null:a==null||isNaN(a)}var OIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,o){return Tl(null,this,{useEncodeDefaulter:Ee(bIe,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var o=this.coordinateSystem,l=this.getData(),c=[];return o.eachActiveState(l,function(f,p){r===f&&c.push(l.getRawIndex(p))}),c},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n})(Bn);function bIe(a){var n=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(n){var r={};return Z(n.dimensions,function(o){var l=wIe(o);r[o]=l}),r}}function wIe(a){return+a.replace("dim","")}var SIe=["lineStyle","opacity"],TIe={seriesType:"parallel",reset:function(a,n){var r=a.coordinateSystem,o={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(l,c){r.eachActiveState(c,function(f,p){var g=o[f];if(f==="normal"&&c.hasItemOption){var v=c.getItemModel(p).get(SIe,!0);v!=null&&(g=v)}var x=c.ensureUniqueItemVisual(p,"style");x.opacity=g},l.start,l.end)}}}};function CIe(a){kIe(a),AIe(a)}function kIe(a){if(!a.parallel){var n=!1;Z(a.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(a.parallel=[{}])}}function AIe(a){var n=Vn(a.parallelAxis);Z(n,function(r){if(Ze(r)){var o=r.parallelIndex||0,l=Vn(a.parallel)[o];l&&l.parallelAxisDefault&&me(r,l.parallelAxisDefault,!1)}})}var PIe=5,EIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){this._model=r,this._api=l,this._handlers||(this._handlers={},Z(MIe,function(c,f){l.getZr().on(f,this._handlers[f]=Ee(c,this))},this)),Tm(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,o){W0(this,"_throttledDispatchExpand"),Z(this._handlers,function(l,c){o.getZr().off(c,l)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(ee({type:"parallelAxisExpand"},r))},n.type="parallel",n})(Gn),MIe={mousedown:function(a){v5(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var n=this._mouseDownPoint;if(v5(this,"click")&&n){var r=[a.offsetX,a.offsetY],o=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if(o>PIe)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);l.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!v5(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),o=r.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function v5(a,n){var r=a._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}var DIe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var o=this.option;r&&me(o,r,!0),this._initDimensions()},n.prototype.contains=function(r,o){var l=r.get("parallelIndex");return l!=null&&o.getComponent("parallel",l)===this},n.prototype.setAxisExpand=function(r){Z(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){r.hasOwnProperty(o)&&(this.option[o]=r[o])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],o=this.parallelAxisIndex=[],l=Qe(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(c){return(c.get("parallelIndex")||0)===this.componentIndex},this);Z(l,function(c){r.push("dim"+c.get("dim")),o.push(c.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n})(Ht),IIe=(function(a){u(n,a);function n(r,o,l,c,f){var p=a.call(this,r,o,l)||this;return p.type=c||"value",p.axisIndex=f,p}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n})(Ho);function nd(a,n,r,o,l,c){a=a||0;var f=r[1]-r[0];if(l!=null&&(l=Ym(l,[0,f])),c!=null&&(c=Math.max(c,l??0)),o==="all"){var p=Math.abs(n[1]-n[0]);p=Ym(p,[0,f]),l=c=Ym(p,[l,c]),o=0}n[0]=Ym(n[0],r),n[1]=Ym(n[1],r);var g=y5(n,o);n[o]+=a;var v=l||0,x=r.slice();g.sign<0?x[0]+=v:x[1]-=v,n[o]=Ym(n[o],x);var O;return O=y5(n,o),l!=null&&(O.sign!==g.sign||O.span<l)&&(n[1-o]=n[o]+g.sign*l),O=y5(n,o),c!=null&&O.span>c&&(n[1-o]=n[o]+O.sign*c),n}function y5(a,n){var r=a[n]-a[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function Ym(a,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,a))}var x5=Z,SZ=Math.min,TZ=Math.max,CZ=Math.floor,RIe=Math.ceil,kZ=Lr,LIe=Math.PI,NIe=(function(){function a(n,r,o){this.type="parallel",this._axesMap=Xe(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,o)}return a.prototype._init=function(n,r,o){var l=n.dimensions,c=n.parallelAxisIndex;x5(l,function(f,p){var g=c[p],v=r.getComponent("parallelAxis",g),x=this._axesMap.set(f,new IIe(f,ry(v),[0,0],v.get("type"),g)),O=x.type==="category";x.onBand=O&&v.get("boundaryGap"),x.inverse=v.get("inverse"),v.axis=x,x.model=v,x.coordinateSystem=v.coordinateSystem=this},this)},a.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},a.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),o=r.axisBase,l=r.layoutBase,c=r.pixelDimIndex,f=n[1-c],p=n[c];return f>=o&&f<=o+r.axisLength&&p>=l&&p<=l+r.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function(o){if(n.contains(o,r)){var l=o.getData();x5(this.dimensions,function(c){var f=this._axesMap.get(c);f.scale.unionExtentFromData(l,l.mapDimension(c)),nh(f.scale,f.model)},this)}},this)},a.prototype.resize=function(n,r){var o=ei(n,r).refContainer;this._rect=rr(n.getBoxLayoutParams(),o),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,o=["x","y"],l=["width","height"],c=n.get("layout"),f=c==="horizontal"?0:1,p=r[l[f]],g=[0,p],v=this.dimensions.length,x=K2(n.get("axisExpandWidth"),g),O=K2(n.get("axisExpandCount")||0,[0,v]),w=n.get("axisExpandable")&&v>3&&v>O&&O>1&&x>0&&p>0,S=n.get("axisExpandWindow"),k;if(S)k=K2(S[1]-S[0],g),S[1]=S[0]+k;else{k=K2(x*(O-1),g);var P=n.get("axisExpandCenter")||CZ(v/2);S=[x*P-k/2],S[1]=S[0]+k}var E=(p-k)/(v-O);E<3&&(E=0);var M=[CZ(kZ(S[0]/x,1))+1,RIe(kZ(S[1]/x,1))-1],R=E/x*S[0];return{layout:c,pixelDimIndex:f,layoutBase:r[o[f]],layoutLength:p,axisBase:r[o[1-f]],axisLength:r[l[1-f]],axisExpandable:w,axisExpandWidth:x,axisCollapseWidth:E,axisExpandWindow:S,axisCount:v,winInnerIndices:M,axisExpandWindow0Pos:R}},a.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,o=this.dimensions,l=this._makeLayoutInfo(),c=l.layout;r.each(function(f){var p=[0,l.axisLength],g=f.inverse?1:0;f.setExtent(p[g],p[1-g])}),x5(o,function(f,p){var g=(l.axisExpandable?zIe:$Ie)(p,l),v={horizontal:{x:g.position,y:l.axisLength},vertical:{x:0,y:g.position}},x={horizontal:LIe/2,vertical:0},O=[v[c].x+n.x,v[c].y+n.y],w=x[c],S=Ir();Ss(S,S,w),$a(S,S,O),this._axesLayout[f]={position:O,rotation:w,transform:S,axisNameAvailableWidth:g.axisNameAvailableWidth,axisLabelShow:g.axisLabelShow,nameTruncateMaxWidth:g.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(n){return this._axesMap.get(n)},a.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},a.prototype.eachActiveState=function(n,r,o,l){o==null&&(o=0),l==null&&(l=n.count());var c=this._axesMap,f=this.dimensions,p=[],g=[];Z(f,function(E){p.push(n.mapDimension(E)),g.push(c.get(E).model)});for(var v=this.hasAxisBrushed(),x=o;x<l;x++){var O=void 0;if(!v)O="normal";else{O="active";for(var w=n.getValues(p,x),S=0,k=f.length;S<k;S++){var P=g[S].getActiveState(w[S]);if(P==="inactive"){O="inactive";break}}}r(O,x)}},a.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,o=!1,l=0,c=n.length;l<c;l++)r.get(n[l]).model.getActiveState()!=="normal"&&(o=!0);return o},a.prototype.axisCoordToPoint=function(n,r){var o=this._axesLayout[r];return Ms([n,0],o.transform)},a.prototype.getAxisLayout=function(n){return ne(this._axesLayout[n])},a.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),o=r.pixelDimIndex,l=r.axisExpandWindow.slice(),c=l[1]-l[0],f=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:l};var p=n[o]-r.layoutBase-r.axisExpandWindow0Pos,g,v="slide",x=r.axisCollapseWidth,O=this._model.get("axisExpandSlideTriggerArea"),w=O[0]!=null;if(x)w&&x&&p<c*O[0]?(v="jump",g=p-c*O[2]):w&&x&&p>c*(1-O[0])?(v="jump",g=p-c*(1-O[2])):(g=p-c*O[1])>=0&&(g=p-c*(1-O[1]))<=0&&(g=0),g*=r.axisExpandWidth/x,g?nd(g,l,f,"all"):v="none";else{var S=l[1]-l[0],k=f[1]*p/S;l=[TZ(0,k-S/2)],l[1]=SZ(f[1],l[0]+S),l[0]=l[1]-S}return{axisExpandWindow:l,behavior:v}},a})();function K2(a,n){return SZ(TZ(a,n[0]),n[1])}function $Ie(a,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*a,axisNameAvailableWidth:r,axisLabelShow:!0}}function zIe(a,n){var r=n.layoutLength,o=n.axisExpandWidth,l=n.axisCount,c=n.axisCollapseWidth,f=n.winInnerIndices,p,g=c,v=!1,x;return a<f[0]?(p=a*c,x=c):a<=f[1]?(p=n.axisExpandWindow0Pos+a*o-n.axisExpandWindow[0],g=o,v=!0):(p=r-(l-1-a)*c,x=c),{position:p,axisNameAvailableWidth:g,axisLabelShow:v,nameTruncateMaxWidth:x}}function BIe(a,n){var r=[];return a.eachComponent("parallel",function(o,l){var c=new NIe(o,a,n);c.name="parallel_"+l,c.resize(o,n),o.coordinateSystem=c,c.model=o,r.push(c)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var l=o.getReferringComponents("parallel",br).models[0];o.coordinateSystem=l.coordinateSystem}}),r}var QIe={create:BIe},_5=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return Of([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var o=this.activeIntervals=ne(r);if(o)for(var l=o.length-1;l>=0;l--)go(o[l])},n.prototype.getActiveState=function(r){var o=this.activeIntervals;if(!o.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(o.length===1){var l=o[0];if(l[0]<=r&&r<=l[1])return"active"}else for(var c=0,f=o.length;c<f;c++)if(o[c][0]<=r&&r<=o[c][1])return"active";return"inactive"},n})(Ht);we(_5,Bm);var yh=!0,Ly=Math.min,Km=Math.max,jIe=Math.pow,VIe=1e4,FIe=6,GIe=6,AZ="globalPan",WIe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},UIe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},PZ={brushStyle:{lineWidth:2,stroke:Ie.color.backgroundTint,fill:Ie.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},qIe=0,O5=(function(a){u(n,a);function n(r){var o=a.call(this)||this;return o._track=[],o._covers=[],o._handlers={},Ke(r),o._zr=r,o.group=new _t,o._uid="brushController_"+qIe++,Z(e5e,function(l,c){this._handlers[c]=Ee(l,this)},o),o}return n.prototype.enableBrush=function(r){return Ke(this._mounted),this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var o=this._zr;this._enableGlobalPan||EEe(o,AZ,this._uid),Z(this._handlers,function(l,c){o.on(c,l)}),this._brushType=r.brushType,this._brushOption=me(ne(PZ),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;MEe(r,AZ,this._uid),Z(this._handlers,function(o,l){r.off(l,o)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var o=this._panels={};Z(r,function(l){o[l.panelId]=ne(l)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._mounted=!0,this._enableGlobalPan=r.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=o.getLocalTransform(),this},n.prototype.updateCovers=function(r){Ke(this._mounted),r=ve(r,function(w){return me(ne(PZ),w,!0)});var o="\0-brush-index-",l=this._covers,c=this._covers=[],f=this,p=this._creatingCover;return new $u(l,r,v,g).add(x).update(x).remove(O).execute(),this;function g(w,S){return(w.id!=null?w.id:o+S)+"-"+w.brushType}function v(w,S){return g(w.__brushOption,S)}function x(w,S){var k=r[w];if(S!=null&&l[S]===p)c[w]=l[S];else{var P=c[w]=S!=null?(l[S].__brushOption=k,l[S]):MZ(f,EZ(f,k));b5(f,P)}}function O(w){l[w]!==p&&f.group.remove(l[w])}},n.prototype.unmount=function(){if(this._mounted)return this.enableBrush(!1),T5(this),this._zr.remove(this.group),this._mounted=!1,this},n.prototype.dispose=function(){this.unmount(),this.off()},n})(La);function EZ(a,n){var r=J2[n.brushType].createCover(a,n);return r.__brushOption=n,IZ(r,n),a.group.add(r),r}function MZ(a,n){var r=w5(n);return r.endCreating&&(r.endCreating(a,n),IZ(n,n.__brushOption)),n}function DZ(a,n){var r=n.__brushOption;w5(n).updateCoverShape(a,n,r.range,r)}function IZ(a,n){var r=n.z;r==null&&(r=VIe),a.traverse(function(o){o.z=r,o.z2=r})}function b5(a,n){w5(n).updateCommon(a,n),DZ(a,n)}function w5(a){return J2[a.__brushOption.brushType]}function S5(a,n,r){var o=a._panels;if(!o)return yh;var l,c=a._transform;return Z(o,function(f){f.isTargetByCursor(n,r,c)&&(l=f)}),l}function RZ(a,n){var r=a._panels;if(!r)return yh;var o=n.__brushOption.panelId;return o!=null?r[o]:yh}function T5(a){var n=a._covers,r=n.length;return Z(n,function(o){a.group.remove(o)},a),n.length=0,!!r}function xh(a,n){var r=ve(a._covers,function(o){var l=o.__brushOption,c=ne(l.range);return{brushType:l.brushType,panelId:l.panelId,range:c}});a.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function ZIe(a){var n=a._track;if(!n.length)return!1;var r=n[n.length-1],o=n[0],l=r[0]-o[0],c=r[1]-o[1],f=jIe(l*l+c*c,.5);return f>FIe}function LZ(a){var n=a.length-1;return n<0&&(n=0),[a[0],a[n]]}function NZ(a,n,r,o){var l=new _t;return l.add(new Zt({name:"main",style:k5(r),silent:!0,draggable:!0,cursor:"move",drift:Ue(BZ,a,n,l,["n","s","w","e"]),ondragend:Ue(xh,n,{isEnd:!0})})),Z(o,function(c){l.add(new Zt({name:c.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Ue(BZ,a,n,l,c),ondragend:Ue(xh,n,{isEnd:!0})}))}),l}function $Z(a,n,r,o){var l=o.brushStyle.lineWidth||0,c=Km(l,GIe),f=r[0][0],p=r[1][0],g=f-l/2,v=p-l/2,x=r[0][1],O=r[1][1],w=x-c+l/2,S=O-c+l/2,k=x-f,P=O-p,E=k+l,M=P+l;Vu(a,n,"main",f,p,k,P),o.transformable&&(Vu(a,n,"w",g,v,c,M),Vu(a,n,"e",w,v,c,M),Vu(a,n,"n",g,v,E,c),Vu(a,n,"s",g,S,E,c),Vu(a,n,"nw",g,v,c,c),Vu(a,n,"ne",w,v,c,c),Vu(a,n,"sw",g,S,c,c),Vu(a,n,"se",w,S,c,c))}function C5(a,n){var r=n.__brushOption,o=r.transformable,l=n.childAt(0);l.useStyle(k5(r)),l.attr({silent:!o,cursor:o?"move":"default"}),Z([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(c){var f=n.childOfName(c.join("")),p=c.length===1?A5(a,c[0]):XIe(a,c);f&&f.attr({silent:!o,invisible:!o,cursor:o?UIe[p]+"-resize":null})})}function Vu(a,n,r,o,l,c,f){var p=n.childOfName(r);p&&p.setShape(KIe(P5(a,n,[[o,l],[o+c,l+f]])))}function k5(a){return be({strokeNoScale:!0},a.brushStyle)}function zZ(a,n,r,o){var l=[Ly(a,r),Ly(n,o)],c=[Km(a,r),Km(n,o)];return[[l[0],c[0]],[l[1],c[1]]]}function HIe(a){return Vc(a.group)}function A5(a,n){var r={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},l=gb(r[n],HIe(a));return o[l]}function XIe(a,n){var r=[A5(a,n[0]),A5(a,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function BZ(a,n,r,o,l,c){var f=r.__brushOption,p=a.toRectRange(f.range),g=QZ(n,l,c);Z(o,function(v){var x=WIe[v];p[x[0]][x[1]]+=g[x[0]]}),f.range=a.fromRectRange(zZ(p[0][0],p[1][0],p[0][1],p[1][1])),b5(n,r),xh(n,{isEnd:!1})}function YIe(a,n,r,o){var l=n.__brushOption.range,c=QZ(a,r,o);Z(l,function(f){f[0]+=c[0],f[1]+=c[1]}),b5(a,n),xh(a,{isEnd:!1})}function QZ(a,n,r){var o=a.group,l=o.transformCoordToLocal(n,r),c=o.transformCoordToLocal(0,0);return[l[0]-c[0],l[1]-c[1]]}function P5(a,n,r){var o=RZ(a,n);return o&&o!==yh?o.clipPath(r,a._transform):ne(r)}function KIe(a){var n=Ly(a[0][0],a[1][0]),r=Ly(a[0][1],a[1][1]),o=Km(a[0][0],a[1][0]),l=Km(a[0][1],a[1][1]);return{x:n,y:r,width:o-n,height:l-r}}function JIe(a,n,r){if(!(!a._brushType||t5e(a,n.offsetX,n.offsetY))){var o=a._zr,l=a._covers,c=S5(a,n,r);if(!a._dragging)for(var f=0;f<l.length;f++){var p=l[f].__brushOption;if(c&&(c===yh||p.panelId===c.panelId)&&J2[p.brushType].contain(l[f],r[0],r[1]))return}c&&o.setCursorStyle("crosshair")}}function E5(a){var n=a.event;n.preventDefault&&n.preventDefault()}function M5(a,n,r){return a.childOfName("main").contain(n,r)}function jZ(a,n,r,o){var l=a._creatingCover,c=a._creatingPanel,f=a._brushOption,p;if(a._track.push(r.slice()),ZIe(a)||l){if(c&&!l){f.brushMode==="single"&&T5(a);var g=ne(f);g.brushType=VZ(g.brushType,c),g.panelId=c===yh?null:c.panelId,l=a._creatingCover=EZ(a,g),a._covers.push(l)}if(l){var v=J2[VZ(a._brushType,c)],x=l.__brushOption;x.range=v.getCreatingRange(P5(a,l,a._track)),o&&(MZ(a,l),v.updateCommon(a,l)),DZ(a,l),p={isEnd:o}}}else o&&f.brushMode==="single"&&f.removeOnClick&&S5(a,n,r)&&T5(a)&&(p={isEnd:o,removeOnClick:!0});return p}function VZ(a,n){return a==="auto"?(Ke(n&&n.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),n.defaultBrushType):a}var e5e={mousedown:function(a){if(this._dragging)FZ(this,a);else if(!a.target||!a.target.draggable){E5(a);var n=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var r=this._creatingPanel=S5(this,a,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(a){var n=a.offsetX,r=a.offsetY,o=this.group.transformCoordToLocal(n,r);if(JIe(this,a,o),this._dragging){E5(a);var l=jZ(this,a,o,!1);l&&xh(this,l)}},mouseup:function(a){FZ(this,a)}};function FZ(a,n){if(a._dragging){E5(n);var r=n.offsetX,o=n.offsetY,l=a.group.transformCoordToLocal(r,o),c=jZ(a,n,l,!0);a._dragging=!1,a._track=[],a._creatingCover=null,c&&xh(a,c)}}function t5e(a,n,r){var o=a._zr;return n<0||n>o.getWidth()||r<0||r>o.getHeight()}var J2={lineX:GZ(0),lineY:GZ(1),rect:{createCover:function(a,n){function r(o){return o}return NZ({toRectRange:r,fromRectRange:r},a,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var n=LZ(a);return zZ(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(a,n,r,o){$Z(a,n,r,o)},updateCommon:C5,contain:M5},polygon:{createCover:function(a,n){var r=new _t;return r.add(new Ei({name:"main",style:k5(n),silent:!0})),r},getCreatingRange:function(a){return a},endCreating:function(a,n){n.remove(n.childAt(0)),n.add(new Fi({name:"main",draggable:!0,drift:Ue(YIe,a,n),ondragend:Ue(xh,a,{isEnd:!0})}))},updateCoverShape:function(a,n,r,o){n.childAt(0).setShape({points:P5(a,n,r)})},updateCommon:C5,contain:M5}};function GZ(a){return{createCover:function(n,r){return NZ({toRectRange:function(o){var l=[o,[0,100]];return a&&l.reverse(),l},fromRectRange:function(o){return o[a]}},n,r,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(n){var r=LZ(n),o=Ly(r[0][a],r[1][a]),l=Km(r[0][a],r[1][a]);return[o,l]},updateCoverShape:function(n,r,o,l){var c,f=RZ(n,r);if(f!==yh&&f.getLinearBrushOtherExtent)c=f.getLinearBrushOtherExtent(a);else{var p=n._zr;c=[0,[p.getWidth(),p.getHeight()][1-a]]}var g=[o,c];a&&g.reverse(),$Z(n,r,g,l)},updateCommon:C5,contain:M5}}function WZ(a){return a=D5(a),function(n){return HE(n,a)}}function UZ(a,n){return a=D5(a),function(r){var o=n??r,l=o?a.width:a.height,c=o?a.x:a.y;return[c,c+(l||0)]}}function qZ(a,n,r){var o=D5(a);return function(l,c){return o.contain(c[0],c[1])&&!WU(l,n,r)}}function D5(a){return wt.create(a)}var n5e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){a.prototype.init.apply(this,arguments),(this._brushController=new O5(o.getZr())).on("brush",Ee(this._onBrush,this))},n.prototype.render=function(r,o,l,c){if(!r5e(r,o,c)){this.axisModel=r,this.api=l,this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new _t,this.group.add(this._axisGroup),!!r.get("show")){var p=a5e(r,o),g=p.coordinateSystem,v=r.getAreaSelectStyle(),x=v.width,O=r.axis.dim,w=g.getAxisLayout(O),S=ee({strokeContainThreshold:x},w),k=new ba(r,l,S);k.build(),this._axisGroup.add(k.group),this._refreshBrushController(S,v,r,p,x,l),E0(f,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,o,l,c,f,p){var g=l.axis.getExtent(),v=g[1]-g[0],x=Math.min(30,Math.abs(v)*.1),O=wt.create({x:g[0],y:-f/2,width:v,height:f});O.x-=x,O.width+=2*x,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:WZ(O),isTargetByCursor:qZ(O,p,c),getLinearBrushOtherExtent:UZ(O,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(i5e(l))},n.prototype._onBrush=function(r){var o=r.areas,l=this.axisModel,c=l.axis,f=ve(o,function(p){return[c.coordToData(p.range[0],!0),c.coordToData(p.range[1],!0)]});(!l.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:f})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n})(Gn);function r5e(a,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===a}function i5e(a){var n=a.axis;return ve(a.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function a5e(a,n){return n.getComponent("parallel",a.get("parallelIndex"))}var o5e={type:"axisAreaSelect",event:"axisAreaSelected"};function s5e(a){a.registerAction(o5e,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function(o){o.axis.model.setActiveIntervals(n.intervals)})}),a.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function(o){o.setAxisExpand(n)})})}var l5e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function ZZ(a){a.registerComponentView(EIe),a.registerComponentModel(DIe),a.registerCoordinateSystem("parallel",QIe),a.registerPreprocessor(CIe),a.registerComponentModel(_5),a.registerComponentView(n5e),Wm(a,"parallel",_5,l5e),s5e(a)}function u5e(a){Gt(ZZ),a.registerChartView(yIe),a.registerSeriesModel(OIe),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,TIe)}var c5e=(function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return a})(),d5e=(function(a){u(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new c5e},n.prototype.buildPath=function(r,o){var l=o.extent;r.moveTo(o.x1,o.y1),r.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(r.lineTo(o.x2+l,o.y2),r.bezierCurveTo(o.cpx2+l,o.cpy2,o.cpx1+l,o.cpy1,o.x1+l,o.y1)):(r.lineTo(o.x2,o.y2+l),r.bezierCurveTo(o.cpx2,o.cpy2+l,o.cpx1,o.cpy1+l,o.x1,o.y1+l)),r.closePath()},n.prototype.highlight=function(){Eu(this)},n.prototype.downplay=function(){Mu(this)},n})(Jt),f5e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new _t,r._focusAdjacencyDisabled=!1,r}return n.prototype.init=function(r,o){this._controller=new dh(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,o,l){var c=this,f=r.getGraph(),p=this._mainGroup,g=r.layoutInfo,v=g.width,x=g.height,O=r.getData(),w=r.getData("edge"),S=r.get("orient");this._model=r,p.removeAll(),p.x=g.x,p.y=g.y,this._updateViewCoordSys(r,l),qU(r,l,p,this._controller,this._controllerHost,null),f.eachEdge(function(k){var P=new d5e,E=Et(P);E.dataIndex=k.dataIndex,E.seriesIndex=r.seriesIndex,E.dataType="edge";var M=k.getModel(),R=M.getModel("lineStyle"),N=R.get("curveness"),j=k.node1.getLayout(),W=k.node1.getModel(),U=W.get("localX"),X=W.get("localY"),J=k.node2.getLayout(),re=k.node2.getModel(),ie=re.get("localX"),le=re.get("localY"),pe=k.getLayout(),ce,ye,Oe,_e,Pe,Se,Re,Ne;P.shape.extent=Math.max(1,pe.dy),P.shape.orient=S,S==="vertical"?(ce=(U!=null?U*v:j.x)+pe.sy,ye=(X!=null?X*x:j.y)+j.dy,Oe=(ie!=null?ie*v:J.x)+pe.ty,_e=le!=null?le*x:J.y,Pe=ce,Se=ye*(1-N)+_e*N,Re=Oe,Ne=ye*N+_e*(1-N)):(ce=(U!=null?U*v:j.x)+j.dx,ye=(X!=null?X*x:j.y)+pe.sy,Oe=ie!=null?ie*v:J.x,_e=(le!=null?le*x:J.y)+pe.ty,Pe=ce*(1-N)+Oe*N,Se=ye,Re=ce*N+Oe*(1-N),Ne=_e),P.setShape({x1:ce,y1:ye,x2:Oe,y2:_e,cpx1:Pe,cpy1:Se,cpx2:Re,cpy2:Ne}),P.useStyle(R.getItemStyle()),HZ(P.style,S,k);var Be=""+M.get("value"),Fe=Jr(M,"edgeLabel");hi(P,Fe,{labelFetcher:{getFormattedLabel:function(Mt,vn,Rn,Dt,Ot,Ft){return r.getFormattedLabel(Mt,vn,"edge",Dt,zt(Ot,Fe.normal&&Fe.normal.get("formatter"),Be),Ft)}},labelDataIndex:k.dataIndex,defaultText:Be}),P.setTextConfig({position:"inside"});var rt=M.getModel("emphasis");Kr(P,M,"lineStyle",function(Mt){var vn=Mt.getItemStyle();return HZ(vn,S,k),vn}),p.add(P),w.setItemGraphicEl(k.dataIndex,P);var ht=rt.get("focus");ar(P,ht==="adjacency"?k.getAdjacentDataIndices():ht==="trajectory"?k.getTrajectoryDataIndices():ht,rt.get("blurScope"),rt.get("disabled"))}),f.eachNode(function(k){var P=k.getLayout(),E=k.getModel(),M=E.get("localX"),R=E.get("localY"),N=E.getModel("emphasis"),j=E.get(["itemStyle","borderRadius"])||0,W=new Zt({shape:{x:M!=null?M*v:P.x,y:R!=null?R*x:P.y,width:P.dx,height:P.dy,r:j},style:E.getModel("itemStyle").getItemStyle(),z2:10});hi(W,Jr(E),{labelFetcher:{getFormattedLabel:function(X,J){return r.getFormattedLabel(X,J,"node")}},labelDataIndex:k.dataIndex,defaultText:k.id}),W.disableLabelAnimation=!0,W.setStyle("fill",k.getVisual("color")),W.setStyle("decal",k.getVisual("style").decal),Kr(W,E),p.add(W),O.setItemGraphicEl(k.dataIndex,W),Et(W).dataType="node";var U=N.get("focus");ar(W,U==="adjacency"?k.getAdjacentDataIndices():U==="trajectory"?k.getTrajectoryDataIndices():U,N.get("blurScope"),N.get("disabled"))}),O.eachItemGraphicEl(function(k,P){var E=O.getItemModel(P);E.get("draggable")&&(k.drift=function(M,R){c._focusAdjacencyDisabled=!0,this.shape.x+=M,this.shape.y+=R,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:O.getRawIndex(P),localX:this.shape.x/v,localY:this.shape.y/x})},k.ondragend=function(){c._focusAdjacencyDisabled=!1},k.draggable=!0,k.cursor="move")}),!this._data&&r.isAnimationEnabled()&&p.setClipPath(h5e(p.getBoundingRect(),r,function(){p.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._updateViewCoordSys=function(r,o){var l=r.layoutInfo,c=l.width,f=l.height,p=r.coordinateSystem=new ph(null,{api:o,ecModel:r.ecModel});p.zoomLimit=r.get("scaleLimit"),p.setBoundingRect(0,0,c,f),p.setCenter(r.get("center")),p.setZoom(r.get("zoom")),this._controllerHost.target.attr({x:p.x,y:p.y,scaleX:p.scaleX,scaleY:p.scaleY})},n.type="sankey",n})(Dn);function HZ(a,n,r){switch(a.fill){case"source":a.fill=r.node1.getVisual("color"),a.decal=r.node1.getVisual("style").decal;break;case"target":a.fill=r.node2.getVisual("color"),a.decal=r.node2.getVisual("style").decal;break;case"gradient":var o=r.node1.getVisual("color"),l=r.node2.getVisual("color");De(o)&&De(l)&&(a.fill=new If(0,0,+(n==="horizontal"),+(n==="vertical"),[{color:o,offset:0},{color:l,offset:1}]))}}function h5e(a,n,r){var o=new Zt({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return Jn(o,{shape:{width:a.width+20}},n,r),o}var p5e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,o){var l=r.edges||r.links||[],c=r.data||r.nodes||[],f=r.levels||[];this.levelModels=[];for(var p=this.levelModels,g=0;g<f.length;g++)if(f[g].depth!=null&&f[g].depth>=0)p[f[g].depth]=new en(f[g],this,o);else throw new Error("levels[i].depth is mandatory and should be natural number");var v=p5(c,l,this,!0,x);return v.data;function x(O,w){O.wrapMethod("getItemModel",function(S,k){var P=S.parentModel,E=P.getData().getItemLayout(k);if(E){var M=E.depth,R=P.levelModels[M];R&&(S.parentModel=R)}return S}),w.wrapMethod("getItemModel",function(S,k){var P=S.parentModel,E=P.getGraph().getEdgeByIndex(k),M=E.node1.getLayout();if(M){var R=M.depth,N=P.levelModels[R];N&&(S.parentModel=N)}return S})}},n.prototype.setNodePosition=function(r,o){var l=this.option.data||this.option.nodes,c=l[r];c.localX=o[0],c.localY=o[1]},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,o,l){function c(S){return isNaN(S)||S==null}if(l==="edge"){var f=this.getDataParams(r,l),p=f.data,g=f.value,v=p.source+" -- "+p.target;return qr("nameValue",{name:v,value:g,noValue:c(g)})}else{var x=this.getGraph().getNodeByIndex(r),O=x.getLayout().value,w=this.getDataParams(r,l).data.name;return qr("nameValue",{name:w!=null?w+"":null,value:O,noValue:c(O)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,o){var l=a.prototype.getDataParams.call(this,r,o);if(l.value==null&&o==="node"){var c=this.getGraph().getNodeByIndex(r),f=c.getLayout().value;l.value=f}return l},n.type="series.sankey",n.layoutMode="box",n.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:Ie.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:Ie.color.primary}},animationEasing:"linear",animationDuration:1e3},n})(Bn);function m5e(a,n){a.eachSeriesByType("sankey",function(r){var o=r.get("nodeWidth"),l=r.get("nodeGap"),c=ei(r,n).refContainer,f=rr(r.getBoxLayoutParams(),c);r.layoutInfo=f;var p=f.width,g=f.height,v=r.getGraph(),x=v.nodes,O=v.edges;v5e(x);var w=Qe(x,function(E){return E.getLayout().value===0}),S=w.length!==0?0:r.get("layoutIterations"),k=r.get("orient"),P=r.get("nodeAlign");g5e(x,O,o,l,p,g,S,k,P)})}function g5e(a,n,r,o,l,c,f,p,g){y5e(a,n,r,l,c,p,g),b5e(a,n,c,l,o,f,p),M5e(a,p)}function v5e(a){Z(a,function(n){var r=id(n.outEdges,ew),o=id(n.inEdges,ew),l=n.getValue()||0,c=Math.max(r,o,l);n.setLayout({value:c},!0)})}function y5e(a,n,r,o,l,c,f){for(var p=[],g=[],v=[],x=[],O=0,w=0;w<n.length;w++)p[w]=1;for(var w=0;w<a.length;w++)g[w]=a[w].inEdges.length,g[w]===0&&v.push(a[w]);for(var S=-1;v.length;){for(var k=0;k<v.length;k++){var P=v[k],E=P.hostGraph.data.getRawDataItem(P.dataIndex),M=E.depth!=null&&E.depth>=0;M&&E.depth>S&&(S=E.depth),P.setLayout({depth:M?E.depth:O},!0),c==="vertical"?P.setLayout({dy:r},!0):P.setLayout({dx:r},!0);for(var R=0;R<P.outEdges.length;R++){var N=P.outEdges[R],j=n.indexOf(N);p[j]=0;var W=N.node2,U=a.indexOf(W);--g[U]===0&&x.indexOf(W)<0&&x.push(W)}}++O,v=x,x=[]}for(var w=0;w<p.length;w++)if(p[w]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var X=S>O-1?S:O-1;f&&f!=="left"&&x5e(a,f,c,X);var J=c==="vertical"?(l-r)/X:(o-r)/X;O5e(a,J,c)}function XZ(a){var n=a.hostGraph.data.getRawDataItem(a.dataIndex);return n.depth!=null&&n.depth>=0}function x5e(a,n,r,o){if(n==="right"){for(var l=[],c=a,f=0;c.length;){for(var p=0;p<c.length;p++){var g=c[p];g.setLayout({skNodeHeight:f},!0);for(var v=0;v<g.inEdges.length;v++){var x=g.inEdges[v];l.indexOf(x.node1)<0&&l.push(x.node1)}}c=l,l=[],++f}Z(a,function(O){XZ(O)||O.setLayout({depth:Math.max(0,o-O.getLayout().skNodeHeight)},!0)})}else n==="justify"&&_5e(a,o)}function _5e(a,n){Z(a,function(r){!XZ(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function O5e(a,n,r){Z(a,function(o){var l=o.getLayout().depth*n;r==="vertical"?o.setLayout({y:l},!0):o.setLayout({x:l},!0)})}function b5e(a,n,r,o,l,c,f){var p=w5e(a,f);S5e(p,n,r,o,l,f),I5(p,l,r,o,f);for(var g=1;c>0;c--)g*=.99,T5e(p,g,f),I5(p,l,r,o,f),E5e(p,g,f),I5(p,l,r,o,f)}function w5e(a,n){var r=[],o=n==="vertical"?"y":"x",l=aE(a,function(c){return c.getLayout()[o]});return l.keys.sort(function(c,f){return c-f}),Z(l.keys,function(c){r.push(l.buckets.get(c))}),r}function S5e(a,n,r,o,l,c){var f=1/0;Z(a,function(p){var g=p.length,v=0;Z(p,function(O){v+=O.getLayout().value});var x=c==="vertical"?(o-(g-1)*l)/v:(r-(g-1)*l)/v;x<f&&(f=x)}),Z(a,function(p){Z(p,function(g,v){var x=g.getLayout().value*f;c==="vertical"?(g.setLayout({x:v},!0),g.setLayout({dx:x},!0)):(g.setLayout({y:v},!0),g.setLayout({dy:x},!0))})}),Z(n,function(p){var g=+p.getValue()*f;p.setLayout({dy:g},!0)})}function I5(a,n,r,o,l){var c=l==="vertical"?"x":"y";Z(a,function(f){f.sort(function(P,E){return P.getLayout()[c]-E.getLayout()[c]});for(var p,g,v,x=0,O=f.length,w=l==="vertical"?"dx":"dy",S=0;S<O;S++)g=f[S],v=x-g.getLayout()[c],v>0&&(p=g.getLayout()[c]+v,l==="vertical"?g.setLayout({x:p},!0):g.setLayout({y:p},!0)),x=g.getLayout()[c]+g.getLayout()[w]+n;var k=l==="vertical"?o:r;if(v=x-n-k,v>0){p=g.getLayout()[c]-v,l==="vertical"?g.setLayout({x:p},!0):g.setLayout({y:p},!0),x=p;for(var S=O-2;S>=0;--S)g=f[S],v=g.getLayout()[c]+g.getLayout()[w]+n-x,v>0&&(p=g.getLayout()[c]-v,l==="vertical"?g.setLayout({x:p},!0):g.setLayout({y:p},!0)),x=g.getLayout()[c]}})}function T5e(a,n,r){Z(a.slice().reverse(),function(o){Z(o,function(l){if(l.outEdges.length){var c=id(l.outEdges,C5e,r)/id(l.outEdges,ew);if(isNaN(c)){var f=l.outEdges.length;c=f?id(l.outEdges,k5e,r)/f:0}if(r==="vertical"){var p=l.getLayout().x+(c-rd(l,r))*n;l.setLayout({x:p},!0)}else{var g=l.getLayout().y+(c-rd(l,r))*n;l.setLayout({y:g},!0)}}})})}function C5e(a,n){return rd(a.node2,n)*a.getValue()}function k5e(a,n){return rd(a.node2,n)}function A5e(a,n){return rd(a.node1,n)*a.getValue()}function P5e(a,n){return rd(a.node1,n)}function rd(a,n){return n==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function ew(a){return a.getValue()}function id(a,n,r){for(var o=0,l=a.length,c=-1;++c<l;){var f=+n(a[c],r);isNaN(f)||(o+=f)}return o}function E5e(a,n,r){Z(a,function(o){Z(o,function(l){if(l.inEdges.length){var c=id(l.inEdges,A5e,r)/id(l.inEdges,ew);if(isNaN(c)){var f=l.inEdges.length;c=f?id(l.inEdges,P5e,r)/f:0}if(r==="vertical"){var p=l.getLayout().x+(c-rd(l,r))*n;l.setLayout({x:p},!0)}else{var g=l.getLayout().y+(c-rd(l,r))*n;l.setLayout({y:g},!0)}}})})}function M5e(a,n){var r=n==="vertical"?"x":"y";Z(a,function(o){o.outEdges.sort(function(l,c){return l.node2.getLayout()[r]-c.node2.getLayout()[r]}),o.inEdges.sort(function(l,c){return l.node1.getLayout()[r]-c.node1.getLayout()[r]})}),Z(a,function(o){var l=0,c=0;Z(o.outEdges,function(f){f.setLayout({sy:l},!0),l+=f.getLayout().dy}),Z(o.inEdges,function(f){f.setLayout({ty:c},!0),c+=f.getLayout().dy})})}function D5e(a){a.eachSeriesByType("sankey",function(n){var r=n.getGraph(),o=r.nodes,l=r.edges;if(o.length){var c=1/0,f=-1/0;Z(o,function(p){var g=p.getLayout().value;g<c&&(c=g),g>f&&(f=g)}),Z(o,function(p){var g=new mi({type:"color",mappingMethod:"linear",dataExtent:[c,f],visual:n.get("color")}),v=g.mapValueToVisual(p.getLayout().value),x=p.getModel().get(["itemStyle","color"]);x!=null?(p.setVisual("color",x),p.setVisual("style",{fill:x})):(p.setVisual("color",v),p.setVisual("style",{fill:v}))})}l.length&&Z(l,function(p){var g=p.getModel().get("lineStyle");p.setVisual("style",g)})})}function I5e(a){a.registerChartView(f5e),a.registerSeriesModel(p5e),a.registerLayout(m5e),a.registerVisual(D5e),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function(o){o.setNodePosition(n.dataIndex,[n.localX,n.localY])})}),a.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(n,r,o){r.eachComponent({mainType:"series",subType:"sankey",query:n},function(l){var c=l.coordinateSystem,f=z2(c,n,l.get("scaleLimit"));l.setCenter(f.center),l.setZoom(f.zoom)})})}var YZ=(function(){function a(){}return a.prototype._hasEncodeRule=function(n){var r=this.getEncode();return r&&r.get(n)!=null},a.prototype.getInitialData=function(n,r){var o,l=r.getComponent("xAxis",this.get("xAxisIndex")),c=r.getComponent("yAxis",this.get("yAxisIndex")),f=l.get("type"),p=c.get("type"),g;f==="category"?(n.layout="horizontal",o=l.getOrdinalMeta(),g=!this._hasEncodeRule("x")):p==="category"?(n.layout="vertical",o=c.getOrdinalMeta(),g=!this._hasEncodeRule("y")):n.layout=n.layout||"horizontal";var v=["x","y"],x=n.layout==="horizontal"?0:1,O=this._baseAxisDim=v[x],w=v[1-x],S=[l,c],k=S[x].get("type"),P=S[1-x].get("type"),E=n.data;if(E&&g){var M=[];Z(E,function(j,W){var U;ke(j)?(U=j.slice(),j.unshift(W)):ke(j.value)?(U=ee({},j),U.value=U.value.slice(),j.value.unshift(W)):U=j,M.push(U)}),n.data=M}var R=this.defaultValueDimensions,N=[{name:O,type:a2(k),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:w,type:a2(P),dimsDef:R.slice()}];return Fm(this,{coordDimensions:N,dimensionsCount:R.length+1,encodeDefaulter:Ue(B7,N,this)})},a.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},a})(),KZ=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:Ie.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Ie.color.shadow}},animationDuration:800},n})(Bn);we(KZ,YZ,!0);var R5e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=r.getData(),f=this.group,p=this._data;this._data||f.removeAll();var g=r.get("layout")==="horizontal"?1:0;c.diff(p).add(function(v){if(c.hasValue(v)){var x=c.getItemLayout(v),O=JZ(x,c,v,g,!0);c.setItemGraphicEl(v,O),f.add(O)}}).update(function(v,x){var O=p.getItemGraphicEl(x);if(!c.hasValue(v)){f.remove(O);return}var w=c.getItemLayout(v);O?(Fo(O),eH(w,O,c,v)):O=JZ(w,c,v,g),f.add(O),c.setItemGraphicEl(v,O)}).remove(function(v){var x=p.getItemGraphicEl(v);x&&f.remove(x)}).execute(),this._data=c},n.prototype.remove=function(r){var o=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(c){c&&o.remove(c)})},n.type="boxplot",n})(Dn),L5e=(function(){function a(){}return a})(),N5e=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="boxplotBoxPath",o}return n.prototype.getDefaultShape=function(){return new L5e},n.prototype.buildPath=function(r,o){var l=o.points,c=0;for(r.moveTo(l[c][0],l[c][1]),c++;c<4;c++)r.lineTo(l[c][0],l[c][1]);for(r.closePath();c<l.length;c++)r.moveTo(l[c][0],l[c][1]),c++,r.lineTo(l[c][0],l[c][1])},n})(Jt);function JZ(a,n,r,o,l){var c=a.ends,f=new N5e({shape:{points:l?$5e(c,o,a):c}});return eH(a,f,n,r,l),f}function eH(a,n,r,o,l){var c=r.hostModel,f=zf[l?"initProps":"updateProps"];f(n,{shape:{points:a.ends}},c,o),n.useStyle(r.getItemVisual(o,"style")),n.style.strokeNoScale=!0,n.z2=100;var p=r.getItemModel(o),g=p.getModel("emphasis");Kr(n,p),ar(n,g.get("focus"),g.get("blurScope"),g.get("disabled"))}function $5e(a,n,r){return ve(a,function(o){return o=o.slice(),o[n]=r.initBaseline,o})}var Ny=Z;function z5e(a){var n=B5e(a);Ny(n,function(r){var o=r.seriesModels;o.length&&(Q5e(r),Ny(o,function(l,c){j5e(l,r.boxOffsetList[c],r.boxWidthList[c])}))})}function B5e(a){var n=[],r=[];return a.eachSeriesByType("boxplot",function(o){var l=o.getBaseAxis(),c=se(r,l);c<0&&(c=r.length,r[c]=l,n[c]={axis:l,seriesModels:[]}),n[c].seriesModels.push(o)}),n}function Q5e(a){var n=a.axis,r=a.seriesModels,o=r.length,l=a.boxWidthList=[],c=a.boxOffsetList=[],f=[],p;if(n.type==="category")p=n.getBandWidth();else{var g=0;Ny(r,function(k){g=Math.max(g,k.getData().count())});var v=n.getExtent();p=Math.abs(v[1]-v[0])/g}Ny(r,function(k){var P=k.get("boxWidth");ke(P)||(P=[P,P]),f.push([it(P[0],p)||0,it(P[1],p)||0])});var x=p*.8-2,O=x/o*.3,w=(x-O*(o-1))/o,S=w/2-x/2;Ny(r,function(k,P){c.push(S),S+=O+w,l.push(Math.min(Math.max(w,f[P][0]),f[P][1]))})}function j5e(a,n,r){var o=a.coordinateSystem,l=a.getData(),c=r/2,f=a.get("layout")==="horizontal"?0:1,p=1-f,g=["x","y"],v=l.mapDimension(g[f]),x=l.mapDimensionsAll(g[p]);if(v==null||x.length<5)return;for(var O=0;O<l.count();O++){var w=l.get(v,O),S=N(w,x[2],O),k=N(w,x[0],O),P=N(w,x[1],O),E=N(w,x[3],O),M=N(w,x[4],O),R=[];j(R,P,!1),j(R,E,!0),R.push(k,P,M,E),W(R,k),W(R,M),W(R,S),l.setItemLayout(O,{initBaseline:S[p],ends:R})}function N(U,X,J){var re=l.get(X,J),ie=[];ie[f]=U,ie[p]=re;var le;return isNaN(U)||isNaN(re)?le=[NaN,NaN]:(le=o.dataToPoint(ie),le[f]+=n),le}function j(U,X,J){var re=X.slice(),ie=X.slice();re[f]+=c,ie[f]-=c,J?U.push(re,ie):U.push(ie,re)}function W(U,X){var J=X.slice(),re=X.slice();J[f]-=c,re[f]+=c,U.push(J,re)}}function V5e(a,n){n=n||{};for(var r=[],o=[],l=n.boundIQR,c=l==="none"||l===0,f=0;f<a.length;f++){var p=go(a[f].slice()),g=GO(p,.25),v=GO(p,.5),x=GO(p,.75),O=p[0],w=p[p.length-1],S=(l??1.5)*(x-g),k=c?O:Math.max(O,g-S),P=c?w:Math.min(w,x+S),E=n.itemNameFormatter,M=Ge(E)?E({value:f}):De(E)?E.replace("{value}",f+""):f+"";r.push([M,k,g,v,x,P]);for(var R=0;R<p.length;R++){var N=p[R];if(N<k||N>P){var j=[M,N];o.push(j)}}}return{boxData:r,outliers:o}}var F5e={type:"echarts:boxplot",transform:function(n){var r=n.upstream;if(r.sourceFormat!==Di){var o="";o=ga("source data is not applicable for this boxplot transform. Expect number[][]."),Sn(o)}var l=V5e(r.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}};function G5e(a){a.registerSeriesModel(KZ),a.registerChartView(R5e),a.registerLayout(z5e),a.registerTransform(F5e)}var W5e=["itemStyle","borderColor"],U5e=["itemStyle","borderColor0"],q5e=["itemStyle","borderColorDoji"],Z5e=["itemStyle","color"],H5e=["itemStyle","color0"];function R5(a,n){return n.get(a>0?Z5e:H5e)}function L5(a,n){return n.get(a===0?q5e:a>0?W5e:U5e)}var X5e={seriesType:"candlestick",plan:Sm(),performRawSeries:!0,reset:function(a,n){if(!n.isSeriesFiltered(a)){var r=a.pipelineContext.large;return!r&&{progress:function(o,l){for(var c;(c=o.next())!=null;){var f=l.getItemModel(c),p=l.getItemLayout(c).sign,g=f.getItemStyle();g.fill=R5(p,f),g.stroke=L5(p,f)||g.fill;var v=l.ensureUniqueItemVisual(c,"style");ee(v,g)}}}}}},Y5e=["color","borderColor"],K5e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,o,l){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,o,l,c){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,o):this._incrementalRenderNormal(r,o)},n.prototype.eachRendered=function(r){Fc(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var o=r.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},n.prototype._renderNormal=function(r){var o=r.getData(),l=this._data,c=this.group,f=o.getLayout("isSimpleBox"),p=r.get("clip",!0),g=r.coordinateSystem,v=g.getArea&&g.getArea();this._data||c.removeAll(),o.diff(l).add(function(x){if(o.hasValue(x)){var O=o.getItemLayout(x);if(p&&tH(v,O))return;var w=N5(O,x,!0);Jn(w,{shape:{points:O.ends}},r,x),$5(w,o,x,f),c.add(w),o.setItemGraphicEl(x,w)}}).update(function(x,O){var w=l.getItemGraphicEl(O);if(!o.hasValue(x)){c.remove(w);return}var S=o.getItemLayout(x);if(p&&tH(v,S)){c.remove(w);return}w?(pn(w,{shape:{points:S.ends}},r,x),Fo(w)):w=N5(S),$5(w,o,x,f),c.add(w),o.setItemGraphicEl(x,w)}).remove(function(x){var O=l.getItemGraphicEl(x);O&&c.remove(O)}).execute(),this._data=o},n.prototype._renderLarge=function(r){this._clear(),nH(r,this.group);var o=r.get("clip",!0)?fy(r.coordinateSystem,!1,r):null;o?this.group.setClipPath(o):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,o){for(var l=o.getData(),c=l.getLayout("isSimpleBox"),f;(f=r.next())!=null;){var p=l.getItemLayout(f),g=N5(p);$5(g,l,f,c),g.incremental=!0,this.group.add(g),this._progressiveEls.push(g)}},n.prototype._incrementalRenderLarge=function(r,o){nH(o,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n})(Dn),J5e=(function(){function a(){}return a})(),eRe=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="normalCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new J5e},n.prototype.buildPath=function(r,o){var l=o.points;this.__simpleBox?(r.moveTo(l[4][0],l[4][1]),r.lineTo(l[6][0],l[6][1])):(r.moveTo(l[0][0],l[0][1]),r.lineTo(l[1][0],l[1][1]),r.lineTo(l[2][0],l[2][1]),r.lineTo(l[3][0],l[3][1]),r.closePath(),r.moveTo(l[4][0],l[4][1]),r.lineTo(l[5][0],l[5][1]),r.moveTo(l[6][0],l[6][1]),r.lineTo(l[7][0],l[7][1]))},n})(Jt);function N5(a,n,r){var o=a.ends;return new eRe({shape:{points:r?tRe(o,a):o},z2:100})}function tH(a,n){for(var r=!0,o=0;o<n.ends.length;o++)if(a.contain(n.ends[o][0],n.ends[o][1])){r=!1;break}return r}function $5(a,n,r,o){var l=n.getItemModel(r);a.useStyle(n.getItemVisual(r,"style")),a.style.strokeNoScale=!0,a.__simpleBox=o,Kr(a,l);var c=n.getItemLayout(r).sign;Z(a.states,function(p,g){var v=l.getModel(g),x=R5(c,v),O=L5(c,v)||x,w=p.style||(p.style={});x&&(w.fill=x),O&&(w.stroke=O)});var f=l.getModel("emphasis");ar(a,f.get("focus"),f.get("blurScope"),f.get("disabled"))}function tRe(a,n){return ve(a,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var nRe=(function(){function a(){}return a})(),z5=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o.type="largeCandlestickBox",o}return n.prototype.getDefaultShape=function(){return new nRe},n.prototype.buildPath=function(r,o){for(var l=o.points,c=0;c<l.length;)if(this.__sign===l[c++]){var f=l[c++];r.moveTo(f,l[c++]),r.lineTo(f,l[c++])}else c+=3},n})(Jt);function nH(a,n,r,o){var l=a.getData(),c=l.getLayout("largePoints"),f=new z5({shape:{points:c},__sign:1,ignoreCoarsePointer:!0});n.add(f);var p=new z5({shape:{points:c},__sign:-1,ignoreCoarsePointer:!0});n.add(p);var g=new z5({shape:{points:c},__sign:0,ignoreCoarsePointer:!0});n.add(g),B5(1,f,a),B5(-1,p,a),B5(0,g,a),o&&(f.incremental=!0,p.incremental=!0),r&&r.push(f,p)}function B5(a,n,r,o){var l=L5(a,r)||R5(a,r),c=r.getModel("itemStyle").getItemStyle(Y5e);n.useStyle(c),n.style.fill=null,n.style.stroke=l}var rH=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,o,l){var c=o.getItemLayout(r);return c&&l.rect(c.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n})(Bn);we(rH,YZ,!0);function rRe(a){!a||!ke(a.series)||Z(a.series,function(n){Ze(n)&&n.type==="k"&&(n.type="candlestick")})}var iRe={seriesType:"candlestick",plan:Sm(),reset:function(a){var n=a.coordinateSystem,r=a.getData(),o=aRe(a,r),l=0,c=1,f=["x","y"],p=r.getDimensionIndex(r.mapDimension(f[l])),g=ve(r.mapDimensionsAll(f[c]),r.getDimensionIndex,r),v=g[0],x=g[1],O=g[2],w=g[3];if(r.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),p<0||g.length<4)return;return{progress:a.pipelineContext.large?k:S};function S(P,E){for(var M,R=E.getStore();(M=P.next())!=null;){var N=R.get(p,M),j=R.get(v,M),W=R.get(x,M),U=R.get(O,M),X=R.get(w,M),J=Math.min(j,W),re=Math.max(j,W),ie=Pe(J,N),le=Pe(re,N),pe=Pe(U,N),ce=Pe(X,N),ye=[];Se(ye,le,0),Se(ye,ie,1),ye.push(Ne(ce),Ne(le),Ne(pe),Ne(ie));var Oe=E.getItemModel(M),_e=!!Oe.get(["itemStyle","borderColorDoji"]);E.setItemLayout(M,{sign:iH(R,M,j,W,x,_e),initBaseline:j>W?le[c]:ie[c],ends:ye,brushRect:Re(U,X,N)})}function Pe(Be,Fe){var rt=[];return rt[l]=Fe,rt[c]=Be,isNaN(Fe)||isNaN(Be)?[NaN,NaN]:n.dataToPoint(rt)}function Se(Be,Fe,rt){var ht=Fe.slice(),Mt=Fe.slice();ht[l]=mb(ht[l]+o/2,1,!1),Mt[l]=mb(Mt[l]-o/2,1,!0),rt?Be.push(ht,Mt):Be.push(Mt,ht)}function Re(Be,Fe,rt){var ht=Pe(Be,rt),Mt=Pe(Fe,rt);return ht[l]-=o/2,Mt[l]-=o/2,{x:ht[0],y:ht[1],width:o,height:Mt[1]-ht[1]}}function Ne(Be){return Be[l]=mb(Be[l],1),Be}}function k(P,E){for(var M=Cl(P.count*4),R=0,N,j=[],W=[],U,X=E.getStore(),J=!!a.get(["itemStyle","borderColorDoji"]);(U=P.next())!=null;){var re=X.get(p,U),ie=X.get(v,U),le=X.get(x,U),pe=X.get(O,U),ce=X.get(w,U);if(isNaN(re)||isNaN(pe)||isNaN(ce)){M[R++]=NaN,R+=3;continue}M[R++]=iH(X,U,ie,le,x,J),j[l]=re,j[c]=pe,N=n.dataToPoint(j,null,W),M[R++]=N?N[0]:NaN,M[R++]=N?N[1]:NaN,j[c]=ce,N=n.dataToPoint(j,null,W),M[R++]=N?N[1]:NaN}E.setLayout("largePoints",M)}}};function iH(a,n,r,o,l,c){var f;return r>o?f=-1:r<o?f=1:f=c?0:n>0?a.get(l,n-1)<=o?1:-1:1,f}function aRe(a,n){var r=a.getBaseAxis(),o,l=r.type==="category"?r.getBandWidth():(o=r.getExtent(),Math.abs(o[1]-o[0])/n.count()),c=it($e(a.get("barMaxWidth"),l),l),f=it($e(a.get("barMinWidth"),1),l),p=a.get("barWidth");return p!=null?it(p,l):Math.max(Math.min(l/2,c),f)}function oRe(a){a.registerChartView(K5e),a.registerSeriesModel(rH),a.registerPreprocessor(rRe),a.registerVisual(X5e),a.registerLayout(iRe)}function aH(a,n){var r=n.rippleEffectColor||n.color;a.eachChild(function(o){o.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var sRe=(function(a){u(n,a);function n(r,o){var l=a.call(this)||this,c=new cy(r,o),f=new _t;return l.add(c),l.add(f),l.updateData(r,o),l}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var o=r.symbolType,l=r.color,c=r.rippleNumber,f=this.childAt(1),p=0;p<c;p++){var g=Br(o,-1,-1,2,2,l);g.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-p/c*r.period+r.effectOffset;g.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(v).start(),g.animateStyle(!0).when(r.period,{opacity:0}).delay(v).start(),f.add(g)}aH(f,r)},n.prototype.updateEffectAnimation=function(r){for(var o=this._effectCfg,l=this.childAt(1),c=["symbolType","period","rippleScale","rippleNumber"],f=0;f<c.length;f++){var p=c[f];if(o[p]!==r[p]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}aH(l,r)},n.prototype.highlight=function(){Eu(this)},n.prototype.downplay=function(){Mu(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,o){var l=this,c=r.hostModel;this.childAt(0).updateData(r,o);var f=this.childAt(1),p=r.getItemModel(o),g=r.getItemVisual(o,"symbol"),v=km(r.getItemVisual(o,"symbolSize")),x=r.getItemVisual(o,"style"),O=x&&x.fill,w=p.getModel("emphasis");f.setScale(v),f.traverse(function(E){E.setStyle("fill",O)});var S=Yf(r.getItemVisual(o,"symbolOffset"),v);S&&(f.x=S[0],f.y=S[1]);var k=r.getItemVisual(o,"symbolRotate");f.rotation=(k||0)*Math.PI/180||0;var P={};P.showEffectOn=c.get("showEffectOn"),P.rippleScale=p.get(["rippleEffect","scale"]),P.brushType=p.get(["rippleEffect","brushType"]),P.period=p.get(["rippleEffect","period"])*1e3,P.effectOffset=o/r.count(),P.z=c.getShallow("z")||0,P.zlevel=c.getShallow("zlevel")||0,P.symbolType=g,P.color=O,P.rippleEffectColor=p.get(["rippleEffect","color"]),P.rippleNumber=p.get(["rippleEffect","number"]),P.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(P):this.startEffectAnimation(P),this._effectCfg=P):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(E){E==="emphasis"?P.showEffectOn!=="render"&&l.startEffectAnimation(P):E==="normal"&&P.showEffectOn!=="render"&&l.stopEffectAnimation()}),this._effectCfg=P,ar(this,w.get("focus"),w.get("blurScope"),w.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n})(_t),lRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new dy(sRe)},n.prototype.render=function(r,o,l){var c=r.getData(),f=this._symbolDraw;f.updateData(c,{clipShape:this._getClipShape(r)}),this.group.add(f.group)},n.prototype._getClipShape=function(r){var o=r.coordinateSystem,l=o&&o.getArea&&o.getArea();return r.get("clip",!0)?l:null},n.prototype.updateTransform=function(r,o,l){var c=r.getData();this.group.dirty();var f=hy("").reset(r,o,l);f.progress&&f.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var o=r.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=mO(o.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,o){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n})(Dn),uRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,o){return Tl(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,o,l){return l.point(o.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n})(Bn);function cRe(a){a.registerChartView(lRe),a.registerSeriesModel(uRe),a.registerLayout(hy("effectScatter"))}var oH=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;return c.add(c.createLine(r,o,l)),c._updateEffectSymbol(r,o),c}return n.prototype.createLine=function(r,o,l){return new o5(r,o,l)},n.prototype._updateEffectSymbol=function(r,o){var l=r.getItemModel(o),c=l.getModel("effect"),f=c.get("symbolSize"),p=c.get("symbol");ke(f)||(f=[f,f]);var g=r.getItemVisual(o,"style"),v=c.get("color")||g&&g.stroke,x=this.childAt(1);this._symbolType!==p&&(this.remove(x),x=Br(p,-.5,-.5,1,1,v),x.z2=100,x.culling=!0,this.add(x)),x&&(x.setStyle("shadowColor",v),x.setStyle(c.getItemStyle(["color"])),x.scaleX=f[0],x.scaleY=f[1],x.setColor(v),this._symbolType=p,this._symbolScale=f,this._updateEffectAnimation(r,c,o))},n.prototype._updateEffectAnimation=function(r,o,l){var c=this.childAt(1);if(c){var f=r.getItemLayout(l),p=o.get("period")*1e3,g=o.get("loop"),v=o.get("roundTrip"),x=o.get("constantSpeed"),O=tt(o.get("delay"),function(S){return S/r.count()*p/3});if(c.ignore=!0,this._updateAnimationPoints(c,f),x>0&&(p=this._getLineLength(c)/x*1e3),p!==this._period||g!==this._loop||v!==this._roundTrip){c.stopAnimation();var w=void 0;Ge(O)?w=O(l):w=O,c.__t>0&&(w=-p*c.__t),this._animateSymbol(c,p,w,g,v)}this._period=p,this._loop=g,this._roundTrip=v}},n.prototype._animateSymbol=function(r,o,l,c,f){if(o>0){r.__t=0;var p=this,g=r.animate("",c).when(f?o*2:o,{__t:f?2:1}).delay(l).during(function(){p._updateSymbolPosition(r)});c||g.done(function(){p.remove(r)}),g.start()}},n.prototype._getLineLength=function(r){return _s(r.__p1,r.__cp1)+_s(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,o){r.__p1=o[0],r.__p2=o[1],r.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},n.prototype.updateData=function(r,o,l){this.childAt(0).updateData(r,o,l),this._updateEffectSymbol(r,o)},n.prototype._updateSymbolPosition=function(r){var o=r.__p1,l=r.__p2,c=r.__cp1,f=r.__t<1?r.__t:2-r.__t,p=[r.x,r.y],g=p.slice(),v=Pi,x=OP;p[0]=v(o[0],c[0],l[0],f),p[1]=v(o[1],c[1],l[1],f);var O=r.__t<1?x(o[0],c[0],l[0],f):x(l[0],c[0],o[0],1-f),w=r.__t<1?x(o[1],c[1],l[1],f):x(l[1],c[1],o[1],1-f);r.rotation=-Math.atan2(w,O)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=_s(g,p)*1.05,f===1&&(p[0]=g[0]+(p[0]-g[0])/2,p[1]=g[1]+(p[1]-g[1])/2)):r.__lastT===1?r.scaleY=2*_s(o,p):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=p[0],r.y=p[1]},n.prototype.updateLayout=function(r,o){this.childAt(0).updateLayout(r,o);var l=r.getItemModel(o).getModel("effect");this._updateEffectAnimation(r,l,o)},n})(_t),sH=(function(a){u(n,a);function n(r,o,l){var c=a.call(this)||this;return c._createPolyline(r,o,l),c}return n.prototype._createPolyline=function(r,o,l){var c=r.getItemLayout(o),f=new Ei({shape:{points:c}});this.add(f),this._updateCommonStl(r,o,l)},n.prototype.updateData=function(r,o,l){var c=r.hostModel,f=this.childAt(0),p={shape:{points:r.getItemLayout(o)}};pn(f,p,c,o),this._updateCommonStl(r,o,l)},n.prototype._updateCommonStl=function(r,o,l){var c=this.childAt(0),f=r.getItemModel(o),p=l&&l.emphasisLineStyle,g=l&&l.focus,v=l&&l.blurScope,x=l&&l.emphasisDisabled;if(!l||r.hasItemOption){var O=f.getModel("emphasis");p=O.getModel("lineStyle").getLineStyle(),x=O.get("disabled"),g=O.get("focus"),v=O.get("blurScope")}c.useStyle(r.getItemVisual(o,"style")),c.style.fill=null,c.style.strokeNoScale=!0;var w=c.ensureState("emphasis");w.style=p,ar(this,g,v,x)},n.prototype.updateLayout=function(r,o){var l=this.childAt(0);l.setShape("points",r.getItemLayout(o))},n})(_t),dRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,o,l){return new sH(r,o,l)},n.prototype._updateAnimationPoints=function(r,o){this._points=o;for(var l=[0],c=0,f=1;f<o.length;f++){var p=o[f-1],g=o[f];c+=_s(p,g),l.push(c)}if(c===0){this._length=0;return}for(var f=0;f<l.length;f++)l[f]/=c;this._offsets=l,this._length=c},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var o=r.__t<1?r.__t:2-r.__t,l=this._points,c=this._offsets,f=l.length;if(c){var p=this._lastFrame,g;if(o<this._lastFramePercent){var v=Math.min(p+1,f-1);for(g=v;g>=0&&!(c[g]<=o);g--);g=Math.min(g,f-2)}else{for(g=p;g<f&&!(c[g]>o);g++);g=Math.min(g-1,f-2)}var x=(o-c[g])/(c[g+1]-c[g]),O=l[g],w=l[g+1];r.x=O[0]*(1-x)+x*w[0],r.y=O[1]*(1-x)+x*w[1];var S=r.__t<1?w[0]-O[0]:O[0]-w[0],k=r.__t<1?w[1]-O[1]:O[1]-w[1];r.rotation=-Math.atan2(k,S)-Math.PI/2,this._lastFrame=g,this._lastFramePercent=o,r.ignore=!1}},n})(oH),fRe=(function(){function a(){this.polyline=!1,this.curveness=0,this.segs=[]}return a})(),hRe=(function(a){u(n,a);function n(r){var o=a.call(this,r)||this;return o._off=0,o.hoverDataIdx=-1,o}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:Ie.color.neutral99,fill:null}},n.prototype.getDefaultShape=function(){return new fRe},n.prototype.buildPath=function(r,o){var l=o.segs,c=o.curveness,f;if(o.polyline)for(f=this._off;f<l.length;){var p=l[f++];if(p>0){r.moveTo(l[f++],l[f++]);for(var g=1;g<p;g++)r.lineTo(l[f++],l[f++])}}else for(f=this._off;f<l.length;){var v=l[f++],x=l[f++],O=l[f++],w=l[f++];if(r.moveTo(v,x),c>0){var S=(v+O)/2-(x-w)*c,k=(x+w)/2-(O-v)*c;r.quadraticCurveTo(S,k,O,w)}else r.lineTo(O,w)}this.incremental&&(this._off=f,this.notClear=!0)},n.prototype.findDataIndex=function(r,o){var l=this.shape,c=l.segs,f=l.curveness,p=this.style.lineWidth;if(l.polyline)for(var g=0,v=0;v<c.length;){var x=c[v++];if(x>0)for(var O=c[v++],w=c[v++],S=1;S<x;S++){var k=c[v++],P=c[v++];if($c(O,w,k,P,p,r,o))return g}g++}else for(var g=0,v=0;v<c.length;){var O=c[v++],w=c[v++],k=c[v++],P=c[v++];if(f>0){var E=(O+k)/2-(w-P)*f,M=(w+P)/2-(k-O)*f;if(tF(O,w,E,M,k,P,p,r,o))return g}else if($c(O,w,k,P,p,r,o))return g;g++}return-1},n.prototype.contain=function(r,o){var l=this.transformCoordToLocal(r,o),c=this.getBoundingRect();if(r=l[0],o=l[1],c.contain(r,o)){var f=this.hoverDataIdx=this.findDataIndex(r,o);return f>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var o=this.shape,l=o.segs,c=1/0,f=1/0,p=-1/0,g=-1/0,v=0;v<l.length;){var x=l[v++],O=l[v++];c=Math.min(x,c),p=Math.max(x,p),f=Math.min(O,f),g=Math.max(O,g)}r=this._rect=new wt(c,f,p,g)}return r},n})(Jt),pRe=(function(){function a(){this.group=new _t}return a.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},a.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(n,r){var o=this._newAdded[0],l=r.getLayout("linesPoints"),c=o&&o.shape.segs;if(c&&c.length<2e4){var f=c.length,p=new Float32Array(f+l.length);p.set(c),p.set(l,f),o.setShape({segs:p})}else{this._newAdded=[];var g=this._create();g.incremental=!0,g.setShape({segs:l}),this._setCommon(g,r),g.__startIndex=n.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},a.prototype._create=function(){var n=new hRe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},a.prototype._setCommon=function(n,r,o){var l=r.hostModel;n.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),n.useStyle(l.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var c=r.getVisual("style");c&&c.stroke&&n.setStyle("stroke",c.stroke),n.setStyle("fill",null);var f=Et(n);f.seriesIndex=l.seriesIndex,n.on("mousemove",function(p){f.dataIndex=null;var g=n.hoverDataIdx;g>0&&(f.dataIndex=g+n.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a})(),lH={seriesType:"lines",plan:Sm(),reset:function(a){var n=a.coordinateSystem;if(!n){cn("The lines series must have a coordinate system.");return}var r=a.get("polyline"),o=a.pipelineContext.large;return{progress:function(l,c){var f=[];if(o){var p=void 0,g=l.end-l.start;if(r){for(var v=0,x=l.start;x<l.end;x++)v+=a.getLineCoordsCount(x);p=new Float32Array(g+v*2)}else p=new Float32Array(g*4);for(var O=0,w=[],x=l.start;x<l.end;x++){var S=a.getLineCoords(x,f);r&&(p[O++]=S);for(var k=0;k<S;k++)w=n.dataToPoint(f[k],!1,w),p[O++]=w[0],p[O++]=w[1]}c.setLayout("linesPoints",p)}else for(var x=l.start;x<l.end;x++){var P=c.getItemModel(x),S=a.getLineCoords(x,f),E=[];if(r)for(var M=0;M<S;M++)E.push(n.dataToPoint(f[M]));else{E[0]=n.dataToPoint(f[0]),E[1]=n.dataToPoint(f[1]);var R=P.get(["lineStyle","curveness"]);+R&&(E[2]=[(E[0][0]+E[1][0])/2-(E[0][1]-E[1][1])*R,(E[0][1]+E[1][1])/2-(E[1][0]-E[0][0])*R])}c.setItemLayout(x,E)}}}}},mRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=r.getData(),f=this._updateLineDraw(c,r),p=r.get("zlevel"),g=r.get(["effect","trailLength"]),v=l.getZr(),x=v.painter.getType()==="svg";x||v.painter.getLayer(p).clear(!0),this._lastZlevel!=null&&!x&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&g>0&&(x?console.warn("SVG render mode doesn't support lines with trail effect"):v.configLayer(p,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),f.updateData(c);var O=r.get("clip",!0)&&fy(r.coordinateSystem,!1,r);O?this.group.setClipPath(O):this.group.removeClipPath(),this._lastZlevel=p,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,o,l){var c=r.getData(),f=this._updateLineDraw(c,r);f.incrementalPrepareUpdate(c),this._clearLayer(l),this._finished=!1},n.prototype.incrementalRender=function(r,o,l){this._lineDraw.incrementalUpdate(r,o.getData()),this._finished=r.end===o.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,o,l){var c=r.getData(),f=r.pipelineContext;if(!this._finished||f.large||f.progressiveRender)return{update:!0};var p=lH.reset(r,o,l);p.progress&&p.progress({start:0,end:c.count(),count:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(l)},n.prototype._updateLineDraw=function(r,o){var l=this._lineDraw,c=this._showEffect(o),f=!!o.get("polyline"),p=o.pipelineContext,g=p.large;return c&&g&&console.warn("Large lines not support effect"),(!l||c!==this._hasEffet||f!==this._isPolyline||g!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=g?new pRe:new s5(f?c?dRe:sH:c?oH:o5),this._hasEffet=c,this._isPolyline=f,this._isLargeDraw=g),this.group.add(l.group),l},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var o=r.getZr(),l=o.painter.getType()==="svg";!l&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},n.prototype.dispose=function(r,o){this.remove(r,o)},n.type="lines",n})(Dn),gRe=typeof Uint32Array>"u"?Array:Uint32Array,vRe=typeof Float64Array>"u"?Array:Float64Array;function uH(a){var n=a.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=ve(n,function(r){var o=[r[0].coord,r[1].coord],l={coords:o};return r[0].name&&(l.fromName=r[0].name),r[1].name&&(l.toName=r[1].name),ge([l,r[0],r[1]])}))}var yRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],uH(r);var o=this._processFlatCoordsArray(r.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(r.data=new Float32Array(o.count)),a.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(uH(r),r.data){var o=this._processFlatCoordsArray(r.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(r.data=new Float32Array(o.count))}a.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var o=this._processFlatCoordsArray(r.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=Xn(this._flatCoords,o.flatCoords),this._flatCoordsOffset=Xn(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),r.data=new Float32Array(o.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var o=this.getData().getItemModel(r),l=o.option instanceof Array?o.option:o.getShallow("coords");if(!(l instanceof Array&&l.length>0&&l[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(l)+". Lines must have 2d coords array in data item.");return l},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,o){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[r*2],c=this._flatCoordsOffset[r*2+1],f=0;f<c;f++)o[f]=o[f]||[],o[f][0]=this._flatCoords[l+f*2],o[f][1]=this._flatCoords[l+f*2+1];return c}else{for(var p=this._getCoordsFromItemModel(r),f=0;f<p.length;f++)o[f]=o[f]||[],o[f][0]=p[f][0],o[f][1]=p[f][1];return p.length}},n.prototype._processFlatCoordsArray=function(r){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),dt(r[0])){for(var l=r.length,c=new gRe(l),f=new vRe(l),p=0,g=0,v=0,x=0;x<l;){v++;var O=r[x++];c[g++]=p+o,c[g++]=O;for(var w=0;w<O;w++){var S=r[x++],k=r[x++];if(f[p++]=S,f[p++]=k,x>l)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(c.buffer,0,g),flatCoords:f,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,o){{var l=Qf.get(r.coordinateSystem);if(!l)throw new Error("Unknown coordinate system "+r.coordinateSystem)}var c=new ra(["value"],this);return c.hasItemOption=!1,c.initData(r.data,[],function(f,p,g,v){if(f instanceof Array)return NaN;c.hasItemOption=!0;var x=f.value;if(x!=null)return x instanceof Array?x[v]:x}),c},n.prototype.formatTooltip=function(r,o,l){var c=this.getData(),f=c.getItemModel(r),p=f.get("name");if(p)return p;var g=f.get("fromName"),v=f.get("toName"),x=[];return g!=null&&x.push(g),v!=null&&x.push(v),qr("nameValue",{name:x.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),o=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&o>0?o+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n})(Bn);function tw(a){return a instanceof Array||(a=[a,a]),a}var xRe={seriesType:"lines",reset:function(a){var n=tw(a.get("symbol")),r=tw(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",n&&n[0]),o.setVisual("toSymbol",n&&n[1]),o.setVisual("fromSymbolSize",r&&r[0]),o.setVisual("toSymbolSize",r&&r[1]);function l(c,f){var p=c.getItemModel(f),g=tw(p.getShallow("symbol",!0)),v=tw(p.getShallow("symbolSize",!0));g[0]&&c.setItemVisual(f,"fromSymbol",g[0]),g[1]&&c.setItemVisual(f,"toSymbol",g[1]),v[0]&&c.setItemVisual(f,"fromSymbolSize",v[0]),v[1]&&c.setItemVisual(f,"toSymbolSize",v[1])}return{dataEach:o.hasItemOption?l:null}}};function _Re(a){a.registerChartView(mRe),a.registerSeriesModel(yRe),a.registerLayout(lH),a.registerVisual(xRe)}var ORe=256,bRe=(function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=$.createCanvas();this.canvas=n}return a.prototype.update=function(n,r,o,l,c,f){var p=this._getBrush(),g=this._getGradient(c,"inRange"),v=this._getGradient(c,"outOfRange"),x=this.pointSize+this.blurSize,O=this.canvas,w=O.getContext("2d"),S=n.length;O.width=r,O.height=o;for(var k=0;k<S;++k){var P=n[k],E=P[0],M=P[1],R=P[2],N=l(R);w.globalAlpha=N,w.drawImage(p,E-x,M-x)}if(!O.width||!O.height)return O;for(var j=w.getImageData(0,0,O.width,O.height),W=j.data,U=0,X=W.length,J=this.minOpacity,re=this.maxOpacity,ie=re-J;U<X;){var N=W[U+3]/256,le=Math.floor(N*(ORe-1))*4;if(N>0){var pe=f(N)?g:v;N>0&&(N=N*ie+J),W[U++]=pe[le],W[U++]=pe[le+1],W[U++]=pe[le+2],W[U++]=pe[le+3]*N*256}else U+=4}return w.putImageData(j,0,0),O},a.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=$.createCanvas()),r=this.pointSize+this.blurSize,o=r*2;n.width=o,n.height=o;var l=n.getContext("2d");return l.clearRect(0,0,o,o),l.shadowOffsetX=o,l.shadowBlur=this.blurSize,l.shadowColor=Ie.color.neutral99,l.beginPath(),l.arc(-r,r,this.pointSize,0,Math.PI*2,!0),l.closePath(),l.fill(),n},a.prototype._getGradient=function(n,r){for(var o=this._gradientPixels,l=o[r]||(o[r]=new Uint8ClampedArray(256*4)),c=[0,0,0,0],f=0,p=0;p<256;p++)n[r](p/255,!0,c),l[f++]=c[0],l[f++]=c[1],l[f++]=c[2],l[f++]=c[3];return l},a})();function wRe(a,n,r){var o=a[1]-a[0];n=ve(n,function(f){return{interval:[(f.interval[0]-a[0])/o,(f.interval[1]-a[0])/o]}});var l=n.length,c=0;return function(f){var p;for(p=c;p<l;p++){var g=n[p].interval;if(g[0]<=f&&f<=g[1]){c=p;break}}if(p===l)for(p=c-1;p>=0;p--){var g=n[p].interval;if(g[0]<=f&&f<=g[1]){c=p;break}}return p>=0&&p<l&&r[p]}}function SRe(a,n){var r=a[1]-a[0];return n=[(n[0]-a[0])/r,(n[1]-a[0])/r],function(o){return o>=n[0]&&o<=n[1]}}function cH(a){var n=a.dimensions;return n[0]==="lng"&&n[1]==="lat"}var TRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c;if(o.eachComponent("visualMap",function(p){p.eachTargetSeries(function(g){g===r&&(c=p)})}),!c)throw new Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var f=r.coordinateSystem;f.type==="cartesian2d"||f.type==="calendar"||f.type==="matrix"?this._renderOnGridLike(r,l,0,r.getData().count()):cH(f)&&this._renderOnGeo(f,r,c,l)},n.prototype.incrementalPrepareRender=function(r,o,l){this.group.removeAll()},n.prototype.incrementalRender=function(r,o,l,c){var f=o.coordinateSystem;f&&(cH(f)?this.render(o,l,c):(this._progressiveEls=[],this._renderOnGridLike(o,c,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){Fc(this._progressiveEls||this.group,r)},n.prototype._renderOnGridLike=function(r,o,l,c,f){var p=r.coordinateSystem,g=Jc(p,"cartesian2d"),v=Jc(p,"matrix"),x,O,w,S;if(g){var k=p.getAxis("x"),P=p.getAxis("y");{if(!(k.type==="category"&&P.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(k.onBand&&P.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}x=k.getBandWidth()+.5,O=P.getBandWidth()+.5,w=k.scale.getExtent(),S=P.scale.getExtent()}for(var E=this.group,M=r.getData(),R=r.getModel(["emphasis","itemStyle"]).getItemStyle(),N=r.getModel(["blur","itemStyle"]).getItemStyle(),j=r.getModel(["select","itemStyle"]).getItemStyle(),W=r.get(["itemStyle","borderRadius"]),U=Jr(r),X=r.getModel("emphasis"),J=X.get("focus"),re=X.get("blurScope"),ie=X.get("disabled"),le=g||v?[M.mapDimension("x"),M.mapDimension("y"),M.mapDimension("value")]:[M.mapDimension("time"),M.mapDimension("value")],pe=l;pe<c;pe++){var ce=void 0,ye=M.getItemVisual(pe,"style");if(g){var Oe=M.get(le[0],pe),_e=M.get(le[1],pe);if(isNaN(M.get(le[2],pe))||isNaN(Oe)||isNaN(_e)||Oe<w[0]||Oe>w[1]||_e<S[0]||_e>S[1])continue;var Pe=p.dataToPoint([Oe,_e]);ce=new Zt({shape:{x:Pe[0]-x/2,y:Pe[1]-O/2,width:x,height:O},style:ye})}else if(v){var Se=p.dataToLayout([M.get(le[0],pe),M.get(le[1],pe)]).rect;if(qe(Se.x))continue;ce=new Zt({z2:1,shape:Se,style:ye})}else{if(isNaN(M.get(le[1],pe)))continue;var Re=p.dataToLayout([M.get(le[0],pe)]),Se=Re.contentRect||Re.rect;if(qe(Se.x)||qe(Se.y))continue;ce=new Zt({z2:1,shape:Se,style:ye})}if(M.hasItemOption){var Ne=M.getItemModel(pe),Be=Ne.getModel("emphasis");R=Be.getModel("itemStyle").getItemStyle(),N=Ne.getModel(["blur","itemStyle"]).getItemStyle(),j=Ne.getModel(["select","itemStyle"]).getItemStyle(),W=Ne.get(["itemStyle","borderRadius"]),J=Be.get("focus"),re=Be.get("blurScope"),ie=Be.get("disabled"),U=Jr(Ne)}ce.shape.r=W;var Fe=r.getRawValue(pe),rt="-";Fe&&Fe[2]!=null&&(rt=Fe[2]+""),hi(ce,U,{labelFetcher:r,labelDataIndex:pe,defaultOpacity:ye.opacity,defaultText:rt}),ce.ensureState("emphasis").style=R,ce.ensureState("blur").style=N,ce.ensureState("select").style=j,ar(ce,J,re,ie),ce.incremental=f,f&&(ce.states.emphasis.hoverLayer=!0),E.add(ce),M.setItemGraphicEl(pe,ce),this._progressiveEls&&this._progressiveEls.push(ce)}},n.prototype._renderOnGeo=function(r,o,l,c){var f=l.targetVisuals.inRange,p=l.targetVisuals.outOfRange,g=o.getData(),v=this._hmLayer||this._hmLayer||new bRe;v.blurSize=o.get("blurSize"),v.pointSize=o.get("pointSize"),v.minOpacity=o.get("minOpacity"),v.maxOpacity=o.get("maxOpacity");var x=r.getViewRect().clone(),O=r.getRoamTransform();x.applyTransform(O);var w=Math.max(x.x,0),S=Math.max(x.y,0),k=Math.min(x.width+x.x,c.getWidth()),P=Math.min(x.height+x.y,c.getHeight()),E=k-w,M=P-S,R=[g.mapDimension("lng"),g.mapDimension("lat"),g.mapDimension("value")],N=g.mapArray(R,function(X,J,re){var ie=r.dataToPoint([X,J]);return ie[0]-=w,ie[1]-=S,ie.push(re),ie}),j=l.getExtent(),W=l.type==="visualMap.continuous"?SRe(j,l.option.range):wRe(j,l.getPieceList(),l.option.selected);v.update(N,E,M,f.color.getNormalizer(),{inRange:f.color.getColorMapper(),outOfRange:p.color.getColorMapper()},W);var U=new fi({style:{width:E,height:M,x:w,y:S,image:v.canvas},silent:!0});this.group.add(U)},n.type="heatmap",n})(Dn),CRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,o){return Tl(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=Qf.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar","matrix"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:Ie.color.primary}}},n})(Bn);function kRe(a){a.registerChartView(TRe),a.registerSeriesModel(CRe)}var ARe=["itemStyle","borderWidth"],dH=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Q5=new Ol,PRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=this.group,f=r.getData(),p=this._data,g=r.coordinateSystem,v=g.getBaseAxis(),x=v.isHorizontal(),O=g.master.getRect(),w={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:r,coordSys:g,coordSysExtent:[[O.x,O.x+O.width],[O.y,O.y+O.height]],isHorizontal:x,valueDim:dH[+x],categoryDim:dH[1-+x]};f.diff(p).add(function(k){if(f.hasValue(k)){var P=yH(f,k),E=fH(f,k,P,w),M=xH(f,w,E);f.setItemGraphicEl(k,M),c.add(M),bH(M,w,E)}}).update(function(k,P){var E=p.getItemGraphicEl(P);if(!f.hasValue(k)){c.remove(E);return}var M=yH(f,k),R=fH(f,k,M,w),N=OH(f,R);E&&N!==E.__pictorialShapeStr&&(c.remove(E),f.setItemGraphicEl(k,null),E=null),E?NRe(E,w,R):E=xH(f,w,R,!0),f.setItemGraphicEl(k,E),E.__pictorialSymbolMeta=R,c.add(E),bH(E,w,R)}).remove(function(k){var P=p.getItemGraphicEl(k);P&&_H(p,k,P.__pictorialSymbolMeta.animationModel,P)}).execute();var S=r.get("clip",!0)?fy(r.coordinateSystem,!1,r):null;return S?c.setClipPath(S):c.removeClipPath(),this._data=f,this.group},n.prototype.remove=function(r,o){var l=this.group,c=this._data;r.get("animation")?c&&c.eachItemGraphicEl(function(f){_H(c,Et(f).dataIndex,r,f)}):l.removeAll()},n.type="pictorialBar",n})(Dn);function fH(a,n,r,o){var l=a.getItemLayout(n),c=r.get("symbolRepeat"),f=r.get("symbolClip"),p=r.get("symbolPosition")||"start",g=r.get("symbolRotate"),v=(g||0)*Math.PI/180||0,x=r.get("symbolPatternSize")||2,O=r.isAnimationEnabled(),w={dataIndex:n,layout:l,itemModel:r,symbolType:a.getItemVisual(n,"symbol")||"circle",style:a.getItemVisual(n,"style"),symbolClip:f,symbolRepeat:c,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:x,rotation:v,animationModel:O?r:null,hoverScale:O&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};ERe(r,c,l,o,w),MRe(a,n,l,c,f,w.boundingLength,w.pxSign,x,o,w),DRe(r,w.symbolScale,v,o,w);var S=w.symbolSize,k=Yf(r.get("symbolOffset"),S);return IRe(r,S,l,c,f,k,p,w.valueLineWidth,w.boundingLength,w.repeatCutLength,o,w),w}function ERe(a,n,r,o,l){var c=o.valueDim,f=a.get("symbolBoundingData"),p=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),g=p.toGlobalCoord(p.dataToCoord(0)),v=1-+(r[c.wh]<=0),x;if(ke(f)){var O=[j5(p,f[0])-g,j5(p,f[1])-g];O[1]<O[0]&&O.reverse(),x=O[v]}else f!=null?x=j5(p,f)-g:n?x=o.coordSysExtent[c.index][v]-g:x=r[c.wh];l.boundingLength=x,n&&(l.repeatCutLength=r[c.wh]);var w=c.xy==="x",S=p.inverse;l.pxSign=w&&!S||!w&&S?x>=0?1:-1:x>0?1:-1}function j5(a,n){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(n)))}function MRe(a,n,r,o,l,c,f,p,g,v){var x=g.valueDim,O=g.categoryDim,w=Math.abs(r[O.wh]),S=a.getItemVisual(n,"symbolSize"),k;ke(S)?k=S.slice():S==null?k=["100%","100%"]:k=[S,S],k[O.index]=it(k[O.index],w),k[x.index]=it(k[x.index],o?w:Math.abs(c)),v.symbolSize=k;var P=v.symbolScale=[k[0]/p,k[1]/p];P[x.index]*=(g.isHorizontal?-1:1)*f}function DRe(a,n,r,o,l){var c=a.get(ARe)||0;c&&(Q5.attr({scaleX:n[0],scaleY:n[1],rotation:r}),Q5.updateTransform(),c/=Q5.getLineScale(),c*=n[o.valueDim.index]),l.valueLineWidth=c||0}function IRe(a,n,r,o,l,c,f,p,g,v,x,O){var w=x.categoryDim,S=x.valueDim,k=O.pxSign,P=Math.max(n[S.index]+p,0),E=P;if(o){var M=Math.abs(g),R=tt(a.get("symbolMargin"),"15%")+"",N=!1;R.lastIndexOf("!")===R.length-1&&(N=!0,R=R.slice(0,R.length-1));var j=it(R,n[S.index]),W=Math.max(P+j*2,0),U=N?0:j*2,X=WO(o),J=X?o:wH((M+U)/W),re=M-J*P;j=re/2/(N?J:Math.max(J-1,1)),W=P+j*2,U=N?0:j*2,!X&&o!=="fixed"&&(J=v?wH((Math.abs(v)+U)/W):0),E=J*W-U,O.repeatTimes=J,O.symbolMargin=j}var ie=k*(E/2),le=O.pathPosition=[];le[w.index]=r[w.wh]/2,le[S.index]=f==="start"?ie:f==="end"?g-ie:g/2,c&&(le[0]+=c[0],le[1]+=c[1]);var pe=O.bundlePosition=[];pe[w.index]=r[w.xy],pe[S.index]=r[S.xy];var ce=O.barRectShape=ee({},r);ce[S.wh]=k*Math.max(Math.abs(r[S.wh]),Math.abs(le[S.index]+ie)),ce[w.wh]=r[w.wh];var ye=O.clipShape={};ye[w.xy]=-r[w.xy],ye[w.wh]=x.ecSize[w.wh],ye[S.xy]=0,ye[S.wh]=r[S.wh]}function hH(a){var n=a.symbolPatternSize,r=Br(a.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function pH(a,n,r,o){var l=a.__pictorialBundle,c=r.symbolSize,f=r.valueLineWidth,p=r.pathPosition,g=n.valueDim,v=r.repeatTimes||0,x=0,O=c[n.valueDim.index]+f+r.symbolMargin*2;for(V5(a,function(P){P.__pictorialAnimationIndex=x,P.__pictorialRepeatTimes=v,x<v?Jm(P,null,k(x),r,o):Jm(P,null,{scaleX:0,scaleY:0},r,o,function(){l.remove(P)}),x++});x<v;x++){var w=hH(r);w.__pictorialAnimationIndex=x,w.__pictorialRepeatTimes=v,l.add(w);var S=k(x);Jm(w,{x:S.x,y:S.y,scaleX:0,scaleY:0},{scaleX:S.scaleX,scaleY:S.scaleY,rotation:S.rotation},r,o)}function k(P){var E=p.slice(),M=r.pxSign,R=P;return(r.symbolRepeatDirection==="start"?M>0:M<0)&&(R=v-1-P),E[g.index]=O*(R-v/2+.5)+p[g.index],{x:E[0],y:E[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function mH(a,n,r,o){var l=a.__pictorialBundle,c=a.__pictorialMainPath;c?Jm(c,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,o):(c=a.__pictorialMainPath=hH(r),l.add(c),Jm(c,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,o))}function gH(a,n,r){var o=ee({},n.barRectShape),l=a.__pictorialBarRect;l?Jm(l,null,{shape:o},n,r):(l=a.__pictorialBarRect=new Zt({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),l.disableMorphing=!0,a.add(l))}function vH(a,n,r,o){if(r.symbolClip){var l=a.__pictorialClipPath,c=ee({},r.clipShape),f=n.valueDim,p=r.animationModel,g=r.dataIndex;if(l)pn(l,{shape:c},p,g);else{c[f.wh]=0,l=new Zt({shape:c}),a.__pictorialBundle.setClipPath(l),a.__pictorialClipPath=l;var v={};v[f.wh]=r.clipShape[f.wh],zf[o?"updateProps":"initProps"](l,{shape:v},p,g)}}}function yH(a,n){var r=a.getItemModel(n);return r.getAnimationDelayParams=RRe,r.isAnimationEnabled=LRe,r}function RRe(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function LRe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function xH(a,n,r,o){var l=new _t,c=new _t;return l.add(c),l.__pictorialBundle=c,c.x=r.bundlePosition[0],c.y=r.bundlePosition[1],r.symbolRepeat?pH(l,n,r):mH(l,n,r),gH(l,r,o),vH(l,n,r,o),l.__pictorialShapeStr=OH(a,r),l.__pictorialSymbolMeta=r,l}function NRe(a,n,r){var o=r.animationModel,l=r.dataIndex,c=a.__pictorialBundle;pn(c,{x:r.bundlePosition[0],y:r.bundlePosition[1]},o,l),r.symbolRepeat?pH(a,n,r,!0):mH(a,n,r,!0),gH(a,r,!0),vH(a,n,r,!0)}function _H(a,n,r,o){var l=o.__pictorialBarRect;l&&l.removeTextContent();var c=[];V5(o,function(f){c.push(f)}),o.__pictorialMainPath&&c.push(o.__pictorialMainPath),o.__pictorialClipPath&&(r=null),Z(c,function(f){jc(f,{scaleX:0,scaleY:0},r,n,function(){o.parent&&o.parent.remove(o)})}),a.setItemGraphicEl(n,null)}function OH(a,n){return[a.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function V5(a,n,r){Z(a.__pictorialBundle.children(),function(o){o!==a.__pictorialBarRect&&n.call(r,o)})}function Jm(a,n,r,o,l,c){n&&a.attr(n),o.symbolClip&&!l?r&&a.attr(r):r&&zf[l?"updateProps":"initProps"](a,r,o.animationModel,o.dataIndex,c)}function bH(a,n,r){var o=r.dataIndex,l=r.itemModel,c=l.getModel("emphasis"),f=c.getModel("itemStyle").getItemStyle(),p=l.getModel(["blur","itemStyle"]).getItemStyle(),g=l.getModel(["select","itemStyle"]).getItemStyle(),v=l.getShallow("cursor"),x=c.get("focus"),O=c.get("blurScope"),w=c.get("scale");V5(a,function(P){if(P instanceof fi){var E=P.style;P.useStyle(ee({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},r.style))}else P.useStyle(r.style);var M=P.ensureState("emphasis");M.style=f,w&&(M.scaleX=P.scaleX*1.1,M.scaleY=P.scaleY*1.1),P.ensureState("blur").style=p,P.ensureState("select").style=g,v&&(P.cursor=v),P.z2=r.z2});var S=n.valueDim.posDesc[+(r.boundingLength>0)],k=a.__pictorialBarRect;k.ignoreClip=!0,hi(k,Jr(l),{labelFetcher:n.seriesModel,labelDataIndex:o,defaultText:jm(n.seriesModel.getData(),o),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:S}),ar(a,x,O,c.get("disabled"))}function wH(a){var n=Math.round(a);return Math.abs(a-n)<1e-4?n:Math.ceil(a)}var $Re=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,a.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=Gc(py.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:Ie.color.primary}}}),n})(py);function zRe(a){a.registerChartView(PRe),a.registerSeriesModel($Re),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Ue(hW,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,pW("pictorialBar"))}var BRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,o,l){var c=r.getData(),f=this,p=this.group,g=r.getLayerSeries(),v=c.getLayout("layoutInfo"),x=v.rect,O=v.boundaryGap;p.x=0,p.y=x.y+O[0];function w(E){return E.name}var S=new $u(this._layersSeries||[],g,w,w),k=[];S.add(Ee(P,this,"add")).update(Ee(P,this,"update")).remove(Ee(P,this,"remove")).execute();function P(E,M,R){var N=f._layers;if(E==="remove"){p.remove(N[M]);return}for(var j=[],W=[],U,X=g[M].indices,J=0;J<X.length;J++){var re=c.getItemLayout(X[J]),ie=re.x,le=re.y0,pe=re.y;j.push(ie,le),W.push(ie,le+pe),U=c.getItemVisual(X[J],"style")}var ce,ye=c.getItemLayout(X[0]),Oe=r.getModel("label"),_e=Oe.get("margin"),Pe=r.getModel("emphasis");if(E==="add"){var Se=k[M]=new _t;ce=new I9({shape:{points:j,stackedOnPoints:W,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Se.add(ce),p.add(Se),r.isAnimationEnabled()&&ce.setClipPath(QRe(ce.getBoundingRect(),r,function(){ce.removeClipPath()}))}else{var Se=N[R];ce=Se.childAt(0),p.add(Se),k[M]=Se,pn(ce,{shape:{points:j,stackedOnPoints:W}},r),Fo(ce)}hi(ce,Jr(r),{labelDataIndex:X[J-1],defaultText:c.getName(X[J-1]),inheritColor:U.fill},{normal:{verticalAlign:"middle"}}),ce.setTextConfig({position:null,local:!0});var Re=ce.getTextContent();Re&&(Re.x=ye.x-_e,Re.y=ye.y0+ye.y/2),ce.useStyle(U),c.setItemGraphicEl(M,ce),Kr(ce,r),ar(ce,Pe.get("focus"),Pe.get("blurScope"),Pe.get("disabled"))}this._layersSeries=g,this._layers=k},n.type="themeRiver",n})(Dn);function QRe(a,n,r){var o=new Zt({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return Jn(o,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},n,r),o}var F5=2,jRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new Gm(Ee(this.getData,this),Ee(this.getRawData,this))},n.prototype.fixData=function(r){var o=r.length,l={},c=aE(r,function(w){return l.hasOwnProperty(w[0]+"")||(l[w[0]+""]=-1),w[2]}),f=[];c.buckets.each(function(w,S){f.push({name:S,dataList:w})});for(var p=f.length,g=0;g<p;++g){for(var v=f[g].name,x=0;x<f[g].dataList.length;++x){var O=f[g].dataList[x][0]+"";l[O]=g}for(var O in l)l.hasOwnProperty(O)&&l[O]!==g&&(l[O]=g,r[o]=[O,0,v],o++)}return r},n.prototype.getInitialData=function(r,o){for(var l=this.getReferringComponents("singleAxis",br).models[0],c=l.get("type"),f=Qe(r.data,function(k){return k[2]!==void 0}),p=this.fixData(f||[]),g=[],v=this.nameMap=Xe(),x=0,O=0;O<p.length;++O)g.push(p[O][F5]),v.get(p[O][F5])||(v.set(p[O][F5],x),x++);var w=Rm(p,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a2(c)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,S=new ra(w,this);return S.initData(p),S},n.prototype.getLayerSeries=function(){for(var r=this.getData(),o=r.count(),l=[],c=0;c<o;++c)l[c]=c;var f=r.mapDimension("single"),p=aE(l,function(v){return r.get("name",v)}),g=[];return p.buckets.each(function(v,x){v.sort(function(O,w){return r.get(f,O)-r.get(f,w)}),g.push({name:x,indices:v})}),g},n.prototype.getAxisTooltipData=function(r,o,l){ke(r)||(r=r?[r]:[]);for(var c=this.getData(),f=this.getLayerSeries(),p=[],g=f.length,v,x=0;x<g;++x){for(var O=Number.MAX_VALUE,w=-1,S=f[x].indices.length,k=0;k<S;++k){var P=c.get(r[0],f[x].indices[k]),E=Math.abs(P-o);E<=O&&(v=P,O=E,w=f[x].indices[k])}p.push(w)}return{dataIndices:p,nestestValue:v}},n.prototype.formatTooltip=function(r,o,l){var c=this.getData(),f=c.getName(r),p=c.get(c.mapDimension("value"),r);return qr("nameValue",{name:f,value:p})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n})(Bn);function VRe(a,n){a.eachSeriesByType("themeRiver",function(r){var o=r.getData(),l=r.coordinateSystem,c={},f=l.getRect();c.rect=f;var p=r.get("boundaryGap"),g=l.getAxis();if(c.boundaryGap=p,g.orient==="horizontal"){p[0]=it(p[0],f.height),p[1]=it(p[1],f.height);var v=f.height-p[0]-p[1];SH(o,r,v)}else{p[0]=it(p[0],f.width),p[1]=it(p[1],f.width);var x=f.width-p[0]-p[1];SH(o,r,x)}o.setLayout("layoutInfo",c)})}function SH(a,n,r){if(a.count())for(var o=n.coordinateSystem,l=n.getLayerSeries(),c=a.mapDimension("single"),f=a.mapDimension("value"),p=ve(l,function(E){return ve(E.indices,function(M){var R=o.dataToPoint(a.get(c,M));return R[1]=a.get(f,M),R})}),g=FRe(p),v=g.y0,x=r/g.max,O=l.length,w=l[0].indices.length,S,k=0;k<w;++k){S=v[k]*x,a.setItemLayout(l[0].indices[k],{layerIndex:0,x:p[0][k][0],y0:S,y:p[0][k][1]*x});for(var P=1;P<O;++P)S+=p[P-1][k][1]*x,a.setItemLayout(l[P].indices[k],{layerIndex:P,x:p[P][k][0],y0:S,y:p[P][k][1]*x})}}function FRe(a){for(var n=a.length,r=a[0].length,o=[],l=[],c=0,f=0;f<r;++f){for(var p=0,g=0;g<n;++g)p+=a[g][f][1];p>c&&(c=p),o.push(p)}for(var v=0;v<r;++v)l[v]=(c-o[v])/2;c=0;for(var x=0;x<r;++x){var O=o[x]+l[x];O>c&&(c=O)}return{y0:l,max:c}}function GRe(a){a.registerChartView(BRe),a.registerSeriesModel(jRe),a.registerLayout(VRe),a.registerProcessor(Vm("themeRiver"))}var WRe=2,URe=4,TH=(function(a){u(n,a);function n(r,o,l,c){var f=a.call(this)||this;f.z2=WRe,f.textConfig={inside:!0},Et(f).seriesIndex=o.seriesIndex;var p=new un({z2:URe,silent:r.getModel().get(["label","silent"])});return f.setTextContent(p),f.updateData(!0,r,o,l,c),f}return n.prototype.updateData=function(r,o,l,c,f){this.node=o,o.piece=this,l=l||this._seriesModel,c=c||this._ecModel;var p=this;Et(p).dataIndex=o.dataIndex;var g=o.getModel(),v=g.getModel("emphasis"),x=o.getLayout(),O=ee({},x);O.label=null;var w=o.getVisual("style");w.lineJoin="bevel";var S=o.getVisual("decal");S&&(w.decal=Pm(S,f));var k=Ml(g.getModel("itemStyle"),O,!0);ee(O,k),Z(ya,function(R){var N=p.ensureState(R),j=g.getModel([R,"itemStyle"]);N.style=j.getItemStyle();var W=Ml(j,O);W&&(N.shape=W)}),r?(p.setShape(O),p.shape.r=x.r0,Jn(p,{shape:{r:x.r}},l,o.dataIndex)):(pn(p,{shape:O},l),Fo(p)),p.useStyle(w),this._updateLabel(l);var P=g.getShallow("cursor");P&&p.attr("cursor",P),this._seriesModel=l||this._seriesModel,this._ecModel=c||this._ecModel;var E=v.get("focus"),M=E==="relative"?Xn(o.getAncestorsIndices(),o.getDescendantIndices()):E==="ancestor"?o.getAncestorsIndices():E==="descendant"?o.getDescendantIndices():E;ar(this,M,v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r){var o=this,l=this.node.getModel(),c=l.getModel("label"),f=this.node.getLayout(),p=f.endAngle-f.startAngle,g=(f.startAngle+f.endAngle)/2,v=Math.cos(g),x=Math.sin(g),O=this,w=O.getTextContent(),S=this.node.dataIndex,k=c.get("minAngle")/180*Math.PI,P=c.get("show")&&!(k!=null&&Math.abs(p)<k);w.ignore=!P,Z(b0,function(M){var R=M==="normal"?l.getModel("label"):l.getModel([M,"label"]),N=M==="normal",j=N?w:w.ensureState(M),W=r.getFormattedLabel(S,M);N&&(W=W||o.node.name),j.style=Fn(R,{},null,M!=="normal",!0),W&&(j.style.text=W);var U=R.get("show");U!=null&&!N&&(j.ignore=!U);var X=E(R,"position"),J=N?O:O.states[M],re=J.style.fill;J.textConfig={outsideFill:R.get("color")==="inherit"?re:null,inside:X!=="outside"};var ie,le=E(R,"distance")||0,pe=E(R,"align"),ce=E(R,"rotate"),ye=Math.PI*.5,Oe=Math.PI*1.5,_e=vo(ce==="tangential"?Math.PI/2-g:g),Pe=_e>ye&&!Xp(_e-ye)&&_e<Oe;X==="outside"?(ie=f.r+le,pe=Pe?"right":"left"):!pe||pe==="center"?(p===2*Math.PI&&f.r0===0?ie=0:ie=(f.r+f.r0)/2,pe="center"):pe==="left"?(ie=f.r0+le,pe=Pe?"right":"left"):pe==="right"&&(ie=f.r-le,pe=Pe?"left":"right"),j.style.align=pe,j.style.verticalAlign=E(R,"verticalAlign")||"middle",j.x=ie*v+f.cx,j.y=ie*x+f.cy;var Se=0;ce==="radial"?Se=vo(-g)+(Pe?Math.PI:0):ce==="tangential"?Se=vo(Math.PI/2-g)+(Pe?Math.PI:0):dt(ce)&&(Se=ce*Math.PI/180),j.rotation=vo(Se)});function E(M,R){var N=M.get(R);return N??c.get(R)}w.dirtyStyle()},n})(Vi),G5="sunburstRootToNode",CH="sunburstHighlight",qRe="sunburstUnhighlight";function ZRe(a){a.registerAction({type:G5,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},o);function o(l,c){var f=Ty(n,[G5],l);if(f){var p=l.getViewRoot();p&&(n.direction=jI(p,f.node)?"rollUp":"drillDown"),l.resetViewRoot(f.node)}}}),a.registerAction({type:CH,update:"none"},function(n,r,o){n=ee({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},l);function l(c){var f=Ty(n,[CH],c);f&&(n.dataIndex=f.node.dataIndex)}Nr("sunburstHighlight","highlight"),o.dispatchAction(ee(n,{type:"highlight"}))}),a.registerAction({type:qRe,update:"updateView"},function(n,r,o){n=ee({},n),Nr("sunburstUnhighlight","downplay"),o.dispatchAction(ee(n,{type:"downplay"}))})}var HRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l,c){var f=this;this.seriesModel=r,this.api=l,this.ecModel=o;var p=r.getData(),g=p.tree.root,v=r.getViewRoot(),x=this.group,O=r.get("renderLabelForZeroData"),w=[];v.eachNode(function(R){w.push(R)});var S=this._oldChildren||[];k(w,S),M(g,v),this._initEvents(),this._oldChildren=w;function k(R,N){if(R.length===0&&N.length===0)return;new $u(N,R,j,j).add(W).update(W).remove(Ue(W,null)).execute();function j(U){return U.getId()}function W(U,X){var J=U==null?null:R[U],re=X==null?null:N[X];P(J,re)}}function P(R,N){if(!O&&R&&!R.getValue()&&(R=null),R!==g&&N!==g){if(N&&N.piece)R?(N.piece.updateData(!1,R,r,o,l),p.setItemGraphicEl(R.dataIndex,N.piece)):E(N);else if(R){var j=new TH(R,r,o,l);x.add(j),p.setItemGraphicEl(R.dataIndex,j)}}}function E(R){R&&R.piece&&(x.remove(R.piece),R.piece=null)}function M(R,N){N.depth>0?(f.virtualPiece?f.virtualPiece.updateData(!1,R,r,o,l):(f.virtualPiece=new TH(R,r,o,l),x.add(f.virtualPiece)),N.piece.off("click"),f.virtualPiece.on("click",function(j){f._rootToNode(N.parentNode)})):f.virtualPiece&&(x.remove(f.virtualPiece),f.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(o){var l=!1,c=r.seriesModel.getViewRoot();c.eachNode(function(f){if(!l&&f.piece&&f.piece===o.target){var p=f.getModel().get("nodeClick");if(p==="rootToNode")r._rootToNode(f);else if(p==="link"){var g=f.getModel(),v=g.get("link");if(v){var x=g.get("target",!0)||"_blank";Cb(v,x)}}l=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:G5,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,o){var l=o.getData(),c=l.getItemLayout(0);if(c){var f=r[0]-c.cx,p=r[1]-c.cy,g=Math.sqrt(f*f+p*p);return g<=c.r&&g>=c.r0}},n.type="sunburst",n})(Dn),XRe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,o){var l={name:r.name,children:r.data};kH(l);var c=this._levelModels=ve(r.levels||[],function(g){return new en(g,this,o)},this),f=QI.createTree(l,this,p);function p(g){g.wrapMethod("getItemModel",function(v,x){var O=f.getNodeByDataIndex(x),w=c[O.depth];return w&&(v.parentModel=w),v})}return f.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var o=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return o.treePathInfo=F2(l,this),o},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var o=this.getRawData().tree.root;(!r||r!==o&&!o.contains(r))&&(this._viewRoot=o)},n.prototype.enableAriaDecal=function(){Rq(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n})(Bn);function kH(a){var n=0;Z(a.children,function(o){kH(o);var l=o.value;ke(l)&&(l=l[0]),n+=l});var r=a.value;ke(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),ke(a.value)?a.value[0]=r:a.value=r}var AH=Math.PI/180;function YRe(a,n,r){n.eachSeriesByType(a,function(o){var l=o.get("center"),c=o.get("radius");ke(c)||(c=[0,c]),ke(l)||(l=[l,l]);var f=r.getWidth(),p=r.getHeight(),g=Math.min(f,p),v=it(l[0],f),x=it(l[1],p),O=it(c[0],g/2),w=it(c[1],g/2),S=-o.get("startAngle")*AH,k=o.get("minAngle")*AH,P=o.getData().tree.root,E=o.getViewRoot(),M=E.depth,R=o.get("sort");R!=null&&PH(E,R);var N=0;Z(E.children,function(_e){!isNaN(_e.getValue())&&N++});var j=E.getValue(),W=Math.PI/(j||N)*2,U=E.depth>0,X=E.height-(U?-1:1),J=(w-O)/(X||1),re=o.get("clockwise"),ie=o.get("stillShowZeroSum"),le=re?1:-1,pe=function(_e,Pe){if(_e){var Se=Pe;if(_e!==P){var Re=_e.getValue(),Ne=j===0&&ie?W:Re*W;Ne<k&&(Ne=k),Se=Pe+le*Ne;var Be=_e.depth-M-(U?-1:1),Fe=O+J*Be,rt=O+J*(Be+1),ht=o.getLevelModel(_e);if(ht){var Mt=ht.get("r0",!0),vn=ht.get("r",!0),Rn=ht.get("radius",!0);Rn!=null&&(Mt=Rn[0],vn=Rn[1]),Mt!=null&&(Fe=it(Mt,g/2)),vn!=null&&(rt=it(vn,g/2))}_e.setLayout({angle:Ne,startAngle:Pe,endAngle:Se,clockwise:re,cx:v,cy:x,r0:Fe,r:rt})}if(_e.children&&_e.children.length){var Dt=0;Z(_e.children,function(Ot){Dt+=pe(Ot,Pe+Dt)})}return Se-Pe}};if(U){var ce=O,ye=O+J,Oe=Math.PI*2;P.setLayout({angle:Oe,startAngle:S,endAngle:S+Oe,clockwise:re,cx:v,cy:x,r0:ce,r:ye})}pe(E,S)})}function PH(a,n){var r=a.children||[];a.children=KRe(r,n),r.length&&Z(a.children,function(o){PH(o,n)})}function KRe(a,n){if(Ge(n)){var r=ve(a,function(l,c){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:c}});return r.sort(function(l,c){return n(l.params,c.params)}),ve(r,function(l){return a[l.index]})}else{var o=n==="asc";return a.sort(function(l,c){var f=(l.getValue()-c.getValue())*(o?1:-1);return f===0?(l.dataIndex-c.dataIndex)*(o?-1:1):f})}}function JRe(a){var n={};function r(o,l,c){if(o.depth===0)return Ie.color.neutral50;for(var f=o;f&&f.depth>1;)f=f.parentNode;var p=l.getColorFromPalette(f.name||f.dataIndex+"",n);return o.depth>1&&De(p)&&(p=SO(p,(o.depth-1)/(c-1)*.5)),p}a.eachSeriesByType("sunburst",function(o){var l=o.getData(),c=l.tree;c.eachNode(function(f){var p=f.getModel(),g=p.getModel("itemStyle").getItemStyle();g.fill||(g.fill=r(f,o,c.root.height));var v=l.ensureUniqueItemVisual(f.dataIndex,"style");ee(v,g)})})}function eLe(a){a.registerChartView(HRe),a.registerSeriesModel(XRe),a.registerLayout(Ue(YRe,"sunburst")),a.registerProcessor(Ue(Vm,"sunburst")),a.registerVisual(JRe),ZRe(a)}var EH={color:"fill",borderColor:"stroke"},tLe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Fu=Kt(),nLe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,o){return Tl(null,this)},n.prototype.getDataParams=function(r,o,l){var c=a.prototype.getDataParams.call(this,r,o);return l&&(c.info=Fu(l).info),c},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n})(Bn);function rLe(a,n){return n=n||[0,0],ve(["x","y"],function(r,o){var l=this.getAxis(r),c=n[o],f=a[o]/2;return l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(c-f)-l.dataToCoord(c+f))},this)}function iLe(a){var n=a.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return a.dataToPoint(r)},size:Ee(rLe,a)}}}function aLe(a,n){return n=n||[0,0],ve([0,1],function(r){var o=n[r],l=a[r]/2,c=[],f=[];return c[r]=o-l,f[r]=o+l,c[1-r]=f[1-r]=n[1-r],Math.abs(this.dataToPoint(c)[r]-this.dataToPoint(f)[r])},this)}function oLe(a){var n=a.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:a.getZoom()},api:{coord:function(r){return a.dataToPoint(r)},size:Ee(aLe,a)}}}function sLe(a,n){var r=this.getAxis(),o=n instanceof Array?n[0]:n,l=(a instanceof Array?a[0]:a)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-l)-r.dataToCoord(o+l))}function lLe(a){var n=a.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return a.dataToPoint(r)},size:Ee(sLe,a)}}}function uLe(a,n){return n=n||[0,0],ve(["Radius","Angle"],function(r,o){var l="get"+r+"Axis",c=this[l](),f=n[o],p=a[o]/2,g=c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(f-p)-c.dataToCoord(f+p));return r==="Angle"&&(g=g*Math.PI/180),g},this)}function cLe(a){var n=a.getRadiusAxis(),r=a.getAngleAxis(),o=n.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:o[1],r0:o[0]},api:{coord:function(l){var c=n.dataToRadius(l[0]),f=r.dataToAngle(l[1]),p=a.coordToPoint([c,f]);return p.push(c,f*Math.PI/180),p},size:Ee(uLe,a)}}}function dLe(a){var n=a.getRect(),r=a.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(o,l){return a.dataToPoint(o,l)},layout:function(o,l){return a.dataToLayout(o,l)}}}}function fLe(a){var n=a.getRect();return{coordSys:{type:"matrix",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r,o){return a.dataToPoint(r,o)},layout:function(r,o){return a.dataToLayout(r,o)}}}}var MH={};function DH(a,n,r,o){return a&&(a.legacy||a.legacy!==!1&&!r&&!o&&n!=="tspan"&&(n==="text"||Je(a,"text")))}function IH(a,n,r){var o=a,l,c,f;if(n==="text")f=o;else{f={},Je(o,"text")&&(f.text=o.text),Je(o,"rich")&&(f.rich=o.rich),Je(o,"textFill")&&(f.fill=o.textFill),Je(o,"textStroke")&&(f.stroke=o.textStroke),Je(o,"fontFamily")&&(f.fontFamily=o.fontFamily),Je(o,"fontSize")&&(f.fontSize=o.fontSize),Je(o,"fontStyle")&&(f.fontStyle=o.fontStyle),Je(o,"fontWeight")&&(f.fontWeight=o.fontWeight),c={type:"text",style:f,silent:!0},l={};var p=Je(o,"textPosition");r?l.position=p?o.textPosition:"inside":p&&(l.position=o.textPosition),Je(o,"textPosition")&&(l.position=o.textPosition),Je(o,"textOffset")&&(l.offset=o.textOffset),Je(o,"textRotation")&&(l.rotation=o.textRotation),Je(o,"textDistance")&&(l.distance=o.textDistance)}return RH(f,a),Z(f.rich,function(g){RH(g,g)}),{textConfig:l,textContent:c}}function RH(a,n){n&&(n.font=n.textFont||n.font,Je(n,"textStrokeWidth")&&(a.lineWidth=n.textStrokeWidth),Je(n,"textAlign")&&(a.align=n.textAlign),Je(n,"textVerticalAlign")&&(a.verticalAlign=n.textVerticalAlign),Je(n,"textLineHeight")&&(a.lineHeight=n.textLineHeight),Je(n,"textWidth")&&(a.width=n.textWidth),Je(n,"textHeight")&&(a.height=n.textHeight),Je(n,"textBackgroundColor")&&(a.backgroundColor=n.textBackgroundColor),Je(n,"textPadding")&&(a.padding=n.textPadding),Je(n,"textBorderColor")&&(a.borderColor=n.textBorderColor),Je(n,"textBorderWidth")&&(a.borderWidth=n.textBorderWidth),Je(n,"textBorderRadius")&&(a.borderRadius=n.textBorderRadius),Je(n,"textBoxShadowColor")&&(a.shadowColor=n.textBoxShadowColor),Je(n,"textBoxShadowBlur")&&(a.shadowBlur=n.textBoxShadowBlur),Je(n,"textBoxShadowOffsetX")&&(a.shadowOffsetX=n.textBoxShadowOffsetX),Je(n,"textBoxShadowOffsetY")&&(a.shadowOffsetY=n.textBoxShadowOffsetY))}function LH(a,n,r){var o=a;o.textPosition=o.textPosition||r.position||"inside",r.offset!=null&&(o.textOffset=r.offset),r.rotation!=null&&(o.textRotation=r.rotation),r.distance!=null&&(o.textDistance=r.distance);var l=o.textPosition.indexOf("inside")>=0,c=a.fill||Ie.color.neutral99;NH(o,n);var f=o.textFill==null;return l?f&&(o.textFill=r.insideFill||Ie.color.neutral00,!o.textStroke&&r.insideStroke&&(o.textStroke=r.insideStroke),!o.textStroke&&(o.textStroke=c),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(f&&(o.textFill=a.fill||r.outsideFill||Ie.color.neutral00),!o.textStroke&&r.outsideStroke&&(o.textStroke=r.outsideStroke)),o.text=n.text,o.rich=n.rich,Z(n.rich,function(p){NH(p,p)}),o}function NH(a,n){n&&(Je(n,"fill")&&(a.textFill=n.fill),Je(n,"stroke")&&(a.textStroke=n.fill),Je(n,"lineWidth")&&(a.textStrokeWidth=n.lineWidth),Je(n,"font")&&(a.font=n.font),Je(n,"fontStyle")&&(a.fontStyle=n.fontStyle),Je(n,"fontWeight")&&(a.fontWeight=n.fontWeight),Je(n,"fontSize")&&(a.fontSize=n.fontSize),Je(n,"fontFamily")&&(a.fontFamily=n.fontFamily),Je(n,"align")&&(a.textAlign=n.align),Je(n,"verticalAlign")&&(a.textVerticalAlign=n.verticalAlign),Je(n,"lineHeight")&&(a.textLineHeight=n.lineHeight),Je(n,"width")&&(a.textWidth=n.width),Je(n,"height")&&(a.textHeight=n.height),Je(n,"backgroundColor")&&(a.textBackgroundColor=n.backgroundColor),Je(n,"padding")&&(a.textPadding=n.padding),Je(n,"borderColor")&&(a.textBorderColor=n.borderColor),Je(n,"borderWidth")&&(a.textBorderWidth=n.borderWidth),Je(n,"borderRadius")&&(a.textBorderRadius=n.borderRadius),Je(n,"shadowColor")&&(a.textBoxShadowColor=n.shadowColor),Je(n,"shadowBlur")&&(a.textBoxShadowBlur=n.shadowBlur),Je(n,"shadowOffsetX")&&(a.textBoxShadowOffsetX=n.shadowOffsetX),Je(n,"shadowOffsetY")&&(a.textBoxShadowOffsetY=n.shadowOffsetY),Je(n,"textShadowColor")&&(a.textShadowColor=n.textShadowColor),Je(n,"textShadowBlur")&&(a.textShadowBlur=n.textShadowBlur),Je(n,"textShadowOffsetX")&&(a.textShadowOffsetX=n.textShadowOffsetX),Je(n,"textShadowOffsetY")&&(a.textShadowOffsetY=n.textShadowOffsetY))}function $H(a,n){{var r=a+"^_^"+n;MH[r]||(console.warn('[ECharts] DEPRECATED: "'+a+'" has been deprecated. '+n),MH[r]=!0)}}var zH={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},BH=He(zH),nw=ze(ul,function(a,n){return a[n]=1,a},{}),QH=ul.join(", "),rw=["","style","shape","extra"],eg=Kt();function W5(a,n,r,o,l){var c=a+"Animation",f=um(a,o,l)||{},p=eg(n).userDuring;return f.duration>0&&(f.during=p?Ee(vLe,{el:n,userDuring:p}):null,f.setToFinal=!0,f.scope=a),ee(f,r[c]),f}function iw(a,n,r,o){o=o||{};var l=o.dataIndex,c=o.isInit,f=o.clearStyle,p=r.isAnimationEnabled(),g=eg(a),v=n.style;g.userDuring=n.during;var x={},O={};if(xLe(a,n,O),a.type==="compound")for(var w=a.shape.paths,S=n.shape.paths,k=0;k<S.length;k++){var P=S[k];U5("shape",P,w[k])}else U5("shape",n,O),U5("extra",n,O);if(!c&&p&&(yLe(a,n,x),VH("shape",a,n,x),VH("extra",a,n,x),_Le(a,n,v,x)),O.style=v,hLe(a,O,f),mLe(a,n),p)if(c){var E={};Z(rw,function(R){var N=R?n[R]:n;N&&N.enterFrom&&(R&&(E[R]=E[R]||{}),ee(R?E[R]:E,N.enterFrom))});var M=W5("enter",a,n,r,l);M.duration>0&&a.animateFrom(E,M)}else pLe(a,n,l||0,r,x);jH(a,n),v?a.dirty():a.markRedraw()}function jH(a,n){for(var r=eg(a).leaveToProps,o=0;o<rw.length;o++){var l=rw[o],c=l?n[l]:n;c&&c.leaveTo&&(r||(r=eg(a).leaveToProps={}),l&&(r[l]=r[l]||{}),ee(l?r[l]:r,c.leaveTo))}}function aw(a,n,r,o){if(a){var l=a.parent,c=eg(a).leaveToProps;if(c){var f=W5("update",a,n,r,0);f.done=function(){l&&l.remove(a)},a.animateTo(c,f)}else l&&l.remove(a)}}function _h(a){return a==="all"}function hLe(a,n,r){var o=n.style;if(!a.isGroup&&o){if(r){a.useStyle({});for(var l=a.animators,c=0;c<l.length;c++){var f=l[c];f.targetName==="style"&&f.changeTarget(a.style)}}a.setStyle(o)}n&&(n.style=null,n&&a.attr(n),n.style=o)}function pLe(a,n,r,o,l){if(l){var c=W5("update",a,n,o,r);c.duration>0&&a.animateFrom(l,c)}}function mLe(a,n){Je(n,"silent")&&(a.silent=n.silent),Je(n,"ignore")&&(a.ignore=n.ignore),a instanceof jo&&Je(n,"invisible")&&(a.invisible=n.invisible),a instanceof Jt&&Je(n,"autoBatch")&&(a.autoBatch=n.autoBatch)}var Dl={},gLe={setTransform:function(a,n){return Ke(Je(nw,a),"Only "+QH+" available in `setTransform`."),Dl.el[a]=n,this},getTransform:function(a){return Ke(Je(nw,a),"Only "+QH+" available in `getTransform`."),Dl.el[a]},setShape:function(a,n){tg(a);var r=Dl.el,o=r.shape||(r.shape={});return o[a]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(a){tg(a);var n=Dl.el.shape;if(n)return n[a]},setStyle:function(a,n){tg(a);var r=Dl.el,o=r.style;return o&&(qe(n)&&fr("style."+a+" must not be assigned with NaN."),o[a]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(a){tg(a);var n=Dl.el.style;if(n)return n[a]},setExtra:function(a,n){tg(a);var r=Dl.el.extra||(Dl.el.extra={});return r[a]=n,this},getExtra:function(a){tg(a);var n=Dl.el.extra;if(n)return n[a]}};function tg(a){if(a==="transition"||a==="enterFrom"||a==="leaveTo")throw new Error('key must not be "'+a+'"')}function vLe(){var a=this,n=a.el;if(n){var r=eg(n).userDuring,o=a.userDuring;if(r!==o){a.el=a.userDuring=null;return}Dl.el=n,o(gLe)}}function VH(a,n,r,o){var l=r[a];if(l){var c=n[a],f;if(c){var p=r.transition,g=l.transition;if(g)if(!f&&(f=o[a]={}),_h(g))ee(f,c);else for(var v=Vn(g),x=0;x<v.length;x++){var O=v[x],w=c[O];f[O]=w}else if(_h(p)||se(p,a)>=0){!f&&(f=o[a]={});for(var S=He(c),x=0;x<S.length;x++){var O=S[x],w=c[O];OLe(l[O],w)&&(f[O]=w)}}}}}function U5(a,n,r){var o=n[a];if(o)for(var l=r[a]={},c=He(o),f=0;f<c.length;f++){var p=c[f];l[p]=f0(o[p])}}function yLe(a,n,r){for(var o=n.transition,l=_h(o)?ul:Vn(o||[]),c=0;c<l.length;c++){var f=l[c];if(!(f==="style"||f==="shape"||f==="extra")){var p=a[f];FH(f,"el.transition"),r[f]=p}}}function xLe(a,n,r){for(var o=0;o<BH.length;o++){var l=BH[o],c=zH[l],f=n[l];f&&(r[c[0]]=f[0],r[c[1]]=f[1])}for(var o=0;o<ul.length;o++){var p=ul[o];n[p]!=null&&(r[p]=n[p])}}function _Le(a,n,r,o){if(r){var l=a.style,c;if(l){var f=r.transition,p=n.transition;if(f&&!_h(f)){var g=Vn(f);!c&&(c=o.style={});for(var v=0;v<g.length;v++){var x=g[v],O=l[x];c[x]=O}}else if(a.getAnimationStyleProps&&(_h(p)||_h(f)||se(p,"style")>=0)){var w=a.getAnimationStyleProps(),S=w?w.style:null;if(S){!c&&(c=o.style={});for(var k=He(r),v=0;v<k.length;v++){var x=k[v];if(S[x]){var O=l[x];c[x]=O}}}}}}}function OLe(a,n){return Le(a)?a!==n:a!=null&&isFinite(a)}var FH;FH=function(a,n){Je(nw,a)||fr("Prop `"+a+"` is not a permitted in `"+n+"`. Only `"+He(nw).join("`, `")+"` are permitted.")};var GH=Kt(),bLe=["percent","easing","shape","style","extra"];function WH(a){a.stopAnimation("keyframe"),a.attr(GH(a))}function ow(a,n,r){if(!(!r.isAnimationEnabled()||!n)){if(ke(n)){Z(n,function(p){ow(a,p,r)});return}var o=n.keyframes,l=n.duration;if(r&&l==null){var c=um("enter",r,0);l=c&&c.duration}if(!(!o||!l)){var f=GH(a);Z(rw,function(p){if(!(p&&!a[p])){var g,v=!1;o.sort(function(x,O){return x.percent-O.percent}),Z(o,function(x){var O=a.animators,w=p?x[p]:x;if(x.percent>=1&&(v=!0),!!w){var S=He(w);if(p||(S=Qe(S,function(E){return se(bLe,E)<0})),!!S.length){g||(g=a.animate(p,n.loop,!0),g.scope="keyframe");for(var k=0;k<O.length;k++)O[k]!==g&&O[k].targetName===g.targetName&&O[k].stopTracks(S);p&&(f[p]=f[p]||{});var P=p?f[p]:f;Z(S,function(E){P[E]=((p?a[p]:a)||{})[E]}),g.whenWithKeys(l*x.percent,w,S,x.easing)}}}),g&&(v||fr("End frame with percent: 1 is missing in the keyframeAnimation.",!0),g.delay(n.delay||0).duration(l).start(n.easing))}})}}}var Gu="emphasis",ad="normal",q5="blur",Z5="select",od=[ad,Gu,q5,Z5],H5={normal:["itemStyle"],emphasis:[Gu,"itemStyle"],blur:[q5,"itemStyle"],select:[Z5,"itemStyle"]},X5={normal:["label"],emphasis:[Gu,"label"],blur:[q5,"label"],select:[Z5,"label"]},wLe=["x","y"],SLe="e\0\0",Ko={normal:{},emphasis:{},blur:{},select:{}},UH={cartesian2d:iLe,geo:oLe,single:lLe,polar:cLe,calendar:dLe,matrix:fLe};function sw(a){return a instanceof Jt}function Y5(a){return a instanceof jo}function TLe(a,n){n.copyTransform(a),Y5(n)&&Y5(a)&&(n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel,n.invisible=a.invisible,n.ignore=a.ignore,sw(n)&&sw(a)&&n.setShape(a.shape))}var CLe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l,c){this._progressiveEls=null;var f=this._data,p=r.getData(),g=this.group,v=ZH(r,p,o,l);f||g.removeAll(),p.diff(f).add(function(O){eR(l,null,O,v(O,c),r,g,p)}).remove(function(O){var w=f.getItemGraphicEl(O);w&&aw(w,Fu(w).option,r)}).update(function(O,w){var S=f.getItemGraphicEl(w);eR(l,S,O,v(O,c),r,g,p)}).execute();var x=r.get("clip",!0)?fy(r.coordinateSystem,!1,r):null;x?g.setClipPath(x):g.removeClipPath(),this._data=p},n.prototype.incrementalPrepareRender=function(r,o,l){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,o,l,c,f){var p=o.getData(),g=ZH(o,p,l,c),v=this._progressiveEls=[];function x(S){S.isGroup||(S.incremental=!0,S.ensureState("emphasis").hoverLayer=!0)}for(var O=r.start;O<r.end;O++){var w=eR(null,null,O,g(O,f),o,this.group,p);w&&(w.traverse(x),v.push(w))}},n.prototype.eachRendered=function(r){Fc(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,o,l,c){var f=o.element;if(f==null||l.name===f)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===f)return!0;return!1},n.type="custom",n})(Dn);function K5(a){var n=a.type,r;if(n==="path"){var o=a.shape,l=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,c=JH(o);r=dm(c,null,l,o.layout||"center"),Fu(r).customPathData=c}else if(n==="image")r=new fi({}),Fu(r).customImagePath=a.style.image;else if(n==="text")r=new un({});else if(n==="group")r=new _t;else if(n==="compoundPath"){var o=a.shape;if(!o||!o.paths){var f="";f="shape.paths must be specified in compoundPath",Sn(f)}var p=ve(o.paths,function(x){if(x.type==="path")return dm(x.shape.pathData,x,null);var O=P0(x.type);if(!O){var w="";w='graphic type "'+n+'" can not be found.',Sn(w)}return new O});r=new A0({shape:{paths:p}})}else{var g=P0(n);if(!g){var f="";f='graphic type "'+n+'" can not be found.',Sn(f)}r=new g}return Fu(r).customGraphicType=n,r.name=a.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function J5(a,n,r,o,l,c,f){WH(n);var p=l&&l.normal.cfg;p&&n.setTextConfig(p),o&&o.transition==null&&(o.transition=wLe);var g=o&&o.style;if(g){if(n.type==="text"){var v=g;Je(v,"textFill")&&(v.fill=v.textFill),Je(v,"textStroke")&&(v.stroke=v.textStroke)}var x=void 0,O=sw(n)?g.decal:null;a&&O&&(O.dirty=!0,x=Pm(O,a)),g.__decalPattern=x}if(Y5(n)&&g){var x=g.__decalPattern;x&&(g.decal=x)}iw(n,o,c,{dataIndex:r,isInit:f,clearStyle:!0}),ow(n,o.keyframeAnimation,c)}function qH(a,n,r,o,l){var c=n.isGroup?null:n,f=l&&l[a].cfg;if(c){var p=c.ensureState(a);if(o===!1){var g=c.getState(a);g&&(g.style=null)}else p.style=o||null;f&&(p.textConfig=f),Ef(c)}}function kLe(a,n,r){if(!a.isGroup){var o=a,l=r.currentZ,c=r.currentZLevel;o.z=l,o.zlevel=c;var f=n.z2;f!=null&&(o.z2=f||0);for(var p=0;p<od.length;p++)ALe(o,n,od[p])}}function ALe(a,n,r){var o=r===ad,l=o?n:lw(n,r),c=l?l.z2:null,f;c!=null&&(f=o?a:a.ensureState(r),f.z2=c||0)}function ZH(a,n,r,o){var l=a.get("renderItem");if(typeof l=="string"){var c=OTe(l);c?l=c:console.warn("Custom series renderItem '"+l+`' not found.
                Call 'echarts.registerCustomSeries' to register it.`)}var f=a.coordinateSystem,p={};f&&(Ke(l,"series.render is required."),Ke(f.prepareCustoms||UH[f.type],"This coordSys does not support custom series."),p=f.prepareCustoms?f.prepareCustoms(f):UH[f.type](f));for(var g=be({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:W,style:X,ordinalRawValue:U,styleEmphasis:J,visual:le,barLayout:pe,currentSeriesIndices:ce,font:ye},p.api||{}),v={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:p.coordSys,dataInsideLength:n.count(),encode:PLe(a.getData()),itemPayload:a.get("itemPayload")||{}},x,O,w={},S={},k={},P={},E=0;E<od.length;E++){var M=od[E];k[M]=a.getModel(H5[M]),P[M]=a.getModel(X5[M])}function R(Oe){return Oe===x?O||(O=n.getItemModel(Oe)):n.getItemModel(Oe)}function N(Oe,_e){return n.hasItemOption?Oe===x?w[_e]||(w[_e]=R(Oe).getModel(H5[_e])):R(Oe).getModel(H5[_e]):k[_e]}function j(Oe,_e){return n.hasItemOption?Oe===x?S[_e]||(S[_e]=R(Oe).getModel(X5[_e])):R(Oe).getModel(X5[_e]):P[_e]}return function(Oe,_e){return x=Oe,O=null,w={},S={},l&&l(be({dataIndexInside:Oe,dataIndex:n.getRawIndex(Oe),actionType:_e?_e.type:null},v),g)};function W(Oe,_e){return _e==null&&(_e=x),n.getStore().get(n.getDimensionIndex(Oe||0),_e)}function U(Oe,_e){_e==null&&(_e=x),Oe=Oe||0;var Pe=n.getDimensionInfo(Oe);if(!Pe){var Se=n.getDimensionIndex(Oe);return Se>=0?n.getStore().get(Se,_e):void 0}var Re=n.get(Pe.name,_e),Ne=Pe&&Pe.ordinalMeta;return Ne?Ne.categories[Re]:Re}function X(Oe,_e){$H("api.style","Please write literal style directly instead."),_e==null&&(_e=x);var Pe=n.getItemVisual(_e,"style"),Se=Pe&&Pe.fill,Re=Pe&&Pe.opacity,Ne=N(_e,ad).getItemStyle();Se!=null&&(Ne.fill=Se),Re!=null&&(Ne.opacity=Re);var Be={inheritColor:De(Se)?Se:Ie.color.neutral99},Fe=j(_e,ad),rt=Fn(Fe,null,Be,!1,!0);rt.text=Fe.getShallow("show")?$e(a.getFormattedLabel(_e,ad),jm(n,_e)):null;var ht=_b(Fe,Be,!1);return ie(Oe,Ne),Ne=LH(Ne,rt,ht),Oe&&re(Ne,Oe),Ne.legacy=!0,Ne}function J(Oe,_e){$H("api.styleEmphasis","Please write literal style directly instead."),_e==null&&(_e=x);var Pe=N(_e,Gu).getItemStyle(),Se=j(_e,Gu),Re=Fn(Se,null,null,!0,!0);Re.text=Se.getShallow("show")?zt(a.getFormattedLabel(_e,Gu),a.getFormattedLabel(_e,ad),jm(n,_e)):null;var Ne=_b(Se,null,!0);return ie(Oe,Pe),Pe=LH(Pe,Re,Ne),Oe&&re(Pe,Oe),Pe.legacy=!0,Pe}function re(Oe,_e){for(var Pe in _e)Je(_e,Pe)&&(Oe[Pe]=_e[Pe])}function ie(Oe,_e){Oe&&(Oe.textFill&&(_e.textFill=Oe.textFill),Oe.textPosition&&(_e.textPosition=Oe.textPosition))}function le(Oe,_e){if(_e==null&&(_e=x),Je(EH,Oe)){var Pe=n.getItemVisual(_e,"style");return Pe?Pe[EH[Oe]]:null}if(Je(tLe,Oe))return n.getItemVisual(_e,Oe)}function pe(Oe){if(f.type==="cartesian2d"){var _e=f.getBaseAxis();return TCe(be({axis:_e},Oe))}}function ce(){return r.getCurrentSeriesIndices()}function ye(Oe){return tM(Oe,r)}}function PLe(a){var n={};return Z(a.dimensions,function(r){var o=a.getDimensionInfo(r);if(!o.isExtraCoord){var l=o.coordDim,c=n[l]=n[l]||[];c[o.coordDimIndex]=a.getDimensionIndex(r)}}),n}function eR(a,n,r,o,l,c,f){if(!o){c.remove(n);return}var p=tR(a,n,r,o,l,c);return p&&f.setItemGraphicEl(r,p),p&&ar(p,o.focus,o.blurScope,o.emphasisDisabled),p}function tR(a,n,r,o,l,c){Ke(o,"should not have an null/undefined element setting");var f=-1,p=n;n&&HH(n,o,l)&&(f=se(c.childrenRef(),n),n=null);var g=!n,v=n;v?v.clearStates():(v=K5(o),p&&TLe(p,v)),o.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),o.tooltipDisabled&&(v.tooltipDisabled=!0),Ko.normal.cfg=Ko.normal.conOpt=Ko.emphasis.cfg=Ko.emphasis.conOpt=Ko.blur.cfg=Ko.blur.conOpt=Ko.select.cfg=Ko.select.conOpt=null,Ko.isLegacy=!1,MLe(v,r,o,l,g,Ko),ELe(v,r,o,l,g),J5(a,v,r,o,Ko,l,g),Je(o,"info")&&(Fu(v).info=o.info);for(var x=0;x<od.length;x++){var O=od[x];if(O!==ad){var w=lw(o,O),S=nR(o,w,O);qH(O,v,w,S,Ko)}}return kLe(v,o,l),o.type==="group"&&DLe(a,v,r,o,l),f>=0?c.replaceAt(v,f):c.add(v),v}function HH(a,n,r){var o=Fu(a),l=n.type,c=n.shape,f=n.style;return r.isUniversalTransitionEnabled()||l!=null&&l!==o.customGraphicType||l==="path"&&NLe(c)&&JH(c)!==o.customPathData||l==="image"&&Je(f,"image")&&f.image!==o.customImagePath}function ELe(a,n,r,o,l){var c=r.clipPath;if(c===!1)a&&a.getClipPath()&&a.removeClipPath();else if(c){var f=a.getClipPath();f&&HH(f,c,o)&&(f=null),f||(f=K5(c),Ke(sw(f),"Only any type of `path` can be used in `clipPath`, rather than "+f.type+"."),a.setClipPath(f)),J5(null,f,n,c,null,o,l)}}function MLe(a,n,r,o,l,c){if(!(a.isGroup||a.type==="compoundPath")){XH(r,null,c),XH(r,Gu,c);var f=c.normal.conOpt,p=c.emphasis.conOpt,g=c.blur.conOpt,v=c.select.conOpt;if(f!=null||p!=null||v!=null||g!=null){var x=a.getTextContent();if(f===!1)x&&a.removeTextContent();else{f=c.normal.conOpt=f||{type:"text"},x?x.clearStates():(x=K5(f),a.setTextContent(x)),J5(null,x,n,f,null,o,l);for(var O=f&&f.style,w=0;w<od.length;w++){var S=od[w];if(S!==ad){var k=c[S].conOpt;qH(S,x,k,nR(f,k,S),null)}}O?x.dirty():x.markRedraw()}}}}function XH(a,n,r){var o=n?lw(a,n):a,l=n?nR(a,o,Gu):a.style,c=a.type,f=o?o.textConfig:null,p=a.textContent,g=p?n?lw(p,n):p:null;if(l&&(r.isLegacy||DH(l,c,!!f,!!g))){r.isLegacy=!0;var v=IH(l,c,!n);!f&&v.textConfig&&(f=v.textConfig),!g&&v.textContent&&(g=v.textContent)}if(!n&&g){var x=g;!x.type&&(x.type="text"),Ke(x.type==="text",'textContent.type must be "text"')}var O=n?r[n]:r.normal;O.cfg=f,O.conOpt=g}function lw(a,n){return n?a?a[n]:null:a}function nR(a,n,r){var o=n&&n.style;return o==null&&r===Gu&&a&&(o=a.styleEmphasis),o}function DLe(a,n,r,o,l){var c=o.children,f=c?c.length:0,p=o.$mergeChildren,g=p==="byName"||o.diffChildrenByName,v=p===!1;if(!(!f&&!g&&!v)){if(g){RLe({api:a,oldChildren:n.children()||[],newChildren:c||[],dataIndex:r,seriesModel:l,group:n});return}v&&n.removeAll();for(var x=0;x<f;x++){var O=c[x],w=n.childAt(x);O?(O.ignore==null&&(O.ignore=!1),tR(a,w,r,O,l,n)):(Ke(w,"renderItem should not return a group containing elements as null/undefined/{} if they do not exist before."),w.ignore=!0)}for(var S=n.childCount()-1;S>=x;S--){var k=n.childAt(S);ILe(n,k,l)}}}function ILe(a,n,r){n&&aw(n,Fu(a).option,r)}function RLe(a){new $u(a.oldChildren,a.newChildren,YH,YH,a).add(KH).update(KH).remove(LLe).execute()}function YH(a,n){var r=a&&a.name;return r??SLe+n}function KH(a,n){var r=this.context,o=a!=null?r.newChildren[a]:null,l=n!=null?r.oldChildren[n]:null;tR(r.api,l,r.dataIndex,o,r.seriesModel,r.group)}function LLe(a){var n=this.context,r=n.oldChildren[a];r&&aw(r,Fu(r).option,n.seriesModel)}function JH(a){return a&&(a.pathData||a.d)}function NLe(a){return a&&(Je(a,"pathData")||Je(a,"d"))}function $Le(a){a.registerChartView(CLe),a.registerSeriesModel(nLe)}var Oh=Kt(),eX=ne,rR=Ee,iR=(function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(n,r,o,l){var c=r.get("value"),f=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=o,!(!l&&this._lastValue===c&&this._lastStatus===f)){this._lastValue=c,this._lastStatus=f;var p=this._group,g=this._handle;if(!f||f==="hide"){p&&p.hide(),g&&g.hide();return}p&&p.show(),g&&g.show();var v={};this.makeElOption(v,c,n,r,o);var x=v.graphicKey;x!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=x;var O=this._moveAnimation=this.determineAnimation(n,r);if(!p)p=this._group=new _t,this.createPointerEl(p,v,n,r),this.createLabelEl(p,v,n,r),o.getZr().add(p);else{var w=Ue(tX,r,O);this.updatePointerEl(p,v,w),this.updateLabelEl(p,v,w,r)}iX(p,r,!0),this._renderHandle(c)}},a.prototype.remove=function(n){this.clear(n)},a.prototype.dispose=function(n){this.clear(n)},a.prototype.determineAnimation=function(n,r){var o=r.get("animation"),l=n.axis,c=l.type==="category",f=r.get("snap");if(!f&&!c)return!1;if(o==="auto"||o==null){var p=this.animationThreshold;if(c&&l.getBandWidth()>p)return!0;if(f){var g=wI(n).seriesDataCount,v=l.getExtent();return Math.abs(v[0]-v[1])/g>p}return!1}return o===!0},a.prototype.makeElOption=function(n,r,o,l,c){},a.prototype.createPointerEl=function(n,r,o,l){var c=r.pointer;if(c){var f=Oh(n).pointerEl=new zf[c.type](eX(r.pointer));n.add(f)}},a.prototype.createLabelEl=function(n,r,o,l){if(r.label){var c=Oh(n).labelEl=new un(eX(r.label));n.add(c),rX(c,l)}},a.prototype.updatePointerEl=function(n,r,o){var l=Oh(n).pointerEl;l&&r.pointer&&(l.setStyle(r.pointer.style),o(l,{shape:r.pointer.shape}))},a.prototype.updateLabelEl=function(n,r,o,l){var c=Oh(n).labelEl;c&&(c.setStyle(r.label.style),o(c,{x:r.label.x,y:r.label.y}),rX(c,l))},a.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,o=this._api.getZr(),l=this._handle,c=r.getModel("handle"),f=r.get("status");if(!c.get("show")||!f||f==="hide"){l&&o.remove(l),this._handle=null;return}var p;this._handle||(p=!0,l=this._handle=hm(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){bs(v.event)},onmousedown:rR(this._onHandleDragMove,this,0,0),drift:rR(this._onHandleDragMove,this),ondragend:rR(this._onHandleDragEnd,this)}),o.add(l)),iX(l,r,!1),l.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var g=c.get("size");ke(g)||(g=[g,g]),l.scaleX=g[0]/2,l.scaleY=g[1]/2,Tm(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,p)}},a.prototype._moveHandleToValue=function(n,r){tX(this._axisPointerModel,!r&&this._moveAnimation,this._handle,aR(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(n,r){var o=this._handle;if(o){this._dragging=!0;var l=this.updateHandleTransform(aR(o),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=l,o.stopAnimation(),o.attr(aR(l)),Oh(o).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),o=this._group,l=this._handle;r&&o&&(this._lastGraphicKey=null,o&&r.remove(o),l&&r.remove(l),this._group=null,this._handle=null,this._payloadInfo=null),W0(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(n,r,o){return o=o||0,{x:n[o],y:n[1-o],width:r[o],height:r[1-o]}},a})();function tX(a,n,r,o){nX(Oh(r).lastProp,o)||(Oh(r).lastProp=o,n?pn(r,o,a):(r.stopAnimation(),r.attr(o)))}function nX(a,n){if(Ze(a)&&Ze(n)){var r=!0;return Z(n,function(o,l){r=r&&nX(a[l],o)}),!!r}else return a===n}function rX(a,n){a[n.get(["label","show"])?"show":"hide"]()}function aR(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function iX(a,n,r){var o=n.get("z"),l=n.get("zlevel");a&&a.traverse(function(c){c.type!=="group"&&(o!=null&&(c.z=o),l!=null&&(c.zlevel=l),c.silent=r)})}function oR(a){var n=a.get("type"),r=a.getModel(n+"Style"),o;return n==="line"?(o=r.getLineStyle(),o.fill=null):n==="shadow"&&(o=r.getAreaStyle(),o.stroke=null),o}function aX(a,n,r,o,l){var c=r.get("value"),f=oX(c,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),p=r.getModel("label"),g=xm(p.get("padding")||0),v=p.getFont(),x=zO(f,v),O=l.position,w=x.width+g[1]+g[3],S=x.height+g[0]+g[2],k=l.align;k==="right"&&(O[0]-=w),k==="center"&&(O[0]-=w/2);var P=l.verticalAlign;P==="bottom"&&(O[1]-=S),P==="middle"&&(O[1]-=S/2),zLe(O,w,S,o);var E=p.get("backgroundColor");(!E||E==="auto")&&(E=n.get(["axisLine","lineStyle","color"])),a.label={x:O[0],y:O[1],style:Fn(p,{text:f,font:v,fill:p.getTextColor(),padding:g,backgroundColor:E}),z2:10}}function zLe(a,n,r,o){var l=o.getWidth(),c=o.getHeight();a[0]=Math.min(a[0]+n,l)-n,a[1]=Math.min(a[1]+r,c)-r,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function oX(a,n,r,o,l){a=n.scale.parse(a);var c=n.scale.getLabel({value:a},{precision:l.precision}),f=l.formatter;if(f){var p={value:h2(n,{value:a}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};Z(o,function(g){var v=r.getSeriesByIndex(g.seriesIndex),x=g.dataIndexInside,O=v&&v.getDataParams(x);O&&p.seriesData.push(O)}),De(f)?c=f.replace("{value}",c):Ge(f)&&(c=f(p))}return c}function sR(a,n,r){var o=Ir();return Ss(o,o,r.rotation),$a(o,o,r.position),Ms([a.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],o)}function sX(a,n,r,o,l,c){var f=ba.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=l.get(["label","margin"]),aX(n,o,l,c,{position:sR(o.axis,a,r),align:f.textAlign,verticalAlign:f.textVerticalAlign})}function lR(a,n,r){return r=r||0,{x1:a[r],y1:a[1-r],x2:n[r],y2:n[1-r]}}function lX(a,n,r){return r=r||0,{x:a[r],y:a[1-r],width:n[r],height:n[1-r]}}function uX(a,n,r,o,l,c){return{cx:a,cy:n,r0:r,r:o,startAngle:l,endAngle:c,clockwise:!0}}var BLe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,o,l,c,f){var p=l.axis,g=p.grid,v=c.get("type"),x=cX(g,p).getOtherAxis(p).getGlobalExtent(),O=p.toGlobalCoord(p.dataToCoord(o,!0));if(v&&v!=="none"){var w=oR(c),S=QLe[v](p,O,x);S.style=w,r.graphicKey=S.type,r.pointer=S}var k=R2(g.getRect(),l);sX(o,r,k,l,c,f)},n.prototype.getHandleTransform=function(r,o,l){var c=R2(o.axis.grid.getRect(),o,{labelInside:!1});c.labelMargin=l.get(["handle","margin"]);var f=sR(o.axis,r,c);return{x:f[0],y:f[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,o,l,c){var f=l.axis,p=f.grid,g=f.getGlobalExtent(!0),v=cX(p,f).getOtherAxis(f).getGlobalExtent(),x=f.dim==="x"?0:1,O=[r.x,r.y];O[x]+=o[x],O[x]=Math.min(g[1],O[x]),O[x]=Math.max(g[0],O[x]);var w=(v[1]+v[0])/2,S=[w,w];S[x]=O[x];var k=[{verticalAlign:"middle"},{align:"center"}];return{x:O[0],y:O[1],rotation:r.rotation,cursorPoint:S,tooltipOption:k[x]}},n})(iR);function cX(a,n){var r={};return r[n.dim+"AxisIndex"]=n.index,a.getCartesian(r)}var QLe={line:function(a,n,r){var o=lR([n,r[0]],[n,r[1]],dX(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,n,r){var o=Math.max(1,a.getBandWidth()),l=r[1]-r[0];return{type:"Rect",shape:lX([n-o/2,r[0]],[o,l],dX(a))}}};function dX(a){return a.dim==="x"?0:1}var jLe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:Ie.color.border,width:1,type:"dashed"},shadowStyle:{color:Ie.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:Ie.color.neutral00,padding:[5,7,5,7],backgroundColor:Ie.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:Ie.color.accent40,throttle:40}},n})(Ht),Wu=Kt(),VLe=Z;function fX(a,n,r){if(!m.node){var o=n.getZr();Wu(o).records||(Wu(o).records={}),FLe(o,n);var l=Wu(o).records[a]||(Wu(o).records[a]={});l.handler=r}}function FLe(a,n){if(Wu(a).initialized)return;Wu(a).initialized=!0,r("click",Ue(hX,"click")),r("mousemove",Ue(hX,"mousemove")),r("globalout",WLe);function r(o,l){a.on(o,function(c){var f=ULe(n);VLe(Wu(a).records,function(p){p&&l(p,c,f.dispatchAction)}),GLe(f.pendings,n)})}}function GLe(a,n){var r=a.showTip.length,o=a.hideTip.length,l;r?l=a.showTip[r-1]:o&&(l=a.hideTip[o-1]),l&&(l.dispatchAction=null,n.dispatchAction(l))}function WLe(a,n,r){a.handler("leave",null,r)}function hX(a,n,r,o){n.handler(a,r,o)}function ULe(a){var n={showTip:[],hideTip:[]},r=function(o){var l=n[o.type];l?l.push(o):(o.dispatchAction=r,a.dispatchAction(o))};return{dispatchAction:r,pendings:n}}function uR(a,n){if(!m.node){var r=n.getZr(),o=(Wu(r).records||{})[a];o&&(Wu(r).records[a]=null)}}var qLe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=o.getComponent("tooltip"),f=r.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";fX("axisPointer",l,function(p,g,v){f!=="none"&&(p==="leave"||f.indexOf(p)>=0)&&v({type:"updateAxisPointer",currTrigger:p,x:g&&g.offsetX,y:g&&g.offsetY})})},n.prototype.remove=function(r,o){uR("axisPointer",o)},n.prototype.dispose=function(r,o){uR("axisPointer",o)},n.type="axisPointer",n})(Gn);function pX(a,n){var r=[],o=a.seriesIndex,l;if(o==null||!(l=n.getSeriesByIndex(o)))return{point:[]};var c=l.getData(),f=xf(c,a);if(f==null||f<0||ke(f))return{point:[]};var p=c.getItemGraphicEl(f),g=l.coordinateSystem;if(l.getTooltipPosition)r=l.getTooltipPosition(f)||[];else if(g&&g.dataToPoint)if(a.isStacked){var v=g.getBaseAxis(),x=g.getOtherAxis(v),O=x.dim,w=v.dim,S=O==="x"||O==="radius"?1:0,k=c.mapDimension(w),P=[];P[S]=c.get(k,f),P[1-S]=c.get(c.getCalculationInfo("stackResultDimension"),f),r=g.dataToPoint(P)||[]}else r=g.dataToPoint(c.getValues(ve(g.dimensions,function(M){return c.mapDimension(M)}),f))||[];else if(p){var E=p.getBoundingRect().clone();E.applyTransform(p.transform),r=[E.x+E.width/2,E.y+E.height/2]}return{point:r,el:p}}var mX=Kt();function ZLe(a,n,r){var o=a.currTrigger,l=[a.x,a.y],c=a,f=a.dispatchAction||Ee(r.dispatchAction,r),p=n.getComponent("axisPointer").coordSysAxesInfo;if(p){uw(l)&&(l=pX({seriesIndex:c.seriesIndex,dataIndex:c.dataIndex},n).point);var g=uw(l),v=c.axesInfo,x=p.axesInfo,O=o==="leave"||uw(l),w={},S={},k={list:[],map:{}},P={showPointer:Ue(XLe,S),showTooltip:Ue(YLe,k)};Z(p.coordSysMap,function(M,R){var N=g||M.containPoint(l);Z(p.coordSysAxesInfo[R],function(j,W){var U=j.axis,X=tNe(v,j);if(!O&&N&&(!v||X)){var J=X&&X.value;J==null&&!g&&(J=U.pointToData(l)),J!=null&&gX(j,J,P,!1,w)}})});var E={};return Z(x,function(M,R){var N=M.linkGroup;N&&!S[R]&&Z(N.axesInfo,function(j,W){var U=S[W];if(j!==M&&U){var X=U.value;N.mapper&&(X=M.axis.scale.parse(N.mapper(X,vX(j),vX(M)))),E[M.key]=X}})}),Z(E,function(M,R){gX(x[R],M,P,!0,w)}),KLe(S,x,w),JLe(k,l,a,f),eNe(x,f,r),w}}function gX(a,n,r,o,l){var c=a.axis;if(!(c.scale.isBlank()||!c.containData(n))){if(!a.involveSeries){r.showPointer(a,n);return}var f=HLe(n,a),p=f.payloadBatch,g=f.snapToValue;p[0]&&l.seriesIndex==null&&ee(l,p[0]),!o&&a.snap&&c.containData(g)&&g!=null&&(n=g),r.showPointer(a,n,p),r.showTooltip(a,f,g)}}function HLe(a,n){var r=n.axis,o=r.dim,l=a,c=[],f=Number.MAX_VALUE,p=-1;return Z(n.seriesModels,function(g,v){var x=g.getData().mapDimensionsAll(o),O,w;if(g.getAxisTooltipData){var S=g.getAxisTooltipData(x,a,r);w=S.dataIndices,O=S.nestestValue}else{if(w=g.indicesOfNearest(o,x[0],a,r.type==="category"?.5:null),!w.length)return;O=g.getData().get(x[0],w[0])}if(!(O==null||!isFinite(O))){var k=a-O,P=Math.abs(k);P<=f&&((P<f||k>=0&&p<0)&&(f=P,p=k,l=O,c.length=0),Z(w,function(E){c.push({seriesIndex:g.seriesIndex,dataIndexInside:E,dataIndex:g.getData().getRawIndex(E)})}))}}),{payloadBatch:c,snapToValue:l}}function XLe(a,n,r,o){a[n.key]={value:r,payloadBatch:o}}function YLe(a,n,r,o){var l=r.payloadBatch,c=n.axis,f=c.model,p=n.axisPointerModel;if(!(!n.triggerTooltip||!l.length)){var g=n.coordSys.model,v=yy(g),x=a.map[v];x||(x=a.map[v]={coordSysId:g.id,coordSysIndex:g.componentIndex,coordSysType:g.type,coordSysMainType:g.mainType,dataByAxis:[]},a.list.push(x)),x.dataByAxis.push({axisDim:c.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:o,valueLabelOpt:{precision:p.get(["label","precision"]),formatter:p.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function KLe(a,n,r){var o=r.axesInfo=[];Z(n,function(l,c){var f=l.axisPointerModel.option,p=a[c];p?(!l.useHandle&&(f.status="show"),f.value=p.value,f.seriesDataIndices=(p.payloadBatch||[]).slice()):!l.useHandle&&(f.status="hide"),f.status==="show"&&o.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:f.value})})}function JLe(a,n,r,o){if(uw(n)||!a.list.length){o({type:"hideTip"});return}var l=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:a.list})}function eNe(a,n,r){var o=r.getZr(),l="axisPointerLastHighlights",c=mX(o)[l]||{},f=mX(o)[l]={};Z(a,function(v,x){var O=v.axisPointerModel.option;O.status==="show"&&v.triggerEmphasis&&Z(O.seriesDataIndices,function(w){var S=w.seriesIndex+" | "+w.dataIndex;f[S]=w})});var p=[],g=[];Z(c,function(v,x){!f[x]&&g.push(v)}),Z(f,function(v,x){!c[x]&&p.push(v)}),g.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:g}),p.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:p})}function tNe(a,n){for(var r=0;r<(a||[]).length;r++){var o=a[r];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function vX(a){var n=a.axis.model,r={},o=r.axisDim=a.axis.dim;return r.axisIndex=r[o+"AxisIndex"]=n.componentIndex,r.axisName=r[o+"AxisName"]=n.name,r.axisId=r[o+"AxisId"]=n.id,r}function uw(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function $y(a){ch.registerAxisPointerClass("CartesianAxisPointer",BLe),a.registerComponentModel(jLe),a.registerComponentView(qLe),a.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!ke(r)&&(n.axisPointer.link=[r])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=rEe(n,r)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ZLe)}function nNe(a){Gt(zU),Gt($y)}var rNe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,o,l,c,f){var p=l.axis;p.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=p.polar,v=g.getOtherAxis(p),x=v.getExtent(),O=p.dataToCoord(o),w=c.get("type");if(w&&w!=="none"){var S=oR(c),k=aNe[w](p,g,O,x);k.style=S,r.graphicKey=k.type,r.pointer=k}var P=c.get(["label","margin"]),E=iNe(o,l,c,g,P);aX(r,l,c,f,E)},n})(iR);function iNe(a,n,r,o,l){var c=n.axis,f=c.dataToCoord(a),p=o.getAngleAxis().getExtent()[0];p=p/180*Math.PI;var g=o.getRadiusAxis().getExtent(),v,x,O;if(c.dim==="radius"){var w=Ir();Ss(w,w,p),$a(w,w,[o.cx,o.cy]),v=Ms([f,-l],w);var S=n.getModel("axisLabel").get("rotate")||0,k=ba.innerTextLayout(p,S*Math.PI/180,-1);x=k.textAlign,O=k.textVerticalAlign}else{var P=g[1];v=o.coordToPoint([P+l,f]);var E=o.cx,M=o.cy;x=Math.abs(v[0]-E)/P<.3?"center":v[0]>E?"left":"right",O=Math.abs(v[1]-M)/P<.3?"middle":v[1]>M?"top":"bottom"}return{position:v,align:x,verticalAlign:O}}var aNe={line:function(a,n,r,o){return a.dim==="angle"?{type:"Line",shape:lR(n.coordToPoint([o[0],r]),n.coordToPoint([o[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(a,n,r,o){var l=Math.max(1,a.getBandWidth()),c=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:uX(n.cx,n.cy,o[0],o[1],(-r-l/2)*c,(-r+l/2)*c)}:{type:"Sector",shape:uX(n.cx,n.cy,r-l/2,r+l/2,0,Math.PI*2)}}},oNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var o,l=this.ecModel;return l.eachComponent(r,function(c){c.getCoordSysModel()===this&&(o=c)},this),o},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n})(Ht),cR=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",br).models[0]},n.type="polarAxis",n})(Ht);we(cR,Bm);var sNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n})(cR),lNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n})(cR),dR=(function(a){u(n,a);function n(r,o){return a.call(this,"radius",r,o)||this}return n.prototype.pointToData=function(r,o){return this.polar.pointToData(r,o)[this.dim==="radius"?0:1]},n})(Ho);dR.prototype.dataToRadius=Ho.prototype.dataToCoord,dR.prototype.radiusToData=Ho.prototype.coordToData;var uNe=Kt(),fR=(function(a){u(n,a);function n(r,o){return a.call(this,"angle",r,o||[0,360])||this}return n.prototype.pointToData=function(r,o){return this.polar.pointToData(r,o)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,o=r.getLabelModel(),l=r.scale,c=l.getExtent(),f=l.count();if(c[1]-c[0]<1)return 0;var p=c[0],g=r.dataToCoord(p+1)-r.dataToCoord(p),v=Math.abs(g),x=zO(p==null?"":p+"",o.getFont(),"center","top"),O=Math.max(x.height,7),w=O/v;isNaN(w)&&(w=1/0);var S=Math.max(0,Math.floor(w)),k=uNe(r.model),P=k.lastAutoInterval,E=k.lastTickCount;return P!=null&&E!=null&&Math.abs(P-S)<=1&&Math.abs(E-f)<=1&&P>S?S=P:(k.lastTickCount=f,k.lastAutoInterval=S),S},n})(Ho);fR.prototype.dataToAngle=Ho.prototype.dataToCoord,fR.prototype.angleToData=Ho.prototype.coordToData;var yX=["radius","angle"],cNe=(function(){function a(n){this.dimensions=yX,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new dR,this._angleAxis=new fR,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},a.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},a.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(n){var r=[],o=this._angleAxis,l=this._radiusAxis;return o.scale.type===n&&r.push(o),l.scale.type===n&&r.push(l),r},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},a.prototype.dataToPoint=function(n,r,o){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)],o)},a.prototype.pointToData=function(n,r,o){o=o||[];var l=this.pointToCoord(n);return o[0]=this._radiusAxis.radiusToData(l[0],r),o[1]=this._angleAxis.angleToData(l[1],r),o},a.prototype.pointToCoord=function(n){var r=n[0]-this.cx,o=n[1]-this.cy,l=this.getAngleAxis(),c=l.getExtent(),f=Math.min(c[0],c[1]),p=Math.max(c[0],c[1]);l.inverse?f=p-360:p=f+360;var g=Math.sqrt(r*r+o*o);r/=g,o/=g;for(var v=Math.atan2(-o,r)/Math.PI*180,x=v<f?1:-1;v<f||v>p;)v+=x*360;return[g,v]},a.prototype.coordToPoint=function(n,r){r=r||[];var o=n[0],l=n[1]/180*Math.PI;return r[0]=Math.cos(l)*o+this.cx,r[1]=-Math.sin(l)*o+this.cy,r},a.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),o=r.getExtent().slice();o[0]>o[1]&&o.reverse();var l=n.getExtent(),c=Math.PI/180,f=1e-4;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-l[0]*c,endAngle:-l[1]*c,clockwise:n.inverse,contain:function(p,g){var v=p-this.cx,x=g-this.cy,O=v*v+x*x,w=this.r,S=this.r0;return w!==S&&O-f<=w*w&&O+f>=S*S},x:this.cx-o[1],y:this.cy-o[1],width:o[1]*2,height:o[1]*2}},a.prototype.convertToPixel=function(n,r,o){var l=xX(r);return l===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(n,r,o){var l=xX(r);return l===this?this.pointToData(o):null},a})();function xX(a){var n=a.seriesModel,r=a.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function dNe(a,n,r){var o=n.get("center"),l=ei(n,r).refContainer;a.cx=it(o[0],l.width)+l.x,a.cy=it(o[1],l.height)+l.y;var c=a.getRadiusAxis(),f=Math.min(l.width,l.height)/2,p=n.get("radius");p==null?p=[0,"100%"]:ke(p)||(p=[0,p]);var g=[it(p[0],f),it(p[1],f)];c.inverse?c.setExtent(g[1],g[0]):c.setExtent(g[0],g[1])}function fNe(a,n){var r=this,o=r.getAngleAxis(),l=r.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),a.eachSeries(function(p){if(p.coordinateSystem===r){var g=p.getData();Z(p2(g,"radius"),function(v){l.scale.unionExtentFromData(g,v)}),Z(p2(g,"angle"),function(v){o.scale.unionExtentFromData(g,v)})}}),nh(o.scale,o.model),nh(l.scale,l.model),o.type==="category"&&!o.onBand){var c=o.getExtent(),f=360/o.scale.count();o.inverse?c[1]+=f:c[1]-=f,o.setExtent(c[0],c[1])}}function hNe(a){return a.mainType==="angleAxis"}function _X(a,n){var r;if(a.type=n.get("type"),a.scale=ry(n),a.onBand=n.get("boundaryGap")&&a.type==="category",a.inverse=n.get("inverse"),hNe(n)){a.inverse=a.inverse!==n.get("clockwise");var o=n.get("startAngle"),l=(r=n.get("endAngle"))!==null&&r!==void 0?r:o+(a.inverse?-360:360);a.setExtent(o,l)}n.axis=a,a.model=n}var pNe={dimensions:yX,create:function(a,n){var r=[];return a.eachComponent("polar",function(o,l){var c=new cNe(l+"");c.update=fNe;var f=c.getRadiusAxis(),p=c.getAngleAxis(),g=o.findAxisModel("radiusAxis"),v=o.findAxisModel("angleAxis");_X(f,g),_X(p,v),dNe(c,o,n),r.push(c),o.coordinateSystem=c,c.model=o}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var l=o.getReferringComponents("polar",br).models[0];if(!l)throw new Error('Polar "'+tt(o.get("polarIndex"),o.get("polarId"),0)+'" not found');o.coordinateSystem=l.coordinateSystem}}),r}},mNe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function cw(a,n,r){n[1]>n[0]&&(n=n.slice().reverse());var o=a.coordToPoint([n[0],r]),l=a.coordToPoint([n[1],r]);return{x1:o[0],y1:o[1],x2:l[0],y2:l[1]}}function dw(a){var n=a.getRadiusAxis();return n.inverse?0:1}function OX(a){var n=a[0],r=a[a.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&a.pop()}var gNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,o){if(this.group.removeAll(),!!r.get("show")){var l=r.axis,c=l.polar,f=c.getRadiusAxis().getExtent(),p=l.getTicksCoords({breakTicks:"none"}),g=l.getMinorTicksCoords(),v=ve(l.getViewLabels(),function(x){x=ne(x);var O=l.scale,w=O.type==="ordinal"?O.getRawOrdinalNumber(x.tickValue):x.tickValue;return x.coord=l.dataToCoord(w),x});OX(v),OX(p),Z(mNe,function(x){r.get([x,"show"])&&(!l.scale.isBlank()||x==="axisLine")&&vNe[x](this.group,r,c,p,g,f,v)},this)}},n.type="angleAxis",n})(ch),vNe={axisLine:function(a,n,r,o,l,c){var f=n.getModel(["axisLine","lineStyle"]),p=r.getAngleAxis(),g=Math.PI/180,v=p.getExtent(),x=dw(r),O=x?0:1,w,S=Math.abs(v[1]-v[0])===360?"Circle":"Arc";c[O]===0?w=new zf[S]({shape:{cx:r.cx,cy:r.cy,r:c[x],startAngle:-v[0]*g,endAngle:-v[1]*g,clockwise:p.inverse},style:f.getLineStyle(),z2:1,silent:!0}):w=new sm({shape:{cx:r.cx,cy:r.cy,r:c[x],r0:c[O]},style:f.getLineStyle(),z2:1,silent:!0}),w.style.fill=null,a.add(w)},axisTick:function(a,n,r,o,l,c){var f=n.getModel("axisTick"),p=(f.get("inside")?-1:1)*f.get("length"),g=c[dw(r)],v=ve(o,function(x){return new $r({shape:cw(r,[g,g+p],x.coord)})});a.add(xo(v,{style:be(f.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,n,r,o,l,c){if(l.length){for(var f=n.getModel("axisTick"),p=n.getModel("minorTick"),g=(f.get("inside")?-1:1)*p.get("length"),v=c[dw(r)],x=[],O=0;O<l.length;O++)for(var w=0;w<l[O].length;w++)x.push(new $r({shape:cw(r,[v,v+g],l[O][w].coord)}));a.add(xo(x,{style:be(p.getModel("lineStyle").getLineStyle(),be(f.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,n,r,o,l,c,f){var p=n.getCategories(!0),g=n.getModel("axisLabel"),v=g.get("margin"),x=n.get("triggerEvent");Z(f,function(O,w){var S=g,k=O.tickValue,P=c[dw(r)],E=r.coordToPoint([P+v,O.coord]),M=r.cx,R=r.cy,N=Math.abs(E[0]-M)/P<.3?"center":E[0]>M?"left":"right",j=Math.abs(E[1]-R)/P<.3?"middle":E[1]>R?"top":"bottom";if(p&&p[k]){var W=p[k];Ze(W)&&W.textStyle&&(S=new en(W.textStyle,g,g.ecModel))}var U=new un({silent:ba.isLabelSilent(n),style:Fn(S,{x:E[0],y:E[1],fill:S.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:O.formattedLabel,align:N,verticalAlign:j})});if(a.add(U),Iu({el:U,componentModel:n,itemName:O.formattedLabel,formatterParamsExtra:{isTruncated:function(){return U.isTruncated},value:O.rawLabel,tickIndex:w}}),x){var X=ba.makeAxisEventDataBase(n);X.targetType="axisLabel",X.value=O.rawLabel,Et(U).eventData=X}},this)},splitLine:function(a,n,r,o,l,c){var f=n.getModel("splitLine"),p=f.getModel("lineStyle"),g=p.get("color"),v=0;g=g instanceof Array?g:[g];for(var x=[],O=0;O<o.length;O++){var w=v++%g.length;x[w]=x[w]||[],x[w].push(new $r({shape:cw(r,c,o[O].coord)}))}for(var O=0;O<x.length;O++)a.add(xo(x[O],{style:be({stroke:g[O%g.length]},p.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(a,n,r,o,l,c){if(l.length){for(var f=n.getModel("minorSplitLine"),p=f.getModel("lineStyle"),g=[],v=0;v<l.length;v++)for(var x=0;x<l[v].length;x++)g.push(new $r({shape:cw(r,c,l[v][x].coord)}));a.add(xo(g,{style:p.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(a,n,r,o,l,c){if(o.length){var f=n.getModel("splitArea"),p=f.getModel("areaStyle"),g=p.get("color"),v=0;g=g instanceof Array?g:[g];for(var x=[],O=Math.PI/180,w=-o[0].coord*O,S=Math.min(c[0],c[1]),k=Math.max(c[0],c[1]),P=n.get("clockwise"),E=1,M=o.length;E<=M;E++){var R=E===M?o[0].coord:o[E].coord,N=v++%g.length;x[N]=x[N]||[],x[N].push(new Vi({shape:{cx:r.cx,cy:r.cy,r0:S,r:k,startAngle:w,endAngle:-R*O,clockwise:P},silent:!0})),w=-R*O}for(var E=0;E<x.length;E++)a.add(xo(x[E],{style:be({fill:g[E%g.length]},p.getAreaStyle()),silent:!0}))}}},yNe=["splitLine","splitArea","minorSplitLine"],xNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,o,l){if(this.group.removeAll(),!!r.get("show")){var c=this._axisGroup,f=this._axisGroup=new _t;this.group.add(f);var p=r.axis,g=p.polar,v=g.getAngleAxis(),x=p.getTicksCoords(),O=p.getMinorTicksCoords(),w=v.getExtent()[0],S=p.getExtent(),k=ONe(g,r,w),P=new ba(r,l,k);P.build(),f.add(P.group),E0(c,f,r),Z(yNe,function(E){r.get([E,"show"])&&!p.scale.isBlank()&&_Ne[E](this.group,r,g,w,S,x,O)},this)}},n.type="radiusAxis",n})(ch),_Ne={splitLine:function(a,n,r,o,l,c){var f=n.getModel("splitLine"),p=f.getModel("lineStyle"),g=p.get("color"),v=0,x=r.getAngleAxis(),O=Math.PI/180,w=x.getExtent(),S=Math.abs(w[1]-w[0])===360?"Circle":"Arc";g=g instanceof Array?g:[g];for(var k=[],P=0;P<c.length;P++){var E=v++%g.length;k[E]=k[E]||[],k[E].push(new zf[S]({shape:{cx:r.cx,cy:r.cy,r:Math.max(c[P].coord,0),startAngle:-w[0]*O,endAngle:-w[1]*O,clockwise:x.inverse}}))}for(var P=0;P<k.length;P++)a.add(xo(k[P],{style:be({stroke:g[P%g.length],fill:null},p.getLineStyle()),silent:!0}))},minorSplitLine:function(a,n,r,o,l,c,f){if(f.length){for(var p=n.getModel("minorSplitLine"),g=p.getModel("lineStyle"),v=[],x=0;x<f.length;x++)for(var O=0;O<f[x].length;O++)v.push(new Ol({shape:{cx:r.cx,cy:r.cy,r:f[x][O].coord}}));a.add(xo(v,{style:be({fill:null},g.getLineStyle()),silent:!0}))}},splitArea:function(a,n,r,o,l,c){if(c.length){var f=n.getModel("splitArea"),p=f.getModel("areaStyle"),g=p.get("color"),v=0;g=g instanceof Array?g:[g];for(var x=[],O=c[0].coord,w=1;w<c.length;w++){var S=v++%g.length;x[S]=x[S]||[],x[S].push(new Vi({shape:{cx:r.cx,cy:r.cy,r0:O,r:c[w].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),O=c[w].coord}for(var w=0;w<x.length;w++)a.add(xo(x[w],{style:be({fill:g[w%g.length]},p.getAreaStyle()),silent:!0}))}}};function ONe(a,n,r){return{position:[a.cx,a.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}function bX(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function wX(a,n){return n.dim+a.model.componentIndex}function bNe(a,n,r){var o={},l=wNe(Qe(n.getSeriesByType(a),function(c){return!n.isSeriesFiltered(c)&&c.coordinateSystem&&c.coordinateSystem.type==="polar"}));n.eachSeriesByType(a,function(c){if(c.coordinateSystem.type==="polar"){var f=c.getData(),p=c.coordinateSystem,g=p.getBaseAxis(),v=wX(p,g),x=bX(c),O=l[v][x],w=O.offset,S=O.width,k=p.getOtherAxis(g),P=c.coordinateSystem.cx,E=c.coordinateSystem.cy,M=c.get("barMinHeight")||0,R=c.get("barMinAngle")||0;o[x]=o[x]||[];for(var N=f.mapDimension(k.dim),j=f.mapDimension(g.dim),W=zu(f,N),U=g.dim!=="radius"||!c.get("roundCap",!0),X=k.model,J=X.get("startValue"),re=k.dataToCoord(J||0),ie=0,le=f.count();ie<le;ie++){var pe=f.get(N,ie),ce=f.get(j,ie),ye=pe>=0?"p":"n",Oe=re;W&&(o[x][ce]||(o[x][ce]={p:re,n:re}),Oe=o[x][ce][ye]);var _e=void 0,Pe=void 0,Se=void 0,Re=void 0;if(k.dim==="radius"){var Ne=k.dataToCoord(pe)-re,Be=g.dataToCoord(ce);Math.abs(Ne)<M&&(Ne=(Ne<0?-1:1)*M),_e=Oe,Pe=Oe+Ne,Se=Be-w,Re=Se-S,W&&(o[x][ce][ye]=Pe)}else{var Fe=k.dataToCoord(pe,U)-re,rt=g.dataToCoord(ce);Math.abs(Fe)<R&&(Fe=(Fe<0?-1:1)*R),_e=rt+w,Pe=_e+S,Se=Oe,Re=Oe+Fe,W&&(o[x][ce][ye]=Re)}f.setItemLayout(ie,{cx:P,cy:E,r0:_e,r:Pe,startAngle:-Se*Math.PI/180,endAngle:-Re*Math.PI/180,clockwise:Se>=Re})}}})}function wNe(a){var n={};Z(a,function(o,l){var c=o.getData(),f=o.coordinateSystem,p=f.getBaseAxis(),g=wX(f,p),v=p.getExtent(),x=p.type==="category"?p.getBandWidth():Math.abs(v[1]-v[0])/c.count(),O=n[g]||{bandWidth:x,remainedWidth:x,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},w=O.stacks;n[g]=O;var S=bX(o);w[S]||O.autoWidthCount++,w[S]=w[S]||{width:0,maxWidth:0};var k=it(o.get("barWidth"),x),P=it(o.get("barMaxWidth"),x),E=o.get("barGap"),M=o.get("barCategoryGap");k&&!w[S].width&&(k=Math.min(O.remainedWidth,k),w[S].width=k,O.remainedWidth-=k),P&&(w[S].maxWidth=P),E!=null&&(O.gap=E),M!=null&&(O.categoryGap=M)});var r={};return Z(n,function(o,l){r[l]={};var c=o.stacks,f=o.bandWidth,p=it(o.categoryGap,f),g=it(o.gap,1),v=o.remainedWidth,x=o.autoWidthCount,O=(v-p)/(x+(x-1)*g);O=Math.max(O,0),Z(c,function(P,E){var M=P.maxWidth;M&&M<O&&(M=Math.min(M,v),P.width&&(M=Math.min(M,P.width)),v-=M,P.width=M,x--)}),O=(v-p)/(x+(x-1)*g),O=Math.max(O,0);var w=0,S;Z(c,function(P,E){P.width||(P.width=O),S=P,w+=P.width*(1+g)}),S&&(w-=S.width*g);var k=-w/2;Z(c,function(P,E){r[l][E]=r[l][E]||{offset:k,width:P.width},k+=P.width*(1+g)})}),r}var SNe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},TNe={splitNumber:5},CNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n})(Gn);function kNe(a){Gt($y),ch.registerAxisPointerClass("PolarAxisPointer",rNe),a.registerCoordinateSystem("polar",pNe),a.registerComponentModel(oNe),a.registerComponentView(CNe),Wm(a,"angle",sNe,SNe),Wm(a,"radius",lNe,TNe),a.registerComponentView(gNe),a.registerComponentView(xNe),a.registerLayout(Ue(bNe,"bar"))}function hR(a,n){n=n||{};var r=a.coordinateSystem,o=a.axis,l={},c=o.position,f=o.orient,p=r.getRect(),g=[p.x,p.x+p.width,p.y,p.y+p.height],v={horizontal:{top:g[2],bottom:g[3]},vertical:{left:g[0],right:g[1]}};l.position=[f==="vertical"?v.vertical[c]:g[0],f==="horizontal"?v.horizontal[c]:g[3]];var x={horizontal:0,vertical:1};l.rotation=Math.PI/2*x[f];var O={top:-1,bottom:1,right:1,left:-1};l.labelDirection=l.tickDirection=l.nameDirection=O[c],a.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),tt(n.labelInside,a.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var w=a.get(["axisLabel","rotate"]);return l.labelRotate=c==="top"?-w:w,l.z2=1,l}var ANe=["splitArea","splitLine","breakArea"],PNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,o,l,c){var f=this.group;f.removeAll();var p=this._axisGroup;this._axisGroup=new _t;var g=hR(r),v=new ba(r,l,g);v.build(),f.add(this._axisGroup),f.add(v.group),Z(ANe,function(x){r.get([x,"show"])&&ENe[x](this,this.group,this._axisGroup,r,l)},this),E0(p,this._axisGroup,r),a.prototype.render.call(this,r,o,l,c)},n.prototype.remove=function(){RU(this)},n.type="singleAxis",n})(ch),ENe={splitLine:function(a,n,r,o,l){var c=o.axis;if(!c.scale.isBlank()){var f=o.getModel("splitLine"),p=f.getModel("lineStyle"),g=p.get("color");g=g instanceof Array?g:[g];for(var v=p.get("width"),x=o.coordinateSystem.getRect(),O=c.isHorizontal(),w=[],S=0,k=c.getTicksCoords({tickModel:f,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),P=[],E=[],M=0;M<k.length;++M){var R=c.toGlobalCoord(k[M].coord);O?(P[0]=R,P[1]=x.y,E[0]=R,E[1]=x.y+x.height):(P[0]=x.x,P[1]=R,E[0]=x.x+x.width,E[1]=R);var N=new $r({shape:{x1:P[0],y1:P[1],x2:E[0],y2:E[1]},silent:!0});fm(N.shape,v);var j=S++%g.length;w[j]=w[j]||[],w[j].push(N)}for(var W=p.getLineStyle(["color"]),M=0;M<w.length;++M)n.add(xo(w[M],{style:be({stroke:g[M%g.length]},W),silent:!0}))}},splitArea:function(a,n,r,o,l){IU(a,r,o,o)},breakArea:function(a,n,r,o,l){var c=my(),f=o.axis.scale;c&&f.type!=="ordinal"&&c.rectCoordBuildBreakAxis(n,a,o,o.coordinateSystem.getRect(),l)}},fw=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},n})(Ht);we(fw,Bm.prototype);var MNe=(function(a){u(n,a);function n(r,o,l,c,f){var p=a.call(this,r,o,l)||this;return p.type=c||"value",p.position=f||"bottom",p}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,o){return this.coordinateSystem.pointToData(r)[0]},n})(Ho),SX=["single"],DNe=(function(){function a(n,r,o){this.type="single",this.dimension="single",this.dimensions=SX,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,o)}return a.prototype._init=function(n,r,o){var l=this.dimension,c=new MNe(l,ry(n),[0,0],n.get("type"),n.get("position")),f=c.type==="category";c.onBand=f&&n.get("boundaryGap"),c.inverse=n.get("inverse"),c.orient=n.get("orient"),n.axis=c,c.model=n,c.coordinateSystem=this,this._axis=c},a.prototype.update=function(n,r){n.eachSeries(function(o){if(o.coordinateSystem===this){var l=o.getData();Z(l.mapDimensionsAll(this.dimension),function(c){this._axis.scale.unionExtentFromData(l,c)},this),nh(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(n,r){var o=ei(n,r).refContainer;this._rect=rr(n.getBoxLayoutParams(),o),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,o=r.isHorizontal(),l=o?[0,n.width]:[0,n.height],c=r.inverse?1:0;r.setExtent(l[c],l[1-c]),this._updateAxisTransform(r,o?n.x:n.y)},a.prototype._updateAxisTransform=function(n,r){var o=n.getExtent(),l=o[0]+o[1],c=n.isHorizontal();n.toGlobalCoord=c?function(f){return f+r}:function(f){return l-f+r},n.toLocalCoord=c?function(f){return f-r}:function(f){return l-f+r}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(n){var r=this.getRect(),o=this.getAxis(),l=o.orient;return l==="horizontal"?o.contain(o.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:o.contain(o.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},a.prototype.pointToData=function(n,r,o){o=o||[];var l=this.getAxis();return o[0]=l.coordToData(l.toLocalCoord(n[l.orient==="horizontal"?0:1])),o},a.prototype.dataToPoint=function(n,r,o){var l=this.getAxis(),c=this.getRect();o=o||[];var f=l.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),o[f]=l.toGlobalCoord(l.dataToCoord(+n)),o[1-f]=f===0?c.y+c.height/2:c.x+c.width/2,o},a.prototype.convertToPixel=function(n,r,o){var l=TX(r);return l===this?this.dataToPoint(o):null},a.prototype.convertFromPixel=function(n,r,o){var l=TX(r);return l===this?this.pointToData(o):null},a})();function TX(a){var n=a.seriesModel,r=a.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function INe(a,n){var r=[];return a.eachComponent("singleAxis",function(o,l){var c=new DNe(o,a,n);c.name="single_"+l,c.resize(o,n),o.coordinateSystem=c,r.push(c)}),a.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var l=o.getReferringComponents("singleAxis",br).models[0];o.coordinateSystem=l&&l.coordinateSystem}}),r}var RNe={create:INe,dimensions:SX},CX=["x","y"],LNe=["width","height"],NNe=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,o,l,c,f){var p=l.axis,g=p.coordinateSystem,v=pR(g,1-hw(p)),x=g.dataToPoint(o)[0],O=c.get("type");if(O&&O!=="none"){var w=oR(c),S=$Ne[O](p,x,v);S.style=w,r.graphicKey=S.type,r.pointer=S}var k=hR(l);sX(o,r,k,l,c,f)},n.prototype.getHandleTransform=function(r,o,l){var c=hR(o,{labelInside:!1});c.labelMargin=l.get(["handle","margin"]);var f=sR(o.axis,r,c);return{x:f[0],y:f[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,o,l,c){var f=l.axis,p=f.coordinateSystem,g=hw(f),v=pR(p,g),x=[r.x,r.y];x[g]+=o[g],x[g]=Math.min(v[1],x[g]),x[g]=Math.max(v[0],x[g]);var O=pR(p,1-g),w=(O[1]+O[0])/2,S=[w,w];return S[g]=x[g],{x:x[0],y:x[1],rotation:r.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}},n})(iR),$Ne={line:function(a,n,r){var o=lR([n,r[0]],[n,r[1]],hw(a));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(a,n,r){var o=a.getBandWidth(),l=r[1]-r[0];return{type:"Rect",shape:lX([n-o/2,r[0]],[o,l],hw(a))}}};function hw(a){return a.isHorizontal()?0:1}function pR(a,n){var r=a.getRect();return[r[CX[n]],r[CX[n]]+r[LNe[n]]]}var zNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n})(Gn);function BNe(a){Gt($y),ch.registerAxisPointerClass("SingleAxisPointer",NNe),a.registerComponentView(zNe),a.registerComponentView(PNe),a.registerComponentModel(fw),Wm(a,"single",fw,fw.defaultOption),a.registerCoordinateSystem("single",RNe)}var QNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o,l){var c=Ff(r);a.prototype.init.apply(this,arguments),kX(r,c)},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),kX(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.layoutMode="box",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:Ie.color.axisLine,width:1,type:"solid"}},itemStyle:{color:Ie.color.neutral00,borderWidth:1,borderColor:Ie.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:Ie.size.s,color:Ie.color.secondary},monthLabel:{show:!0,position:"start",margin:Ie.size.s,align:"center",formatter:null,color:Ie.color.secondary},yearLabel:{show:!0,position:null,margin:Ie.size.xl,formatter:null,color:Ie.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n})(Ht);function kX(a,n){var r=a.cellSize,o;ke(r)?o=r:o=a.cellSize=[r,r],o.length===1&&(o[1]=o[0]);var l=ve([0,1],function(c){return awe(n,c)&&(o[c]="auto"),o[c]!=null&&o[c]!=="auto"});Sl(a,n,{type:"box",ignoreSize:l})}var jNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){var c=this.group;c.removeAll();var f=r.coordinateSystem,p=f.getRangeInfo(),g=f.getOrient(),v=o.getLocaleModel();this._renderDayRect(r,p,c),this._renderLines(r,p,g,c),this._renderYearText(r,p,g,c),this._renderMonthText(r,v,g,c),this._renderWeekText(r,v,p,g,c)},n.prototype._renderDayRect=function(r,o,l){for(var c=r.coordinateSystem,f=r.getModel("itemStyle").getItemStyle(),p=c.getCellWidth(),g=c.getCellHeight(),v=o.start.time;v<=o.end.time;v=c.getNextNDay(v,1).time){var x=c.dataToCalendarLayout([v],!1).tl,O=new Zt({shape:{x:x[0],y:x[1],width:p,height:g},cursor:"default",style:f});l.add(O)}},n.prototype._renderLines=function(r,o,l,c){var f=this,p=r.coordinateSystem,g=r.getModel(["splitLine","lineStyle"]).getLineStyle(),v=r.get(["splitLine","show"]),x=g.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var O=o.start,w=0;O.time<=o.end.time;w++){k(O.formatedDate),w===0&&(O=p.getDateInfo(o.start.y+"-"+o.start.m));var S=O.date;S.setMonth(S.getMonth()+1),O=p.getDateInfo(S)}k(p.getNextNDay(o.end.time,1).formatedDate);function k(P){f._firstDayOfMonth.push(p.getDateInfo(P)),f._firstDayPoints.push(p.dataToCalendarLayout([P],!1).tl);var E=f._getLinePointsOfOneWeek(r,P,l);f._tlpoints.push(E[0]),f._blpoints.push(E[E.length-1]),v&&f._drawSplitline(E,g,c)}v&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,x,l),g,c),v&&this._drawSplitline(f._getEdgesPoints(f._blpoints,x,l),g,c)},n.prototype._getEdgesPoints=function(r,o,l){var c=[r[0].slice(),r[r.length-1].slice()],f=l==="horizontal"?0:1;return c[0][f]=c[0][f]-o/2,c[1][f]=c[1][f]+o/2,c},n.prototype._drawSplitline=function(r,o,l){var c=new Ei({z2:20,shape:{points:r},style:o});l.add(c)},n.prototype._getLinePointsOfOneWeek=function(r,o,l){for(var c=r.coordinateSystem,f=c.getDateInfo(o),p=[],g=0;g<7;g++){var v=c.getNextNDay(f.time,g),x=c.dataToCalendarLayout([v.time],!1);p[2*v.day]=x.tl,p[2*v.day+1]=x[l==="horizontal"?"bl":"tr"]}return p},n.prototype._formatterLabel=function(r,o){return De(r)&&r?K2e(r,o):Ge(r)?r(o):o.nameMap},n.prototype._yearTextPositionControl=function(r,o,l,c,f){var p=o[0],g=o[1],v=["center","bottom"];c==="bottom"?(g+=f,v=["center","top"]):c==="left"?p-=f:c==="right"?(p+=f,v=["center","top"]):g-=f;var x=0;return(c==="left"||c==="right")&&(x=Math.PI/2),{rotation:x,x:p,y:g,style:{align:v[0],verticalAlign:v[1]}}},n.prototype._renderYearText=function(r,o,l,c){var f=r.getModel("yearLabel");if(f.get("show")){var p=f.get("margin"),g=f.get("position");g||(g=l!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],x=(v[0][0]+v[1][0])/2,O=(v[0][1]+v[1][1])/2,w=l==="horizontal"?0:1,S={top:[x,v[w][1]],bottom:[x,v[1-w][1]],left:[v[1-w][0],O],right:[v[w][0],O]},k=o.start.y;+o.end.y>+o.start.y&&(k=k+"-"+o.end.y);var P=f.get("formatter"),E={start:o.start.y,end:o.end.y,nameMap:k},M=this._formatterLabel(P,E),R=new un({z2:30,style:Fn(f,{text:M}),silent:f.get("silent")});R.attr(this._yearTextPositionControl(R,S[g],l,g,p)),c.add(R)}},n.prototype._monthTextPositionControl=function(r,o,l,c,f){var p="left",g="top",v=r[0],x=r[1];return l==="horizontal"?(x=x+f,o&&(p="center"),c==="start"&&(g="bottom")):(v=v+f,o&&(g="middle"),c==="start"&&(p="right")),{x:v,y:x,align:p,verticalAlign:g}},n.prototype._renderMonthText=function(r,o,l,c){var f=r.getModel("monthLabel");if(f.get("show")){var p=f.get("nameMap"),g=f.get("margin"),v=f.get("position"),x=f.get("align"),O=[this._tlpoints,this._blpoints];(!p||De(p))&&(p&&(o=sM(p)||o),p=o.get(["time","monthAbbr"])||[]);var w=v==="start"?0:1,S=l==="horizontal"?0:1;g=v==="start"?-g:g;for(var k=x==="center",P=f.get("silent"),E=0;E<O[w].length-1;E++){var M=O[w][E].slice(),R=this._firstDayOfMonth[E];if(k){var N=this._firstDayPoints[E];M[S]=(N[S]+O[0][E+1][S])/2}var j=f.get("formatter"),W=p[+R.m-1],U={yyyy:R.y,yy:(R.y+"").slice(2),MM:R.m,M:+R.m,nameMap:W},X=this._formatterLabel(j,U),J=new un({z2:30,style:ee(Fn(f,{text:X}),this._monthTextPositionControl(M,k,l,v,g)),silent:P});c.add(J)}}},n.prototype._weekTextPositionControl=function(r,o,l,c,f){var p="center",g="middle",v=r[0],x=r[1],O=l==="start";return o==="horizontal"?(v=v+c+(O?1:-1)*f[0]/2,p=O?"right":"left"):(x=x+c+(O?1:-1)*f[1]/2,g=O?"bottom":"top"),{x:v,y:x,align:p,verticalAlign:g}},n.prototype._renderWeekText=function(r,o,l,c,f){var p=r.getModel("dayLabel");if(p.get("show")){var g=r.coordinateSystem,v=p.get("position"),x=p.get("nameMap"),O=p.get("margin"),w=g.getFirstDayOfWeek();if(!x||De(x)){x&&(o=sM(x)||o);var S=o.get(["time","dayOfWeekShort"]);x=S||ve(o.get(["time","dayOfWeekAbbr"]),function(U){return U[0]})}var k=g.getNextNDay(l.end.time,7-l.lweek).time,P=[g.getCellWidth(),g.getCellHeight()];O=it(O,Math.min(P[1],P[0])),v==="start"&&(k=g.getNextNDay(l.start.time,-(7+l.fweek)).time,O=-O);for(var E=p.get("silent"),M=0;M<7;M++){var R=g.getNextNDay(k,M),N=g.dataToCalendarLayout([R.time],!1).center,j=M;j=Math.abs((M+w)%7);var W=new un({z2:30,style:ee(Fn(p,{text:x[j]}),this._weekTextPositionControl(N,c,v,O,P)),silent:E});f.add(W)}}},n.type="calendar",n})(Gn),mR=864e5,VNe=(function(){function a(n,r,o){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=n,this._update(r,o)}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(n){n=hl(n);var r=n.getFullYear(),o=n.getMonth()+1,l=o<10?"0"+o:""+o,c=n.getDate(),f=c<10?"0"+c:""+c,p=n.getDay();return p=Math.abs((p+7-this.getFirstDayOfWeek())%7),{y:r+"",m:l,d:f,day:p,time:n.getTime(),formatedDate:r+"-"+l+"-"+f,date:n}},a.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},a.prototype._update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,l=["width","height"],c=this._model.getCellSize().slice(),f=this._model.getBoxLayoutParams(),p=this._orient==="horizontal"?[o,7]:[7,o];Z([0,1],function(O){x(c,O)&&(f[l[O]]=c[O]*p[O])});var g={width:r.getWidth(),height:r.getHeight()},v=this._rect=rr(f,g);Z([0,1],function(O){x(c,O)||(c[O]=v[l[O]]/p[O])});function x(O,w){return O[w]!=null&&O[w]!=="auto"}this._sw=c[0],this._sh=c[1]},a.prototype.dataToPoint=function(n,r,o){o=o||[],ke(n)&&(n=n[0]),r==null&&(r=!0);var l=this.getDateInfo(n),c=this._rangeInfo,f=l.formatedDate;if(r&&!(l.time>=c.start.time&&l.time<c.end.time+mR))return o[0]=o[1]=NaN,o;var p=l.day,g=this._getRangeInfo([c.start.time,f]).nthWeek;return this._orient==="vertical"?(o[0]=this._rect.x+p*this._sw+this._sw/2,o[1]=this._rect.y+g*this._sh+this._sh/2):(o[0]=this._rect.x+g*this._sw+this._sw/2,o[1]=this._rect.y+p*this._sh+this._sh/2),o},a.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},a.prototype.dataToLayout=function(n,r,o){o=o||{};var l=o.rect=o.rect||{},c=o.contentRect=o.contentRect||{},f=this.dataToPoint(n,r);return l.x=f[0]-this._sw/2,l.y=f[1]-this._sh/2,l.width=this._sw,l.height=this._sh,wt.copy(c,l),Nf(c,this._lineWidth/2,!0,!0),o},a.prototype.dataToCalendarLayout=function(n,r){var o=this.dataToPoint(n,r);return{center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},a.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,o=Math.floor((n[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,r-1,l):this._getDateByWeeksAndDay(r,o-1,l)},a.prototype.convertToPixel=function(n,r,o){var l=gR(r);return l===this?l.dataToPoint(o):null},a.prototype.convertToLayout=function(n,r,o){var l=gR(r);return l===this?l.dataToLayout(o):null},a.prototype.convertFromPixel=function(n,r,o){var l=gR(r);return l===this?l.pointToData(o):null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(ke(n)&&n.length===1&&(n=n[0]),ke(n))r=n;else{var o=n.toString();if(/^\d{4}$/.test(o)&&(r=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var l=this.getDateInfo(o),c=l.date;c.setMonth(c.getMonth()+1);var f=this.getNextNDay(c,-1);r=[l.formatedDate,f.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(r=[o,o])}if(!r)return ue("Invalid date range."),n;var p=this._getRangeInfo(r);return p.start.time>p.end.time&&r.reverse(),r},a.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],o;r[0].time>r[1].time&&(o=!0,r.reverse());var l=Math.floor(r[1].time/mR)-Math.floor(r[0].time/mR)+1,c=new Date(r[0].time),f=c.getDate(),p=r[1].date.getDate();c.setDate(f+l-1);var g=c.getDate();if(g!==p)for(var v=c.getTime()-r[1].time>0?1:-1;(g=c.getDate())!==p&&(c.getTime()-r[1].time)*v>0;)l-=v,c.setDate(g-v);var x=Math.floor((l+r[0].day+6)/7),O=o?-x+1:x-1;return o&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:l,weeks:x,nthWeek:O,fweek:r[0].day,lweek:r[1].day}},a.prototype._getDateByWeeksAndDay=function(n,r,o){var l=this._getRangeInfo(o);if(n>l.weeks||n===0&&r<l.fweek||n===l.weeks&&r>l.lweek)return null;var c=(n-1)*7-l.fweek+r,f=new Date(l.start.time);return f.setDate(+l.start.d+c),this.getDateInfo(f)},a.create=function(n,r){var o=[];return n.eachComponent("calendar",function(l){var c=new a(l,n,r);o.push(c),l.coordinateSystem=c}),n.eachComponent(function(l,c){N0({targetModel:c,coordSysType:"calendar",coordSysProvider:A7})}),o},a.dimensions=["time","value"],a})();function gR(a){var n=a.calendarModel,r=a.seriesModel,o=n?n.coordinateSystem:r?r.coordinateSystem:null;return o}function FNe(a){a.registerComponentModel(QNe),a.registerComponentView(jNe),a.registerCoordinateSystem("calendar",VNe)}var Uu={level:1,leaf:2,nonLeaf:3},qu={none:0,all:1,body:2,corner:3};function vR(a,n,r){var o=n[Bt[r]].getCell(a);return!o&&dt(a)&&a<0&&(o=n[Bt[1-r]].getUnitLayoutInfo(r,Math.round(a))),o}function AX(a){var n=a||[];return n[0]=n[0]||[],n[1]=n[1]||[],n[0][0]=n[0][1]=n[1][0]=n[1][1]=NaN,n}function PX(a,n,r,o,l){EX(a[0],n,l,r,o,0),EX(a[1],n,l,r,o,1)}function EX(a,n,r,o,l,c){a[0]=1/0,a[1]=-1/0;var f=o[c],p=ke(f)?f:[f],g=p.length,v=!!r;if(g>=1?(MX(a,n,p,v,l,c,0),g>1&&MX(a,n,p,v,l,c,g-1)):(n&&n.push('Should be like [["x1", "x2"], ["y1", "y2"]], or ["x1", "y1"], rather than empty.'),a[0]=a[1]=NaN),v){var x=-l[Bt[1-c]].getLocatorCount(c),O=l[Bt[c]].getLocatorCount(c)-1;r===qu.body?x=Rr(0,x):r===qu.corner&&(O=mo(-1,O)),O<x&&(x=O=NaN),qe(a[0])&&(a[0]=x),qe(a[1])&&(a[1]=O),a[0]=Rr(mo(a[0],O),x),a[1]=Rr(mo(a[1],O),x)}}function MX(a,n,r,o,l,c,f){var p=vR(r[f],l,c);if(!p){!o&&n&&n.push("Can not find cell by coord["+c+"]["+f+"]."),a[0]=a[1]=NaN;return}var g=p.id[Bt[c]],v=g,x=qNe(p);x&&(v+=x.span[Bt[c]]-1),a[0]=mo(a[0],g,v),a[1]=Rr(a[1],g,v)}function pw(a,n){return qe(a[n][0])||qe(a[n][1])}function DX(a,n,r,o){n=n||GNe;for(var l=0;l<o;l++)n[l]=!1;for(;;){for(var c=!1,l=0;l<o;l++){var f=r[l];!n[l]&&f.cellMergeOwner&&WNe(a,f.locatorRange)&&(n[l]=!0,c=!0)}if(!c)break}}var GNe=[];function WNe(a,n){return!IX(a[0],n[0])||!IX(a[1],n[1])?!1:(a[0][0]=mo(a[0][0],n[0][0]),a[0][1]=Rr(a[0][1],n[0][1]),a[1][0]=mo(a[1][0],n[1][0]),a[1][1]=Rr(a[1][1],n[1][1]),!0)}function IX(a,n){return a[1]>=n[0]&&a[0]<=n[1]}function RX(a,n){a.id.set(n[0][0],n[1][0]),a.span.set(n[0][1]-a.id.x+1,n[1][1]-a.id.y+1)}function UNe(a,n){a[0][0]=n[0][0],a[0][1]=n[0][1],a[1][0]=n[1][0],a[1][1]=n[1][1]}function LX(a,n,r,o){var l=vR(n[o][0],r,o),c=vR(n[o][1],r,o);a[Bt[o]]=a[Gr[o]]=NaN,l&&c&&(a[Bt[o]]=l.xy,a[Gr[o]]=c.xy+c.wh-l.xy)}function zy(a,n,r,o){return a[Bt[n]]=r,a[Bt[1-n]]=o,a}function qNe(a){return a&&(a.type===Uu.leaf||a.type===Uu.nonLeaf)?a:null}function mw(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var NX=(function(){function a(n,r){this._cells=[],this._levels=[],this.dim=n,this.dimIdx=n==="x"?0:1,this._model=r,this._uniqueValueGen=ZNe(n);var o=r.get("data",!0);o!=null&&!ke(o)&&(cn("Illegal echarts option - matrix."+this.dim+".data must be an array if specified."),o=[]),o?this._initByDimModelData(o):this._initBySeriesData()}return a.prototype._initByDimModelData=function(n){var r=this,o=r._cells,l=r._levels,c=[],f=0;r._leavesCount=p(n,0,0),g();return;function p(v,x,O){var w=0;return v&&Z(v,function(S,k){var P=!1,E;De(S)?E={value:S}:Ze(S)?(E=S,S.value!=null&&!De(S.value)&&(P=!0,E={value:null})):(E={value:null},S!=null&&(P=!0)),P&&cn("Illegal echarts option - matrix."+r.dim+".data["+k+"] must be `string | {value: string}`.");var M={type:Uu.nonLeaf,ordinal:NaN,level:O,firstLeafLocator:x,id:new bt,span:zy(new bt,r.dimIdx,1,1),option:E,xy:NaN,wh:NaN,dim:r,rect:mw()};f++,(c[x]||(c[x]=[])).push(M),l[O]||(l[O]={type:Uu.level,xy:NaN,wh:NaN,option:null,id:new bt,dim:r});var R=p(E.children,x,O+1),N=Math.max(1,R);M.span[Bt[r.dimIdx]]=N,w+=N,x+=N}),w}function g(){for(var v=[];o.length<f;)for(var x=0;x<c.length;x++){var O=c[x].pop();if(O){O.ordinal=v.length;var w=O.option.value;v.push(w),o.push(O),r._uniqueValueGen.calcDupBase(w)}}r._uniqueValueGen.ensureValueUnique(v,o);var S=r._ordinalMeta=new ny({categories:v,needCollect:!1,deduplication:!1});r._scale=new Nm({ordinalMeta:S});for(var k=0;k<r._leavesCount;k++){var P=r._cells[k];P.type=Uu.leaf,P.span[Bt[1-r.dimIdx]]=r._levels.length-P.level}r._initCellsId(),r._initLevelIdOptions()}},a.prototype._initBySeriesData=function(){var n=this;n._leavesCount=0,n._levels=[{type:Uu.level,xy:NaN,wh:NaN,option:null,id:new bt,dim:n}],n._initLevelIdOptions();var r=n._ordinalMeta=new ny({needCollect:!0,deduplication:!0,onCollect:function(o,l){var c=n._cells[l]={type:Uu.leaf,ordinal:l,level:0,firstLeafLocator:l,id:new bt,span:zy(new bt,n.dimIdx,1,1),option:{value:o+""},xy:NaN,wh:NaN,dim:n,rect:mw()};n._leavesCount++,n._setCellId(c)}});n._scale=new Nm({ordinalMeta:r})},a.prototype._setCellId=function(n){var r=this._levels.length,o=this.dimIdx;zy(n.id,o,n.firstLeafLocator,n.level-r)},a.prototype._initCellsId=function(){var n=this._levels.length,r=this.dimIdx;Z(this._cells,function(o){zy(o.id,r,o.firstLeafLocator,o.level-n)})},a.prototype._initLevelIdOptions=function(){var n=this._levels.length,r=this.dimIdx,o=this._model.get("levels",!0);o=ke(o)?o:[],Z(this._levels,function(l,c){zy(l.id,r,0,c-n),l.option=o[c]})},a.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},a.prototype.resetLayoutIterator=function(n,r,o,l){if(n=n||new Rc,r===this.dimIdx){var c=this._leavesCount,f=o!=null?Math.max(0,o):0;l=l!=null?Math.min(l,c):c,n.reset(this._cells,f,f+l)}else{var c=this._levels.length,f=o!=null?Math.max(0,o+c):0;l=l!=null?Math.min(l,c):c,n.reset(this._levels,f,f+l)}return n},a.prototype.resetCellIterator=function(n){return(n||new Rc).reset(this._cells,0)},a.prototype.resetLevelIterator=function(n){return(n||new Rc).reset(this._levels,0)},a.prototype.getLayout=function(n,r,o){var l=this.getUnitLayoutInfo(r,o);n[Bt[r]]=l?l.xy:NaN,n[Gr[r]]=l?l.wh:NaN},a.prototype.getUnitLayoutInfo=function(n,r){return n===this.dimIdx?r<this._leavesCount?this._cells[r]:void 0:this._levels[r+this._levels.length]},a.prototype.getCell=function(n){var r=this._scale.parse(n);return qe(r)?void 0:this._cells[r]},a.prototype.getLocatorCount=function(n){return n===this.dimIdx?this._leavesCount:this._levels.length},a.prototype.getOrdinalMeta=function(){return this._ordinalMeta},a})();function ZNe(a){var n=a.toUpperCase(),r=new RegExp("^"+n+"([0-9]+)$"),o=0;function l(p){var g;p!=null&&(g=p.match(r))&&(o=Rr(o,+g[1]+1))}function c(){return""+n+o++}function f(p,g){for(var v=Xe(),x=0;x<p.length;x++){var O=p[x];(O==null||v.get(O)!=null)&&(p[x]=O=c(),g[x].option=be({value:O},g[x].option)),v.set(O,!0)}}return{calcDupBase:l,ensureValueUnique:f}}var $X=(function(){function a(n,r,o){this._model=r,this._dims=o,this._kind=n,this._cellMergeOwnerList=[]}return a.prototype._ensureCellMap=function(){var n=this,r=n._cellMap;return r||(r=n._cellMap=Xe(),o()),r;function o(){var c=[],f=n._model.getShallow("data");f&&!ke(f)&&(cn("matrix."+f+".data must be an array if specified."),f=null),Z(f,function(k,P){if(!Ze(k)||!ke(k.coord)){cn("Illegal matrix."+n._kind+".data["+P+"], must be a {coord: [...], ...}");return}var E=AX([]),M=null;if(M=[],PX(E,M,k.coord,n._dims,k.coordClamp?qu[n._kind]:qu.none),pw(E,0)||pw(E,1)){cn("Can not determine cells by option matrix."+n._kind+".data["+P+"]: "+(""+M.join(" ")));return}var R=k&&k.mergeCells,N={id:new bt,span:new bt,locatorRange:E,option:k,cellMergeOwner:R};RX(N,E),c.push(N)});for(var p=[],g=0;g<c.length;g++){var v=c[g];if(v.cellMergeOwner){var x=v.locatorRange;DX(x,p,c,g);for(var O=0;O<g;O++)p[O]&&(c[O].cellMergeOwner=!1);if(x[0][0]!==v.id.x||x[1][0]!==v.id.y){v.cellMergeOwner=!1;var w=ee({},v.option);w.coord=null;var S={id:new bt,span:new bt,locatorRange:x,option:w,cellMergeOwner:!0};RX(S,x),c.push(S)}}}Z(c,function(k){var P=l(k.id.x,k.id.y);if(k.cellMergeOwner&&(P.cellMergeOwner=!0,P.span=k.span,P.locatorRange=k.locatorRange,P.spanRect=mw(),n._cellMergeOwnerList.push(P)),!(!k.cellMergeOwner&&!k.option))for(var E=0;E<k.span.y;E++)for(var M=0;M<k.span.x;M++){var R=l(k.id.x+M,k.id.y+E);R.option=k.option,k.cellMergeOwner&&(R.inSpanOf=P)}})}function l(c,f){var p=zX(c,f),g=r.get(p);return g||(g=r.set(p,{id:new bt(c,f),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),g}},a.prototype.getCell=function(n){return this._ensureCellMap().get(zX(n[0],n[1]))},a.prototype.travelExistingCells=function(n){this._ensureCellMap().each(n)},a.prototype.expandRangeByCellMerge=function(n){if(!pw(n,0)&&!pw(n,1)&&n[0][0]===n[0][1]&&n[1][0]===n[1][1]){yR[0]=n[0][0],yR[1]=n[1][0];var r=this.getCell(yR),o=r&&r.inSpanOf;if(o){UNe(n,o.locatorRange);return}}var l=this._cellMergeOwnerList;DX(n,null,l,l.length)},a})(),yR=[];function zX(a,n){return a+"|"+n}var xR={show:!0,color:Ie.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function _R(a){return{color:"none",borderWidth:1,borderColor:a?"none":Ie.color.borderTint}}var BX={show:!0,label:xR,itemStyle:_R(!1),silent:void 0,dividerLineStyle:{width:1,color:Ie.color.border}},HNe={label:xR,itemStyle:_R(!1),silent:void 0},XNe={label:xR,itemStyle:_R(!0),silent:void 0},YNe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:BX,y:BX,body:HNe,corner:XNe,backgroundStyle:{color:"none",borderColor:Ie.color.axisLine,borderWidth:1}},KNe=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this._dimModels={x:new QX(this.get("x",!0)||{}),y:new QX(this.get("y",!0)||{})};r.x.option.type=r.y.option.type="category";var o=r.x.dim=new NX("x",r.x),l=r.y.dim=new NX("y",r.y),c={x:o,y:l};this._body=new $X("body",new en(this.getShallow("body")),c),this._corner=new $X("corner",new en(this.getShallow("corner")),c)},n.prototype.getDimensionModel=function(r){return this._dimModels[r]},n.prototype.getBody=function(){return this._body},n.prototype.getCorner=function(){return this._corner},n.type="matrix",n.layoutMode="box",n.defaultOption=YNe,n})(Ht),QX=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},n})(en),gw=Math.round,JNe=0,e3e=99,t3e={normal:25,special:100},n3e={normal:50,special:125},r3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o){this.group.removeAll();var l=this.group,c=r.coordinateSystem,f=c.getRect(),p=r.getDimensionModel("x"),g=r.getDimensionModel("y"),v=p.dim,x=g.dim;i3e(l,r,o),a3e(l,r,v,x,o);var O=r.getShallow("borderZ2",!0),w=$e(O,e3e),S=w-1,k=r.getModel("backgroundStyle").getItemStyle(["borderWidth"]);k.lineWidth=0;var P=r.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);P.fill="none";var E=OR(f.clone(),k,JNe),M=OR(f.clone(),P,w);E.silent=!0,M.silent=!0,l.add(E),l.add(M);var R=v.getUnitLayoutInfo(0,0),N=x.getUnitLayoutInfo(1,0);R&&N&&(v.shouldShow()&&l.add(VX({x1:f.x,y1:N.xy,x2:f.x+f.width,y2:N.xy},p.getModel("dividerLineStyle").getLineStyle(),S)),x.shouldShow()&&l.add(VX({x1:R.xy,y1:f.y,x2:R.xy,y2:f.y+f.height},g.getModel("dividerLineStyle").getLineStyle(),S)))},n.type="matrix",n})(Gn);function i3e(a,n,r){o(0),o(1);function o(l){var c=n.getDimensionModel(Bt[l]),f=c.dim;if(f.shouldShow())for(var p=c.getModel("itemStyle"),g=c.getModel("label"),v=n.getShallow("tooltip",!0),x=[],O=f.resetCellIterator();O.next();){var w=O.item,S={};wt.copy(S,w.rect),Ac(x,w.id.x,w.id.y),jX(x,n,a,r,w.option,p,g,c,S,w.option.value,n3e,v)}}}function a3e(a,n,r,o,l){c("body",n.getBody(),r,o),r.shouldShow()&&o.shouldShow()&&c("corner",n.getCorner(),o,r);function c(f,p,g,v){var x=new en(n.getShallow(f,!0)),O=x.getModel("itemStyle"),w=x.getModel("label"),S=new Rc,k=new Rc,P=[],E=n.getShallow("tooltip",!0);for(v.resetLayoutIterator(k,1);k.next();)for(g.resetLayoutIterator(S,0);S.next();){var M=S.item,R=k.item;Ac(P,M.id.x,R.id.y);var N=p.getCell(P);if(!(N&&N.inSpanOf&&N.inSpanOf!==N)){var j={};N&&N.span?wt.copy(j,N.spanRect):(M.dim.getLayout(j,0,P[0]),R.dim.getLayout(j,1,P[1]));var W=N?N.option:null;jX(P,n,a,l,W,O,w,x,j,W?W.value:null,t3e,E)}}}}function jX(a,n,r,o,l,c,f,p,g,v,x,O){var w;vw.option=l?l.itemStyle:null,vw.parentModel=c,ng.option=l,ng.parentModel=p;var S=$e(ng.getShallow("z2"),l&&l.itemStyle?x.special:x.normal),k=O&&O.show,P=OR(g,vw.getItemStyle(),S);r.add(P);var E=ng.get("cursor");E!=null&&P.attr("cursor",E);var M;if(v!=null){var R=v+"";if(rg.option=l?l.label:null,rg.parentModel=f,rg.ecModel=o,hi(P,{normal:rg},{defaultText:R,autoOverflowArea:!0,layoutRect:ne(P.shape)}),M=P.getTextContent(),M){M.z2=S+1;var N=M.style;if(N&&N.overflow&&N.overflow!=="none"&&N.lineOverflow){var j={};wt.copy(j,g),Nf(j,(((w=P.style)===null||w===void 0?void 0:w.lineWidth)||0)/2,!0,!0),P.updateInnerText(),M.getLocalTransform(yw),za(yw,yw),wt.applyTransform(j,j,yw),M.setClipPath(new Zt({shape:j}))}}Iu({el:P,componentModel:n,itemName:R,itemTooltipOption:O,formatterParamsExtra:{xyLocator:a.slice()}})}if(M){var W=rg.get("silent");W==null&&(W=!k),M.silent=W,M.ignoreHostSilent=!0}var U=ng.get("silent");U==null&&(U=!P.style||P.style.fill==="none"||!P.style.fill),P.silent=U,oE(ng),oE(vw),oE(rg)}var ng=new en,vw=new en,rg=new en,yw=[];function OR(a,n,r){var o=n.lineWidth;if(o){var l=a.x+a.width,c=a.y+a.height;a.x=yo(a.x,o,!0),a.y=yo(a.y,o,!0),a.width=yo(l,o,!0)-a.x,a.height=yo(c,o,!0)-a.y}return new Zt({shape:a,style:n,z2:r})}function VX(a,n,r){var o=n.lineWidth;return o&&(gw(a.x1*2)===gw(a.x2*2)&&(a.x1=a.x2=yo(a.x1,o,!0)),gw(a.y1*2)===gw(a.y2*2)&&(a.y1=a.y2=yo(a.y1,o,!0))),new $r({shape:a,style:n,silent:!0,z2:r})}var o3e=(function(){function a(n,r,o){this.dimensions=a.dimensions,this.type="matrix",this._model=n;var l=this._dimModels={x:n.getDimensionModel("x"),y:n.getDimensionModel("y")};this._dims={x:l.x.dim,y:l.y.dim},this._resize(n,o)}return a.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},a.create=function(n,r){var o=[];return n.eachComponent("matrix",function(l){var c=new a(l,n,r);o.push(c),l.coordinateSystem=c}),n.eachComponent(function(l,c){N0({targetModel:c,coordSysType:"matrix",coordSysProvider:A7})}),o},a.prototype.getRect=function(){return this._rect},a.prototype._resize=function(n,r){var o=this._dims,l=this._dimModels,c=this._rect=rr(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});FX(l,o,c,0),FX(l,o,c,1),GX(0,o),GX(1,o),WX(this._model.getBody(),o),WX(this._model.getCorner(),o)},a.prototype.dataToPoint=function(n,r,o){return o=o||[],this.dataToLayout(n,r,By),o[0]=By.rect.x+By.rect.width/2,o[1]=By.rect.y+By.rect.height/2,o},a.prototype.dataToLayout=function(n,r,o){var l=this._dims;o=o||{};var c=o.rect=o.rect||{};c.x=c.y=c.width=c.height=NaN;var f=o.matrixXYLocatorRange=AX(o.matrixXYLocatorRange);return ke(n)?(PX(f,null,n,l,$e(r&&r.clamp,qu.none)),(!r||!r.ignoreMergeCells)&&((!r||r.clamp!==qu.corner)&&this._model.getBody().expandRangeByCellMerge(f),(!r||r.clamp!==qu.body)&&this._model.getCorner().expandRangeByCellMerge(f)),LX(c,f,l,0),LX(c,f,l,1),o):(cn("Input data must be an array in `convertToLayout`, `convertToPixel`"),o)},a.prototype.pointToData=function(n,r,o){var l=this._dims;return UX(Il,0,l,n,r&&r.clamp),UX(Il,1,l,n,r&&r.clamp),o=o||[],o[0]=o[1]=NaN,Il.y===Wi.inCorner&&Il.x===Wi.inBody?qX(Il,o,0,l):Il.x===Wi.inCorner&&Il.y===Wi.inBody?qX(Il,o,1,l):(ZX(Il,o,0,l),ZX(Il,o,1,l)),o},a.prototype.convertToPixel=function(n,r,o,l){var c=SR(r);return c===this?c.dataToPoint(o,l):void 0},a.prototype.convertToLayout=function(n,r,o,l){var c=SR(r);return c===this?c.dataToLayout(o,l):void 0},a.prototype.convertFromPixel=function(n,r,o,l){var c=SR(r);return c===this?c.pointToData(o,l):void 0},a.prototype.containPoint=function(n){return this._rect.contain(n[0],n[1])},a.dimensions=["x","y","value"],a})(),By={rect:mw()},xw=new Rc,bR=new Rc;function FX(a,n,r,o){for(var l=1-o,c=n[Bt[o]],f=n[Bt[l]],p=f.shouldShow(),g=c.resetCellIterator();g.next();)g.item.wh=g.item.xy=NaN;for(var v=f.resetLayoutIterator(null,o);v.next();)v.item.wh=v.item.xy=NaN;for(var x=r[Gr[o]],O=c.getLocatorCount(o)+f.getLocatorCount(o),w=new en,S=f.resetLevelIterator();S.next();)w.option=S.item.option,w.parentModel=a[Bt[l]],E(S.item,p?w.get("levelSize"):0);for(var k=new en,P=c.resetCellIterator();P.next();)P.item.type===Uu.leaf&&(k.option=P.item.option,k.parentModel=void 0,E(P.item,k.get("size")));function E(X,J){var re=s3e(J,o,r);qe(re)||(X.wh=wR(re,x),x=wR(x-X.wh),O--)}var M=O?x/O:0,R=!O&&x>=1,N=r[Bt[o]],j=c.getLocatorCount(o)-1,W=new Rc;for(f.resetLayoutIterator(W,o);W.next();)U(W.item);for(c.resetLayoutIterator(W,o);W.next();)U(W.item);function U(X){qe(X.wh)&&(X.wh=M),X.xy=N,X.id[Bt[o]]===j&&!R&&(X.wh=r[Bt[o]]+r[Gr[o]]-X.xy),N+=X.wh}}function GX(a,n){for(var r=n[Bt[a]].resetCellIterator();r.next();){var o=r.item;_w(o.rect,a,o.id,o.span,n),_w(o.rect,1-a,o.id,o.span,n),o.type===Uu.nonLeaf&&(o.xy=o.rect[Bt[a]],o.wh=o.rect[Gr[a]])}}function WX(a,n){a.travelExistingCells(function(r){var o=r.span;if(o){var l=r.spanRect,c=r.id;_w(l,0,c,o,n),_w(l,1,c,o,n)}})}function _w(a,n,r,o,l){a[Gr[n]]=0;var c=r[Bt[n]],f=c<0?l[Bt[1-n]]:l[Bt[n]],p=f.getUnitLayoutInfo(n,r[Bt[n]]);if(a[Bt[n]]=p.xy,a[Gr[n]]=p.wh,o[Bt[n]]>1){var g=f.getUnitLayoutInfo(n,r[Bt[n]]+o[Bt[n]]-1);a[Gr[n]]=g.xy+g.wh-p.xy}}function s3e(a,n,r){var o=VO(a,r[Gr[n]]);return wR(o,r[Gr[n]])}function wR(a,n){return Math.max(Math.min(a,$e(n,1/0)),0)}function SR(a){var n=a.matrixModel,r=a.seriesModel,o=n?n.coordinateSystem:r?r.coordinateSystem:null;return o}var Wi={inBody:1,inCorner:2,outside:3},Il={x:null,y:null,point:[]};function UX(a,n,r,o,l){var c=r[Bt[n]],f=r[Bt[1-n]],p=c.getUnitLayoutInfo(n,c.getLocatorCount(n)-1),g=c.getUnitLayoutInfo(n,0),v=f.getUnitLayoutInfo(n,-f.getLocatorCount(n)),x=f.shouldShow()?f.getUnitLayoutInfo(n,-1):null,O=a.point[n]=o[n];if(!g&&!x){a[Bt[n]]=Wi.outside;return}if(l===qu.body){g?(a[Bt[n]]=Wi.inBody,O=mo(p.xy+p.wh,Rr(g.xy,O)),a.point[n]=O):a[Bt[n]]=Wi.outside;return}else if(l===qu.corner){x?(a[Bt[n]]=Wi.inCorner,O=mo(x.xy+x.wh,Rr(v.xy,O)),a.point[n]=O):a[Bt[n]]=Wi.outside;return}var w=g?g.xy:x?x.xy+x.wh:NaN,S=v?v.xy:w,k=p?p.xy+p.wh:w;if(O<S){if(!l){a[Bt[n]]=Wi.outside;return}O=S}else if(O>k){if(!l){a[Bt[n]]=Wi.outside;return}O=k}a.point[n]=O,a[Bt[n]]=w<=O&&O<=k?Wi.inBody:S<=O&&O<=w?Wi.inCorner:Wi.outside}function qX(a,n,r,o){var l=1-r;if(a[Bt[r]]!==Wi.outside)for(o[Bt[r]].resetCellIterator(bR);bR.next();){var c=bR.item;if(HX(a.point[r],c.rect,r)&&HX(a.point[l],c.rect,l)){n[r]=c.ordinal,n[l]=c.id[Bt[l]];return}}}function ZX(a,n,r,o){if(a[Bt[r]]!==Wi.outside){var l=a[Bt[r]]===Wi.inCorner?o[Bt[1-r]]:o[Bt[r]];for(l.resetLayoutIterator(xw,r);xw.next();)if(l3e(a.point[r],xw.item)){n[r]=xw.item.id[Bt[r]];return}}}function l3e(a,n){return n.xy<=a&&a<=n.xy+n.wh}function HX(a,n,r){return n[Bt[r]]<=a&&a<=n[Bt[r]]+n[Gr[r]]}function u3e(a){a.registerComponentModel(KNe),a.registerComponentView(r3e),a.registerCoordinateSystem("matrix",o3e)}function c3e(a,n){var r=a.existing;if(n.id=a.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var o=n.parentOption;o?n.parentId=o.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function XX(a,n){var r;return Z(n,function(o){a[o]!=null&&a[o]!=="auto"&&(r=!0)}),r}function d3e(a,n,r){var o=ee({},r),l=a[n],c=r.$action||"merge";if(c==="merge")if(l){{var f=r.type;Ke(!f||l.type===f,'Please set $action: "replace" to change `type`')}me(l,o,!0),Sl(l,o,{ignoreSize:!0}),I7(r,l),Ow(r,l),Ow(r,l,"shape"),Ow(r,l,"style"),Ow(r,l,"extra"),r.clipPath=l.clipPath}else a[n]=o;else c==="replace"?a[n]=o:c==="remove"&&l&&(a[n]=null)}var YX=["transition","enterFrom","leaveTo"],f3e=YX.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Ow(a,n,r){if(r&&(!a[r]&&n[r]&&(a[r]={}),a=a[r],n=n[r]),!(!a||!n))for(var o=r?YX:f3e,l=0;l<o.length;l++){var c=o[l];a[c]==null&&n[c]!=null&&(a[c]=n[c])}}function h3e(a,n){if(a&&(a.hv=n.hv=[XX(n,["left","right"]),XX(n,["top","bottom"])],a.type==="group")){var r=a,o=n;r.width==null&&(r.width=o.width=0),r.height==null&&(r.height=o.height=0)}}var p3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,o){var l=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,r,o),this.option.elements=l},n.prototype.optionUpdated=function(r,o){var l=this.option,c=(o?l:r).elements,f=l.elements=o?[]:l.elements,p=[];this._flatten(c,p,null);var g=I8(f,p,"normalMerge"),v=this._elOptionsToUpdate=[];Z(g,function(x,O){var w=x.newOption;Ke(Ze(w)||x.existing,"Empty graphic option definition"),w&&(v.push(w),c3e(x,w),d3e(f,O,w),h3e(f[O],w))},this),l.elements=Qe(f,function(x){return x&&delete x.$action,x!=null})},n.prototype._flatten=function(r,o,l){Z(r,function(c){if(c){l&&(c.parentOption=l),o.push(c);var f=c.children;f&&f.length&&this._flatten(f,o,c),delete c.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n})(Ht),KX={path:null,compoundPath:null,group:_t,image:fi,text:un},Jo=Kt(),m3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=Xe()},n.prototype.render=function(r,o,l){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,l)},n.prototype._updateElements=function(r){var o=r.useElOptionsToUpdate();if(o){var l=this._elMap,c=this.group,f=r.get("z"),p=r.get("zlevel");Z(o,function(g){var v=Yr(g.id,null),x=v!=null?l.get(v):null,O=Yr(g.parentId,null),w=O!=null?l.get(O):c,S=g.type,k=g.style;S==="text"&&k&&g.hv&&g.hv[1]&&(k.textVerticalAlign=k.textBaseline=k.verticalAlign=k.align=null);var P=g.textContent,E=g.textConfig;if(k&&DH(k,S,!!E,!!P)){var M=IH(k,S,!0);!E&&M.textConfig&&(E=g.textConfig=M.textConfig),!P&&M.textContent&&(P=M.textContent)}var R=g3e(g);x&&Ke(w===x.parent,"Changing parent is not supported.");var N=g.$action||"merge",j=N==="merge",W=N==="replace";if(j){var U=!x,X=x;U?X=JX(v,w,g.type,l):(X&&(Jo(X).isNew=!1),WH(X)),X&&(iw(X,R,r,{isInit:U}),eY(X,g,f,p))}else if(W){bw(x,g,l,r);var J=JX(v,w,g.type,l);J&&(iw(J,R,r,{isInit:!0}),eY(J,g,f,p))}else N==="remove"&&(jH(x,g),bw(x,g,l,r));var re=l.get(v);if(re&&P)if(j){var ie=re.getTextContent();ie?ie.attr(P):re.setTextContent(new un(P))}else W&&re.setTextContent(new un(P));if(re){var le=g.clipPath;if(le){var pe=le.type,ce=void 0,U=!1;if(j){var ye=re.getClipPath();U=!ye||Jo(ye).type!==pe,ce=U?TR(pe):ye}else W&&(U=!0,ce=TR(pe));re.setClipPath(ce),iw(ce,le,r,{isInit:U}),ow(ce,le.keyframeAnimation,r)}var Oe=Jo(re);re.setTextConfig(E),Oe.option=g,v3e(re,r,g),Iu({el:re,componentModel:r,itemName:re.name,itemTooltipOption:g.tooltip}),ow(re,g.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,o){for(var l=r.option.elements,c=this.group,f=this._elMap,p=o.getWidth(),g=o.getHeight(),v=["x","y"],x=0;x<l.length;x++){var O=l[x],w=Yr(O.id,null),S=w!=null?f.get(w):null;if(!(!S||!S.isGroup)){var k=S.parent,P=k===c,E=Jo(S),M=Jo(k);E.width=it(E.option.width,P?p:M.width)||0,E.height=it(E.option.height,P?g:M.height)||0}}for(var x=l.length-1;x>=0;x--){var O=l[x],w=Yr(O.id,null),S=w!=null?f.get(w):null;if(S){var k=S.parent,M=Jo(k),R=k===c?{width:p,height:g}:{width:M.width,height:M.height},N={},j=Pb(S,O,R,null,{hv:O.hv,boundingMode:O.bounding},N);if(!Jo(S).isNew&&j){for(var W=O.transition,U={},X=0;X<v.length;X++){var J=v[X],re=N[J];W&&(_h(W)||se(W,J)>=0)?U[J]=re:S[J]=re}pn(S,U,r,0)}else S.attr(N)}}},n.prototype._clear=function(){var r=this,o=this._elMap;o.each(function(l){bw(l,Jo(l).option,o,r._lastGraphicModel)}),this._elMap=Xe()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n})(Gn);function TR(a){Ke(a,"graphic type MUST be set");var n=Je(KX,a)?KX[a]:P0(a);Ke(n,"graphic type "+a+" can not be found");var r=new n({});return Jo(r).type=a,r}function JX(a,n,r,o){var l=TR(r);return n.add(l),o.set(a,l),Jo(l).id=a,Jo(l).isNew=!0,l}function bw(a,n,r,o){var l=a&&a.parent;l&&(a.type==="group"&&a.traverse(function(c){bw(c,n,r,o)}),aw(a,n,o),r.removeKey(Jo(a).id))}function eY(a,n,r,o){a.isGroup||Z([["cursor",jo.prototype.cursor],["zlevel",o||0],["z",r||0],["z2",0]],function(l){var c=l[0];Je(n,c)?a[c]=$e(n[c],l[1]):a[c]==null&&(a[c]=l[1])}),Z(He(n),function(l){if(l.indexOf("on")===0){var c=n[l];a[l]=Ge(c)?c:null}}),Je(n,"draggable")&&(a.draggable=n.draggable),n.name!=null&&(a.name=n.name),n.id!=null&&(a.id=n.id)}function g3e(a){return a=ee({},a),Z(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(P7),function(n){delete a[n]}),a}function v3e(a,n,r){var o=Et(a).eventData;!a.silent&&!a.ignore&&!o&&(o=Et(a).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:a.name}),o&&(o.info=r.info)}function y3e(a){a.registerComponentModel(p3e),a.registerComponentView(m3e),a.registerPreprocessor(function(n){var r=n.graphic;ke(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var tY=["x","y","radius","angle","single"],x3e=["cartesian2d","polar","singleAxis"];function _3e(a){var n=a.get("coordinateSystem");return se(x3e,n)>=0}function sd(a){return Ke(a),a+"Axis"}function O3e(a,n){var r=Xe(),o=[],l=Xe();a.eachComponent({mainType:"dataZoom",query:n},function(x){l.get(x.uid)||p(x)});var c;do c=!1,a.eachComponent("dataZoom",f);while(c);function f(x){!l.get(x.uid)&&g(x)&&(p(x),c=!0)}function p(x){l.set(x.uid,!0),o.push(x),v(x)}function g(x){var O=!1;return x.eachTargetAxis(function(w,S){var k=r.get(w);k&&k[S]&&(O=!0)}),O}function v(x){x.eachTargetAxis(function(O,w){(r.get(O)||r.set(O,[]))[w]=!0})}return o}function nY(a){var n=a.ecModel,r={infoList:[],infoMap:Xe()};return a.eachTargetAxis(function(o,l){var c=n.getComponent(sd(o),l);if(c){var f=c.getCoordSysModel();if(f){var p=f.uid,g=r.infoMap.get(p);g||(g={model:f,axisModels:[]},r.infoList.push(g),r.infoMap.set(p,g)),g.axisModels.push(c)}}}),r}var CR=(function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},a})(),Qy=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,o,l){var c=rY(r);this.settledOption=c,this.mergeDefaultAndTheme(r,l),this._doInit(c)},n.prototype.mergeOption=function(r){var o=rY(r);me(this.option,r,!0),me(this.settledOption,o,!0),this._doInit(o)},n.prototype._doInit=function(r){var o=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var l=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(c,f){this._rangePropMode[f]==="value"&&(o[c[0]]=l[c[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),o=this._targetAxisInfoMap=Xe(),l=this._fillSpecifiedTargetAxis(o);l?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(c){c.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var o=!1;return Z(tY,function(l){var c=this.getReferringComponents(sd(l),NOe);if(c.specified){o=!0;var f=new CR;Z(c.models,function(p){f.add(p.componentIndex)}),r.set(l,f)}},this),o},n.prototype._fillAutoTargetAxisByOrient=function(r,o){var l=this.ecModel,c=!0;if(c){var f=o==="vertical"?"y":"x",p=l.findComponents({mainType:f+"Axis"});g(p,f)}if(c){var p=l.findComponents({mainType:"singleAxis",filter:function(x){return x.get("orient",!0)===o}});g(p,"single")}function g(v,x){var O=v[0];if(O){var w=new CR;if(w.add(O.componentIndex),r.set(x,w),c=!1,x==="x"||x==="y"){var S=O.getReferringComponents("grid",br).models[0];S&&Z(v,function(k){O.componentIndex!==k.componentIndex&&S===k.getReferringComponents("grid",br).models[0]&&w.add(k.componentIndex)})}}}c&&Z(tY,function(v){if(c){var x=l.findComponents({mainType:sd(v),filter:function(w){return w.get("type",!0)==="category"}});if(x[0]){var O=new CR;O.add(x[0].componentIndex),r.set(v,O),c=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(o){!r&&(r=o)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var o=this._rangePropMode,l=this.get("rangeMode");Z([["start","startValue"],["end","endValue"]],function(c,f){var p=r[c[0]]!=null,g=r[c[1]]!=null;p&&!g?o[f]="percent":!p&&g?o[f]="value":l?o[f]=l[f]:p&&(o[f]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(o,l){r==null&&(r=this.ecModel.getComponent(sd(o),l))},this),r},n.prototype.eachTargetAxis=function(r,o){this._targetAxisInfoMap.each(function(l,c){Z(l.indexList,function(f){r.call(o,c,f)})})},n.prototype.getAxisProxy=function(r,o){var l=this.getAxisModel(r,o);if(l)return l.__dzAxisProxy},n.prototype.getAxisModel=function(r,o){Ke(r&&o!=null);var l=this._targetAxisInfoMap.get(r);if(l&&l.indexMap[o])return this.ecModel.getComponent(sd(r),o)},n.prototype.setRawRange=function(r){var o=this.option,l=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(c){(r[c[0]]!=null||r[c[1]]!=null)&&(o[c[0]]=l[c[0]]=r[c[0]],o[c[1]]=l[c[1]]=r[c[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var o=this.option;Z(["start","startValue","end","endValue"],function(l){o[l]=r[l]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,o){if(r==null&&o==null){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataValueWindow()}else return this.getAxisProxy(r,o).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var o,l=this._targetAxisInfoMap.keys(),c=0;c<l.length;c++)for(var f=l[c],p=this._targetAxisInfoMap.get(f),g=0;g<p.indexList.length;g++){var v=this.getAxisProxy(f,p.indexList[g]);if(v.hostedBy(this))return v;o||(o=v)}return o},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return Ke(this._orient),this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n})(Ht);function rY(a){var n={};return Z(["start","end","startValue","endValue","throttle"],function(r){a.hasOwnProperty(r)&&(n[r]=a[r])}),n}var b3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n})(Qy),kR=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l,c){this.dataZoomModel=r,this.ecModel=o,this.api=l},n.type="dataZoom",n})(Gn),w3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n})(kR),ig=Z,iY=go,S3e=(function(){function a(n,r,o,l){this._dimName=n,this._axisIndex=r,this.ecModel=l,this._dataZoomModel=o}return a.prototype.hostedBy=function(n){return this._dataZoomModel===n},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(_3e(r)){var o=sd(this._dimName),l=r.getReferringComponents(o,br).models[0];l&&this._axisIndex===l.componentIndex&&n.push(r)}},this),n},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return ne(this._minMaxSpan)},a.prototype.calculateDataWindow=function(n){var r=this._dataExtent,o=this.getAxisModel(),l=o.axis.scale,c=this._dataZoomModel.getRangePropMode(),f=[0,100],p=[],g=[],v;ig(["start","end"],function(w,S){var k=n[w],P=n[w+"Value"];c[S]==="percent"?(k==null&&(k=f[S]),P=l.parse(wn(k,f,r))):(v=!0,P=P==null?r[S]:l.parse(P),k=wn(P,r,f)),g[S]=P==null||isNaN(P)?r[S]:P,p[S]=k==null||isNaN(k)?f[S]:k}),iY(g),iY(p);var x=this._minMaxSpan;v?O(g,p,r,f,!1):O(p,g,f,r,!0);function O(w,S,k,P,E){var M=E?"Span":"ValueSpan";nd(0,w,k,"all",x["min"+M],x["max"+M]);for(var R=0;R<2;R++)S[R]=wn(w[R],k,P,!0),E&&(S[R]=l.parse(S[R]))}return{valueWindow:g,percentWindow:p}},a.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=T3e(this,this._dimName,r),this._updateMinMaxSpan();var o=this.calculateDataWindow(n.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var o=this._dimName,l=this.getTargetSeriesModels(),c=n.get("filterMode"),f=this._valueWindow;if(c==="none")return;ig(l,function(g){var v=g.getData(),x=v.mapDimensionsAll(o);if(x.length){if(c==="weakFilter"){var O=v.getStore(),w=ve(x,function(S){return v.getDimensionIndex(S)},v);v.filterSelf(function(S){for(var k,P,E,M=0;M<x.length;M++){var R=O.get(w[M],S),N=!isNaN(R),j=R<f[0],W=R>f[1];if(N&&!j&&!W)return!0;N&&(E=!0),j&&(k=!0),W&&(P=!0)}return E&&k&&P})}else ig(x,function(S){if(c==="empty")g.setData(v=v.map(S,function(P){return p(P)?P:NaN}));else{var k={};k[S]=f,v.selectRange(k)}});ig(x,function(S){v.setApproximateExtent(f,S)})}});function p(g){return g>=f[0]&&g<=f[1]}},a.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,o=this._dataExtent;ig(["min","max"],function(l){var c=r.get(l+"Span"),f=r.get(l+"ValueSpan");f!=null&&(f=this.getAxisModel().axis.scale.parse(f)),f!=null?c=wn(o[0]+f,o,[0,100],!0):c!=null&&(f=wn(c,[0,100],o,!0)-o[0]),n[l+"Span"]=c,n[l+"ValueSpan"]=f},this)},a.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,o=this._valueWindow;if(r){var l=KP(o,[0,500]);l=Math.min(l,20);var c=n.axis.scale.rawExtentInfo;r[0]!==0&&c.setDeterminedMinMax("min",+o[0].toFixed(l)),r[1]!==100&&c.setDeterminedMinMax("max",+o[1].toFixed(l)),c.freeze()}},a})();function T3e(a,n,r){var o=[1/0,-1/0];ig(r,function(f){GCe(o,f.getData(),n)});var l=a.getAxisModel(),c=_W(l.axis.scale,l,o).calculate();return[c.min,c.max]}var C3e={getTargetSeries:function(a){function n(l){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(f,p){var g=a.getComponent(sd(f),p);l(f,p,g,c)})})}n(function(l,c,f,p){f.__dzAxisProxy=null});var r=[];n(function(l,c,f,p){f.__dzAxisProxy||(f.__dzAxisProxy=new S3e(l,c,p,a),r.push(f.__dzAxisProxy))});var o=Xe();return Z(r,function(l){Z(l.getTargetSeriesModels(),function(c){o.set(c.uid,c)})}),o},overallReset:function(a,n){a.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(o,l){r.getAxisProxy(o,l).reset(r)}),r.eachTargetAxis(function(o,l){r.getAxisProxy(o,l).filterData(r,n)})}),a.eachComponent("dataZoom",function(r){var o=r.findRepresentativeAxisProxy();if(o){var l=o.getDataPercentWindow(),c=o.getDataValueWindow();r.setCalculatedRange({start:l[0],end:l[1],startValue:c[0],endValue:c[1]})}})}};function k3e(a){a.registerAction("dataZoom",function(n,r){var o=O3e(r,n);Z(o,function(l){l.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var aY=!1;function AR(a){aY||(aY=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,C3e),k3e(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function A3e(a){a.registerComponentModel(b3e),a.registerComponentView(w3e),AR(a)}var es=(function(){function a(){}return a})(),oY={};function ag(a,n){oY[a]=n}function sY(a){return oY[a]}var P3e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;Z(this.option.feature,function(o,l){var c=sY(l);c&&(c.getDefaultOption&&(c.defaultOption=c.getDefaultOption(r)),me(o,c.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:Ie.color.border,borderRadius:0,borderWidth:0,padding:Ie.size.m,itemSize:15,itemGap:Ie.size.s,showTitle:!0,iconStyle:{borderColor:Ie.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:Ie.color.accent50}},tooltip:{show:!1,position:"bottom"}},n})(Ht);function lY(a,n){var r=xm(n.get("padding")),o=n.getItemStyle(["color","opacity"]);o.fill=n.get("backgroundColor");var l=new Zt({shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[1]+r[3],height:a.height+r[0]+r[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1});return l}var E3e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,o,l,c){var f=this.group;if(f.removeAll(),!r.get("show"))return;var p=+r.get("itemSize"),g=r.get("orient")==="vertical",v=r.get("feature")||{},x=this._features||(this._features={}),O=[];Z(v,function(R,N){O.push(N)}),new $u(this._featureNames||[],O).add(w).update(w).remove(Ue(w,null)).execute(),this._featureNames=O;function w(R,N){var j=O[R],W=O[N],U=v[j],X=new en(U,r,r.ecModel),J;if(c&&c.newTitle!=null&&c.featureName===j&&(U.title=c.newTitle),j&&!W){if(M3e(j))J={onclick:X.option.onclick,featureName:j};else{var re=sY(j);if(!re)return;J=new re}x[j]=J}else if(J=x[W],!J)return;J.uid=gm("toolbox-feature"),J.model=X,J.ecModel=o,J.api=l;var ie=J instanceof es;if(!j&&W){ie&&J.dispose&&J.dispose(o,l);return}if(!X.get("show")||ie&&J.unusable){ie&&J.remove&&J.remove(o,l);return}S(X,J,j),X.setIconStatus=function(le,pe){var ce=this.option,ye=this.iconPaths;ce.iconStatus=ce.iconStatus||{},ce.iconStatus[le]=pe,ye[le]&&(pe==="emphasis"?Eu:Mu)(ye[le])},J instanceof es&&J.render&&J.render(X,o,l,c)}function S(R,N,j){var W=R.getModel("iconStyle"),U=R.getModel(["emphasis","iconStyle"]),X=N instanceof es&&N.getIcons?N.getIcons():R.get("icon"),J=R.get("title")||{},re,ie;De(X)?(re={},re[j]=X):re=X,De(J)?(ie={},ie[j]=J):ie=J;var le=R.iconPaths={};Z(re,function(pe,ce){var ye=hm(pe,{},{x:-p/2,y:-p/2,width:p,height:p});ye.setStyle(W.getItemStyle());var Oe=ye.ensureState("emphasis");Oe.style=U.getItemStyle();var _e=new un({style:{text:ie[ce],align:U.get("textAlign"),borderRadius:U.get("textBorderRadius"),padding:U.get("textPadding"),fill:null,font:tM({fontStyle:U.get("textFontStyle"),fontFamily:U.get("textFontFamily"),fontSize:U.get("textFontSize"),fontWeight:U.get("textFontWeight")},o)},ignore:!0});ye.setTextContent(_e),Iu({el:ye,componentModel:r,itemName:ce,formatterParamsExtra:{title:ie[ce]}}),ye.__title=ie[ce],ye.on("mouseover",function(){var Pe=U.getItemStyle(),Se=g?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";_e.setStyle({fill:U.get("textFill")||Pe.fill||Pe.stroke||Ie.color.neutral99,backgroundColor:U.get("textBackgroundColor")}),ye.setTextConfig({position:U.get("textPosition")||Se}),_e.ignore=!r.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){R.get(["iconStatus",ce])!=="emphasis"&&l.leaveEmphasis(this),_e.hide()}),(R.get(["iconStatus",ce])==="emphasis"?Eu:Mu)(ye),f.add(ye),ye.on("click",Ee(N.onclick,N,o,l,ce)),le[ce]=ye})}var k=ei(r,l).refContainer,P=r.getBoxLayoutParams(),E=r.get("padding"),M=rr(P,k,E);Vf(r.get("orient"),f,r.get("itemGap"),M.width,M.height),Pb(f,P,k,E),f.add(lY(f.getBoundingRect(),r)),g||f.eachChild(function(R){var N=R.__title,j=R.ensureState("emphasis"),W=j.textConfig||(j.textConfig={}),U=R.getTextContent(),X=U&&U.ensureState("emphasis");if(X&&!Ge(X)&&N){var J=X.style||(X.style={}),re=zO(N,un.makeFont(J)),ie=R.x+f.x,le=R.y+f.y+p,pe=!1;le+re.height>l.getHeight()&&(W.position="top",pe=!0);var ce=pe?-5-re.height:p+10;ie+re.width/2>l.getWidth()?(W.position=["100%",ce],J.align="right"):ie-re.width/2<0&&(W.position=[0,ce],J.align="left")}})},n.prototype.updateView=function(r,o,l,c){Z(this._features,function(f){f instanceof es&&f.updateView&&f.updateView(f.model,o,l,c)})},n.prototype.remove=function(r,o){Z(this._features,function(l){l instanceof es&&l.remove&&l.remove(r,o)}),this.group.removeAll()},n.prototype.dispose=function(r,o){Z(this._features,function(l){l instanceof es&&l.dispose&&l.dispose(r,o)})},n.type="toolbox",n})(Gn);function M3e(a){return a.indexOf("my")===0}var D3e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,o){var l=this.model,c=l.get("name")||r.get("title.0.text")||"echarts",f=o.getZr().painter.getType()==="svg",p=f?"svg":l.get("type",!0)||"png",g=o.getConnectedDataURL({type:p,backgroundColor:l.get("backgroundColor",!0)||r.get("backgroundColor")||Ie.color.neutral00,connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")}),v=m.browser;if(typeof MouseEvent=="function"&&(v.newEdge||!v.ie&&!v.edge)){var x=document.createElement("a");x.download=c+"."+p,x.target="_blank",x.href=g;var O=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(O)}else if(window.navigator.msSaveOrOpenBlob||f){var w=g.split(","),S=w[0].indexOf("base64")>-1,k=f?decodeURIComponent(w[1]):w[1];S&&(k=window.atob(k));var P=c+"."+p;if(window.navigator.msSaveOrOpenBlob){for(var E=k.length,M=new Uint8Array(E);E--;)M[E]=k.charCodeAt(E);var R=new Blob([M]);window.navigator.msSaveOrOpenBlob(R,P)}else{var N=document.createElement("iframe");document.body.appendChild(N);var j=N.contentWindow,W=j.document;W.open("image/svg+xml","replace"),W.write(k),W.close(),j.focus(),W.execCommand("SaveAs",!0,P),document.body.removeChild(N)}}else{var U=l.get("lang"),X='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(U&&U[0]||"")+'" /></body>',J=window.open();J.document.write(X),J.document.title=c}},n.getDefaultOption=function(r){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:Ie.color.neutral00,name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},n})(es),uY="__ec_magicType_stack__",I3e=[["line","bar"],["stack"]],R3e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,o=r.get("icon"),l={};return Z(r.get("type"),function(c){o[c]&&(l[c]=o[c])}),l},n.getDefaultOption=function(r){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},n.prototype.onclick=function(r,o,l){var c=this.model,f=c.get(["seriesIndex",l]);if(cY[l]){var p={series:[]},g=function(O){var w=O.subType,S=O.id,k=cY[l](w,S,O,c);k&&(be(k,O.option),p.series.push(k));var P=O.coordinateSystem;if(P&&P.type==="cartesian2d"&&(l==="line"||l==="bar")){var E=P.getAxesByScale("ordinal")[0];if(E){var M=E.dim,R=M+"Axis",N=O.getReferringComponents(R,br).models[0],j=N.componentIndex;p[R]=p[R]||[];for(var W=0;W<=j;W++)p[R][j]=p[R][j]||{};p[R][j].boundaryGap=l==="bar"}}};Z(I3e,function(O){se(O,l)>=0&&Z(O,function(w){c.setIconStatus(w,"normal")})}),c.setIconStatus(l,"emphasis"),r.eachComponent({mainType:"series",query:f==null?null:{seriesIndex:f}},g);var v,x=l;l==="stack"&&(v=me({stack:c.option.title.tiled,tiled:c.option.title.stack},c.option.title),c.get(["iconStatus",l])!=="emphasis"&&(x="tiled")),o.dispatchAction({type:"changeMagicType",currentType:x,newOption:p,newTitle:v,featureName:"magicType"})}},n})(es),cY={line:function(a,n,r,o){if(a==="bar")return me({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(a,n,r,o){if(a==="line")return me({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(a,n,r,o){var l=r.get("stack")===uY;if(a==="line"||a==="bar")return o.setIconStatus("stack",l?"normal":"emphasis"),me({id:n,stack:l?"":uY},o.get(["option","stack"])||{},!0)}};Ls({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,n){n.mergeOption(a.newOption)});var ww=new Array(60).join("-"),og="	";function L3e(a){var n={},r=[],o=[];return a.eachRawSeries(function(l){var c=l.coordinateSystem;if(c&&(c.type==="cartesian2d"||c.type==="polar")){var f=c.getBaseAxis();if(f.type==="category"){var p=f.dim+"_"+f.index;n[p]||(n[p]={categoryAxis:f,valueAxis:c.getOtherAxis(f),series:[]},o.push({axisDim:f.dim,axisIndex:f.index})),n[p].series.push(l)}else r.push(l)}else r.push(l)}),{seriesGroupByCategoryAxis:n,other:r,meta:o}}function N3e(a){var n=[];return Z(a,function(r,o){var l=r.categoryAxis,c=r.valueAxis,f=c.dim,p=[" "].concat(ve(r.series,function(S){return S.name})),g=[l.model.getCategories()];Z(r.series,function(S){var k=S.getRawData();g.push(S.getRawData().mapArray(k.mapDimension(f),function(P){return P}))});for(var v=[p.join(og)],x=0;x<g[0].length;x++){for(var O=[],w=0;w<g.length;w++)O.push(g[w][x]);v.push(O.join(og))}n.push(v.join(`
`))}),n.join(`

`+ww+`

`)}function $3e(a){return ve(a,function(n){var r=n.getRawData(),o=[n.name],l=[];return r.each(r.dimensions,function(){for(var c=arguments.length,f=arguments[c-1],p=r.getName(f),g=0;g<c-1;g++)l[g]=arguments[g];o.push((p?p+og:"")+l.join(og))}),o.join(`
`)}).join(`

`+ww+`

`)}function z3e(a){var n=L3e(a);return{value:Qe([N3e(n.seriesGroupByCategoryAxis),$3e(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+ww+`

`),meta:n.meta}}function Sw(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function B3e(a){var n=a.slice(0,a.indexOf(`
`));if(n.indexOf(og)>=0)return!0}var PR=new RegExp("["+og+"]+","g");function Q3e(a){for(var n=a.split(/\n+/g),r=Sw(n.shift()).split(PR),o=[],l=ve(r,function(g){return{name:g,data:[]}}),c=0;c<n.length;c++){var f=Sw(n[c]).split(PR);o.push(f.shift());for(var p=0;p<f.length;p++)l[p]&&(l[p].data[c]=f[p])}return{series:l,categories:o}}function j3e(a){for(var n=a.split(/\n+/g),r=Sw(n.shift()),o=[],l=0;l<n.length;l++){var c=Sw(n[l]);if(c){var f=c.split(PR),p="",g=void 0,v=!1;isNaN(f[0])?(v=!0,p=f[0],f=f.slice(1),o[l]={name:p,value:[]},g=o[l].value):g=o[l]=[];for(var x=0;x<f.length;x++)g.push(+f[x]);g.length===1&&(v?o[l].value=g[0]:o[l]=g[0])}}return{name:r,data:o}}function V3e(a,n){var r=a.split(new RegExp(`
*`+ww+`
*`,"g")),o={series:[]};return Z(r,function(l,c){if(B3e(l)){var f=Q3e(l),p=n[c],g=p.axisDim+"Axis";p&&(o[g]=o[g]||[],o[g][p.axisIndex]={data:f.categories},o.series=o.series.concat(f.series))}else{var f=j3e(l);o.series.push(f)}}),o}var F3e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var l=o.getDom(),c=this.model;this._dom&&l.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",f.style.backgroundColor=c.get("backgroundColor")||Ie.color.neutral00;var p=document.createElement("h4"),g=c.get("lang")||[];p.innerHTML=g[0]||c.get("title"),p.style.cssText="margin:10px 20px",p.style.color=c.get("textColor");var v=document.createElement("div"),x=document.createElement("textarea");v.style.cssText="overflow:auto";var O=c.get("optionToContent"),w=c.get("contentToOption"),S=z3e(r);if(Ge(O)){var k=O(o.getOption());De(k)?v.innerHTML=k:st(k)&&v.appendChild(k)}else{x.readOnly=c.get("readOnly");var P=x.style;P.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",P.color=c.get("textColor"),P.borderColor=c.get("textareaBorderColor"),P.backgroundColor=c.get("textareaColor"),x.value=S.value,v.appendChild(x)}var E=S.meta,M=document.createElement("div");M.style.cssText="position:absolute;bottom:5px;left:0;right:0";var R="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",N=document.createElement("div"),j=document.createElement("div");R+=";background-color:"+c.get("buttonColor"),R+=";color:"+c.get("buttonTextColor");var W=this;function U(){l.removeChild(f),W._dom=null}jp(N,"click",U),jp(j,"click",function(){if(w==null&&O!=null||w!=null&&O==null){fr("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),U();return}var X;try{Ge(w)?X=w(v,o.getOption()):X=V3e(x.value,E)}catch(J){throw U(),new Error("Data view format error "+J)}X&&o.dispatchAction({type:"changeDataView",newOption:X}),U()}),N.innerHTML=g[1],j.innerHTML=g[2],j.style.cssText=N.style.cssText=R,!c.get("readOnly")&&M.appendChild(j),M.appendChild(N),f.appendChild(p),f.appendChild(v),f.appendChild(M),v.style.height=l.clientHeight-80+"px",l.appendChild(f),this._dom=f},n.prototype.remove=function(r,o){this._dom&&o.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,o){this.remove(r,o)},n.getDefaultOption=function(r){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:Ie.color.background,textColor:Ie.color.primary,textareaColor:Ie.color.background,textareaBorderColor:Ie.color.border,buttonColor:Ie.color.accent50,buttonTextColor:Ie.color.neutral00};return o},n})(es);function G3e(a,n){return ve(a,function(r,o){var l=n&&n[o];if(Ze(l)&&!ke(l)){var c=Ze(r)&&!ke(r);c||(r={value:r});var f=l.name!=null&&r.name==null;return r=be(r,l),f&&delete r.name,r}else return r})}Ls({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,n){var r=[];Z(a.newOption.series,function(o){var l=n.getSeriesByName(o.name)[0];if(!l)r.push(ee({type:"scatter"},o));else{var c=l.get("data");r.push({name:o.name,data:G3e(o.data,c)})}}),n.mergeOption(be({series:r},a.newOption))});var dY=Z,fY=Kt();function W3e(a,n){var r=ER(a);dY(n,function(o,l){for(var c=r.length-1;c>=0;c--){var f=r[c];if(f[l])break}if(c<0){var p=a.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(p){var g=p.getPercentRange();r[0][l]={dataZoomId:l,start:g[0],end:g[1]}}}}),r.push(n)}function U3e(a){var n=ER(a),r=n[n.length-1];n.length>1&&n.pop();var o={};return dY(r,function(l,c){for(var f=n.length-1;f>=0;f--)if(l=n[f][c],l){o[c]=l;break}}),o}function q3e(a){fY(a).snapshots=null}function Z3e(a){return ER(a).length}function ER(a){var n=fY(a);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var H3e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,o){q3e(r),o.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return o},n})(es);Ls({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,n){n.resetOption("recreate")});var X3e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],MR=(function(){function a(n,r,o){var l=this;this._targetInfoList=[];var c=hY(r,n);Z(Y3e,function(f,p){(!o||!o.include||se(o.include,p)>=0)&&f(c,l._targetInfoList)})}return a.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function(o,l,c){if((o.coordRanges||(o.coordRanges=[])).push(l),!o.coordRange){o.coordRange=l;var f=IR[o.brushType](0,c,l);o.__rangeOffset={offset:vY[o.brushType](f.values,o.range,[1,1]),xyMinMax:f.xyMinMax}}}),n},a.prototype.matchOutputRanges=function(n,r,o){Z(n,function(l){var c=this.findTargetInfo(l,r);c&&c!==!0&&Z(c.coordSyses,function(f){var p=IR[l.brushType](1,f,l.range,!0);o(l,p.values,f,r)})},this)},a.prototype.setInputRanges=function(n,r){Z(n,function(o){var l=this.findTargetInfo(o,r);if(Ke(!l||l===!0||o.coordRange,"coordRange must be specified when coord index specified."),Ke(!l||l!==!0||o.range,"range must be specified in global brush."),o.range=o.range||[],l&&l!==!0){o.panelId=l.panelId;var c=IR[o.brushType](0,l.coordSys,o.coordRange),f=o.__rangeOffset;o.range=f?vY[o.brushType](c.values,f.offset,K3e(c.xyMinMax,f.xyMinMax)):c.values}},this)},a.prototype.makePanelOpts=function(n,r){return ve(this._targetInfoList,function(o){var l=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:r?r(o):null,clipPath:WZ(l),isTargetByCursor:qZ(l,n,o.coordSysModel),getLinearBrushOtherExtent:UZ(l)}})},a.prototype.controlSeries=function(n,r,o){var l=this.findTargetInfo(n,o);return l===!0||l&&se(l.coordSyses,r.coordinateSystem)>=0},a.prototype.findTargetInfo=function(n,r){for(var o=this._targetInfoList,l=hY(r,n),c=0;c<o.length;c++){var f=o[c],p=n.panelId;if(p){if(f.panelId===p)return f}else for(var g=0;g<pY.length;g++)if(pY[g](l,f))return f}return!0},a})();function DR(a){return a[0]>a[1]&&a.reverse(),a}function hY(a,n){return Jp(a,n,{includeMainTypes:X3e})}var Y3e={grid:function(a,n){var r=a.xAxisModels,o=a.yAxisModels,l=a.gridModels,c=Xe(),f={},p={};!r&&!o&&!l||(Z(r,function(g){var v=g.axis.grid.model;c.set(v.id,v),f[v.id]=!0}),Z(o,function(g){var v=g.axis.grid.model;c.set(v.id,v),p[v.id]=!0}),Z(l,function(g){c.set(g.id,g),f[g.id]=!0,p[g.id]=!0}),c.each(function(g){var v=g.coordinateSystem,x=[];Z(v.getCartesians(),function(O,w){(se(r,O.getAxis("x").model)>=0||se(o,O.getAxis("y").model)>=0)&&x.push(O)}),n.push({panelId:"grid--"+g.id,gridModel:g,coordSysModel:g,coordSys:x[0],coordSyses:x,getPanelRect:mY.grid,xAxisDeclared:f[g.id],yAxisDeclared:p[g.id]})}))},geo:function(a,n){Z(a.geoModels,function(r){var o=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:o,coordSyses:[o],getPanelRect:mY.geo})})}},pY=[function(a,n){var r=a.xAxisModel,o=a.yAxisModel,l=a.gridModel;return!l&&r&&(l=r.axis.grid.model),!l&&o&&(l=o.axis.grid.model),l&&l===n.gridModel},function(a,n){var r=a.geoModel;return r&&r===n.geoModel}],mY={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,n=a.getBoundingRect().clone();return n.applyTransform(Vc(a)),n}},IR={lineX:Ue(gY,0),lineY:Ue(gY,1),rect:function(a,n,r,o){var l=a?n.pointToData([r[0][0],r[1][0]],o):n.dataToPoint([r[0][0],r[1][0]],o),c=a?n.pointToData([r[0][1],r[1][1]],o):n.dataToPoint([r[0][1],r[1][1]],o),f=[DR([l[0],c[0]]),DR([l[1],c[1]])];return{values:f,xyMinMax:f}},polygon:function(a,n,r,o){var l=[[1/0,-1/0],[1/0,-1/0]],c=ve(r,function(f){var p=a?n.pointToData(f,o):n.dataToPoint(f,o);return l[0][0]=Math.min(l[0][0],p[0]),l[1][0]=Math.min(l[1][0],p[1]),l[0][1]=Math.max(l[0][1],p[0]),l[1][1]=Math.max(l[1][1],p[1]),p});return{values:c,xyMinMax:l}}};function gY(a,n,r,o){Ke(r.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var l=r.getAxis(["x","y"][a]),c=DR(ve([0,1],function(p){return n?l.coordToData(l.toLocalCoord(o[p]),!0):l.toGlobalCoord(l.dataToCoord(o[p]))})),f=[];return f[a]=c,f[1-a]=[NaN,NaN],{values:c,xyMinMax:f}}var vY={lineX:Ue(yY,0),lineY:Ue(yY,1),rect:function(a,n,r){return[[a[0][0]-r[0]*n[0][0],a[0][1]-r[0]*n[0][1]],[a[1][0]-r[1]*n[1][0],a[1][1]-r[1]*n[1][1]]]},polygon:function(a,n,r){return ve(a,function(o,l){return[o[0]-r[0]*n[l][0],o[1]-r[1]*n[l][1]]})}};function yY(a,n,r,o){return[n[0]-o[a]*r[0],n[1]-o[a]*r[1]]}function K3e(a,n){var r=xY(a),o=xY(n),l=[r[0]/o[0],r[1]/o[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}function xY(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var RR=Z,J3e=MOe("toolbox-dataZoom_"),e4e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,o,l,c){this._brushController||(this._brushController=new O5(l.getZr()),this._brushController.on("brush",Ee(this._onBrush,this)).mount()),r4e(r,o,this,c,l),n4e(r,o)},n.prototype.onclick=function(r,o,l){t4e[l].call(this)},n.prototype.remove=function(r,o){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,o){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var o=r.areas;if(!r.isEnd||!o.length)return;var l={},c=this.ecModel;this._brushController.updateCovers([]);var f=new MR(LR(this.model),c,{include:["grid"]});f.matchOutputRanges(o,c,function(v,x,O){if(O.type==="cartesian2d"){var w=v.brushType;w==="rect"?(p("x",O,x[0]),p("y",O,x[1])):p({lineX:"x",lineY:"y"}[w],O,x)}}),W3e(c,l),this._dispatchZoomAction(l);function p(v,x,O){var w=x.getAxis(v),S=w.model,k=g(v,S,c),P=k.findRepresentativeAxisProxy(S).getMinMaxSpan();(P.minValueSpan!=null||P.maxValueSpan!=null)&&(O=nd(0,O.slice(),w.scale.getExtent(),0,P.minValueSpan,P.maxValueSpan)),k&&(l[k.id]={dataZoomId:k.id,startValue:O[0],endValue:O[1]})}function g(v,x,O){var w;return O.eachComponent({mainType:"dataZoom",subType:"select"},function(S){var k=S.getAxisModel(v,x.componentIndex);k&&(w=S)}),w}},n.prototype._dispatchZoomAction=function(r){var o=[];RR(r,function(l,c){o.push(ne(l))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},n.getDefaultOption=function(r){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:Ie.color.backgroundTint}};return o},n})(es),t4e={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(U3e(this.ecModel))}};function LR(a){var n={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function n4e(a,n){a.setIconStatus("back",Z3e(n)>1?"emphasis":"normal")}function r4e(a,n,r,o,l){var c=r._isZoomActive;o&&o.type==="takeGlobalCursor"&&(c=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),r._isZoomActive=c,a.setIconStatus("zoom",c?"emphasis":"normal");var f=new MR(LR(a),n,{include:["grid"]}),p=f.makePanelOpts(l,function(g){return g.xAxisDeclared&&!g.yAxisDeclared?"lineX":!g.xAxisDeclared&&g.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(p).enableBrush(c&&p.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}fwe("dataZoom",function(a){var n=a.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var o=n.getModel(r),l=[],c=LR(o),f=Jp(a,c);RR(f.xAxisModels,function(g){return p(g,"xAxis","xAxisIndex")}),RR(f.yAxisModels,function(g){return p(g,"yAxis","yAxisIndex")});function p(g,v,x){var O=g.componentIndex,w={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:J3e+v+O};w[x]=O,l.push(w)}return l});function i4e(a){a.registerComponentModel(P3e),a.registerComponentView(E3e),ag("saveAsImage",D3e),ag("magicType",R3e),ag("dataView",F3e),ag("dataZoom",e4e),ag("restore",H3e),Gt(A3e)}var a4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:Ie.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:Ie.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:Ie.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:Ie.color.tertiary,fontSize:14}},n})(Ht);function _Y(a){var n=a.get("confine");return n!=null?!!n:a.get("renderMode")==="richText"}function OY(a){if(m.domSupported){for(var n=document.documentElement.style,r=0,o=a.length;r<o;r++)if(a[r]in n)return a[r]}}var bY=OY(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),o4e=OY(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function wY(a,n){if(!a)return n;n=yM(n,!0);var r=a.indexOf(n);return a=r===-1?n:"-"+a.slice(0,r)+"-"+n,a.toLowerCase()}function s4e(a,n){var r=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return r?r[n]:null}var l4e=wY(o4e,"transition"),NR=wY(bY,"transform"),u4e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(m.transform3dSupported?"will-change:transform;":"");function c4e(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function d4e(a,n,r){if(!De(r)||r==="inside")return"";var o=a.get("backgroundColor"),l=a.get("borderWidth");n=Bf(n);var c=c4e(r),f=Math.max(Math.round(l)*1.5,6),p="",g=NR+":",v;se(["left","right"],c)>-1?(p+="top:50%",g+="translateY(-50%) rotate("+(v=c==="left"?-225:-45)+"deg)"):(p+="left:50%",g+="translateX(-50%) rotate("+(v=c==="top"?225:45)+"deg)");var x=v*Math.PI/180,O=f+l,w=O*Math.abs(Math.cos(x))+O*Math.abs(Math.sin(x)),S=Math.round(((w-Math.SQRT2*l)/2+Math.SQRT2*l-(w-O)/2)*100)/100;p+=";"+c+":-"+S+"px";var k=n+" solid "+l+"px;",P=["position:absolute;width:"+f+"px;height:"+f+"px;z-index:-1;",p+";"+g+";","border-bottom:"+k,"border-right:"+k,"background-color:"+o+";"];return'<div style="'+P.join("")+'"></div>'}function f4e(a,n,r){var o="cubic-bezier(0.23,1,0.32,1)",l="",c="";return r&&(l=" "+a/2+"s "+o,c="opacity"+l+",visibility"+l),n||(l=" "+a+"s "+o,c+=(c.length?",":"")+(m.transformSupported?""+NR+l:",left"+l+",top"+l)),l4e+":"+c}function SY(a,n,r){var o=a.toFixed(0)+"px",l=n.toFixed(0)+"px";if(!m.transformSupported)return r?"top:"+l+";left:"+o+";":[["top",l],["left",o]];var c=m.transform3dSupported,f="translate"+(c?"3d":"")+"("+o+","+l+(c?",0":"")+")";return r?"top:0;left:0;"+NR+":"+f+";":[["top",0],["left",0],[bY,f]]}function h4e(a){var n=[],r=a.get("fontSize"),o=a.getTextColor();o&&n.push("color:"+o),n.push("font:"+a.getFont());var l=$e(a.get("lineHeight"),Math.round(r*3/2));r&&n.push("line-height:"+l+"px");var c=a.get("textShadowColor"),f=a.get("textShadowBlur")||0,p=a.get("textShadowOffsetX")||0,g=a.get("textShadowOffsetY")||0;return c&&f&&n.push("text-shadow:"+p+"px "+g+"px "+f+"px "+c),Z(["decoration","align"],function(v){var x=a.get(v);x&&n.push("text-"+v+":"+x)}),n.join(";")}function p4e(a,n,r,o){var l=[],c=a.get("transitionDuration"),f=a.get("backgroundColor"),p=a.get("shadowBlur"),g=a.get("shadowColor"),v=a.get("shadowOffsetX"),x=a.get("shadowOffsetY"),O=a.getModel("textStyle"),w=L6(a,"html"),S=v+"px "+x+"px "+p+"px "+g;return l.push("box-shadow:"+S),n&&c>0&&l.push(f4e(c,r,o)),f&&l.push("background-color:"+f),Z(["width","color","radius"],function(k){var P="border-"+k,E=yM(P),M=a.get(E);M!=null&&l.push(P+":"+M+(k==="color"?"":"px"))}),l.push(h4e(O)),w!=null&&l.push("padding:"+xm(w).join("px ")+"px"),l.join(";")+";"}function TY(a,n,r,o,l){var c=n&&n.painter;if(r){var f=c&&c.getViewportRoot();f&&uP(a,f,r,o,l)}else{a[0]=o,a[1]=l;var p=c&&c.getViewportRootOffset();p&&(a[0]+=p.offsetLeft,a[1]+=p.offsetTop)}a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}var m4e=(function(){function a(n,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,m.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var l=this._zr=n.getZr(),c=r.appendTo,f=c&&(De(c)?document.querySelector(c):st(c)?c:Ge(c)&&c(n.getDom()));TY(this._styleCoord,l,f,n.getWidth()/2,n.getHeight()/2),(f||n.getDom()).appendChild(o),this._api=n,this._container=f;var p=this;o.onmouseenter=function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0},o.onmousemove=function(g){if(g=g||window.event,!p._enterable){var v=l.handler,x=l.painter.getViewportRoot();Na(x,g,!0),v.dispatch("mousemove",g)}},o.onmouseleave=function(){p._inContent=!1,p._enterable&&p._show&&p.hideLater(p._hideDelay)}}return a.prototype.update=function(n){if(!this._container){var r=this._api.getDom(),o=s4e(r,"position"),l=r.style;l.position!=="absolute"&&o!=="absolute"&&(l.position="relative")}var c=n.get("alwaysShowContent");c&&this._moveIfResized(),this._alwaysShowContent=c,this._enableDisplayTransition=n.get("displayTransition")&&n.get("transitionDuration")>0,this.el.className=n.get("className")||""},a.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,l=o.style,c=this._styleCoord;o.innerHTML?l.cssText=u4e+p4e(n,!this._firstShow,this._longHide,this._enableDisplayTransition)+SY(c[0],c[1],!0)+("border-color:"+Bf(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(n,r,o,l,c){var f=this.el;if(n==null){f.innerHTML="";return}var p="";if(De(c)&&o.get("trigger")==="item"&&!_Y(o)&&(p=d4e(o,l,c)),De(n))f.innerHTML=n+p;else if(n){f.innerHTML="",ke(n)||(n=[n]);for(var g=0;g<n.length;g++)st(n[g])&&n[g].parentNode!==f&&f.appendChild(n[g]);if(p&&f.childNodes.length){var v=document.createElement("div");v.innerHTML=p,f.appendChild(v)}}},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el;return n?[n.offsetWidth,n.offsetHeight]:[0,0]},a.prototype.moveTo=function(n,r){if(this.el){var o=this._styleCoord;if(TY(o,this._zr,this._container,n,r),o[0]!=null&&o[1]!=null){var l=this.el.style,c=SY(o[0],o[1]);Z(c,function(f){l[f[0]]=f[1]})}}},a.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},a.prototype.hide=function(){var n=this,r=this.el.style;this._enableDisplayTransition?(r.visibility="hidden",r.opacity="0"):r.display="none",m.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},a.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(Ee(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this._zr;cP(n&&n.painter&&n.painter.getViewportRoot(),this._container);var r=this.el;if(r){r.onmouseenter=r.onmousemove=r.onmouseleave=null;var o=r.parentNode;o&&o.removeChild(r)}this.el=this._container=null},a})(),g4e=(function(){function a(n){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=n.getZr(),kY(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return a.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(n,r,o,l,c){var f=this;Ze(n)&&Sn("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var p=o.getModel("textStyle");this.el=new un({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:l,textShadowColor:p.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:L6(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),Z(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){f.el.style[v]=o.get(v)}),Z(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){f.el.style[v]=p.get(v)||0}),this._zr.add(this.el);var g=this;this.el.on("mouseover",function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0}),this.el.on("mouseout",function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1})},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),o=CY(n.style);return[r.width+o.left+o.right,r.height+o.top+o.bottom]},a.prototype.moveTo=function(n,r){var o=this.el;if(o){var l=this._styleCoord;kY(l,this._zr,n,r),n=l[0],r=l[1];var c=o.style,f=ld(c.borderWidth||0),p=CY(c);o.x=n+f+p.left,o.y=r+f+p.top,o.markRedraw()}},a.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(Ee(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a})();function ld(a){return Math.max(0,a)}function CY(a){var n=ld(a.shadowBlur||0),r=ld(a.shadowOffsetX||0),o=ld(a.shadowOffsetY||0);return{left:ld(n-r),right:ld(n+r),top:ld(n-o),bottom:ld(n+o)}}function kY(a,n,r,o){a[0]=r,a[1]=o,a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}var v4e=new Zt({shape:{x:-1,y:-1,width:2,height:2}}),y4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){if(!(m.node||!o.getDom())){var l=r.getComponent("tooltip"),c=this._renderMode=zOe(l.get("renderMode"));this._tooltipContent=c==="richText"?new g4e(o):new m4e(o,{appendTo:l.get("appendToBody",!0)?"body":l.get("appendTo",!0)})}},n.prototype.render=function(r,o,l){if(!(m.node||!l.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=o,this._api=l;var c=this._tooltipContent;c.update(r),c.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Tm(this,"_updatePosition",50,"fixRate"):W0(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,o=r.get("triggerOn");fX("itemTooltip",this._api,Ee(function(l,c,f){o!=="none"&&(o.indexOf(l)>=0?this._tryShow(c,f):l==="leave"&&this._hide(f))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,o=this._ecModel,l=this._api,c=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&c!=="none"&&c!=="click"){var f=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&f.manuallyShowTip(r,o,l,{x:f._lastX,y:f._lastY,dataByCoordSys:f._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,o,l,c){if(!(c.from===this.uid||m.node||!l.getDom())){var f=AY(c,l);this._ticket="";var p=c.dataByCoordSys,g=b4e(c,o,l);if(g){var v=g.el.getBoundingRect().clone();v.applyTransform(g.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:g.el,position:c.position,positionDefault:"bottom"},f)}else if(c.tooltip&&c.x!=null&&c.y!=null){var x=v4e;x.x=c.x,x.y=c.y,x.update(),Et(x).tooltipConfig={name:null,option:c.tooltip},this._tryShow({offsetX:c.x,offsetY:c.y,target:x},f)}else if(p)this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,dataByCoordSys:p,tooltipOption:c.tooltipOption},f);else if(c.seriesIndex!=null){if(this._manuallyAxisShowTip(r,o,l,c))return;var O=pX(c,o),w=O.point[0],S=O.point[1];w!=null&&S!=null&&this._tryShow({offsetX:w,offsetY:S,target:O.el,position:c.position,positionDefault:"bottom"},f)}else c.x!=null&&c.y!=null&&(l.dispatchAction({type:"updateAxisPointer",x:c.x,y:c.y}),this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,target:l.getZr().findHover(c.x,c.y).target},f))}},n.prototype.manuallyHideTip=function(r,o,l,c){var f=this._tooltipContent;this._tooltipModel&&f.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,c.from!==this.uid&&this._hide(AY(c,l))},n.prototype._manuallyAxisShowTip=function(r,o,l,c){var f=c.seriesIndex,p=c.dataIndex,g=o.getComponent("axisPointer").coordSysAxesInfo;if(!(f==null||p==null||g==null)){var v=o.getSeriesByIndex(f);if(v){var x=v.getData(),O=jy([x.getItemModel(p),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(O.get("trigger")==="axis")return l.dispatchAction({type:"updateAxisPointer",seriesIndex:f,dataIndex:p,position:c.position}),!0}}},n.prototype._tryShow=function(r,o){var l=r.target,c=this._tooltipModel;if(c){this._lastX=r.offsetX,this._lastY=r.offsetY;var f=r.dataByCoordSys;if(f&&f.length)this._showAxisTooltip(f,r);else if(l){var p=Et(l);if(p.ssrType==="legend")return;this._lastDataByCoordSys=null;var g,v;Xf(l,function(x){if(x.tooltipDisabled)return g=v=null,!0;g||v||(Et(x).dataIndex!=null?g=x:Et(x).tooltipConfig!=null&&(v=x))},!0),g?this._showSeriesItemTooltip(r,g,o):v?this._showComponentItemTooltip(r,v,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(r,o){var l=r.get("showDelay");o=Ee(o,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(o,l):o()},n.prototype._showAxisTooltip=function(r,o){var l=this._ecModel,c=this._tooltipModel,f=[o.offsetX,o.offsetY],p=jy([o.tooltipOption],c),g=this._renderMode,v=[],x=qr("section",{blocks:[],noHeader:!0}),O=[],w=new WM;Z(r,function(R){Z(R.dataByAxis,function(N){var j=l.getComponent(N.axisDim+"Axis",N.axisIndex),W=N.value;if(!(!j||W==null)){var U=oX(W,j.axis,l,N.seriesDataIndices,N.valueLabelOpt),X=qr("section",{header:U,noHeader:!An(U),sortBlocks:!0,blocks:[]});x.blocks.push(X),Z(N.seriesDataIndices,function(J){var re=l.getSeriesByIndex(J.seriesIndex),ie=J.dataIndexInside,le=re.getDataParams(ie);if(!(le.dataIndex<0)){le.axisDim=N.axisDim,le.axisIndex=N.axisIndex,le.axisType=N.axisType,le.axisId=N.axisId,le.axisValue=h2(j.axis,{value:W}),le.axisValueLabel=U,le.marker=w.makeTooltipMarker("item",Bf(le.color),g);var pe=m6(re.formatTooltip(ie,!0,null)),ce=pe.frag;if(ce){var ye=jy([re],c).get("valueFormatter");X.blocks.push(ye?ee({valueFormatter:ye},ce):ce)}pe.text&&O.push(pe.text),v.push(le)}})}})}),x.blocks.reverse(),O.reverse();var S=o.position,k=p.get("order"),P=D6(x,w,g,k,l.get("useUTC"),p.get("textStyle"));P&&O.unshift(P);var E=g==="richText"?`

`:"<br/>",M=O.join(E);this._showOrMove(p,function(){this._updateContentNotChangedOnAxis(r,v)?this._updatePosition(p,S,f[0],f[1],this._tooltipContent,v):this._showTooltipContent(p,M,v,Math.random()+"",f[0],f[1],S,null,w)})},n.prototype._showSeriesItemTooltip=function(r,o,l){var c=this._ecModel,f=Et(o),p=f.seriesIndex,g=c.getSeriesByIndex(p),v=f.dataModel||g,x=f.dataIndex,O=f.dataType,w=v.getData(O),S=this._renderMode,k=r.positionDefault,P=jy([w.getItemModel(x),v,g&&(g.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),E=P.get("trigger");if(!(E!=null&&E!=="item")){var M=v.getDataParams(x,O),R=new WM;M.marker=R.makeTooltipMarker("item",Bf(M.color),S);var N=m6(v.formatTooltip(x,!1,O)),j=P.get("order"),W=P.get("valueFormatter"),U=N.frag,X=U?D6(W?ee({valueFormatter:W},U):U,R,S,j,c.get("useUTC"),P.get("textStyle")):N.text,J="item_"+v.name+"_"+x;this._showOrMove(P,function(){this._showTooltipContent(P,X,M,J,r.offsetX,r.offsetY,r.position,r.target,R)}),l({type:"showTip",dataIndexInside:x,dataIndex:w.getRawIndex(x),seriesIndex:p,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,o,l){var c=this._renderMode==="html",f=Et(o),p=f.tooltipConfig,g=p.option||{},v=g.encodeHTMLContent;if(De(g)){var x=g;g={content:x,formatter:x},v=!0}v&&c&&g.content&&(g=ne(g),g.content=Ai(g.content));var O=[g],w=this._ecModel.getComponent(f.componentMainType,f.componentIndex);w&&O.push(w),O.push({formatter:g.content});var S=r.positionDefault,k=jy(O,this._tooltipModel,S?{position:S}:null),P=k.get("content"),E=Math.random()+"",M=new WM;this._showOrMove(k,function(){var R=ne(k.get("formatterParams")||{});this._showTooltipContent(k,P,R,E,r.offsetX,r.offsetY,r.position,o,M)}),l({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,o,l,c,f,p,g,v,x){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var O=this._tooltipContent;O.setEnterable(r.get("enterable"));var w=r.get("formatter");g=g||r.get("position");var S=o,k=this._getNearestPoint([f,p],l,r.get("trigger"),r.get("borderColor"),r.get("defaultBorderColor",!0)),P=k.color;if(w)if(De(w)){var E=r.ecModel.get("useUTC"),M=ke(l)?l[0]:l,R=M&&M.axisType&&M.axisType.indexOf("time")>=0;S=w,R&&(S=L0(M.axisValue,S,E)),S=OM(S,l,!0)}else if(Ge(w)){var N=Ee(function(j,W){j===this._ticket&&(O.setContent(W,x,r,P,g),this._updatePosition(r,g,f,p,O,l,v))},this);this._ticket=c,S=w(l,c,N)}else S=w;O.setContent(S,x,r,P,g),O.show(r,P),this._updatePosition(r,g,f,p,O,l,v)}},n.prototype._getNearestPoint=function(r,o,l,c,f){if(l==="axis"||ke(o))return{color:c||f};if(!ke(o))return{color:c||o.color||o.borderColor}},n.prototype._updatePosition=function(r,o,l,c,f,p,g){var v=this._api.getWidth(),x=this._api.getHeight();o=o||r.get("position");var O=f.getSize(),w=r.get("align"),S=r.get("verticalAlign"),k=g&&g.getBoundingRect().clone();if(g&&k.applyTransform(g.transform),Ge(o)&&(o=o([l,c],p,f.el,k,{viewSize:[v,x],contentSize:O.slice()})),ke(o))l=it(o[0],v),c=it(o[1],x);else if(Ze(o)){var P=o;P.width=O[0],P.height=O[1];var E=rr(P,{width:v,height:x});l=E.x,c=E.y,w=null,S=null}else if(De(o)&&g){var M=O4e(o,k,O,r.get("borderWidth"));l=M[0],c=M[1]}else{var M=x4e(l,c,f,v,x,w?null:20,S?null:20);l=M[0],c=M[1]}if(w&&(l-=PY(w)?O[0]/2:w==="right"?O[0]:0),S&&(c-=PY(S)?O[1]/2:S==="bottom"?O[1]:0),_Y(r)){var M=_4e(l,c,f,v,x);l=M[0],c=M[1]}f.moveTo(l,c)},n.prototype._updateContentNotChangedOnAxis=function(r,o){var l=this._lastDataByCoordSys,c=this._cbParamsList,f=!!l&&l.length===r.length;return f&&Z(l,function(p,g){var v=p.dataByAxis||[],x=r[g]||{},O=x.dataByAxis||[];f=f&&v.length===O.length,f&&Z(v,function(w,S){var k=O[S]||{},P=w.seriesDataIndices||[],E=k.seriesDataIndices||[];f=f&&w.value===k.value&&w.axisType===k.axisType&&w.axisId===k.axisId&&P.length===E.length,f&&Z(P,function(M,R){var N=E[R];f=f&&M.seriesIndex===N.seriesIndex&&M.dataIndex===N.dataIndex}),c&&Z(w.seriesDataIndices,function(M){var R=M.seriesIndex,N=o[R],j=c[R];N&&j&&j.data!==N.data&&(f=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=o,!!f},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,o){m.node||!o.getDom()||(W0(this,"_updatePosition"),this._tooltipContent.dispose(),uR("itemTooltip",o))},n.type="tooltip",n})(Gn);function jy(a,n,r){var o=n.ecModel,l;r?(l=new en(r,o,o),l=new en(n.option,l,o)):l=n;for(var c=a.length-1;c>=0;c--){var f=a[c];f&&(f instanceof en&&(f=f.get("tooltip",!0)),De(f)&&(f={formatter:f}),f&&(l=new en(f,l,o)))}return l}function AY(a,n){return a.dispatchAction||Ee(n.dispatchAction,n)}function x4e(a,n,r,o,l,c,f){var p=r.getSize(),g=p[0],v=p[1];return c!=null&&(a+g+c+2>o?a-=g+c:a+=c),f!=null&&(n+v+f>l?n-=v+f:n+=f),[a,n]}function _4e(a,n,r,o,l){var c=r.getSize(),f=c[0],p=c[1];return a=Math.min(a+f,o)-f,n=Math.min(n+p,l)-p,a=Math.max(a,0),n=Math.max(n,0),[a,n]}function O4e(a,n,r,o){var l=r[0],c=r[1],f=Math.ceil(Math.SQRT2*o)+8,p=0,g=0,v=n.width,x=n.height;switch(a){case"inside":p=n.x+v/2-l/2,g=n.y+x/2-c/2;break;case"top":p=n.x+v/2-l/2,g=n.y-c-f;break;case"bottom":p=n.x+v/2-l/2,g=n.y+x+f;break;case"left":p=n.x-l-f,g=n.y+x/2-c/2;break;case"right":p=n.x+v+f,g=n.y+x/2-c/2}return[p,g]}function PY(a){return a==="center"||a==="middle"}function b4e(a,n,r){var o=iE(a).queryOptionMap,l=o.keys()[0];if(!(!l||l==="series")){var c=em(n,l,o.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}),f=c.models[0];if(f){var p=r.getViewOfComponentModel(f),g;if(p.group.traverse(function(v){var x=Et(v).tooltipConfig;if(x&&x.name===a.name)return g=v,!0}),g)return{componentMainType:l,componentIndex:f.componentIndex,el:g}}}}function w4e(a){Gt($y),a.registerComponentModel(a4e),a.registerComponentView(y4e),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},an),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},an)}var S4e=["rect","polygon","keep","clear"];function T4e(a,n){var r=Vn(a?a.brush:[]);if(r.length){var o=[];Z(r,function(g){var v=g.hasOwnProperty("toolbox")?g.toolbox:[];v instanceof Array&&(o=o.concat(v))});var l=a&&a.toolbox;ke(l)&&(l=l[0]),l||(l={feature:{}},a.toolbox=[l]);var c=l.feature||(l.feature={}),f=c.brush||(c.brush={}),p=f.type||(f.type=[]);p.push.apply(p,o),C4e(p),n&&!p.length&&p.push.apply(p,S4e)}}function C4e(a){var n={};Z(a,function(r){n[r]=1}),a.length=0,Z(n,function(r,o){a.push(o)})}var EY=Z;function MY(a){if(a){for(var n in a)if(a.hasOwnProperty(n))return!0}}function $R(a,n,r){var o={};return EY(n,function(c){var f=o[c]=l();EY(a[c],function(p,g){if(mi.isValidType(g)){var v={type:g,visual:p};r&&r(v,c),f[g]=new mi(v),g==="opacity"&&(v=ne(v),v.type="colorAlpha",f.__hidden.__alphaForOpacity=new mi(v))}})}),o;function l(){var c=function(){};c.prototype.__hidden=c.prototype;var f=new c;return f}}function DY(a,n,r){var o;Z(r,function(l){n.hasOwnProperty(l)&&MY(n[l])&&(o=!0)}),o&&Z(r,function(l){n.hasOwnProperty(l)&&MY(n[l])?a[l]=ne(n[l]):delete a[l]})}function k4e(a,n,r,o,l,c){var f={};Z(a,function(O){var w=mi.prepareVisualTypes(n[O]);f[O]=w});var p;function g(O){return ZM(r,p,O)}function v(O,w){tG(r,p,O,w)}r.each(x);function x(O,w){p=O;var S=r.getRawDataItem(p);if(!(S&&S.visualMap===!1))for(var k=o.call(l,O),P=n[k],E=f[k],M=0,R=E.length;M<R;M++){var N=E[M];P[N]&&P[N].applyVisual(O,g,v)}}}function A4e(a,n,r,o){var l={};return Z(a,function(c){var f=mi.prepareVisualTypes(n[c]);l[c]=f}),{progress:function(f,p){var g;o!=null&&(g=p.getDimensionIndex(o));function v(W){return ZM(p,O,W)}function x(W,U){tG(p,O,W,U)}for(var O,w=p.getStore();(O=f.next())!=null;){var S=p.getRawDataItem(O);if(!(S&&S.visualMap===!1))for(var k=o!=null?w.get(g,O):O,P=r(k),E=n[P],M=l[P],R=0,N=M.length;R<N;R++){var j=M[R];E[j]&&E[j].applyVisual(k,v,x)}}}}}function P4e(a){var n=a.brushType,r={point:function(o){return IY[n].point(o,r,a)},rect:function(o){return IY[n].rect(o,r,a)}};return r}var IY={lineX:RY(0),lineY:RY(1),rect:{point:function(a,n,r){return a&&r.boundingRect.contain(a[0],a[1])},rect:function(a,n,r){return a&&r.boundingRect.intersect(a)}},polygon:{point:function(a,n,r){return a&&r.boundingRect.contain(a[0],a[1])&&rh(r.range,a[0],a[1])},rect:function(a,n,r){var o=r.range;if(!a||o.length<=1)return!1;var l=a.x,c=a.y,f=a.width,p=a.height,g=o[0];if(rh(o,l,c)||rh(o,l+f,c)||rh(o,l,c+p)||rh(o,l+f,c+p)||wt.create(a).contain(g[0],g[1])||M0(l,c,l+f,c,o)||M0(l,c,l,c+p,o)||M0(l+f,c,l+f,c+p,o)||M0(l,c+p,l+f,c+p,o))return!0}}};function RY(a){var n=["x","y"],r=["width","height"];return{point:function(o,l,c){if(o){var f=c.range,p=o[a];return Vy(p,f)}},rect:function(o,l,c){if(o){var f=c.range,p=[o[n[a]],o[n[a]]+o[r[a]]];return p[1]<p[0]&&p.reverse(),Vy(p[0],f)||Vy(p[1],f)||Vy(f[0],p)||Vy(f[1],p)}}}}function Vy(a,n){return n[0]<=a&&a<=n[1]}var LY=["inBrush","outOfBrush"],zR="__ecBrushSelect",BR="__ecInBrushSelectEvent";function NY(a){a.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new MR(n.option,a);r.setInputRanges(n.areas,a)})}function E4e(a,n,r){var o=[],l,c;a.eachComponent({mainType:"brush"},function(f){r&&r.type==="takeGlobalCursor"&&f.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),NY(a),a.eachComponent({mainType:"brush"},function(f,p){var g={brushId:f.id,brushIndex:p,brushName:f.name,areas:ne(f.areas),selected:[]};o.push(g);var v=f.option,x=v.brushLink,O=[],w=[],S=[],k=!1;p||(l=v.throttleType,c=v.throttleDelay);var P=ve(f.areas,function(W){var U=R4e[W.brushType],X=be({boundingRect:U?U(W):void 0},W);return X.selectors=P4e(X),X}),E=$R(f.option,LY,function(W){W.mappingMethod="fixed"});ke(x)&&Z(x,function(W){O[W]=1});function M(W){return x==="all"||!!O[W]}function R(W){return!!W.length}a.eachSeries(function(W,U){var X=S[U]=[];W.subType==="parallel"?N(W,U):j(W,U,X)});function N(W,U){var X=W.coordinateSystem;k=k||X.hasAxisBrushed(),M(U)&&X.eachActiveState(W.getData(),function(J,re){J==="active"&&(w[re]=1)})}function j(W,U,X){if(!(!W.brushSelector||I4e(f,U))&&(Z(P,function(re){f.brushTargetManager.controlSeries(re,W,a)&&X.push(re),k=k||R(X)}),M(U)&&R(X))){var J=W.getData();J.each(function(re){$Y(W,X,J,re)&&(w[re]=1)})}}a.eachSeries(function(W,U){var X={seriesId:W.id,seriesIndex:U,seriesName:W.name,dataIndex:[]};g.selected.push(X);var J=S[U],re=W.getData(),ie=M(U)?function(le){return w[le]?(X.dataIndex.push(re.getRawIndex(le)),"inBrush"):"outOfBrush"}:function(le){return $Y(W,J,re,le)?(X.dataIndex.push(re.getRawIndex(le)),"inBrush"):"outOfBrush"};(M(U)?k:R(J))&&k4e(LY,E,re,ie)})}),M4e(n,l,c,o,r)}function M4e(a,n,r,o,l){if(l){var c=a.getZr();if(!c[BR]){c[zR]||(c[zR]=D4e);var f=Tm(c,zR,r,n);f(a,o)}}}function D4e(a,n){if(!a.isDisposed()){var r=a.getZr();r[BR]=!0,a.dispatchAction({type:"brushSelect",batch:n}),r[BR]=!1}}function $Y(a,n,r,o){for(var l=0,c=n.length;l<c;l++){var f=n[l];if(a.brushSelector(o,r,f.selectors,f))return!0}}function I4e(a,n){var r=a.option.seriesIndex;return r!=null&&r!=="all"&&(ke(r)?se(r,n)<0:n!==r)}var R4e={rect:function(a){return zY(a.range)},polygon:function(a){for(var n,r=a.range,o=0,l=r.length;o<l;o++){n=n||[[1/0,-1/0],[1/0,-1/0]];var c=r[o];c[0]<n[0][0]&&(n[0][0]=c[0]),c[0]>n[0][1]&&(n[0][1]=c[0]),c[1]<n[1][0]&&(n[1][0]=c[1]),c[1]>n[1][1]&&(n[1][1]=c[1])}return n&&zY(n)}};function zY(a){return new wt(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var L4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){this.ecModel=r,this.api=o,this.model,(this._brushController=new O5(o.getZr())).on("brush",Ee(this._onBrush,this)).mount()},n.prototype.render=function(r,o,l,c){this.model=r,this._updateController(r,o,l,c)},n.prototype.updateTransform=function(r,o,l,c){NY(o),this._updateController(r,o,l,c)},n.prototype.updateVisual=function(r,o,l,c){this.updateTransform(r,o,l,c)},n.prototype.updateView=function(r,o,l,c){this._updateController(r,o,l,c)},n.prototype._updateController=function(r,o,l,c){(!c||c.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(l)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var o=this.model.id,l=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:ne(l),$from:o}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:ne(l),$from:o})},n.type="brush",n})(Gn),N4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,o){var l=this.option;!o&&DY(l,r,["inBrush","outOfBrush"]);var c=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:this.option.defaultOutOfBrushColor},c.hasOwnProperty("liftZ")||(c.liftZ=5)},n.prototype.setAreas=function(r){Ke(ke(r)),Z(r,function(o){Ke(o.brushType,"Illegal areas")}),r&&(this.areas=ve(r,function(o){return BY(this.option,o)},this))},n.prototype.setBrushOption=function(r){this.brushOption=BY(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:Ie.color.backgroundTint,borderColor:Ie.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:Ie.color.disabled},n})(Ht);function BY(a,n){return me({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new en(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},n,!0)}var $4e=["rect","polygon","lineX","lineY","keep","clear"],z4e=(function(a){u(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,o,l){var c,f,p;o.eachComponent({mainType:"brush"},function(g){c=g.brushType,f=g.brushOption.brushMode||"single",p=p||!!g.areas.length}),this._brushType=c,this._brushMode=f,Z(r.get("type",!0),function(g){r.setIconStatus(g,(g==="keep"?f==="multiple":g==="clear"?p:g===c)?"emphasis":"normal")})},n.prototype.updateView=function(r,o,l){this.render(r,o,l)},n.prototype.getIcons=function(){var r=this.model,o=r.get("icon",!0),l={};return Z(r.get("type",!0),function(c){o[c]&&(l[c]=o[c])}),l},n.prototype.onclick=function(r,o,l){var c=this._brushType,f=this._brushMode;l==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:l==="keep"?c:c===l?!1:l,brushMode:l==="keep"?f==="multiple"?"single":"multiple":f}})},n.getDefaultOption=function(r){var o={show:!0,type:$4e.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return o},n})(es);function B4e(a){a.registerComponentView(L4e),a.registerComponentModel(N4e),a.registerPreprocessor(T4e),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,E4e),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function(o){o.setAreas(n.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},an),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},an),ag("brush",z4e)}var Q4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:Ie.size.m,backgroundColor:Ie.color.transparent,borderColor:Ie.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:Ie.color.primary},subtextStyle:{fontSize:12,color:Ie.color.quaternary}},n})(Ht),j4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){if(this.group.removeAll(),!!r.get("show")){var c=this.group,f=r.getModel("textStyle"),p=r.getModel("subtextStyle"),g=r.get("textAlign"),v=$e(r.get("textBaseline"),r.get("textVerticalAlign")),x=new un({style:Fn(f,{text:r.get("text"),fill:f.getTextColor()},{disableBox:!0}),z2:10}),O=x.getBoundingRect(),w=r.get("subtext"),S=new un({style:Fn(p,{text:w,fill:p.getTextColor(),y:O.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=r.get("link"),P=r.get("sublink"),E=r.get("triggerEvent",!0);x.silent=!k&&!E,S.silent=!P&&!E,k&&x.on("click",function(){Cb(k,"_"+r.get("target"))}),P&&S.on("click",function(){Cb(P,"_"+r.get("subtarget"))}),Et(x).eventData=Et(S).eventData=E?{componentType:"title",componentIndex:r.componentIndex}:null,c.add(x),w&&c.add(S);var M=c.getBoundingRect(),R=r.getBoxLayoutParams();R.width=M.width,R.height=M.height;var N=ei(r,l),j=rr(R,N.refContainer,r.get("padding"));g||(g=r.get("left")||r.get("right"),g==="middle"&&(g="center"),g==="right"?j.x+=j.width:g==="center"&&(j.x+=j.width/2)),v||(v=r.get("top")||r.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?j.y+=j.height:v==="middle"&&(j.y+=j.height/2),v=v||"top"),c.x=j.x,c.y=j.y,c.markRedraw();var W={align:g,verticalAlign:v};x.setStyle(W),S.setStyle(W),M=c.getBoundingRect();var U=j.margin,X=r.getItemStyle(["color","opacity"]);X.fill=r.get("backgroundColor");var J=new Zt({shape:{x:M.x-U[3],y:M.y-U[0],width:M.width+U[1]+U[3],height:M.height+U[0]+U[2],r:r.get("borderRadius")},style:X,subPixelOptimize:!0,silent:!0});c.add(J)}},n.type="title",n})(Gn);function V4e(a){a.registerComponentModel(Q4e),a.registerComponentView(j4e)}var QY=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,o,l){this.mergeDefaultAndTheme(r,l),this._initData()},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var o=this._data.count();this.option.loop?r=(r%o+o)%o:(r>=o&&(r=o-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,o=r.data||[],l=r.axisType,c=this._names=[],f;l==="category"?(f=[],Z(o,function(v,x){var O=Yr(Yp(v),""),w;Ze(v)?(w=ne(v),w.value=x):w=x,f.push(w),c.push(O)})):f=o;var p={category:"ordinal",time:"time",value:"number"}[l]||"number",g=this._data=new ra([{name:"value",type:p}],this);g.initData(f,c)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:Ie.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:Ie.color.secondary},data:[]},n})(Ht),jY=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=Gc(QY.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:Ie.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:Ie.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:Ie.color.tertiary},itemStyle:{color:Ie.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:Ie.color.accent50,borderColor:Ie.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:Ie.color.accent50,borderColor:Ie.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:Ie.color.accent60},itemStyle:{color:Ie.color.accent60,borderColor:Ie.color.accent60},controlStyle:{color:Ie.color.accent70,borderColor:Ie.color.accent70}},progress:{lineStyle:{color:Ie.color.accent30},itemStyle:{color:Ie.color.accent40}},data:[]}),n})(QY);we(jY,Lb.prototype);var F4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n})(Gn),G4e=(function(a){u(n,a);function n(r,o,l,c){var f=a.call(this,r,o,l)||this;return f.type=c||"value",f}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n})(Ho),QR=Math.PI,VY=Kt(),W4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){this.api=o},n.prototype.render=function(r,o,l){if(this.model=r,this.api=l,this.ecModel=o,this.group.removeAll(),r.get("show",!0)){var c=this._layout(r,l),f=this._createGroup("_mainGroup"),p=this._createGroup("_labelGroup"),g=this._axis=this._createAxis(c,r);r.formatTooltip=function(v){var x=g.scale.getLabel({value:v});return qr("nameValue",{noName:!0,value:x})},Z(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](c,f,g,r)},this),this._renderAxisLabel(c,p,g,r),this._position(c,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,o){var l=r.get(["label","position"]),c=r.get("orient"),f=q4e(r,o),p;l==null||l==="auto"?p=c==="horizontal"?f.y+f.height/2<o.getHeight()/2?"-":"+":f.x+f.width/2<o.getWidth()/2?"+":"-":De(l)?p={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[c][l]:p=l;var g={horizontal:"center",vertical:p>=0||p==="+"?"left":"right"},v={horizontal:p>=0||p==="+"?"top":"bottom",vertical:"middle"},x={horizontal:0,vertical:QR/2},O=c==="vertical"?f.height:f.width,w=r.getModel("controlStyle"),S=w.get("show",!0),k=S?w.get("itemSize"):0,P=S?w.get("itemGap"):0,E=k+P,M=r.get(["label","rotate"])||0;M=M*QR/180;var R,N,j,W=w.get("position",!0),U=S&&w.get("showPlayBtn",!0),X=S&&w.get("showPrevBtn",!0),J=S&&w.get("showNextBtn",!0),re=0,ie=O;W==="left"||W==="bottom"?(U&&(R=[0,0],re+=E),X&&(N=[re,0],re+=E),J&&(j=[ie-k,0],ie-=E)):(U&&(R=[ie-k,0],ie-=E),X&&(N=[0,0],re+=E),J&&(j=[ie-k,0],ie-=E));var le=[re,ie];return r.get("inverse")&&le.reverse(),{viewRect:f,mainLength:O,orient:c,rotation:x[c],labelRotation:M,labelPosOpt:p,labelAlign:r.get(["label","align"])||g[c],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||v[c],playPosition:R,prevBtnPosition:N,nextBtnPosition:j,axisExtent:le,controlSize:k,controlGap:P}},n.prototype._position=function(r,o){var l=this._mainGroup,c=this._labelGroup,f=r.viewRect;if(r.orient==="vertical"){var p=Ir(),g=f.x,v=f.y+f.height;$a(p,p,[-g,-v]),Ss(p,p,-QR/2),$a(p,p,[g,v]),f=f.clone(),f.applyTransform(p)}var x=R(f),O=R(l.getBoundingRect()),w=R(c.getBoundingRect()),S=[l.x,l.y],k=[c.x,c.y];k[0]=S[0]=x[0][0];var P=r.labelPosOpt;if(P==null||De(P)){var E=P==="+"?0:1;N(S,O,x,1,E),N(k,w,x,1,1-E)}else{var E=P>=0?0:1;N(S,O,x,1,E),k[1]=S[1]+P}l.setPosition(S),c.setPosition(k),l.rotation=c.rotation=r.rotation,M(l),M(c);function M(j){j.originX=x[0][0]-j.x,j.originY=x[1][0]-j.y}function R(j){return[[j.x,j.x+j.width],[j.y,j.y+j.height]]}function N(j,W,U,X,J){j[X]+=U[X][J]-W[X][J]}},n.prototype._createAxis=function(r,o){var l=o.getData(),c=o.get("axisType"),f=U4e(o,c);f.getTicks=function(){return l.mapArray(["value"],function(v){return{value:v}})};var p=l.getDataExtent("value");f.setExtent(p[0],p[1]),f.calcNiceTicks();var g=new G4e("value",f,r.axisExtent,c);return g.model=o,g},n.prototype._createGroup=function(r){var o=this[r]=new _t;return this.group.add(o),o},n.prototype._renderAxisLine=function(r,o,l,c){var f=l.getExtent();if(c.get(["lineStyle","show"])){var p=new $r({shape:{x1:f[0],y1:0,x2:f[1],y2:0},style:ee({lineCap:"round"},c.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(p);var g=this._progressLine=new $r({shape:{x1:f[0],x2:this._currentPointer?this._currentPointer.x:f[0],y1:0,y2:0},style:be({lineCap:"round",lineWidth:p.style.lineWidth},c.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(g)}},n.prototype._renderAxisTick=function(r,o,l,c){var f=this,p=c.getData(),g=l.scale.getTicks();this._tickSymbols=[],Z(g,function(v){var x=l.dataToCoord(v.value),O=p.getItemModel(v.value),w=O.getModel("itemStyle"),S=O.getModel(["emphasis","itemStyle"]),k=O.getModel(["progress","itemStyle"]),P={x,y:0,onclick:Ee(f._changeTimeline,f,v.value)},E=FY(O,w,o,P);E.ensureState("emphasis").style=S.getItemStyle(),E.ensureState("progress").style=k.getItemStyle(),Bc(E);var M=Et(E);O.get("tooltip")?(M.dataIndex=v.value,M.dataModel=c):M.dataIndex=M.dataModel=null,f._tickSymbols.push(E)})},n.prototype._renderAxisLabel=function(r,o,l,c){var f=this,p=l.getLabelModel();if(p.get("show")){var g=c.getData(),v=l.getViewLabels();this._tickLabels=[],Z(v,function(x){var O=x.tickValue,w=g.getItemModel(O),S=w.getModel("label"),k=w.getModel(["emphasis","label"]),P=w.getModel(["progress","label"]),E=l.dataToCoord(x.tickValue),M=new un({x:E,y:0,rotation:r.labelRotation-r.rotation,onclick:Ee(f._changeTimeline,f,O),silent:!1,style:Fn(S,{text:x.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});M.ensureState("emphasis").style=Fn(k),M.ensureState("progress").style=Fn(P),o.add(M),Bc(M),VY(M).dataIndex=O,f._tickLabels.push(M)})}},n.prototype._renderControl=function(r,o,l,c){var f=r.controlSize,p=r.rotation,g=c.getModel("controlStyle").getItemStyle(),v=c.getModel(["emphasis","controlStyle"]).getItemStyle(),x=c.getPlayState(),O=c.get("inverse",!0);w(r.nextBtnPosition,"next",Ee(this._changeTimeline,this,O?"-":"+")),w(r.prevBtnPosition,"prev",Ee(this._changeTimeline,this,O?"+":"-")),w(r.playPosition,x?"stop":"play",Ee(this._handlePlayClick,this,!x),!0);function w(S,k,P,E){if(S){var M=ks($e(c.get(["controlStyle",k+"BtnSize"]),f),f),R=[0,-M/2,M,M],N=Z4e(c,k+"Icon",R,{x:S[0],y:S[1],originX:f/2,originY:0,rotation:E?-p:0,rectHover:!0,style:g,onclick:P});N.ensureState("emphasis").style=v,o.add(N),Bc(N)}}},n.prototype._renderCurrentPointer=function(r,o,l,c){var f=c.getData(),p=c.getCurrentIndex(),g=f.getItemModel(p).getModel("checkpointStyle"),v=this,x={onCreate:function(O){O.draggable=!0,O.drift=Ee(v._handlePointerDrag,v),O.ondragend=Ee(v._handlePointerDragend,v),GY(O,v._progressLine,p,l,c,!0)},onUpdate:function(O){GY(O,v._progressLine,p,l,c)}};this._currentPointer=FY(g,g,this._mainGroup,{},this._currentPointer,x)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,o,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,o){var l=this._toAxisCoord(r)[0],c=this._axis,f=go(c.getExtent().slice());l>f[1]&&(l=f[1]),l<f[0]&&(l=f[0]),this._currentPointer.x=l,this._currentPointer.markRedraw();var p=this._progressLine;p&&(p.shape.x2=l,p.dirty());var g=this._findNearestTick(l),v=this.model;(o||g!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(g)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=r.model;r._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var o=this._mainGroup.getLocalTransform();return Ms(r,o,!0)},n.prototype._findNearestTick=function(r){var o=this.model.getData(),l=1/0,c,f=this._axis;return o.each(["value"],function(p,g){var v=f.dataToCoord(p),x=Math.abs(v-r);x<l&&(l=x,c=g)}),c},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var o=this.model.getCurrentIndex();r==="+"?r=o+1:r==="-"&&(r=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),o=this._tickSymbols,l=this._tickLabels;if(o)for(var c=0;c<o.length;c++)o&&o[c]&&o[c].toggleState("progress",c<r);if(l)for(var c=0;c<l.length;c++)l&&l[c]&&l[c].toggleState("progress",VY(l[c]).dataIndex<=r)},n.type="timeline.slider",n})(F4e);function U4e(a,n){if(n=n||a.get("type"),n)switch(n){case"category":return new Nm({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new ED({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new Bu}}function q4e(a,n){return rr(a.getBoxLayoutParams(),ei(a,n).refContainer,a.get("padding"))}function Z4e(a,n,r,o){var l=o.style,c=hm(a.get(["controlStyle",n]),o||{},new wt(r[0],r[1],r[2],r[3]));return l&&c.setStyle(l),c}function FY(a,n,r,o,l,c){var f=n.get("color");if(l)l.setColor(f),r.add(l),c&&c.onUpdate(l);else{var p=a.get("symbol");l=Br(p,-1,-1,2,2,f),l.setStyle("strokeNoScale",!0),r.add(l),c&&c.onCreate(l)}var g=n.getItemStyle(["color"]);l.setStyle(g),o=me({rectHover:!0,z2:100},o,!0);var v=km(a.get("symbolSize"));o.scaleX=v[0]/2,o.scaleY=v[1]/2;var x=Yf(a.get("symbolOffset"),v);x&&(o.x=(o.x||0)+x[0],o.y=(o.y||0)+x[1]);var O=a.get("symbolRotate");return o.rotation=(O||0)*Math.PI/180||0,l.attr(o),l.updateTransform(),l}function GY(a,n,r,o,l,c){if(!a.dragging){var f=l.getModel("checkpointStyle"),p=o.dataToCoord(l.getData().get("value",r));if(c||!f.get("animation",!0))a.attr({x:p,y:0}),n&&n.attr({shape:{x2:p}});else{var g={duration:f.get("animationDuration",!0),easing:f.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:p,y:0},g),n&&n.animateTo({shape:{x2:p}},g)}}}function H4e(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,o){var l=r.getComponent("timeline");return l&&n.currentIndex!=null&&(l.setCurrentIndex(n.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),be({currentIndex:l.option.currentIndex},n)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var o=r.getComponent("timeline");o&&n.playState!=null&&o.setPlayState(n.playState)})}function X4e(a){var n=a&&a.timeline;ke(n)||(n=n?[n]:[]),Z(n,function(r){r&&Y4e(r)})}function Y4e(a){var n=a.type,r={number:"value",time:"time"};if(r[n]&&(a.axisType=r[n],delete a.type),WY(a),bh(a,"controlPosition")){var o=a.controlStyle||(a.controlStyle={});bh(o,"position")||(o.position=a.controlPosition),o.position==="none"&&!bh(o,"show")&&(o.show=!1,delete o.position),delete a.controlPosition}Z(a.data||[],function(l){Ze(l)&&!ke(l)&&(!bh(l,"value")&&bh(l,"name")&&(l.value=l.name),WY(l))})}function WY(a){var n=a.itemStyle||(a.itemStyle={}),r=n.emphasis||(n.emphasis={}),o=a.label||a.label||{},l=o.normal||(o.normal={}),c={normal:1,emphasis:1};Z(o,function(f,p){!c[p]&&!bh(l,p)&&(l[p]=f)}),r.label&&!bh(o,"emphasis")&&(o.emphasis=r.label,delete r.label)}function bh(a,n){return a.hasOwnProperty(n)}function K4e(a){a.registerComponentModel(jY),a.registerComponentView(W4e),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),H4e(a),a.registerPreprocessor(X4e)}function jR(a,n){if(!a)return!1;for(var r=ke(a)?a:[a],o=0;o<r.length;o++)if(r[o]&&r[o][n])return!0;return!1}function Tw(a){yf(a,"label",["show"])}var Cw=Kt(),Rl=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r.preventAutoZ=!0,r}return n.prototype.init=function(r,o,l){if(this.type==="marker")throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(r,l),this._mergeOption(r,l,!1,!0)},n.prototype.isAnimationEnabled=function(){if(m.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,o){this._mergeOption(r,o,!1,!1)},n.prototype._mergeOption=function(r,o,l,c){var f=this.mainType;l||o.eachSeries(function(p){var g=p.get(this.mainType,!0),v=Cw(p)[f];if(!g||!g.data){Cw(p)[f]=null;return}v?v._mergeOption(g,o,!0):(c&&Tw(g),Z(g.data,function(x){x instanceof Array?(Tw(x[0]),Tw(x[1])):Tw(x)}),v=this.createMarkerModelFromSeries(g,this,o),ee(v,{mainType:this.mainType,seriesIndex:p.seriesIndex,name:p.name,createdBySelf:!0}),v.__hostSeries=p),Cw(p)[f]=v},this)},n.prototype.formatTooltip=function(r,o,l){var c=this.getData(),f=this.getRawValue(r),p=c.getName(r);return qr("section",{header:this.name,blocks:[qr("nameValue",{name:p,value:f,noName:!p,noValue:f==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.prototype.getDataParams=function(r,o){var l=Lb.prototype.getDataParams.call(this,r,o),c=this.__hostSeries;return c&&(l.seriesId=c.id,l.seriesName=c.name,l.seriesType=c.subType),l},n.getMarkerModelFromSeries=function(r,o){return Cw(r)[o]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n})(Ht);we(Rl,Lb.prototype);var J4e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,o,l){return new n(r,o,l)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n})(Rl);function VR(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function e$e(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function kw(a,n,r,o,l,c,f){var p=[],g=zu(n,l),v=g?n.getCalculationInfo("stackResultDimension"):l,x=Pw(n,v,a),O=n.hostModel,w=O.indicesOfNearest(r,v,x)[0];p[c]=n.get(o,w),p[f]=n.get(v,w);var S=n.get(l,w),k=As(n.get(l,w));return k=Math.min(k,20),k>=0&&(p[f]=+p[f].toFixed(k)),[p,S]}var Aw={min:Ue(kw,"min"),max:Ue(kw,"max"),average:Ue(kw,"average"),median:Ue(kw,"median")};function Fy(a,n){if(n){var r=a.getData(),o=a.coordinateSystem,l=o&&o.dimensions;if(!e$e(n)&&!ke(n.coord)&&ke(l)){var c=UY(n,r,o,a);if(n=ne(n),n.type&&Aw[n.type]&&c.baseAxis&&c.valueAxis){var f=se(l,c.baseAxis.dim),p=se(l,c.valueAxis.dim),g=Aw[n.type](r,c.valueAxis.dim,c.baseDataDim,c.valueDataDim,f,p);n.coord=g[0],n.value=g[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null||!ke(l)){n.coord=[];var v=a.getBaseAxis();if(v&&n.type&&Aw[n.type]){var x=o.getOtherAxis(v);x&&(n.value=Pw(r,r.mapDimension(x.dim),n.type))}}else for(var O=n.coord,w=0;w<2;w++)Aw[O[w]]&&(O[w]=Pw(r,r.mapDimension(l[w]),O[w]));return n}}function UY(a,n,r,o){var l={};return a.valueIndex!=null||a.valueDim!=null?(l.valueDataDim=a.valueIndex!=null?n.getDimension(a.valueIndex):a.valueDim,l.valueAxis=r.getAxis(t$e(o,l.valueDataDim)),l.baseAxis=r.getOtherAxis(l.valueAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim)):(l.baseAxis=o.getBaseAxis(),l.valueAxis=r.getOtherAxis(l.baseAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim),l.valueDataDim=n.mapDimension(l.valueAxis.dim)),l}function t$e(a,n){var r=a.getData().getDimensionInfo(n);return r&&r.coordDim}function Gy(a,n){return a&&a.containData&&n.coord&&!VR(n)?a.containData(n.coord):!0}function n$e(a,n,r){return a&&a.containZone&&n.coord&&r.coord&&!VR(n)&&!VR(r)?a.containZone(n.coord,r.coord):!0}function qY(a,n){return a?function(r,o,l,c){var f=c<2?r.coord&&r.coord[c]:r.value;return Wc(f,n[c])}:function(r,o,l,c){return Wc(r.value,n[c])}}function Pw(a,n,r){if(r==="average"){var o=0,l=0;return a.each(n,function(c,f){isNaN(c)||(o+=c,l++)}),o/l}else return r==="median"?a.getMedian(n):a.getDataExtent(n)[r==="max"?1:0]}var FR=Kt(),GR=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=Xe()},n.prototype.render=function(r,o,l){var c=this,f=this.markerGroupMap;f.each(function(p){FR(p).keep=!1}),o.eachSeries(function(p){var g=Rl.getMarkerModelFromSeries(p,c.type);g&&c.renderSeries(p,g,o,l)}),f.each(function(p){!FR(p).keep&&c.group.remove(p.group)}),r$e(o,f,this.type)},n.prototype.markKeep=function(r){FR(r).keep=!0},n.prototype.toggleBlurSeries=function(r,o){var l=this;Z(r,function(c){var f=Rl.getMarkerModelFromSeries(c,l.type);if(f){var p=f.getData();p.eachItemGraphicEl(function(g){g&&(o?TF(g):IE(g))})}})},n.type="marker",n})(Gn);function r$e(a,n,r){a.eachSeries(function(o){var l=Rl.getMarkerModelFromSeries(o,r),c=n.get(o.id);if(l&&c&&c.group){var f=$f(l),p=f.z,g=f.zlevel;yb(c.group,p,g)}})}function ZY(a,n,r){var o=n.coordinateSystem,l=r.getWidth(),c=r.getHeight(),f=o&&o.getArea&&o.getArea();a.each(function(p){var g=a.getItemModel(p),v=g.get("relativeTo")==="coordinate",x=v?f?f.width:0:l,O=v?f?f.height:0:c,w=v&&f?f.x:0,S=v&&f?f.y:0,k,P=it(g.get("x"),x)+w,E=it(g.get("y"),O)+S;if(!isNaN(P)&&!isNaN(E))k=[P,E];else if(n.getMarkerPosition)k=n.getMarkerPosition(a.getValues(a.dimensions,p));else if(o){var M=a.get(o.dimensions[0],p),R=a.get(o.dimensions[1],p);k=o.dataToPoint([M,R])}isNaN(P)||(k[0]=P),isNaN(E)||(k[1]=E),a.setItemLayout(p,k)})}var i$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,o,l){o.eachSeries(function(c){var f=Rl.getMarkerModelFromSeries(c,"markPoint");f&&(ZY(f.getData(),c,l),this.markerGroupMap.get(c.id).updateLayout())},this)},n.prototype.renderSeries=function(r,o,l,c){var f=r.coordinateSystem,p=r.id,g=r.getData(),v=this.markerGroupMap,x=v.get(p)||v.set(p,new dy),O=a$e(f,r,o);o.setData(O),ZY(o.getData(),r,c),O.each(function(w){var S=O.getItemModel(w),k=S.getShallow("symbol"),P=S.getShallow("symbolSize"),E=S.getShallow("symbolRotate"),M=S.getShallow("symbolOffset"),R=S.getShallow("symbolKeepAspect");if(Ge(k)||Ge(P)||Ge(E)||Ge(M)){var N=o.getRawValue(w),j=o.getDataParams(w);Ge(k)&&(k=k(N,j)),Ge(P)&&(P=P(N,j)),Ge(E)&&(E=E(N,j)),Ge(M)&&(M=M(N,j))}var W=S.getModel("itemStyle").getItemStyle(),U=S.get("z2"),X=H0(g,"color");W.fill||(W.fill=X),O.setItemVisual(w,{z2:$e(U,0),symbol:k,symbolSize:P,symbolRotate:E,symbolOffset:M,symbolKeepAspect:R,style:W})}),x.updateData(O),this.group.add(x.group),O.eachItemGraphicEl(function(w){w.traverse(function(S){Et(S).dataModel=o})}),this.markKeep(x),x.group.silent=o.get("silent")||r.get("silent")},n.type="markPoint",n})(GR);function a$e(a,n,r){var o;a?o=ve(a&&a.dimensions,function(p){var g=n.getData().getDimensionInfo(n.getData().mapDimension(p))||{};return ee(ee({},g),{name:p,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new ra(o,r),c=ve(r.get("data"),Ue(Fy,n));a&&(c=Qe(c,Ue(Gy,a)));var f=qY(!!a,o);return l.initData(c,null,f),l}function o$e(a){a.registerComponentModel(J4e),a.registerComponentView(i$e),a.registerPreprocessor(function(n){jR(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var s$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,o,l){return new n(r,o,l)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n})(Rl),Ew=Kt(),l$e=function(a,n,r,o){var l=a.getData(),c;if(ke(o))c=o;else{var f=o.type;if(f==="min"||f==="max"||f==="average"||f==="median"||o.xAxis!=null||o.yAxis!=null){var p=void 0,g=void 0;if(o.yAxis!=null||o.xAxis!=null)p=n.getAxis(o.yAxis!=null?"y":"x"),g=tt(o.yAxis,o.xAxis);else{var v=UY(o,l,n,a);p=v.valueAxis;var x=wD(l,v.valueDataDim);g=Pw(l,x,f)}var O=p.dim==="x"?0:1,w=1-O,S=ne(o),k={coord:[]};S.type=null,S.coord=[],S.coord[w]=-1/0,k.coord[w]=1/0;var P=r.get("precision");P>=0&&dt(g)&&(g=+g.toFixed(Math.min(P,20))),S.coord[O]=k.coord[O]=g,c=[S,k,{type:f,valueIndex:o.valueIndex,value:g}]}else ue("Invalid markLine data."),c=[]}var E=[Fy(a,c[0]),Fy(a,c[1]),ee({},c[2])];return E[2].type=E[2].type||null,me(E[2],E[0]),me(E[2],E[1]),E};function Mw(a){return!isNaN(a)&&!isFinite(a)}function HY(a,n,r,o){var l=1-a,c=o.dimensions[a];return Mw(n[l])&&Mw(r[l])&&n[a]===r[a]&&o.getAxis(c).containData(n[a])}function u$e(a,n){if(a.type==="cartesian2d"){var r=n[0].coord,o=n[1].coord;if(r&&o&&(HY(1,r,o,a)||HY(0,r,o,a)))return!0}return Gy(a,n[0])&&Gy(a,n[1])}function WR(a,n,r,o,l){var c=o.coordinateSystem,f=a.getItemModel(n),p,g=it(f.get("x"),l.getWidth()),v=it(f.get("y"),l.getHeight());if(!isNaN(g)&&!isNaN(v))p=[g,v];else{if(o.getMarkerPosition)p=o.getMarkerPosition(a.getValues(a.dimensions,n));else{var x=c.dimensions,O=a.get(x[0],n),w=a.get(x[1],n);p=c.dataToPoint([O,w])}if(Jc(c,"cartesian2d")){var S=c.getAxis("x"),k=c.getAxis("y"),x=c.dimensions;Mw(a.get(x[0],n))?p[0]=S.toGlobalCoord(S.getExtent()[r?0:1]):Mw(a.get(x[1],n))&&(p[1]=k.toGlobalCoord(k.getExtent()[r?0:1]))}isNaN(g)||(p[0]=g),isNaN(v)||(p[1]=v)}a.setItemLayout(n,p)}var c$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,o,l){o.eachSeries(function(c){var f=Rl.getMarkerModelFromSeries(c,"markLine");if(f){var p=f.getData(),g=Ew(f).from,v=Ew(f).to;g.each(function(x){WR(g,x,!0,c,l),WR(v,x,!1,c,l)}),p.each(function(x){p.setItemLayout(x,[g.getItemLayout(x),v.getItemLayout(x)])}),this.markerGroupMap.get(c.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,o,l,c){var f=r.coordinateSystem,p=r.id,g=r.getData(),v=this.markerGroupMap,x=v.get(p)||v.set(p,new s5);this.group.add(x.group);var O=d$e(f,r,o),w=O.from,S=O.to,k=O.line;Ew(o).from=w,Ew(o).to=S,o.setData(k);var P=o.get("symbol"),E=o.get("symbolSize"),M=o.get("symbolRotate"),R=o.get("symbolOffset");ke(P)||(P=[P,P]),ke(E)||(E=[E,E]),ke(M)||(M=[M,M]),ke(R)||(R=[R,R]),O.from.each(function(j){N(w,j,!0),N(S,j,!1)}),k.each(function(j){var W=k.getItemModel(j),U=W.getModel("lineStyle").getLineStyle();k.setItemLayout(j,[w.getItemLayout(j),S.getItemLayout(j)]);var X=W.get("z2");U.stroke==null&&(U.stroke=w.getItemVisual(j,"style").fill),k.setItemVisual(j,{z2:$e(X,0),fromSymbolKeepAspect:w.getItemVisual(j,"symbolKeepAspect"),fromSymbolOffset:w.getItemVisual(j,"symbolOffset"),fromSymbolRotate:w.getItemVisual(j,"symbolRotate"),fromSymbolSize:w.getItemVisual(j,"symbolSize"),fromSymbol:w.getItemVisual(j,"symbol"),toSymbolKeepAspect:S.getItemVisual(j,"symbolKeepAspect"),toSymbolOffset:S.getItemVisual(j,"symbolOffset"),toSymbolRotate:S.getItemVisual(j,"symbolRotate"),toSymbolSize:S.getItemVisual(j,"symbolSize"),toSymbol:S.getItemVisual(j,"symbol"),style:U})}),x.updateData(k),O.line.eachItemGraphicEl(function(j){Et(j).dataModel=o,j.traverse(function(W){Et(W).dataModel=o})});function N(j,W,U){var X=j.getItemModel(W);WR(j,W,U,r,c);var J=X.getModel("itemStyle").getItemStyle();J.fill==null&&(J.fill=H0(g,"color")),j.setItemVisual(W,{symbolKeepAspect:X.get("symbolKeepAspect"),symbolOffset:$e(X.get("symbolOffset",!0),R[U?0:1]),symbolRotate:$e(X.get("symbolRotate",!0),M[U?0:1]),symbolSize:$e(X.get("symbolSize"),E[U?0:1]),symbol:$e(X.get("symbol",!0),P[U?0:1]),style:J})}this.markKeep(x),x.group.silent=o.get("silent")||r.get("silent")},n.type="markLine",n})(GR);function d$e(a,n,r){var o;a?o=ve(a&&a.dimensions,function(v){var x=n.getData().getDimensionInfo(n.getData().mapDimension(v))||{};return ee(ee({},x),{name:v,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new ra(o,r),c=new ra(o,r),f=new ra([],r),p=ve(r.get("data"),Ue(l$e,n,a,r));a&&(p=Qe(p,Ue(u$e,a)));var g=qY(!!a,o);return l.initData(ve(p,function(v){return v[0]}),null,g),c.initData(ve(p,function(v){return v[1]}),null,g),f.initData(ve(p,function(v){return v[2]})),f.hasItemOption=!0,{from:l,to:c,line:f}}function f$e(a){a.registerComponentModel(s$e),a.registerComponentView(c$e),a.registerPreprocessor(function(n){jR(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var h$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,o,l){return new n(r,o,l)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n})(Rl),Dw=Kt(),p$e=function(a,n,r,o){var l=o[0],c=o[1];if(!(!l||!c)){var f=Fy(a,l),p=Fy(a,c),g=f.coord,v=p.coord;g[0]=tt(g[0],-1/0),g[1]=tt(g[1],-1/0),v[0]=tt(v[0],1/0),v[1]=tt(v[1],1/0);var x=ge([{},f,p]);return x.coord=[f.coord,p.coord],x.x0=f.x,x.y0=f.y,x.x1=p.x,x.y1=p.y,x}};function Iw(a){return!isNaN(a)&&!isFinite(a)}function XY(a,n,r,o){var l=1-a;return Iw(n[l])&&Iw(r[l])}function m$e(a,n){var r=n.coord[0],o=n.coord[1],l={coord:r,x:n.x0,y:n.y0},c={coord:o,x:n.x1,y:n.y1};return Jc(a,"cartesian2d")?r&&o&&(XY(1,r,o)||XY(0,r,o))?!0:n$e(a,l,c):Gy(a,l)||Gy(a,c)}function YY(a,n,r,o,l){var c=o.coordinateSystem,f=a.getItemModel(n),p,g=it(f.get(r[0]),l.getWidth()),v=it(f.get(r[1]),l.getHeight());if(!isNaN(g)&&!isNaN(v))p=[g,v];else{if(o.getMarkerPosition){var x=a.getValues(["x0","y0"],n),O=a.getValues(["x1","y1"],n),w=c.clampData(x),S=c.clampData(O),k=[];r[0]==="x0"?k[0]=w[0]>S[0]?O[0]:x[0]:k[0]=w[0]>S[0]?x[0]:O[0],r[1]==="y0"?k[1]=w[1]>S[1]?O[1]:x[1]:k[1]=w[1]>S[1]?x[1]:O[1],p=o.getMarkerPosition(k,r,!0)}else{var P=a.get(r[0],n),E=a.get(r[1],n),M=[P,E];c.clampData&&c.clampData(M,M),p=c.dataToPoint(M,!0)}if(Jc(c,"cartesian2d")){var R=c.getAxis("x"),N=c.getAxis("y"),P=a.get(r[0],n),E=a.get(r[1],n);Iw(P)?p[0]=R.toGlobalCoord(R.getExtent()[r[0]==="x0"?0:1]):Iw(E)&&(p[1]=N.toGlobalCoord(N.getExtent()[r[1]==="y0"?0:1]))}isNaN(g)||(p[0]=g),isNaN(v)||(p[1]=v)}return p}var KY=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],g$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,o,l){o.eachSeries(function(c){var f=Rl.getMarkerModelFromSeries(c,"markArea");if(f){var p=f.getData();p.each(function(g){var v=ve(KY,function(O){return YY(p,g,O,c,l)});p.setItemLayout(g,v);var x=p.getItemGraphicEl(g);x.setShape("points",v)})}},this)},n.prototype.renderSeries=function(r,o,l,c){var f=r.coordinateSystem,p=r.id,g=r.getData(),v=this.markerGroupMap,x=v.get(p)||v.set(p,{group:new _t});this.group.add(x.group),this.markKeep(x);var O=v$e(f,r,o);o.setData(O),O.each(function(w){var S=ve(KY,function(ie){return YY(O,w,ie,r,c)}),k=f.getAxis("x").scale,P=f.getAxis("y").scale,E=k.getExtent(),M=P.getExtent(),R=[k.parse(O.get("x0",w)),k.parse(O.get("x1",w))],N=[P.parse(O.get("y0",w)),P.parse(O.get("y1",w))];go(R),go(N);var j=!(E[0]>R[1]||E[1]<R[0]||M[0]>N[1]||M[1]<N[0]),W=!j;O.setItemLayout(w,{points:S,allClipped:W});var U=O.getItemModel(w),X=U.getModel("itemStyle").getItemStyle(),J=U.get("z2"),re=H0(g,"color");X.fill||(X.fill=re,De(X.fill)&&(X.fill=u0(X.fill,.4))),X.stroke||(X.stroke=re),O.setItemVisual(w,"style",X),O.setItemVisual(w,"z2",$e(J,0))}),O.diff(Dw(x).data).add(function(w){var S=O.getItemLayout(w),k=O.getItemVisual(w,"z2");if(!S.allClipped){var P=new Fi({z2:$e(k,0),shape:{points:S.points}});O.setItemGraphicEl(w,P),x.group.add(P)}}).update(function(w,S){var k=Dw(x).data.getItemGraphicEl(S),P=O.getItemLayout(w),E=O.getItemVisual(w,"z2");P.allClipped?k&&x.group.remove(k):(k?pn(k,{z2:$e(E,0),shape:{points:P.points}},o,w):k=new Fi({shape:{points:P.points}}),O.setItemGraphicEl(w,k),x.group.add(k))}).remove(function(w){var S=Dw(x).data.getItemGraphicEl(w);x.group.remove(S)}).execute(),O.eachItemGraphicEl(function(w,S){var k=O.getItemModel(S),P=O.getItemVisual(S,"style");w.useStyle(O.getItemVisual(S,"style")),hi(w,Jr(k),{labelFetcher:o,labelDataIndex:S,defaultText:O.getName(S)||"",inheritColor:De(P.fill)?u0(P.fill,1):Ie.color.neutral99}),Kr(w,k),ar(w,null,null,k.get(["emphasis","disabled"])),Et(w).dataModel=o}),Dw(x).data=O,x.group.silent=o.get("silent")||r.get("silent")},n.type="markArea",n})(GR);function v$e(a,n,r){var o,l,c=["x0","y0","x1","y1"];if(a){var f=ve(a&&a.dimensions,function(v){var x=n.getData(),O=x.getDimensionInfo(x.mapDimension(v))||{};return ee(ee({},O),{name:v,ordinalMeta:null})});l=ve(c,function(v,x){return{name:v,type:f[x%2].type}}),o=new ra(l,r)}else l=[{name:"value",type:"float"}],o=new ra(l,r);var p=ve(r.get("data"),Ue(p$e,n,a,r));a&&(p=Qe(p,Ue(m$e,a)));var g=a?function(v,x,O,w){var S=v.coord[Math.floor(w/2)][w%2];return Wc(S,l[w])}:function(v,x,O,w){return Wc(v.value,l[w])};return o.initData(p,null,g),o.hasItemOption=!0,o}function y$e(a){a.registerComponentModel(h$e),a.registerComponentView(g$e),a.registerPreprocessor(function(n){jR(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var x$e=function(a,n){if(n==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},UR=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,o,l){this.mergeDefaultAndTheme(r,l),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,o){a.prototype.mergeOption.call(this,r,o),this._updateSelector(r)},n.prototype._updateSelector=function(r){var o=r.selector,l=this.ecModel;o===!0&&(o=r.selector=["all","inverse"]),ke(o)&&Z(o,function(c,f){De(c)&&(c={type:c}),o[f]=me(c,x$e(l,c.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var o=!1,l=0;l<r.length;l++){var c=r[l].get("name");if(this.isSelected(c)){this.select(c),o=!0;break}}!o&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var o=[],l=[];r.eachRawSeries(function(g){var v=g.name;l.push(v);var x;if(g.legendVisualProvider){var O=g.legendVisualProvider,w=O.getAllNames();r.isSeriesFiltered(g)||(l=l.concat(w)),w.length?o=o.concat(w):x=!0}else x=!0;x&&rE(g)&&o.push(g.name)}),this._availableNames=l;var c=this.get("data")||o,f=Xe(),p=ve(c,function(g){return(De(g)||dt(g))&&(g={name:g}),f.get(g.name)?null:(f.set(g.name,!0),new en(g,this,this.ecModel))},this);this._data=Qe(p,function(g){return!!g})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var o=this.option.selected,l=this.get("selectedMode");if(l==="single"){var c=this._data;Z(c,function(f){o[f.get("name")]=!1})}o[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var o=this.option.selected;o.hasOwnProperty(r)||(o[r]=!0),this[o[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,o=this.option.selected;Z(r,function(l){o[l.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,o=this.option.selected;Z(r,function(l){var c=l.get("name",!0);o.hasOwnProperty(c)||(o[c]=!0),o[c]=!o[c]})},n.prototype.isSelected=function(r){var o=this.option.selected;return!(o.hasOwnProperty(r)&&!o[r])&&se(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:Ie.size.m,align:"auto",backgroundColor:Ie.color.transparent,borderColor:Ie.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:Ie.color.disabled,inactiveBorderColor:Ie.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:Ie.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:Ie.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:Ie.color.tertiary,borderWidth:1,borderColor:Ie.color.border},emphasis:{selectorLabel:{show:!0,color:Ie.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},n})(Ht),sg=Ue,qR=Z,Rw=_t,JY=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Rw),this.group.add(this._selectorGroup=new Rw),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,o,l){var c=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var f=r.get("align"),p=r.get("orient");(!f||f==="auto")&&(f=r.get("left")==="right"&&p==="vertical"?"right":"left");var g=r.get("selector",!0),v=r.get("selectorPosition",!0);g&&(!v||v==="auto")&&(v=p==="horizontal"?"end":"start"),this.renderInner(f,r,o,l,g,p,v);var x=ei(r,l).refContainer,O=r.getBoxLayoutParams(),w=r.get("padding"),S=rr(O,x,w),k=this.layoutInner(r,f,S,c,g,v),P=rr(be({width:k.width,height:k.height},O),x,w);this.group.x=P.x-k.x,this.group.y=P.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=lY(k,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,o,l,c,f,p,g){var v=this.getContentGroup(),x=Xe(),O=o.get("selectedMode"),w=o.get("triggerEvent"),S=[];l.eachRawSeries(function(k){!k.get("legendHoverLink")&&S.push(k.id)}),qR(o.getData(),function(k,P){var E=this,M=k.get("name");if(!this.newlineDisabled&&(M===""||M===`
`)){var R=new Rw;R.newline=!0,v.add(R);return}var N=l.getSeriesByName(M)[0];if(!x.get(M)){if(N){var j=N.getData(),W=j.getVisual("legendLineStyle")||{},U=j.getVisual("legendIcon"),X=j.getVisual("style"),J=this._createItem(N,M,P,k,o,r,W,X,U,O,c);J.on("click",sg(eK,M,null,c,S)).on("mouseover",sg(ZR,N.name,null,c,S)).on("mouseout",sg(HR,N.name,null,c,S)),l.ssr&&J.eachChild(function(re){var ie=Et(re);ie.seriesIndex=N.seriesIndex,ie.dataIndex=P,ie.ssrType="legend"}),w&&J.eachChild(function(re){E.packEventData(re,o,N,P,M)}),x.set(M,!0)}else l.eachRawSeries(function(re){var ie=this;if(!x.get(M)&&re.legendVisualProvider){var le=re.legendVisualProvider;if(!le.containName(M))return;var pe=le.indexOfName(M),ce=le.getItemVisual(pe,"style"),ye=le.getItemVisual(pe,"legendIcon"),Oe=ea(ce.fill);Oe&&Oe[3]===0&&(Oe[3]=.2,ce=ee(ee({},ce),{fill:Qo(Oe,"rgba")}));var _e=this._createItem(re,M,P,k,o,r,{},ce,ye,O,c);_e.on("click",sg(eK,null,M,c,S)).on("mouseover",sg(ZR,null,M,c,S)).on("mouseout",sg(HR,null,M,c,S)),l.ssr&&_e.eachChild(function(Pe){var Se=Et(Pe);Se.seriesIndex=re.seriesIndex,Se.dataIndex=P,Se.ssrType="legend"}),w&&_e.eachChild(function(Pe){ie.packEventData(Pe,o,re,P,M)}),x.set(M,!0)}},this);x.get(M)||console.warn(M+" series not exists. Legend data should be same with series name or data name.")}},this),f&&this._createSelector(f,o,c,p,g)},n.prototype.packEventData=function(r,o,l,c,f){var p={componentType:"legend",componentIndex:o.componentIndex,dataIndex:c,value:f,seriesIndex:l.seriesIndex};Et(r).eventData=p},n.prototype._createSelector=function(r,o,l,c,f){var p=this.getSelectorGroup();qR(r,function(v){var x=v.type,O=new un({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:x==="all"?"legendAllSelect":"legendInverseSelect",legendId:o.id})}});p.add(O);var w=o.getModel("selectorLabel"),S=o.getModel(["emphasis","selectorLabel"]);hi(O,{normal:w,emphasis:S},{defaultText:v.title}),Bc(O)})},n.prototype._createItem=function(r,o,l,c,f,p,g,v,x,O,w){var S=r.visualDrawType,k=f.get("itemWidth"),P=f.get("itemHeight"),E=f.isSelected(o),M=c.get("symbolRotate"),R=c.get("symbolKeepAspect"),N=c.get("icon");x=N||x||"roundRect";var j=_$e(x,c,g,v,S,E,w),W=new Rw,U=c.getModel("textStyle");if(Ge(r.getLegendIcon)&&(!N||N==="inherit"))W.add(r.getLegendIcon({itemWidth:k,itemHeight:P,icon:x,iconRotate:M,itemStyle:j.itemStyle,lineStyle:j.lineStyle,symbolKeepAspect:R}));else{var X=N==="inherit"&&r.getData().getVisual("symbol")?M==="inherit"?r.getData().getVisual("symbolRotate"):M:0;W.add(O$e({itemWidth:k,itemHeight:P,icon:x,iconRotate:X,itemStyle:j.itemStyle,symbolKeepAspect:R}))}var J=p==="left"?k+5:-5,re=p,ie=f.get("formatter"),le=o;De(ie)&&ie?le=ie.replace("{name}",o??""):Ge(ie)&&(le=ie(o));var pe=E?U.getTextColor():c.get("inactiveColor");W.add(new un({style:Fn(U,{text:le,x:J,y:P/2,fill:pe,align:re,verticalAlign:"middle"},{inheritColor:pe})}));var ce=new Zt({shape:W.getBoundingRect(),style:{fill:"transparent"}}),ye=c.getModel("tooltip");return ye.get("show")&&Iu({el:ce,componentModel:f,itemName:o,itemTooltipOption:ye.option}),W.add(ce),W.eachChild(function(Oe){Oe.silent=!0}),ce.silent=!O,this.getContentGroup().add(W),Bc(W),W.__legendDataIndex=l,W},n.prototype.layoutInner=function(r,o,l,c,f,p){var g=this.getContentGroup(),v=this.getSelectorGroup();Vf(r.get("orient"),g,r.get("itemGap"),l.width,l.height);var x=g.getBoundingRect(),O=[-x.x,-x.y];if(v.markRedraw(),g.markRedraw(),f){Vf("horizontal",v,r.get("selectorItemGap",!0));var w=v.getBoundingRect(),S=[-w.x,-w.y],k=r.get("selectorButtonGap",!0),P=r.getOrient().index,E=P===0?"width":"height",M=P===0?"height":"width",R=P===0?"y":"x";p==="end"?S[P]+=x[E]+k:O[P]+=w[E]+k,S[1-P]+=x[M]/2-w[M]/2,v.x=S[0],v.y=S[1],g.x=O[0],g.y=O[1];var N={x:0,y:0};return N[E]=x[E]+k+w[E],N[M]=Math.max(x[M],w[M]),N[R]=Math.min(0,w[R]+S[1-P]),N}else return g.x=O[0],g.y=O[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n})(Gn);function _$e(a,n,r,o,l,c,f){function p(E,M){E.lineWidth==="auto"&&(E.lineWidth=M.lineWidth>0?2:0),qR(E,function(R,N){E[N]==="inherit"&&(E[N]=M[N])})}var g=n.getModel("itemStyle"),v=g.getItemStyle(),x=a.lastIndexOf("empty",0)===0?"fill":"stroke",O=g.getShallow("decal");v.decal=!O||O==="inherit"?o.decal:Pm(O,f),v.fill==="inherit"&&(v.fill=o[l]),v.stroke==="inherit"&&(v.stroke=o[x]),v.opacity==="inherit"&&(v.opacity=(l==="fill"?o:r).opacity),p(v,o);var w=n.getModel("lineStyle"),S=w.getLineStyle();if(p(S,r),v.fill==="auto"&&(v.fill=o.fill),v.stroke==="auto"&&(v.stroke=o.fill),S.stroke==="auto"&&(S.stroke=o.fill),!c){var k=n.get("inactiveBorderWidth"),P=v[x];v.lineWidth=k==="auto"?o.lineWidth>0&&P?2:0:v.lineWidth,v.fill=n.get("inactiveColor"),v.stroke=n.get("inactiveBorderColor"),S.stroke=w.get("inactiveColor"),S.lineWidth=w.get("inactiveWidth")}return{itemStyle:v,lineStyle:S}}function O$e(a){var n=a.icon||"roundRect",r=Br(n,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return r.setStyle(a.itemStyle),r.rotation=(a.iconRotate||0)*Math.PI/180,r.setOrigin([a.itemWidth/2,a.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill=Ie.color.neutral00,r.style.lineWidth=2),r}function eK(a,n,r,o){HR(a,n,r,o),r.dispatchAction({type:"legendToggleSelect",name:a??n}),ZR(a,n,r,o)}function tK(a){for(var n=a.getZr().storage.getDisplayList(),r,o=0,l=n.length;o<l&&!(r=n[o].states.emphasis);)o++;return r&&r.hoverLayer}function ZR(a,n,r,o){tK(r)||r.dispatchAction({type:"highlight",seriesName:a,name:n,excludeSeriesId:o})}function HR(a,n,r,o){tK(r)||r.dispatchAction({type:"downplay",seriesName:a,name:n,excludeSeriesId:o})}function b$e(a){var n=a.findComponents({mainType:"legend"});n&&n.length&&a.filterSeries(function(r){for(var o=0;o<n.length;o++)if(!n[o].isSelected(r.name))return!1;return!0})}function Wy(a,n,r){var o=a==="allSelect"||a==="inverseSelect",l={},c=[];r.eachComponent({mainType:"legend",query:n},function(p){o?p[a]():p[a](n.name),nK(p,l),c.push(p.componentIndex)});var f={};return r.eachComponent("legend",function(p){Z(l,function(g,v){p[g?"select":"unSelect"](v)}),nK(p,f)}),o?{selected:f,legendIndex:c}:{name:n.name,selected:f}}function nK(a,n){var r=n||{};return Z(a.getData(),function(o){var l=o.get("name");if(!(l===`
`||l==="")){var c=a.isSelected(l);Je(r,l)?r[l]=r[l]&&c:r[l]=c}}),r}function w$e(a){a.registerAction("legendToggleSelect","legendselectchanged",Ue(Wy,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",Ue(Wy,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",Ue(Wy,"inverseSelect")),a.registerAction("legendSelect","legendselected",Ue(Wy,"select")),a.registerAction("legendUnSelect","legendunselected",Ue(Wy,"unSelect"))}function rK(a){a.registerComponentModel(UR),a.registerComponentView(JY),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,b$e),a.registerSubTypeDefaulter("legend",function(){return"plain"}),w$e(a)}var S$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,o,l){var c=Ff(r);a.prototype.init.call(this,r,o,l),iK(this,r,c)},n.prototype.mergeOption=function(r,o){a.prototype.mergeOption.call(this,r,o),iK(this,this.option,r)},n.type="legend.scroll",n.defaultOption=Gc(UR.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:Ie.color.accent50,pageIconInactiveColor:Ie.color.accent10,pageIconSize:15,pageTextStyle:{color:Ie.color.tertiary},animationDurationUpdate:800}),n})(UR);function iK(a,n,r){var o=a.getOrient(),l=[1,1];l[o.index]=0,Sl(n,r,{type:"box",ignoreSize:!!l})}var aK=_t,XR=["width","height"],YR=["x","y"],T$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new aK),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new aK)},n.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,o,l,c,f,p,g){var v=this;a.prototype.renderInner.call(this,r,o,l,c,f,p,g);var x=this._controllerGroup,O=o.get("pageIconSize",!0),w=ke(O)?O:[O,O];k("pagePrev",0);var S=o.getModel("pageTextStyle");x.add(new un({name:"pageText",style:{text:"xx/xx",fill:S.getTextColor(),font:S.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1);function k(P,E){var M=P+"DataIndex",R=hm(o.get("pageIcons",!0)[o.getOrient().name][E],{onclick:Ee(v._pageGo,v,M,o,c)},{x:-w[0]/2,y:-w[1]/2,width:w[0],height:w[1]});R.name=P,x.add(R)}},n.prototype.layoutInner=function(r,o,l,c,f,p){var g=this.getSelectorGroup(),v=r.getOrient().index,x=XR[v],O=YR[v],w=XR[1-v],S=YR[1-v];f&&Vf("horizontal",g,r.get("selectorItemGap",!0));var k=r.get("selectorButtonGap",!0),P=g.getBoundingRect(),E=[-P.x,-P.y],M=ne(l);f&&(M[x]=l[x]-P[x]-k);var R=this._layoutContentAndController(r,c,M,v,x,w,S,O);if(f){if(p==="end")E[v]+=R[x]+k;else{var N=P[x]+k;E[v]-=N,R[O]-=N}R[x]+=P[x]+k,E[1-v]+=R[S]+R[w]/2-P[w]/2,R[w]=Math.max(R[w],P[w]),R[S]=Math.min(R[S],P[S]+E[1-v]),g.x=E[0],g.y=E[1],g.markRedraw()}return R},n.prototype._layoutContentAndController=function(r,o,l,c,f,p,g,v){var x=this.getContentGroup(),O=this._containerGroup,w=this._controllerGroup;Vf(r.get("orient"),x,r.get("itemGap"),c?l.width:null,c?null:l.height),Vf("horizontal",w,r.get("pageButtonItemGap",!0));var S=x.getBoundingRect(),k=w.getBoundingRect(),P=this._showController=S[f]>l[f],E=[-S.x,-S.y];o||(E[c]=x[v]);var M=[0,0],R=[-k.x,-k.y],N=$e(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(P){var j=r.get("pageButtonPosition",!0);j==="end"?R[c]+=l[f]-k[f]:M[c]+=k[f]+N}R[1-c]+=S[p]/2-k[p]/2,x.setPosition(E),O.setPosition(M),w.setPosition(R);var W={x:0,y:0};if(W[f]=P?l[f]:S[f],W[p]=Math.max(S[p],k[p]),W[g]=Math.min(0,k[g]+R[1-c]),O.__rectSize=l[f],P){var U={x:0,y:0};U[f]=Math.max(l[f]-k[f]-N,0),U[p]=W[p],O.setClipPath(new Zt({shape:U})),O.__rectSize=U[f]}else w.eachChild(function(J){J.attr({invisible:!0,silent:!0})});var X=this._getPageInfo(r);return X.pageIndex!=null&&pn(x,{x:X.contentPosition[0],y:X.contentPosition[1]},P?r:null),this._updatePageInfoView(r,X),W},n.prototype._pageGo=function(r,o,l){var c=this._getPageInfo(o)[r];c!=null&&l.dispatchAction({type:"legendScroll",scrollDataIndex:c,legendId:o.id})},n.prototype._updatePageInfoView=function(r,o){var l=this._controllerGroup;Z(["pagePrev","pageNext"],function(x){var O=x+"DataIndex",w=o[O]!=null,S=l.childOfName(x);S&&(S.setStyle("fill",w?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),S.cursor=w?"pointer":"default")});var c=l.childOfName("pageText"),f=r.get("pageFormatter"),p=o.pageIndex,g=p!=null?p+1:0,v=o.pageCount;c&&f&&c.setStyle("text",De(f)?f.replace("{current}",g==null?"":g+"").replace("{total}",v==null?"":v+""):f({current:g,total:v}))},n.prototype._getPageInfo=function(r){var o=r.get("scrollDataIndex",!0),l=this.getContentGroup(),c=this._containerGroup.__rectSize,f=r.getOrient().index,p=XR[f],g=YR[f],v=this._findTargetItemIndex(o),x=l.children(),O=x[v],w=x.length,S=w?1:0,k={contentPosition:[l.x,l.y],pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!O)return k;var P=j(O);k.contentPosition[f]=-P.s;for(var E=v+1,M=P,R=P,N=null;E<=w;++E)N=j(x[E]),(!N&&R.e>M.s+c||N&&!W(N,M.s))&&(R.i>M.i?M=R:M=N,M&&(k.pageNextDataIndex==null&&(k.pageNextDataIndex=M.i),++k.pageCount)),R=N;for(var E=v-1,M=P,R=P,N=null;E>=-1;--E)N=j(x[E]),(!N||!W(R,N.s))&&M.i<R.i&&(R=M,k.pagePrevDataIndex==null&&(k.pagePrevDataIndex=M.i),++k.pageCount,++k.pageIndex),M=N;return k;function j(U){if(U){var X=U.getBoundingRect(),J=X[g]+U[g];return{s:J,e:J+X[p],i:U.__legendDataIndex}}}function W(U,X){return U.e>=X&&U.s<=X+c}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var o,l=this.getContentGroup(),c;return l.eachChild(function(f,p){var g=f.__legendDataIndex;c==null&&g!=null&&(c=p),g===r&&(o=p)}),o??c},n.type="legend.scroll",n})(JY);function C$e(a){a.registerAction("legendScroll","legendscroll",function(n,r){var o=n.scrollDataIndex;o!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(l){l.setScrollDataIndex(o)})})}function k$e(a){Gt(rK),a.registerComponentModel(S$e),a.registerComponentView(T$e),C$e(a)}function A$e(a){Gt(rK),Gt(k$e)}var P$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=Gc(Qy.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n})(Qy),KR=Kt();function E$e(a,n,r){KR(a).coordSysRecordMap.each(function(o){var l=o.dataZoomInfoMap.get(n.uid);l&&(l.getRange=r)})}function M$e(a,n){for(var r=KR(a).coordSysRecordMap,o=r.keys(),l=0;l<o.length;l++){var c=o[l],f=r.get(c),p=f.dataZoomInfoMap;if(p){var g=n.uid,v=p.get(g);v&&(p.removeKey(g),p.keys().length||oK(r,f))}}}function oK(a,n){if(n){a.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function D$e(a,n){var r={model:n,containsPoint:Ue(R$e,n),dispatchAction:Ue(I$e,a),dataZoomInfoMap:null,controller:null},o=r.controller=new dh(a.getZr());return Z(["pan","zoom","scrollMove"],function(l){o.on(l,function(c){var f=[];r.dataZoomInfoMap.each(function(p){if(c.isAvailableBehavior(p.model.option)){var g=(p.getRange||{})[l],v=g&&g(p.dzReferCoordSysInfo,r.model.mainType,r.controller,c);!p.model.get("disabled",!0)&&v&&f.push({dataZoomId:p.model.id,start:v[0],end:v[1]})}}),f.length&&r.dispatchAction(f)})}),r}function I$e(a,n){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function R$e(a,n,r,o){return a.coordinateSystem.containPoint([r,o])}function L$e(a,n,r){var o,l="type_",c={type_true:2,type_move:1,type_false:0,type_undefined:-1},f=!0;return a.each(function(p){var g=p.model,v=g.get("disabled",!0)?!1:g.get("zoomLock",!0)?"move":!0;c[l+v]>c[l+o]&&(o=v),f=f&&g.get("preventDefaultMouseMove",!0)}),{controlType:o,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!f,api:r,zInfo:{component:n.model},triggerInfo:{roamTrigger:null,isInSelf:n.containsPoint}}}}function N$e(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(n,r){var o=KR(r),l=o.coordSysRecordMap||(o.coordSysRecordMap=Xe());l.each(function(c){c.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(c){var f=nY(c);Z(f.infoList,function(p){var g=p.model.uid,v=l.get(g)||l.set(g,D$e(r,p.model)),x=v.dataZoomInfoMap||(v.dataZoomInfoMap=Xe());x.set(c.uid,{dzReferCoordSysInfo:p,model:c,getRange:null})})}),l.each(function(c){var f=c.controller,p,g=c.dataZoomInfoMap;if(g){var v=g.keys()[0];v!=null&&(p=g.get(v))}if(!p){oK(l,c);return}var x=L$e(g,c,r);f.enable(x.controlType,x.opt),Tm(c,"dispatchAction",p.model.get("throttle",!0),"fixRate")})})}var $$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,o,l){if(a.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),E$e(l,r,{pan:Ee(JR.pan,this),zoom:Ee(JR.zoom,this),scrollMove:Ee(JR.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){M$e(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n})(kR),JR={zoom:function(a,n,r,o){var l=this.range,c=l.slice(),f=a.axisModels[0];if(f){var p=eL[n](null,[o.originX,o.originY],f,r,a),g=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(c[1]-c[0])+c[0],v=Math.max(1/o.scale,0);c[0]=(c[0]-g)*v+g,c[1]=(c[1]-g)*v+g;var x=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(nd(0,c,[0,100],0,x.minSpan,x.maxSpan),this.range=c,l[0]!==c[0]||l[1]!==c[1])return c}},pan:sK(function(a,n,r,o,l,c){var f=eL[o]([c.oldX,c.oldY],[c.newX,c.newY],n,l,r);return f.signal*(a[1]-a[0])*f.pixel/f.pixelLength}),scrollMove:sK(function(a,n,r,o,l,c){var f=eL[o]([0,0],[c.scrollDelta,c.scrollDelta],n,l,r);return f.signal*(a[1]-a[0])*c.scrollDelta})};function sK(a){return function(n,r,o,l){var c=this.range,f=c.slice(),p=n.axisModels[0];if(p){var g=a(f,p,n,r,o,l);if(nd(g,f,[0,100],"all"),this.range=f,c[0]!==f[0]||c[1]!==f[1])return f}}}var eL={grid:function(a,n,r,o,l){var c=r.axis,f={},p=l.model.coordinateSystem.getRect();return a=a||[0,0],c.dim==="x"?(f.pixel=n[0]-a[0],f.pixelLength=p.width,f.pixelStart=p.x,f.signal=c.inverse?1:-1):(f.pixel=n[1]-a[1],f.pixelLength=p.height,f.pixelStart=p.y,f.signal=c.inverse?-1:1),f},polar:function(a,n,r,o,l){var c=r.axis,f={},p=l.model.coordinateSystem,g=p.getRadiusAxis().getExtent(),v=p.getAngleAxis().getExtent();return a=a?p.pointToCoord(a):[0,0],n=p.pointToCoord(n),r.mainType==="radiusAxis"?(f.pixel=n[0]-a[0],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],f.signal=c.inverse?1:-1):(f.pixel=n[1]-a[1],f.pixelLength=v[1]-v[0],f.pixelStart=v[0],f.signal=c.inverse?-1:1),f},singleAxis:function(a,n,r,o,l){var c=r.axis,f=l.model.coordinateSystem.getRect(),p={};return a=a||[0,0],c.orient==="horizontal"?(p.pixel=n[0]-a[0],p.pixelLength=f.width,p.pixelStart=f.x,p.signal=c.inverse?1:-1):(p.pixel=n[1]-a[1],p.pixelLength=f.height,p.pixelStart=f.y,p.signal=c.inverse?-1:1),p}};function lK(a){AR(a),a.registerComponentModel(P$e),a.registerComponentView($$e),N$e(a)}var z$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=Gc(Qy.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:Ie.color.accent10,borderRadius:0,backgroundColor:Ie.color.transparent,dataBackground:{lineStyle:{color:Ie.color.accent30,width:.5},areaStyle:{color:Ie.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:Ie.color.accent40,width:.5},areaStyle:{color:Ie.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:Ie.color.neutral00,borderColor:Ie.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:Ie.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:Ie.color.tertiary},brushSelect:!0,brushStyle:{color:Ie.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:Ie.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),n})(Qy),Uy=Zt,B$e=1,tL=30,Q$e=7,qy="horizontal",uK="vertical",j$e=5,V$e=["line","bar","candlestick","scatter"],F$e={easing:"cubicOut",duration:100,delay:0},G$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,o){this.api=o,this._onBrush=Ee(this._onBrush,this),this._onBrushEnd=Ee(this._onBrushEnd,this)},n.prototype.render=function(r,o,l,c){if(a.prototype.render.apply(this,arguments),Tm(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!c||c.type!=="dataZoom"||c.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){W0(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new _t;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(o),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,o=this.api,l=r.get("brushSelect"),c=l?Q$e:0,f=ei(r,o).refContainer,p=this._findCoordRect(),g=r.get("defaultLocationEdgeGap",!0)||0,v=this._orient===qy?{right:f.width-p.x-p.width,top:f.height-tL-g-c,width:p.width,height:tL}:{right:g,top:p.y,width:tL,height:p.height},x=Ff(r.option);Z(["right","top","width","height"],function(w){x[w]==="ph"&&(x[w]=v[w])});var O=rr(x,f);this._location={x:O.x,y:O.y},this._size=[O.width,O.height],this._orient===uK&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,o=this._location,l=this._orient,c=this.dataZoomModel.getFirstTargetAxisModel(),f=c&&c.get("inverse"),p=this._displayables.sliderGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;p.attr(l===qy&&!f?{scaleY:g?1:-1,scaleX:1}:l===qy&&f?{scaleY:g?1:-1,scaleX:-1}:l===uK&&!f?{scaleY:g?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:g?-1:1,scaleX:-1,rotation:Math.PI/2});var v=r.getBoundingRect([p]);r.x=o.x-v.x,r.y=o.y-v.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,o=this._size,l=this._displayables.sliderGroup,c=r.get("brushSelect");l.add(new Uy({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var f=new Uy({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:Ee(this._onClickPanel,this)}),p=this.api.getZr();c?(f.on("mousedown",this._onBrushStart,this),f.cursor="crosshair",p.on("mousemove",this._onBrush),p.on("mouseup",this._onBrushEnd)):(p.off("mousemove",this._onBrush),p.off("mouseup",this._onBrushEnd)),l.add(f)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var o=this._size,l=this._shadowSize||[],c=r.series,f=c.getRawData(),p=c.getShadowDim&&c.getShadowDim(),g=p&&f.getDimensionInfo(p)?c.getShadowDim():r.otherDim;if(g==null)return;var v=this._shadowPolygonPts,x=this._shadowPolylinePts;if(f!==this._shadowData||g!==this._shadowDim||o[0]!==l[0]||o[1]!==l[1]){var O=f.getDataExtent(r.thisDim),w=f.getDataExtent(g),S=(w[1]-w[0])*.3;w=[w[0]-S,w[1]+S];var k=[0,o[1]],P=[0,o[0]],E=[[o[0],0],[0,0]],M=[],R=P[1]/Math.max(1,f.count()-1),N=o[0]/(O[1]-O[0]),j=r.thisAxis.type==="time",W=-R,U=Math.round(f.count()/o[0]),X;f.each([r.thisDim,g],function(pe,ce,ye){if(U>0&&ye%U){j||(W+=R);return}W=j?(+pe-O[0])*N:W+R;var Oe=ce==null||isNaN(ce)||ce==="",_e=Oe?0:wn(ce,w,k,!0);Oe&&!X&&ye?(E.push([E[E.length-1][0],0]),M.push([M[M.length-1][0],0])):!Oe&&X&&(E.push([W,0]),M.push([W,0])),Oe||(E.push([W,_e]),M.push([W,_e])),X=Oe}),v=this._shadowPolygonPts=E,x=this._shadowPolylinePts=M}this._shadowData=f,this._shadowDim=g,this._shadowSize=[o[0],o[1]];var J=this.dataZoomModel;function re(pe){var ce=J.getModel(pe?"selectedDataBackground":"dataBackground"),ye=new _t,Oe=new Fi({shape:{points:v},segmentIgnoreThreshold:1,style:ce.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),_e=new Ei({shape:{points:x},segmentIgnoreThreshold:1,style:ce.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return ye.add(Oe),ye.add(_e),ye}for(var ie=0;ie<3;ie++){var le=re(ie===1);this._displayables.sliderGroup.add(le),this._displayables.dataShadowSegs.push(le)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,o=r.get("showDataShadow");if(o!==!1){var l,c=this.ecModel;return r.eachTargetAxis(function(f,p){var g=r.getAxisProxy(f,p).getTargetSeriesModels();Z(g,function(v){if(!l&&!(o!==!0&&se(V$e,v.get("type"))<0)){var x=c.getComponent(sd(f),p).axis,O=W$e(f),w,S=v.coordinateSystem;O!=null&&S.getOtherAxis&&(w=S.getOtherAxis(x).inverse),O=v.getData().mapDimension(O);var k=v.getData().mapDimension(f);l={thisAxis:x,series:v,thisDim:k,otherDim:O,otherAxisInverse:w}}},this)},this),l}},n.prototype._renderHandle=function(){var r=this.group,o=this._displayables,l=o.handles=[null,null],c=o.handleLabels=[null,null],f=this._displayables.sliderGroup,p=this._size,g=this.dataZoomModel,v=this.api,x=g.get("borderRadius")||0,O=g.get("brushSelect"),w=o.filler=new Uy({silent:O,style:{fill:g.get("fillerColor")},textConfig:{position:"inside"}});f.add(w),f.add(new Uy({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:p[0],height:p[1],r:x},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:B$e,fill:Ie.color.transparent}})),Z([0,1],function(N){var j=g.get("handleIcon");!Fb[j]&&j.indexOf("path://")<0&&j.indexOf("image://")<0&&(j="path://"+j,Ps("handleIcon now needs 'path://' prefix when using a path string"));var W=Br(j,-1,0,2,2,null,!0);W.attr({cursor:U$e(this._orient),draggable:!0,drift:Ee(this._onDragMove,this,N),ondragend:Ee(this._onDragEnd,this),onmouseover:Ee(this._showDataInfo,this,!0),onmouseout:Ee(this._showDataInfo,this,!1),z2:5});var U=W.getBoundingRect(),X=g.get("handleSize");this._handleHeight=it(X,this._size[1]),this._handleWidth=U.width/U.height*this._handleHeight,W.setStyle(g.getModel("handleStyle").getItemStyle()),W.style.strokeNoScale=!0,W.rectHover=!0,W.ensureState("emphasis").style=g.getModel(["emphasis","handleStyle"]).getItemStyle(),Bc(W);var J=g.get("handleColor");J!=null&&(W.style.fill=J),f.add(l[N]=W);var re=g.getModel("textStyle"),ie=g.get("handleLabel")||{},le=ie.show||!1;r.add(c[N]=new un({silent:!0,invisible:!le,style:Fn(re,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:re.getTextColor(),font:re.getFont()}),z2:10}))},this);var S=w;if(O){var k=it(g.get("moveHandleSize"),p[1]),P=o.moveHandle=new Zt({style:g.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:p[1]-.5,height:k}}),E=k*.8,M=o.moveHandleIcon=Br(g.get("moveHandleIcon"),-E/2,-E/2,E,E,Ie.color.neutral00,!0);M.silent=!0,M.y=p[1]+k/2-.5,P.ensureState("emphasis").style=g.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var R=Math.min(p[1]/2,Math.max(k,10));S=o.moveZone=new Zt({invisible:!0,shape:{y:p[1]-R,height:k+R}}),S.on("mouseover",function(){v.enterEmphasis(P)}).on("mouseout",function(){v.leaveEmphasis(P)}),f.add(P),f.add(M),f.add(S)}S.attr({draggable:!0,cursor:"default",drift:Ee(this._onDragMove,this,"all"),ondragstart:Ee(this._showDataInfo,this,!0),ondragend:Ee(this._onDragEnd,this),onmouseover:Ee(this._showDataInfo,this,!0),onmouseout:Ee(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[wn(r[0],[0,100],o,!0),wn(r[1],[0,100],o,!0)]},n.prototype._updateInterval=function(r,o){var l=this.dataZoomModel,c=this._handleEnds,f=this._getViewExtent(),p=l.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];nd(o,c,f,l.get("zoomLock")?"all":r,p.minSpan!=null?wn(p.minSpan,g,f,!0):null,p.maxSpan!=null?wn(p.maxSpan,g,f,!0):null);var v=this._range,x=this._range=go([wn(c[0],f,g,!0),wn(c[1],f,g,!0)]);return!v||v[0]!==x[0]||v[1]!==x[1]},n.prototype._updateView=function(r){var o=this._displayables,l=this._handleEnds,c=go(l.slice()),f=this._size;Z([0,1],function(S){var k=o.handles[S],P=this._handleHeight;k.attr({scaleX:P/2,scaleY:P/2,x:l[S]+(S?-1:1),y:f[1]/2-P/2})},this),o.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:f[1]});var p={x:c[0],width:c[1]-c[0]};o.moveHandle&&(o.moveHandle.setShape(p),o.moveZone.setShape(p),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",p.x+p.width/2));for(var g=o.dataShadowSegs,v=[0,c[0],c[1],f[0]],x=0;x<g.length;x++){var O=g[x],w=O.getClipPath();w||(w=new Zt,O.setClipPath(w)),w.setShape({x:v[x],y:0,width:v[x+1]-v[x],height:f[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var o=this.dataZoomModel,l=this._displayables,c=l.handleLabels,f=this._orient,p=["",""];if(o.get("showDetail")){var g=o.findRepresentativeAxisProxy();if(g){var v=g.getAxisModel().axis,x=this._range,O=r?g.calculateDataWindow({start:x[0],end:x[1]}).valueWindow:g.getDataValueWindow();p=[this._formatLabel(O[0],v),this._formatLabel(O[1],v)]}}var w=go(this._handleEnds.slice());S.call(this,0),S.call(this,1);function S(k){var P=Vc(l.handles[k].parent,this.group),E=gb(k===0?"right":"left",P),M=this._handleWidth/2+j$e,R=Ms([w[k]+(k===0?-M:M),this._size[1]/2],P);c[k].setStyle({x:R[0],y:R[1],verticalAlign:f===qy?"middle":E,align:f===qy?E:"center",text:p[k]})}},n.prototype._formatLabel=function(r,o){var l=this.dataZoomModel,c=l.get("labelFormatter"),f=l.get("labelPrecision");(f==null||f==="auto")&&(f=o.getPixelPrecision());var p=r==null||isNaN(r)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(f,20));return Ge(c)?c(r,p):De(c)?c.replace("{value}",p):p},n.prototype._showDataInfo=function(r){var o=this.dataZoomModel.get("handleLabel")||{},l=o.show||!1,c=this.dataZoomModel.getModel(["emphasis","handleLabel"]),f=c.get("show")||!1,p=r||this._dragging?f:l,g=this._displayables,v=g.handleLabels;v[0].attr("invisible",!p),v[1].attr("invisible",!p),g.moveHandle&&this.api[p?"enterEmphasis":"leaveEmphasis"](g.moveHandle,1)},n.prototype._onDragMove=function(r,o,l,c){this._dragging=!0,bs(c.event);var f=this._displayables.sliderGroup.getLocalTransform(),p=Ms([o,l],f,!0),g=this._updateInterval(r,p[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),g&&v&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var o=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(l[0]<0||l[0]>o[0]||l[1]<0||l[1]>o[1])){var c=this._handleEnds,f=(c[0]+c[1])/2,p=this._updateInterval("all",l[0]-f);this._updateView(),p&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var o=r.offsetX,l=r.offsetY;this._brushStart=new bt(o,l),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var l=o.shape,c=+new Date;if(!(c-this._brushStartTime<200&&Math.abs(l.width)<5)){var f=this._getViewExtent(),p=[0,100],g=this._handleEnds=[l.x,l.x+l.width],v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();nd(0,g,f,0,v.minSpan!=null?wn(v.minSpan,p,f,!0):null,v.maxSpan!=null?wn(v.maxSpan,p,f,!0):null),this._range=go([wn(g[0],f,p,!0),wn(g[1],f,p,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(bs(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,o){var l=this._displayables,c=this.dataZoomModel,f=l.brushRect;f||(f=l.brushRect=new Uy({silent:!0,style:c.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(f)),f.attr("ignore",!1);var p=this._brushStart,g=this._displayables.sliderGroup,v=g.transformCoordToLocal(r,o),x=g.transformCoordToLocal(p.x,p.y),O=this._size;v[0]=Math.max(Math.min(O[0],v[0]),0),f.setShape({x:x[0],y:0,width:v[0]-x[0],height:O[1]})},n.prototype._dispatchZoomAction=function(r){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?F$e:null,start:o[0],end:o[1]})},n.prototype._findCoordRect=function(){var r,o=nY(this.dataZoomModel).infoList;if(!r&&o.length){var l=o[0].model.coordinateSystem;r=l.getRect&&l.getRect()}if(!r){var c=this.api.getWidth(),f=this.api.getHeight();r={x:c*.2,y:f*.2,width:c*.6,height:f*.6}}return r},n.type="dataZoom.slider",n})(kR);function W$e(a){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[a]}function U$e(a){return a==="vertical"?"ns-resize":"ew-resize"}function cK(a){a.registerComponentModel(z$e),a.registerComponentView(G$e),AR(a)}function q$e(a){Gt(lK),Gt(cK)}var dK={get:function(a,n,r){var o=ne((Z$e[a]||{})[n]);return r&&ke(o)?o[o.length-1]:o}},Z$e={color:{active:["#006edd","#e0ffff"],inactive:[Ie.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},fK=mi.mapVisual,H$e=mi.eachVisual,X$e=ke,hK=Z,Y$e=go,K$e=wn,Lw=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,o,l){this.mergeDefaultAndTheme(r,l)},n.prototype.optionUpdated=function(r,o){var l=this.option;!o&&DY(l,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var o=this.stateList;r=Ee(r,this),this.controllerVisuals=$R(this.option.controller,o,r),this.targetVisuals=$R(this.option.target,o,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesId,o=this.option.seriesIndex;o==null&&r==null&&(o="all");var l=em(this.ecModel,"series",{index:o,id:r},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return ve(l,function(c){return c.componentIndex})},n.prototype.eachTargetSeries=function(r,o){Z(this.getTargetSeriesIndices(),function(l){var c=this.ecModel.getSeriesByIndex(l);c&&r.call(o,c)},this)},n.prototype.isTargetSeries=function(r){var o=!1;return this.eachTargetSeries(function(l){l===r&&(o=!0)}),o},n.prototype.formatValueText=function(r,o,l){var c=this.option,f=c.precision,p=this.dataBound,g=c.formatter,v;l=l||["<",">"],ke(r)&&(r=r.slice(),v=!0);var x=o?r:v?[O(r[0]),O(r[1])]:O(r);if(De(g))return g.replace("{value}",v?x[0]:x).replace("{value2}",v?x[1]:x);if(Ge(g))return v?g(r[0],r[1]):g(r);if(v)return r[0]===p[0]?l[0]+" "+x[1]:r[1]===p[1]?l[1]+" "+x[0]:x[0]+" - "+x[1];return x;function O(w){return w===p[0]?"min":w===p[1]?"max":(+w).toFixed(Math.min(f,20))}},n.prototype.resetExtent=function(){var r=this.option,o=Y$e([r.min,r.max]);this._dataExtent=o},n.prototype.getDataDimensionIndex=function(r){var o=this.option.dimension;if(o!=null)return r.getDimensionIndex(o);for(var l=r.dimensions,c=l.length-1;c>=0;c--){var f=l[c],p=r.getDimensionInfo(f);if(!p.isCalculationCoord)return p.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,o=this.option,l={inRange:o.inRange,outOfRange:o.outOfRange},c=o.target||(o.target={}),f=o.controller||(o.controller={});me(c,l),me(f,l);var p=this.isCategory();g.call(this,c),g.call(this,f),v.call(this,c,"inRange","outOfRange"),x.call(this,f);function g(O){X$e(o.color)&&!O.inRange&&(O.inRange={color:o.color.slice().reverse()}),O.inRange=O.inRange||{color:r.get("gradientColor")}}function v(O,w,S){var k=O[w],P=O[S];k&&!P&&(P=O[S]={},hK(k,function(E,M){if(mi.isValidType(M)){var R=dK.get(M,"inactive",p);R!=null&&(P[M]=R,M==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function x(O){var w=(O.inRange||{}).symbol||(O.outOfRange||{}).symbol,S=(O.inRange||{}).symbolSize||(O.outOfRange||{}).symbolSize,k=this.get("inactiveColor"),P=this.getItemSymbol(),E=P||"roundRect";hK(this.stateList,function(M){var R=this.itemSize,N=O[M];N||(N=O[M]={color:p?k:[k]}),N.symbol==null&&(N.symbol=w&&ne(w)||(p?E:[E])),N.symbolSize==null&&(N.symbolSize=S&&ne(S)||(p?R[0]:[R[0],R[0]])),N.symbol=fK(N.symbol,function(U){return U==="none"?E:U});var j=N.symbolSize;if(j!=null){var W=-1/0;H$e(j,function(U){U>W&&(W=U)}),N.symbolSize=fK(j,function(U){return K$e(U,[0,W],[0,R[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:Ie.color.transparent,borderColor:Ie.color.borderTint,contentColor:Ie.color.theme[0],inactiveColor:Ie.color.disabled,borderWidth:0,padding:Ie.size.m,textGap:10,precision:0,textStyle:{color:Ie.color.secondary}},n})(Ht),pK=[20,140],J$e=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=pK[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=pK[1])},n.prototype._resetRange=function(){var r=this.getExtent(),o=this.option.range;!o||o.auto?(r.auto=1,this.option.range=r):ke(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],r[0]),o[1]=Math.min(o[1],r[1]))},n.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),Z(this.stateList,function(r){var o=this.option.controller[r].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),o=go((this.get("range")||[]).slice());return o[0]>r[1]&&(o[0]=r[1]),o[1]>r[1]&&(o[1]=r[1]),o[0]<r[0]&&(o[0]=r[0]),o[1]<r[0]&&(o[1]=r[0]),o},n.prototype.getValueState=function(r){var o=this.option.range,l=this.getExtent(),c=$e(this.option.unboundedRange,!0);return(c&&o[0]<=l[0]||o[0]<=r)&&(c&&o[1]>=l[1]||r<=o[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var o=[];return this.eachTargetSeries(function(l){var c=[],f=l.getData();f.each(this.getDataDimensionIndex(f),function(p,g){r[0]<=p&&p<=r[1]&&c.push(g)},this),o.push({seriesId:l.id,dataIndex:c})},this),o},n.prototype.getVisualMeta=function(r){var o=mK(this,"outOfRange",this.getExtent()),l=mK(this,"inRange",this.option.range.slice()),c=[];function f(S,k){c.push({value:S,color:r(S,k)})}for(var p=0,g=0,v=l.length,x=o.length;g<x&&(!l.length||o[g]<=l[0]);g++)o[g]<l[p]&&f(o[g],"outOfRange");for(var O=1;p<v;p++,O=0)O&&c.length&&f(l[p],"outOfRange"),f(l[p],"inRange");for(var O=1;g<x;g++)(!l.length||l[l.length-1]<o[g])&&(O&&(c.length&&f(c[c.length-1].value,"outOfRange"),O=0),f(o[g],"outOfRange"));var w=c.length;return{stops:c,outerColors:[w?c[0].color:"transparent",w?c[w-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=Gc(Lw.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:Ie.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:Ie.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Ie.color.shadow}}),n})(Lw);function mK(a,n,r){if(r[0]===r[1])return r.slice();for(var o=200,l=(r[1]-r[0])/o,c=r[0],f=[],p=0;p<=o&&c<r[1];p++)f.push(c),c+=l;return f.push(r[1]),f}var gK=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,o){this.ecModel=r,this.api=o},n.prototype.render=function(r,o,l,c){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,o,l,c)},n.prototype.renderBackground=function(r){var o=this.visualMapModel,l=xm(o.get("padding")||0),c=r.getBoundingRect();r.add(new Zt({z2:-1,silent:!0,shape:{x:c.x-l[3],y:c.y-l[0],width:c.width+l[3]+l[1],height:c.height+l[0]+l[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,o,l){l=l||{};var c=l.forceState,f=this.visualMapModel,p={};if(o==="color"){var g=f.get("contentColor");p.color=g}function v(S){return p[S]}function x(S,k){p[S]=k}var O=f.controllerVisuals[c||f.getValueState(r)],w=mi.prepareVisualTypes(O);return Z(w,function(S){var k=O[S];l.convertOpacityToAlpha&&S==="opacity"&&(S="colorAlpha",k=O.__alphaForOpacity),mi.dependsOn(S,o)&&k&&k.applyVisual(r,v,x)}),p[o]},n.prototype.positionGroup=function(r){var o=this.visualMapModel,l=this.api,c=ei(o,l).refContainer;Pb(r,o.getBoxLayoutParams(),c)},n.prototype.doRender=function(r,o,l,c){},n.type="visualMap",n})(Gn),vK=[["left","right","width"],["top","bottom","height"]];function yK(a,n,r){var o=a.option,l=o.align;if(l!=null&&l!=="auto")return l;for(var c={width:n.getWidth(),height:n.getHeight()},f=o.orient==="horizontal"?1:0,p=vK[f],g=[0,null,10],v={},x=0;x<3;x++)v[vK[1-f][x]]=g[x],v[p[x]]=x===2?r[0]:o[p[x]];var O=[["x","width",3],["y","height",0]][f],w=rr(v,c,o.padding);return p[(w.margin[O[2]]||0)+w[O[0]]+w[O[1]]*.5<c[O[1]]*.5?0:1]}function Nw(a,n){return Z(a||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),a}var Ll=wn,eze=Z,xK=Math.min,nL=Math.max,tze=12,nze=6,rze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.init=function(r,o){a.prototype.init.call(this,r,o),this._hoverLinkFromSeriesMouseOver=Ee(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ee(this._hideIndicator,this)},n.prototype.doRender=function(r,o,l,c){(!c||c.type!=="selectDataRange"||c.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,o=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(o);var l=r.get("text");this._renderEndsText(o,l,0),this._renderEndsText(o,l,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},n.prototype._renderEndsText=function(r,o,l){if(o){var c=o[1-l];c=c!=null?c+"":"";var f=this.visualMapModel,p=f.get("textGap"),g=f.itemSize,v=this._shapes.mainGroup,x=this._applyTransform([g[0]/2,l===0?-p:g[1]+p],v),O=this._applyTransform(l===0?"bottom":"top",v),w=this._orient,S=this.visualMapModel.textStyleModel;this.group.add(new un({style:Fn(S,{x:x[0],y:x[1],verticalAlign:S.get("verticalAlign")||(w==="horizontal"?"middle":O),align:S.get("align")||(w==="horizontal"?O:"center"),text:c})}))}},n.prototype._renderBar=function(r){var o=this.visualMapModel,l=this._shapes,c=o.itemSize,f=this._orient,p=this._useHandle,g=yK(o,this.api,c),v=l.mainGroup=this._createBarGroup(g),x=new _t;v.add(x),x.add(l.outOfRange=_K()),x.add(l.inRange=_K(null,p?bK(this._orient):null,Ee(this._dragHandle,this,"all",!1),Ee(this._dragHandle,this,"all",!0))),x.setClipPath(new Zt({shape:{x:0,y:0,width:c[0],height:c[1],r:3}}));var O=o.textStyleModel.getTextRect("国"),w=nL(O.width,O.height);p&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(o,v,0,c,w,f),this._createHandle(o,v,1,c,w,f)),this._createIndicator(o,v,c,w,f),r.add(v)},n.prototype._createHandle=function(r,o,l,c,f,p){var g=Ee(this._dragHandle,this,l,!1),v=Ee(this._dragHandle,this,l,!0),x=ks(r.get("handleSize"),c[0]),O=Br(r.get("handleIcon"),-x/2,-x/2,x,x,null,!0),w=bK(this._orient);O.attr({cursor:w,draggable:!0,drift:g,ondragend:v,onmousemove:function(M){bs(M.event)}}),O.x=c[0]/2,O.useStyle(r.getModel("handleStyle").getItemStyle()),O.setStyle({strokeNoScale:!0,strokeFirst:!0}),O.style.lineWidth*=2,O.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),Mf(O,!0),o.add(O);var S=this.visualMapModel.textStyleModel,k=new un({cursor:w,draggable:!0,drift:g,onmousemove:function(M){bs(M.event)},ondragend:v,style:Fn(S,{x:0,y:0,text:""})});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var P=[x,0],E=this._shapes;E.handleThumbs[l]=O,E.handleLabelPoints[l]=P,E.handleLabels[l]=k},n.prototype._createIndicator=function(r,o,l,c,f){var p=ks(r.get("indicatorSize"),l[0]),g=Br(r.get("indicatorIcon"),-p/2,-p/2,p,p,null,!0);g.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var v=r.getModel("indicatorStyle").getItemStyle();if(g instanceof fi){var x=g.style;g.useStyle(ee({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},v))}else g.useStyle(v);o.add(g);var O=this.visualMapModel.textStyleModel,w=new un({silent:!0,invisible:!0,style:Fn(O,{x:0,y:0,text:""})});this.group.add(w);var S=[(f==="horizontal"?c/2:nze)+l[0]/2,0],k=this._shapes;k.indicator=g,k.indicatorLabel=w,k.indicatorLabelPoint=S,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,o,l,c){if(this._useHandle){if(this._dragging=!o,!o){var f=this._applyTransform([l,c],this._shapes.mainGroup,!0);this._updateInterval(r,f[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():OK(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,o=this._dataInterval=r.getSelected(),l=r.getExtent(),c=[0,r.itemSize[1]];this._handleEnds=[Ll(o[0],l,c,!0),Ll(o[1],l,c,!0)]},n.prototype._updateInterval=function(r,o){o=o||0;var l=this.visualMapModel,c=this._handleEnds,f=[0,l.itemSize[1]];nd(o,c,f,r,0);var p=l.getExtent();this._dataInterval=[Ll(c[0],f,p,!0),Ll(c[1],f,p,!0)]},n.prototype._updateView=function(r){var o=this.visualMapModel,l=o.getExtent(),c=this._shapes,f=[0,o.itemSize[1]],p=r?f:this._handleEnds,g=this._createBarVisual(this._dataInterval,l,p,"inRange"),v=this._createBarVisual(l,l,f,"outOfRange");c.inRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),c.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(p,g)},n.prototype._createBarVisual=function(r,o,l,c){var f={forceState:c,convertOpacityToAlpha:!0},p=this._makeColorGradient(r,f),g=[this.getControllerVisual(r[0],"symbolSize",f),this.getControllerVisual(r[1],"symbolSize",f)],v=this._createBarPoints(l,g);return{barColor:new If(0,0,0,1,p),barPoints:v,handlesColor:[p[0].color,p[p.length-1].color]}},n.prototype._makeColorGradient=function(r,o){var l=100,c=[],f=(r[1]-r[0])/l;c.push({color:this.getControllerVisual(r[0],"color",o),offset:0});for(var p=1;p<l;p++){var g=r[0]+f*p;if(g>r[1])break;c.push({color:this.getControllerVisual(g,"color",o),offset:p/l})}return c.push({color:this.getControllerVisual(r[1],"color",o),offset:1}),c},n.prototype._createBarPoints=function(r,o){var l=this.visualMapModel.itemSize;return[[l[0]-o[0],r[0]],[l[0],r[0]],[l[0],r[1]],[l[0]-o[1],r[1]]]},n.prototype._createBarGroup=function(r){var o=this._orient,l=this.visualMapModel.get("inverse");return new _t(o==="horizontal"&&!l?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&l?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!l?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,o){if(this._useHandle){var l=this._shapes,c=this.visualMapModel,f=l.handleThumbs,p=l.handleLabels,g=c.itemSize,v=c.getExtent(),x=this._applyTransform("left",l.mainGroup);eze([0,1],function(O){var w=f[O];w.setStyle("fill",o.handlesColor[O]),w.y=r[O];var S=Ll(r[O],[0,g[1]],v,!0),k=this.getControllerVisual(S,"symbolSize");w.scaleX=w.scaleY=k/g[0],w.x=g[0]-k/2;var P=Ms(l.handleLabelPoints[O],Vc(w,this.group));if(this._orient==="horizontal"){var E=x==="left"||x==="top"?(g[0]-k)/2:(g[0]-k)/-2;P[1]+=E}p[O].setStyle({x:P[0],y:P[1],text:c.formatValueText(this._dataInterval[O]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",l.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,o,l,c){var f=this.visualMapModel,p=f.getExtent(),g=f.itemSize,v=[0,g[1]],x=this._shapes,O=x.indicator;if(O){O.attr("invisible",!1);var w={convertOpacityToAlpha:!0},S=this.getControllerVisual(r,"color",w),k=this.getControllerVisual(r,"symbolSize"),P=Ll(r,p,v,!0),E=g[0]-k/2,M={x:O.x,y:O.y};O.y=P,O.x=E;var R=Ms(x.indicatorLabelPoint,Vc(O,this.group)),N=x.indicatorLabel;N.attr("invisible",!1);var j=this._applyTransform("left",x.mainGroup),W=this._orient,U=W==="horizontal";N.setStyle({text:(l||"")+f.formatValueText(o),verticalAlign:U?j:"middle",align:U?"center":j});var X={x:E,y:P,style:{fill:S}},J={style:{x:R[0],y:R[1]}};if(f.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var re={duration:100,easing:"cubicInOut",additive:!0};O.x=M.x,O.y=M.y,O.animateTo(X,re),N.animateTo(J,re)}else O.attr(X),N.attr(J);this._firstShowIndicator=!1;var ie=this._shapes.handleLabels;if(ie)for(var le=0;le<ie.length;le++)this.api.enterBlur(ie[le])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(o){if(r._hovering=!0,!r._dragging){var l=r.visualMapModel.itemSize,c=r._applyTransform([o.offsetX,o.offsetY],r._shapes.mainGroup,!0,!0);c[1]=xK(nL(0,c[1]),l[1]),r._doHoverLinkToSeries(c[1],0<=c[0]&&c[0]<=l[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,o){var l=this.visualMapModel,c=l.itemSize;if(l.option.hoverLink){var f=[0,c[1]],p=l.getExtent();r=xK(nL(f[0],r),f[1]);var g=ize(l,p,f),v=[r-g,r+g],x=Ll(r,f,p,!0),O=[Ll(v[0],f,p,!0),Ll(v[1],f,p,!0)];v[0]<f[0]&&(O[0]=-1/0),v[1]>f[1]&&(O[1]=1/0),o&&(O[0]===-1/0?this._showIndicator(x,O[1],"< ",g):O[1]===1/0?this._showIndicator(x,O[0],"> ",g):this._showIndicator(x,x,"≈ ",g));var w=this._hoverLinkDataIndices,S=[];(o||OK(l))&&(S=this._hoverLinkDataIndices=l.findTargetDataIndices(O));var k=ROe(w,S);this._dispatchHighDown("downplay",Nw(k[0],l)),this._dispatchHighDown("highlight",Nw(k[1],l))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var o;if(Xf(r.target,function(g){var v=Et(g);if(v.dataIndex!=null)return o=v,!0},!0),!!o){var l=this.ecModel.getSeriesByIndex(o.seriesIndex),c=this.visualMapModel;if(c.isTargetSeries(l)){var f=l.getData(o.dataType),p=f.getStore().get(c.getDataDimensionIndex(f),o.dataIndex);isNaN(p)||this._showIndicator(p,p)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var l=0;l<o.length;l++)this.api.leaveBlur(o[l])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Nw(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,o,l,c){var f=Vc(o,c?null:this.group);return ke(r)?Ms(r,f,l):gb(r,f,l)},n.prototype._dispatchHighDown=function(r,o){o&&o.length&&this.api.dispatchAction({type:r,batch:o})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n})(gK);function _K(a,n,r,o){return new Fi({shape:{points:a},draggable:!!r,cursor:n,drift:r,onmousemove:function(l){bs(l.event)},ondragend:o})}function ize(a,n,r){var o=tze/2,l=a.get("hoverLinkDataSize");return l&&(o=Ll(l,n,r,!0)/2),o}function OK(a){var n=a.get("hoverLinkOnHandle");return!!(n??a.get("realtime"))}function bK(a){return a==="vertical"?"ns-resize":"ew-resize"}var aze={type:"selectDataRange",event:"dataRangeSelected",update:"update"},oze=function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(r){r.setSelected(a.selected)})},sze=[{createOnAllSeries:!0,reset:function(a,n){var r=[];return n.eachComponent("visualMap",function(o){var l=a.pipelineContext;!o.isTargetSeries(a)||l&&l.large||r.push(A4e(o.stateList,o.targetVisuals,Ee(o.getValueState,o),o.getDataDimensionIndex(a.getData())))}),r}},{createOnAllSeries:!0,reset:function(a,n){var r=a.getData(),o=[];n.eachComponent("visualMap",function(l){if(l.isTargetSeries(a)){var c=l.getVisualMeta(Ee(lze,null,a,l))||{stops:[],outerColors:[]},f=l.getDataDimensionIndex(r);f>=0&&(c.dimension=f,o.push(c))}}),a.getData().setVisual("visualMeta",o)}}];function lze(a,n,r,o){for(var l=n.targetVisuals[o],c=mi.prepareVisualTypes(l),f={color:H0(a.getData(),"color")},p=0,g=c.length;p<g;p++){var v=c[p],x=l[v==="opacity"?"__alphaForOpacity":v];x&&x.applyVisual(r,O,w)}return f.color;function O(S){return f[S]}function w(S,k){f[S]=k}}var wK=Z;function uze(a){var n=a&&a.visualMap;ke(n)||(n=n?[n]:[]),wK(n,function(r){if(r){lg(r,"splitList")&&!lg(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var o=r.pieces;o&&ke(o)&&wK(o,function(l){Ze(l)&&(lg(l,"start")&&!lg(l,"min")&&(l.min=l.start),lg(l,"end")&&!lg(l,"max")&&(l.max=l.end))})}})}function lg(a,n){return a&&a.hasOwnProperty&&a.hasOwnProperty(n)}var SK=!1;function TK(a){SK||(SK=!0,a.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),a.registerAction(aze,oze),Z(sze,function(n){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,n)}),a.registerPreprocessor(uze))}function CK(a){a.registerComponentModel(J$e),a.registerComponentView(rze),TK(a)}var cze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,o){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],dze[this._mode].call(this,this._pieceList),this._resetSelected(r,o);var c=this.option.categories;this.resetVisual(function(f,p){l==="categories"?(f.mappingMethod="category",f.categories=ne(c)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=ve(this._pieceList,function(g){return g=ne(g),p!=="inRange"&&(g.visual=null),g}))})},n.prototype.completeVisualOption=function(){var r=this.option,o={},l=mi.listVisualTypes(),c=this.isCategory();Z(r.pieces,function(p){Z(l,function(g){p.hasOwnProperty(g)&&(o[g]=1)})}),Z(o,function(p,g){var v=!1;Z(this.stateList,function(x){v=v||f(r,x,g)||f(r.target,x,g)},this),!v&&Z(this.stateList,function(x){(r[x]||(r[x]={}))[g]=dK.get(g,x==="inRange"?"active":"inactive",c)})},this);function f(p,g,v){return p&&p[g]&&p[g].hasOwnProperty(v)}a.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,o){var l=this.option,c=this._pieceList,f=(o?l:r).selected||{};if(l.selected=f,Z(c,function(g,v){var x=this.getSelectedMapKey(g);f.hasOwnProperty(x)||(f[x]=!0)},this),l.selectedMode==="single"){var p=!1;Z(c,function(g,v){var x=this.getSelectedMapKey(g);f[x]&&(p?f[x]=!1:p=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=ne(r)},n.prototype.getValueState=function(r){var o=mi.findPieceIndex(r,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var o=[],l=this._pieceList;return this.eachTargetSeries(function(c){var f=[],p=c.getData();p.each(this.getDataDimensionIndex(p),function(g,v){var x=mi.findPieceIndex(g,l);x===r&&f.push(v)},this),o.push({seriesId:c.id,dataIndex:f})},this),o},n.prototype.getRepresentValue=function(r){var o;if(this.isCategory())o=r.value;else if(r.value!=null)o=r.value;else{var l=r.interval||[];o=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return o},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var o=[],l=["",""],c=this;function f(x,O){var w=c.getRepresentValue({interval:x});O||(O=c.getValueState(w));var S=r(w,O);x[0]===-1/0?l[0]=S:x[1]===1/0?l[1]=S:o.push({value:x[0],color:S},{value:x[1],color:S})}var p=this._pieceList.slice();if(!p.length)p.push({interval:[-1/0,1/0]});else{var g=p[0].interval[0];g!==-1/0&&p.unshift({interval:[-1/0,g]}),g=p[p.length-1].interval[1],g!==1/0&&p.push({interval:[g,1/0]})}var v=-1/0;return Z(p,function(x){var O=x.interval;O&&(O[0]>v&&f([v,O[0]],"outOfRange"),f(O.slice()),v=O[1])},this),{stops:o,outerColors:l}},n.type="visualMap.piecewise",n.defaultOption=Gc(Lw.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n})(Lw),dze={splitNumber:function(a){var n=this.option,r=Math.min(n.precision,20),o=this.getExtent(),l=n.splitNumber;l=Math.max(parseInt(l,10),1),n.splitNumber=l;for(var c=(o[1]-o[0])/l;+c.toFixed(r)!==c&&r<5;)r++;n.precision=r,c=+c.toFixed(r),n.minOpen&&a.push({interval:[-1/0,o[0]],close:[0,0]});for(var f=0,p=o[0];f<l;p+=c,f++){var g=f===l-1?o[1]:p+c;a.push({interval:[p,g],close:[1,1]})}n.maxOpen&&a.push({interval:[o[1],1/0],close:[0,0]}),nE(a),Z(a,function(v,x){v.index=x,v.text=this.formatValueText(v.interval)},this)},categories:function(a){var n=this.option;Z(n.categories,function(r){a.push({text:this.formatValueText(r,!0),value:r})},this),kK(n,a)},pieces:function(a){var n=this.option;Z(n.pieces,function(r,o){Ze(r)||(r={value:r});var l={text:"",index:o};if(r.label!=null&&(l.text=r.label),r.hasOwnProperty("value")){var c=l.value=r.value;l.interval=[c,c],l.close=[1,1]}else{for(var f=l.interval=[],p=l.close=[0,0],g=[1,0,1],v=[-1/0,1/0],x=[],O=0;O<2;O++){for(var w=[["gte","gt","min"],["lte","lt","max"]][O],S=0;S<3&&f[O]==null;S++)f[O]=r[w[S]],p[O]=g[S],x[O]=S===2;f[O]==null&&(f[O]=v[O])}x[0]&&f[1]===1/0&&(p[0]=0),x[1]&&f[0]===-1/0&&(p[1]=0),f[0]>f[1]&&console.warn("Piece "+o+"is illegal: "+f+" lower bound should not greater then uppper bound."),f[0]===f[1]&&p[0]&&p[1]&&(l.value=f[0])}l.visual=mi.retrieveVisuals(r),a.push(l)},this),kK(n,a),nE(a),Z(a,function(r){var o=r.close,l=[["<","≤"][o[1]],[">","≥"][o[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,l)},this)}};function kK(a,n){var r=a.inverse;(a.orient==="vertical"?!r:r)&&n.reverse()}var fze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var o=this.visualMapModel,l=o.get("textGap"),c=o.textStyleModel,f=this._getItemAlign(),p=o.itemSize,g=this._getViewData(),v=g.endsText,x=tt(o.get("showLabel",!0),!v),O=!o.get("selectedMode");v&&this._renderEndsText(r,v[0],p,x,f),Z(g.viewPieceList,function(w){var S=w.piece,k=new _t;k.onclick=Ee(this._onItemClick,this,S),this._enableHoverLink(k,w.indexInModelPieceList);var P=o.getRepresentValue(S);if(this._createItemSymbol(k,P,[0,0,p[0],p[1]],O),x){var E=this.visualMapModel.getValueState(P),M=c.get("align")||f;k.add(new un({style:Fn(c,{x:M==="right"?-l:p[0]+l,y:p[1]/2,text:S.text,verticalAlign:c.get("verticalAlign")||"middle",align:M,opacity:$e(c.get("opacity"),E==="outOfRange"?.5:1)}),silent:O}))}r.add(k)},this),v&&this._renderEndsText(r,v[1],p,x,f),Vf(o.get("orient"),r,o.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,o){var l=this;r.on("mouseover",function(){return c("highlight")}).on("mouseout",function(){return c("downplay")});var c=function(f){var p=l.visualMapModel;p.option.hoverLink&&l.api.dispatchAction({type:f,batch:Nw(p.findTargetDataIndices(o),p)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,o=r.option;if(o.orient==="vertical")return yK(r,this.api,r.itemSize);var l=o.align;return(!l||l==="auto")&&(l="left"),l},n.prototype._renderEndsText=function(r,o,l,c,f){if(o){var p=new _t,g=this.visualMapModel.textStyleModel;p.add(new un({style:Fn(g,{x:c?f==="right"?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:c?f:"center",text:o})})),r.add(p)}},n.prototype._getViewData=function(){var r=this.visualMapModel,o=ve(r.getPieceList(),function(p,g){return{piece:p,indexInModelPieceList:g}}),l=r.get("text"),c=r.get("orient"),f=r.get("inverse");return(c==="horizontal"?f:!f)?o.reverse():l&&(l=l.slice().reverse()),{viewPieceList:o,endsText:l}},n.prototype._createItemSymbol=function(r,o,l,c){var f=Br(this.getControllerVisual(o,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(o,"color"));f.silent=c,r.add(f)},n.prototype._onItemClick=function(r){var o=this.visualMapModel,l=o.option,c=l.selectedMode;if(c){var f=ne(l.selected),p=o.getSelectedMapKey(r);c==="single"||c===!0?(f[p]=!0,Z(f,function(g,v){f[v]=v===p})):f[p]=!f[p],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:f})}},n.type="visualMap.piecewise",n})(gK);function AK(a){a.registerComponentModel(cze),a.registerComponentView(fze),TK(a)}function hze(a){Gt(CK),Gt(AK)}var pze=(function(){function a(n){this._thumbnailModel=n}return a.prototype.reset=function(n){this._renderVersion=n.getMainProcessVersion()},a.prototype.renderContent=function(n){var r=n.api.getViewOfComponentModel(this._thumbnailModel);r&&(n.group.silent=!0,r.renderContent({group:n.group,targetTrans:n.targetTrans,z2Range:i7(n.group),roamType:n.roamType,viewportRect:n.viewportRect,renderVersion:this._renderVersion}))},a.prototype.updateWindow=function(n,r){var o=r.getViewOfComponentModel(this._thumbnailModel);o&&o.updateWindow({targetTrans:n,renderVersion:this._renderVersion})},a})(),mze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.optionUpdated=function(r,o){this._updateBridge()},n.prototype._updateBridge=function(){var r=this._birdge=this._birdge||new pze(this);if(this._target=null,this.ecModel.eachSeries(function(l){mZ(l,null)}),this.shouldShow()){var o=this.getTarget();mZ(o.baseMapProvider,r)}},n.prototype.shouldShow=function(){return this.getShallow("show",!0)},n.prototype.getBridge=function(){return this._birdge},n.prototype.getTarget=function(){if(this._target)return this._target;var r=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return r?r.subType!=="graph"&&(r=null,cn("series."+r.subType+" is not supported in thumbnail.",!0)):r=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:r},this._target},n.type="thumbnail",n.layoutMode="box",n.dependencies=["series","geo"],n.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:Ie.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:Ie.color.neutral30,borderColor:Ie.color.neutral40,opacity:.3},z:10},n})(Ht),gze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,l){if(this._api=l,this._model=r,this._coordSys||(this._coordSys=new ph),!this._isEnabled()){this._clear();return}this._renderVersion=l.getMainProcessVersion();var c=this.group;c.removeAll();var f=r.getModel("itemStyle"),p=f.getItemStyle();p.fill==null&&(p.fill=o.get("backgroundColor")||Ie.color.neutral00);var g=ei(r,l).refContainer,v=rr(E7(r,!0),g),x=p.lineWidth||0,O=this._contentRect=Nf(v.clone(),x/2,!0,!0),w=new _t;c.add(w),w.setClipPath(new Zt({shape:O.plain()}));var S=this._targetGroup=new _t;w.add(S);var k=v.plain();k.r=f.getShallow("borderRadius",!0),c.add(this._bgRect=new Zt({style:p,shape:k,silent:!1,cursor:"grab"}));var P=r.getModel("windowStyle"),E=P.getShallow("borderRadius",!0);w.add(this._windowRect=new Zt({shape:{x:0,y:0,width:0,height:0,r:E},style:P.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),EK(r,this)},n.prototype.renderContent=function(r){this._bridgeRendered=r,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),EK(this._model,this))},n.prototype._dealRenderContent=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var o=this._targetGroup,l=this._coordSys,c=this._contentRect;if(o.removeAll(),!!r){var f=r.group,p=f.getBoundingRect();o.add(f),this._bgRect.z2=r.z2Range.min-10,l.setBoundingRect(p.x,p.y,p.width,p.height);var g=rr({left:"center",top:"center",aspect:p.width/p.height},c);l.setViewRect(g.x,g.y,g.width,g.height),f.attr(l.getTransformInfo().raw),this._windowRect.z2=r.z2Range.max+10,this._resetRoamController(r.roamType)}}},n.prototype.updateWindow=function(r){var o=this._bridgeRendered;o&&o.renderVersion===r.renderVersion&&(o.targetTrans=r.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},n.prototype._dealUpdateWindow=function(){var r=this._bridgeRendered;if(!(!r||r.renderVersion!==this._renderVersion)){var o=za([],r.targetTrans),l=ho([],this._coordSys.transform,o);this._transThisToTarget=za([],l);var c=r.viewportRect;c?c=c.clone():c=new wt(0,0,this._api.getWidth(),this._api.getHeight()),c.applyTransform(l);var f=this._windowRect,p=f.shape.r;f.setShape(be({r:p},c))}},n.prototype._resetRoamController=function(r){var o=this,l=this._api,c=this._roamController;if(c||(c=this._roamController=new dh(l.getZr())),!r||!this._isEnabled()){c.disable();return}c.enable(r,{api:l,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(f,p,g){return o._contentRect.contain(p,g)}}}),c.off("pan").off("zoom").on("pan",Ee(this._onPan,this)).on("zoom",Ee(this._onZoom,this))},n.prototype._onPan=function(r){var o=this._transThisToTarget;if(!(!this._isEnabled()||!o)){var l=yr([],[r.oldX,r.oldY],o),c=yr([],[r.oldX-r.dx,r.oldY-r.dy],o);this._api.dispatchAction(PK(this._model.getTarget().baseMapProvider,{dx:c[0]-l[0],dy:c[1]-l[1]}))}},n.prototype._onZoom=function(r){var o=this._transThisToTarget;if(!(!this._isEnabled()||!o)){var l=yr([],[r.originX,r.originY],o);this._api.dispatchAction(PK(this._model.getTarget().baseMapProvider,{zoom:1/r.scale,originX:l[0],originY:l[1]}))}},n.prototype._isEnabled=function(){var r=this._model;if(!r||!r.shouldShow())return!1;var o=r.getTarget().baseMapProvider;return!!o},n.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},n.prototype.remove=function(){this._clear()},n.prototype.dispose=function(){this._clear()},n.type="thumbnail",n})(Gn);function PK(a,n){var r=a.mainType==="series"?a.subType+"Roam":a.mainType+"Roam",o={type:r};return o[a.mainType+"Id"]=a.id,ee(o,n),o}function EK(a,n){var r=$f(a);yb(n.group,r.z,r.zlevel)}function vze(a){a.registerComponentModel(mze),a.registerComponentView(gze)}var yze={label:{enabled:!0},decal:{show:!1}},MK=Kt(),xze={};function _ze(a,n){var r=a.getModel("aria");if(!r.get("enabled"))return;var o=ne(yze);me(o.label,a.getLocaleModel().get("aria"),!1),me(r.option,o,!1),l(),c();function l(){var v=r.getModel("decal"),x=v.get("show");if(x){var O=Xe();a.eachSeries(function(w){if(!w.isColorBySeries()){var S=O.get(w.type);S||(S={},O.set(w.type,S)),MK(w).scope=S}}),a.eachRawSeries(function(w){if(a.isSeriesFiltered(w))return;if(Ge(w.enableAriaDecal)){w.enableAriaDecal();return}var S=w.getData();if(w.isColorBySeries()){var R=MM(w.ecModel,w.name,xze,a.getSeriesCount()),N=S.getVisual("decal");S.setVisual("decal",j(N,R))}else{var k=w.getRawData(),P={},E=MK(w).scope;S.each(function(W){var U=S.getRawIndex(W);P[U]=W});var M=k.count();k.each(function(W){var U=P[W],X=k.getName(W)||W+"",J=MM(w.ecModel,X,E,M),re=S.getItemVisual(U,"decal");S.setItemVisual(U,"decal",j(re,J))})}function j(W,U){var X=W?ee(ee({},U),W):U;return X.dirty=!0,X}})}}function c(){var v=n.getZr().dom;if(v){var x=a.getLocaleModel().get("aria"),O=r.getModel("label");if(O.option=be(O.option,x),!!O.get("enabled")){if(v.setAttribute("role","img"),O.get("description")){v.setAttribute("aria-label",O.get("description"));return}var w=a.getSeriesCount(),S=O.get(["data","maxCount"])||10,k=O.get(["series","maxCount"])||10,P=Math.min(w,k),E;if(!(w<1)){var M=p();if(M){var R=O.get(["general","withTitle"]);E=f(R,{title:M})}else E=O.get(["general","withoutTitle"]);var N=[],j=w>1?O.get(["series","multiple","prefix"]):O.get(["series","single","prefix"]);E+=f(j,{seriesCount:w}),a.eachSeries(function(J,re){if(re<P){var ie=void 0,le=J.get("name"),pe=le?"withName":"withoutName";ie=w>1?O.get(["series","multiple",pe]):O.get(["series","single",pe]),ie=f(ie,{seriesId:J.seriesIndex,seriesName:J.get("name"),seriesType:g(J.subType)});var ce=J.getData();if(ce.count()>S){var ye=O.get(["data","partialData"]);ie+=f(ye,{displayCnt:S})}else ie+=O.get(["data","allData"]);for(var Oe=O.get(["data","separator","middle"]),_e=O.get(["data","separator","end"]),Pe=O.get(["data","excludeDimensionId"]),Se=[],Re=0;Re<ce.count();Re++)if(Re<S){var Ne=ce.getName(Re),Be=Pe?Qe(ce.getValues(Re),function(rt,ht){return se(Pe,ht)===-1}):ce.getValues(Re),Fe=O.get(["data",Ne?"withName":"withoutName"]);Se.push(f(Fe,{name:Ne,value:Be.join(Oe)}))}ie+=Se.join(Oe)+_e,N.push(ie)}});var W=O.getModel(["series","multiple","separator"]),U=W.get("middle"),X=W.get("end");E+=N.join(U)+X,v.setAttribute("aria-label",E)}}}}function f(v,x){if(!De(v))return v;var O=v;return Z(x,function(w,S){O=O.replace(new RegExp("\\{\\s*"+S+"\\s*\\}","g"),w)}),O}function p(){var v=a.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function g(v){var x=a.getLocaleModel().get(["series","typeNames"]);return x[v]||x.chart}}function Oze(a){if(!(!a||!a.aria)){var n=a.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},Z(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function bze(a){a.registerPreprocessor(Oze),a.registerVisual(a.PRIORITY.VISUAL.ARIA,_ze)}var DK={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},wze=(function(){function a(n){var r=this._condVal=De(n)?new RegExp(n):je(n)?n:null;if(r==null){var o="";o=ga("Illegal regexp",n,"in"),Sn(o)}}return a.prototype.evaluate=function(n){var r=typeof n;return De(r)?this._condVal.test(n):dt(r)?this._condVal.test(n+""):!1},a})(),Sze=(function(){function a(){}return a.prototype.evaluate=function(){return this.value},a})(),Tze=(function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},a})(),Cze=(function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},a})(),kze=(function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a})(),Aze=(function(){function a(){}return a.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,o=r(this.valueGetterParam),l=n?this.valueParser(o):null,c=0;c<this.subCondList.length;c++)if(!this.subCondList[c].evaluate(n?l:o))return!1;return!0},a})();function rL(a,n){if(a===!0||a===!1){var r=new Sze;return r.value=a,r}var o="";return RK(a)||(o=ga("Illegal config. Expect a plain object but actually",a),Sn(o)),a.and?IK("and",a,n):a.or?IK("or",a,n):a.not?Pze(a,n):Eze(a,n)}function IK(a,n,r){var o=n[a],l="";l=ga('"and"/"or" condition should only be `'+a+": [...]` and must not be empty array.","Illegal condition:",n),ke(o)||Sn(l),o.length||Sn(l);var c=a==="and"?new Tze:new Cze;return c.children=ve(o,function(f){return rL(f,r)}),c.children.length||Sn(l),c}function Pze(a,n){var r=a.not,o="";o=ga('"not" condition should only be `not: {}`.',"Illegal condition:",a),RK(r)||Sn(o);var l=new kze;return l.child=rL(r,n),l.child||Sn(o),l}function Eze(a,n){for(var r="",o=n.prepareGetValue(a),l=[],c=He(a),f=a.parser,p=f?v6(f):null,g=0;g<c.length;g++){var v=c[g];if(!(v==="parser"||n.valueGetterAttrMap.get(v))){var x=Je(DK,v)?DK[v]:v,O=a[v],w=p?p(O):O,S=Xwe(x,w)||x==="reg"&&new wze(w);S||(r=ga('Illegal relational operation: "'+v+'" in condition:',a),Sn(r)),l.push(S)}}l.length||(r=ga("Relational condition must have at least one operator.","Illegal condition:",a),Sn(r));var k=new Aze;return k.valueGetterParam=o,k.valueParser=p,k.getValue=n.getValue,k.subCondList=l,k}function RK(a){return Ze(a)&&!Le(a)}var Mze=(function(){function a(n,r){this._cond=rL(n,r)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a})();function Dze(a,n){return new Mze(a,n)}var Ize={type:"echarts:filter",transform:function(a){for(var n=a.upstream,r,o=Dze(a.config,{valueGetterAttrMap:Xe({dimension:!0}),prepareGetValue:function(p){var g="",v=p.dimension;Je(p,"dimension")||(g=ga('Relation condition must has prop "dimension" specified.',"Illegal condition:",p),Sn(g));var x=n.getDimensionInfo(v);return x||(g=ga("Can not find dimension info via: "+v+`.
`,"Existing dimensions: ",n.cloneAllDimensionInfo(),`.
`,"Illegal condition:",p,`.
`),Sn(g)),{dimIdx:x.index}},getValue:function(p){return n.retrieveValueFromItem(r,p.dimIdx)}}),l=[],c=0,f=n.count();c<f;c++)r=n.getRawDataItem(c),o.evaluate()&&l.push(r);return{data:l}}},iL="";iL=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");var Rze={type:"echarts:sort",transform:function(a){var n=a.upstream,r=a.config,o="",l=Vn(r);l.length||(o="Empty `config` in sort transform.",Sn(o));var c=[];Z(l,function(x){var O=x.dimension,w=x.order,S=x.parser,k=x.incomparable;if(O==null&&(o='Sort transform config must has "dimension" specified.'+iL,Sn(o)),w!=="asc"&&w!=="desc"&&(o='Sort transform config must has "order" specified.'+iL,Sn(o)),k&&k!=="min"&&k!=="max"){var P="";P='incomparable must be "min" or "max" rather than "'+k+'".',Sn(P)}if(w!=="asc"&&w!=="desc"){var E="";E='order must be "asc" or "desc" rather than "'+w+'".',Sn(E)}var M=n.getDimensionInfo(O);M||(o=ga("Can not find dimension info via: "+O+`.
`,"Existing dimensions: ",n.cloneAllDimensionInfo(),`.
`,"Illegal config:",x,`.
`),Sn(o));var R=S?v6(S):null;S&&!R&&(o=ga("Invalid parser name "+S+`.
`,"Illegal config:",x,`.
`),Sn(o)),c.push({dimIdx:M.index,parser:R,comparator:new x6(w,k)})});var f=n.sourceFormat;f!==Di&&f!==bo&&(o='sourceFormat "'+f+'" is not supported yet',Sn(o));for(var p=[],g=0,v=n.count();g<v;g++)p.push(n.getRawDataItem(g));return p.sort(function(x,O){for(var w=0;w<c.length;w++){var S=c[w],k=n.retrieveValueFromItem(x,S.dimIdx),P=n.retrieveValueFromItem(O,S.dimIdx);S.parser&&(k=S.parser(k),P=S.parser(P));var E=S.comparator.evaluate(k,P);if(E!==0)return E}return 0}),{data:p}}};function Lze(a){a.registerTransform(Ize),a.registerTransform(Rze)}var Nze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,o,l){a.prototype.init.call(this,r,o,l),this._sourceManager=new T6(this),C6(this)},n.prototype.mergeOption=function(r,o){a.prototype.mergeOption.call(this,r,o),C6(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:Is},n})(Ht),$ze=(function(a){u(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n})(Gn);function zze(a){a.registerComponentModel(Nze),a.registerComponentView($ze)}var Nl=xl.CMD;function ug(a,n){return Math.abs(a-n)<1e-5}function aL(a){var n=a.data,r=a.len(),o=[],l,c=0,f=0,p=0,g=0;function v(ce,ye){l&&l.length>2&&o.push(l),l=[ce,ye]}function x(ce,ye,Oe,_e){ug(ce,Oe)&&ug(ye,_e)||l.push(ce,ye,Oe,_e,Oe,_e)}function O(ce,ye,Oe,_e,Pe,Se){var Re=Math.abs(ye-ce),Ne=Math.tan(Re/4)*4/3,Be=ye<ce?-1:1,Fe=Math.cos(ce),rt=Math.sin(ce),ht=Math.cos(ye),Mt=Math.sin(ye),vn=Fe*Pe+Oe,Rn=rt*Se+_e,Dt=ht*Pe+Oe,Ot=Mt*Se+_e,Ft=Pe*Ne*Be,pt=Se*Ne*Be;l.push(vn-Ft*rt,Rn+pt*Fe,Dt+Ft*Mt,Ot-pt*ht,Dt,Ot)}for(var w,S,k,P,E=0;E<r;){var M=n[E++],R=E===1;switch(R&&(c=n[E],f=n[E+1],p=c,g=f,(M===Nl.L||M===Nl.C||M===Nl.Q)&&(l=[p,g])),M){case Nl.M:c=p=n[E++],f=g=n[E++],v(p,g);break;case Nl.L:w=n[E++],S=n[E++],x(c,f,w,S),c=w,f=S;break;case Nl.C:l.push(n[E++],n[E++],n[E++],n[E++],c=n[E++],f=n[E++]);break;case Nl.Q:w=n[E++],S=n[E++],k=n[E++],P=n[E++],l.push(c+2/3*(w-c),f+2/3*(S-f),k+2/3*(w-k),P+2/3*(S-P),k,P),c=k,f=P;break;case Nl.A:var N=n[E++],j=n[E++],W=n[E++],U=n[E++],X=n[E++],J=n[E++]+X;E+=1;var re=!n[E++];w=Math.cos(X)*W+N,S=Math.sin(X)*U+j,R?(p=w,g=S,v(p,g)):x(c,f,w,S),c=Math.cos(J)*W+N,f=Math.sin(J)*U+j;for(var ie=(re?-1:1)*Math.PI/2,le=X;re?le>J:le<J;le+=ie){var pe=re?Math.max(le+ie,J):Math.min(le+ie,J);O(le,pe,N,j,W,U)}break;case Nl.R:p=c=n[E++],g=f=n[E++],w=p+n[E++],S=g+n[E++],v(w,g),x(w,g,w,S),x(w,S,p,S),x(p,S,p,g),x(p,g,w,g);break;case Nl.Z:l&&x(c,f,p,g),c=p,f=g;break}}return l&&l.length>2&&o.push(l),o}function oL(a,n,r,o,l,c,f,p,g,v){if(ug(a,r)&&ug(n,o)&&ug(l,f)&&ug(c,p)){g.push(f,p);return}var x=2/v,O=x*x,w=f-a,S=p-n,k=Math.sqrt(w*w+S*S);w/=k,S/=k;var P=r-a,E=o-n,M=l-f,R=c-p,N=P*P+E*E,j=M*M+R*R;if(N<O&&j<O){g.push(f,p);return}var W=w*P+S*E,U=-w*M-S*R,X=N-W*W,J=j-U*U;if(X<O&&W>=0&&J<O&&U>=0){g.push(f,p);return}var re=[],ie=[];Mc(a,r,l,f,.5,re),Mc(n,o,c,p,.5,ie),oL(re[0],ie[0],re[1],ie[1],re[2],ie[2],re[3],ie[3],g,v),oL(re[4],ie[4],re[5],ie[5],re[6],ie[6],re[7],ie[7],g,v)}function Bze(a,n){var r=aL(a),o=[];n=n||1;for(var l=0;l<r.length;l++){var c=r[l],f=[],p=c[0],g=c[1];f.push(p,g);for(var v=2;v<c.length;){var x=c[v++],O=c[v++],w=c[v++],S=c[v++],k=c[v++],P=c[v++];oL(p,g,x,O,w,S,k,P,f,n),p=k,g=P}o.push(f)}return o}function LK(a,n,r){var o=a[n],l=a[1-n],c=Math.abs(o/l),f=Math.ceil(Math.sqrt(c*r)),p=Math.floor(r/f);p===0&&(p=1,f=r);for(var g=[],v=0;v<f;v++)g.push(p);var x=f*p,O=r-x;if(O>0)for(var v=0;v<O;v++)g[v%f]+=1;return g}function NK(a,n,r){for(var o=a.r0,l=a.r,c=a.startAngle,f=a.endAngle,p=Math.abs(f-c),g=p*l,v=l-o,x=g>Math.abs(v),O=LK([g,v],x?0:1,n),w=(x?p:v)/O.length,S=0;S<O.length;S++)for(var k=(x?v:p)/O[S],P=0;P<O[S];P++){var E={};x?(E.startAngle=c+w*S,E.endAngle=c+w*(S+1),E.r0=o+k*P,E.r=o+k*(P+1)):(E.startAngle=c+k*P,E.endAngle=c+k*(P+1),E.r0=o+w*S,E.r=o+w*(S+1)),E.clockwise=a.clockwise,E.cx=a.cx,E.cy=a.cy,r.push(E)}}function Qze(a,n,r){for(var o=a.width,l=a.height,c=o>l,f=LK([o,l],c?0:1,n),p=c?"width":"height",g=c?"height":"width",v=c?"x":"y",x=c?"y":"x",O=a[p]/f.length,w=0;w<f.length;w++)for(var S=a[g]/f[w],k=0;k<f[w];k++){var P={};P[v]=w*O,P[x]=k*S,P[p]=O,P[g]=S,P.x+=a.x,P.y+=a.y,r.push(P)}}function $K(a,n,r,o){return a*o-r*n}function jze(a,n,r,o,l,c,f,p){var g=r-a,v=o-n,x=f-l,O=p-c,w=$K(x,O,g,v);if(Math.abs(w)<1e-6)return null;var S=a-l,k=n-c,P=$K(S,k,x,O)/w;return P<0||P>1?null:new bt(P*g+a,P*v+n)}function Vze(a,n,r){var o=new bt;bt.sub(o,r,n),o.normalize();var l=new bt;bt.sub(l,a,n);var c=l.dot(o);return c}function cg(a,n){var r=a[a.length-1];r&&r[0]===n[0]&&r[1]===n[1]||a.push(n)}function Fze(a,n,r){for(var o=a.length,l=[],c=0;c<o;c++){var f=a[c],p=a[(c+1)%o],g=jze(f[0],f[1],p[0],p[1],n.x,n.y,r.x,r.y);g&&l.push({projPt:Vze(g,n,r),pt:g,idx:c})}if(l.length<2)return[{points:a},{points:a}];l.sort(function(E,M){return E.projPt-M.projPt});var v=l[0],x=l[l.length-1];if(x.idx<v.idx){var O=v;v=x,x=O}for(var w=[v.pt.x,v.pt.y],S=[x.pt.x,x.pt.y],k=[w],P=[S],c=v.idx+1;c<=x.idx;c++)cg(k,a[c].slice());cg(k,S),cg(k,w);for(var c=x.idx+1;c<=v.idx+o;c++)cg(P,a[c%o].slice());return cg(P,w),cg(P,S),[{points:k},{points:P}]}function zK(a){var n=a.points,r=[],o=[];JO(n,r,o);var l=new wt(r[0],r[1],o[0]-r[0],o[1]-r[1]),c=l.width,f=l.height,p=l.x,g=l.y,v=new bt,x=new bt;return c>f?(v.x=x.x=p+c/2,v.y=g,x.y=g+f):(v.y=x.y=g+f/2,v.x=p,x.x=p+c),Fze(n,v,x)}function $w(a,n,r,o){if(r===1)o.push(n);else{var l=Math.floor(r/2),c=a(n);$w(a,c[0],l,o),$w(a,c[1],r-l,o)}return o}function Gze(a,n){for(var r=[],o=0;o<n;o++)r.push(jE(a));return r}function Wze(a,n){n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel}function Uze(a){for(var n=[],r=0;r<a.length;)n.push([a[r++],a[r++]]);return n}function qze(a,n){var r=[],o=a.shape,l;switch(a.type){case"rect":Qze(o,n,r),l=Zt;break;case"sector":NK(o,n,r),l=Vi;break;case"circle":NK({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},n,r),l=Vi;break;default:var c=a.getComputedTransform(),f=c?Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1],c[2]*c[2]+c[3]*c[3])):1,p=ve(Bze(a.getUpdatedPathProxy(),f),function(M){return Uze(M)}),g=p.length;if(g===0)$w(zK,{points:p[0]},n,r);else if(g===n)for(var v=0;v<g;v++)r.push({points:p[v]});else{var x=0,O=ve(p,function(M){var R=[],N=[];JO(M,R,N);var j=(N[1]-R[1])*(N[0]-R[0]);return x+=j,{poly:M,area:j}});O.sort(function(M,R){return R.area-M.area});for(var w=n,v=0;v<g;v++){var S=O[v];if(w<=0)break;var k=v===g-1?w:Math.ceil(S.area/x*n);k<0||($w(zK,{points:S.poly},k,r),w-=k)}}l=Fi;break}if(!l)return Gze(a,n);for(var P=[],v=0;v<r.length;v++){var E=new l;E.setShape(r[v]),Wze(a,E),P.push(E)}return P}function Zze(a,n){var r=a.length,o=n.length;if(r===o)return[a,n];for(var l=[],c=[],f=r<o?a:n,p=Math.min(r,o),g=Math.abs(o-r)/6,v=(p-2)/6,x=Math.ceil(g/v)+1,O=[f[0],f[1]],w=g,S=2;S<p;){var k=f[S-2],P=f[S-1],E=f[S++],M=f[S++],R=f[S++],N=f[S++],j=f[S++],W=f[S++];if(w<=0){O.push(E,M,R,N,j,W);continue}for(var U=Math.min(w,x-1)+1,X=1;X<=U;X++){var J=X/U;Mc(k,E,R,j,J,l),Mc(P,M,N,W,J,c),k=l[3],P=c[3],O.push(l[1],c[1],l[2],c[2],k,P),E=l[5],M=c[5],R=l[6],N=c[6]}w-=U-1}return f===a?[O,n]:[a,O]}function BK(a,n){for(var r=a.length,o=a[r-2],l=a[r-1],c=[],f=0;f<n.length;)c[f++]=o,c[f++]=l;return c}function Hze(a,n){for(var r,o,l,c=[],f=[],p=0;p<Math.max(a.length,n.length);p++){var g=a[p],v=n[p],x=void 0,O=void 0;g?v?(r=Zze(g,v),x=r[0],O=r[1],o=x,l=O):(O=BK(l||g,g),x=g):(x=BK(o||v,v),O=v),c.push(x),f.push(O)}return[c,f]}function QK(a){for(var n=0,r=0,o=0,l=a.length,c=0,f=l-2;c<l;f=c,c+=2){var p=a[f],g=a[f+1],v=a[c],x=a[c+1],O=p*x-v*g;n+=O,r+=(p+v)*O,o+=(g+x)*O}return n===0?[a[0]||0,a[1]||0]:[r/n/3,o/n/3,n]}function Xze(a,n,r,o){for(var l=(a.length-2)/6,c=1/0,f=0,p=a.length,g=p-2,v=0;v<l;v++){for(var x=v*6,O=0,w=0;w<p;w+=2){var S=w===0?x:(x+w-2)%g+2,k=a[S]-r[0],P=a[S+1]-r[1],E=n[w]-o[0],M=n[w+1]-o[1],R=E-k,N=M-P;O+=R*R+N*N}O<c&&(c=O,f=v)}return f}function Yze(a){for(var n=[],r=a.length,o=0;o<r;o+=2)n[o]=a[r-o-2],n[o+1]=a[r-o-1];return n}function Kze(a,n,r,o){for(var l=[],c,f=0;f<a.length;f++){var p=a[f],g=n[f],v=QK(p),x=QK(g);c==null&&(c=v[2]<0!=x[2]<0);var O=[],w=[],S=0,k=1/0,P=[],E=p.length;c&&(p=Yze(p));for(var M=Xze(p,g,v,x)*6,R=E-2,N=0;N<R;N+=2){var j=(M+N)%R+2;O[N+2]=p[j]-v[0],O[N+3]=p[j+1]-v[1]}O[0]=p[M]-v[0],O[1]=p[M+1]-v[1];for(var W=o/r,U=-o/2;U<=o/2;U+=W){for(var X=Math.sin(U),J=Math.cos(U),re=0,N=0;N<p.length;N+=2){var ie=O[N],le=O[N+1],pe=g[N]-x[0],ce=g[N+1]-x[1],ye=pe*J-ce*X,Oe=pe*X+ce*J;P[N]=ye,P[N+1]=Oe;var _e=ye-ie,Pe=Oe-le;re+=_e*_e+Pe*Pe}if(re<k){k=re,S=U;for(var Se=0;Se<P.length;Se++)w[Se]=P[Se]}}l.push({from:O,to:w,fromCp:v,toCp:x,rotation:-S})}return l}function zw(a){return a.__isCombineMorphing}var jK="__mOriginal_";function Bw(a,n,r){var o=jK+n,l=a[o]||a[n];a[o]||(a[o]=a[n]);var c=r.replace,f=r.after,p=r.before;a[n]=function(){var g=arguments,v;return p&&p.apply(this,g),c?v=c.apply(this,g):v=l.apply(this,g),f&&f.apply(this,g),v}}function Zy(a,n){var r=jK+n;a[r]&&(a[n]=a[r],a[r]=null)}function VK(a,n){for(var r=0;r<a.length;r++)for(var o=a[r],l=0;l<o.length;){var c=o[l],f=o[l+1];o[l++]=n[0]*c+n[2]*f+n[4],o[l++]=n[1]*c+n[3]*f+n[5]}}function FK(a,n){var r=a.getUpdatedPathProxy(),o=n.getUpdatedPathProxy(),l=Hze(aL(r),aL(o)),c=l[0],f=l[1],p=a.getComputedTransform(),g=n.getComputedTransform();function v(){this.transform=null}p&&VK(c,p),g&&VK(f,g),Bw(n,"updateTransform",{replace:v}),n.transform=null;var x=Kze(c,f,10,Math.PI),O=[];Bw(n,"buildPath",{replace:function(w){for(var S=n.__morphT,k=1-S,P=[],E=0;E<x.length;E++){var M=x[E],R=M.from,N=M.to,j=M.rotation*S,W=M.fromCp,U=M.toCp,X=Math.sin(j),J=Math.cos(j);xu(P,W,U,S);for(var re=0;re<R.length;re+=2){var ie=R[re],le=R[re+1],pe=N[re],ce=N[re+1],ye=ie*k+pe*S,Oe=le*k+ce*S;O[re]=ye*J-Oe*X+P[0],O[re+1]=ye*X+Oe*J+P[1]}var _e=O[0],Pe=O[1];w.moveTo(_e,Pe);for(var re=2;re<R.length;){var pe=O[re++],ce=O[re++],Se=O[re++],Re=O[re++],Ne=O[re++],Be=O[re++];_e===pe&&Pe===ce&&Se===Ne&&Re===Be?w.lineTo(Ne,Be):w.bezierCurveTo(pe,ce,Se,Re,Ne,Be),_e=Ne,Pe=Be}}}})}function sL(a,n,r){if(!a||!n)return n;var o=r.done,l=r.during;FK(a,n),n.__morphT=0;function c(){Zy(n,"buildPath"),Zy(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},be({during:function(f){n.dirtyShape(),l&&l(f)},done:function(){c(),o&&o()}},r)),n}function Jze(a,n,r,o,l,c){var f=16;a=l===r?0:Math.round(32767*(a-r)/(l-r)),n=c===o?0:Math.round(32767*(n-o)/(c-o));for(var p=0,g,v=(1<<f)/2;v>0;v/=2){var x=0,O=0;(a&v)>0&&(x=1),(n&v)>0&&(O=1),p+=v*v*(3*x^O),O===0&&(x===1&&(a=v-1-a,n=v-1-n),g=a,a=n,n=g)}return p}function Qw(a){var n=1/0,r=1/0,o=-1/0,l=-1/0,c=ve(a,function(p){var g=p.getBoundingRect(),v=p.getComputedTransform(),x=g.x+g.width/2+(v?v[4]:0),O=g.y+g.height/2+(v?v[5]:0);return n=Math.min(x,n),r=Math.min(O,r),o=Math.max(x,o),l=Math.max(O,l),[x,O]}),f=ve(c,function(p,g){return{cp:p,z:Jze(p[0],p[1],n,r,o,l),path:a[g]}});return f.sort(function(p,g){return p.z-g.z}).map(function(p){return p.path})}function GK(a){return qze(a.path,a.count)}function lL(){return{fromIndividuals:[],toIndividuals:[],count:0}}function eBe(a,n,r){var o=[];function l(W){for(var U=0;U<W.length;U++){var X=W[U];zw(X)?l(X.childrenRef()):X instanceof Jt&&o.push(X)}}l(a);var c=o.length;if(!c)return lL();var f=r.dividePath||GK,p=f({path:n,count:c});if(p.length!==c)return console.error("Invalid morphing: unmatched splitted path"),lL();o=Qw(o),p=Qw(p);for(var g=r.done,v=r.during,x=r.individualDelay,O=new Cu,w=0;w<c;w++){var S=o[w],k=p[w];k.parent=n,k.copyTransform(O),x||FK(S,k)}n.__isCombineMorphing=!0,n.childrenRef=function(){return p};function P(W){for(var U=0;U<p.length;U++)p[U].addSelfToZr(W)}Bw(n,"addSelfToZr",{after:function(W){P(W)}}),Bw(n,"removeSelfFromZr",{after:function(W){for(var U=0;U<p.length;U++)p[U].removeSelfFromZr(W)}});function E(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,Zy(n,"addSelfToZr"),Zy(n,"removeSelfFromZr")}var M=p.length;if(x)for(var R=M,N=function(){R--,R===0&&(E(),g&&g())},w=0;w<M;w++){var j=x?be({delay:(r.delay||0)+x(w,M,o[w],p[w]),done:N},r):r;sL(o[w],p[w],j)}else n.__morphT=0,n.animateTo({__morphT:1},be({during:function(W){for(var U=0;U<M;U++){var X=p[U];X.__morphT=n.__morphT,X.dirtyShape()}v&&v(W)},done:function(){E();for(var W=0;W<a.length;W++)Zy(a[W],"updateTransform");g&&g()}},r));return n.__zr&&P(n.__zr),{fromIndividuals:o,toIndividuals:p,count:M}}function tBe(a,n,r){var o=n.length,l=[],c=r.dividePath||GK;function f(S){for(var k=0;k<S.length;k++){var P=S[k];zw(P)?f(P.childrenRef()):P instanceof Jt&&l.push(P)}}if(zw(a)){f(a.childrenRef());var p=l.length;if(p<o)for(var g=0,v=p;v<o;v++)l.push(jE(l[g++%p]));l.length=o}else{l=c({path:a,count:o});for(var x=a.getComputedTransform(),v=0;v<l.length;v++)l[v].setLocalTransform(x);if(l.length!==o)return console.error("Invalid morphing: unmatched splitted path"),lL()}l=Qw(l),n=Qw(n);for(var O=r.individualDelay,v=0;v<o;v++){var w=O?be({delay:(r.delay||0)+O(v,o,l[v],n[v])},r):r;sL(l[v],n[v],w)}return{fromIndividuals:l,toIndividuals:n,count:n.length}}function WK(a){return ke(a[0])}function UK(a,n){for(var r=[],o=a.length,l=0;l<o;l++)r.push({one:a[l],many:[]});for(var l=0;l<n.length;l++){var c=n[l].length,f=void 0;for(f=0;f<c;f++)r[f%o].many.push(n[l][f])}for(var p=0,l=o-1;l>=0;l--)if(!r[l].many.length){var g=r[p].many;if(g.length<=1)if(p)p=0;else return r;var c=g.length,v=Math.ceil(c/2);r[l].many=g.slice(v,c),r[p].many=g.slice(0,v),p++}return r}var nBe={clone:function(a){for(var n=[],r=1-Math.pow(1-a.path.style.opacity,1/a.count),o=0;o<a.count;o++){var l=jE(a.path);l.setStyle("opacity",r),n.push(l)}return n},split:null};function uL(a,n,r,o,l,c){if(!a.length||!n.length)return;var f=um("update",o,l);if(!(f&&f.duration>0))return;var p=o.getModel("universalTransition").get("delay"),g=Object.assign({setToFinal:!0},f),v,x;WK(a)&&(v=a,x=n),WK(n)&&(v=n,x=a);function O(M,R,N,j,W){var U=M.many,X=M.one;if(U.length===1&&!W){var J=R?U[0]:X,re=R?X:U[0];if(zw(J))O({many:[J],one:re},!0,N,j,!0);else{var ie=p?be({delay:p(N,j)},g):g;sL(J,re,ie),c(J,re,J,re,ie)}}else for(var le=be({dividePath:nBe[r],individualDelay:p&&function(Pe,Se,Re,Ne){return p(Pe+N,j)}},g),pe=R?eBe(U,X,le):tBe(X,U,le),ce=pe.fromIndividuals,ye=pe.toIndividuals,Oe=ce.length,_e=0;_e<Oe;_e++){var ie=p?be({delay:p(_e,Oe)},g):g;c(ce[_e],ye[_e],R?U[_e]:M.one,R?M.one:U[_e],ie)}}for(var w=v?v===a:a.length>n.length,S=v?UK(x,v):UK(w?n:a,[w?a:n]),k=0,P=0;P<S.length;P++)k+=S[P].many.length;for(var E=0,P=0;P<S.length;P++)O(S[P],w,E,k),E+=S[P].many.length}function wh(a){if(!a)return[];if(ke(a)){for(var n=[],r=0;r<a.length;r++)n.push(wh(a[r]));return n}var o=[];return a.traverse(function(l){l instanceof Jt&&!l.disableMorphing&&!l.invisible&&!l.ignore&&o.push(l)}),o}var qK=1e4,rBe=0,ZK=1,HK=2,iBe=Kt();function aBe(a,n){for(var r=a.dimensions,o=0;o<r.length;o++){var l=a.getDimensionInfo(r[o]);if(l&&l.otherDims[n]===0)return r[o]}}function oBe(a,n,r){var o=a.getDimensionInfo(r),l=o&&o.ordinalMeta;if(o){var c=a.get(o.name,n);return l&&l.categories[c]||c+""}}function XK(a,n,r,o){var l=o?"itemChildGroupId":"itemGroupId",c=aBe(a,l);if(c){var f=oBe(a,n,c);return f}var p=a.getRawDataItem(n),g=o?"childGroupId":"groupId";if(p&&p[g])return p[g]+"";if(!o)return r||a.getId(n)}function YK(a){var n=[];return Z(a,function(r){var o=r.data,l=r.dataGroupId;if(o.count()>qK){fr("Universal transition is disabled on large data > 10k.");return}for(var c=o.getIndices(),f=0;f<c.length;f++)n.push({data:o,groupId:XK(o,f,l,!1),childGroupId:XK(o,f,l,!0),divide:r.divide,dataIndex:f})}),n}function cL(a,n,r){a.traverse(function(o){o instanceof Jt&&Jn(o,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function dL(a){if(a.parent){var n=a.getComputedTransform();a.setLocalTransform(n),a.parent.remove(a)}}function dg(a){a.stopAnimation(),a.isGroup&&a.traverse(function(n){n.stopAnimation()})}function sBe(a,n,r){var o=um("update",r,n);o&&a.traverse(function(l){if(l instanceof jo){var c=O2e(l);c&&l.animateFrom({style:c},o)}})}function lBe(a,n){var r=a.length;if(r!==n.length)return!1;for(var o=0;o<r;o++){var l=a[o],c=n[o];if(l.data.getId(l.dataIndex)!==c.data.getId(c.dataIndex))return!1}return!0}function KK(a,n,r){var o=YK(a),l=YK(n);function c(N,j,W,U,X){(W||N)&&j.animateFrom({style:W&&W!==N?ee(ee({},W.style),N.style):N.style},X)}var f=!1,p=rBe,g=Xe(),v=Xe();o.forEach(function(N){N.groupId&&g.set(N.groupId,!0),N.childGroupId&&v.set(N.childGroupId,!0)});for(var x=0;x<l.length;x++){var O=l[x].groupId;if(v.get(O)){p=ZK;break}var w=l[x].childGroupId;if(w&&g.get(w)){p=HK;break}}function S(N,j){return function(W){var U=W.data,X=W.dataIndex;return j?U.getId(X):N?p===ZK?W.childGroupId:W.groupId:p===HK?W.childGroupId:W.groupId}}var k=lBe(o,l),P={};if(!k)for(var x=0;x<l.length;x++){var E=l[x],M=E.data.getItemGraphicEl(E.dataIndex);M&&(P[M.id]=!0)}function R(N,j){var W=o[j],U=l[N],X=U.data.hostModel,J=W.data.getItemGraphicEl(W.dataIndex),re=U.data.getItemGraphicEl(U.dataIndex);if(J===re){re&&sBe(re,U.dataIndex,X);return}J&&P[J.id]||re&&(dg(re),J?(dg(J),dL(J),f=!0,uL(wh(J),wh(re),U.divide,X,N,c)):cL(re,X,N))}new $u(o,l,S(!0,k),S(!1,k),null,"multiple").update(R).updateManyToOne(function(N,j){var W=l[N],U=W.data,X=U.hostModel,J=U.getItemGraphicEl(W.dataIndex),re=Qe(ve(j,function(ie){return o[ie].data.getItemGraphicEl(o[ie].dataIndex)}),function(ie){return ie&&ie!==J&&!P[ie.id]});J&&(dg(J),re.length?(Z(re,function(ie){dg(ie),dL(ie)}),f=!0,uL(wh(re),wh(J),W.divide,X,N,c)):cL(J,X,W.dataIndex))}).updateOneToMany(function(N,j){var W=o[j],U=W.data.getItemGraphicEl(W.dataIndex);if(!(U&&P[U.id])){var X=Qe(ve(N,function(re){return l[re].data.getItemGraphicEl(l[re].dataIndex)}),function(re){return re&&re!==U}),J=l[N[0]].data.hostModel;X.length&&(Z(X,function(re){return dg(re)}),U?(dg(U),dL(U),f=!0,uL(wh(U),wh(X),W.divide,J,N[0],c)):Z(X,function(re){return cL(re,J,N[0])}))}}).updateManyToMany(function(N,j){new $u(j,N,function(W){return o[W].data.getId(o[W].dataIndex)},function(W){return l[W].data.getId(l[W].dataIndex)}).update(function(W,U){R(N[W],j[U])}).execute()}).execute(),f&&Z(n,function(N){var j=N.data,W=j.hostModel,U=W&&r.getViewOfSeriesModel(W),X=um("update",W,0);U&&W.isAnimationEnabled()&&X&&X.duration>0&&U.group.traverse(function(J){J instanceof Jt&&!J.animators.length&&J.animateFrom({style:{opacity:0}},X)})})}function JK(a){var n=a.getModel("universalTransition").get("seriesKey");return n||a.id}function eJ(a){return ke(a)?a.sort().join(","):a}function ud(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function uBe(a,n){var r=Xe(),o=Xe(),l=Xe();Z(a.oldSeries,function(f,p){var g=a.oldDataGroupIds[p],v=a.oldData[p],x=JK(f),O=eJ(x);o.set(O,{dataGroupId:g,data:v}),ke(x)&&Z(x,function(w){l.set(w,{key:O,dataGroupId:g,data:v})})});function c(f){r.get(f)&&fr("Duplicated seriesKey in universalTransition "+f)}return Z(n.updatedSeries,function(f){if(f.isUniversalTransitionEnabled()&&f.isAnimationEnabled()){var p=f.get("dataGroupId"),g=f.getData(),v=JK(f),x=eJ(v),O=o.get(x);if(O)c(x),r.set(x,{oldSeries:[{dataGroupId:O.dataGroupId,divide:ud(O.data),data:O.data}],newSeries:[{dataGroupId:p,divide:ud(g),data:g}]});else if(ke(v)){c(x);var w=[];Z(v,function(P){var E=o.get(P);E.data&&w.push({dataGroupId:E.dataGroupId,divide:ud(E.data),data:E.data})}),w.length&&r.set(x,{oldSeries:w,newSeries:[{dataGroupId:p,data:g,divide:ud(g)}]})}else{var S=l.get(v);if(S){var k=r.get(S.key);k||(k={oldSeries:[{dataGroupId:S.dataGroupId,data:S.data,divide:ud(S.data)}],newSeries:[]},r.set(S.key,k)),k.newSeries.push({dataGroupId:p,data:g,divide:ud(g)})}}}}),r}function tJ(a,n){for(var r=0;r<a.length;r++){var o=n.seriesIndex!=null&&n.seriesIndex===a[r].seriesIndex||n.seriesId!=null&&n.seriesId===a[r].id;if(o)return r}}function cBe(a,n,r,o){var l=[],c=[];Z(Vn(a.from),function(f){var p=tJ(n.oldSeries,f);p>=0&&l.push({dataGroupId:n.oldDataGroupIds[p],data:n.oldData[p],divide:ud(n.oldData[p]),groupIdDim:f.dimension})}),Z(Vn(a.to),function(f){var p=tJ(r.updatedSeries,f);if(p>=0){var g=r.updatedSeries[p].getData();c.push({dataGroupId:n.oldDataGroupIds[p],data:g,divide:ud(g),groupIdDim:f.dimension})}}),l.length>0&&c.length>0&&KK(l,c,o)}function dBe(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,r,o){Z(Vn(o.seriesTransition),function(l){Z(Vn(l.to),function(c){for(var f=o.updatedSeries,p=0;p<f.length;p++)(c.seriesIndex!=null&&c.seriesIndex===f[p].seriesIndex||c.seriesId!=null&&c.seriesId===f[p].id)&&(f[p][zb]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(n,r,o){var l=iBe(r);if(l.oldSeries&&o.updatedSeries&&o.optionChanged){var c=o.seriesTransition;if(c)Z(Vn(c),function(S){cBe(S,l,o,r)});else{var f=uBe(l,o);Z(f.keys(),function(S){var k=f.get(S);KK(k.oldSeries,k.newSeries,r)})}Z(o.updatedSeries,function(S){S[zb]&&(S[zb]=!1)})}for(var p=n.getSeries(),g=l.oldSeries=[],v=l.oldDataGroupIds=[],x=l.oldData=[],O=0;O<p.length;O++){var w=p[O].getData();w.count()<qK&&(g.push(p[O]),v.push(p[O].get("dataGroupId")),x.push(w))}})}var fBe=(function(){function a(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return a.prototype.setBreaks=function(n){this.breaks=n.breaks},a.prototype.update=function(n){pBe(this,n);var r=this._elapsedExtent;r[0]=this.elapse(n[0]),r[1]=this.elapse(n[1])},a.prototype.hasBreaks=function(){return!!this.breaks.length},a.prototype.calcNiceTickMultiple=function(n,r){for(var o=0;o<this.breaks.length;o++){var l=this.breaks[o];if(l.vmin<n&&n<l.vmax){var c=r(n,l.vmax);return Ke(c>=0&&Math.round(c)===c),c}}return 0},a.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},a.prototype.normalize=function(n){var r=this._elapsedExtent[1]-this._elapsedExtent[0];return r===0?.5:(this.elapse(n)-this._elapsedExtent[0])/r},a.prototype.scale=function(n){return this.unelapse(n*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},a.prototype.elapse=function(n){for(var r=nJ,o=rJ,l=!0,c=0;c<this.breaks.length;c++){var f=this.breaks[c];if(n<=f.vmax){n>f.vmin?r+=f.vmin-o+(n-f.vmin)/(f.vmax-f.vmin)*f.gapReal:r+=n-o,o=f.vmax,l=!1;break}r+=f.vmin-o+f.gapReal,o=f.vmax}return l&&(r+=n-o),r},a.prototype.unelapse=function(n){for(var r=nJ,o=rJ,l=!0,c=0,f=0;f<this.breaks.length;f++){var p=this.breaks[f],g=r+p.vmin-o,v=g+p.gapReal;if(n<=v){n>g?c=p.vmin+(n-g)/(v-g)*(p.vmax-p.vmin):c=o+n-r,o=p.vmax,l=!1;break}r=v,o=p.vmax}return l&&(c=o+n-r),c},a})();function hBe(){return new fBe}var nJ=0,rJ=0;function pBe(a,n){var r=0,o={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},l=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},c={S:{tpAbs:l(),tpPrct:l()},E:{tpAbs:l(),tpPrct:l()}};Z(a.breaks,function(p){var g=p.gapParsed;g.type==="tpPrct"&&(r+=g.val);var v=fL(p,n);if(v){var x=v.vmin!==p.vmin,O=v.vmax!==p.vmax,w=v.vmax-v.vmin;if(!(x&&O))if(x||O){var S=x?"S":"E";c[S][g.type].has=!0,c[S][g.type].span=w,c[S][g.type].inExtFrac=w/(p.vmax-p.vmin),c[S][g.type].val=g.val}else o[g.type].span+=w,o[g.type].val+=g.val}});var f=r*(0+(n[1]-n[0])+(o.tpAbs.val-o.tpAbs.span)+(c.S.tpAbs.has?(c.S.tpAbs.val-c.S.tpAbs.span)*c.S.tpAbs.inExtFrac:0)+(c.E.tpAbs.has?(c.E.tpAbs.val-c.E.tpAbs.span)*c.E.tpAbs.inExtFrac:0)-o.tpPrct.span-(c.S.tpPrct.has?c.S.tpPrct.span*c.S.tpPrct.inExtFrac:0)-(c.E.tpPrct.has?c.E.tpPrct.span*c.E.tpPrct.inExtFrac:0))/(1-o.tpPrct.val-(c.S.tpPrct.has?c.S.tpPrct.val*c.S.tpPrct.inExtFrac:0)-(c.E.tpPrct.has?c.E.tpPrct.val*c.E.tpPrct.inExtFrac:0));Z(a.breaks,function(p){var g=p.gapParsed;g.type==="tpPrct"&&(p.gapReal=r!==0?Math.max(f,0)*g.val/r:0),g.type==="tpAbs"&&(p.gapReal=g.val),p.gapReal==null&&(p.gapReal=0)})}function mBe(a,n,r,o,l,c){a!=="no"&&Z(r,function(f){var p=fL(f,c);if(p)for(var g=n.length-1;g>=0;g--){var v=n[g],x=o(v),O=l*3/4;x>p.vmin-O&&x<p.vmax+O&&(a!=="preserve_extent_bound"||x!==c[0]&&x!==c[1])&&n.splice(g,1)}})}function gBe(a,n,r,o){Z(n,function(l){var c=fL(l,r);c&&(a.push({value:c.vmin,break:{type:"vmin",parsedBreak:c},time:o?o(c):void 0}),a.push({value:c.vmax,break:{type:"vmax",parsedBreak:c},time:o?o(c):void 0}))}),n.length&&a.sort(function(l,c){return l.value-c.value})}function fL(a,n){var r=Math.max(a.vmin,n[0]),o=Math.min(a.vmax,n[1]);return r<o||r===o&&r>n[0]&&r<n[1]?{vmin:r,vmax:o,breakOption:a.breakOption,gapParsed:a.gapParsed,gapReal:a.gapReal}:null}function hL(a,n,r){var o=[];if(!a)return{breaks:o};function l(f,p){return f>=0&&f<1-1e-5?!0:(cn(p+" must be >= 0 and < 1, rather than "+f+" ."),!1)}Z(a,function(f){if(!f||f.start==null||f.end==null){cn("The input axis breaks start/end should not be empty.");return}if(!f.isExpanded){var p={breakOption:ne(f),vmin:n(f.start),vmax:n(f.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(f.gap!=null){var g=!1;if(De(f.gap)){var v=An(f.gap);if(v.match(/%$/)){var x=parseFloat(v)/100;l(x,"Percent gap")||(x=0),p.gapParsed.type="tpPrct",p.gapParsed.val=x,g=!0}}if(!g){var O=n(f.gap);(!isFinite(O)||O<0)&&(cn("Axis breaks gap must positive finite rather than ("+f.gap+")."),O=0),p.gapParsed.type="tpAbs",p.gapParsed.val=O}}if(p.vmin===p.vmax&&(p.gapParsed.type="tpAbs",p.gapParsed.val=0),r&&r.noNegative&&Z(["vmin","vmax"],function(S){p[S]<0&&(cn("Axis break."+S+" must not be negative."),p[S]=0)}),p.vmin>p.vmax){var w=p.vmax;p.vmax=p.vmin,p.vmin=w}o.push(p)}}),o.sort(function(f,p){return f.vmin-p.vmin});var c=-1/0;return Z(o,function(f,p){c>f.vmin&&(cn("Axis breaks must not overlap."),o[p]=null),c=f.vmax}),{breaks:o.filter(function(f){return!!f})}}function pL(a,n){return mL(n)===mL(a)}function mL(a){return a.start+"_\0_"+a.end}function vBe(a,n,r){var o=[];Z(a,function(c,f){var p=n(c);p&&p.type==="vmin"&&o.push([f])}),Z(a,function(c,f){var p=n(c);if(p&&p.type==="vmax"){var g=et(o,function(v){return pL(n(a[v[0]]).parsedBreak.breakOption,p.parsedBreak.breakOption)});g&&g.push(f)}});var l=[];return Z(o,function(c){c.length===2&&l.push(r?c:[a[c[0]],a[c[1]]])}),l}function yBe(a,n,r,o){var l,c;if(a.break){var f=a.break.parsedBreak,p=et(r,function(O){return pL(O.breakOption,a.break.parsedBreak.breakOption)}),g=o(Math.pow(n,f.vmin),p.vmin),v=o(Math.pow(n,f.vmax),p.vmax),x={type:f.gapParsed.type,val:f.gapParsed.type==="tpAbs"?Lr(Math.pow(n,f.vmin+f.gapParsed.val))-g:f.gapParsed.val};l={type:a.break.type,parsedBreak:{breakOption:f.breakOption,vmin:g,vmax:v,gapParsed:x,gapReal:f.gapReal}},c=p[a.break.type]}return{brkRoundingCriterion:c,vBreak:l}}function xBe(a,n,r){var o={noNegative:!0},l=hL(a,r,o),c=hL(a,r,o),f=Math.log(n);return c.breaks=ve(c.breaks,function(p){var g=Math.log(p.vmin)/f,v=Math.log(p.vmax)/f,x={type:p.gapParsed.type,val:p.gapParsed.type==="tpAbs"?Math.log(p.vmin+p.gapParsed.val)/f-g:p.gapParsed.val};return{vmin:g,vmax:v,gapParsed:x,gapReal:p.gapReal,breakOption:p.breakOption}}),{parsedOriginal:l,parsedLogged:c}}var _Be={vmin:"start",vmax:"end"};function OBe(a,n){return n&&(a=a||{},a.break={type:_Be[n.type],start:n.parsedBreak.vmin,end:n.parsedBreak.vmax}),a}function bBe(){j2e({createScaleBreakContext:hBe,pruneTicksByBreak:mBe,addBreaksToTicks:gBe,parseAxisBreakOption:hL,identifyAxisBreak:pL,serializeAxisBreakIdentifier:mL,retrieveAxisBreakPairs:vBe,getTicksLogTransformBreak:yBe,logarithmicParseBreaksFromOption:xBe,makeAxisLabelFormatterParamBreak:OBe})}var iJ=Kt();function wBe(a,n){var r=et(a,function(o){return Wr().identifyAxisBreak(o.parsedBreak.breakOption,n.breakOption)});return r||a.push(r={zigzagRandomList:[],parsedBreak:n,shouldRemove:!1}),r}function SBe(a){Z(a,function(n){return n.shouldRemove=!0})}function TBe(a){for(var n=a.length-1;n>=0;n--)a[n].shouldRemove&&a.splice(n,1)}function CBe(a,n,r,o,l){var c=r.axis;if(c.scale.isBlank()||!Wr())return;var f=Wr().retrieveAxisBreakPairs(c.scale.getTicks({breakTicks:"only_break"}),function(re){return re.break},!1);if(!f.length)return;var p=r.getModel("breakArea"),g=p.get("zigzagAmplitude"),v=p.get("zigzagMinSpan"),x=p.get("zigzagMaxSpan");v=Math.max(2,v||0),x=Math.max(v,x||0);var O=p.get("expandOnClick"),w=p.get("zigzagZ"),S=p.getModel("itemStyle"),k=S.getItemStyle(),P=k.stroke,E=k.lineWidth,M=k.lineDash,R=k.fill,N=new _t({ignoreModelZ:!0}),j=c.isHorizontal(),W=iJ(n).visualList||(iJ(n).visualList=[]);SBe(W);for(var U=function(re){var ie=f[re][0].break.parsedBreak,le=[];le[0]=c.toGlobalCoord(c.dataToCoord(ie.vmin,!0)),le[1]=c.toGlobalCoord(c.dataToCoord(ie.vmax,!0)),le[1]<le[0]&&le.reverse();var pe=wBe(W,ie);pe.shouldRemove=!1;var ce=new _t;J(pe.zigzagRandomList,ce,le[0],le[1],j,ie),O&&ce.on("click",function(){var ye={type:D2,breaks:[{start:ie.breakOption.start,end:ie.breakOption.end}]};ye[c.dim+"AxisIndex"]=r.componentIndex,l.dispatchAction(ye)}),ce.silent=!O,N.add(ce)},X=0;X<f.length;X++)U(X);a.add(N),TBe(W);function J(re,ie,le,pe,ce,ye){var Oe={stroke:P,lineWidth:E,lineDash:M,fill:"none"},_e=ce?0:1,Pe=1-_e,Se=o[Bt[Pe]]+o[Gr[Pe]];function Re(Wn){var mn=[],In=[];mn[_e]=In[_e]=Wn,mn[Pe]=o[Bt[Pe]],In[Pe]=Se;var Un={x1:mn[0],y1:mn[1],x2:In[0],y2:In[1]};return nb(Un,Un,{lineWidth:1}),mn[0]=Un.x1,mn[1]=Un.y1,mn[_e]}le=Re(le),pe=Re(pe);for(var Ne=[],Be=[],Fe=!0,rt=o[Bt[Pe]],ht=0;;ht++){var Mt=rt===o[Bt[Pe]],vn=rt>=Se;vn&&(rt=Se);var Rn=[],Dt=[];Rn[_e]=le,Dt[_e]=pe,!Mt&&!vn&&(Rn[_e]+=Fe?-g:g,Dt[_e]-=Fe?g:-g),Rn[Pe]=rt,Dt[Pe]=rt,Ne.push(Rn),Be.push(Dt);var Ot=void 0;if(ht<re.length?Ot=re[ht]:(Ot=Math.random(),re.push(Ot)),rt+=Ot*(x-v)+v,Fe=!Fe,vn)break}var Ft=Wr().serializeAxisBreakIdentifier(ye.breakOption);if(ie.add(new Ei({anid:"break_a_"+Ft,shape:{points:Ne},style:Oe,z:w})),ye.gapReal!==0){ie.add(new Ei({anid:"break_b_"+Ft,shape:{points:Be},style:Oe,z:w}));var pt=Be.slice();pt.reverse();var Rt=Ne.concat(pt);ie.add(new Fi({anid:"break_c_"+Ft,shape:{points:Rt},style:{fill:R,opacity:k.opacity},z:w}))}}}function kBe(a,n,r,o){var l=a.axis,c=r.transform;Ke(o.style);var f=l.getExtent();l.inverse&&(f=f.slice(),f.reverse());var p=Wr().retrieveAxisBreakPairs(l.scale.getTicks({breakTicks:"only_break"}),function(E){return E.break},!1),g=ve(p,function(E){var M=E[0].break.parsedBreak,R=[l.dataToCoord(M.vmin,!0),l.dataToCoord(M.vmax,!0)];return R[0]>R[1]&&R.reverse(),{coordPair:R,brkId:Wr().serializeAxisBreakIdentifier(M.breakOption)}});g.sort(function(E,M){return E.coordPair[0]-M.coordPair[0]});for(var v=f[0],x=null,O=0;O<g.length;O++){var w=g[O],S=Math.max(w.coordPair[0],f[0]),k=Math.min(w.coordPair[1],f[1]);v<=S&&P(v,S,x,w),v=k,x=w}v<=f[1]&&P(v,f[1],x,null);function P(E,M,R,N){function j(le,pe){c&&(yr(le,le,c),yr(pe,pe,c))}function W(le,pe){var ce={x1:le[0],y1:le[1],x2:pe[0],y2:pe[1]};nb(ce,ce,o.style),le[0]=ce.x1,le[1]=ce.y1,pe[0]=ce.x2,pe[1]=ce.y2}var U=[E,0],X=[M,0],J=[E,5],re=[M,5];j(U,J),W(U,J),j(X,re),W(X,re),W(U,X);var ie=new $r(ee({shape:{x1:U[0],y1:U[1],x2:X[0],y2:X[1]}},o));n.add(ie),ie.anid="breakLine_"+(R?R.brkId:"\0")+"_\0_"+(N?N.brkId:"\0")}}function ABe(a,n,r){if(et(r,function(R){return!R}))return;var o=new bt;if(!_2(r[0],r[1],o,{direction:-(a?n+Math.PI:n),touchThreshold:0,bidirectional:!1}))return;var l=Ir();Ss(l,l,-n);var c=ve(r,function(R){return R.transform?ho(Ir(),l,R.transform):l});function f(R){var N=r[0].localRect,j=new bt(N[Gr[R]]*c[0][0],N[Gr[R]]*c[0][1]);return Math.abs(j.y)<1e-5}var p=.5;if(f(0)||f(1)){var g=ve(r,function(R,N){var j=R.localRect.clone();return j.applyTransform(c[N]),j}),v=new bt;v.copy(r[0].label).add(r[1].label).scale(.5),v.transform(l);var x=o.clone().transform(l),O=g[0].x+g[1].x+(x.x>=0?g[0].width:g[1].width),w=(O+x.x)/2-v.x,S=Math.min(w,w-x.x),k=Math.max(w,w-x.x),P=k<0?k:S>0?S:0;p=(w-P)/x.x}var E=new bt,M=new bt;bt.scale(E,o,-p),bt.scale(M,o,1-p),jD(r[0],E),jD(r[1],M)}function PBe(a,n){var r={breaks:[]};return Z(n.breaks,function(o){if(o){var l=et(a.get("breaks",!0),function(p){return Wr().identifyAxisBreak(p,o)});if(!l){fr("Can not find axis break by start: "+o.start+", end: "+o.end);return}var c=n.type,f={isExpanded:!!l.isExpanded};l.isExpanded=c===D2?!0:c===pU?!1:c===mU?!l.isExpanded:l.isExpanded,r.breaks.push({start:l.start,end:l.end,isExpanded:!!l.isExpanded,old:f})}}),r}function EBe(){CPe({adjustBreakLabelPair:ABe,buildAxisBreakLine:kBe,rectCoordBuildBreakAxis:CBe,updateModelAxisBreak:PBe})}function MBe(a){DPe(a),bBe(),EBe()}function DBe(){JPe(IBe)}function IBe(a,n){Z(a,function(r){if(!r.model.get(["axisLabel","inside"])){var o=RBe(r);if(o){var l=r.isHorizontal()?"height":"width",c=r.model.get(["axisLabel","margin"]);n[l]-=o[l]+c,r.position==="top"?n.y+=o.height+c:r.position==="left"&&(n.x+=o.width+c)}}})}function RBe(a){var n=a.model,r=a.scale;if(!n.get(["axisLabel","show"])||r.isBlank())return;var o,l,c=r.getExtent();r instanceof Nm?l=r.count():(o=r.getTicks(),l=o.length);var f=a.getLabelModel(),p=$m(a),g,v=1;l>40&&(v=Math.ceil(l/40));for(var x=0;x<l;x+=v){var O=o?o[x]:{value:c[0]+x},w=p(O,x),S=f.getTextRect(w),k=P(S,f.get("rotate")||0);g?g.union(k):g=k}return g;function P(E,M){var R=M*Math.PI/180,N=E.width,j=E.height,W=N*Math.abs(Math.cos(R))+Math.abs(j*Math.sin(R)),U=N*Math.abs(Math.sin(R))+Math.abs(j*Math.cos(R)),X=new wt(E.x,E.y,W,U);return X}}Gt([SAe]),Gt([xAe]),Gt([GAe,aPe,mPe,yEe,PEe,yMe,WMe,ADe,HDe,nIe,lIe,gIe,u5e,I5e,G5e,oRe,cRe,_Re,kRe,zRe,GRe,eLe,$Le]),Gt(nNe),Gt(kNe),Gt(wq),Gt(BNe),Gt(ZZ),Gt(FNe),Gt(u3e),Gt(y3e),Gt(i4e),Gt(w4e),Gt($y),Gt(B4e),Gt(V4e),Gt(K4e),Gt(o$e),Gt(f$e),Gt(y$e),Gt(A$e),Gt(q$e),Gt(lK),Gt(cK),Gt(hze),Gt(CK),Gt(AK),Gt(vze),Gt(bze),Gt(Lze),Gt(zze),Gt(dBe),Gt(Bke),Gt(MBe),Gt(DBe),Gt(xEe),i.Axis=Ho,i.ChartView=Dn,i.ComponentModel=Ht,i.ComponentView=Gn,i.List=ra,i.Model=en,i.PRIORITY=CG,i.SeriesModel=Bn,i.color=R_e,i.connect=jTe,i.dataTool=HTe,i.dependencies=wTe,i.disConnect=VTe,i.disconnect=jG,i.dispose=FTe,i.env=m,i.extendChartView=Ske,i.extendComponentModel=Oke,i.extendComponentView=bke,i.extendSeriesModel=wke,i.format=oke,i.getCoordinateSystemDimensions=WTe,i.getInstanceByDom=hD,i.getInstanceById=GTe,i.getMap=ZTe,i.graphic=ake,i.helper=YCe,i.init=QTe,i.innerDrawElementOnCanvas=KM,i.matrix=hf,i.number=rke,i.parseGeoJSON=LD,i.parseGeoJson=LD,i.registerAction=Ls,i.registerCoordinateSystem=GG,i.registerCustomSeries=UTe,i.registerLayout=WG,i.registerLoading=yD,i.registerLocale=oM,i.registerMap=qG,i.registerPostInit=VG,i.registerPostUpdate=FG,i.registerPreprocessor=mD,i.registerProcessor=gD,i.registerTheme=pD,i.registerTransform=ZG,i.registerUpdateLifecycle=i2,i.registerVisual=qc,i.setCanvasCreator=qTe,i.setPlatformAPI=Q,i.throttle=Qb,i.time=ike,i.use=Gt,i.util=ske,i.vector=dO,i.version=bTe,i.zrUtil=xs,i.zrender=gOe,Object.defineProperty(i,"__esModule",{value:!0})}))})(Mx,Mx.exports)),Mx.exports}var eS={},Zu={},Hu={},hN={},nne;function YYe(){return nne||(nne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}})(hN)),hN}var ex={},tx={},pN={},rne;function pfe(){return rne||(rne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,u=null;return function(){for(var d=this,h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];clearTimeout(u),u=setTimeout(function(){i.apply(d,m)},s)}}})(pN)),pN}var Xu={},ine;function HB(){return ine||(ine=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.SizeSensorId=Xu.SensorTabIndex=Xu.SensorClassName=void 0,Xu.SizeSensorId="size-sensor-id",Xu.SensorClassName="size-sensor-object",Xu.SensorTabIndex="-1"),Xu}var ane;function KYe(){if(ane)return tx;ane=1,Object.defineProperty(tx,"__esModule",{value:!0}),tx.createSensor=void 0;var t=i(pfe()),e=HB();function i(s){return s&&s.__esModule?s:{default:s}}return tx.createSensor=function(u,d){var h=void 0,m=[],y=function(){getComputedStyle(u).position==="static"&&(u.style.position="relative");var D=document.createElement("object");return D.onload=function(){D.contentDocument.defaultView.addEventListener("resize",_),_()},D.style.display="block",D.style.position="absolute",D.style.top="0",D.style.left="0",D.style.height="100%",D.style.width="100%",D.style.overflow="hidden",D.style.pointerEvents="none",D.style.zIndex="-1",D.style.opacity="0",D.setAttribute("class",e.SensorClassName),D.setAttribute("tabindex",e.SensorTabIndex),D.type="text/html",u.appendChild(D),D.data="about:blank",D},_=(0,t.default)(function(){m.forEach(function(A){A(u)})}),b=function(D){h||(h=y()),m.indexOf(D)===-1&&m.push(D)},T=function(){h&&h.parentNode&&(h.contentDocument&&h.contentDocument.defaultView.removeEventListener("resize",_),h.parentNode.removeChild(h),u.removeAttribute(e.SizeSensorId),h=void 0,m=[],d&&d())},C=function(D){var L=m.indexOf(D);L!==-1&&m.splice(L,1),m.length===0&&h&&T()};return{element:u,bind:b,destroy:T,unbind:C}},tx}var nx={},one;function JYe(){if(one)return nx;one=1,Object.defineProperty(nx,"__esModule",{value:!0}),nx.createSensor=void 0;var t=HB(),e=i(pfe());function i(s){return s&&s.__esModule?s:{default:s}}return nx.createSensor=function(u,d){var h=void 0,m=[],y=(0,e.default)(function(){m.forEach(function(A){A(u)})}),_=function(){var D=new ResizeObserver(y);return D.observe(u),y(),D},b=function(D){h||(h=_()),m.indexOf(D)===-1&&m.push(D)},T=function(){h&&h.disconnect(),m=[],h=void 0,u.removeAttribute(t.SizeSensorId),d&&d()},C=function(D){var L=m.indexOf(D);L!==-1&&m.splice(L,1),m.length===0&&h&&T()};return{element:u,bind:b,destroy:T,unbind:C}},nx}var sne;function eKe(){if(sne)return ex;sne=1,Object.defineProperty(ex,"__esModule",{value:!0}),ex.createSensor=void 0;var t=KYe(),e=JYe();return ex.createSensor=typeof ResizeObserver<"u"?e.createSensor:t.createSensor,ex}var lne;function tKe(){if(lne)return Hu;lne=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.removeSensor=Hu.getSensor=Hu.Sensors=void 0;var t=s(YYe()),e=eKe(),i=HB();function s(h){return h&&h.__esModule?h:{default:h}}var u=Hu.Sensors={};function d(h){h&&u[h]&&delete u[h]}return Hu.getSensor=function(m){var y=m.getAttribute(i.SizeSensorId);if(y&&u[y])return u[y];var _=(0,t.default)();m.setAttribute(i.SizeSensorId,_);var b=(0,e.createSensor)(m,function(){return d(_)});return u[_]=b,b},Hu.removeSensor=function(m){var y=m.element.getAttribute(i.SizeSensorId);m.destroy(),d(y)},Hu}var une;function nKe(){if(une)return Zu;une=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.ver=Zu.clear=Zu.bind=void 0;var t=tKe();return Zu.bind=function(i,s){var u=(0,t.getSensor)(i);return u.bind(s),function(){u.unbind(s)}},Zu.clear=function(i){var s=(0,t.getSensor)(i);(0,t.removeSensor)(s)},Zu.ver="1.0.3",Zu}var rx={},cne;function rKe(){if(cne)return rx;cne=1,Object.defineProperty(rx,"__esModule",{value:!0}),rx.pick=void 0;function t(e,i){var s={};return i.forEach(function(u){s[u]=e[u]}),s}return rx.pick=t,rx}var ix={},dne;function iKe(){if(dne)return ix;dne=1,Object.defineProperty(ix,"__esModule",{value:!0}),ix.isFunction=void 0;function t(e){return typeof e=="function"}return ix.isFunction=t,ix}var ax={},fne;function aKe(){if(fne)return ax;fne=1,Object.defineProperty(ax,"__esModule",{value:!0}),ax.isString=void 0;function t(e){return typeof e=="string"}return ax.isString=t,ax}var ox={},hne;function oKe(){if(hne)return ox;hne=1,Object.defineProperty(ox,"__esModule",{value:!0}),ox.isEqual=void 0;var t=ZB,e=t.__importDefault(vue());return ox.isEqual=e.default,ox}var pne;function sKe(){if(pne)return eS;pne=1,Object.defineProperty(eS,"__esModule",{value:!0});var t=ZB,e=t.__importStar(Ise()),i=nKe(),s=rKe(),u=iKe(),d=aKe(),h=oKe(),m=(function(y){t.__extends(_,y);function _(b){var T=y.call(this,b)||this;return T.echarts=b.echarts,T.ele=null,T.isInitialResize=!0,T.eventHandlerRefs={},T}return _.prototype.componentDidMount=function(){this.renderNewEcharts()},_.prototype.componentDidUpdate=function(b){var T=this.props.shouldSetOption;if(!((0,u.isFunction)(T)&&!T(b,this.props))){if(!(0,h.isEqual)(b.theme,this.props.theme)||!(0,h.isEqual)(b.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var C=this.getEchartsInstance();(0,h.isEqual)(b.onEvents,this.props.onEvents)||(this.unbindEvents(C),this.bindEvents(C,this.props.onEvents));var A=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];(0,h.isEqual)((0,s.pick)(this.props,A),(0,s.pick)(b,A))||this.updateEChartsOption(),(!(0,h.isEqual)(b.style,this.props.style)||!(0,h.isEqual)(b.className,this.props.className))&&this.resize()}},_.prototype.componentWillUnmount=function(){this.dispose()},_.prototype.initEchartsInstance=function(){return t.__awaiter(this,void 0,void 0,function(){var b=this;return t.__generator(this,function(T){return[2,new Promise(function(C){b.echarts.init(b.ele,b.props.theme,b.props.opts);var A=b.getEchartsInstance();A.on("finished",function(){var D=b.ele.clientWidth,L=b.ele.clientHeight;b.echarts.dispose(b.ele);var z=t.__assign({width:D,height:L},b.props.opts);C(b.echarts.init(b.ele,b.props.theme,z))})})]})})},_.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},_.prototype.dispose=function(){if(this.ele){try{(0,i.clear)(this.ele)}catch(b){console.warn(b)}this.echarts.dispose(this.ele)}},_.prototype.renderNewEcharts=function(){return t.__awaiter(this,void 0,void 0,function(){var b,T,C,A,D,L,z=this;return t.__generator(this,function($){switch($.label){case 0:return b=this.props,T=b.onEvents,C=b.onChartReady,A=b.autoResize,D=A===void 0?!0:A,[4,this.initEchartsInstance()];case 1:return $.sent(),L=this.updateEChartsOption(),this.bindEvents(L,T||{}),(0,u.isFunction)(C)&&C(L),this.ele&&D&&(0,i.bind)(this.ele,function(){z.resize()}),[2]}})})},_.prototype.bindEvents=function(b,T){var C=this,A=function(L,z){if((0,d.isString)(L)&&(0,u.isFunction)(z)){var $=function(Q){z(Q,b)};b.on(L,$),C.eventHandlerRefs[L]=$}};for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&A(D,T[D])},_.prototype.unbindEvents=function(b){for(var T=0,C=Object.entries(this.eventHandlerRefs);T<C.length;T++){var A=C[T],D=A[0],L=A[1];b.off(D,L)}this.eventHandlerRefs={}},_.prototype.updateEChartsOption=function(){var b=this.props,T=b.option,C=b.notMerge,A=C===void 0?!1:C,D=b.replaceMerge,L=D===void 0?null:D,z=b.lazyUpdate,$=z===void 0?!1:z,Q=b.showLoading,B=b.loadingOption,q=B===void 0?null:B,Y=this.getEchartsInstance();return Y.setOption(T,{notMerge:A,replaceMerge:L,lazyUpdate:$}),Q?Y.showLoading(q):Y.hideLoading(),Y},_.prototype.resize=function(){var b=this.getEchartsInstance();if(!this.isInitialResize)try{b.resize({width:"auto",height:"auto"})}catch(T){console.warn(T)}this.isInitialResize=!1},_.prototype.render=function(){var b=this,T=this.props,C=T.style,A=T.className,D=A===void 0?"":A;T.echarts,T.option,T.theme,T.notMerge,T.replaceMerge,T.lazyUpdate,T.showLoading,T.loadingOption,T.opts,T.onChartReady,T.onEvents,T.shouldSetOption,T.autoResize;var L=t.__rest(T,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),z=t.__assign({height:300},C);return e.default.createElement("div",t.__assign({ref:function($){b.ele=$},style:z,className:"echarts-for-react ".concat(D)},L))},_})(e.PureComponent);return eS.default=m,eS}var mne;function lKe(){if(mne)return Jw;mne=1,Object.defineProperty(Jw,"__esModule",{value:!0});var t=ZB,e=t.__importStar(XYe()),i=t.__importDefault(sKe()),s=(function(u){t.__extends(d,u);function d(h){var m=u.call(this,h)||this;return m.echarts=e,m}return d})(i.default);return Jw.default=s,Jw}var uKe=lKe();const cKe=cu(uKe),dd=["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#ef4444","#84cc16"];function dKe({chart:t}){const{resolvedTheme:e}=Zse(),i="#e5e5e5",s="rgba(255, 255, 255, 0.1)",d={backgroundColor:"transparent",grid:{top:50,right:32,bottom:32,left:32,containLabel:!0},legend:{textStyle:{color:i},top:8,icon:"circle",itemWidth:8,itemHeight:8,itemGap:16},tooltip:{trigger:"axis",backgroundColor:"#171717",borderWidth:0,padding:[6,10],className:"echarts-tooltip rounded-lg! border! border-neutral-200! dark:border-neutral-800!",textStyle:{color:i,fontSize:13,fontFamily:"system-ui, -apple-system, sans-serif"}}},h=()=>{const m={axisLine:{show:!0,lineStyle:{color:s}},axisTick:{show:!1},axisLabel:{color:i,margin:8,fontSize:11,hideOverlap:!0},nameTextStyle:{color:i,fontSize:13,padding:[0,0,0,0]},splitLine:{show:!0,lineStyle:{color:s,type:"dashed"}}};if(t.type==="line"||t.type==="scatter"){const y=t.elements.map((_,b)=>({name:_.label,type:t.type,data:_.points.map(T=>[t.x_scale==="datetime"?new Date(T[0]).getTime():T[0],T[1]]),smooth:!0,symbolSize:t.type==="scatter"?10:0,lineStyle:{width:2,color:dd[b%dd.length]},itemStyle:{color:dd[b%dd.length]},areaStyle:t.type==="line"?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:`${dd[b%dd.length]}15`},{offset:1,color:"rgba(23, 23, 23, 0)"}]}}:void 0}));return{...d,xAxis:{type:t.x_scale==="datetime"?"time":"value",name:t.x_label,nameLocation:"middle",nameGap:40,scale:!0,...m,axisLabel:{...m.axisLabel,formatter:t.x_scale==="datetime"?_=>new Date(_).toLocaleDateString("en-US",{month:"short",year:"numeric"}):void 0}},yAxis:{type:"value",name:t.y_label,nameLocation:"middle",nameGap:50,position:"right",scale:!0,...m},series:y}}if(t.type==="bar"){const y=t.elements.reduce((b,T)=>{const C=T.group;return b[C]||(b[C]=[]),b[C].push(T),b},{}),_=Object.entries(y).map(([b,T],C)=>({name:b,type:"bar",stack:"total",data:T?.map(A=>[A.label,A.value]),itemStyle:{color:dd[C%dd.length]},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}}}));return{...d,xAxis:{type:"category",name:t.x_label,nameLocation:"middle",nameGap:40,...m},yAxis:{type:"value",name:t.y_label,nameLocation:"middle",nameGap:50,position:"right",...m},series:_}}return d};return I.jsx(Ti.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:20},transition:{duration:.5},children:I.jsx(UQe,{className:"overflow-hidden border-neutral-200 bg-white dark:border-neutral-800 dark:bg-neutral-900",children:I.jsxs("div",{className:"p-6",children:[t.title&&I.jsx("h3",{className:"mb-4 font-medium text-lg text-neutral-900 dark:text-neutral-100",children:t.title}),I.jsx(cKe,{notMerge:!0,option:h(),style:{height:"400px",width:"100%"},theme:e==="dark"?"dark":void 0})]})})})}var Kk="Collapsible",[fKe]=bk(Kk),[hKe,XB]=fKe(Kk),mfe=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,open:s,defaultOpen:u,disabled:d,onOpenChange:h,...m}=t,[y,_]=ip({prop:s,defaultProp:u??!1,onChange:h,caller:Kk});return I.jsx(hKe,{scope:i,disabled:d,contentId:Kse(),open:y,onOpenToggle:K.useCallback(()=>_(b=>!b),[_]),children:I.jsx(vs.div,{"data-state":KB(y),"data-disabled":d?"":void 0,...m,ref:e})})});mfe.displayName=Kk;var gfe="CollapsibleTrigger",vfe=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,...s}=t,u=XB(gfe,i);return I.jsx(vs.button,{type:"button","aria-controls":u.contentId,"aria-expanded":u.open||!1,"data-state":KB(u.open),"data-disabled":u.disabled?"":void 0,disabled:u.disabled,...s,ref:e,onClick:la(t.onClick,u.onOpenToggle)})});vfe.displayName=gfe;var YB="CollapsibleContent",yfe=K.forwardRef((t,e)=>{const{forceMount:i,...s}=t,u=XB(YB,t.__scopeCollapsible);return I.jsx(w_,{present:i||u.open,children:({present:d})=>I.jsx(pKe,{...s,ref:e,present:d})})});yfe.displayName=YB;var pKe=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,present:s,children:u,...d}=t,h=XB(YB,i),[m,y]=K.useState(s),_=K.useRef(null),b=wk(e,_),T=K.useRef(0),C=T.current,A=K.useRef(0),D=A.current,L=h.open||m,z=K.useRef(L),$=K.useRef(void 0);return K.useEffect(()=>{const Q=requestAnimationFrame(()=>z.current=!1);return()=>cancelAnimationFrame(Q)},[]),qQe(()=>{const Q=_.current;if(Q){$.current=$.current||{transitionDuration:Q.style.transitionDuration,animationName:Q.style.animationName},Q.style.transitionDuration="0s",Q.style.animationName="none";const B=Q.getBoundingClientRect();T.current=B.height,A.current=B.width,z.current||(Q.style.transitionDuration=$.current.transitionDuration,Q.style.animationName=$.current.animationName),y(s)}},[h.open,s]),I.jsx(vs.div,{"data-state":KB(h.open),"data-disabled":h.disabled?"":void 0,id:h.contentId,hidden:!L,...d,ref:b,style:{"--radix-collapsible-content-height":C?`${C}px`:void 0,"--radix-collapsible-content-width":D?`${D}px`:void 0,...t.style},children:L&&u})});function KB(t){return t?"open":"closed"}var mKe=mfe;const JB=mKe,eQ=vfe,tQ=yfe;var Jk="Tabs",[gKe]=bk(Jk,[Bse]),xfe=Bse(),[vKe,nQ]=gKe(Jk),_fe=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:s,onValueChange:u,defaultValue:d,orientation:h="horizontal",dir:m,activationMode:y="automatic",..._}=t,b=HQe(m),[T,C]=ip({prop:s,onChange:u,defaultProp:d??"",caller:Jk});return I.jsx(vKe,{scope:i,baseId:Kse(),value:T,onValueChange:C,orientation:h,dir:b,activationMode:y,children:I.jsx(vs.div,{dir:b,"data-orientation":h,..._,ref:e})})});_fe.displayName=Jk;var Ofe="TabsList",bfe=K.forwardRef((t,e)=>{const{__scopeTabs:i,loop:s=!0,...u}=t,d=nQ(Ofe,i),h=xfe(i);return I.jsx(lQe,{asChild:!0,...h,orientation:d.orientation,dir:d.dir,loop:s,children:I.jsx(vs.div,{role:"tablist","aria-orientation":d.orientation,...u,ref:e})})});bfe.displayName=Ofe;var wfe="TabsTrigger",Sfe=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:s,disabled:u=!1,...d}=t,h=nQ(wfe,i),m=xfe(i),y=kfe(h.baseId,s),_=Afe(h.baseId,s),b=s===h.value;return I.jsx(uQe,{asChild:!0,...m,focusable:!u,active:b,children:I.jsx(vs.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":_,"data-state":b?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:y,...d,ref:e,onMouseDown:la(t.onMouseDown,T=>{!u&&T.button===0&&T.ctrlKey===!1?h.onValueChange(s):T.preventDefault()}),onKeyDown:la(t.onKeyDown,T=>{[" ","Enter"].includes(T.key)&&h.onValueChange(s)}),onFocus:la(t.onFocus,()=>{const T=h.activationMode!=="manual";!b&&!u&&T&&h.onValueChange(s)})})})});Sfe.displayName=wfe;var Tfe="TabsContent",Cfe=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:s,forceMount:u,children:d,...h}=t,m=nQ(Tfe,i),y=kfe(m.baseId,s),_=Afe(m.baseId,s),b=s===m.value,T=K.useRef(b);return K.useEffect(()=>{const C=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(C)},[]),I.jsx(w_,{present:u||b,children:({present:C})=>I.jsx(vs.div,{"data-state":b?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":y,hidden:!C,id:_,tabIndex:0,...h,ref:e,style:{...t.style,animationDuration:T.current?"0s":void 0},children:C&&d})})});Cfe.displayName=Tfe;function kfe(t,e){return`${t}-trigger-${e}`}function Afe(t,e){return`${t}-content-${e}`}var yKe=_fe,Pfe=bfe,Efe=Sfe,Mfe=Cfe;const xKe=yKe,Dfe=K.forwardRef(({className:t,...e},i)=>I.jsx(Pfe,{className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),ref:i,...e}));Dfe.displayName=Pfe.displayName;const Ife=K.forwardRef(({className:t,...e},i)=>I.jsx(Efe,{className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 font-medium text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),ref:i,...e}));Ife.displayName=Efe.displayName;const Rfe=K.forwardRef(({className:t,...e},i)=>I.jsx(Mfe,{className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),ref:i,...e}));Rfe.displayName=Mfe.displayName;let ai=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function _Ke(t){return rQ(t)}function rQ(t){return Array.isArray(t)?OKe(t):t instanceof RegExp?t:typeof t=="object"?bKe(t):t}function OKe(t){let e=[];for(let i=0,s=t.length;i<s;i++)e[i]=rQ(t[i]);return e}function bKe(t){let e={};for(let i in t)e[i]=rQ(t[i]);return e}function Lfe(t,...e){return e.forEach(i=>{for(let s in i)t[s]=i[s]}),t}function Nfe(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?Nfe(t.substring(0,t.length-1)):t.substr(~e+1)}var mN=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,tS=class{static hasCaptures(t){return t===null?!1:(mN.lastIndex=0,mN.test(t))}static replaceCaptures(t,e,i){return t.replace(mN,(s,u,d,h)=>{let m=i[parseInt(u||d,10)];if(m){let y=e.substring(m.start,m.end);for(;y[0]===".";)y=y.substring(1);switch(h){case"downcase":return y.toLowerCase();case"upcase":return y.toUpperCase();default:return y}}else return s})}};function $fe(t,e){return t<e?-1:t>e?1:0}function zfe(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let i=t.length,s=e.length;if(i===s){for(let u=0;u<i;u++){let d=$fe(t[u],e[u]);if(d!==0)return d}return 0}return i-s}function gne(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function Bfe(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var Qfe=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},HT=class{constructor(t,e,i){this._colorMap=t,this._defaults=e,this._root=i}static createFromRawTheme(t,e){return this.createFromParsedTheme(TKe(t),e)}static createFromParsedTheme(t,e){return kKe(t,e)}_cachedMatchRoot=new Qfe(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,s=this._cachedMatchRoot.get(e).find(u=>wKe(t.parent,u.parentScopes));return s?new jfe(s.fontStyle,s.foreground,s.background):null}},gN=class lT{constructor(e,i){this.parent=e,this.scopeName=i}static push(e,i){for(const s of i)e=new lT(e,s);return e}static from(...e){let i=null;for(let s=0;s<e.length;s++)i=new lT(i,e[s]);return i}push(e){return new lT(this,e)}getSegments(){let e=this;const i=[];for(;e;)i.push(e.scopeName),e=e.parent;return i.reverse(),i}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const i=[];let s=this;for(;s&&s!==e;)i.push(s.scopeName),s=s.parent;return s===e?i.reverse():void 0}};function wKe(t,e){if(e.length===0)return!0;for(let i=0;i<e.length;i++){let s=e[i],u=!1;if(s===">"){if(i===e.length-1)return!1;s=e[++i],u=!0}for(;t&&!SKe(t.scopeName,s);){if(u)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function SKe(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var jfe=class{constructor(t,e,i){this.fontStyle=t,this.foregroundId=e,this.backgroundId=i}};function TKe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,i=[],s=0;for(let u=0,d=e.length;u<d;u++){let h=e[u];if(!h.settings)continue;let m;if(typeof h.scope=="string"){let T=h.scope;T=T.replace(/^[,]+/,""),T=T.replace(/[,]+$/,""),m=T.split(",")}else Array.isArray(h.scope)?m=h.scope:m=[""];let y=-1;if(typeof h.settings.fontStyle=="string"){y=0;let T=h.settings.fontStyle.split(" ");for(let C=0,A=T.length;C<A;C++)switch(T[C]){case"italic":y=y|1;break;case"bold":y=y|2;break;case"underline":y=y|4;break;case"strikethrough":y=y|8;break}}let _=null;typeof h.settings.foreground=="string"&&gne(h.settings.foreground)&&(_=h.settings.foreground);let b=null;typeof h.settings.background=="string"&&gne(h.settings.background)&&(b=h.settings.background);for(let T=0,C=m.length;T<C;T++){let D=m[T].trim().split(" "),L=D[D.length-1],z=null;D.length>1&&(z=D.slice(0,D.length-1),z.reverse()),i[s++]=new CKe(L,z,u,y,_,b)}}return i}var CKe=class{constructor(t,e,i,s,u,d){this.scope=t,this.parentScopes=e,this.index=i,this.fontStyle=s,this.foreground=u,this.background=d}},ua=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(ua||{});function kKe(t,e){t.sort((y,_)=>{let b=$fe(y.scope,_.scope);return b!==0||(b=zfe(y.parentScopes,_.parentScopes),b!==0)?b:y.index-_.index});let i=0,s="#000000",u="#ffffff";for(;t.length>=1&&t[0].scope==="";){let y=t.shift();y.fontStyle!==-1&&(i=y.fontStyle),y.foreground!==null&&(s=y.foreground),y.background!==null&&(u=y.background)}let d=new AKe(e),h=new jfe(i,d.getId(s),d.getId(u)),m=new EKe(new L4(0,null,-1,0,0),[]);for(let y=0,_=t.length;y<_;y++){let b=t[y];m.insert(0,b.scope,b.parentScopes,b.fontStyle,d.getId(b.foreground),d.getId(b.background))}return new HT(d,h,m)}var AKe=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,i=t.length;e<i;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},PKe=Object.freeze([]),L4=class Vfe{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,i,s,u,d){this.scopeDepth=e,this.parentScopes=i||PKe,this.fontStyle=s,this.foreground=u,this.background=d}clone(){return new Vfe(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let i=[];for(let s=0,u=e.length;s<u;s++)i[s]=e[s].clone();return i}acceptOverwrite(e,i,s,u){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,i!==-1&&(this.fontStyle=i),s!==0&&(this.foreground=s),u!==0&&(this.background=u)}},EKe=class N4{constructor(e,i=[],s={}){this._mainRule=e,this._children=s,this._rulesWithParentScopes=i}_rulesWithParentScopes;static _cmpBySpecificity(e,i){if(e.scopeDepth!==i.scopeDepth)return i.scopeDepth-e.scopeDepth;let s=0,u=0;for(;e.parentScopes[s]===">"&&s++,i.parentScopes[u]===">"&&u++,!(s>=e.parentScopes.length||u>=i.parentScopes.length);){const d=i.parentScopes[u].length-e.parentScopes[s].length;if(d!==0)return d;s++,u++}return i.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let s=e.indexOf("."),u,d;if(s===-1?(u=e,d=""):(u=e.substring(0,s),d=e.substring(s+1)),this._children.hasOwnProperty(u))return this._children[u].match(d)}const i=this._rulesWithParentScopes.concat(this._mainRule);return i.sort(N4._cmpBySpecificity),i}insert(e,i,s,u,d,h){if(i===""){this._doInsertHere(e,s,u,d,h);return}let m=i.indexOf("."),y,_;m===-1?(y=i,_=""):(y=i.substring(0,m),_=i.substring(m+1));let b;this._children.hasOwnProperty(y)?b=this._children[y]:(b=new N4(this._mainRule.clone(),L4.cloneArr(this._rulesWithParentScopes)),this._children[y]=b),b.insert(e+1,_,s,u,d,h)}_doInsertHere(e,i,s,u,d){if(i===null){this._mainRule.acceptOverwrite(e,s,u,d);return}for(let h=0,m=this._rulesWithParentScopes.length;h<m;h++){let y=this._rulesWithParentScopes[h];if(zfe(y.parentScopes,i)===0){y.acceptOverwrite(e,s,u,d);return}}s===-1&&(s=this._mainRule.fontStyle),u===0&&(u=this._mainRule.foreground),d===0&&(d=this._mainRule.background),this._rulesWithParentScopes.push(new L4(e,i,s,u,d))}},iv=class ns{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const i=ns.getLanguageId(e),s=ns.getTokenType(e),u=ns.getFontStyle(e),d=ns.getForeground(e),h=ns.getBackground(e);console.log({languageId:i,tokenType:s,fontStyle:u,foreground:d,background:h})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,i,s,u,d,h,m){let y=ns.getLanguageId(e),_=ns.getTokenType(e),b=ns.containsBalancedBrackets(e)?1:0,T=ns.getFontStyle(e),C=ns.getForeground(e),A=ns.getBackground(e);return i!==0&&(y=i),s!==8&&(_=s),u!==null&&(b=u?1:0),d!==-1&&(T=d),h!==0&&(C=h),m!==0&&(A=m),(y<<0|_<<8|b<<10|T<<11|C<<15|A<<24)>>>0}};function XT(t,e){const i=[],s=MKe(t);let u=s.next();for(;u!==null;){let y=0;if(u.length===2&&u.charAt(1)===":"){switch(u.charAt(0)){case"R":y=1;break;case"L":y=-1;break;default:console.log(`Unknown priority ${u} in scope selector`)}u=s.next()}let _=h();if(i.push({matcher:_,priority:y}),u!==",")break;u=s.next()}return i;function d(){if(u==="-"){u=s.next();const y=d();return _=>!!y&&!y(_)}if(u==="("){u=s.next();const y=m();return u===")"&&(u=s.next()),y}if(vne(u)){const y=[];do y.push(u),u=s.next();while(vne(u));return _=>e(y,_)}return null}function h(){const y=[];let _=d();for(;_;)y.push(_),_=d();return b=>y.every(T=>T(b))}function m(){const y=[];let _=h();for(;_&&(y.push(_),u==="|"||u===",");){do u=s.next();while(u==="|"||u===",");_=h()}return b=>y.some(T=>T(b))}}function vne(t){return!!t&&!!t.match(/[\w\.:]+/)}function MKe(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,i=e.exec(t);return{next:()=>{if(!i)return null;const s=i[0];return i=e.exec(t),s}}}function Ffe(t){typeof t.dispose=="function"&&t.dispose()}var I1=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},DKe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},IKe=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},RKe=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new I1(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new IKe;for(const i of t)LKe(i,this.initialScopeName,this.repo,e);for(const i of e.references)if(i instanceof I1){if(this.seenFullScopeRequests.has(i.scopeName))continue;this.seenFullScopeRequests.add(i.scopeName),this.Q.push(i)}else{if(this.seenFullScopeRequests.has(i.scopeName)||this.seenPartialScopeRequests.has(i.toKey()))continue;this.seenPartialScopeRequests.add(i.toKey()),this.Q.push(i)}}};function LKe(t,e,i,s){const u=i.lookup(t.scopeName);if(!u){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const d=i.lookup(e);t instanceof I1?uT({baseGrammar:d,selfGrammar:u},s):$4(t.ruleName,{baseGrammar:d,selfGrammar:u,repository:u.repository},s);const h=i.injections(t.scopeName);if(h)for(const m of h)s.add(new I1(m))}function $4(t,e,i){if(e.repository&&e.repository[t]){const s=e.repository[t];YT([s],e,i)}}function uT(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&YT(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&YT(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function YT(t,e,i){for(const s of t){if(i.visitedRule.has(s))continue;i.visitedRule.add(s);const u=s.repository?Lfe({},e.repository,s.repository):e.repository;Array.isArray(s.patterns)&&YT(s.patterns,{...e,repository:u},i);const d=s.include;if(!d)continue;const h=Gfe(d);switch(h.kind){case 0:uT({...e,selfGrammar:e.baseGrammar},i);break;case 1:uT(e,i);break;case 2:$4(h.ruleName,{...e,repository:u},i);break;case 3:case 4:const m=h.scopeName===e.selfGrammar.scopeName?e.selfGrammar:h.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(m){const y={baseGrammar:e.baseGrammar,selfGrammar:m,repository:u};h.kind===4?$4(h.ruleName,y,i):uT(y,i)}else h.kind===4?i.add(new DKe(h.scopeName,h.ruleName)):i.add(new I1(h.scopeName));break}}}var NKe=class{kind=0},$Ke=class{kind=1},zKe=class{constructor(t){this.ruleName=t}kind=2},BKe=class{constructor(t){this.scopeName=t}kind=3},QKe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function Gfe(t){if(t==="$base")return new NKe;if(t==="$self")return new $Ke;const e=t.indexOf("#");if(e===-1)return new BKe(t);if(e===0)return new zKe(t.substring(1));{const i=t.substring(0,e),s=t.substring(e+1);return new QKe(i,s)}}var jKe=/\\(\d+)/,yne=/\\(\d+)/g,VKe=-1,Wfe=-2;var z_=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,i,s,u){this.$location=e,this.id=i,this._name=s||null,this._nameIsCapturing=tS.hasCaptures(this._name),this._contentName=u||null,this._contentNameIsCapturing=tS.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${Nfe(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,i){return!this._nameIsCapturing||this._name===null||e===null||i===null?this._name:tS.replaceCaptures(this._name,e,i)}getContentName(e,i){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:tS.replaceCaptures(this._contentName,e,i)}},FKe=class extends z_{retokenizeCapturedWithRuleId;constructor(t,e,i,s,u){super(t,e,i,s),this.retokenizeCapturedWithRuleId=u}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,i,s){throw new Error("Not supported!")}},GKe=class extends z_{_match;captures;_cachedCompiledPatterns;constructor(t,e,i,s,u){super(t,e,i,null),this._match=new R1(s,this.id),this.captures=u,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,s){return this._getCachedCompiledPatterns(t).compileAG(t,i,s)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new L1,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},xne=class extends z_{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,i,s,u){super(t,e,i,s),this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const i of this.patterns)t.getRule(i).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,s){return this._getCachedCompiledPatterns(t).compileAG(t,i,s)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new L1,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},z4=class extends z_{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,i,s,u,d,h,m,y,_){super(t,e,i,s),this._begin=new R1(u,this.id),this.beginCaptures=d,this._end=new R1(h||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=m,this.applyEndPatternLast=y||!1,this.patterns=_.patterns,this.hasMissingPatterns=_.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,i,s){return this._getCachedCompiledPatterns(t,e).compileAG(t,i,s)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new L1;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},KT=class extends z_{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,i,s,u,d,h,m,y){super(t,e,i,s),this._begin=new R1(u,this.id),this.beginCaptures=d,this.whileCaptures=m,this._while=new R1(h,Wfe),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=y.patterns,this.hasMissingPatterns=y.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,s){return this._getCachedCompiledPatterns(t).compileAG(t,i,s)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new L1;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,i,s){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,i,s)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new L1,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||"￿"),this._cachedCompiledWhilePatterns}},Ufe=class ia{static createCaptureRule(e,i,s,u,d){return e.registerRule(h=>new FKe(i,h,s,u,d))}static getCompiledRuleId(e,i,s){return e.id||i.registerRule(u=>{if(e.id=u,e.match)return new GKe(e.$vscodeTextmateLocation,e.id,e.name,e.match,ia._compileCaptures(e.captures,i,s));if(typeof e.begin>"u"){e.repository&&(s=Lfe({},s,e.repository));let d=e.patterns;return typeof d>"u"&&e.include&&(d=[{include:e.include}]),new xne(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,ia._compilePatterns(d,i,s))}return e.while?new KT(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ia._compileCaptures(e.beginCaptures||e.captures,i,s),e.while,ia._compileCaptures(e.whileCaptures||e.captures,i,s),ia._compilePatterns(e.patterns,i,s)):new z4(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ia._compileCaptures(e.beginCaptures||e.captures,i,s),e.end,ia._compileCaptures(e.endCaptures||e.captures,i,s),e.applyEndPatternLast,ia._compilePatterns(e.patterns,i,s))}),e.id}static _compileCaptures(e,i,s){let u=[];if(e){let d=0;for(const h in e){if(h==="$vscodeTextmateLocation")continue;const m=parseInt(h,10);m>d&&(d=m)}for(let h=0;h<=d;h++)u[h]=null;for(const h in e){if(h==="$vscodeTextmateLocation")continue;const m=parseInt(h,10);let y=0;e[h].patterns&&(y=ia.getCompiledRuleId(e[h],i,s)),u[m]=ia.createCaptureRule(i,e[h].$vscodeTextmateLocation,e[h].name,e[h].contentName,y)}}return u}static _compilePatterns(e,i,s){let u=[];if(e)for(let d=0,h=e.length;d<h;d++){const m=e[d];let y=-1;if(m.include){const _=Gfe(m.include);switch(_.kind){case 0:case 1:y=ia.getCompiledRuleId(s[m.include],i,s);break;case 2:let b=s[_.ruleName];b&&(y=ia.getCompiledRuleId(b,i,s));break;case 3:case 4:const T=_.scopeName,C=_.kind===4?_.ruleName:null,A=i.getExternalGrammar(T,s);if(A)if(C){let D=A.repository[C];D&&(y=ia.getCompiledRuleId(D,i,A.repository))}else y=ia.getCompiledRuleId(A.repository.$self,i,A.repository);break}}else y=ia.getCompiledRuleId(m,i,s);if(y!==-1){const _=i.getRule(y);let b=!1;if((_ instanceof xne||_ instanceof z4||_ instanceof KT)&&_.hasMissingPatterns&&_.patterns.length===0&&(b=!0),b)continue;u.push(y)}}return{patterns:u,hasMissingPatterns:(e?e.length:0)!==u.length}}},R1=class qfe{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,i){if(e&&typeof e=="string"){const s=e.length;let u=0,d=[],h=!1;for(let m=0;m<s;m++)if(e.charAt(m)==="\\"&&m+1<s){const _=e.charAt(m+1);_==="z"?(d.push(e.substring(u,m)),d.push("$(?!\\n)(?<!\\n)"),u=m+2):(_==="A"||_==="G")&&(h=!0),m++}this.hasAnchor=h,u===0?this.source=e:(d.push(e.substring(u,s)),this.source=d.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=i,typeof this.source=="string"?this.hasBackReferences=jKe.test(this.source):this.hasBackReferences=!1}clone(){return new qfe(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,i){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let s=i.map(u=>e.substring(u.start,u.end));return yne.lastIndex=0,this.source.replace(yne,(u,d)=>Bfe(s[parseInt(d,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],i=[],s=[],u=[],d,h,m,y;for(d=0,h=this.source.length;d<h;d++)m=this.source.charAt(d),e[d]=m,i[d]=m,s[d]=m,u[d]=m,m==="\\"&&d+1<h&&(y=this.source.charAt(d+1),y==="A"?(e[d+1]="￿",i[d+1]="￿",s[d+1]="A",u[d+1]="A"):y==="G"?(e[d+1]="￿",i[d+1]="G",s[d+1]="￿",u[d+1]="G"):(e[d+1]=y,i[d+1]=y,s[d+1]=y,u[d+1]=y),d++);return{A0_G0:e.join(""),A0_G1:i.join(""),A1_G0:s.join(""),A1_G1:u.join("")}}resolveAnchors(e,i){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?i?this._anchorCache.A1_G1:this._anchorCache.A1_G0:i?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},L1=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(i=>i.source);this._cached=new _ne(t,e,this._items.map(i=>i.ruleId))}return this._cached}compileAG(t,e,i){return this._hasAnchors?e?i?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,i)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,i)),this._anchorCache.A1_G0):i?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,i)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,i)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,i){let s=this._items.map(u=>u.resolveAnchors(e,i));return new _ne(t,s,this._items.map(u=>u.ruleId))}},_ne=class{constructor(t,e,i){this.regExps=e,this.rules=i,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,i=this.rules.length;e<i;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,i){const s=this.scanner.findNextMatchSync(t,e,i);return s?{ruleId:this.rules[s.index],captureIndices:s.captureIndices}:null}},vN=class{constructor(t,e){this.languageId=t,this.tokenType=e}},WKe=class B4{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,i){this._defaultAttributes=new vN(e,8),this._embeddedLanguagesMatcher=new UKe(Object.entries(i||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?B4._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new vN(0,0);_getBasicScopeAttributes=new Qfe(e=>{const i=this._scopeToLanguage(e),s=this._toStandardTokenType(e);return new vN(i,s)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const i=e.match(B4.STANDARD_TOKEN_TYPE_REGEXP);if(!i)return 8;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},UKe=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([i,s])=>Bfe(i));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},One=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function Zfe(t,e,i,s,u,d,h,m){const y=e.content.length;let _=!1,b=-1;if(h){const A=qKe(t,e,i,s,u,d);u=A.stack,s=A.linePos,i=A.isFirstLine,b=A.anchorPosition}const T=Date.now();for(;!_;){if(m!==0&&Date.now()-T>m)return new One(u,!0);C()}return new One(u,!1);function C(){const A=ZKe(t,e,i,s,u,b);if(!A){d.produce(u,y),_=!0;return}const D=A.captureIndices,L=A.matchedRuleId,z=D&&D.length>0?D[0].end>s:!1;if(L===VKe){const $=u.getRule(t);d.produce(u,D[0].start),u=u.withContentNameScopesList(u.nameScopesList),Dx(t,e,i,u,d,$.endCaptures,D),d.produce(u,D[0].end);const Q=u;if(u=u.parent,b=Q.getAnchorPos(),!z&&Q.getEnterPos()===s){u=Q,d.produce(u,y),_=!0;return}}else{const $=t.getRule(L);d.produce(u,D[0].start);const Q=u,B=$.getName(e.content,D),q=u.contentNameScopesList.pushAttributed(B,t);if(u=u.push(L,s,b,D[0].end===y,null,q,q),$ instanceof z4){const Y=$;Dx(t,e,i,u,d,Y.beginCaptures,D),d.produce(u,D[0].end),b=D[0].end;const G=Y.getContentName(e.content,D),H=q.pushAttributed(G,t);if(u=u.withContentNameScopesList(H),Y.endHasBackReferences&&(u=u.withEndRule(Y.getEndWithResolvedBackReferences(e.content,D))),!z&&Q.hasSameRuleAs(u)){u=u.pop(),d.produce(u,y),_=!0;return}}else if($ instanceof KT){const Y=$;Dx(t,e,i,u,d,Y.beginCaptures,D),d.produce(u,D[0].end),b=D[0].end;const G=Y.getContentName(e.content,D),H=q.pushAttributed(G,t);if(u=u.withContentNameScopesList(H),Y.whileHasBackReferences&&(u=u.withEndRule(Y.getWhileWithResolvedBackReferences(e.content,D))),!z&&Q.hasSameRuleAs(u)){u=u.pop(),d.produce(u,y),_=!0;return}}else if(Dx(t,e,i,u,d,$.captures,D),d.produce(u,D[0].end),u=u.pop(),!z){u=u.safePop(),d.produce(u,y),_=!0;return}}D[0].end>s&&(s=D[0].end,i=!1)}}function qKe(t,e,i,s,u,d){let h=u.beginRuleCapturedEOL?0:-1;const m=[];for(let y=u;y;y=y.pop()){const _=y.getRule(t);_ instanceof KT&&m.push({rule:_,stack:y})}for(let y=m.pop();y;y=m.pop()){const{ruleScanner:_,findOptions:b}=YKe(y.rule,t,y.stack.endRule,i,s===h),T=_.findNextMatchSync(e,s,b);if(T){if(T.ruleId!==Wfe){u=y.stack.pop();break}T.captureIndices&&T.captureIndices.length&&(d.produce(y.stack,T.captureIndices[0].start),Dx(t,e,i,y.stack,d,y.rule.whileCaptures,T.captureIndices),d.produce(y.stack,T.captureIndices[0].end),h=T.captureIndices[0].end,T.captureIndices[0].end>s&&(s=T.captureIndices[0].end,i=!1))}else{u=y.stack.pop();break}}return{stack:u,linePos:s,anchorPosition:h,isFirstLine:i}}function ZKe(t,e,i,s,u,d){const h=HKe(t,e,i,s,u,d),m=t.getInjections();if(m.length===0)return h;const y=XKe(m,t,e,i,s,u,d);if(!y)return h;if(!h)return y;const _=h.captureIndices[0].start,b=y.captureIndices[0].start;return b<_||y.priorityMatch&&b===_?y:h}function HKe(t,e,i,s,u,d){const h=u.getRule(t),{ruleScanner:m,findOptions:y}=Hfe(h,t,u.endRule,i,s===d),_=m.findNextMatchSync(e,s,y);return _?{captureIndices:_.captureIndices,matchedRuleId:_.ruleId}:null}function XKe(t,e,i,s,u,d,h){let m=Number.MAX_VALUE,y=null,_,b=0;const T=d.contentNameScopesList.getScopeNames();for(let C=0,A=t.length;C<A;C++){const D=t[C];if(!D.matcher(T))continue;const L=e.getRule(D.ruleId),{ruleScanner:z,findOptions:$}=Hfe(L,e,null,s,u===h),Q=z.findNextMatchSync(i,u,$);if(!Q)continue;const B=Q.captureIndices[0].start;if(!(B>=m)&&(m=B,y=Q.captureIndices,_=Q.ruleId,b=D.priority,m===u))break}return y?{priorityMatch:b===-1,captureIndices:y,matchedRuleId:_}:null}function Hfe(t,e,i,s,u){return{ruleScanner:t.compileAG(e,i,s,u),findOptions:0}}function YKe(t,e,i,s,u){return{ruleScanner:t.compileWhileAG(e,i,s,u),findOptions:0}}function Dx(t,e,i,s,u,d,h){if(d.length===0)return;const m=e.content,y=Math.min(d.length,h.length),_=[],b=h[0].end;for(let T=0;T<y;T++){const C=d[T];if(C===null)continue;const A=h[T];if(A.length===0)continue;if(A.start>b)break;for(;_.length>0&&_[_.length-1].endPos<=A.start;)u.produceFromScopes(_[_.length-1].scopes,_[_.length-1].endPos),_.pop();if(_.length>0?u.produceFromScopes(_[_.length-1].scopes,A.start):u.produce(s,A.start),C.retokenizeCapturedWithRuleId){const L=C.getName(m,h),z=s.contentNameScopesList.pushAttributed(L,t),$=C.getContentName(m,h),Q=z.pushAttributed($,t),B=s.push(C.retokenizeCapturedWithRuleId,A.start,-1,!1,null,z,Q),q=t.createOnigString(m.substring(0,A.end));Zfe(t,q,i&&A.start===0,A.start,B,u,!1,0),Ffe(q);continue}const D=C.getName(m,h);if(D!==null){const z=(_.length>0?_[_.length-1].scopes:s.contentNameScopesList).pushAttributed(D,t);_.push(new KKe(z,A.end))}}for(;_.length>0;)u.produceFromScopes(_[_.length-1].scopes,_[_.length-1].endPos),_.pop()}var KKe=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function JKe(t,e,i,s,u,d,h,m){return new tJe(t,e,i,s,u,d,h,m)}function bne(t,e,i,s,u){const d=XT(e,JT),h=Ufe.getCompiledRuleId(i,s,u.repository);for(const m of d)t.push({debugSelector:e,matcher:m.matcher,ruleId:h,grammar:u,priority:m.priority})}function JT(t,e){if(e.length<t.length)return!1;let i=0;return t.every(s=>{for(let u=i;u<e.length;u++)if(eJe(e[u],s))return i=u+1,!0;return!1})}function eJe(t,e){if(!t)return!1;if(t===e)return!0;const i=e.length;return t.length>i&&t.substr(0,i)===e&&t[i]==="."}var tJe=class{constructor(t,e,i,s,u,d,h,m){if(this._rootScopeName=t,this.balancedBracketSelectors=d,this._onigLib=m,this._basicScopeAttributesProvider=new WKe(i,s),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=h,this._grammar=wne(e,null),this._injections=null,this._tokenTypeMatchers=[],u)for(const y of Object.keys(u)){const _=XT(y,JT);for(const b of _)this._tokenTypeMatchers.push({matcher:b.matcher,type:u[y]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:u=>u===this._rootScopeName?this._grammar:this.getExternalGrammar(u),injections:u=>this._grammarRepository.injections(u)},e=[],i=this._rootScopeName,s=t.lookup(i);if(s){const u=s.injections;if(u)for(let h in u)bne(e,h,u[h],this,s);const d=this._grammarRepository.injections(i);d&&d.forEach(h=>{const m=this.getExternalGrammar(h);if(m){const y=m.injectionSelector;y&&bne(e,y,m,this,m)}})}return e.sort((u,d)=>u.priority-d.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,i=t(e);return this._ruleId2desc[e]=i,i}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const i=this._grammarRepository.lookup(t);if(i)return this._includedGrammars[t]=wne(i,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,i=0){const s=this._tokenize(t,e,!1,i);return{tokens:s.lineTokens.getResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}tokenizeLine2(t,e,i=0){const s=this._tokenize(t,e,!0,i);return{tokens:s.lineTokens.getBinaryResult(s.ruleStack,s.lineLength),ruleStack:s.ruleStack,stoppedEarly:s.stoppedEarly}}_tokenize(t,e,i,s){this._rootId===-1&&(this._rootId=Ufe.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let u;if(!e||e===Q4.NULL){u=!0;const _=this._basicScopeAttributesProvider.getDefaultAttributes(),b=this.themeProvider.getDefaults(),T=iv.set(0,_.languageId,_.tokenType,null,b.fontStyle,b.foregroundId,b.backgroundId),C=this.getRule(this._rootId).getName(null,null);let A;C?A=Kx.createRootAndLookUpScopeName(C,T,this):A=Kx.createRoot("unknown",T),e=new Q4(null,this._rootId,-1,-1,!1,null,A,A)}else u=!1,e.reset();t=t+`
`;const d=this.createOnigString(t),h=d.content.length,m=new rJe(i,t,this._tokenTypeMatchers,this.balancedBracketSelectors),y=Zfe(this,d,u,0,e,m,!0,s);return Ffe(d),{lineLength:h,lineTokens:m,ruleStack:y.stack,stoppedEarly:y.stoppedEarly}}};function wne(t,e){return t=_Ke(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Kx=class Vl{constructor(e,i,s){this.parent=e,this.scopePath=i,this.tokenAttributes=s}static fromExtension(e,i){let s=e,u=e?.scopePath??null;for(const d of i)u=gN.push(u,d.scopeNames),s=new Vl(s,u,d.encodedTokenAttributes);return s}static createRoot(e,i){return new Vl(null,new gN(null,e),i)}static createRootAndLookUpScopeName(e,i,s){const u=s.getMetadataForScope(e),d=new gN(null,e),h=s.themeProvider.themeMatch(d),m=Vl.mergeAttributes(i,u,h);return new Vl(null,d,m)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Vl.equals(this,e)}static equals(e,i){do{if(e===i||!e&&!i)return!0;if(!e||!i||e.scopeName!==i.scopeName||e.tokenAttributes!==i.tokenAttributes)return!1;e=e.parent,i=i.parent}while(!0)}static mergeAttributes(e,i,s){let u=-1,d=0,h=0;return s!==null&&(u=s.fontStyle,d=s.foregroundId,h=s.backgroundId),iv.set(e,i.languageId,i.tokenType,null,u,d,h)}pushAttributed(e,i){if(e===null)return this;if(e.indexOf(" ")===-1)return Vl._pushAttributed(this,e,i);const s=e.split(/ /g);let u=this;for(const d of s)u=Vl._pushAttributed(u,d,i);return u}static _pushAttributed(e,i,s){const u=s.getMetadataForScope(i),d=e.scopePath.push(i),h=s.themeProvider.themeMatch(d),m=Vl.mergeAttributes(e.tokenAttributes,u,h);return new Vl(e,d,m)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const i=[];let s=this;for(;s&&s!==e;)i.push({encodedTokenAttributes:s.tokenAttributes,scopeNames:s.scopePath.getExtensionIfDefined(s.parent?.scopePath??null)}),s=s.parent;return s===e?i.reverse():void 0}},Q4=class Ih{constructor(e,i,s,u,d,h,m,y){this.parent=e,this.ruleId=i,this.beginRuleCapturedEOL=d,this.endRule=h,this.nameScopesList=m,this.contentNameScopesList=y,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=s,this._anchorPos=u}_stackElementBrand=void 0;static NULL=new Ih(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:Ih._equals(this,e)}static _equals(e,i){return e===i?!0:this._structuralEquals(e,i)?Kx.equals(e.contentNameScopesList,i.contentNameScopesList):!1}static _structuralEquals(e,i){do{if(e===i||!e&&!i)return!0;if(!e||!i||e.depth!==i.depth||e.ruleId!==i.ruleId||e.endRule!==i.endRule)return!1;e=e.parent,i=i.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Ih._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,i,s,u,d,h,m){return new Ih(this,e,i,s,u,d,h,m)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,i){return this.parent&&(i=this.parent._writeString(e,i)),e[i++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,i}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Ih(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let i=this;for(;i&&i._enterPos===e._enterPos;){if(i.ruleId===e.ruleId)return!0;i=i.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,i){const s=Kx.fromExtension(e?.nameScopesList??null,i.nameScopesList);return new Ih(e,i.ruleId,i.enterPos??-1,i.anchorPos??-1,i.beginRuleCapturedEOL,i.endRule,s,Kx.fromExtension(s,i.contentNameScopesList))}},nJe=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(i=>i==="*"?(this.allowAny=!0,[]):XT(i,JT).map(s=>s.matcher)),this.unbalancedBracketScopes=e.flatMap(i=>XT(i,JT).map(s=>s.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},rJe=class{constructor(t,e,i,s){this.balancedBracketSelectors=s,this._emitBinaryTokens=t,this._tokenTypeOverrides=i,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let s=t?.tokenAttributes??0,u=!1;if(this.balancedBracketSelectors?.matchesAlways&&(u=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const d=t?.getScopeNames()??[];for(const h of this._tokenTypeOverrides)h.matcher(d)&&(s=iv.set(s,0,h.type,null,-1,0,0));this.balancedBracketSelectors&&(u=this.balancedBracketSelectors.match(d))}if(u&&(s=iv.set(s,0,8,u,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===s){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(s),this._lastTokenEndIndex=e;return}const i=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:i}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const i=new Uint32Array(this._binaryTokens.length);for(let s=0,u=this._binaryTokens.length;s<u;s++)i[s]=this._binaryTokens[s];return i}},iJe=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,i,s,u){if(!this._grammars.has(t)){let d=this._rawGrammars.get(t);if(!d)return null;this._grammars.set(t,JKe(t,d,e,i,s,u,this,this._onigLib))}return this._grammars.get(t)}},aJe=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new iJe(HT.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,i){this._syncRegistry.setTheme(HT.createFromRawTheme(e,i))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,i,s){return this.loadGrammarWithConfiguration(e,i,{embeddedLanguages:s})}loadGrammarWithConfiguration(e,i,s){return this._loadGrammar(e,i,s.embeddedLanguages,s.tokenTypes,new nJe(s.balancedBracketSelectors||[],s.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,i,s,u,d){const h=new RKe(this._syncRegistry,e);for(;h.Q.length>0;)h.Q.map(m=>this._loadSingleGrammar(m.scopeName)),h.processQueue();return this._grammarForScopeName(e,i,s,u,d)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const i=this._options.loadGrammar(e);if(i){const s=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(i,s)}}addGrammar(e,i=[],s=0,u=null){return this._syncRegistry.addGrammar(e,i),this._grammarForScopeName(e.scopeName,s,u)}_grammarForScopeName(e,i=0,s=null,u=null,d=null){return this._syncRegistry.grammarForScopeName(e,i,s,u,d)}},j4=Q4.NULL;const oJe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Sne={}.hasOwnProperty;function sJe(t,e){const i=e||{};function s(u,...d){let h=s.invalid;const m=s.handlers;if(u&&Sne.call(u,t)){const y=String(u[t]);h=Sne.call(m,y)?m[y]:s.unknown}if(h)return h.call(this,u,...d)}return s.handlers=i.handlers||{},s.invalid=i.invalid,s.unknown=i.unknown,s}const lJe=/["&'<>`]/g,uJe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cJe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,dJe=/[|\\{}()[\]^$+*?.]/g,Tne=new WeakMap;function fJe(t,e){if(t=t.replace(e.subset?hJe(e.subset):lJe,s),e.subset||e.escapeOnly)return t;return t.replace(uJe,i).replace(cJe,s);function i(u,d,h){return e.format((u.charCodeAt(0)-55296)*1024+u.charCodeAt(1)-56320+65536,h.charCodeAt(d+2),e)}function s(u,d,h){return e.format(u.charCodeAt(0),h.charCodeAt(d+1),e)}}function hJe(t){let e=Tne.get(t);return e||(e=pJe(t),Tne.set(t,e)),e}function pJe(t){const e=[];let i=-1;for(;++i<t.length;)e.push(t[i].replace(dJe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const mJe=/[\dA-Fa-f]/;function gJe(t,e,i){const s="&#x"+t.toString(16).toUpperCase();return i&&e&&!mJe.test(String.fromCharCode(e))?s:s+";"}const vJe=/\d/;function yJe(t,e,i){const s="&#"+String(t);return i&&e&&!vJe.test(String.fromCharCode(e))?s:s+";"}const xJe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],yN={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},_Je=["cent","copy","divide","gt","lt","not","para","times"],Xfe={}.hasOwnProperty,V4={};let nS;for(nS in yN)Xfe.call(yN,nS)&&(V4[yN[nS]]=nS);const OJe=/[^\dA-Za-z]/;function bJe(t,e,i,s){const u=String.fromCharCode(t);if(Xfe.call(V4,u)){const d=V4[u],h="&"+d;return i&&xJe.includes(d)&&!_Je.includes(d)&&(!s||e&&e!==61&&OJe.test(String.fromCharCode(e)))?h:h+";"}return""}function wJe(t,e,i){let s=gJe(t,e,i.omitOptionalSemicolons),u;if((i.useNamedReferences||i.useShortestReferences)&&(u=bJe(t,e,i.omitOptionalSemicolons,i.attribute)),(i.useShortestReferences||!u)&&i.useShortestReferences){const d=yJe(t,e,i.omitOptionalSemicolons);d.length<s.length&&(s=d)}return u&&(!i.useShortestReferences||u.length<s.length)?u:s}function Fg(t,e){return fJe(t,Object.assign({format:wJe},e))}const SJe=/^>|^->|<!--|-->|--!>|<!-$/g,TJe=[">"],CJe=["<",">"];function kJe(t,e,i,s){return s.settings.bogusComments?"<?"+Fg(t.value,Object.assign({},s.settings.characterReferences,{subset:TJe}))+">":"<!--"+t.value.replace(SJe,u)+"-->";function u(d){return Fg(d,Object.assign({},s.settings.characterReferences,{subset:CJe}))}}function AJe(t,e,i,s){return"<!"+(s.settings.upperDoctype?"DOCTYPE":"doctype")+(s.settings.tightDoctype?"":" ")+"html>"}function Cne(t,e){const i=String(t);if(typeof e!="string")throw new TypeError("Expected character");let s=0,u=i.indexOf(e);for(;u!==-1;)s++,u=i.indexOf(e,u+e.length);return s}const Ci=Kfe(1),Yfe=Kfe(-1),PJe=[];function Kfe(t){return e;function e(i,s,u){const d=i?i.children:PJe;let h=(s||0)+t,m=d[h];if(!u)for(;m&&Wk(m);)h+=t,m=d[h];return m}}const EJe={}.hasOwnProperty;function Jfe(t){return e;function e(i,s,u){return EJe.call(t,i.tagName)&&t[i.tagName](i,s,u)}}const iQ=Jfe({body:DJe,caption:xN,colgroup:xN,dd:NJe,dt:LJe,head:xN,html:MJe,li:RJe,optgroup:$Je,option:zJe,p:IJe,rp:kne,rt:kne,tbody:QJe,td:Ane,tfoot:jJe,th:Ane,thead:BJe,tr:VJe});function xN(t,e,i){const s=Ci(i,e,!0);return!s||s.type!=="comment"&&!(s.type==="text"&&Wk(s.value.charAt(0)))}function MJe(t,e,i){const s=Ci(i,e);return!s||s.type!=="comment"}function DJe(t,e,i){const s=Ci(i,e);return!s||s.type!=="comment"}function IJe(t,e,i){const s=Ci(i,e);return s?s.type==="element"&&(s.tagName==="address"||s.tagName==="article"||s.tagName==="aside"||s.tagName==="blockquote"||s.tagName==="details"||s.tagName==="div"||s.tagName==="dl"||s.tagName==="fieldset"||s.tagName==="figcaption"||s.tagName==="figure"||s.tagName==="footer"||s.tagName==="form"||s.tagName==="h1"||s.tagName==="h2"||s.tagName==="h3"||s.tagName==="h4"||s.tagName==="h5"||s.tagName==="h6"||s.tagName==="header"||s.tagName==="hgroup"||s.tagName==="hr"||s.tagName==="main"||s.tagName==="menu"||s.tagName==="nav"||s.tagName==="ol"||s.tagName==="p"||s.tagName==="pre"||s.tagName==="section"||s.tagName==="table"||s.tagName==="ul"):!i||!(i.type==="element"&&(i.tagName==="a"||i.tagName==="audio"||i.tagName==="del"||i.tagName==="ins"||i.tagName==="map"||i.tagName==="noscript"||i.tagName==="video"))}function RJe(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&s.tagName==="li"}function LJe(t,e,i){const s=Ci(i,e);return!!(s&&s.type==="element"&&(s.tagName==="dt"||s.tagName==="dd"))}function NJe(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&(s.tagName==="dt"||s.tagName==="dd")}function kne(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&(s.tagName==="rp"||s.tagName==="rt")}function $Je(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&s.tagName==="optgroup"}function zJe(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&(s.tagName==="option"||s.tagName==="optgroup")}function BJe(t,e,i){const s=Ci(i,e);return!!(s&&s.type==="element"&&(s.tagName==="tbody"||s.tagName==="tfoot"))}function QJe(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&(s.tagName==="tbody"||s.tagName==="tfoot")}function jJe(t,e,i){return!Ci(i,e)}function VJe(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&s.tagName==="tr"}function Ane(t,e,i){const s=Ci(i,e);return!s||s.type==="element"&&(s.tagName==="td"||s.tagName==="th")}const FJe=Jfe({body:UJe,colgroup:qJe,head:WJe,html:GJe,tbody:ZJe});function GJe(t){const e=Ci(t,-1);return!e||e.type!=="comment"}function WJe(t){const e=new Set;for(const s of t.children)if(s.type==="element"&&(s.tagName==="base"||s.tagName==="title")){if(e.has(s.tagName))return!1;e.add(s.tagName)}const i=t.children[0];return!i||i.type==="element"}function UJe(t){const e=Ci(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Wk(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function qJe(t,e,i){const s=Yfe(i,e),u=Ci(t,-1,!0);return i&&s&&s.type==="element"&&s.tagName==="colgroup"&&iQ(s,i.children.indexOf(s),i)?!1:!!(u&&u.type==="element"&&u.tagName==="col")}function ZJe(t,e,i){const s=Yfe(i,e),u=Ci(t,-1);return i&&s&&s.type==="element"&&(s.tagName==="thead"||s.tagName==="tbody")&&iQ(s,i.children.indexOf(s),i)?!1:!!(u&&u.type==="element"&&u.tagName==="tr")}const rS={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function HJe(t,e,i,s){const u=s.schema,d=u.space==="svg"?!1:s.settings.omitOptionalTags;let h=u.space==="svg"?s.settings.closeEmptyElements:s.settings.voids.includes(t.tagName.toLowerCase());const m=[];let y;u.space==="html"&&t.tagName==="svg"&&(s.schema=L_);const _=XJe(s,t.properties),b=s.all(u.space==="html"&&t.tagName==="template"?t.content:t);return s.schema=u,b&&(h=!1),(_||!d||!FJe(t,e,i))&&(m.push("<",t.tagName,_?" "+_:""),h&&(u.space==="svg"||s.settings.closeSelfClosing)&&(y=_.charAt(_.length-1),(!s.settings.tightSelfClosing||y==="/"||y&&y!=='"'&&y!=="'")&&m.push(" "),m.push("/")),m.push(">")),m.push(b),!h&&(!d||!iQ(t,e,i))&&m.push("</"+t.tagName+">"),m.join("")}function XJe(t,e){const i=[];let s=-1,u;if(e){for(u in e)if(e[u]!==null&&e[u]!==void 0){const d=YJe(t,u,e[u]);d&&i.push(d)}}for(;++s<i.length;){const d=t.settings.tightAttributes?i[s].charAt(i[s].length-1):void 0;s!==i.length-1&&d!=='"'&&d!=="'"&&(i[s]+=" ")}return i.join("")}function YJe(t,e,i){const s=hde(t.schema,e),u=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,d=t.settings.allowDangerousCharacters?0:1;let h=t.quote,m;if(s.overloadedBoolean&&(i===s.attribute||i==="")?i=!0:(s.boolean||s.overloadedBoolean)&&(typeof i!="string"||i===s.attribute||i==="")&&(i=!!i),i==null||i===!1||typeof i=="number"&&Number.isNaN(i))return"";const y=Fg(s.attribute,Object.assign({},t.settings.characterReferences,{subset:rS.name[u][d]}));return i===!0||(i=Array.isArray(i)?(s.commaSeparated?ade:mde)(i,{padLeft:!t.settings.tightCommaSeparatedLists}):String(i),t.settings.collapseEmptyAttributes&&!i)?y:(t.settings.preferUnquoted&&(m=Fg(i,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:rS.unquoted[u][d]}))),m!==i&&(t.settings.quoteSmart&&Cne(i,h)>Cne(i,t.alternative)&&(h=t.alternative),m=h+Fg(i,Object.assign({},t.settings.characterReferences,{subset:(h==="'"?rS.single:rS.double)[u][d],attribute:!0}))+h),y+(m&&"="+m))}const KJe=["<","&"];function ehe(t,e,i,s){return i&&i.type==="element"&&(i.tagName==="script"||i.tagName==="style")?t.value:Fg(t.value,Object.assign({},s.settings.characterReferences,{subset:KJe}))}function JJe(t,e,i,s){return s.settings.allowDangerousHtml?t.value:ehe(t,e,i,s)}function eet(t,e,i,s){return s.all(t)}const tet=sJe("type",{invalid:net,unknown:ret,handlers:{comment:kJe,doctype:AJe,element:HJe,raw:JJe,root:eet,text:ehe}});function net(t){throw new Error("Expected node, not `"+t+"`")}function ret(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const iet={},aet={},oet=[];function set(t,e){const i=e||iet,s=i.quote||'"',u=s==='"'?"'":'"';if(s!=='"'&&s!=="'")throw new Error("Invalid quote `"+s+"`, expected `'` or `\"`");return{one:uet,all:cet,settings:{omitOptionalTags:i.omitOptionalTags||!1,allowParseErrors:i.allowParseErrors||!1,allowDangerousCharacters:i.allowDangerousCharacters||!1,quoteSmart:i.quoteSmart||!1,preferUnquoted:i.preferUnquoted||!1,tightAttributes:i.tightAttributes||!1,upperDoctype:i.upperDoctype||!1,tightDoctype:i.tightDoctype||!1,bogusComments:i.bogusComments||!1,tightCommaSeparatedLists:i.tightCommaSeparatedLists||!1,tightSelfClosing:i.tightSelfClosing||!1,collapseEmptyAttributes:i.collapseEmptyAttributes||!1,allowDangerousHtml:i.allowDangerousHtml||!1,voids:i.voids||oJe,characterReferences:i.characterReferences||aet,closeSelfClosing:i.closeSelfClosing||!1,closeEmptyElements:i.closeEmptyElements||!1},schema:i.space==="svg"?L_:pde,quote:s,alternative:u}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function uet(t,e,i){return tet(t,e,i,this)}function cet(t){const e=[],i=t&&t.children||oet;let s=-1;for(;++s<i.length;)e[s]=this.one(i[s],s,t);return e.join("")}function eC(t,e){const i=typeof t=="string"?{}:{...t.colorReplacements},s=typeof t=="string"?t:t.name;for(const[u,d]of Object.entries(e?.colorReplacements||{}))typeof d=="string"?i[u]=d:u===s&&Object.assign(i,d);return i}function Ed(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function det(t){return Array.isArray(t)?t:[t]}async function the(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function aQ(t){return!t||["plaintext","txt","text","plain"].includes(t)}function nhe(t){return t==="ansi"||aQ(t)}function oQ(t){return t==="none"}function rhe(t){return oQ(t)}function ihe(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const i=Array.isArray(e)?e:e.split(/\s+/g);for(const s of i)s&&!t.properties.class.includes(s)&&t.properties.class.push(s);return t}function eA(t,e=!1){if(t.length===0)return[["",0]];const i=t.split(/(\r?\n)/g);let s=0;const u=[];for(let d=0;d<i.length;d+=2){const h=e?i[d]+(i[d+1]||""):i[d];u.push([h,s]),s+=i[d].length,s+=i[d+1]?.length||0}return u}function fet(t){const e=eA(t,!0).map(([u])=>u);function i(u){if(u===t.length)return{line:e.length-1,character:e[e.length-1].length};let d=u,h=0;for(const m of e){if(d<m.length)break;d-=m.length,h++}return{line:h,character:d}}function s(u,d){let h=0;for(let m=0;m<u;m++)h+=e[m].length;return h+=d,h}return{lines:e,indexToPos:i,posToIndex:s}}function het(t,e,i){const s=new Set;for(const d of t.matchAll(/:?lang=["']([^"']+)["']/g)){const h=d[1].toLowerCase().trim();h&&s.add(h)}for(const d of t.matchAll(/(?:```|~~~)([\w-]+)/g)){const h=d[1].toLowerCase().trim();h&&s.add(h)}for(const d of t.matchAll(/\\begin\{([\w-]+)\}/g)){const h=d[1].toLowerCase().trim();h&&s.add(h)}for(const d of t.matchAll(/<script\s+(?:type|lang)=["']([^"']+)["']/gi)){const h=d[1].toLowerCase().trim(),m=h.includes("/")?h.split("/").pop():h;m&&s.add(m)}if(!i)return Array.from(s);const u=i.getBundledLanguages();return Array.from(s).filter(d=>d&&u[d])}const sQ="light-dark()",pet=["color","background-color"];function met(t,e){let i=0;const s=[];for(const u of e)u>i&&s.push({...t,content:t.content.slice(i,u),offset:t.offset+i}),i=u;return i<t.content.length&&s.push({...t,content:t.content.slice(i),offset:t.offset+i}),s}function get(t,e){const i=Array.from(e instanceof Set?e:new Set(e)).sort((s,u)=>s-u);return i.length?t.map(s=>s.flatMap(u=>{const d=i.filter(h=>u.offset<h&&h<u.offset+u.content.length).map(h=>h-u.offset).sort((h,m)=>h-m);return d.length?met(u,d):u})):t}function vet(t,e,i,s,u="css-vars"){const d={content:t.content,explanation:t.explanation,offset:t.offset},h=e.map(b=>tC(t.variants[b])),m=new Set(h.flatMap(b=>Object.keys(b))),y={},_=(b,T)=>{const C=T==="color"?"":T==="background-color"?"-bg":`-${T}`;return i+e[b]+(T==="color"?"":C)};return h.forEach((b,T)=>{for(const C of m){const A=b[C]||"inherit";if(T===0&&s&&pet.includes(C))if(s===sQ&&h.length>1){const D=e.findIndex(Q=>Q==="light"),L=e.findIndex(Q=>Q==="dark");if(D===-1||L===-1)throw new ai('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const z=h[D][C]||"inherit",$=h[L][C]||"inherit";y[C]=`light-dark(${z}, ${$})`,u==="css-vars"&&(y[_(T,C)]=A)}else y[C]=A;else u==="css-vars"&&(y[_(T,C)]=A)}}),d.htmlStyle=y,d}function tC(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&ua.Italic&&(e["font-style"]="italic"),t.fontStyle&ua.Bold&&(e["font-weight"]="bold");const i=[];t.fontStyle&ua.Underline&&i.push("underline"),t.fontStyle&ua.Strikethrough&&i.push("line-through"),i.length&&(e["text-decoration"]=i.join(" "))}return e}function F4(t){return typeof t=="string"?t:Object.entries(t).map(([e,i])=>`${e}:${i}`).join(";")}const ahe=new WeakMap;function tA(t,e){ahe.set(t,e)}function N1(t){return ahe.get(t)}class kv{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,i){return new kv(Object.fromEntries(det(i).map(s=>[s,j4])),e)}constructor(...e){if(e.length===2){const[i,s]=e;this.lang=s,this._stacks=i}else{const[i,s,u]=e;this.lang=s,this._stacks={[u]:i}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return yet(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function yet(t){const e=[],i=new Set;function s(u){if(i.has(u))return;i.add(u);const d=u?.nameScopesList?.scopeName;d&&e.push(d),u.parent&&s(u.parent)}return s(t),e}function xet(t,e){if(!(t instanceof kv))throw new ai("Invalid grammar state");return t.getInternalStack(e)}function _et(){const t=new WeakMap;function e(i){if(!t.has(i.meta)){let s=function(h){if(typeof h=="number"){if(h<0||h>i.source.length)throw new ai(`Invalid decoration offset: ${h}. Code length: ${i.source.length}`);return{...u.indexToPos(h),offset:h}}else{const m=u.lines[h.line];if(m===void 0)throw new ai(`Invalid decoration position ${JSON.stringify(h)}. Lines length: ${u.lines.length}`);let y=h.character;if(y<0&&(y=m.length+y),y<0||y>m.length)throw new ai(`Invalid decoration position ${JSON.stringify(h)}. Line ${h.line} length: ${m.length}`);return{...h,character:y,offset:u.posToIndex(h.line,y)}}};const u=fet(i.source),d=(i.options.decorations||[]).map(h=>({...h,start:s(h.start),end:s(h.end)}));Oet(d),t.set(i.meta,{decorations:d,converter:u,source:i.source})}return t.get(i.meta)}return{name:"shiki:decorations",tokens(i){if(!this.options.decorations?.length)return;const u=e(this).decorations.flatMap(h=>[h.start.offset,h.end.offset]);return get(i,u)},code(i){if(!this.options.decorations?.length)return;const s=e(this),u=Array.from(i.children).filter(b=>b.type==="element"&&b.tagName==="span");if(u.length!==s.converter.lines.length)throw new ai(`Number of lines in code element (${u.length}) does not match the number of lines in the source (${s.converter.lines.length}). Failed to apply decorations.`);function d(b,T,C,A){const D=u[b];let L="",z=-1,$=-1;if(T===0&&(z=0),C===0&&($=0),C===Number.POSITIVE_INFINITY&&($=D.children.length),z===-1||$===-1)for(let B=0;B<D.children.length;B++)L+=ohe(D.children[B]),z===-1&&L.length===T&&(z=B+1),$===-1&&L.length===C&&($=B+1);if(z===-1)throw new ai(`Failed to find start index for decoration ${JSON.stringify(A.start)}`);if($===-1)throw new ai(`Failed to find end index for decoration ${JSON.stringify(A.end)}`);const Q=D.children.slice(z,$);if(!A.alwaysWrap&&Q.length===D.children.length)m(D,A,"line");else if(!A.alwaysWrap&&Q.length===1&&Q[0].type==="element")m(Q[0],A,"token");else{const B={type:"element",tagName:"span",properties:{},children:Q};m(B,A,"wrapper"),D.children.splice(z,Q.length,B)}}function h(b,T){u[b]=m(u[b],T,"line")}function m(b,T,C){const A=T.properties||{},D=T.transform||(L=>L);return b.tagName=T.tagName||"span",b.properties={...b.properties,...A,class:b.properties.class},T.properties?.class&&ihe(b,T.properties.class),b=D(b,C)||b,b}const y=[],_=s.decorations.sort((b,T)=>T.start.offset-b.start.offset||b.end.offset-T.end.offset);for(const b of _){const{start:T,end:C}=b;if(T.line===C.line)d(T.line,T.character,C.character,b);else if(T.line<C.line){d(T.line,T.character,Number.POSITIVE_INFINITY,b);for(let A=T.line+1;A<C.line;A++)y.unshift(()=>h(A,b));d(C.line,0,C.character,b)}}y.forEach(b=>b())}}}function Oet(t){for(let e=0;e<t.length;e++){const i=t[e];if(i.start.offset>i.end.offset)throw new ai(`Invalid decoration range: ${JSON.stringify(i.start)} - ${JSON.stringify(i.end)}`);for(let s=e+1;s<t.length;s++){const u=t[s],d=i.start.offset<=u.start.offset&&u.start.offset<i.end.offset,h=i.start.offset<u.end.offset&&u.end.offset<=i.end.offset,m=u.start.offset<=i.start.offset&&i.start.offset<u.end.offset,y=u.start.offset<i.end.offset&&i.end.offset<=u.end.offset;if(d||h||m||y){if(d&&h||m&&y||m&&i.start.offset===i.end.offset||h&&u.start.offset===u.end.offset)continue;throw new ai(`Decorations ${JSON.stringify(i.start)} and ${JSON.stringify(u.start)} intersect.`)}}}}function ohe(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(ohe).join(""):""}const bet=[_et()];function nC(t){const e=wet(t.transformers||[]);return[...e.pre,...e.normal,...e.post,...bet]}function wet(t){const e=[],i=[],s=[];for(const u of t)switch(u.enforce){case"pre":e.push(u);break;case"post":i.push(u);break;default:s.push(u)}return{pre:e,post:i,normal:s}}var Wh=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],_N={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Tet(t,e){const i=t.indexOf("\x1B",e);if(i!==-1&&t[i+1]==="["){const s=t.indexOf("m",i);if(s!==-1)return{sequence:t.substring(i+2,s).split(";"),startPosition:i,position:s+1}}return{position:t.length}}function Pne(t){const e=t.shift();if(e==="2"){const i=t.splice(0,3).map(s=>Number.parseInt(s));return i.length!==3||i.some(s=>Number.isNaN(s))?void 0:{type:"rgb",rgb:i}}else if(e==="5"){const i=t.shift();if(i)return{type:"table",index:Number(i)}}}function Cet(t){const e=[];for(;t.length>0;){const i=t.shift();if(!i)continue;const s=Number.parseInt(i);if(!Number.isNaN(s))if(s===0)e.push({type:"resetAll"});else if(s<=9)_N[s]&&e.push({type:"setDecoration",value:_N[s]});else if(s<=29){const u=_N[s-20];u&&(e.push({type:"resetDecoration",value:u}),u==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(s<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Wh[s-30]}});else if(s===38){const u=Pne(t);u&&e.push({type:"setForegroundColor",value:u})}else if(s===39)e.push({type:"resetForegroundColor"});else if(s<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Wh[s-40]}});else if(s===48){const u=Pne(t);u&&e.push({type:"setBackgroundColor",value:u})}else s===49?e.push({type:"resetBackgroundColor"}):s===53?e.push({type:"setDecoration",value:"overline"}):s===55?e.push({type:"resetDecoration",value:"overline"}):s>=90&&s<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Wh[s-90+8]}}):s>=100&&s<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Wh[s-100+8]}})}return e}function ket(){let t=null,e=null,i=new Set;return{parse(s){const u=[];let d=0;do{const h=Tet(s,d),m=h.sequence?s.substring(d,h.startPosition):s.substring(d);if(m.length>0&&u.push({value:m,foreground:t,background:e,decorations:new Set(i)}),h.sequence){const y=Cet(h.sequence);for(const _ of y)_.type==="resetAll"?(t=null,e=null,i.clear()):_.type==="resetForegroundColor"?t=null:_.type==="resetBackgroundColor"?e=null:_.type==="resetDecoration"&&i.delete(_.value);for(const _ of y)_.type==="setForegroundColor"?t=_.value:_.type==="setBackgroundColor"?e=_.value:_.type==="setDecoration"&&i.add(_.value)}d=h.position}while(d<s.length);return u}}}var Aet={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Pet(t=Aet){function e(m){return t[m]}function i(m){return`#${m.map(y=>Math.max(0,Math.min(y,255)).toString(16).padStart(2,"0")).join("")}`}let s;function u(){if(s)return s;s=[];for(let _=0;_<Wh.length;_++)s.push(e(Wh[_]));let m=[0,95,135,175,215,255];for(let _=0;_<6;_++)for(let b=0;b<6;b++)for(let T=0;T<6;T++)s.push(i([m[_],m[b],m[T]]));let y=8;for(let _=0;_<24;_++,y+=10)s.push(i([y,y,y]));return s}function d(m){return u()[m]}function h(m){switch(m.type){case"named":return e(m.name);case"rgb":return i(m.rgb);case"table":return d(m.index)}}return{value:h}}const Eet={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function Met(t,e,i){const s=eC(t,i),u=eA(e),d=Object.fromEntries(Wh.map(y=>{const _=`terminal.ansi${y[0].toUpperCase()}${y.substring(1)}`,b=t.colors?.[_];return[y,b||Eet[y]]})),h=Pet(d),m=ket();return u.map(y=>m.parse(y[0]).map(_=>{let b,T;_.decorations.has("reverse")?(b=_.background?h.value(_.background):t.bg,T=_.foreground?h.value(_.foreground):t.fg):(b=_.foreground?h.value(_.foreground):t.fg,T=_.background?h.value(_.background):void 0),b=Ed(b,s),T=Ed(T,s),_.decorations.has("dim")&&(b=Det(b));let C=ua.None;return _.decorations.has("bold")&&(C|=ua.Bold),_.decorations.has("italic")&&(C|=ua.Italic),_.decorations.has("underline")&&(C|=ua.Underline),_.decorations.has("strikethrough")&&(C|=ua.Strikethrough),{content:_.value,offset:y[1],color:b,bgColor:T,fontStyle:C}}))}function Det(t){const e=t.match(/#([0-9a-f]{3,8})/i);if(e){const s=e[1];if(s.length===8){const u=Math.round(Number.parseInt(s.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${s.slice(0,6)}${u}`}else{if(s.length===6)return`#${s}80`;if(s.length===4){const u=s[0],d=s[1],h=s[2],m=s[3],y=Math.round(Number.parseInt(`${m}${m}`,16)/2).toString(16).padStart(2,"0");return`#${u}${u}${d}${d}${h}${h}${y}`}else if(s.length===3){const u=s[0],d=s[1],h=s[2];return`#${u}${u}${d}${d}${h}${h}80`}}}const i=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return i?`var(${i[1]}-dim)`:t}function lQ(t,e,i={}){const{theme:s=t.getLoadedThemes()[0]}=i,u=t.resolveLangAlias(i.lang||"text");if(aQ(u)||oQ(s))return eA(e).map(y=>[{content:y[0],offset:y[1]}]);const{theme:d,colorMap:h}=t.setTheme(s);if(u==="ansi")return Met(d,e,i);const m=t.getLanguage(i.lang||"text");if(i.grammarState){if(i.grammarState.lang!==m.name)throw new ai(`Grammar state language "${i.grammarState.lang}" does not match highlight language "${m.name}"`);if(!i.grammarState.themes.includes(d.name))throw new ai(`Grammar state themes "${i.grammarState.themes}" do not contain highlight theme "${d.name}"`)}return Ret(e,m,d,h,i)}function Iet(...t){if(t.length===2)return N1(t[1]);const[e,i,s={}]=t,{lang:u="text",theme:d=e.getLoadedThemes()[0]}=s;if(aQ(u)||oQ(d))throw new ai("Plain language does not have grammar state");if(u==="ansi")throw new ai("ANSI language does not have grammar state");const{theme:h,colorMap:m}=e.setTheme(d),y=e.getLanguage(u);return new kv(uQ(i,y,h,m,s).stateStack,y.name,h.name)}function Ret(t,e,i,s,u){const d=uQ(t,e,i,s,u),h=new kv(d.stateStack,e.name,i.name);return tA(d.tokens,h),d.tokens}function uQ(t,e,i,s,u){const d=eC(i,u),{tokenizeMaxLineLength:h=0,tokenizeTimeLimit:m=500}=u,y=eA(t);let _=u.grammarState?xet(u.grammarState,i.name)??j4:u.grammarContextCode!=null?uQ(u.grammarContextCode,e,i,s,{...u,grammarState:void 0,grammarContextCode:void 0}).stateStack:j4,b=[];const T=[];for(let C=0,A=y.length;C<A;C++){const[D,L]=y[C];if(D===""){b=[],T.push([]);continue}if(h>0&&D.length>=h){b=[],T.push([{content:D,offset:L,color:"",fontStyle:0}]);continue}let z,$,Q;u.includeExplanation&&(z=e.tokenizeLine(D,_,m),$=z.tokens,Q=0);const B=e.tokenizeLine2(D,_,m),q=B.tokens.length/2;for(let Y=0;Y<q;Y++){const G=B.tokens[2*Y],H=Y+1<q?B.tokens[2*Y+2]:D.length;if(G===H)continue;const V=B.tokens[2*Y+1],F=Ed(s[iv.getForeground(V)],d),te=iv.getFontStyle(V),ae={content:D.substring(G,H),offset:L+G,color:F,fontStyle:te};if(u.includeExplanation){const oe=[];if(u.includeExplanation!=="scopeName")for(const de of i.settings){let he;switch(typeof de.scope){case"string":he=de.scope.split(/,/).map(ue=>ue.trim());break;case"object":he=de.scope;break;default:continue}oe.push({settings:de,selectors:he.map(ue=>ue.split(/ /))})}ae.explanation=[];let fe=0;for(;G+fe<H;){const de=$[Q],he=D.substring(de.startIndex,de.endIndex);fe+=he.length,ae.explanation.push({content:he,scopes:u.includeExplanation==="scopeName"?Let(de.scopes):Net(oe,de.scopes)}),Q+=1}}b.push(ae)}T.push(b),b=[],_=B.ruleStack}return{tokens:T,stateStack:_}}function Let(t){return t.map(e=>({scopeName:e}))}function Net(t,e){const i=[];for(let s=0,u=e.length;s<u;s++){const d=e[s];i[s]={scopeName:d,themeMatches:zet(t,d,e.slice(0,s))}}return i}function Ene(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function $et(t,e,i){if(!Ene(t[t.length-1],e))return!1;let s=t.length-2,u=i.length-1;for(;s>=0&&u>=0;)Ene(t[s],i[u])&&(s-=1),u-=1;return s===-1}function zet(t,e,i){const s=[];for(const{selectors:u,settings:d}of t)for(const h of u)if($et(h,e,i)){s.push(d);break}return s}function she(t,e,i){const s=Object.entries(i.themes).filter(y=>y[1]).map(y=>({color:y[0],theme:y[1]})),u=s.map(y=>{const _=lQ(t,e,{...i,theme:y.theme}),b=N1(_),T=typeof y.theme=="string"?y.theme:y.theme.name;return{tokens:_,state:b,theme:T}}),d=Bet(...u.map(y=>y.tokens)),h=d[0].map((y,_)=>y.map((b,T)=>{const C={content:b.content,variants:{},offset:b.offset};return"includeExplanation"in i&&i.includeExplanation&&(C.explanation=b.explanation),d.forEach((A,D)=>{const{content:L,explanation:z,offset:$,...Q}=A[_][T];C.variants[s[D].color]=Q}),C})),m=u[0].state?new kv(Object.fromEntries(u.map(y=>[y.theme,y.state?.getInternalStack(y.theme)])),u[0].state.lang):void 0;return m&&tA(h,m),h}function Bet(...t){const e=t.map(()=>[]),i=t.length;for(let s=0;s<t[0].length;s++){const u=t.map(y=>y[s]),d=e.map(()=>[]);e.forEach((y,_)=>y.push(d[_]));const h=u.map(()=>0),m=u.map(y=>y[0]);for(;m.every(y=>y);){const y=Math.min(...m.map(_=>_.content.length));for(let _=0;_<i;_++){const b=m[_];b.content.length===y?(d[_].push(b),h[_]+=1,m[_]=u[_][h[_]]):(d[_].push({...b,content:b.content.slice(0,y)}),m[_]={...b,content:b.content.slice(y),offset:b.offset+y})}}}return e}function rC(t,e,i){let s,u,d,h,m,y;if("themes"in i){const{defaultColor:_="light",cssVariablePrefix:b="--shiki-",colorsRendering:T="css-vars"}=i,C=Object.entries(i.themes).filter($=>$[1]).map($=>({color:$[0],theme:$[1]})).sort(($,Q)=>$.color===_?-1:Q.color===_?1:0);if(C.length===0)throw new ai("`themes` option must not be empty");const A=she(t,e,i);if(y=N1(A),_&&sQ!==_&&!C.find($=>$.color===_))throw new ai(`\`themes\` option must contain the defaultColor key \`${_}\``);const D=C.map($=>t.getTheme($.theme)),L=C.map($=>$.color);d=A.map($=>$.map(Q=>vet(Q,L,b,_,T))),y&&tA(d,y);const z=C.map($=>eC($.theme,i));u=Mne(C,D,z,b,_,"fg",T),s=Mne(C,D,z,b,_,"bg",T),h=`shiki-themes ${D.map($=>$.name).join(" ")}`,m=_?void 0:[u,s].join(";")}else if("theme"in i){const _=eC(i.theme,i);d=lQ(t,e,i);const b=t.getTheme(i.theme);s=Ed(b.bg,_),u=Ed(b.fg,_),h=b.name,y=N1(d)}else throw new ai("Invalid options, either `theme` or `themes` must be provided");return{tokens:d,fg:u,bg:s,themeName:h,rootStyle:m,grammarState:y}}function Mne(t,e,i,s,u,d,h){return t.map((m,y)=>{const _=Ed(e[y][d],i[y])||"inherit",b=`${s+m.color}${d==="bg"?"-bg":""}:${_}`;if(y===0&&u){if(u===sQ&&t.length>1){const T=t.findIndex(L=>L.color==="light"),C=t.findIndex(L=>L.color==="dark");if(T===-1||C===-1)throw new ai('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const A=Ed(e[T][d],i[T])||"inherit",D=Ed(e[C][d],i[C])||"inherit";return`light-dark(${A}, ${D});${b}`}return _}return h==="css-vars"?b:null}).filter(m=>!!m).join(";")}function iC(t,e,i,s={meta:{},options:i,codeToHast:(u,d)=>iC(t,u,d),codeToTokens:(u,d)=>rC(t,u,d)}){let u=e;for(const D of nC(i))u=D.preprocess?.call(s,u,i)||u;let{tokens:d,fg:h,bg:m,themeName:y,rootStyle:_,grammarState:b}=rC(t,u,i);const{mergeWhitespaces:T=!0,mergeSameStyleTokens:C=!1}=i;T===!0?d=jet(d):T==="never"&&(d=Vet(d)),C&&(d=Fet(d));const A={...s,get source(){return u}};for(const D of nC(i))d=D.tokens?.call(A,d)||d;return Qet(d,{...i,fg:h,bg:m,themeName:y,rootStyle:i.rootStyle===!1?!1:i.rootStyle??_},A,b)}function Qet(t,e,i,s=N1(t)){const u=nC(e),d=[],h={type:"root",children:[]},{structure:m="classic",tabindex:y="0"}=e,_={class:`shiki ${e.themeName||""}`};e.rootStyle!==!1&&(e.rootStyle!=null?_.style=e.rootStyle:_.style=`background-color:${e.bg};color:${e.fg}`),y!==!1&&y!=null&&(_.tabindex=y.toString());for(const[L,z]of Object.entries(e.meta||{}))L.startsWith("_")||(_[L]=z);let b={type:"element",tagName:"pre",properties:_,children:[],data:e.data},T={type:"element",tagName:"code",properties:{},children:d};const C=[],A={...i,structure:m,addClassToHast:ihe,get source(){return i.source},get tokens(){return t},get options(){return e},get root(){return h},get pre(){return b},get code(){return T},get lines(){return C}};if(t.forEach((L,z)=>{z&&(m==="inline"?h.children.push({type:"element",tagName:"br",properties:{},children:[]}):m==="classic"&&d.push({type:"text",value:`
`}));let $={type:"element",tagName:"span",properties:{class:"line"},children:[]},Q=0;for(const B of L){let q={type:"element",tagName:"span",properties:{...B.htmlAttrs},children:[{type:"text",value:B.content}]};const Y=F4(B.htmlStyle||tC(B));Y&&(q.properties.style=Y);for(const G of u)q=G?.span?.call(A,q,z+1,Q,$,B)||q;m==="inline"?h.children.push(q):m==="classic"&&$.children.push(q),Q+=B.content.length}if(m==="classic"){for(const B of u)$=B?.line?.call(A,$,z+1)||$;C.push($),d.push($)}else m==="inline"&&C.push($)}),m==="classic"){for(const L of u)T=L?.code?.call(A,T)||T;b.children.push(T);for(const L of u)b=L?.pre?.call(A,b)||b;h.children.push(b)}else if(m==="inline"){const L=[];let z={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const B of h.children)B.type==="element"&&B.tagName==="br"?(L.push(z),z={type:"element",tagName:"span",properties:{class:"line"},children:[]}):(B.type==="element"||B.type==="text")&&z.children.push(B);L.push(z);let Q={type:"element",tagName:"code",properties:{},children:L};for(const B of u)Q=B?.code?.call(A,Q)||Q;h.children=[];for(let B=0;B<Q.children.length;B++){B>0&&h.children.push({type:"element",tagName:"br",properties:{},children:[]});const q=Q.children[B];q.type==="element"&&h.children.push(...q.children)}}let D=h;for(const L of u)D=L?.root?.call(A,D)||D;return s&&tA(D,s),D}function jet(t){return t.map(e=>{const i=[];let s="",u;return e.forEach((d,h)=>{const y=!(d.fontStyle&&(d.fontStyle&ua.Underline||d.fontStyle&ua.Strikethrough));y&&d.content.match(/^\s+$/)&&e[h+1]?(u===void 0&&(u=d.offset),s+=d.content):s?(y?i.push({...d,offset:u,content:s+d.content}):i.push({content:s,offset:u},d),u=void 0,s=""):i.push(d)}),i})}function Vet(t){return t.map(e=>e.flatMap(i=>{if(i.content.match(/^\s+$/))return i;const s=i.content.match(/^(\s*)(.*?)(\s*)$/);if(!s)return i;const[,u,d,h]=s;if(!u&&!h)return i;const m=[{...i,offset:i.offset+u.length,content:d}];return u&&m.unshift({content:u,offset:i.offset}),h&&m.push({content:h,offset:i.offset+u.length+d.length}),m}))}function Fet(t){return t.map(e=>{const i=[];for(const s of e){if(i.length===0){i.push({...s});continue}const u=i[i.length-1],d=F4(u.htmlStyle||tC(u)),h=F4(s.htmlStyle||tC(s)),m=u.fontStyle&&(u.fontStyle&ua.Underline||u.fontStyle&ua.Strikethrough),y=s.fontStyle&&(s.fontStyle&ua.Underline||s.fontStyle&ua.Strikethrough);!m&&!y&&d===h?u.content+=s.content:i.push({...s})}return i})}const Get=set;function Wet(t,e,i){const s={meta:{},options:i,codeToHast:(d,h)=>iC(t,d,h),codeToTokens:(d,h)=>rC(t,d,h)};let u=Get(iC(t,e,i,s));for(const d of nC(i))u=d.postprocess?.call(s,u,i)||u;return u}const Dne={light:"#333333",dark:"#bbbbbb"},Ine={light:"#fffffe",dark:"#1e1e1e"},Rne="__shiki_resolved";function cQ(t){if(t?.[Rne])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:i,fg:s}=e;if(!i||!s){const m=e.settings?e.settings.find(y=>!y.name&&!y.scope):void 0;m?.settings?.foreground&&(s=m.settings.foreground),m?.settings?.background&&(i=m.settings.background),!s&&e?.colors?.["editor.foreground"]&&(s=e.colors["editor.foreground"]),!i&&e?.colors?.["editor.background"]&&(i=e.colors["editor.background"]),s||(s=e.type==="light"?Dne.light:Dne.dark),i||(i=e.type==="light"?Ine.light:Ine.dark),e.fg=s,e.bg=i}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let u=0;const d=new Map;function h(m){if(d.has(m))return d.get(m);u+=1;const y=`#${u.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${y}`]?h(m):(d.set(m,y),y)}e.settings=e.settings.map(m=>{const y=m.settings?.foreground&&!m.settings.foreground.startsWith("#"),_=m.settings?.background&&!m.settings.background.startsWith("#");if(!y&&!_)return m;const b={...m,settings:{...m.settings}};if(y){const T=h(m.settings.foreground);e.colorReplacements[T]=m.settings.foreground,b.settings.foreground=T}if(_){const T=h(m.settings.background);e.colorReplacements[T]=m.settings.background,b.settings.background=T}return b});for(const m of Object.keys(e.colors||{}))if((m==="editor.foreground"||m==="editor.background"||m.startsWith("terminal.ansi"))&&!e.colors[m]?.startsWith("#")){const y=h(e.colors[m]);e.colorReplacements[y]=e.colors[m],e.colors[m]=y}return Object.defineProperty(e,Rne,{enumerable:!1,writable:!1,value:!0}),e}async function lhe(t){return Array.from(new Set((await Promise.all(t.filter(e=>!nhe(e)).map(async e=>await the(e).then(i=>Array.isArray(i)?i:[i])))).flat()))}async function uhe(t){return(await Promise.all(t.map(async i=>rhe(i)?null:cQ(await the(i))))).filter(i=>!!i)}let Uet=3;function qet(t,e=3){e>Uet||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let Mg=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function che(t,e){if(!e)return t;if(e[t]){const i=new Set([t]);for(;e[t];){if(t=e[t],i.has(t))throw new Mg(`Circular alias \`${Array.from(i).join(" -> ")} -> ${t}\``);i.add(t)}}return t}class Zet extends aJe{constructor(e,i,s,u={}){super(e),this._resolver=e,this._themes=i,this._langs=s,this._alias=u,this._themes.map(d=>this.loadTheme(d)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const i=cQ(e);return i.name&&(this._resolvedThemes.set(i.name,i),this._loadedThemesCache=null),i}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let i=this._textmateThemeCache.get(e);i||(i=HT.createFromRawTheme(e),this._textmateThemeCache.set(e,i)),this._syncRegistry.setTheme(i)}getGrammar(e){return e=che(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const i=new Set([...this._langMap.values()].filter(d=>d.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const s={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const u=this.loadGrammarWithConfiguration(e.scopeName,1,s);if(u.name=e.name,this._resolvedGrammars.set(e.name,u),e.aliases&&e.aliases.forEach(d=>{this._alias[d]=e.name}),this._loadedLanguagesCache=null,i.size)for(const d of i)this._resolvedGrammars.delete(d.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(d.scopeName),this._syncRegistry?._grammars?.delete(d.scopeName),this.loadLanguage(this._langMap.get(d.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const u of e)this.resolveEmbeddedLanguages(u);const i=Array.from(this._langGraph.entries()),s=i.filter(([u,d])=>!d);if(s.length){const u=i.filter(([d,h])=>h?(h.embeddedLanguages||h.embeddedLangs)?.some(y=>s.map(([_])=>_).includes(y)):!1).filter(d=>!s.includes(d));throw new Mg(`Missing languages ${s.map(([d])=>`\`${d}\``).join(", ")}, required by ${u.map(([d])=>`\`${d}\``).join(", ")}`)}for(const[u,d]of i)this._resolver.addLanguage(d);for(const[u,d]of i)this.loadLanguage(d)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);const i=e.embeddedLanguages??e.embeddedLangs;if(i)for(const s of i)this._langGraph.set(s,this._langMap.get(s))}}class Het{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,i){this._onigLib={createOnigScanner:s=>e.createScanner(s),createOnigString:s=>e.createString(s)},i.forEach(s=>this.addLanguage(s))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(i=>{this._langs.set(i,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(i=>{this._injections.get(i)||this._injections.set(i,[]),this._injections.get(i).push(e.scopeName)})}getInjections(e){const i=e.split(".");let s=[];for(let u=1;u<=i.length;u++){const d=i.slice(0,u).join(".");s=[...s,...this._injections.get(d)||[]]}return s}}let sx=0;function Xet(t){sx+=1,t.warnings!==!1&&sx>=10&&sx%10===0&&console.warn(`[Shiki] ${sx} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new Mg("`engine` option is required for synchronous mode");const i=(t.langs||[]).flat(1),s=(t.themes||[]).flat(1).map(cQ),u=new Het(t.engine,i),d=new Zet(u,s,i,t.langAlias);let h;function m(B){return che(B,t.langAlias)}function y(B){$();const q=d.getGrammar(typeof B=="string"?B:B.name);if(!q)throw new Mg(`Language \`${B}\` not found, you may need to load it first`);return q}function _(B){if(B==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};$();const q=d.getTheme(B);if(!q)throw new Mg(`Theme \`${B}\` not found, you may need to load it first`);return q}function b(B){$();const q=_(B);h!==B&&(d.setTheme(q),h=B);const Y=d.getColorMap();return{theme:q,colorMap:Y}}function T(){return $(),d.getLoadedThemes()}function C(){return $(),d.getLoadedLanguages()}function A(...B){$(),d.loadLanguages(B.flat(1))}async function D(...B){return A(await lhe(B))}function L(...B){$();for(const q of B.flat(1))d.loadTheme(q)}async function z(...B){return $(),L(await uhe(B))}function $(){if(e)throw new Mg("Shiki instance has been disposed")}function Q(){e||(e=!0,d.dispose(),sx-=1)}return{setTheme:b,getTheme:_,getLanguage:y,getLoadedThemes:T,getLoadedLanguages:C,resolveLangAlias:m,loadLanguage:D,loadLanguageSync:A,loadTheme:z,loadThemeSync:L,dispose:Q,[Symbol.dispose]:Q}}async function Yet(t){t.engine||qet("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,i,s]=await Promise.all([uhe(t.themes||[]),lhe(t.langs||[]),t.engine]);return Xet({...t,themes:e,langs:i,engine:s})}async function Ket(t){const e=await Yet(t);return{getLastGrammarState:(...i)=>Iet(e,...i),codeToTokensBase:(i,s)=>lQ(e,i,s),codeToTokensWithThemes:(i,s)=>she(e,i,s),codeToTokens:(i,s)=>rC(e,i,s),codeToHast:(i,s)=>iC(e,i,s),codeToHtml:(i,s)=>Wet(e,i,s),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function Jet(t){const e=t.langs,i=t.themes,s=t.engine;async function u(d){function h(T){if(typeof T=="string"){if(T=d.langAlias?.[T]||T,nhe(T))return[];const C=e[T];if(!C)throw new ai(`Language \`${T}\` is not included in this bundle. You may want to load it from external source.`);return C}return T}function m(T){if(rhe(T))return"none";if(typeof T=="string"){const C=i[T];if(!C)throw new ai(`Theme \`${T}\` is not included in this bundle. You may want to load it from external source.`);return C}return T}const y=(d.themes??[]).map(T=>m(T)),_=(d.langs??[]).map(T=>h(T)),b=await Ket({engine:d.engine??s(),...d,themes:y,langs:_});return{...b,loadLanguage(...T){return b.loadLanguage(...T.map(h))},loadTheme(...T){return b.loadTheme(...T.map(m))},getBundledLanguages(){return e},getBundledThemes(){return i}}}return u}function ett(t){let e;async function i(s={}){if(e){const u=await e;return await Promise.all([u.loadTheme(...s.themes||[]),u.loadLanguage(...s.langs||[])]),u}else{e=t({...s,themes:[],langs:[]});const u=await e;return await Promise.all([u.loadTheme(...s.themes||[]),u.loadLanguage(...s.langs||[])]),u}}return i}function ttt(t,e){const i=ett(t);async function s(u,d){const h=await i({langs:[d.lang],themes:"theme"in d?[d.theme]:Object.values(d.themes)}),m=await e?.guessEmbeddedLanguages?.(u,d.lang,h);return m&&await h.loadLanguage(...m),h}return{getSingletonHighlighter(u){return i(u)},async codeToHtml(u,d){return(await s(u,d)).codeToHtml(u,d)},async codeToHast(u,d){return(await s(u,d)).codeToHast(u,d)},async codeToTokens(u,d){return(await s(u,d)).codeToTokens(u,d)},async codeToTokensBase(u,d){return(await s(u,d)).codeToTokensBase(u,d)},async codeToTokensWithThemes(u,d){return(await s(u,d)).codeToTokensWithThemes(u,d)},async getLastGrammarState(u,d){return(await i({langs:[d.lang],themes:[d.theme]})).getLastGrammarState(u,d)}}}const dhe=[{id:"abap",name:"ABAP",import:(()=>xe(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>xe(()=>import("./actionscript-3-CoDkCxhg.js"),[]))},{id:"ada",name:"Ada",import:(()=>xe(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>xe(()=>import("./angular-html-CU67Zn6k.js").then(t=>t.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>xe(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>xe(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>xe(()=>import("./apex-D8_7TLub.js"),[]))},{id:"apl",name:"APL",import:(()=>xe(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>xe(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>xe(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>xe(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>xe(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>xe(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>xe(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>xe(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>xe(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>xe(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>xe(()=>import("./berry-uYugtg8r.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>xe(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>xe(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>xe(()=>import("./blade-D4QpJJKB.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>xe(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>xe(()=>import("./c-BIGW1oBm.js"),[]))},{id:"c3",name:"C3",import:(()=>xe(()=>import("./c3-VCDPK7BO.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>xe(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>xe(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>xe(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>xe(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>xe(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>xe(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>xe(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>xe(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>xe(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>xe(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>xe(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>xe(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>xe(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>xe(()=>import("./csharp-COcwbKMJ.js"),[]))},{id:"css",name:"CSS",import:(()=>xe(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>xe(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>xe(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>xe(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>xe(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>xe(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>xe(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>xe(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>xe(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>xe(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>xe(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>xe(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>xe(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>xe(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>xe(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>xe(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>xe(()=>import("./erb-CgJxNhIT.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>xe(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>xe(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>xe(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>xe(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>xe(()=>import("./fortran-fixed-form-CkoXwp7k.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>xe(()=>import("./fortran-free-form-BxgE0vQu.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>xe(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",aliases:["tscn","tres"],import:(()=>xe(()=>import("./gdresource-BOOCDP_w.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",aliases:["gd"],import:(()=>xe(()=>import("./gdscript-C5YyOfLZ.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>xe(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>xe(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>xe(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>xe(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>xe(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>xe(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>xe(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>xe(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>xe(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gn",name:"GN",import:(()=>xe(()=>import("./gn-n2N0HUVH.js"),[]))},{id:"gnuplot",name:"Gnuplot",import:(()=>xe(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>xe(()=>import("./go-CxLEBnE3.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>xe(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>xe(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>xe(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>xe(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>xe(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>xe(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>xe(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>xe(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>xe(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>xe(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>xe(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>xe(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>xe(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>xe(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>xe(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>xe(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>xe(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>xe(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>xe(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>xe(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>xe(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>xe(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>xe(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>xe(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>xe(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>xe(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>xe(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>xe(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>xe(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>xe(()=>import("./julia-CxzCAyBv.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>xe(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>xe(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>xe(()=>import("./kusto-DZf3V79B.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>xe(()=>import("./latex-DGMBWnxU.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>xe(()=>import("./lean-BZvkOJ9d.js"),[]))},{id:"less",name:"Less",import:(()=>xe(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>xe(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>xe(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>xe(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>xe(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>xe(()=>import("./lua-BaeVxFsk.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>xe(()=>import("./luau-C-HG3fhB.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>xe(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>xe(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>xe(()=>import("./marko-DZsq8hO1.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>xe(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>xe(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>xe(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>xe(()=>import("./mermaid-mWjccvbQ.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>xe(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>xe(()=>import("./mojo-B93PlW-d.js"),[]))},{id:"moonbit",name:"MoonBit",aliases:["mbt","mbti"],import:(()=>xe(()=>import("./moonbit-Ba13S78F.js"),[]))},{id:"move",name:"Move",import:(()=>xe(()=>import("./move-IF9eRakj.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>xe(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>xe(()=>import("./nextflow-BrzmwbiE.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>xe(()=>import("./nginx-BpAMiNFr.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>xe(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>xe(()=>import("./nix-CwoSXNpI.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>xe(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>xe(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>xe(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>xe(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"odin",name:"Odin",import:(()=>xe(()=>import("./odin-BBf5iR-q.js"),[]))},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:(()=>xe(()=>import("./openscad-C4EeE6gA.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>xe(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>xe(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>xe(()=>import("./php-Dhbhpdrm.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>xe(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>xe(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>xe(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>xe(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>xe(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>xe(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>xe(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>xe(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>xe(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>xe(()=>import("./proto-C7zT0LnQ.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>xe(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>xe(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>xe(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>xe(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>xe(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>xe(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>xe(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>xe(()=>import("./r-Dspwwk_N.js"),[]))},{id:"racket",name:"Racket",import:(()=>xe(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>xe(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>xe(()=>import("./razor-Uh8Bk_45.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>xe(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>xe(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>xe(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>xe(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"ron",name:"RON",import:(()=>xe(()=>import("./ron-BhRPY-oY.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>xe(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>xe(()=>import("./rst-D5oM4XIm.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>xe(()=>import("./ruby-Cw6WdidG.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>xe(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>xe(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>xe(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>xe(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>xe(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>xe(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>xe(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>xe(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>xe(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>xe(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>xe(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>xe(()=>import("./solidity-rGO070M0.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>xe(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>xe(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>xe(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>xe(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>xe(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>xe(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>xe(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"surrealql",name:"SurrealQL",aliases:["surql"],import:(()=>xe(()=>import("./surrealql-Bq5Q-fJD.js"),__vite__mapDeps([87,2])))},{id:"svelte",name:"Svelte",import:(()=>xe(()=>import("./svelte-zxCyuUbr.js"),__vite__mapDeps([88,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>xe(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>xe(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>xe(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>xe(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>xe(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>xe(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>xe(()=>import("./templ-P3uqSqPl.js"),__vite__mapDeps([89,90,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>xe(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>xe(()=>import("./tex-CvyZ59Mk.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>xe(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>xe(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([91,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>xe(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>xe(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>xe(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>xe(()=>import("./twig-ChbOoGGc.js"),__vite__mapDeps([92,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>xe(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>xe(()=>import("./typespec-BGHnOYBU.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>xe(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>xe(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>xe(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>xe(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>xe(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>xe(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>xe(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>xe(()=>import("./vue-DN_0RTcg.js"),__vite__mapDeps([93,3,2,11,9,1,15])))},{id:"vue-html",name:"Vue HTML",import:(()=>xe(()=>import("./vue-html-AaS7Mt5G.js"),__vite__mapDeps([94,2])))},{id:"vue-vine",name:"Vue Vine",import:(()=>xe(()=>import("./vue-vine-CQOfvN7w.js"),__vite__mapDeps([95,3,5,67,96,12,2])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>xe(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>xe(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:["文言"],import:(()=>xe(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>xe(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>xe(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>xe(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>xe(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>xe(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>xe(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([97,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>xe(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>xe(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>xe(()=>import("./zig-VOosw3JB.js"),[]))}],ntt=Object.fromEntries(dhe.map(t=>[t.id,t.import])),rtt=Object.fromEntries(dhe.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),itt={...ntt,...rtt},att=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>xe(()=>import("./andromeeda-C4gqWexZ.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>xe(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>xe(()=>import("./ayu-dark-CMjwMIkn.js"),[]))},{id:"ayu-light",displayName:"Ayu Light",type:"light",import:(()=>xe(()=>import("./ayu-light-C47S-Tmv.js"),[]))},{id:"ayu-mirage",displayName:"Ayu Mirage",type:"dark",import:(()=>xe(()=>import("./ayu-mirage-CjoLj4QM.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frappé",type:"dark",import:(()=>xe(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>xe(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>xe(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>xe(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>xe(()=>import("./dark-plus-C3mMm8J8.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>xe(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>xe(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>xe(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>xe(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>xe(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>xe(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>xe(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>xe(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>xe(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>xe(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>xe(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>xe(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>xe(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>xe(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>xe(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>xe(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>xe(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"horizon",displayName:"Horizon",type:"dark",import:(()=>xe(()=>import("./horizon-BUw7H-hv.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>xe(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>xe(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>xe(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>xe(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>xe(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>xe(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>xe(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>xe(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>xe(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>xe(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>xe(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>xe(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>xe(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>xe(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>xe(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"night-owl-light",displayName:"Night Owl Light",type:"light",import:(()=>xe(()=>import("./night-owl-light-CMTm3GFP.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>xe(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>xe(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>xe(()=>import("./one-light-C3Wv6jpd.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>xe(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>xe(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>xe(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Rosé Pine",type:"dark",import:(()=>xe(()=>import("./rose-pine-qdsjHGoJ.js"),[]))},{id:"rose-pine-dawn",displayName:"Rosé Pine Dawn",type:"light",import:(()=>xe(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[]))},{id:"rose-pine-moon",displayName:"Rosé Pine Moon",type:"dark",import:(()=>xe(()=>import("./rose-pine-moon-D4_iv3hh.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>xe(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>xe(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>xe(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>xe(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>xe(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>xe(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>xe(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>xe(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>xe(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>xe(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>xe(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],ott=Object.fromEntries(att.map(t=>[t.id,t.import]));class dQ extends Error{constructor(e){super(e),this.name="ShikiError"}}function stt(){return 2147483648}function ltt(){return typeof performance<"u"?performance.now():Date.now()}const utt=(t,e)=>t+(e-t%e)%e;async function ctt(t){let e,i;const s={};function u(A){i=A,s.HEAPU8=new Uint8Array(A),s.HEAPU32=new Uint32Array(A)}function d(A,D,L){s.HEAPU8.copyWithin(A,D,D+L)}function h(A){try{return e.grow(A-i.byteLength+65535>>>16),u(e.buffer),1}catch{}}function m(A){const D=s.HEAPU8.length;A=A>>>0;const L=stt();if(A>L)return!1;for(let z=1;z<=4;z*=2){let $=D*(1+.2/z);$=Math.min($,A+100663296);const Q=Math.min(L,utt(Math.max(A,$),65536));if(h(Q))return!0}return!1}const y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _(A,D,L=1024){const z=D+L;let $=D;for(;A[$]&&!($>=z);)++$;if($-D>16&&A.buffer&&y)return y.decode(A.subarray(D,$));let Q="";for(;D<$;){let B=A[D++];if(!(B&128)){Q+=String.fromCharCode(B);continue}const q=A[D++]&63;if((B&224)===192){Q+=String.fromCharCode((B&31)<<6|q);continue}const Y=A[D++]&63;if((B&240)===224?B=(B&15)<<12|q<<6|Y:B=(B&7)<<18|q<<12|Y<<6|A[D++]&63,B<65536)Q+=String.fromCharCode(B);else{const G=B-65536;Q+=String.fromCharCode(55296|G>>10,56320|G&1023)}}return Q}function b(A,D){return A?_(s.HEAPU8,A,D):""}const T={emscripten_get_now:ltt,emscripten_memcpy_big:d,emscripten_resize_heap:m,fd_write:()=>0};async function C(){const D=await t({env:T,wasi_snapshot_preview1:T});e=D.memory,u(e.buffer),Object.assign(s,D),s.UTF8ToString=b}return await C(),s}var dtt=Object.defineProperty,ftt=(t,e,i)=>e in t?dtt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,_i=(t,e,i)=>ftt(t,typeof e!="symbol"?e+"":e,i);let Ri=null;function htt(t){throw new dQ(t.UTF8ToString(t.getLastOnigError()))}class nA{constructor(e){_i(this,"utf16Length"),_i(this,"utf8Length"),_i(this,"utf16Value"),_i(this,"utf8Value"),_i(this,"utf16OffsetToUtf8"),_i(this,"utf8OffsetToUtf16");const i=e.length,s=nA._utf8ByteLength(e),u=s!==i,d=u?new Uint32Array(i+1):null;u&&(d[i]=s);const h=u?new Uint32Array(s+1):null;u&&(h[s]=i);const m=new Uint8Array(s);let y=0;for(let _=0;_<i;_++){const b=e.charCodeAt(_);let T=b,C=!1;if(b>=55296&&b<=56319&&_+1<i){const A=e.charCodeAt(_+1);A>=56320&&A<=57343&&(T=(b-55296<<10)+65536|A-56320,C=!0)}u&&(d[_]=y,C&&(d[_+1]=y),T<=127?h[y+0]=_:T<=2047?(h[y+0]=_,h[y+1]=_):T<=65535?(h[y+0]=_,h[y+1]=_,h[y+2]=_):(h[y+0]=_,h[y+1]=_,h[y+2]=_,h[y+3]=_)),T<=127?m[y++]=T:T<=2047?(m[y++]=192|(T&1984)>>>6,m[y++]=128|(T&63)>>>0):T<=65535?(m[y++]=224|(T&61440)>>>12,m[y++]=128|(T&4032)>>>6,m[y++]=128|(T&63)>>>0):(m[y++]=240|(T&1835008)>>>18,m[y++]=128|(T&258048)>>>12,m[y++]=128|(T&4032)>>>6,m[y++]=128|(T&63)>>>0),C&&_++}this.utf16Length=i,this.utf8Length=s,this.utf16Value=e,this.utf8Value=m,this.utf16OffsetToUtf8=d,this.utf8OffsetToUtf16=h}static _utf8ByteLength(e){let i=0;for(let s=0,u=e.length;s<u;s++){const d=e.charCodeAt(s);let h=d,m=!1;if(d>=55296&&d<=56319&&s+1<u){const y=e.charCodeAt(s+1);y>=56320&&y<=57343&&(h=(d-55296<<10)+65536|y-56320,m=!0)}h<=127?i+=1:h<=2047?i+=2:h<=65535?i+=3:i+=4,m&&s++}return i}createString(e){const i=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,i),i}}const rA=class Fl{constructor(e){if(_i(this,"id",++Fl.LAST_ID),_i(this,"_onigBinding"),_i(this,"content"),_i(this,"utf16Length"),_i(this,"utf8Length"),_i(this,"utf16OffsetToUtf8"),_i(this,"utf8OffsetToUtf16"),_i(this,"ptr"),!Ri)throw new dQ("Must invoke loadWasm first.");this._onigBinding=Ri,this.content=e;const i=new nA(e);this.utf16Length=i.utf16Length,this.utf8Length=i.utf8Length,this.utf16OffsetToUtf8=i.utf16OffsetToUtf8,this.utf8OffsetToUtf16=i.utf8OffsetToUtf16,this.utf8Length<1e4&&!Fl._sharedPtrInUse?(Fl._sharedPtr||(Fl._sharedPtr=Ri.omalloc(1e4)),Fl._sharedPtrInUse=!0,Ri.HEAPU8.set(i.utf8Value,Fl._sharedPtr),this.ptr=Fl._sharedPtr):this.ptr=i.createString(Ri)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Fl._sharedPtr?Fl._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};_i(rA,"LAST_ID",0);_i(rA,"_sharedPtr",0);_i(rA,"_sharedPtrInUse",!1);let fhe=rA;class ptt{constructor(e){if(_i(this,"_onigBinding"),_i(this,"_ptr"),!Ri)throw new dQ("Must invoke loadWasm first.");const i=[],s=[];for(let m=0,y=e.length;m<y;m++){const _=new nA(e[m]);i[m]=_.createString(Ri),s[m]=_.utf8Length}const u=Ri.omalloc(4*e.length);Ri.HEAPU32.set(i,u/4);const d=Ri.omalloc(4*e.length);Ri.HEAPU32.set(s,d/4);const h=Ri.createOnigScanner(u,d,e.length);for(let m=0,y=e.length;m<y;m++)Ri.ofree(i[m]);Ri.ofree(d),Ri.ofree(u),h===0&&htt(Ri),this._onigBinding=Ri,this._ptr=h}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,i,s){let u=0;if(typeof s=="number"&&(u=s),typeof e=="string"){e=new fhe(e);const d=this._findNextMatchSync(e,i,!1,u);return e.dispose(),d}return this._findNextMatchSync(e,i,!1,u)}_findNextMatchSync(e,i,s,u){const d=this._onigBinding,h=d.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(i),u);if(h===0)return null;const m=d.HEAPU32;let y=h/4;const _=m[y++],b=m[y++],T=[];for(let C=0;C<b;C++){const A=e.convertUtf8OffsetToUtf16(m[y++]),D=e.convertUtf8OffsetToUtf16(m[y++]);T[C]={start:A,end:D,length:D-A}}return{index:_,captureIndices:T}}}function mtt(t){return typeof t.instantiator=="function"}function gtt(t){return typeof t.default=="function"}function vtt(t){return typeof t.data<"u"}function ytt(t){return typeof Response<"u"&&t instanceof Response}function xtt(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let iS;function _tt(t){if(iS)return iS;async function e(){Ri=await ctt(async i=>{let s=t;return s=await s,typeof s=="function"&&(s=await s(i)),typeof s=="function"&&(s=await s(i)),mtt(s)?s=await s.instantiator(i):gtt(s)?s=await s.default(i):(vtt(s)&&(s=s.data),ytt(s)?typeof WebAssembly.instantiateStreaming=="function"?s=await Ott(s)(i):s=await btt(s)(i):xtt(s)?s=await ON(s)(i):s instanceof WebAssembly.Module?s=await ON(s)(i):"default"in s&&s.default instanceof WebAssembly.Module&&(s=await ON(s.default)(i))),"instance"in s&&(s=s.instance),"exports"in s&&(s=s.exports),s})}return iS=e(),iS}function ON(t){return e=>WebAssembly.instantiate(t,e)}function Ott(t){return e=>WebAssembly.instantiateStreaming(t,e)}function btt(t){return async e=>{const i=await t.arrayBuffer();return WebAssembly.instantiate(i,e)}}async function wtt(t){return t&&await _tt(t),{createScanner(e){return new ptt(e.map(i=>typeof i=="string"?i:i.source))},createString(e){return new fhe(e)}}}const Stt=Jet({langs:itt,themes:ott,engine:()=>wtt(xe(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{codeToHtml:Lne}=ttt(Stt,{guessEmbeddedLanguages:het}),hhe=K.createContext({code:""}),Ttt={name:"line-numbers",line(t,e){t.children.unshift({type:"element",tagName:"span",properties:{className:["inline-block","min-w-10","mr-4","text-right","select-none","text-muted-foreground"]},children:[{type:"text",value:String(e)}]})}};async function Ctt(t,e,i=!1){const s=i?[Ttt]:[];return await Promise.all([Lne(t,{lang:e,theme:"one-light",transformers:s}),Lne(t,{lang:e,theme:"one-dark-pro",transformers:s})])}const $1=({code:t,language:e,showLineNumbers:i=!1,className:s,children:u,...d})=>{const[h,m]=K.useState(""),[y,_]=K.useState(""),b=K.useRef(!1);return K.useEffect(()=>(Ctt(t,e,i).then(([T,C])=>{b.current||(m(T),_(C),b.current=!0)}),()=>{b.current=!1}),[t,e,i]),I.jsx(hhe.Provider,{value:{code:t},children:I.jsx("div",{className:We("group relative w-full rounded-md border bg-background text-foreground overflow-hidden",s),...d,children:I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"overflow-auto dark:hidden [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm",dangerouslySetInnerHTML:{__html:h}}),I.jsx("div",{className:"hidden overflow-auto dark:block [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm",dangerouslySetInnerHTML:{__html:y}}),u&&I.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:u})]})})})},phe=({onCopy:t,onError:e,timeout:i=2e3,children:s,className:u,...d})=>{const[h,m]=K.useState(!1),{code:y}=K.useContext(hhe),_=async()=>{if(typeof window>"u"||!navigator?.clipboard?.writeText){e?.(new Error("Clipboard API not available"));return}try{await navigator.clipboard.writeText(y),m(!0),t?.(),setTimeout(()=>m(!1),i)}catch(T){e?.(T)}},b=h?qse:Sp;return I.jsx(xn,{className:We("shrink-0",u),onClick:_,size:"icon",variant:"ghost",...d,children:s??I.jsx(b,{size:14})})},ktt=({className:t,...e})=>I.jsx(JB,{className:We("not-prose mb-4 w-full rounded-md border",t),...e}),mhe=t=>{const e={"input-streaming":"Pending","input-available":"Running","approval-requested":"Awaiting Approval","approval-responded":"Responded","output-available":"Completed","output-error":"Error","output-denied":"Denied"},i={"input-streaming":I.jsx(Lje,{className:"size-4"}),"input-available":I.jsx(cJ,{className:"size-4 animate-pulse"}),"approval-requested":I.jsx(cJ,{className:"size-4 text-yellow-600"}),"approval-responded":I.jsx(lJ,{className:"size-4 text-blue-600"}),"output-available":I.jsx(lJ,{className:"size-4 text-green-600"}),"output-error":I.jsx(uJ,{className:"size-4 text-red-600"}),"output-denied":I.jsx(uJ,{className:"size-4 text-orange-600"})};return I.jsxs(Sk,{className:"gap-1.5 rounded-full text-xs",variant:"secondary",children:[i[t],e[t]]})},Att=({className:t,...e})=>I.jsx(tQ,{className:We("data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-popover-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e}),Ptt=({className:t,input:e,...i})=>I.jsxs("div",{className:We("space-y-2 overflow-hidden p-4",t),...i,children:[I.jsx("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:"Parameters"}),I.jsx("div",{className:"rounded-md bg-muted/50",children:I.jsx($1,{code:JSON.stringify(e,null,2),language:"json"})})]}),Ett=({className:t,output:e,errorText:i,...s})=>{if(!(e||i))return null;let u=I.jsx("div",{children:e});return typeof e=="object"&&!K.isValidElement(e)?u=I.jsx($1,{code:JSON.stringify(e,null,2),language:"json"}):typeof e=="string"&&(u=I.jsx($1,{code:e,language:"json"})),I.jsxs("div",{className:We("space-y-2 p-4",t),...s,children:[I.jsx("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:i?"Error":"Result"}),I.jsxs("div",{className:We("overflow-x-auto rounded-md text-xs [&_table]:w-full",i?"bg-destructive/10 text-destructive":"bg-muted/50 text-foreground"),children:[i&&I.jsx("div",{children:i}),u]})]})},Mtt=({className:t,...e})=>I.jsx(JB,{className:We("not-prose group mb-4 w-full rounded-md border",t),defaultOpen:!0,...e}),Dtt=({className:t,title:e,state:i,...s})=>I.jsxs(eQ,{className:We("flex w-full items-center justify-between gap-4 p-3",t),...s,children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(nQe,{className:"size-4 text-muted-foreground"}),I.jsx("span",{className:"font-medium text-sm",children:e}),mhe(i)]}),I.jsx(O_,{className:"size-4 text-muted-foreground transition-transform group-data-[state=open]:rotate-180"})]}),Itt=({className:t,...e})=>I.jsx(tQ,{className:We("data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e}),Rtt=({className:t,...e})=>I.jsx(xKe,{className:We("w-full",t),...e}),Ltt=({className:t,...e})=>I.jsx(Dfe,{className:We("h-auto rounded-none border-0 bg-transparent p-0",t),...e}),Nne=({className:t,...e})=>I.jsx(Ife,{className:We("rounded-none border-0 border-transparent border-b-2 px-4 py-2 font-medium text-muted-foreground text-sm transition-colors data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:text-foreground data-[state=active]:shadow-none",t),...e}),$ne=({className:t,...e})=>I.jsx(Rfe,{className:We("mt-0 text-sm",t),...e}),Ntt=({className:t,...e})=>I.jsx($1,{className:We("border-0 min-h-10",t),...e,children:I.jsx(phe,{className:"opacity-0 transition-opacity  duration-200 group-hover:opacity-100",size:"sm"})}),$tt=({className:t,...e})=>I.jsx($1,{className:We("border-0 min-h-10",t),language:"log",...e,children:I.jsx(phe,{className:"opacity-0 transition-opacity duration-200 group-hover:opacity-100",size:"sm"})});function ztt({code:t,output:e,language:i="tsx",title:s,state:u}){const[d,h]=mt.useState("code");return I.jsxs(Mtt,{children:[I.jsx(Dtt,{state:u,title:s}),I.jsx(Itt,{children:I.jsxs(Rtt,{onValueChange:h,value:d,children:[I.jsx("div",{className:"flex items-center border-neutral-200 border-b dark:border-neutral-800",children:I.jsxs(Ltt,{children:[I.jsx(Nne,{value:"code",children:"Code"}),I.jsx(Nne,{value:"output",children:"Output"})]})}),I.jsx($ne,{value:"code",children:I.jsx(Ntt,{code:t,language:i})}),I.jsx($ne,{value:"output",children:I.jsx($tt,{code:e??""})})]})})]})}function Btt(t){if(typeof t!="object"||t===null)return!1;const e=t,i=typeof e.type=="string",s=typeof e.title=="string"||typeof e.title>"u",u=Array.isArray(e.elements);return i&&s&&u}function Qtt(t){if(typeof t!="object"||t===null)return!1;const e=t;return typeof e.base64=="string"&&e.base64.length>0}function jtt({tool:t}){const e=t.input??{code:"",title:""},i=t.state==="output-available"?t.output:null,s=i&&Btt(i.chart)?i.chart:null,u=i&&Qtt(i.chart)?i.chart:null,d=typeof e.code=="string"?e.code:"",h=typeof e.title=="string"?e.title:"";return I.jsxs("div",{className:"space-y-6",children:[I.jsx(ztt,{code:d,language:"python",output:i?.message,state:t.state,title:h}),s&&I.jsx("div",{className:"pt-1",children:I.jsx(dKe,{chart:s})}),u&&I.jsx("div",{className:"pt-1",children:I.jsx("img",{alt:"Chart output",className:"max-w-full rounded-lg",src:`data:image/png;base64,${u.base64}`})})]})}const Vtt=({children:t,as:e="p",className:i,duration:s=2,spread:u=2})=>{const d=Ti.create(e),h=K.useMemo(()=>(t?.length??0)*u,[t,u]);return I.jsx(d,{animate:{backgroundPosition:"0% center"},className:We("relative inline-block bg-[length:250%_100%,auto] bg-clip-text text-transparent","[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--color-background),#0000_calc(50%+var(--spread)))] [background-repeat:no-repeat,padding-box]",i),initial:{backgroundPosition:"100% center"},style:{"--spread":`${h}px`,backgroundImage:"var(--bg), linear-gradient(var(--color-muted-foreground), var(--color-muted-foreground))"},transition:{repeat:Number.POSITIVE_INFINITY,duration:s,ease:"linear"},children:t})},ghe=K.memo(Vtt),vhe=({title:t,isRunning:e,className:i})=>e?I.jsx(ghe,{as:"h3",className:We("font-medium text-sm",i),children:t}):I.jsx("h3",{className:We("font-medium text-sm",i),children:t});function Ftt(t){return new URL(t).hostname.replace("www.","")}function G4(t){return`https://www.google.com/s2/favicons?domain=${new URL(t.url).hostname}&sz=128`}function Gtt({result:t}){return I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsx(Ad,{href:t.url,rel:"noopener noreferrer",target:"_blank",children:I.jsxs(Sk,{className:"max-w-[200px] gap-1 truncate text-xs",variant:"secondary",children:[I.jsx(tv,{className:"size-3",url:G4(t)}),I.jsx("span",{className:"italic",children:Ftt(t.url)}),I.jsx("span",{className:"text-muted-foreground text-xs",children:t.title})]})})}),I.jsxs(ps,{className:"max-w-xs space-y-1 p-3",variant:"base",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(tv,{className:"size-4",url:G4(t)}),I.jsx("p",{className:"font-semibold",children:t.title})]}),I.jsx("p",{className:"text-muted-foreground text-xs",children:t.url}),I.jsx("p",{className:"line-clamp-5 text-muted-foreground text-xs",children:t.content})]})]})}const yhe=({update:t,minimal:e,isRunning:i})=>I.jsxs("div",{className:"group",children:[!e&&I.jsx("div",{className:"flex items-center gap-2",children:I.jsx(vhe,{isRunning:i,title:t.title})}),I.jsx(Ti.div,{animate:{height:"auto",opacity:1,transition:{height:{duration:.2,ease:"easeOut"},opacity:{duration:.15,delay:.05}}},exit:{height:0,opacity:0,transition:{height:{duration:.2,ease:"easeIn"},opacity:{duration:.1}}},initial:{height:0,opacity:0},children:I.jsxs("div",{className:"space-y-2 py-2 pr-2",children:[t.type==="web"&&t.queries&&I.jsx("div",{className:"flex flex-wrap gap-2",children:t.queries.map(s=>I.jsxs(Sk,{className:"flex items-center gap-1 bg-muted",variant:"outline",children:[I.jsx(JQe,{className:"size-3.5"}),I.jsx("span",{className:"max-w-[300px] truncate",children:s})]},s))}),t.type==="web"&&t.status==="completed"&&t.results&&I.jsx("div",{className:"flex flex-wrap gap-2",children:t.type==="web"&&t.results.map(s=>I.jsx(Gtt,{result:s},s.url))}),t.type==="web"&&t.status==="running"&&I.jsx("div",{className:"py-2",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx(du,{className:"size-4 animate-spin text-neutral-500"}),I.jsx("p",{className:"text-xsize-neutral-500",children:"Searching the web..."})]})}),t.type==="thoughts"&&I.jsx("div",{className:"space-y-2",children:I.jsx("p",{className:"font-light text-foreground text-sm",children:t.message})}),t.type==="writing"&&t.message&&I.jsx("div",{className:"space-y-2",children:I.jsx("p",{className:"font-light text-foreground text-sm",children:t.message})})]})})]}),Wtt=({updates:t})=>I.jsx("div",{className:"relative",children:t.map((e,i)=>I.jsx(Utt,{isLast:i===t.length-1,update:e,children:I.jsx(yhe,{isRunning:e.type==="web"&&e.status==="running"||i===t.length-1&&e.type!=="completed",minimal:!1,update:e})},`${e.type}-${i}`))}),Utt=({update:t,children:e,isLast:i})=>I.jsxs("div",{className:"flex w-full flex-row items-stretch justify-start gap-2",children:[I.jsxs("div",{className:"flex min-h-full shrink-0 flex-col items-center justify-start px-2",children:[I.jsx("div",{className:"h-1 shrink-0 bg-border/50"}),I.jsx("div",{className:"z-10 bg-background py-0.5",children:I.jsx(Ztt,{update:t})}),I.jsx(Ti.div,{animate:{height:"100%"},className:We("min-h-full w-px flex-1 border-border border-l border-dashed",i&&"hidden"),initial:{height:0},transition:{duration:.5}})]}),I.jsx(Ti.div,{animate:{opacity:1,y:0},className:"flex w-full flex-1 flex-col gap-4 overflow-hidden pt-1 pr-2 pb-2",initial:{opacity:0,y:5},transition:{duration:.3},children:e})]}),qtt={web:_1,started:Vje,completed:Dje,thoughts:Uz,writing:Tp},Ztt=({update:t})=>{const e=qtt[t.type];return I.jsx(e,{className:"h-4 w-4 text-muted-foreground"})},Htt={web:"Web Search",started:"Started",completed:"Completed",thoughts:"Thoughts",writing:"Writing"},Xtt=({updates:t,totalExpectedSteps:e,isComplete:i})=>{const[s,u]=mt.useState(!1),d=t.length>0?t.at(-1):null,h=mt.useMemo(()=>t.filter(b=>b.type==="web").length,[t]),m=mt.useMemo(()=>t.filter(b=>b.type==="web").reduce((b,T)=>b+(T.results?.length||0),0),[t]),y=d?i?"Research Complete":d.title||Htt[d.type]:"Researching",_=mt.useMemo(()=>{if(i){const b=t.filter(C=>C.type==="started"||C.type==="completed"),T=b.find(C=>C.type==="completed");return T?.timestamp?Math.floor((T.timestamp-b[0].timestamp)/1e3):0}return 0},[t,i]);return I.jsxs("div",{className:"w-full rounded-lg border p-1",children:[I.jsxs("button",{className:We("flex w-full cursor-pointer items-center justify-between rounded-lg px-3 py-2","transition-colors hover:bg-accent hover:text-accent-foreground"),onClick:()=>u(!s),type:"button",children:[I.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-4",children:I.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:i?I.jsx("span",{className:"text-muted-foreground text-xs",children:`Researched for ${_} seconds, ${h} searches, ${m} sources`}):I.jsx(vhe,{isRunning:!i,title:y})})}),I.jsx("div",{className:"flex items-center gap-2",children:s?I.jsx(aVe,{"aria-hidden":"true",className:"size-4 shrink-0 text-muted-foreground"}):I.jsx(nVe,{"aria-hidden":"true",className:"size-4 shrink-0 text-muted-foreground"})})]}),s?I.jsx("div",{className:"px-1 pt-2 pb-1",children:I.jsx(Wtt,{updates:t})}):d&&!i&&I.jsx("div",{className:"px-4 pt-1 pb-3",children:I.jsx(yhe,{isRunning:!0,minimal:!0,update:d})})]})},Ytt=({updates:t})=>{const i=K.useMemo(()=>!!t.find(u=>u.type==="completed"),[t]);return I.jsx(Xtt,{isComplete:i,totalExpectedSteps:0,updates:t})};function Ktt(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}const xhe=mt.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),B_=()=>{const t=mt.useContext(xhe);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ktt(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Jtt(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function ent(){return fQ(/^Mac/)}function tnt(){return fQ(/^iPhone/)}function zne(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function nnt(){return fQ(/^iPad/)||ent()&&navigator.maxTouchPoints>1}function _he(){return tnt()||nnt()}function fQ(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const rnt=24,int=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Bne(...t){return(...e)=>{for(let i of t)typeof i=="function"&&i(...e)}}const bN=typeof document<"u"&&window.visualViewport;function Qne(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Ohe(t){for(Qne(t)&&(t=t.parentElement);t&&!Qne(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const ant=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let aS=0,wN;function ont(t={}){let{isDisabled:e}=t;int(()=>{if(!e)return aS++,aS===1&&_he()&&(wN=snt()),()=>{aS--,aS===0&&wN?.()}},[e])}function snt(){let t,e=0,i=T=>{t=Ohe(T.target),!(t===document.documentElement&&t===document.body)&&(e=T.changedTouches[0].pageY)},s=T=>{if(!t||t===document.documentElement||t===document.body){T.preventDefault();return}let C=T.changedTouches[0].pageY,A=t.scrollTop,D=t.scrollHeight-t.clientHeight;D!==0&&((A<=0&&C>e||A>=D&&C<e)&&T.preventDefault(),e=C)},u=T=>{let C=T.target;W4(C)&&C!==document.activeElement&&(T.preventDefault(),C.style.transform="translateY(-2000px)",C.focus(),requestAnimationFrame(()=>{C.style.transform=""}))},d=T=>{let C=T.target;W4(C)&&(C.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{C.style.transform="",bN&&(bN.height<window.innerHeight?requestAnimationFrame(()=>{jne(C)}):bN.addEventListener("resize",()=>jne(C),{once:!0}))}))},h=()=>{window.scrollTo(0,0)},m=window.pageXOffset,y=window.pageYOffset,_=Bne(lnt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let b=Bne(lx(document,"touchstart",i,{passive:!1,capture:!0}),lx(document,"touchmove",s,{passive:!1,capture:!0}),lx(document,"touchend",u,{passive:!1,capture:!0}),lx(document,"focus",d,!0),lx(window,"scroll",h));return()=>{_(),b(),window.scrollTo(m,y)}}function lnt(t,e,i){let s=t.style[e];return t.style[e]=i,()=>{t.style[e]=s}}function lx(t,e,i,s){return t.addEventListener(e,i,s),()=>{t.removeEventListener(e,i,s)}}function jne(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let i=Ohe(t);if(i!==document.documentElement&&i!==document.body&&i!==t){let s=i.getBoundingClientRect().top,u=t.getBoundingClientRect().top,d=t.getBoundingClientRect().bottom;const h=i.getBoundingClientRect().bottom+rnt;d>h&&(i.scrollTop+=u-s)}t=i.parentElement}}function W4(t){return t instanceof HTMLInputElement&&!ant.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function unt(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function cnt(...t){return e=>t.forEach(i=>unt(i,e))}function bhe(...t){return K.useCallback(cnt(...t),t)}const whe=new WeakMap;function xi(t,e,i=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(e).forEach(([u,d])=>{if(u.startsWith("--")){t.style.setProperty(u,d);return}s[u]=t.style[u],t.style[u]=d}),!i&&whe.set(t,s)}function dnt(t,e){if(!t||!(t instanceof HTMLElement))return;let i=whe.get(t);i&&(t.style[e]=i[e])}const ri=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function oS(t,e){if(!t)return null;const i=window.getComputedStyle(t),s=i.transform||i.webkitTransform||i.mozTransform;let u=s.match(/^matrix3d\((.+)\)$/);return u?parseFloat(u[1].split(", ")[ri(e)?13:12]):(u=s.match(/^matrix\((.+)\)$/),u?parseFloat(u[1].split(", ")[ri(e)?5:4]):null)}function fnt(t){return 8*(Math.log(t+1)-2)}function SN(t,e){if(!t)return()=>{};const i=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=i}}function hnt(...t){return(...e)=>{for(const i of t)typeof i=="function"&&i(...e)}}const kr={DURATION:.5,EASE:[.32,.72,0,1]},She=.4,pnt=.25,mnt=100,The=8,kh=16,U4=26,TN="vaul-dragging";function Che(t){const e=mt.useRef(t);return mt.useEffect(()=>{e.current=t}),mt.useMemo(()=>(...i)=>e.current==null?void 0:e.current.call(e,...i),[])}function gnt({defaultProp:t,onChange:e}){const i=mt.useState(t),[s]=i,u=mt.useRef(s),d=Che(e);return mt.useEffect(()=>{u.current!==s&&(d(s),u.current=s)},[s,u,d]),i}function khe({prop:t,defaultProp:e,onChange:i=()=>{}}){const[s,u]=gnt({defaultProp:e,onChange:i}),d=t!==void 0,h=d?t:s,m=Che(i),y=mt.useCallback(_=>{if(d){const T=typeof _=="function"?_(t):_;T!==t&&m(T)}else u(_)},[d,t,u,m]);return[h,y]}function vnt({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:i,drawerRef:s,overlayRef:u,fadeFromIndex:d,onSnapPointChange:h,direction:m="bottom",container:y,snapToSequentialPoint:_}){const[b,T]=khe({prop:t,defaultProp:i?.[0],onChange:e}),[C,A]=mt.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);mt.useEffect(()=>{function H(){A({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const D=mt.useMemo(()=>b===i?.[i.length-1]||null,[i,b]),L=mt.useMemo(()=>{var H;return(H=i?.findIndex(V=>V===b))!=null?H:null},[i,b]),z=i&&i.length>0&&(d||d===0)&&!Number.isNaN(d)&&i[d]===b||!i,$=mt.useMemo(()=>{const H=y?{width:y.getBoundingClientRect().width,height:y.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var V;return(V=i?.map(F=>{const te=typeof F=="string";let ae=0;if(te&&(ae=parseInt(F,10)),ri(m)){const fe=te?ae:C?F*H.height:0;return C?m==="bottom"?H.height-fe:-H.height+fe:fe}const oe=te?ae:C?F*H.width:0;return C?m==="right"?H.width-oe:-H.width+oe:oe}))!=null?V:[]},[i,C,y]),Q=mt.useMemo(()=>L!==null?$?.[L]:null,[$,L]),B=mt.useCallback(H=>{var V;const F=(V=$?.findIndex(te=>te===H))!=null?V:null;h(F),xi(s.current,{transition:`transform ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,transform:ri(m)?`translate3d(0, ${H}px, 0)`:`translate3d(${H}px, 0, 0)`}),$&&F!==$.length-1&&d!==void 0&&F!==d&&F<d?xi(u.current,{transition:`opacity ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,opacity:"0"}):xi(u.current,{transition:`opacity ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,opacity:"1"}),T(i?.[Math.max(F,0)])},[s.current,i,$,d,u,T]);mt.useEffect(()=>{if(b||t){var H;const V=(H=i?.findIndex(F=>F===t||F===b))!=null?H:-1;$&&V!==-1&&typeof $[V]=="number"&&B($[V])}},[b,t,i,$,B]);function q({draggedDistance:H,closeDrawer:V,velocity:F,dismissible:te}){if(d===void 0)return;const ae=m==="bottom"||m==="right"?(Q??0)-H:(Q??0)+H,oe=L===d-1,fe=L===0,de=H>0;if(oe&&xi(u.current,{transition:`opacity ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`}),!_&&F>2&&!de){te?V():B($[0]);return}if(!_&&F>2&&de&&$&&i){B($[i.length-1]);return}const he=$?.reduce((ne,me)=>typeof ne!="number"||typeof me!="number"?ne:Math.abs(me-ae)<Math.abs(ne-ae)?me:ne),ue=ri(m)?window.innerHeight:window.innerWidth;if(F>She&&Math.abs(H)<ue*.4){const ne=de?1:-1;if(ne>0&&D&&i){B($[i.length-1]);return}if(fe&&ne<0&&te&&V(),L===null)return;B($[L+ne]);return}B(he)}function Y({draggedDistance:H}){if(Q===null)return;const V=m==="bottom"||m==="right"?Q-H:Q+H;(m==="bottom"||m==="right")&&V<$[$.length-1]||(m==="top"||m==="left")&&V>$[$.length-1]||xi(s.current,{transform:ri(m)?`translate3d(0, ${V}px, 0)`:`translate3d(${V}px, 0, 0)`})}function G(H,V){if(!i||typeof L!="number"||!$||d===void 0)return null;const F=L===d-1;if(L>=d&&V)return 0;if(F&&!V)return 1;if(!z&&!F)return null;const ae=F?L+1:L-1,oe=F?$[ae]-$[ae-1]:$[ae+1]-$[ae],fe=H/Math.abs(oe);return F?1-fe:fe}return{isLastSnapPoint:D,activeSnapPoint:b,shouldFade:z,getPercentageDragged:G,setActiveSnapPoint:T,activeSnapPointIndex:L,onRelease:q,onDrag:Y,snapPointsOffset:$}}const ynt=()=>()=>{};function xnt(){const{direction:t,isOpen:e,shouldScaleBackground:i,setBackgroundColorOnScale:s,noBodyStyles:u}=B_(),d=mt.useRef(null),h=K.useMemo(()=>document.body.style.backgroundColor,[]);function m(){return(window.innerWidth-U4)/window.innerWidth}mt.useEffect(()=>{if(e&&i){d.current&&clearTimeout(d.current);const y=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!y)return;hnt(s&&!u?SN(document.body,{background:"black"}):ynt,SN(y,{transformOrigin:ri(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${kr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kr.EASE.join(",")})`}));const _=SN(y,{borderRadius:`${The}px`,overflow:"hidden",...ri(t)?{transform:`scale(${m()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${m()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{_(),d.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},kr.DURATION*1e3)}}},[e,i,h])}let ux=null;function _nt({isOpen:t,modal:e,nested:i,hasBeenOpened:s,preventScrollRestoration:u,noBodyStyles:d}){const[h,m]=mt.useState(()=>typeof window<"u"?window.location.href:""),y=mt.useRef(0),_=mt.useCallback(()=>{if(zne()&&ux===null&&t&&!d){ux={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:T,innerHeight:C}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-y.current}px`,left:`${-T}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const A=C-window.innerHeight;A&&y.current>=C&&(document.body.style.top=`${-(y.current+A)}px`)}),300)}},[t]),b=mt.useCallback(()=>{if(zne()&&ux!==null&&!d){const T=-parseInt(document.body.style.top,10),C=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ux),window.requestAnimationFrame(()=>{if(u&&h!==window.location.href){m(window.location.href);return}window.scrollTo(C,T)}),ux=null}},[h]);return mt.useEffect(()=>{function T(){y.current=window.scrollY}return T(),window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)}},[]),mt.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||b()}},[e,b]),mt.useEffect(()=>{i||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&_(),e||window.setTimeout(()=>{b()},500)):b())},[t,s,h,e,i,_,b]),{restorePositionSetting:b}}function Ont({open:t,onOpenChange:e,children:i,onDrag:s,onRelease:u,snapPoints:d,shouldScaleBackground:h=!1,setBackgroundColorOnScale:m=!0,closeThreshold:y=pnt,scrollLockTimeout:_=mnt,dismissible:b=!0,handleOnly:T=!1,fadeFromIndex:C=d&&d.length-1,activeSnapPoint:A,setActiveSnapPoint:D,fixed:L,modal:z=!0,onClose:$,nested:Q,noBodyStyles:B=!1,direction:q="bottom",defaultOpen:Y=!1,disablePreventScroll:G=!0,snapToSequentialPoint:H=!1,preventScrollRestoration:V=!1,repositionInputs:F=!0,onAnimationEnd:te,container:ae,autoFocus:oe=!1}){var fe,de;const[he=!1,ue]=khe({defaultProp:Y,prop:t,onChange:It=>{e?.(It),!It&&!Q&&je(),setTimeout(()=>{te?.(It)},kr.DURATION*1e3),It&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),It||(document.body.style.pointerEvents="auto")}}),[ne,me]=mt.useState(!1),[ge,ee]=mt.useState(!1),[be,Me]=mt.useState(!1),se=mt.useRef(null),Ae=mt.useRef(null),we=mt.useRef(null),Le=mt.useRef(null),Z=mt.useRef(null),ve=mt.useRef(!1),ze=mt.useRef(null),Qe=mt.useRef(0),et=mt.useRef(!1),He=mt.useRef(!Y),yt=mt.useRef(0),Ee=mt.useRef(null),Ue=mt.useRef(((fe=Ee.current)==null?void 0:fe.getBoundingClientRect().height)||0),ke=mt.useRef(((de=Ee.current)==null?void 0:de.getBoundingClientRect().width)||0),Ge=mt.useRef(0),De=mt.useCallback(It=>{d&&It===ut.length-1&&(Ae.current=new Date)},[]),{activeSnapPoint:Pt,activeSnapPointIndex:dt,setActiveSnapPoint:Ze,onRelease:nn,snapPointsOffset:ut,onDrag:st,shouldFade:Ve,getPercentageDragged:Ce}=vnt({snapPoints:d,activeSnapPointProp:A,setActiveSnapPointProp:D,drawerRef:Ee,fadeFromIndex:C,overlayRef:se,onSnapPointChange:De,direction:q,container:ae,snapToSequentialPoint:H});ont({isDisabled:!he||ge||!z||be||!ne||!F||!G});const{restorePositionSetting:je}=_nt({isOpen:he,modal:z,nested:Q??!1,hasBeenOpened:ne,preventScrollRestoration:V,noBodyStyles:B});function qe(){return(window.innerWidth-U4)/window.innerWidth}function tt(It){var fn,$n;!b&&!d||Ee.current&&!Ee.current.contains(It.target)||(Ue.current=((fn=Ee.current)==null?void 0:fn.getBoundingClientRect().height)||0,ke.current=(($n=Ee.current)==null?void 0:$n.getBoundingClientRect().width)||0,ee(!0),we.current=new Date,_he()&&window.addEventListener("touchend",()=>ve.current=!1,{once:!0}),It.target.setPointerCapture(It.pointerId),Qe.current=ri(q)?It.pageY:It.pageX)}function $e(It,fn){var $n;let rn=It;const Xe=($n=window.getSelection())==null?void 0:$n.toString(),Xn=Ee.current?oS(Ee.current,q):null,zn=new Date;if(rn.tagName==="SELECT"||rn.hasAttribute("data-vaul-no-drag")||rn.closest("[data-vaul-no-drag]"))return!1;if(q==="right"||q==="left")return!0;if(Ae.current&&zn.getTime()-Ae.current.getTime()<500)return!1;if(Xn!==null&&(q==="bottom"?Xn>0:Xn<0))return!0;if(Xe&&Xe.length>0)return!1;if(Z.current&&zn.getTime()-Z.current.getTime()<_&&Xn===0||fn)return Z.current=zn,!1;for(;rn;){if(rn.scrollHeight>rn.clientHeight){if(rn.scrollTop!==0)return Z.current=new Date,!1;if(rn.getAttribute("role")==="dialog")return!0}rn=rn.parentNode}return!0}function zt(It){if(Ee.current&&ge){const fn=q==="bottom"||q==="right"?1:-1,$n=(Qe.current-(ri(q)?It.pageY:It.pageX))*fn,rn=$n>0,Xe=d&&!b&&!rn;if(Xe&&dt===0)return;const Xn=Math.abs($n),zn=document.querySelector("[data-vaul-drawer-wrapper]"),Dr=q==="bottom"||q==="top"?Ue.current:ke.current;let Je=Xn/Dr;const an=Ce(Xn,rn);if(an!==null&&(Je=an),Xe&&Je>=1||!ve.current&&!$e(It.target,rn))return;if(Ee.current.classList.add(TN),ve.current=!0,xi(Ee.current,{transition:"none"}),xi(se.current,{transition:"none"}),d&&st({draggedDistance:$n}),rn&&!d){const dr=fnt($n),xs=Math.min(dr*-1,0)*fn;xi(Ee.current,{transform:ri(q)?`translate3d(0, ${xs}px, 0)`:`translate3d(${xs}px, 0, 0)`});return}const ki=1-Je;if((Ve||C&&dt===C-1)&&(s?.(It,Je),xi(se.current,{opacity:`${ki}`,transition:"none"},!0)),zn&&se.current&&h){const dr=Math.min(qe()+Je*(1-qe()),1),xs=8-Je*8,ci=Math.max(0,14-Je*14);xi(zn,{borderRadius:`${xs}px`,transform:ri(q)?`scale(${dr}) translate3d(0, ${ci}px, 0)`:`scale(${dr}) translate3d(${ci}px, 0, 0)`,transition:"none"},!0)}if(!d){const dr=Xn*fn;xi(Ee.current,{transform:ri(q)?`translate3d(0, ${dr}px, 0)`:`translate3d(${dr}px, 0, 0)`})}}}mt.useEffect(()=>{window.requestAnimationFrame(()=>{He.current=!0})},[]),mt.useEffect(()=>{var It;function fn(){if(!Ee.current||!F)return;const $n=document.activeElement;if(W4($n)||et.current){var rn;const Xe=((rn=window.visualViewport)==null?void 0:rn.height)||0,Xn=window.innerHeight;let zn=Xn-Xe;const Dr=Ee.current.getBoundingClientRect().height||0,Je=Dr>Xn*.8;Ge.current||(Ge.current=Dr);const an=Ee.current.getBoundingClientRect().top;if(Math.abs(yt.current-zn)>60&&(et.current=!et.current),d&&d.length>0&&ut&&dt){const ki=ut[dt]||0;zn+=ki}if(yt.current=zn,Dr>Xe||et.current){const ki=Ee.current.getBoundingClientRect().height;let dr=ki;ki>Xe&&(dr=Xe-(Je?an:U4)),L?Ee.current.style.height=`${ki-Math.max(zn,0)}px`:Ee.current.style.height=`${Math.max(dr,Xe-an)}px`}else Jtt()||(Ee.current.style.height=`${Ge.current}px`);d&&d.length>0&&!et.current?Ee.current.style.bottom="0px":Ee.current.style.bottom=`${Math.max(zn,0)}px`}}return(It=window.visualViewport)==null||It.addEventListener("resize",fn),()=>{var $n;return($n=window.visualViewport)==null?void 0:$n.removeEventListener("resize",fn)}},[dt,d,ut]);function Ut(It){Ke(),$?.(),It||ue(!1),setTimeout(()=>{d&&Ze(d[0])},kr.DURATION*1e3)}function gn(){if(!Ee.current)return;const It=document.querySelector("[data-vaul-drawer-wrapper]"),fn=oS(Ee.current,q);xi(Ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`}),xi(se.current,{transition:`opacity ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,opacity:"1"}),h&&fn&&fn>0&&he&&xi(It,{borderRadius:`${The}px`,overflow:"hidden",...ri(q)?{transform:`scale(${qe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${qe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${kr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kr.EASE.join(",")})`},!0)}function Ke(){!ge||!Ee.current||(Ee.current.classList.remove(TN),ve.current=!1,ee(!1),Le.current=new Date)}function An(It){if(!ge||!Ee.current)return;Ee.current.classList.remove(TN),ve.current=!1,ee(!1),Le.current=new Date;const fn=oS(Ee.current,q);if(!It||!$e(It.target,!1)||!fn||Number.isNaN(fn)||we.current===null)return;const $n=Le.current.getTime()-we.current.getTime(),rn=Qe.current-(ri(q)?It.pageY:It.pageX),Xe=Math.abs(rn)/$n;if(Xe>.05&&(Me(!0),setTimeout(()=>{Me(!1)},200)),d){nn({draggedDistance:rn*(q==="bottom"||q==="right"?1:-1),closeDrawer:Ut,velocity:Xe,dismissible:b}),u?.(It,!0);return}if(q==="bottom"||q==="right"?rn>0:rn<0){gn(),u?.(It,!0);return}if(Xe>She){Ut(),u?.(It,!1);return}var Xn;const zn=Math.min((Xn=Ee.current.getBoundingClientRect().height)!=null?Xn:0,window.innerHeight);var Dr;const Je=Math.min((Dr=Ee.current.getBoundingClientRect().width)!=null?Dr:0,window.innerWidth),an=q==="left"||q==="right";if(Math.abs(fn)>=(an?Je:zn)*y){Ut(),u?.(It,!1);return}u?.(It,!0),gn()}mt.useEffect(()=>(he&&(xi(document.documentElement,{scrollBehavior:"auto"}),Ae.current=new Date),()=>{dnt(document.documentElement,"scrollBehavior")}),[he]);function ln(It){const fn=It?(window.innerWidth-kh)/window.innerWidth:1,$n=It?-kh:0;ze.current&&window.clearTimeout(ze.current),xi(Ee.current,{transition:`transform ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,transform:ri(q)?`scale(${fn}) translate3d(0, ${$n}px, 0)`:`scale(${fn}) translate3d(${$n}px, 0, 0)`}),!It&&Ee.current&&(ze.current=setTimeout(()=>{const rn=oS(Ee.current,q);xi(Ee.current,{transition:"none",transform:ri(q)?`translate3d(0, ${rn}px, 0)`:`translate3d(${rn}px, 0, 0)`})},500))}function Cr(It,fn){if(fn<0)return;const $n=(window.innerWidth-kh)/window.innerWidth,rn=$n+fn*(1-$n),Xe=-kh+fn*kh;xi(Ee.current,{transform:ri(q)?`scale(${rn}) translate3d(0, ${Xe}px, 0)`:`scale(${rn}) translate3d(${Xe}px, 0, 0)`,transition:"none"})}function bn(It,fn){const $n=ri(q)?window.innerHeight:window.innerWidth,rn=fn?($n-kh)/$n:1,Xe=fn?-kh:0;fn&&xi(Ee.current,{transition:`transform ${kr.DURATION}s cubic-bezier(${kr.EASE.join(",")})`,transform:ri(q)?`scale(${rn}) translate3d(0, ${Xe}px, 0)`:`scale(${rn}) translate3d(${Xe}px, 0, 0)`})}return mt.useEffect(()=>{z||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[z]),mt.createElement(BQe,{defaultOpen:Y,onOpenChange:It=>{!b&&!It||(It?me(!0):Ut(!0),ue(It))},open:he},mt.createElement(xhe.Provider,{value:{activeSnapPoint:Pt,snapPoints:d,setActiveSnapPoint:Ze,drawerRef:Ee,overlayRef:se,onOpenChange:e,onPress:tt,onRelease:An,onDrag:zt,dismissible:b,shouldAnimate:He,handleOnly:T,isOpen:he,isDragging:ge,shouldFade:Ve,closeDrawer:Ut,onNestedDrag:Cr,onNestedOpenChange:ln,onNestedRelease:bn,keyboardIsOpen:et,modal:z,snapPointsOffset:ut,activeSnapPointIndex:dt,direction:q,shouldScaleBackground:h,setBackgroundColorOnScale:m,noBodyStyles:B,container:ae,autoFocus:oe}},i))}const Ahe=mt.forwardRef(function({...t},e){const{overlayRef:i,snapPoints:s,onRelease:u,shouldFade:d,isOpen:h,modal:m,shouldAnimate:y}=B_(),_=bhe(e,i),b=s&&s.length>0;if(!m)return null;const T=mt.useCallback(C=>u(C),[u]);return mt.createElement(VQe,{onMouseUp:T,ref:_,"data-vaul-overlay":"","data-vaul-snap-points":h&&b?"true":"false","data-vaul-snap-points-overlay":h&&d?"true":"false","data-vaul-animate":y?.current?"true":"false",...t})});Ahe.displayName="Drawer.Overlay";const Phe=mt.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:i,...s},u){const{drawerRef:d,onPress:h,onRelease:m,onDrag:y,keyboardIsOpen:_,snapPointsOffset:b,activeSnapPointIndex:T,modal:C,isOpen:A,direction:D,snapPoints:L,container:z,handleOnly:$,shouldAnimate:Q,autoFocus:B}=B_(),[q,Y]=mt.useState(!1),G=bhe(u,d),H=mt.useRef(null),V=mt.useRef(null),F=mt.useRef(!1),te=L&&L.length>0;xnt();const ae=(fe,de,he=0)=>{if(F.current)return!0;const ue=Math.abs(fe.y),ne=Math.abs(fe.x),me=ne>ue,ge=["bottom","right"].includes(de)?1:-1;if(de==="left"||de==="right"){if(!(fe.x*ge<0)&&ne>=0&&ne<=he)return me}else if(!(fe.y*ge<0)&&ue>=0&&ue<=he)return!me;return F.current=!0,!0};mt.useEffect(()=>{te&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function oe(fe){H.current=null,F.current=!1,m(fe)}return mt.createElement(jQe,{"data-vaul-drawer-direction":D,"data-vaul-drawer":"","data-vaul-delayed-snap-points":q?"true":"false","data-vaul-snap-points":A&&te?"true":"false","data-vaul-custom-container":z?"true":"false","data-vaul-animate":Q?.current?"true":"false",...s,ref:G,style:b&&b.length>0?{"--snap-point-height":`${b[T??0]}px`,...e}:e,onPointerDown:fe=>{$||(s.onPointerDown==null||s.onPointerDown.call(s,fe),H.current={x:fe.pageX,y:fe.pageY},h(fe))},onOpenAutoFocus:fe=>{i?.(fe),B||fe.preventDefault()},onPointerDownOutside:fe=>{if(t?.(fe),!C||fe.defaultPrevented){fe.preventDefault();return}_.current&&(_.current=!1)},onFocusOutside:fe=>{if(!C){fe.preventDefault();return}},onPointerMove:fe=>{if(V.current=fe,$||(s.onPointerMove==null||s.onPointerMove.call(s,fe),!H.current))return;const de=fe.pageY-H.current.y,he=fe.pageX-H.current.x,ue=fe.pointerType==="touch"?10:2;ae({x:he,y:de},D,ue)?y(fe):(Math.abs(he)>ue||Math.abs(de)>ue)&&(H.current=null)},onPointerUp:fe=>{s.onPointerUp==null||s.onPointerUp.call(s,fe),H.current=null,F.current=!1,m(fe)},onPointerOut:fe=>{s.onPointerOut==null||s.onPointerOut.call(s,fe),oe(V.current)},onContextMenu:fe=>{s.onContextMenu==null||s.onContextMenu.call(s,fe),V.current&&oe(V.current)}})});Phe.displayName="Drawer.Content";const bnt=250,wnt=120,Snt=mt.forwardRef(function({preventCycle:t=!1,children:e,...i},s){const{closeDrawer:u,isDragging:d,snapPoints:h,activeSnapPoint:m,setActiveSnapPoint:y,dismissible:_,handleOnly:b,isOpen:T,onPress:C,onDrag:A}=B_(),D=mt.useRef(null),L=mt.useRef(!1);function z(){if(L.current){B();return}window.setTimeout(()=>{$()},wnt)}function $(){if(d||t||L.current){B();return}if(B(),!h||h.length===0){_||u();return}if(m===h[h.length-1]&&_){u();return}const Y=h.findIndex(H=>H===m);if(Y===-1)return;const G=h[Y+1];y(G)}function Q(){D.current=window.setTimeout(()=>{L.current=!0},bnt)}function B(){D.current&&window.clearTimeout(D.current),L.current=!1}return mt.createElement("div",{onClick:z,onPointerCancel:B,onPointerDown:q=>{b&&C(q),Q()},onPointerMove:q=>{b&&A(q)},ref:s,"data-vaul-drawer-visible":T?"true":"false","data-vaul-handle":"","aria-hidden":"true",...i},mt.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});Snt.displayName="Drawer.Handle";function Tnt(t){const e=B_(),{container:i=e.container,...s}=t;return mt.createElement(QQe,{container:i,...s})}const pu={Root:Ont,Content:Phe,Overlay:Ahe,Trigger:$Qe,Portal:Tnt,Title:zQe,Description:FQe},Ehe=({shouldScaleBackground:t=!0,...e})=>I.jsx(pu.Root,{shouldScaleBackground:t,...e});Ehe.displayName="Drawer";const Cnt=pu.Trigger,knt=pu.Portal,Mhe=K.forwardRef(({className:t,...e},i)=>I.jsx(pu.Overlay,{className:We("fixed inset-0 z-50 bg-black/80",t),ref:i,...e}));Mhe.displayName=pu.Overlay.displayName;const Dhe=K.forwardRef(({className:t,children:e,...i},s)=>I.jsxs(knt,{children:[I.jsx(Mhe,{}),I.jsxs(pu.Content,{className:We("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),ref:s,...i,children:[I.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));Dhe.displayName="DrawerContent";const Ihe=({className:t,...e})=>I.jsx("div",{className:We("grid gap-1.5 p-4 text-center sm:text-left",t),...e});Ihe.displayName="DrawerHeader";const Rhe=K.forwardRef(({className:t,...e},i)=>I.jsx(pu.Title,{className:We("font-semibold text-lg leading-none tracking-tight",t),ref:i,...e}));Rhe.displayName=pu.Title.displayName;const Ant=K.forwardRef(({className:t,...e},i)=>I.jsx(pu.Description,{className:We("text-muted-foreground text-sm",t),ref:i,...e}));Ant.displayName=pu.Description.displayName;function Pnt(t){const[e,i]=K.useState(!1);return K.useEffect(()=>{const s=window.matchMedia(t);s.matches!==e&&i(s.matches);const u=()=>i(s.matches);return s.addEventListener("change",u),()=>s.removeEventListener("change",u)},[e,t]),e}const Ent=({sources:t,maxVisible:e=4,className:i})=>{const s=t.slice(0,e);return I.jsx("div",{className:We("flex items-center",i),children:s.map((u,d)=>I.jsx(tv,{alt:`Favicon for ${u.title||new URL(u.url).hostname}`,className:We("h-5 w-5 rounded-full border-2 border-white dark:border-neutral-800",d>0?"-ml-2":""),style:{zIndex:e-d},url:`https://www.google.com/s2/favicons?domain=${new URL(u.url).hostname}&sz=32`},u.url||d))})},Vne=({sources:t})=>I.jsx("div",{className:"space-y-3",children:t?.map(e=>I.jsx("a",{className:"block rounded-lg bg-neutral-50 p-4 transition-colors hover:bg-neutral-100 dark:bg-neutral-800/50 dark:hover:bg-neutral-800",href:e.url,rel:"noopener noreferrer",target:"_blank",children:I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:"mt-1 shrink-0",children:I.jsx(tv,{url:G4(e)})}),I.jsx("div",{className:"flex flex-col gap-1",children:I.jsx("h4",{className:"font-medium text-sm leading-tight",children:e.title})})]})},e.url))}),Mnt=({sources:t,id:e})=>{const i=Pnt("(min-width: 768px)"),s="All Sources";return i?I.jsxs(Tk,{children:[I.jsx(tje,{asChild:!0,children:I.jsx("button",{className:"hidden",id:e,type:"button",children:"Show All"})}),I.jsxs(Ck,{className:We("max-h-[80vh] overflow-y-auto","max-w-4xl"),children:[I.jsx(jz,{children:I.jsxs(kk,{className:"flex items-center gap-2",children:[I.jsx(_1,{className:"h-4 w-4"}),s]})}),I.jsx(Vne,{sources:t})]})]}):I.jsxs(Ehe,{children:[I.jsx(Cnt,{asChild:!0,children:I.jsx("button",{className:"hidden",id:e,type:"button",children:"Show All"})}),I.jsxs(Dhe,{className:"h-[85vh]",children:[I.jsx(Ihe,{children:I.jsxs(Rhe,{className:"flex items-center gap-2",children:[I.jsx(_1,{className:"h-4 w-4"}),s]})}),I.jsx("div",{className:"overflow-y-auto p-4",children:I.jsx(Vne,{sources:t})})]})]})};function Dnt({sources:t,dialogId:e}){return I.jsxs("button",{className:"group flex items-center justify-center gap-2 rounded-lg border border-neutral-200 p-2.5 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",onClick:()=>document.getElementById(e)?.click(),type:"button",children:[I.jsx(Ent,{className:"mr-1.5",maxVisible:3,sources:t.map(i=>({url:i.url,title:i.title}))}),I.jsxs("span",{className:"text-neutral-600 text-xs group-hover:text-neutral-700 dark:text-neutral-400 dark:group-hover:text-neutral-300",children:[t.length," Sources"]}),I.jsx(rQe,{className:"h-3.5 w-3.5 text-neutral-400 transition-colors group-hover:text-neutral-500"})]})}const Int=({sources:t})=>{if(t.length===0)return null;const e="show-all-sources-dialog";return I.jsxs("div",{className:"space-y-3",children:[I.jsx(Dnt,{dialogId:e,sources:t}),I.jsx("div",{className:"hidden",children:I.jsx(Mnt,{id:e,sources:t})})]})},Lhe=K.memo(({messageId:t})=>{const i=U7e(t).map(h=>h.data);if(i.length===0||!i.find(h=>h.type==="completed"))return null;const d=i.filter(h=>h.type==="web").filter(h=>h.results).flatMap(h=>h.results).filter(h=>h!==void 0).filter((h,m,y)=>m===y.findIndex(_=>_.url===h.url));return I.jsx(Int,{sources:d})});Lhe.displayName="SourcesAnnotations";const Nhe=({updates:t})=>!t||t.length===0?null:I.jsx(Ytt,{updates:t});function Rnt(t){return t.state!=="output-available"||t.output.format!=="problem"?null:t.output.answer}function Lnt({messageId:t,part:e}){const{toolCallId:i}=e,s=Kde(t,i),u=Rnt(e);return I.jsxs("div",{className:"flex w-full flex-col gap-3",children:[I.jsx(Nhe,{updates:s.map(d=>d.data)}),u&&I.jsxs("div",{className:"rounded border bg-destructive/10 p-2 text-destructive-foreground",children:["Error: ",u]})]})}const $he=1024;let Nnt=0,CN=class{constructor(e,i){this.from=e,this.to=i}};class Tn{constructor(e={}){this.id=Nnt++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=oo.match(e)),i=>{let s=e(i);return s===void 0?null:[this,s]}}}Tn.closedBy=new Tn({deserialize:t=>t.split(" ")});Tn.openedBy=new Tn({deserialize:t=>t.split(" ")});Tn.group=new Tn({deserialize:t=>t.split(" ")});Tn.isolate=new Tn({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Tn.contextHash=new Tn({perNode:!0});Tn.lookAhead=new Tn({perNode:!0});Tn.mounted=new Tn({perNode:!0});class Jx{constructor(e,i,s,u=!1){this.tree=e,this.overlay=i,this.parser=s,this.bracketed=u}static get(e){return e&&e.props&&e.props[Tn.mounted.id]}}const $nt=Object.create(null);class oo{constructor(e,i,s,u=0){this.name=e,this.props=i,this.id=s,this.flags=u}static define(e){let i=e.props&&e.props.length?Object.create(null):$nt,s=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),u=new oo(e.name||"",i,e.id,s);if(e.props){for(let d of e.props)if(Array.isArray(d)||(d=d(u)),d){if(d[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[d[0].id]=d[1]}}return u}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let i=this.prop(Tn.group);return i?i.indexOf(e)>-1:!1}return this.id==e}static match(e){let i=Object.create(null);for(let s in e)for(let u of s.split(" "))i[u]=e[s];return s=>{for(let u=s.prop(Tn.group),d=-1;d<(u?u.length:0);d++){let h=i[d<0?s.name:u[d]];if(h)return h}}}}oo.none=new oo("",Object.create(null),0,8);class hQ{constructor(e){this.types=e;for(let i=0;i<e.length;i++)if(e[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let i=[];for(let s of this.types){let u=null;for(let d of e){let h=d(s);if(h){u||(u=Object.assign({},s.props));let m=h[1],y=h[0];y.combine&&y.id in u&&(m=y.combine(u[y.id],m)),u[y.id]=m}}i.push(u?new oo(s.name,u,s.id,s.flags):s)}return new hQ(i)}}const sS=new WeakMap,Fne=new WeakMap;var wr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(wr||(wr={}));class Hr{constructor(e,i,s,u,d){if(this.type=e,this.children=i,this.positions=s,this.length=u,this.props=null,d&&d.length){this.props=Object.create(null);for(let[h,m]of d)this.props[typeof h=="number"?h:h.id]=m}}toString(){let e=Jx.get(this);if(e&&!e.overlay)return e.tree.toString();let i="";for(let s of this.children){let u=s.toString();u&&(i&&(i+=","),i+=u)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(e=0){return new Z4(this.topNode,e)}cursorAt(e,i=0,s=0){let u=sS.get(this)||this.topNode,d=new Z4(u);return d.moveTo(e,i),sS.set(this,d._tree),d}get topNode(){return new io(this,0,0,null)}resolve(e,i=0){let s=z1(sS.get(this)||this.topNode,e,i,!1);return sS.set(this,s),s}resolveInner(e,i=0){let s=z1(Fne.get(this)||this.topNode,e,i,!0);return Fne.set(this,s),s}resolveStack(e,i=0){return Qnt(this,e,i)}iterate(e){let{enter:i,leave:s,from:u=0,to:d=this.length}=e,h=e.mode||0,m=(h&wr.IncludeAnonymous)>0;for(let y=this.cursor(h|wr.IncludeAnonymous);;){let _=!1;if(y.from<=d&&y.to>=u&&(!m&&y.type.isAnonymous||i(y)!==!1)){if(y.firstChild())continue;_=!0}for(;_&&s&&(m||!y.type.isAnonymous)&&s(y),!y.nextSibling();){if(!y.parent())return;_=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let i in this.props)e.push([+i,this.props[i]]);return e}balance(e={}){return this.children.length<=8?this:gQ(oo.none,this.children,this.positions,0,this.children.length,0,this.length,(i,s,u)=>new Hr(this.type,i,s,u,this.propValues),e.makeTree||((i,s,u)=>new Hr(oo.none,i,s,u)))}static build(e){return jnt(e)}}Hr.empty=new Hr(oo.none,[],[],0);class pQ{constructor(e,i){this.buffer=e,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new pQ(this.buffer,this.index)}}class Vd{constructor(e,i,s){this.buffer=e,this.length=i,this.set=s}get type(){return oo.none}toString(){let e=[];for(let i=0;i<this.buffer.length;)e.push(this.childString(i)),i=this.buffer[i+3];return e.join(",")}childString(e){let i=this.buffer[e],s=this.buffer[e+3],u=this.set.types[i],d=u.name;if(/\W/.test(d)&&!u.isError&&(d=JSON.stringify(d)),e+=4,s==e)return d;let h=[];for(;e<s;)h.push(this.childString(e)),e=this.buffer[e+3];return d+"("+h.join(",")+")"}findChild(e,i,s,u,d){let{buffer:h}=this,m=-1;for(let y=e;y!=i&&!(zhe(d,u,h[y+1],h[y+2])&&(m=y,s>0));y=h[y+3]);return m}slice(e,i,s){let u=this.buffer,d=new Uint16Array(i-e),h=0;for(let m=e,y=0;m<i;){d[y++]=u[m++],d[y++]=u[m++]-s;let _=d[y++]=u[m++]-s;d[y++]=u[m++]-e,h=Math.max(h,_)}return new Vd(d,h,this.set)}}function zhe(t,e,i,s){switch(t){case-2:return i<e;case-1:return s>=e&&i<e;case 0:return i<e&&s>e;case 1:return i<=e&&s>e;case 2:return s>e;case 4:return!0}}function z1(t,e,i,s){for(var u;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let h=!s&&t instanceof io&&t.index<0?null:t.parent;if(!h)return t;t=h}let d=s?0:wr.IgnoreOverlays;if(s)for(let h=t,m=h.parent;m;h=m,m=h.parent)h instanceof io&&h.index<0&&((u=m.enter(e,i,d))===null||u===void 0?void 0:u.from)!=h.from&&(t=m);for(;;){let h=t.enter(e,i,d);if(!h)return t;t=h}}class Bhe{cursor(e=0){return new Z4(this,e)}getChild(e,i=null,s=null){let u=Gne(this,e,i,s);return u.length?u[0]:null}getChildren(e,i=null,s=null){return Gne(this,e,i,s)}resolve(e,i=0){return z1(this,e,i,!1)}resolveInner(e,i=0){return z1(this,e,i,!0)}matchContext(e){return q4(this.parent,e)}enterUnfinishedNodesBefore(e){let i=this.childBefore(e),s=this;for(;i;){let u=i.lastChild;if(!u||u.to!=i.to)break;u.type.isError&&u.from==u.to?(s=i,i=u.prevSibling):i=u}return s}get node(){return this}get next(){return this.parent}}class io extends Bhe{constructor(e,i,s,u){super(),this._tree=e,this.from=i,this.index=s,this._parent=u}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,i,s,u,d=0){for(let h=this;;){for(let{children:m,positions:y}=h._tree,_=i>0?m.length:-1;e!=_;e+=i){let b=m[e],T=y[e]+h.from,C;if(!(!(d&wr.EnterBracketed&&b instanceof Hr&&(C=Jx.get(b))&&!C.overlay&&C.bracketed&&s>=T&&s<=T+b.length)&&!zhe(u,s,T,T+b.length))){if(b instanceof Vd){if(d&wr.ExcludeBuffers)continue;let A=b.findChild(0,b.buffer.length,i,s-T,u);if(A>-1)return new tu(new znt(h,b,e,T),null,A)}else if(d&wr.IncludeAnonymous||!b.type.isAnonymous||mQ(b)){let A;if(!(d&wr.IgnoreMounts)&&(A=Jx.get(b))&&!A.overlay)return new io(A.tree,T,e,h);let D=new io(b,T,e,h);return d&wr.IncludeAnonymous||!D.type.isAnonymous?D:D.nextChild(i<0?b.children.length-1:0,i,s,u,d)}}}if(d&wr.IncludeAnonymous||!h.type.isAnonymous||(h.index>=0?e=h.index+i:e=i<0?-1:h._parent._tree.children.length,h=h._parent,!h))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,i,s=0){let u;if(!(s&wr.IgnoreOverlays)&&(u=Jx.get(this._tree))&&u.overlay){let d=e-this.from,h=s&wr.EnterBracketed&&u.bracketed;for(let{from:m,to:y}of u.overlay)if((i>0||h?m<=d:m<d)&&(i<0||h?y>=d:y>d))return new io(u.tree,u.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,i,s)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Gne(t,e,i,s){let u=t.cursor(),d=[];if(!u.firstChild())return d;if(i!=null){for(let h=!1;!h;)if(h=u.type.is(i),!u.nextSibling())return d}for(;;){if(s!=null&&u.type.is(s))return d;if(u.type.is(e)&&d.push(u.node),!u.nextSibling())return s==null?d:[]}}function q4(t,e,i=e.length-1){for(let s=t;i>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}class znt{constructor(e,i,s,u){this.parent=e,this.buffer=i,this.index=s,this.start=u}}class tu extends Bhe{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,i,s){super(),this.context=e,this._parent=i,this.index=s,this.type=e.buffer.set.types[e.buffer.buffer[s]]}child(e,i,s){let{buffer:u}=this.context,d=u.findChild(this.index+4,u.buffer[this.index+3],e,i-this.context.start,s);return d<0?null:new tu(this.context,this,d)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,i,s=0){if(s&wr.ExcludeBuffers)return null;let{buffer:u}=this.context,d=u.findChild(this.index+4,u.buffer[this.index+3],i>0?1:-1,e-this.context.start,i);return d<0?null:new tu(this.context,this,d)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,i=e.buffer[this.index+3];return i<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new tu(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new tu(this.context,this._parent,e.findChild(i,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],i=[],{buffer:s}=this.context,u=this.index+4,d=s.buffer[this.index+3];if(d>u){let h=s.buffer[this.index+1];e.push(s.slice(u,d,h)),i.push(0)}return new Hr(this.type,e,i,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Qhe(t){if(!t.length)return null;let e=0,i=t[0];for(let d=1;d<t.length;d++){let h=t[d];(h.from>i.from||h.to<i.to)&&(i=h,e=d)}let s=i instanceof io&&i.index<0?null:i.parent,u=t.slice();return s?u[e]=s:u.splice(e,1),new Bnt(u,i)}class Bnt{constructor(e,i){this.heads=e,this.node=i}get next(){return Qhe(this.heads)}}function Qnt(t,e,i){let s=t.resolveInner(e,i),u=null;for(let d=s instanceof io?s:s.context.parent;d;d=d.parent)if(d.index<0){let h=d.parent;(u||(u=[s])).push(h.resolve(e,i)),d=h}else{let h=Jx.get(d.tree);if(h&&h.overlay&&h.overlay[0].from<=e&&h.overlay[h.overlay.length-1].to>=e){let m=new io(h.tree,h.overlay[0].from+d.from,-1,d);(u||(u=[s])).push(z1(m,e,i,!1))}}return u?Qhe(u):s}class Z4{get name(){return this.type.name}constructor(e,i=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=i&~wr.EnterBracketed,e instanceof io)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let s=e._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,i){this.index=e;let{start:s,buffer:u}=this.buffer;return this.type=i||u.set.types[u.buffer[e]],this.from=s+u.buffer[e+1],this.to=s+u.buffer[e+2],!0}yield(e){return e?e instanceof io?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,i,s){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,i,s,this.mode));let{buffer:u}=this.buffer,d=u.findChild(this.index+4,u.buffer[this.index+3],e,i-this.buffer.start,s);return d<0?!1:(this.stack.push(this.index),this.yieldBuf(d))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,i,s=this.mode){return this.buffer?s&wr.ExcludeBuffers?!1:this.enterChild(1,e,i):this.yield(this._tree.enter(e,i,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&wr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&wr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:i}=this.buffer,s=this.stack.length-1;if(e<0){let u=s<0?0:this.stack[s]+4;if(this.index!=u)return this.yieldBuf(i.findChild(u,this.index,-1,0,4))}else{let u=i.buffer[this.index+3];if(u<(s<0?i.buffer.length:i.buffer[this.stack[s]+3]))return this.yieldBuf(u)}return s<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let i,s,{buffer:u}=this;if(u){if(e>0){if(this.index<u.buffer.buffer.length)return!1}else for(let d=0;d<this.index;d++)if(u.buffer.buffer[d+3]<this.index)return!1;({index:i,parent:s}=u)}else({index:i,_parent:s}=this._tree);for(;s;{index:i,_parent:s}=s)if(i>-1)for(let d=i+e,h=e<0?-1:s._tree.children.length;d!=h;d+=e){let m=s._tree.children[d];if(this.mode&wr.IncludeAnonymous||m instanceof Vd||!m.type.isAnonymous||mQ(m))return!1}return!0}move(e,i){if(i&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,i=0){for(;(this.from==this.to||(i<1?this.from>=e:this.from>e)||(i>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,i););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,i=null,s=0;if(e&&e.context==this.buffer)e:for(let u=this.index,d=this.stack.length;d>=0;){for(let h=e;h;h=h._parent)if(h.index==u){if(u==this.index)return h;i=h,s=d+1;break e}u=this.stack[--d]}for(let u=s;u<this.stack.length;u++)i=new tu(this.buffer,i,this.stack[u]);return this.bufferNode=new tu(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,i){for(let s=0;;){let u=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){s++;continue}this.type.isAnonymous||(u=!0)}for(;;){if(u&&i&&i(this),u=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,u=!0}}}matchContext(e){if(!this.buffer)return q4(this.node.parent,e);let{buffer:i}=this.buffer,{types:s}=i.set;for(let u=e.length-1,d=this.stack.length-1;u>=0;d--){if(d<0)return q4(this._tree,e,u);let h=s[i.buffer[this.stack[d]]];if(!h.isAnonymous){if(e[u]&&e[u]!=h.name)return!1;u--}}return!0}}function mQ(t){return t.children.some(e=>e instanceof Vd||!e.type.isAnonymous||mQ(e))}function jnt(t){var e;let{buffer:i,nodeSet:s,maxBufferLength:u=$he,reused:d=[],minRepeatType:h=s.types.length}=t,m=Array.isArray(i)?new pQ(i,i.length):i,y=s.types,_=0,b=0;function T(Y,G,H,V,F,te){let{id:ae,start:oe,end:fe,size:de}=m,he=b,ue=_;if(de<0)if(m.next(),de==-1){let be=d[ae];H.push(be),V.push(oe-Y);return}else if(de==-3){_=ae;return}else if(de==-4){b=ae;return}else throw new RangeError(`Unrecognized record size: ${de}`);let ne=y[ae],me,ge,ee=oe-Y;if(fe-oe<=u&&(ge=z(m.pos-G,F))){let be=new Uint16Array(ge.size-ge.skip),Me=m.pos-ge.size,se=be.length;for(;m.pos>Me;)se=$(ge.start,be,se);me=new Vd(be,fe-ge.start,s),ee=ge.start-Y}else{let be=m.pos-de;m.next();let Me=[],se=[],Ae=ae>=h?ae:-1,we=0,Le=fe;for(;m.pos>be;)Ae>=0&&m.id==Ae&&m.size>=0?(m.end<=Le-u&&(D(Me,se,oe,we,m.end,Le,Ae,he,ue),we=Me.length,Le=m.end),m.next()):te>2500?C(oe,be,Me,se):T(oe,be,Me,se,Ae,te+1);if(Ae>=0&&we>0&&we<Me.length&&D(Me,se,oe,we,oe,Le,Ae,he,ue),Me.reverse(),se.reverse(),Ae>-1&&we>0){let Z=A(ne,ue);me=gQ(ne,Me,se,0,Me.length,0,fe-oe,Z,Z)}else me=L(ne,Me,se,fe-oe,he-fe,ue)}H.push(me),V.push(ee)}function C(Y,G,H,V){let F=[],te=0,ae=-1;for(;m.pos>G;){let{id:oe,start:fe,end:de,size:he}=m;if(he>4)m.next();else{if(ae>-1&&fe<ae)break;ae<0&&(ae=de-u),F.push(oe,fe,de),te++,m.next()}}if(te){let oe=new Uint16Array(te*4),fe=F[F.length-2];for(let de=F.length-3,he=0;de>=0;de-=3)oe[he++]=F[de],oe[he++]=F[de+1]-fe,oe[he++]=F[de+2]-fe,oe[he++]=he;H.push(new Vd(oe,F[2]-fe,s)),V.push(fe-Y)}}function A(Y,G){return(H,V,F)=>{let te=0,ae=H.length-1,oe,fe;if(ae>=0&&(oe=H[ae])instanceof Hr){if(!ae&&oe.type==Y&&oe.length==F)return oe;(fe=oe.prop(Tn.lookAhead))&&(te=V[ae]+oe.length+fe)}return L(Y,H,V,F,te,G)}}function D(Y,G,H,V,F,te,ae,oe,fe){let de=[],he=[];for(;Y.length>V;)de.push(Y.pop()),he.push(G.pop()+H-F);Y.push(L(s.types[ae],de,he,te-F,oe-te,fe)),G.push(F-H)}function L(Y,G,H,V,F,te,ae){if(te){let oe=[Tn.contextHash,te];ae=ae?[oe].concat(ae):[oe]}if(F>25){let oe=[Tn.lookAhead,F];ae=ae?[oe].concat(ae):[oe]}return new Hr(Y,G,H,V,ae)}function z(Y,G){let H=m.fork(),V=0,F=0,te=0,ae=H.end-u,oe={size:0,start:0,skip:0};e:for(let fe=H.pos-Y;H.pos>fe;){let de=H.size;if(H.id==G&&de>=0){oe.size=V,oe.start=F,oe.skip=te,te+=4,V+=4,H.next();continue}let he=H.pos-de;if(de<0||he<fe||H.start<ae)break;let ue=H.id>=h?4:0,ne=H.start;for(H.next();H.pos>he;){if(H.size<0)if(H.size==-3||H.size==-4)ue+=4;else break e;else H.id>=h&&(ue+=4);H.next()}F=ne,V+=de,te+=ue}return(G<0||V==Y)&&(oe.size=V,oe.start=F,oe.skip=te),oe.size>4?oe:void 0}function $(Y,G,H){let{id:V,start:F,end:te,size:ae}=m;if(m.next(),ae>=0&&V<h){let oe=H;if(ae>4){let fe=m.pos-(ae-4);for(;m.pos>fe;)H=$(Y,G,H)}G[--H]=oe,G[--H]=te-Y,G[--H]=F-Y,G[--H]=V}else ae==-3?_=V:ae==-4&&(b=V);return H}let Q=[],B=[];for(;m.pos>0;)T(t.start||0,t.bufferStart||0,Q,B,-1,0);let q=(e=t.length)!==null&&e!==void 0?e:Q.length?B[0]+Q[0].length:0;return new Hr(y[t.topID],Q.reverse(),B.reverse(),q)}const Wne=new WeakMap;function cT(t,e){if(!t.isAnonymous||e instanceof Vd||e.type!=t)return 1;let i=Wne.get(e);if(i==null){i=1;for(let s of e.children){if(s.type!=t||!(s instanceof Hr)){i=1;break}i+=cT(t,s)}Wne.set(e,i)}return i}function gQ(t,e,i,s,u,d,h,m,y){let _=0;for(let D=s;D<u;D++)_+=cT(t,e[D]);let b=Math.ceil(_*1.5/8),T=[],C=[];function A(D,L,z,$,Q){for(let B=z;B<$;){let q=B,Y=L[B],G=cT(t,D[B]);for(B++;B<$;B++){let H=cT(t,D[B]);if(G+H>=b)break;G+=H}if(B==q+1){if(G>b){let H=D[q];A(H.children,H.positions,0,H.children.length,L[q]+Q);continue}T.push(D[q])}else{let H=L[B-1]+D[B-1].length-Y;T.push(gQ(t,D,L,q,B,Y,H,null,y))}C.push(Y+Q-d)}}return A(e,i,s,u,0),(m||y)(T,C,h)}class jhe{constructor(){this.map=new WeakMap}setBuffer(e,i,s){let u=this.map.get(e);u||this.map.set(e,u=new Map),u.set(i,s)}getBuffer(e,i){let s=this.map.get(e);return s&&s.get(i)}set(e,i){e instanceof tu?this.setBuffer(e.context.buffer,e.index,i):e instanceof io&&this.map.set(e.tree,i)}get(e){return e instanceof tu?this.getBuffer(e.context.buffer,e.index):e instanceof io?this.map.get(e.tree):void 0}cursorSet(e,i){e.buffer?this.setBuffer(e.buffer.buffer,e.index,i):this.map.set(e.tree,i)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Kh{constructor(e,i,s,u,d=!1,h=!1){this.from=e,this.to=i,this.tree=s,this.offset=u,this.open=(d?1:0)|(h?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,i=[],s=!1){let u=[new Kh(0,e.length,e,0,!1,s)];for(let d of i)d.to>e.length&&u.push(d);return u}static applyChanges(e,i,s=128){if(!i.length)return e;let u=[],d=1,h=e.length?e[0]:null;for(let m=0,y=0,_=0;;m++){let b=m<i.length?i[m]:null,T=b?b.fromA:1e9;if(T-y>=s)for(;h&&h.from<T;){let C=h;if(y>=C.from||T<=C.to||_){let A=Math.max(C.from,y)-_,D=Math.min(C.to,T)-_;C=A>=D?null:new Kh(A,D,C.tree,C.offset+_,m>0,!!b)}if(C&&u.push(C),h.to>T)break;h=d<e.length?e[d++]:null}if(!b)break;y=b.toA,_=b.toA-b.toB}return u}}class Vhe{startParse(e,i,s){return typeof e=="string"&&(e=new Vnt(e)),s=s?s.length?s.map(u=>new CN(u.from,u.to)):[new CN(0,0)]:[new CN(0,e.length)],this.createParse(e,i||[],s)}parse(e,i,s){let u=this.startParse(e,i,s);for(;;){let d=u.advance();if(d)return d}}}class Vnt{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,i){return this.string.slice(e,i)}}new Tn({perNode:!0});var Une={};class aC{constructor(e,i,s,u,d,h,m,y,_,b=0,T){this.p=e,this.stack=i,this.state=s,this.reducePos=u,this.pos=d,this.score=h,this.buffer=m,this.bufferBase=y,this.curContext=_,this.lookAhead=b,this.parent=T}toString(){return`[${this.stack.filter((e,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,i,s=0){let u=e.parser.context;return new aC(e,[],i,s,s,0,[],0,u?new qne(u,u.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var i;let s=e>>19,u=e&65535,{parser:d}=this.p,h=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),m=d.dynamicPrecedence(u);if(m&&(this.score+=m),s==0){this.pushState(d.getGoto(this.state,u,!0),this.reducePos),u<d.minRepeatTerm&&this.storeNode(u,this.reducePos,this.reducePos,h?8:4,!0),this.reduceContext(u,this.reducePos);return}let y=this.stack.length-(s-1)*3-(e&262144?6:0),_=y?this.stack[y-2]:this.p.ranges[0].from,b=this.reducePos-_;b>=2e3&&!(!((i=this.p.parser.nodeSet.types[u])===null||i===void 0)&&i.isAnonymous)&&(_==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=b):this.p.lastBigReductionSize<b&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=_,this.p.lastBigReductionSize=b));let T=y?this.stack[y-1]:0,C=this.bufferBase+this.buffer.length-T;if(u<d.minRepeatTerm||e&131072){let A=d.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(u,_,A,C+4,!0)}if(e&262144)this.state=this.stack[y];else{let A=this.stack[y-3];this.state=d.getGoto(A,u,!0)}for(;this.stack.length>y;)this.stack.pop();this.reduceContext(u,_)}storeNode(e,i,s,u=4,d=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let h=this,m=this.buffer.length;if(m==0&&h.parent&&(m=h.bufferBase-h.parent.bufferBase,h=h.parent),m>0&&h.buffer[m-4]==0&&h.buffer[m-1]>-1){if(i==s)return;if(h.buffer[m-2]>=i){h.buffer[m-2]=s;return}}}if(!d||this.pos==s)this.buffer.push(e,i,s,u);else{let h=this.buffer.length;if(h>0&&(this.buffer[h-4]!=0||this.buffer[h-1]<0)){let m=!1;for(let y=h;y>0&&this.buffer[y-2]>s;y-=4)if(this.buffer[y-1]>=0){m=!0;break}if(m)for(;h>0&&this.buffer[h-2]>s;)this.buffer[h]=this.buffer[h-4],this.buffer[h+1]=this.buffer[h-3],this.buffer[h+2]=this.buffer[h-2],this.buffer[h+3]=this.buffer[h-1],h-=4,u>4&&(u-=4)}this.buffer[h]=e,this.buffer[h+1]=i,this.buffer[h+2]=s,this.buffer[h+3]=u}}shift(e,i,s,u){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let d=e,{parser:h}=this.p;this.pos=u;let m=h.stateFlag(d,1);!m&&(u>s||i<=h.maxNode)&&(this.reducePos=u),this.pushState(d,m?s:Math.min(s,this.reducePos)),this.shiftContext(i,s),i<=h.maxNode&&this.buffer.push(i,s,u,4)}else this.pos=u,this.shiftContext(i,s),i<=this.p.parser.maxNode&&this.buffer.push(i,s,u,4)}apply(e,i,s,u){e&65536?this.reduce(e):this.shift(e,i,s,u)}useNode(e,i){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=e)&&(this.p.reused.push(e),s++);let u=this.pos;this.reducePos=this.pos=u+e.length,this.pushState(i,u),this.buffer.push(s,u,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,i=e.buffer.length;for(;i>0&&e.buffer[i-2]>e.reducePos;)i-=4;let s=e.buffer.slice(i),u=e.bufferBase+i;for(;e&&u==e.bufferBase;)e=e.parent;return new aC(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,u,this.curContext,this.lookAhead,e)}recoverByDelete(e,i){let s=e<=this.p.parser.maxNode;s&&this.storeNode(e,this.pos,i,4),this.storeNode(0,this.pos,i,s?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(e){for(let i=new Fnt(this);;){let s=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,e);if(s==0)return!1;if((s&65536)==0)return!0;i.reduce(s)}}recoverByInsert(e){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let u=[];for(let d=0,h;d<i.length;d+=2)(h=i[d+1])!=this.state&&this.p.parser.hasAction(h,e)&&u.push(i[d],h);if(this.stack.length<120)for(let d=0;u.length<8&&d<i.length;d+=2){let h=i[d+1];u.some((m,y)=>y&1&&m==h)||u.push(i[d],h)}i=u}let s=[];for(let u=0;u<i.length&&s.length<4;u+=2){let d=i[u+1];if(d==this.state)continue;let h=this.split();h.pushState(d,this.pos),h.storeNode(0,h.pos,h.pos,4,!0),h.shiftContext(i[u],this.pos),h.reducePos=this.pos,h.score-=200,s.push(h)}return s}forceReduce(){let{parser:e}=this.p,i=e.stateSlot(this.state,5);if((i&65536)==0)return!1;if(!e.validAction(this.state,i)){let s=i>>19,u=i&65535,d=this.stack.length-s*3;if(d<0||e.getGoto(this.stack[d],u,!1)<0){let h=this.findForcedReduction();if(h==null)return!1;i=h}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:e}=this.p,i=[],s=(u,d)=>{if(!i.includes(u))return i.push(u),e.allActions(u,h=>{if(!(h&393216))if(h&65536){let m=(h>>19)-d;if(m>1){let y=h&65535,_=this.stack.length-m*3;if(_>=0&&e.getGoto(this.stack[_],y,!1)>=0)return m<<19|65536|y}}else{let m=s(h,d+1);if(m!=null)return m}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=e.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(i)))}reduceContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(i)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let i=new qne(this.curContext.tracker,e);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class qne{constructor(e,i){this.tracker=e,this.context=i,this.hash=e.strict?e.hash(i):0}}class Fnt{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let i=e&65535,s=e>>19;s==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(s-1)*3;let u=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=u}}class oC{constructor(e,i,s){this.stack=e,this.pos=i,this.index=s,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,i=e.bufferBase+e.buffer.length){return new oC(e,i,i-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new oC(this.stack,this.pos,this.index)}}function Ix(t,e=Uint16Array){if(typeof t!="string")return t;let i=null;for(let s=0,u=0;s<t.length;){let d=0;for(;;){let h=t.charCodeAt(s++),m=!1;if(h==126){d=65535;break}h>=92&&h--,h>=34&&h--;let y=h-32;if(y>=46&&(y-=46,m=!0),d+=y,m)break;d*=46}i?i[u++]=d:i=new e(d)}return i}class dT{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Zne=new dT;class Gnt{constructor(e,i){this.input=e,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Zne,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(e,i){let s=this.range,u=this.rangeIndex,d=this.pos+e;for(;d<s.from;){if(!u)return null;let h=this.ranges[--u];d-=s.from-h.to,s=h}for(;i<0?d>s.to:d>=s.to;){if(u==this.ranges.length-1)return null;let h=this.ranges[++u];d+=h.from-s.to,s=h}return d}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let i of this.ranges)if(i.to>e)return Math.max(e,i.from);return this.end}peek(e){let i=this.chunkOff+e,s,u;if(i>=0&&i<this.chunk.length)s=this.pos+e,u=this.chunk.charCodeAt(i);else{let d=this.resolveOffset(e,1);if(d==null)return-1;if(s=d,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)u=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let h=this.rangeIndex,m=this.range;for(;m.to<=s;)m=this.ranges[++h];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>m.to&&(this.chunk2=this.chunk2.slice(0,m.to-s)),u=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),u}acceptToken(e,i=0){let s=i?this.resolveOffset(i,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=s}acceptTokenTo(e,i){this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),i=this.pos+e.length;this.chunk=i>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,i){if(i?(this.token=i,i.start=e,i.lookAhead=e+1,i.value=i.extended=-1):this.token=Zne,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,i){if(e>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,i-this.chunkPos);if(e>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,i-this.chunk2Pos);if(e>=this.range.from&&i<=this.range.to)return this.input.read(e,i);let s="";for(let u of this.ranges){if(u.from>=i)break;u.to>e&&(s+=this.input.read(Math.max(u.from,e),Math.min(u.to,i)))}return s}}class Gg{constructor(e,i){this.data=e,this.id=i}token(e,i){let{parser:s}=i.p;Fhe(this.data,e,i,this.id,s.data,s.tokenPrecTable)}}Gg.prototype.contextual=Gg.prototype.fallback=Gg.prototype.extend=!1;class H4{constructor(e,i,s){this.precTable=i,this.elseToken=s,this.data=typeof e=="string"?Ix(e):e}token(e,i){let s=e.pos,u=0;for(;;){let d=e.next<0,h=e.resolveOffset(1,1);if(Fhe(this.data,e,i,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(d||u++,h==null)break;e.reset(h,e.token)}u&&(e.reset(s,e.token),e.acceptToken(this.elseToken,u))}}H4.prototype.contextual=Gg.prototype.fallback=Gg.prototype.extend=!1;class Sc{constructor(e,i={}){this.token=e,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend}}function Fhe(t,e,i,s,u,d){let h=0,m=1<<s,{dialect:y}=i.p.parser;e:for(;(m&t[h])!=0;){let _=t[h+1];for(let A=h+3;A<_;A+=2)if((t[A+1]&m)>0){let D=t[A];if(y.allows(D)&&(e.token.value==-1||e.token.value==D||Wnt(D,e.token.value,u,d))){e.acceptToken(D);break}}let b=e.next,T=0,C=t[h+2];if(e.next<0&&C>T&&t[_+C*3-3]==65535){h=t[_+C*3-1];continue e}for(;T<C;){let A=T+C>>1,D=_+A+(A<<1),L=t[D],z=t[D+1]||65536;if(b<L)C=A;else if(b>=z)T=A+1;else{h=t[D+2],e.advance();continue e}}break}}function Hne(t,e,i){for(let s=e,u;(u=t[s])!=65535;s++)if(u==i)return s-e;return-1}function Wnt(t,e,i,s){let u=Hne(i,s,e);return u<0||Hne(i,s,t)<u}const To=typeof process<"u"&&Une&&/\bparse\b/.test(Une.LOG);let kN=null;function Xne(t,e,i){let s=t.cursor(wr.IncludeAnonymous);for(s.moveTo(e);;)if(!(i<0?s.childBefore(e):s.childAfter(e)))for(;;){if((i<0?s.to<e:s.from>e)&&!s.type.isError)return i<0?Math.max(0,Math.min(s.to-1,e-25)):Math.min(t.length,Math.max(s.from+1,e+25));if(i<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return i<0?0:t.length}}class Unt{constructor(e,i){this.fragments=e,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Xne(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Xne(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let s=this.trees[i],u=this.index[i];if(u==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let d=s.children[u],h=this.start[i]+s.positions[u];if(h>e)return this.nextStart=h,null;if(d instanceof Hr){if(h==e){if(h<this.safeFrom)return null;let m=h+d.length;if(m<=this.safeTo){let y=d.prop(Tn.lookAhead);if(!y||m+y<this.fragment.to)return d}}this.index[i]++,h+d.length>=Math.max(this.safeFrom,e)&&(this.trees.push(d),this.start.push(h),this.index.push(0))}else this.index[i]++,this.nextStart=h+d.length}}}class qnt{constructor(e,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(s=>new dT)}getActions(e){let i=0,s=null,{parser:u}=e.p,{tokenizers:d}=u,h=u.stateSlot(e.state,3),m=e.curContext?e.curContext.hash:0,y=0;for(let _=0;_<d.length;_++){if((1<<_&h)==0)continue;let b=d[_],T=this.tokens[_];if(!(s&&!b.fallback)&&((b.contextual||T.start!=e.pos||T.mask!=h||T.context!=m)&&(this.updateCachedToken(T,b,e),T.mask=h,T.context=m),T.lookAhead>T.end+25&&(y=Math.max(T.lookAhead,y)),T.value!=0)){let C=i;if(T.extended>-1&&(i=this.addActions(e,T.extended,T.end,i)),i=this.addActions(e,T.value,T.end,i),!b.extend&&(s=T,i>C))break}}for(;this.actions.length>i;)this.actions.pop();return y&&e.setLookAhead(y),!s&&e.pos==this.stream.end&&(s=new dT,s.value=e.p.parser.eofTerm,s.start=s.end=e.pos,i=this.addActions(e,s.value,s.end,i)),this.mainToken=s,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let i=new dT,{pos:s,p:u}=e;return i.start=s,i.end=Math.min(s+1,u.stream.end),i.value=s==u.stream.end?u.parser.eofTerm:0,i}updateCachedToken(e,i,s){let u=this.stream.clipPos(s.pos);if(i.token(this.stream.reset(u,e),s),e.value>-1){let{parser:d}=s.p;for(let h=0;h<d.specialized.length;h++)if(d.specialized[h]==e.value){let m=d.specializers[h](this.stream.read(e.start,e.end),s);if(m>=0&&s.p.parser.dialect.allows(m>>1)){(m&1)==0?e.value=m>>1:e.extended=m>>1;break}}}else e.value=0,e.end=this.stream.clipPos(u+1)}putAction(e,i,s,u){for(let d=0;d<u;d+=3)if(this.actions[d]==e)return u;return this.actions[u++]=e,this.actions[u++]=i,this.actions[u++]=s,u}addActions(e,i,s,u){let{state:d}=e,{parser:h}=e.p,{data:m}=h;for(let y=0;y<2;y++)for(let _=h.stateSlot(d,y?2:1);;_+=3){if(m[_]==65535)if(m[_+1]==1)_=ac(m,_+2);else{u==0&&m[_+1]==2&&(u=this.putAction(ac(m,_+2),i,s,u));break}m[_]==i&&(u=this.putAction(ac(m,_+1),i,s,u))}return u}}class Znt{constructor(e,i,s,u){this.parser=e,this.input=i,this.ranges=u,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Gnt(i,u),this.tokens=new qnt(e,this.stream),this.topTerm=e.top[1];let{from:d}=u[0];this.stacks=[aC.start(this,e.top[0],d)],this.fragments=s.length&&this.stream.end-d>e.bufferLength*4?new Unt(s,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,i=this.minStackPos,s=this.stacks=[],u,d;if(this.bigReductionCount>300&&e.length==1){let[h]=e;for(;h.forceReduce()&&h.stack.length&&h.stack[h.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let h=0;h<e.length;h++){let m=e[h];for(;;){if(this.tokens.mainToken=null,m.pos>i)s.push(m);else{if(this.advanceStack(m,s,e))continue;{u||(u=[],d=[]),u.push(m);let y=this.tokens.getMainToken(m);d.push(y.value,y.end)}}break}}if(!s.length){let h=u&&Xnt(u);if(h)return To&&console.log("Finish with "+this.stackID(h)),this.stackToTree(h);if(this.parser.strict)throw To&&u&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&u){let h=this.stoppedAt!=null&&u[0].pos>this.stoppedAt?u[0]:this.runRecovery(u,d,s);if(h)return To&&console.log("Force-finish "+this.stackID(h)),this.stackToTree(h.forceAll())}if(this.recovering){let h=this.recovering==1?1:this.recovering*3;if(s.length>h)for(s.sort((m,y)=>y.score-m.score);s.length>h;)s.pop();s.some(m=>m.reducePos>i)&&this.recovering--}else if(s.length>1){e:for(let h=0;h<s.length-1;h++){let m=s[h];for(let y=h+1;y<s.length;y++){let _=s[y];if(m.sameState(_)||m.buffer.length>500&&_.buffer.length>500)if((m.score-_.score||m.buffer.length-_.buffer.length)>0)s.splice(y--,1);else{s.splice(h--,1);continue e}}}s.length>12&&(s.sort((h,m)=>m.score-h.score),s.splice(12,s.length-12))}this.minStackPos=s[0].pos;for(let h=1;h<s.length;h++)s[h].pos<this.minStackPos&&(this.minStackPos=s[h].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,i,s){let u=e.pos,{parser:d}=this,h=To?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&u>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let _=e.curContext&&e.curContext.tracker.strict,b=_?e.curContext.hash:0;for(let T=this.fragments.nodeAt(u);T;){let C=this.parser.nodeSet.types[T.type.id]==T.type?d.getGoto(e.state,T.type.id):-1;if(C>-1&&T.length&&(!_||(T.prop(Tn.contextHash)||0)==b))return e.useNode(T,C),To&&console.log(h+this.stackID(e)+` (via reuse of ${d.getName(T.type.id)})`),!0;if(!(T instanceof Hr)||T.children.length==0||T.positions[0]>0)break;let A=T.children[0];if(A instanceof Hr&&T.positions[0]==0)T=A;else break}}let m=d.stateSlot(e.state,4);if(m>0)return e.reduce(m),To&&console.log(h+this.stackID(e)+` (via always-reduce ${d.getName(m&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let y=this.tokens.getActions(e);for(let _=0;_<y.length;){let b=y[_++],T=y[_++],C=y[_++],A=_==y.length||!s,D=A?e:e.split(),L=this.tokens.mainToken;if(D.apply(b,T,L?L.start:D.pos,C),To&&console.log(h+this.stackID(D)+` (via ${(b&65536)==0?"shift":`reduce of ${d.getName(b&65535)}`} for ${d.getName(T)} @ ${u}${D==e?"":", split"})`),A)return!0;D.pos>u?i.push(D):s.push(D)}return!1}advanceFully(e,i){let s=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>s)return Yne(e,i),!0}}runRecovery(e,i,s){let u=null,d=!1;for(let h=0;h<e.length;h++){let m=e[h],y=i[h<<1],_=i[(h<<1)+1],b=To?this.stackID(m)+" -> ":"";if(m.deadEnd&&(d||(d=!0,m.restart(),To&&console.log(b+this.stackID(m)+" (restarted)"),this.advanceFully(m,s))))continue;let T=m.split(),C=b;for(let A=0;A<10&&T.forceReduce()&&(To&&console.log(C+this.stackID(T)+" (via force-reduce)"),!this.advanceFully(T,s));A++)To&&(C=this.stackID(T)+" -> ");for(let A of m.recoverByInsert(y))To&&console.log(b+this.stackID(A)+" (via recover-insert)"),this.advanceFully(A,s);this.stream.end>m.pos?(_==m.pos&&(_++,y=0),m.recoverByDelete(y,_),To&&console.log(b+this.stackID(m)+` (via recover-delete ${this.parser.getName(y)})`),Yne(m,s)):(!u||u.score<T.score)&&(u=T)}return u}stackToTree(e){return e.close(),Hr.build({buffer:oC.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let i=(kN||(kN=new WeakMap)).get(e);return i||kN.set(e,i=String.fromCodePoint(this.nextStackID++)),i+e}}function Yne(t,e){for(let i=0;i<e.length;i++){let s=e[i];if(s.pos==t.pos&&s.sameState(t)){e[i].score<t.score&&(e[i]=t);return}}e.push(t)}class Hnt{constructor(e,i,s){this.source=e,this.flags=i,this.disabled=s}allows(e){return!this.disabled||this.disabled[e]==0}}const AN=t=>t;class Ghe{constructor(e){this.start=e.start,this.shift=e.shift||AN,this.reduce=e.reduce||AN,this.reuse=e.reuse||AN,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class B1 extends Vhe{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let i=e.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let m=0;m<e.repeatNodeCount;m++)i.push("");let s=Object.keys(e.topRules).map(m=>e.topRules[m][1]),u=[];for(let m=0;m<i.length;m++)u.push([]);function d(m,y,_){u[m].push([y,y.deserialize(String(_))])}if(e.nodeProps)for(let m of e.nodeProps){let y=m[0];typeof y=="string"&&(y=Tn[y]);for(let _=1;_<m.length;){let b=m[_++];if(b>=0)d(b,y,m[_++]);else{let T=m[_+-b];for(let C=-b;C>0;C--)d(m[_++],y,T);_++}}}this.nodeSet=new hQ(i.map((m,y)=>oo.define({name:y>=this.minRepeatTerm?void 0:m,id:y,props:u[y],top:s.indexOf(y)>-1,error:y==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(y)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=$he;let h=Ix(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let m=0;m<this.specializerSpecs.length;m++)this.specialized[m]=this.specializerSpecs[m].term;this.specializers=this.specializerSpecs.map(Kne),this.states=Ix(e.states,Uint32Array),this.data=Ix(e.stateData),this.goto=Ix(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(m=>typeof m=="number"?new Gg(h,m):m),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,i,s){let u=new Znt(this,e,i,s);for(let d of this.wrappers)u=d(u,e,i,s);return u}getGoto(e,i,s=!1){let u=this.goto;if(i>=u[0])return-1;for(let d=u[i+1];;){let h=u[d++],m=h&1,y=u[d++];if(m&&s)return y;for(let _=d+(h>>1);d<_;d++)if(u[d]==e)return y;if(m)return-1}}hasAction(e,i){let s=this.data;for(let u=0;u<2;u++)for(let d=this.stateSlot(e,u?2:1),h;;d+=3){if((h=s[d])==65535)if(s[d+1]==1)h=s[d=ac(s,d+2)];else{if(s[d+1]==2)return ac(s,d+2);break}if(h==i||h==0)return ac(s,d+1)}return 0}stateSlot(e,i){return this.states[e*6+i]}stateFlag(e,i){return(this.stateSlot(e,0)&i)>0}validAction(e,i){return!!this.allActions(e,s=>s==i?!0:null)}allActions(e,i){let s=this.stateSlot(e,4),u=s?i(s):void 0;for(let d=this.stateSlot(e,1);u==null;d+=3){if(this.data[d]==65535)if(this.data[d+1]==1)d=ac(this.data,d+2);else break;u=i(ac(this.data,d+1))}return u}nextStates(e){let i=[];for(let s=this.stateSlot(e,1);;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ac(this.data,s+2);else break;if((this.data[s+2]&1)==0){let u=this.data[s+1];i.some((d,h)=>h&1&&d==u)||i.push(this.data[s],u)}}return i}configure(e){let i=Object.assign(Object.create(B1.prototype),this);if(e.props&&(i.nodeSet=this.nodeSet.extend(...e.props)),e.top){let s=this.topRules[e.top];if(!s)throw new RangeError(`Invalid top rule name ${e.top}`);i.top=s}return e.tokenizers&&(i.tokenizers=this.tokenizers.map(s=>{let u=e.tokenizers.find(d=>d.from==s);return u?u.to:s})),e.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((s,u)=>{let d=e.specializers.find(m=>m.from==s.external);if(!d)return s;let h=Object.assign(Object.assign({},s),{external:d.to});return i.specializers[u]=Kne(h),h})),e.contextTracker&&(i.context=e.contextTracker),e.dialect&&(i.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(i.strict=e.strict),e.wrap&&(i.wrappers=i.wrappers.concat(e.wrap)),e.bufferLength!=null&&(i.bufferLength=e.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let i=this.dynamicPrecedences;return i==null?0:i[e]||0}parseDialect(e){let i=Object.keys(this.dialects),s=i.map(()=>!1);if(e)for(let d of e.split(" ")){let h=i.indexOf(d);h>=0&&(s[h]=!0)}let u=null;for(let d=0;d<i.length;d++)if(!s[d])for(let h=this.dialects[i[d]],m;(m=this.data[h++])!=65535;)(u||(u=new Uint8Array(this.maxTerm+1)))[m]=1;return new Hnt(e,s,u)}static deserialize(e){return new B1(e)}}function ac(t,e){return t[e]|t[e+1]<<16}function Xnt(t){let e=null;for(let i of t){let s=i.p.stoppedAt;(i.pos==i.p.stream.end||s!=null&&i.pos>s)&&i.p.parser.stateFlag(i.state,2)&&(!e||e.score<i.score)&&(e=i)}return e}function Kne(t){if(t.external){let e=t.extend?1:0;return(i,s)=>t.external(i,s)<<1|e}return t.get}let Ynt=0;class as{constructor(e,i,s,u){this.name=e,this.set=i,this.base=s,this.modified=u,this.id=Ynt++}toString(){let{name:e}=this;for(let i of this.modified)i.name&&(e=`${i.name}(${e})`);return e}static define(e,i){let s=typeof e=="string"?e:"?";if(e instanceof as&&(i=e),i?.base)throw new Error("Can not derive from a modified tag");let u=new as(s,[],null,[]);if(u.set.push(u),i)for(let d of i.set)u.set.push(d);return u}static defineModifier(e){let i=new sC(e);return s=>s.modified.indexOf(i)>-1?s:sC.get(s.base||s,s.modified.concat(i).sort((u,d)=>u.id-d.id))}}let Knt=0;class sC{constructor(e){this.name=e,this.instances=[],this.id=Knt++}static get(e,i){if(!i.length)return e;let s=i[0].instances.find(m=>m.base==e&&Jnt(i,m.modified));if(s)return s;let u=[],d=new as(e.name,u,e,i);for(let m of i)m.instances.push(d);let h=ert(i);for(let m of e.set)if(!m.modified.length)for(let y of h)u.push(sC.get(m,y));return d}}function Jnt(t,e){return t.length==e.length&&t.every((i,s)=>i==e[s])}function ert(t){let e=[[]];for(let i=0;i<t.length;i++)for(let s=0,u=e.length;s<u;s++)e.push(e[s].concat(t[i]));return e.sort((i,s)=>s.length-i.length)}function vQ(t){let e=Object.create(null);for(let i in t){let s=t[i];Array.isArray(s)||(s=[s]);for(let u of i.split(" "))if(u){let d=[],h=2,m=u;for(let T=0;;){if(m=="..."&&T>0&&T+3==u.length){h=1;break}let C=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(m);if(!C)throw new RangeError("Invalid path: "+u);if(d.push(C[0]=="*"?"":C[0][0]=='"'?JSON.parse(C[0]):C[0]),T+=C[0].length,T==u.length)break;let A=u[T++];if(T==u.length&&A=="!"){h=0;break}if(A!="/")throw new RangeError("Invalid path: "+u);m=u.slice(T)}let y=d.length-1,_=d[y];if(!_)throw new RangeError("Invalid path: "+u);let b=new Q1(s,h,y>0?d.slice(0,y):null);e[_]=b.sort(e[_])}}return Whe.add(e)}const Whe=new Tn({combine(t,e){let i,s,u;for(;t||e;){if(!t||e&&t.depth>=e.depth?(u=e,e=e.next):(u=t,t=t.next),i&&i.mode==u.mode&&!u.context&&!i.context)continue;let d=new Q1(u.tags,u.mode,u.context);i?i.next=d:s=d,i=d}return s}});class Q1{constructor(e,i,s,u){this.tags=e,this.mode=i,this.context=s,this.next=u}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Q1.empty=new Q1([],2,null);function Uhe(t,e){let i=Object.create(null);for(let d of t)if(!Array.isArray(d.tag))i[d.tag.id]=d.class;else for(let h of d.tag)i[h.id]=d.class;let{scope:s,all:u=null}=e||{};return{style:d=>{let h=u;for(let m of d)for(let y of m.set){let _=i[y.id];if(_){h=h?h+" "+_:_;break}}return h},scope:s}}function trt(t,e){let i=null;for(let s of t){let u=s.style(e);u&&(i=i?i+" "+u:u)}return i}function nrt(t,e,i,s=0,u=t.length){let d=new rrt(s,Array.isArray(e)?e:[e],i);d.highlightRange(t.cursor(),s,u,"",d.highlighters),d.flush(u)}class rrt{constructor(e,i,s){this.at=e,this.highlighters=i,this.span=s,this.class=""}startSpan(e,i){i!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=i)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,i,s,u,d){let{type:h,from:m,to:y}=e;if(m>=s||y<=i)return;h.isTop&&(d=this.highlighters.filter(A=>!A.scope||A.scope(h)));let _=u,b=irt(e)||Q1.empty,T=trt(d,b.tags);if(T&&(_&&(_+=" "),_+=T,b.mode==1&&(u+=(u?" ":"")+T)),this.startSpan(Math.max(i,m),_),b.opaque)return;let C=e.tree&&e.tree.prop(Tn.mounted);if(C&&C.overlay){let A=e.node.enter(C.overlay[0].from+m,1),D=this.highlighters.filter(z=>!z.scope||z.scope(C.tree.type)),L=e.firstChild();for(let z=0,$=m;;z++){let Q=z<C.overlay.length?C.overlay[z]:null,B=Q?Q.from+m:y,q=Math.max(i,$),Y=Math.min(s,B);if(q<Y&&L)for(;e.from<Y&&(this.highlightRange(e,q,Y,u,d),this.startSpan(Math.min(Y,e.to),_),!(e.to>=B||!e.nextSibling())););if(!Q||B>s)break;$=Q.to+m,$>i&&(this.highlightRange(A.cursor(),Math.max(i,Q.from+m),Math.min(s,$),"",D),this.startSpan(Math.min(s,$),_))}L&&e.parent()}else if(e.firstChild()){C&&(u="");do if(!(e.to<=i)){if(e.from>=s)break;this.highlightRange(e,i,s,u,d),this.startSpan(Math.min(s,e.to),_)}while(e.nextSibling());e.parent()}}}function irt(t){let e=t.type.prop(Whe);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const gt=as.define,lS=gt(),yd=gt(),Jne=gt(yd),ere=gt(yd),xd=gt(),uS=gt(xd),PN=gt(xd),Gl=gt(),Ah=gt(Gl),$l=gt(),zl=gt(),X4=gt(),cx=gt(X4),cS=gt(),Te={comment:lS,lineComment:gt(lS),blockComment:gt(lS),docComment:gt(lS),name:yd,variableName:gt(yd),typeName:Jne,tagName:gt(Jne),propertyName:ere,attributeName:gt(ere),className:gt(yd),labelName:gt(yd),namespace:gt(yd),macroName:gt(yd),literal:xd,string:uS,docString:gt(uS),character:gt(uS),attributeValue:gt(uS),number:PN,integer:gt(PN),float:gt(PN),bool:gt(xd),regexp:gt(xd),escape:gt(xd),color:gt(xd),url:gt(xd),keyword:$l,self:gt($l),null:gt($l),atom:gt($l),unit:gt($l),modifier:gt($l),operatorKeyword:gt($l),controlKeyword:gt($l),definitionKeyword:gt($l),moduleKeyword:gt($l),operator:zl,derefOperator:gt(zl),arithmeticOperator:gt(zl),logicOperator:gt(zl),bitwiseOperator:gt(zl),compareOperator:gt(zl),updateOperator:gt(zl),definitionOperator:gt(zl),typeOperator:gt(zl),controlOperator:gt(zl),punctuation:X4,separator:gt(X4),bracket:cx,angleBracket:gt(cx),squareBracket:gt(cx),paren:gt(cx),brace:gt(cx),content:Gl,heading:Ah,heading1:gt(Ah),heading2:gt(Ah),heading3:gt(Ah),heading4:gt(Ah),heading5:gt(Ah),heading6:gt(Ah),contentSeparator:gt(Gl),list:gt(Gl),quote:gt(Gl),emphasis:gt(Gl),strong:gt(Gl),link:gt(Gl),monospace:gt(Gl),strikethrough:gt(Gl),inserted:gt(),deleted:gt(),changed:gt(),invalid:gt(),meta:cS,documentMeta:gt(cS),annotation:gt(cS),processingInstruction:gt(cS),definition:as.defineModifier("definition"),constant:as.defineModifier("constant"),function:as.defineModifier("function"),standard:as.defineModifier("standard"),local:as.defineModifier("local"),special:as.defineModifier("special")};for(let t in Te){let e=Te[t];e instanceof as&&(e.name=t)}Uhe([{tag:Te.link,class:"tok-link"},{tag:Te.heading,class:"tok-heading"},{tag:Te.emphasis,class:"tok-emphasis"},{tag:Te.strong,class:"tok-strong"},{tag:Te.keyword,class:"tok-keyword"},{tag:Te.atom,class:"tok-atom"},{tag:Te.bool,class:"tok-bool"},{tag:Te.url,class:"tok-url"},{tag:Te.labelName,class:"tok-labelName"},{tag:Te.inserted,class:"tok-inserted"},{tag:Te.deleted,class:"tok-deleted"},{tag:Te.literal,class:"tok-literal"},{tag:Te.string,class:"tok-string"},{tag:Te.number,class:"tok-number"},{tag:[Te.regexp,Te.escape,Te.special(Te.string)],class:"tok-string2"},{tag:Te.variableName,class:"tok-variableName"},{tag:Te.local(Te.variableName),class:"tok-variableName tok-local"},{tag:Te.definition(Te.variableName),class:"tok-variableName tok-definition"},{tag:Te.special(Te.variableName),class:"tok-variableName2"},{tag:Te.definition(Te.propertyName),class:"tok-propertyName tok-definition"},{tag:Te.typeName,class:"tok-typeName"},{tag:Te.namespace,class:"tok-namespace"},{tag:Te.className,class:"tok-className"},{tag:Te.macroName,class:"tok-macroName"},{tag:Te.propertyName,class:"tok-propertyName"},{tag:Te.operator,class:"tok-operator"},{tag:Te.comment,class:"tok-comment"},{tag:Te.meta,class:"tok-meta"},{tag:Te.invalid,class:"tok-invalid"},{tag:Te.punctuation,class:"tok-punctuation"}]);const art=316,ort=317,tre=1,srt=2,lrt=3,urt=4,crt=318,drt=320,frt=321,hrt=5,prt=6,mrt=0,Y4=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],qhe=125,grt=59,K4=47,vrt=42,yrt=43,xrt=45,_rt=60,Ort=44,brt=63,wrt=46,Srt=91,Trt=new Ghe({start:!1,shift(t,e){return e==hrt||e==prt||e==drt?t:e==frt},strict:!1}),Crt=new Sc((t,e)=>{let{next:i}=t;(i==qhe||i==-1||e.context)&&t.acceptToken(crt)},{contextual:!0,fallback:!0}),krt=new Sc((t,e)=>{let{next:i}=t,s;Y4.indexOf(i)>-1||i==K4&&((s=t.peek(1))==K4||s==vrt)||i!=qhe&&i!=grt&&i!=-1&&!e.context&&t.acceptToken(art)},{contextual:!0}),Art=new Sc((t,e)=>{t.next==Srt&&!e.context&&t.acceptToken(ort)},{contextual:!0}),Prt=new Sc((t,e)=>{let{next:i}=t;if(i==yrt||i==xrt){if(t.advance(),i==t.next){t.advance();let s=!e.context&&e.canShift(tre);t.acceptToken(s?tre:srt)}}else i==brt&&t.peek(1)==wrt&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(lrt))},{contextual:!0});function EN(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const Ert=new Sc((t,e)=>{if(t.next!=_rt||!e.dialectEnabled(mrt)||(t.advance(),t.next==K4))return;let i=0;for(;Y4.indexOf(t.next)>-1;)t.advance(),i++;if(EN(t.next,!0)){for(t.advance(),i++;EN(t.next,!1);)t.advance(),i++;for(;Y4.indexOf(t.next)>-1;)t.advance(),i++;if(t.next==Ort)return;for(let s=0;;s++){if(s==7){if(!EN(t.next,!0))return;break}if(t.next!="extends".charCodeAt(s))break;t.advance(),i++}}t.acceptToken(urt,-i)}),Mrt=vQ({"get set async static":Te.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Te.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Te.operatorKeyword,"let var const using function class extends":Te.definitionKeyword,"import export from":Te.moduleKeyword,"with debugger new":Te.keyword,TemplateString:Te.special(Te.string),super:Te.atom,BooleanLiteral:Te.bool,this:Te.self,null:Te.null,Star:Te.modifier,VariableName:Te.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Te.function(Te.variableName),VariableDefinition:Te.definition(Te.variableName),Label:Te.labelName,PropertyName:Te.propertyName,PrivatePropertyName:Te.special(Te.propertyName),"CallExpression/MemberExpression/PropertyName":Te.function(Te.propertyName),"FunctionDeclaration/VariableDefinition":Te.function(Te.definition(Te.variableName)),"ClassDeclaration/VariableDefinition":Te.definition(Te.className),"NewExpression/VariableName":Te.className,PropertyDefinition:Te.definition(Te.propertyName),PrivatePropertyDefinition:Te.definition(Te.special(Te.propertyName)),UpdateOp:Te.updateOperator,"LineComment Hashbang":Te.lineComment,BlockComment:Te.blockComment,Number:Te.number,String:Te.string,Escape:Te.escape,ArithOp:Te.arithmeticOperator,LogicOp:Te.logicOperator,BitOp:Te.bitwiseOperator,CompareOp:Te.compareOperator,RegExp:Te.regexp,Equals:Te.definitionOperator,Arrow:Te.function(Te.punctuation),": Spread":Te.punctuation,"( )":Te.paren,"[ ]":Te.squareBracket,"{ }":Te.brace,"InterpolationStart InterpolationEnd":Te.special(Te.brace),".":Te.derefOperator,", ;":Te.separator,"@":Te.meta,TypeName:Te.typeName,TypeDefinition:Te.definition(Te.typeName),"type enum interface implements namespace module declare":Te.definitionKeyword,"abstract global Privacy readonly override":Te.modifier,"is keyof unique infer asserts":Te.operatorKeyword,JSXAttributeValue:Te.attributeValue,JSXText:Te.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Te.angleBracket,"JSXIdentifier JSXNameSpacedName":Te.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Te.attributeName,"JSXBuiltin/JSXIdentifier":Te.standard(Te.tagName)}),Drt={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},Irt={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},Rrt={__proto__:null,"<":193},Lrt=B1.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:Trt,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[Mrt],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[krt,Art,Prt,Ert,2,3,4,5,6,7,8,9,10,11,12,13,14,Crt,new H4("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new H4("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>Drt[t]||-1},{term:343,get:t=>Irt[t]||-1},{term:95,get:t=>Rrt[t]||-1}],tokenPrec:15201});let J4=[],Zhe=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,i=0;e<t.length;e++)(e%2?Zhe:J4).push(i=i+t[e])})();function Nrt(t){if(t<768)return!1;for(let e=0,i=J4.length;;){let s=e+i>>1;if(t<J4[s])i=s;else if(t>=Zhe[s])e=s+1;else return!0;if(e==i)return!1}}function nre(t){return t>=127462&&t<=127487}const rre=8205;function $rt(t,e,i=!0,s=!0){return(i?Hhe:zrt)(t,e,s)}function Hhe(t,e,i){if(e==t.length)return e;e&&Xhe(t.charCodeAt(e))&&Yhe(t.charCodeAt(e-1))&&e--;let s=MN(t,e);for(e+=ire(s);e<t.length;){let u=MN(t,e);if(s==rre||u==rre||i&&Nrt(u))e+=ire(u),s=u;else if(nre(u)){let d=0,h=e-2;for(;h>=0&&nre(MN(t,h));)d++,h-=2;if(d%2==0)break;e+=2}else break}return e}function zrt(t,e,i){for(;e>0;){let s=Hhe(t,e-2,i);if(s<e)return s;e--}return 0}function MN(t,e){let i=t.charCodeAt(e);if(!Yhe(i)||e+1==t.length)return i;let s=t.charCodeAt(e+1);return Xhe(s)?(i-55296<<10)+(s-56320)+65536:i}function Xhe(t){return t>=56320&&t<57344}function Yhe(t){return t>=55296&&t<56320}function ire(t){return t<65536?1:2}let Zn=class Khe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,i,s){[e,i]=av(this,e,i);let u=[];return this.decompose(0,e,u,2),s.length&&s.decompose(0,s.length,u,3),this.decompose(i,this.length,u,1),fT.from(u,this.length-(i-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,i=this.length){[e,i]=av(this,e,i);let s=[];return this.decompose(e,i,s,0),fT.from(s,i-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let i=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),u=new e1(this),d=new e1(e);for(let h=i,m=i;;){if(u.next(h),d.next(h),h=0,u.lineBreak!=d.lineBreak||u.done!=d.done||u.value!=d.value)return!1;if(m+=u.value.length,u.done||m>=s)return!0}}iter(e=1){return new e1(this,e)}iterRange(e,i=this.length){return new Jhe(this,e,i)}iterLines(e,i){let s;if(e==null)s=this.iter();else{i==null&&(i=this.lines+1);let u=this.line(e).from;s=this.iterRange(u,Math.max(u,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new epe(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Khe.empty:e.length<=32?new Zr(e):fT.from(Zr.split(e,[]))}};class Zr extends Zn{constructor(e,i=Brt(e)){super(),this.text=e,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(e,i,s,u){for(let d=0;;d++){let h=this.text[d],m=u+h.length;if((i?s:m)>=e)return new Qrt(u,m,s,h);u=m+1,s++}}decompose(e,i,s,u){let d=e<=0&&i>=this.length?this:new Zr(are(this.text,e,i),Math.min(i,this.length)-Math.max(0,e));if(u&1){let h=s.pop(),m=hT(d.text,h.text.slice(),0,d.length);if(m.length<=32)s.push(new Zr(m,h.length+d.length));else{let y=m.length>>1;s.push(new Zr(m.slice(0,y)),new Zr(m.slice(y)))}}else s.push(d)}replace(e,i,s){if(!(s instanceof Zr))return super.replace(e,i,s);[e,i]=av(this,e,i);let u=hT(this.text,hT(s.text,are(this.text,0,e)),i),d=this.length+s.length-(i-e);return u.length<=32?new Zr(u,d):fT.from(Zr.split(u,[]),d)}sliceString(e,i=this.length,s=`
`){[e,i]=av(this,e,i);let u="";for(let d=0,h=0;d<=i&&h<this.text.length;h++){let m=this.text[h],y=d+m.length;d>e&&h&&(u+=s),e<y&&i>d&&(u+=m.slice(Math.max(0,e-d),i-d)),d=y+1}return u}flatten(e){for(let i of this.text)e.push(i)}scanIdentical(){return 0}static split(e,i){let s=[],u=-1;for(let d of e)s.push(d),u+=d.length+1,s.length==32&&(i.push(new Zr(s,u)),s=[],u=-1);return u>-1&&i.push(new Zr(s,u)),i}}let fT=class bg extends Zn{constructor(e,i){super(),this.children=e,this.length=i,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,i,s,u){for(let d=0;;d++){let h=this.children[d],m=u+h.length,y=s+h.lines-1;if((i?y:m)>=e)return h.lineInner(e,i,s,u);u=m+1,s=y+1}}decompose(e,i,s,u){for(let d=0,h=0;h<=i&&d<this.children.length;d++){let m=this.children[d],y=h+m.length;if(e<=y&&i>=h){let _=u&((h<=e?1:0)|(y>=i?2:0));h>=e&&y<=i&&!_?s.push(m):m.decompose(e-h,i-h,s,_)}h=y+1}}replace(e,i,s){if([e,i]=av(this,e,i),s.lines<this.lines)for(let u=0,d=0;u<this.children.length;u++){let h=this.children[u],m=d+h.length;if(e>=d&&i<=m){let y=h.replace(e-d,i-d,s),_=this.lines-h.lines+y.lines;if(y.lines<_>>4&&y.lines>_>>6){let b=this.children.slice();return b[u]=y,new bg(b,this.length-(i-e)+s.length)}return super.replace(d,m,y)}d=m+1}return super.replace(e,i,s)}sliceString(e,i=this.length,s=`
`){[e,i]=av(this,e,i);let u="";for(let d=0,h=0;d<this.children.length&&h<=i;d++){let m=this.children[d],y=h+m.length;h>e&&d&&(u+=s),e<y&&i>h&&(u+=m.sliceString(e-h,i-h,s)),h=y+1}return u}flatten(e){for(let i of this.children)i.flatten(e)}scanIdentical(e,i){if(!(e instanceof bg))return 0;let s=0,[u,d,h,m]=i>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;u+=i,d+=i){if(u==h||d==m)return s;let y=this.children[u],_=e.children[d];if(y!=_)return s+y.scanIdentical(_,i);s+=y.length+1}}static from(e,i=e.reduce((s,u)=>s+u.length+1,-1)){let s=0;for(let A of e)s+=A.lines;if(s<32){let A=[];for(let D of e)D.flatten(A);return new Zr(A,i)}let u=Math.max(32,s>>5),d=u<<1,h=u>>1,m=[],y=0,_=-1,b=[];function T(A){let D;if(A.lines>d&&A instanceof bg)for(let L of A.children)T(L);else A.lines>h&&(y>h||!y)?(C(),m.push(A)):A instanceof Zr&&y&&(D=b[b.length-1])instanceof Zr&&A.lines+D.lines<=32?(y+=A.lines,_+=A.length+1,b[b.length-1]=new Zr(D.text.concat(A.text),D.length+1+A.length)):(y+A.lines>u&&C(),y+=A.lines,_+=A.length+1,b.push(A))}function C(){y!=0&&(m.push(b.length==1?b[0]:bg.from(b,_)),_=-1,y=b.length=0)}for(let A of e)T(A);return C(),m.length==1?m[0]:new bg(m,i)}};Zn.empty=new Zr([""],0);function Brt(t){let e=-1;for(let i of t)e+=i.length+1;return e}function hT(t,e,i=0,s=1e9){for(let u=0,d=0,h=!0;d<t.length&&u<=s;d++){let m=t[d],y=u+m.length;y>=i&&(y>s&&(m=m.slice(0,s-u)),u<i&&(m=m.slice(i-u)),h?(e[e.length-1]+=m,h=!1):e.push(m)),u=y+1}return e}function are(t,e,i){return hT(t,[""],e,i)}class e1{constructor(e,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[i>0?1:(e instanceof Zr?e.text.length:e.children.length)<<1]}nextInner(e,i){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,u=this.nodes[s],d=this.offsets[s],h=d>>1,m=u instanceof Zr?u.text.length:u.children.length;if(h==(i>0?m:0)){if(s==0)return this.done=!0,this.value="",this;i>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((d&1)==(i>0?0:1)){if(this.offsets[s]+=i,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(u instanceof Zr){let y=u.text[h+(i<0?-1:0)];if(this.offsets[s]+=i,y.length>Math.max(0,e))return this.value=e==0?y:i>0?y.slice(e):y.slice(0,y.length-e),this;e-=y.length}else{let y=u.children[h+(i<0?-1:0)];e>y.length?(e-=y.length,this.offsets[s]+=i):(i<0&&this.offsets[s]--,this.nodes.push(y),this.offsets.push(i>0?1:(y instanceof Zr?y.text.length:y.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Jhe{constructor(e,i,s){this.value="",this.done=!1,this.cursor=new e1(e,i>s?-1:1),this.pos=i>s?e.length:0,this.from=Math.min(i,s),this.to=Math.max(i,s)}nextInner(e,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let s=i<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:u}=this.cursor.next(e);return this.pos+=(u.length+e)*i,this.value=u.length<=s?u:i<0?u.slice(u.length-s):u.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class epe{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:i,lineBreak:s,value:u}=this.inner.next(e);return i&&this.afterBreak?(this.value="",this.afterBreak=!1):i?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=u,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Zn.prototype[Symbol.iterator]=function(){return this.iter()},e1.prototype[Symbol.iterator]=Jhe.prototype[Symbol.iterator]=epe.prototype[Symbol.iterator]=function(){return this});class Qrt{constructor(e,i,s,u){this.from=e,this.to=i,this.number=s,this.text=u}get length(){return this.to-this.from}}function av(t,e,i){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,i))]}function Si(t,e,i=!0,s=!0){return $rt(t,e,i,s)}function jrt(t){return t>=56320&&t<57344}function Vrt(t){return t>=55296&&t<56320}function Za(t,e){let i=t.charCodeAt(e);if(!Vrt(i)||e+1==t.length)return i;let s=t.charCodeAt(e+1);return jrt(s)?(i-55296<<10)+(s-56320)+65536:i}function yQ(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Yl(t){return t<65536?1:2}const e$=/\r\n?|\n/;var Hi=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Hi||(Hi={}));class au{constructor(e){this.sections=e}get length(){let e=0;for(let i=0;i<this.sections.length;i+=2)e+=this.sections[i];return e}get newLength(){let e=0;for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i+1];e+=s<0?this.sections[i]:s}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let i=0,s=0,u=0;i<this.sections.length;){let d=this.sections[i++],h=this.sections[i++];h<0?(e(s,u,d),u+=d):u+=h,s+=d}}iterChangedRanges(e,i=!1){t$(this,e,i)}get invertedDesc(){let e=[];for(let i=0;i<this.sections.length;){let s=this.sections[i++],u=this.sections[i++];u<0?e.push(s,u):e.push(u,s)}return new au(e)}composeDesc(e){return this.empty?e:e.empty?this:tpe(this,e)}mapDesc(e,i=!1){return e.empty?this:n$(this,e,i)}mapPos(e,i=-1,s=Hi.Simple){let u=0,d=0;for(let h=0;h<this.sections.length;){let m=this.sections[h++],y=this.sections[h++],_=u+m;if(y<0){if(_>e)return d+(e-u);d+=m}else{if(s!=Hi.Simple&&_>=e&&(s==Hi.TrackDel&&u<e&&_>e||s==Hi.TrackBefore&&u<e||s==Hi.TrackAfter&&_>e))return null;if(_>e||_==e&&i<0&&!m)return e==u||i<0?d:d+y;d+=y}u=_}if(e>u)throw new RangeError(`Position ${e} is out of range for changeset of length ${u}`);return d}touchesRange(e,i=e){for(let s=0,u=0;s<this.sections.length&&u<=i;){let d=this.sections[s++],h=this.sections[s++],m=u+d;if(h>=0&&u<=i&&m>=e)return u<e&&m>i?"cover":!0;u=m}return!1}toString(){let e="";for(let i=0;i<this.sections.length;){let s=this.sections[i++],u=this.sections[i++];e+=(e?" ":"")+s+(u>=0?":"+u:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(i=>typeof i!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new au(e)}static create(e){return new au(e)}}class Oi extends au{constructor(e,i){super(e),this.inserted=i}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return t$(this,(i,s,u,d,h)=>e=e.replace(u,u+(s-i),h),!1),e}mapDesc(e,i=!1){return n$(this,e,i,!0)}invert(e){let i=this.sections.slice(),s=[];for(let u=0,d=0;u<i.length;u+=2){let h=i[u],m=i[u+1];if(m>=0){i[u]=m,i[u+1]=h;let y=u>>1;for(;s.length<y;)s.push(Zn.empty);s.push(h?e.slice(d,d+h):Zn.empty)}d+=h}return new Oi(i,s)}compose(e){return this.empty?e:e.empty?this:tpe(this,e,!0)}map(e,i=!1){return e.empty?this:n$(this,e,i,!0)}iterChanges(e,i=!1){t$(this,e,i)}get desc(){return au.create(this.sections)}filter(e){let i=[],s=[],u=[],d=new j1(this);e:for(let h=0,m=0;;){let y=h==e.length?1e9:e[h++];for(;m<y||m==y&&d.len==0;){if(d.done)break e;let b=Math.min(d.len,y-m);oa(u,b,-1);let T=d.ins==-1?-1:d.off==0?d.ins:0;oa(i,b,T),T>0&&Sd(s,i,d.text),d.forward(b),m+=b}let _=e[h++];for(;m<_;){if(d.done)break e;let b=Math.min(d.len,_-m);oa(i,b,-1),oa(u,b,d.ins==-1?-1:d.off==0?d.ins:0),d.forward(b),m+=b}}return{changes:new Oi(i,s),filtered:au.create(u)}}toJSON(){let e=[];for(let i=0;i<this.sections.length;i+=2){let s=this.sections[i],u=this.sections[i+1];u<0?e.push(s):u==0?e.push([s]):e.push([s].concat(this.inserted[i>>1].toJSON()))}return e}static of(e,i,s){let u=[],d=[],h=0,m=null;function y(b=!1){if(!b&&!u.length)return;h<i&&oa(u,i-h,-1);let T=new Oi(u,d);m=m?m.compose(T.map(m)):T,u=[],d=[],h=0}function _(b){if(Array.isArray(b))for(let T of b)_(T);else if(b instanceof Oi){if(b.length!=i)throw new RangeError(`Mismatched change set length (got ${b.length}, expected ${i})`);y(),m=m?m.compose(b.map(m)):b}else{let{from:T,to:C=T,insert:A}=b;if(T>C||T<0||C>i)throw new RangeError(`Invalid change range ${T} to ${C} (in doc of length ${i})`);let D=A?typeof A=="string"?Zn.of(A.split(s||e$)):A:Zn.empty,L=D.length;if(T==C&&L==0)return;T<h&&y(),T>h&&oa(u,T-h,-1),oa(u,C-T,L),Sd(d,u,D),h=C}}return _(e),y(!m),m}static empty(e){return new Oi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],s=[];for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="number")i.push(d,-1);else{if(!Array.isArray(d)||typeof d[0]!="number"||d.some((h,m)=>m&&typeof h!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(d.length==1)i.push(d[0],0);else{for(;s.length<u;)s.push(Zn.empty);s[u]=Zn.of(d.slice(1)),i.push(d[0],s[u].length)}}}return new Oi(i,s)}static createSet(e,i){return new Oi(e,i)}}function oa(t,e,i,s=!1){if(e==0&&i<=0)return;let u=t.length-2;u>=0&&i<=0&&i==t[u+1]?t[u]+=e:u>=0&&e==0&&t[u]==0?t[u+1]+=i:s?(t[u]+=e,t[u+1]+=i):t.push(e,i)}function Sd(t,e,i){if(i.length==0)return;let s=e.length-2>>1;if(s<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<s;)t.push(Zn.empty);t.push(i)}}function t$(t,e,i){let s=t.inserted;for(let u=0,d=0,h=0;h<t.sections.length;){let m=t.sections[h++],y=t.sections[h++];if(y<0)u+=m,d+=m;else{let _=u,b=d,T=Zn.empty;for(;_+=m,b+=y,y&&s&&(T=T.append(s[h-2>>1])),!(i||h==t.sections.length||t.sections[h+1]<0);)m=t.sections[h++],y=t.sections[h++];e(u,_,d,b,T),u=_,d=b}}}function n$(t,e,i,s=!1){let u=[],d=s?[]:null,h=new j1(t),m=new j1(e);for(let y=-1;;){if(h.done&&m.len||m.done&&h.len)throw new Error("Mismatched change set lengths");if(h.ins==-1&&m.ins==-1){let _=Math.min(h.len,m.len);oa(u,_,-1),h.forward(_),m.forward(_)}else if(m.ins>=0&&(h.ins<0||y==h.i||h.off==0&&(m.len<h.len||m.len==h.len&&!i))){let _=m.len;for(oa(u,m.ins,-1);_;){let b=Math.min(h.len,_);h.ins>=0&&y<h.i&&h.len<=b&&(oa(u,0,h.ins),d&&Sd(d,u,h.text),y=h.i),h.forward(b),_-=b}m.next()}else if(h.ins>=0){let _=0,b=h.len;for(;b;)if(m.ins==-1){let T=Math.min(b,m.len);_+=T,b-=T,m.forward(T)}else if(m.ins==0&&m.len<b)b-=m.len,m.next();else break;oa(u,_,y<h.i?h.ins:0),d&&y<h.i&&Sd(d,u,h.text),y=h.i,h.forward(h.len-b)}else{if(h.done&&m.done)return d?Oi.createSet(u,d):au.create(u);throw new Error("Mismatched change set lengths")}}}function tpe(t,e,i=!1){let s=[],u=i?[]:null,d=new j1(t),h=new j1(e);for(let m=!1;;){if(d.done&&h.done)return u?Oi.createSet(s,u):au.create(s);if(d.ins==0)oa(s,d.len,0,m),d.next();else if(h.len==0&&!h.done)oa(s,0,h.ins,m),u&&Sd(u,s,h.text),h.next();else{if(d.done||h.done)throw new Error("Mismatched change set lengths");{let y=Math.min(d.len2,h.len),_=s.length;if(d.ins==-1){let b=h.ins==-1?-1:h.off?0:h.ins;oa(s,y,b,m),u&&b&&Sd(u,s,h.text)}else h.ins==-1?(oa(s,d.off?0:d.len,y,m),u&&Sd(u,s,d.textBit(y))):(oa(s,d.off?0:d.len,h.off?0:h.ins,m),u&&!h.off&&Sd(u,s,h.text));m=(d.ins>y||h.ins>=0&&h.len>y)&&(m||s.length>_),d.forward2(y),h.forward(y)}}}}class j1{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length?Zn.empty:e[i]}textBit(e){let{inserted:i}=this.set,s=this.i-2>>1;return s>=i.length&&!e?Zn.empty:i[s].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Uh{constructor(e,i,s){this.from=e,this.to=i,this.flags=s}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,i=-1){let s,u;return this.empty?s=u=e.mapPos(this.from,i):(s=e.mapPos(this.from,1),u=e.mapPos(this.to,-1)),s==this.from&&u==this.to?this:new Uh(s,u,this.flags)}extend(e,i=e){if(e<=this.anchor&&i>=this.anchor)return Ye.range(e,i);let s=Math.abs(e-this.anchor)>Math.abs(i-this.anchor)?e:i;return Ye.range(this.anchor,s)}eq(e,i=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!i||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ye.range(e.anchor,e.head)}static create(e,i,s){return new Uh(e,i,s)}}class Ye{constructor(e,i){this.ranges=e,this.mainIndex=i}map(e,i=-1){return e.empty?this:Ye.create(this.ranges.map(s=>s.map(e,i)),this.mainIndex)}eq(e,i=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(e.ranges[s],i))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ye([this.main],0)}addRange(e,i=!0){return Ye.create([e].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(e,i=this.mainIndex){let s=this.ranges.slice();return s[i]=e,Ye.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ye(e.ranges.map(i=>Uh.fromJSON(i)),e.main)}static single(e,i=e){return new Ye([Ye.range(e,i)],0)}static create(e,i=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let s=0,u=0;u<e.length;u++){let d=e[u];if(d.empty?d.from<=s:d.from<s)return Ye.normalized(e.slice(),i);s=d.to}return new Ye(e,i)}static cursor(e,i=0,s,u){return Uh.create(e,e,(i==0?0:i<0?8:16)|(s==null?7:Math.min(6,s))|(u??16777215)<<6)}static range(e,i,s,u){let d=(s??16777215)<<6|(u==null?7:Math.min(6,u));return i<e?Uh.create(i,e,48|d):Uh.create(e,i,(i>e?8:0)|d)}static normalized(e,i=0){let s=e[i];e.sort((u,d)=>u.from-d.from),i=e.indexOf(s);for(let u=1;u<e.length;u++){let d=e[u],h=e[u-1];if(d.empty?d.from<=h.to:d.from<h.to){let m=h.from,y=Math.max(d.to,h.to);u<=i&&i--,e.splice(--u,2,d.anchor>d.head?Ye.range(y,m):Ye.range(m,y))}}return new Ye(e,i)}}function npe(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let xQ=0;class Ct{constructor(e,i,s,u,d){this.combine=e,this.compareInput=i,this.compare=s,this.isStatic=u,this.id=xQ++,this.default=e([]),this.extensions=typeof d=="function"?d(this):d}get reader(){return this}static define(e={}){return new Ct(e.combine||(i=>i),e.compareInput||((i,s)=>i===s),e.compare||(e.combine?(i,s)=>i===s:_Q),!!e.static,e.enables)}of(e){return new pT([],this,0,e)}compute(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new pT(e,this,1,i)}computeN(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new pT(e,this,2,i)}from(e,i){return i||(i=s=>s),this.compute([e],s=>i(s.field(e)))}}function _Q(t,e){return t==e||t.length==e.length&&t.every((i,s)=>i===e[s])}class pT{constructor(e,i,s,u){this.dependencies=e,this.facet=i,this.type=s,this.value=u,this.id=xQ++}dynamicSlot(e){var i;let s=this.value,u=this.facet.compareInput,d=this.id,h=e[d]>>1,m=this.type==2,y=!1,_=!1,b=[];for(let T of this.dependencies)T=="doc"?y=!0:T=="selection"?_=!0:(((i=e[T.id])!==null&&i!==void 0?i:1)&1)==0&&b.push(e[T.id]);return{create(T){return T.values[h]=s(T),1},update(T,C){if(y&&C.docChanged||_&&(C.docChanged||C.selection)||r$(T,b)){let A=s(T);if(m?!ore(A,T.values[h],u):!u(A,T.values[h]))return T.values[h]=A,1}return 0},reconfigure:(T,C)=>{let A,D=C.config.address[d];if(D!=null){let L=uC(C,D);if(this.dependencies.every(z=>z instanceof Ct?C.facet(z)===T.facet(z):z instanceof Qi?C.field(z,!1)==T.field(z,!1):!0)||(m?ore(A=s(T),L,u):u(A=s(T),L)))return T.values[h]=L,0}else A=s(T);return T.values[h]=A,1}}}}function ore(t,e,i){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!i(t[s],e[s]))return!1;return!0}function r$(t,e){let i=!1;for(let s of e)t1(t,s)&1&&(i=!0);return i}function Frt(t,e,i){let s=i.map(y=>t[y.id]),u=i.map(y=>y.type),d=s.filter(y=>!(y&1)),h=t[e.id]>>1;function m(y){let _=[];for(let b=0;b<s.length;b++){let T=uC(y,s[b]);if(u[b]==2)for(let C of T)_.push(C);else _.push(T)}return e.combine(_)}return{create(y){for(let _ of s)t1(y,_);return y.values[h]=m(y),1},update(y,_){if(!r$(y,d))return 0;let b=m(y);return e.compare(b,y.values[h])?0:(y.values[h]=b,1)},reconfigure(y,_){let b=r$(y,s),T=_.config.facets[e.id],C=_.facet(e);if(T&&!b&&_Q(i,T))return y.values[h]=C,0;let A=m(y);return e.compare(A,C)?(y.values[h]=C,0):(y.values[h]=A,1)}}}const dS=Ct.define({static:!0});class Qi{constructor(e,i,s,u,d){this.id=e,this.createF=i,this.updateF=s,this.compareF=u,this.spec=d,this.provides=void 0}static define(e){let i=new Qi(xQ++,e.create,e.update,e.compare||((s,u)=>s===u),e);return e.provide&&(i.provides=e.provide(i)),i}create(e){let i=e.facet(dS).find(s=>s.field==this);return(i?.create||this.createF)(e)}slot(e){let i=e[this.id]>>1;return{create:s=>(s.values[i]=this.create(s),1),update:(s,u)=>{let d=s.values[i],h=this.updateF(d,u);return this.compareF(d,h)?0:(s.values[i]=h,1)},reconfigure:(s,u)=>{let d=s.facet(dS),h=u.facet(dS),m;return(m=d.find(y=>y.field==this))&&m!=h.find(y=>y.field==this)?(s.values[i]=m.create(s),1):u.config.address[this.id]!=null?(s.values[i]=u.field(this),0):(s.values[i]=this.create(s),1)}}}init(e){return[this,dS.of({field:this,create:e})]}get extension(){return this}}const zh={lowest:4,low:3,default:2,high:1,highest:0};function dx(t){return e=>new rpe(e,t)}const tf={highest:dx(zh.highest),high:dx(zh.high),default:dx(zh.default),low:dx(zh.low),lowest:dx(zh.lowest)};class rpe{constructor(e,i){this.inner=e,this.prec=i}}class iA{of(e){return new i$(this,e)}reconfigure(e){return iA.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class i${constructor(e,i){this.compartment=e,this.inner=i}}class lC{constructor(e,i,s,u,d,h){for(this.base=e,this.compartments=i,this.dynamicSlots=s,this.address=u,this.staticValues=d,this.facets=h,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(e){let i=this.address[e.id];return i==null?e.default:this.staticValues[i>>1]}static resolve(e,i,s){let u=[],d=Object.create(null),h=new Map;for(let C of Grt(e,i,h))C instanceof Qi?u.push(C):(d[C.facet.id]||(d[C.facet.id]=[])).push(C);let m=Object.create(null),y=[],_=[];for(let C of u)m[C.id]=_.length<<1,_.push(A=>C.slot(A));let b=s?.config.facets;for(let C in d){let A=d[C],D=A[0].facet,L=b&&b[C]||[];if(A.every(z=>z.type==0))if(m[D.id]=y.length<<1|1,_Q(L,A))y.push(s.facet(D));else{let z=D.combine(A.map($=>$.value));y.push(s&&D.compare(z,s.facet(D))?s.facet(D):z)}else{for(let z of A)z.type==0?(m[z.id]=y.length<<1|1,y.push(z.value)):(m[z.id]=_.length<<1,_.push($=>z.dynamicSlot($)));m[D.id]=_.length<<1,_.push(z=>Frt(z,D,A))}}let T=_.map(C=>C(m));return new lC(e,h,T,m,y,d)}}function Grt(t,e,i){let s=[[],[],[],[],[]],u=new Map;function d(h,m){let y=u.get(h);if(y!=null){if(y<=m)return;let _=s[y].indexOf(h);_>-1&&s[y].splice(_,1),h instanceof i$&&i.delete(h.compartment)}if(u.set(h,m),Array.isArray(h))for(let _ of h)d(_,m);else if(h instanceof i$){if(i.has(h.compartment))throw new RangeError("Duplicate use of compartment in extensions");let _=e.get(h.compartment)||h.inner;i.set(h.compartment,_),d(_,m)}else if(h instanceof rpe)d(h.inner,h.prec);else if(h instanceof Qi)s[m].push(h),h.provides&&d(h.provides,m);else if(h instanceof pT)s[m].push(h),h.facet.extensions&&d(h.facet.extensions,zh.default);else{let _=h.extension;if(!_)throw new Error(`Unrecognized extension value in extension set (${h}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);d(_,m)}}return d(t,zh.default),s.reduce((h,m)=>h.concat(m))}function t1(t,e){if(e&1)return 2;let i=e>>1,s=t.status[i];if(s==4)throw new Error("Cyclic dependency between fields and/or facets");if(s&2)return s;t.status[i]=4;let u=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|u}function uC(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ipe=Ct.define(),a$=Ct.define({combine:t=>t.some(e=>e),static:!0}),ape=Ct.define({combine:t=>t.length?t[0]:void 0,static:!0}),ope=Ct.define(),spe=Ct.define(),lpe=Ct.define(),upe=Ct.define({combine:t=>t.length?t[0]:!1});class Tc{constructor(e,i){this.type=e,this.value=i}static define(){return new Wrt}}class Wrt{of(e){return new Tc(this,e)}}class Urt{constructor(e){this.map=e}of(e){return new sn(this,e)}}class sn{constructor(e,i){this.type=e,this.value=i}map(e){let i=this.type.map(this.value,e);return i===void 0?void 0:i==this.value?this:new sn(this.type,i)}is(e){return this.type==e}static define(e={}){return new Urt(e.map||(i=>i))}static mapEffects(e,i){if(!e.length)return e;let s=[];for(let u of e){let d=u.map(i);d&&s.push(d)}return s}}sn.reconfigure=sn.define();sn.appendConfig=sn.define();class Fr{constructor(e,i,s,u,d,h){this.startState=e,this.changes=i,this.selection=s,this.effects=u,this.annotations=d,this.scrollIntoView=h,this._doc=null,this._state=null,s&&npe(s,i.newLength),d.some(m=>m.type==Fr.time)||(this.annotations=d.concat(Fr.time.of(Date.now())))}static create(e,i,s,u,d,h){return new Fr(e,i,s,u,d,h)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let i of this.annotations)if(i.type==e)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let i=this.annotation(Fr.userEvent);return!!(i&&(i==e||i.length>e.length&&i.slice(0,e.length)==e&&i[e.length]=="."))}}Fr.time=Tc.define();Fr.userEvent=Tc.define();Fr.addToHistory=Tc.define();Fr.remote=Tc.define();function qrt(t,e){let i=[];for(let s=0,u=0;;){let d,h;if(s<t.length&&(u==e.length||e[u]>=t[s]))d=t[s++],h=t[s++];else if(u<e.length)d=e[u++],h=e[u++];else return i;!i.length||i[i.length-1]<d?i.push(d,h):i[i.length-1]<h&&(i[i.length-1]=h)}}function cpe(t,e,i){var s;let u,d,h;return i?(u=e.changes,d=Oi.empty(e.changes.length),h=t.changes.compose(e.changes)):(u=e.changes.map(t.changes),d=t.changes.mapDesc(e.changes,!0),h=t.changes.compose(u)),{changes:h,selection:e.selection?e.selection.map(d):(s=t.selection)===null||s===void 0?void 0:s.map(u),effects:sn.mapEffects(t.effects,u).concat(sn.mapEffects(e.effects,d)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function o$(t,e,i){let s=e.selection,u=Wg(e.annotations);return e.userEvent&&(u=u.concat(Fr.userEvent.of(e.userEvent))),{changes:e.changes instanceof Oi?e.changes:Oi.of(e.changes||[],i,t.facet(ape)),selection:s&&(s instanceof Ye?s:Ye.single(s.anchor,s.head)),effects:Wg(e.effects),annotations:u,scrollIntoView:!!e.scrollIntoView}}function dpe(t,e,i){let s=o$(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(i=!1);for(let d=1;d<e.length;d++){e[d].filter===!1&&(i=!1);let h=!!e[d].sequential;s=cpe(s,o$(t,e[d],h?s.changes.newLength:t.doc.length),h)}let u=Fr.create(t,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return Hrt(i?Zrt(u):u)}function Zrt(t){let e=t.startState,i=!0;for(let u of e.facet(ope)){let d=u(t);if(d===!1){i=!1;break}Array.isArray(d)&&(i=i===!0?d:qrt(i,d))}if(i!==!0){let u,d;if(i===!1)d=t.changes.invertedDesc,u=Oi.empty(e.doc.length);else{let h=t.changes.filter(i);u=h.changes,d=h.filtered.mapDesc(h.changes).invertedDesc}t=Fr.create(e,u,t.selection&&t.selection.map(d),sn.mapEffects(t.effects,d),t.annotations,t.scrollIntoView)}let s=e.facet(spe);for(let u=s.length-1;u>=0;u--){let d=s[u](t);d instanceof Fr?t=d:Array.isArray(d)&&d.length==1&&d[0]instanceof Fr?t=d[0]:t=dpe(e,Wg(d),!1)}return t}function Hrt(t){let e=t.startState,i=e.facet(lpe),s=t;for(let u=i.length-1;u>=0;u--){let d=i[u](t);d&&Object.keys(d).length&&(s=cpe(s,o$(e,d,t.changes.newLength),!0))}return s==t?t:Fr.create(e,t.changes,t.selection,s.effects,s.annotations,s.scrollIntoView)}const Xrt=[];function Wg(t){return t==null?Xrt:Array.isArray(t)?t:[t]}var Sr=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Sr||(Sr={}));const Yrt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let s$;try{s$=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Krt(t){if(s$)return s$.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||Yrt.test(i)))return!0}return!1}function Jrt(t){return e=>{if(!/\S/.test(e))return Sr.Space;if(Krt(e))return Sr.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return Sr.Word;return Sr.Other}}class Nn{constructor(e,i,s,u,d,h){this.config=e,this.doc=i,this.selection=s,this.values=u,this.status=e.statusTemplate.slice(),this.computeSlot=d,h&&(h._state=this);for(let m=0;m<this.config.dynamicSlots.length;m++)t1(this,m<<1);this.computeSlot=null}field(e,i=!0){let s=this.config.address[e.id];if(s==null){if(i)throw new RangeError("Field is not present in this state");return}return t1(this,s),uC(this,s)}update(...e){return dpe(this,e,!0)}applyTransaction(e){let i=this.config,{base:s,compartments:u}=i;for(let m of e.effects)m.is(iA.reconfigure)?(i&&(u=new Map,i.compartments.forEach((y,_)=>u.set(_,y)),i=null),u.set(m.value.compartment,m.value.extension)):m.is(sn.reconfigure)?(i=null,s=m.value):m.is(sn.appendConfig)&&(i=null,s=Wg(s).concat(m.value));let d;i?d=e.startState.values.slice():(i=lC.resolve(s,u,this),d=new Nn(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(y,_)=>_.reconfigure(y,this),null).values);let h=e.startState.facet(a$)?e.newSelection:e.newSelection.asSingle();new Nn(i,e.newDoc,h,d,(m,y)=>y.update(m,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:e},range:Ye.cursor(i.from+e.length)}))}changeByRange(e){let i=this.selection,s=e(i.ranges[0]),u=this.changes(s.changes),d=[s.range],h=Wg(s.effects);for(let m=1;m<i.ranges.length;m++){let y=e(i.ranges[m]),_=this.changes(y.changes),b=_.map(u);for(let C=0;C<m;C++)d[C]=d[C].map(b);let T=u.mapDesc(_,!0);d.push(y.range.map(T)),u=u.compose(b),h=sn.mapEffects(h,b).concat(sn.mapEffects(Wg(y.effects),T))}return{changes:u,selection:Ye.create(d,i.mainIndex),effects:h}}changes(e=[]){return e instanceof Oi?e:Oi.of(e,this.doc.length,this.facet(Nn.lineSeparator))}toText(e){return Zn.of(e.split(this.facet(Nn.lineSeparator)||e$))}sliceDoc(e=0,i=this.doc.length){return this.doc.sliceString(e,i,this.lineBreak)}facet(e){let i=this.config.address[e.id];return i==null?e.default:(t1(this,i),uC(this,i))}toJSON(e){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let s in e){let u=e[s];u instanceof Qi&&this.config.address[u.id]!=null&&(i[s]=u.spec.toJSON(this.field(e[s]),this))}return i}static fromJSON(e,i={},s){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let u=[];if(s){for(let d in s)if(Object.prototype.hasOwnProperty.call(e,d)){let h=s[d],m=e[d];u.push(h.init(y=>h.spec.fromJSON(m,y)))}}return Nn.create({doc:e.doc,selection:Ye.fromJSON(e.selection),extensions:i.extensions?u.concat([i.extensions]):u})}static create(e={}){let i=lC.resolve(e.extensions||[],new Map),s=e.doc instanceof Zn?e.doc:Zn.of((e.doc||"").split(i.staticFacet(Nn.lineSeparator)||e$)),u=e.selection?e.selection instanceof Ye?e.selection:Ye.single(e.selection.anchor,e.selection.head):Ye.single(0);return npe(u,s.length),i.staticFacet(a$)||(u=u.asSingle()),new Nn(i,s,u,i.dynamicSlots.map(()=>null),(d,h)=>h.create(d),null)}get tabSize(){return this.facet(Nn.tabSize)}get lineBreak(){return this.facet(Nn.lineSeparator)||`
`}get readOnly(){return this.facet(upe)}phrase(e,...i){for(let s of this.facet(Nn.phrases))if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}return i.length&&(e=e.replace(/\$(\$|\d*)/g,(s,u)=>{if(u=="$")return"$";let d=+(u||1);return!d||d>i.length?s:i[d-1]})),e}languageDataAt(e,i,s=-1){let u=[];for(let d of this.facet(ipe))for(let h of d(this,i,s))Object.prototype.hasOwnProperty.call(h,e)&&u.push(h[e]);return u}charCategorizer(e){let i=this.languageDataAt("wordChars",e);return Jrt(i.length?i[0]:"")}wordAt(e){let{text:i,from:s,length:u}=this.doc.lineAt(e),d=this.charCategorizer(e),h=e-s,m=e-s;for(;h>0;){let y=Si(i,h,!1);if(d(i.slice(y,h))!=Sr.Word)break;h=y}for(;m<u;){let y=Si(i,m);if(d(i.slice(m,y))!=Sr.Word)break;m=y}return h==m?null:Ye.range(h+s,m+s)}}Nn.allowMultipleSelections=a$;Nn.tabSize=Ct.define({combine:t=>t.length?t[0]:4});Nn.lineSeparator=ape;Nn.readOnly=upe;Nn.phrases=Ct.define({compare(t,e){let i=Object.keys(t),s=Object.keys(e);return i.length==s.length&&i.every(u=>t[u]==e[u])}});Nn.languageData=ipe;Nn.changeFilter=ope;Nn.transactionFilter=spe;Nn.transactionExtender=lpe;iA.reconfigure=sn.define();function mu(t,e,i={}){let s={};for(let u of t)for(let d of Object.keys(u)){let h=u[d],m=s[d];if(m===void 0)s[d]=h;else if(!(m===h||h===void 0))if(Object.hasOwnProperty.call(i,d))s[d]=i[d](m,h);else throw new Error("Config merge conflict for field "+d)}for(let u in e)s[u]===void 0&&(s[u]=e[u]);return s}class Fd{eq(e){return this==e}range(e,i=e){return l$.create(e,i,this)}}Fd.prototype.startSide=Fd.prototype.endSide=0;Fd.prototype.point=!1;Fd.prototype.mapMode=Hi.TrackDel;function OQ(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let l$=class fpe{constructor(e,i,s){this.from=e,this.to=i,this.value=s}static create(e,i,s){return new fpe(e,i,s)}};function u$(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class bQ{constructor(e,i,s,u){this.from=e,this.to=i,this.value=s,this.maxPoint=u}get length(){return this.to[this.to.length-1]}findIndex(e,i,s,u=0){let d=s?this.to:this.from;for(let h=u,m=d.length;;){if(h==m)return h;let y=h+m>>1,_=d[y]-e||(s?this.value[y].endSide:this.value[y].startSide)-i;if(y==h)return _>=0?h:m;_>=0?m=y:h=y+1}}between(e,i,s,u){for(let d=this.findIndex(i,-1e9,!0),h=this.findIndex(s,1e9,!1,d);d<h;d++)if(u(this.from[d]+e,this.to[d]+e,this.value[d])===!1)return!1}map(e,i){let s=[],u=[],d=[],h=-1,m=-1;for(let y=0;y<this.value.length;y++){let _=this.value[y],b=this.from[y]+e,T=this.to[y]+e,C,A;if(b==T){let D=i.mapPos(b,_.startSide,_.mapMode);if(D==null||(C=A=D,_.startSide!=_.endSide&&(A=i.mapPos(b,_.endSide),A<C)))continue}else if(C=i.mapPos(b,_.startSide),A=i.mapPos(T,_.endSide),C>A||C==A&&_.startSide>0&&_.endSide<=0)continue;(A-C||_.endSide-_.startSide)<0||(h<0&&(h=C),_.point&&(m=Math.max(m,A-C)),s.push(_),u.push(C-h),d.push(A-h))}return{mapped:s.length?new bQ(u,d,s,m):null,pos:h}}}class kn{constructor(e,i,s,u){this.chunkPos=e,this.chunk=i,this.nextLayer=s,this.maxPoint=u}static create(e,i,s,u){return new kn(e,i,s,u)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let i of this.chunk)e+=i.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:i=[],sort:s=!1,filterFrom:u=0,filterTo:d=this.length}=e,h=e.filter;if(i.length==0&&!h)return this;if(s&&(i=i.slice().sort(u$)),this.isEmpty)return i.length?kn.of(i):this;let m=new hpe(this,null,-1).goto(0),y=0,_=[],b=new vc;for(;m.value||y<i.length;)if(y<i.length&&(m.from-i[y].from||m.startSide-i[y].value.startSide)>=0){let T=i[y++];b.addInner(T.from,T.to,T.value)||_.push(T)}else m.rangeIndex==1&&m.chunkIndex<this.chunk.length&&(y==i.length||this.chunkEnd(m.chunkIndex)<i[y].from)&&(!h||u>this.chunkEnd(m.chunkIndex)||d<this.chunkPos[m.chunkIndex])&&b.addChunk(this.chunkPos[m.chunkIndex],this.chunk[m.chunkIndex])?m.nextChunk():((!h||u>m.to||d<m.from||h(m.from,m.to,m.value))&&(b.addInner(m.from,m.to,m.value)||_.push(l$.create(m.from,m.to,m.value))),m.next());return b.finishInner(this.nextLayer.isEmpty&&!_.length?kn.empty:this.nextLayer.update({add:_,filter:h,filterFrom:u,filterTo:d}))}map(e){if(e.empty||this.isEmpty)return this;let i=[],s=[],u=-1;for(let h=0;h<this.chunk.length;h++){let m=this.chunkPos[h],y=this.chunk[h],_=e.touchesRange(m,m+y.length);if(_===!1)u=Math.max(u,y.maxPoint),i.push(y),s.push(e.mapPos(m));else if(_===!0){let{mapped:b,pos:T}=y.map(m,e);b&&(u=Math.max(u,b.maxPoint),i.push(b),s.push(T))}}let d=this.nextLayer.map(e);return i.length==0?d:new kn(s,i,d||kn.empty,u)}between(e,i,s){if(!this.isEmpty){for(let u=0;u<this.chunk.length;u++){let d=this.chunkPos[u],h=this.chunk[u];if(i>=d&&e<=d+h.length&&h.between(d,e-d,i-d,s)===!1)return}this.nextLayer.between(e,i,s)}}iter(e=0){return V1.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,i=0){return V1.from(e).goto(i)}static compare(e,i,s,u,d=-1){let h=e.filter(T=>T.maxPoint>0||!T.isEmpty&&T.maxPoint>=d),m=i.filter(T=>T.maxPoint>0||!T.isEmpty&&T.maxPoint>=d),y=sre(h,m,s),_=new fx(h,y,d),b=new fx(m,y,d);s.iterGaps((T,C,A)=>lre(_,T,b,C,A,u)),s.empty&&s.length==0&&lre(_,0,b,0,0,u)}static eq(e,i,s=0,u){u==null&&(u=999999999);let d=e.filter(b=>!b.isEmpty&&i.indexOf(b)<0),h=i.filter(b=>!b.isEmpty&&e.indexOf(b)<0);if(d.length!=h.length)return!1;if(!d.length)return!0;let m=sre(d,h),y=new fx(d,m,0).goto(s),_=new fx(h,m,0).goto(s);for(;;){if(y.to!=_.to||!c$(y.active,_.active)||y.point&&(!_.point||!OQ(y.point,_.point)))return!1;if(y.to>u)return!0;y.next(),_.next()}}static spans(e,i,s,u,d=-1){let h=new fx(e,null,d).goto(i),m=i,y=h.openStart;for(;;){let _=Math.min(h.to,s);if(h.point){let b=h.activeForPoint(h.to),T=h.pointFrom<i?b.length+1:h.point.startSide<0?b.length:Math.min(b.length,y);u.point(m,_,h.point,b,T,h.pointRank),y=Math.min(h.openEnd(_),b.length)}else _>m&&(u.span(m,_,h.active,y),y=h.openEnd(_));if(h.to>s)return y+(h.point&&h.to>s?1:0);m=h.to,h.next()}}static of(e,i=!1){let s=new vc;for(let u of e instanceof l$?[e]:i?eit(e):e)s.add(u.from,u.to,u.value);return s.finish()}static join(e){if(!e.length)return kn.empty;let i=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let u=e[s];u!=kn.empty;u=u.nextLayer)i=new kn(u.chunkPos,u.chunk,i,Math.max(u.maxPoint,i.maxPoint));return i}}kn.empty=new kn([],[],null,-1);function eit(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let s=t[i];if(u$(e,s)>0)return t.slice().sort(u$);e=s}return t}kn.empty.nextLayer=kn.empty;class vc{finishChunk(e){this.chunks.push(new bQ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,i,s){this.addInner(e,i,s)||(this.nextLayer||(this.nextLayer=new vc)).add(e,i,s)}addInner(e,i,s){let u=e-this.lastTo||s.startSide-this.last.endSide;if(u<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return u<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(i-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=i,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,i-e)),!0)}addChunk(e,i){if((e-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(e);let s=i.value.length-1;return this.last=i.value[s],this.lastFrom=i.from[s]+e,this.lastTo=i.to[s]+e,!0}finish(){return this.finishInner(kn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let i=kn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,i}}function sre(t,e,i){let s=new Map;for(let d of t)for(let h=0;h<d.chunk.length;h++)d.chunk[h].maxPoint<=0&&s.set(d.chunk[h],d.chunkPos[h]);let u=new Set;for(let d of e)for(let h=0;h<d.chunk.length;h++){let m=s.get(d.chunk[h]);m!=null&&(i?i.mapPos(m):m)==d.chunkPos[h]&&!i?.touchesRange(m,m+d.chunk[h].length)&&u.add(d.chunk[h])}return u}class hpe{constructor(e,i,s,u=0){this.layer=e,this.skip=i,this.minPoint=s,this.rank=u}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,i,!1),this}gotoInner(e,i,s){for(;this.chunkIndex<this.layer.chunk.length;){let u=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(u)||this.layer.chunkEnd(this.chunkIndex)<e||u.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let u=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],i,!0);(!s||this.rangeIndex<u)&&this.setRangeIndex(u)}this.next()}forward(e,i){(this.to-e||this.endSide-i)<0&&this.gotoInner(e,i,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex],s=e+i.from[this.rangeIndex];if(this.from=s,this.to=e+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class V1{constructor(e){this.heap=e}static from(e,i=null,s=-1){let u=[];for(let d=0;d<e.length;d++)for(let h=e[d];!h.isEmpty;h=h.nextLayer)h.maxPoint>=s&&u.push(new hpe(h,i,s,d));return u.length==1?u[0]:new V1(u)}get startSide(){return this.value?this.value.startSide:0}goto(e,i=-1e9){for(let s of this.heap)s.goto(e,i);for(let s=this.heap.length>>1;s>=0;s--)DN(this.heap,s);return this.next(),this}forward(e,i){for(let s of this.heap)s.forward(e,i);for(let s=this.heap.length>>1;s>=0;s--)DN(this.heap,s);(this.to-e||this.value.endSide-i)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),DN(this.heap,0)}}}function DN(t,e){for(let i=t[e];;){let s=(e<<1)+1;if(s>=t.length)break;let u=t[s];if(s+1<t.length&&u.compare(t[s+1])>=0&&(u=t[s+1],s++),i.compare(u)<0)break;t[s]=i,t[e]=u,e=s}}class fx{constructor(e,i,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=V1.from(e,i,s)}goto(e,i=-1e9){return this.cursor.goto(e,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=i,this.openStart=-1,this.next(),this}forward(e,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(e,i)}removeActive(e){fS(this.active,e),fS(this.activeTo,e),fS(this.activeRank,e),this.minActive=ure(this.active,this.activeTo)}addActive(e){let i=0,{value:s,to:u,rank:d}=this.cursor;for(;i<this.activeRank.length&&(d-this.activeRank[i]||u-this.activeTo[i])>0;)i++;hS(this.active,i,s),hS(this.activeTo,i,u),hS(this.activeRank,i,d),e&&hS(e,i,this.cursor.from),this.minActive=ure(this.active,this.activeTo)}next(){let e=this.to,i=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let u=this.minActive;if(u>-1&&(this.activeTo[u]-this.cursor.from||this.active[u].endSide-this.cursor.startSide)<0){if(this.activeTo[u]>e){this.to=this.activeTo[u],this.endSide=this.active[u].endSide;break}this.removeActive(u),s&&fS(s,u)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let d=this.cursor.value;if(!d.point)this.addActive(s),this.cursor.next();else if(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=d,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=d.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let u=s.length-1;u>=0&&s[u]<e;u--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let i=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&i.push(this.active[s]);return i.reverse()}openEnd(e){let i=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)i++;return i}}function lre(t,e,i,s,u,d){t.goto(e),i.goto(s);let h=s+u,m=s,y=s-e,_=!!d.boundChange;for(let b=!1;;){let T=t.to+y-i.to,C=T||t.endSide-i.endSide,A=C<0?t.to+y:i.to,D=Math.min(A,h);if(t.point||i.point?(t.point&&i.point&&OQ(t.point,i.point)&&c$(t.activeForPoint(t.to),i.activeForPoint(i.to))||d.comparePoint(m,D,t.point,i.point),b=!1):(b&&d.boundChange(m),D>m&&!c$(t.active,i.active)&&d.compareRange(m,D,t.active,i.active),_&&D<h&&(T||t.openEnd(A)!=i.openEnd(A))&&(b=!0)),A>h)break;m=A,C<=0&&t.next(),C>=0&&i.next()}}function c$(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!OQ(t[i],e[i]))return!1;return!0}function fS(t,e){for(let i=e,s=t.length-1;i<s;i++)t[i]=t[i+1];t.pop()}function hS(t,e,i){for(let s=t.length-1;s>=e;s--)t[s+1]=t[s];t[e]=i}function ure(t,e){let i=-1,s=1e9;for(let u=0;u<e.length;u++)(e[u]-s||t[u].endSide-t[i].endSide)<0&&(i=u,s=e[u]);return i}function Av(t,e,i=t.length){let s=0;for(let u=0;u<i&&u<t.length;)t.charCodeAt(u)==9?(s+=e-s%e,u++):(s++,u=Si(t,u));return s}function d$(t,e,i,s){for(let u=0,d=0;;){if(d>=e)return u;if(u==t.length)break;d+=t.charCodeAt(u)==9?i-d%i:1,u=Si(t,u)}return s===!0?-1:t.length}const f$="ͼ",cre=typeof Symbol>"u"?"__"+f$:Symbol.for(f$),h$=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),dre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Gd{constructor(e,i){this.rules=[];let{finish:s}=i||{};function u(h){return/^@/.test(h)?[h]:h.split(/,\s*/)}function d(h,m,y,_){let b=[],T=/^@(\w+)\b/.exec(h[0]),C=T&&T[1]=="keyframes";if(T&&m==null)return y.push(h[0]+";");for(let A in m){let D=m[A];if(/&/.test(A))d(A.split(/,\s*/).map(L=>h.map(z=>L.replace(/&/,z))).reduce((L,z)=>L.concat(z)),D,y);else if(D&&typeof D=="object"){if(!T)throw new RangeError("The value of a property ("+A+") should be a primitive value.");d(u(A),D,b,C)}else D!=null&&b.push(A.replace(/_.*/,"").replace(/[A-Z]/g,L=>"-"+L.toLowerCase())+": "+D+";")}(b.length||C)&&y.push((s&&!T&&!_?h.map(s):h).join(", ")+" {"+b.join(" ")+"}")}for(let h in e)d(u(h),e[h],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=dre[cre]||1;return dre[cre]=e+1,f$+e.toString(36)}static mount(e,i,s){let u=e[h$],d=s&&s.nonce;u?d&&u.setNonce(d):u=new tit(e,d),u.mount(Array.isArray(i)?i:[i],e)}}let fre=new Map;class tit{constructor(e,i){let s=e.ownerDocument||e,u=s.defaultView;if(!e.head&&e.adoptedStyleSheets&&u.CSSStyleSheet){let d=fre.get(s);if(d)return e[h$]=d;this.sheet=new u.CSSStyleSheet,fre.set(s,this)}else this.styleTag=s.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);this.modules=[],e[h$]=this}mount(e,i){let s=this.sheet,u=0,d=0;for(let h=0;h<e.length;h++){let m=e[h],y=this.modules.indexOf(m);if(y<d&&y>-1&&(this.modules.splice(y,1),d--,y=-1),y==-1){if(this.modules.splice(d++,0,m),s)for(let _=0;_<m.rules.length;_++)s.insertRule(m.rules[_],u++)}else{for(;d<y;)u+=this.modules[d++].rules.length;u+=m.rules.length,d++}}if(s)i.adoptedStyleSheets.indexOf(this.sheet)<0&&(i.adoptedStyleSheets=[this.sheet,...i.adoptedStyleSheets]);else{let h="";for(let y=0;y<this.modules.length;y++)h+=this.modules[y].getRules()+`
`;this.styleTag.textContent=h;let m=i.head||i;this.styleTag.parentNode!=m&&m.insertBefore(this.styleTag,m.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Wd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},F1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nit=typeof navigator<"u"&&/Mac/.test(navigator.platform),rit=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Zi=0;Zi<10;Zi++)Wd[48+Zi]=Wd[96+Zi]=String(Zi);for(var Zi=1;Zi<=24;Zi++)Wd[Zi+111]="F"+Zi;for(var Zi=65;Zi<=90;Zi++)Wd[Zi]=String.fromCharCode(Zi+32),F1[Zi]=String.fromCharCode(Zi);for(var IN in Wd)F1.hasOwnProperty(IN)||(F1[IN]=Wd[IN]);function iit(t){var e=nit&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||rit&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",i=!e&&t.key||(t.shiftKey?F1:Wd)[t.keyCode]||t.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}function ir(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,i=arguments[1];if(i&&typeof i=="object"&&i.nodeType==null&&!Array.isArray(i)){for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){var u=i[s];typeof u=="string"?t.setAttribute(s,u):u!=null&&(t[s]=u)}e++}for(;e<arguments.length;e++)ppe(t,arguments[e]);return t}function ppe(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var i=0;i<e.length;i++)ppe(t,e[i]);else throw new RangeError("Unsupported child node: "+e)}let Ta=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},p$=typeof document<"u"?document:{documentElement:{style:{}}};const m$=/Edge\/(\d+)/.exec(Ta.userAgent),mpe=/MSIE \d/.test(Ta.userAgent),g$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ta.userAgent),aA=!!(mpe||g$||m$),hre=!aA&&/gecko\/(\d+)/i.test(Ta.userAgent),RN=!aA&&/Chrome\/(\d+)/.exec(Ta.userAgent),ait="webkitFontSmoothing"in p$.documentElement.style,v$=!aA&&/Apple Computer/.test(Ta.vendor),pre=v$&&(/Mobile\/\w+/.test(Ta.userAgent)||Ta.maxTouchPoints>2);var kt={mac:pre||/Mac/.test(Ta.platform),windows:/Win/.test(Ta.platform),linux:/Linux|X11/.test(Ta.platform),ie:aA,ie_version:mpe?p$.documentMode||6:g$?+g$[1]:m$?+m$[1]:0,gecko:hre,gecko_version:hre?+(/Firefox\/(\d+)/.exec(Ta.userAgent)||[0,0])[1]:0,chrome:!!RN,chrome_version:RN?+RN[1]:0,ios:pre,android:/Android\b/.test(Ta.userAgent),webkit_version:ait?+(/\bAppleWebKit\/(\d+)/.exec(Ta.userAgent)||[0,0])[1]:0,safari:v$,safari_version:v$?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ta.userAgent)||[0,0])[1]:0,tabSize:p$.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function wQ(t,e){for(let i in t)i=="class"&&e.class?e.class+=" "+t.class:i=="style"&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}const cC=Object.create(null);function SQ(t,e,i){if(t==e)return!0;t||(t=cC),e||(e=cC);let s=Object.keys(t),u=Object.keys(e);if(s.length-0!=u.length-0)return!1;for(let d of s)if(d!=i&&(u.indexOf(d)==-1||t[d]!==e[d]))return!1;return!0}function oit(t,e){for(let i=t.attributes.length-1;i>=0;i--){let s=t.attributes[i].name;e[s]==null&&t.removeAttribute(s)}for(let i in e){let s=e[i];i=="style"?t.style.cssText=s:t.getAttribute(i)!=s&&t.setAttribute(i,s)}}function mre(t,e,i){let s=!1;if(e)for(let u in e)i&&u in i||(s=!0,u=="style"?t.style.cssText="":t.removeAttribute(u));if(i)for(let u in i)e&&e[u]==i[u]||(s=!0,u=="style"?t.style.cssText=i[u]:t.setAttribute(u,i[u]));return s}function sit(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let s=t.attributes[i];e[s.name]=s.value}return e}class gu{eq(e){return!1}updateDOM(e,i){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,i,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Yi=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Yi||(Yi={}));class Wt extends Fd{constructor(e,i,s,u){super(),this.startSide=e,this.endSide=i,this.widget=s,this.spec=u}get heightRelevant(){return!1}static mark(e){return new Q_(e)}static widget(e){let i=Math.max(-1e4,Math.min(1e4,e.side||0)),s=!!e.block;return i+=s&&!e.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new up(e,i,i,s,e.widget||null,!1)}static replace(e){let i=!!e.block,s,u;if(e.isBlockGap)s=-5e8,u=4e8;else{let{start:d,end:h}=gpe(e,i);s=(d?i?-3e8:-1:5e8)-1,u=(h?i?2e8:1:-6e8)+1}return new up(e,s,u,i,e.widget||null,!0)}static line(e){return new j_(e)}static set(e,i=!1){return kn.of(e,i)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Wt.none=kn.empty;class Q_ extends Wt{constructor(e){let{start:i,end:s}=gpe(e);super(i?-1:5e8,s?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?wQ(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||cC}eq(e){return this==e||e instanceof Q_&&this.tagName==e.tagName&&SQ(this.attrs,e.attrs)}range(e,i=e){if(e>=i)throw new RangeError("Mark decorations may not be empty");return super.range(e,i)}}Q_.prototype.point=!1;class j_ extends Wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof j_&&this.spec.class==e.spec.class&&SQ(this.spec.attributes,e.spec.attributes)}range(e,i=e){if(i!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,i)}}j_.prototype.mapMode=Hi.TrackBefore;j_.prototype.point=!0;class up extends Wt{constructor(e,i,s,u,d,h){super(i,s,d,e),this.block=u,this.isReplace=h,this.mapMode=u?i<=0?Hi.TrackBefore:Hi.TrackAfter:Hi.TrackDel}get type(){return this.startSide!=this.endSide?Yi.WidgetRange:this.startSide<=0?Yi.WidgetBefore:Yi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof up&&lit(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,i=e){if(this.isReplace&&(e>i||e==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,i)}}up.prototype.point=!0;function gpe(t,e=!1){let{inclusiveStart:i,inclusiveEnd:s}=t;return i==null&&(i=t.inclusive),s==null&&(s=t.inclusive),{start:i??e,end:s??e}}function lit(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ug(t,e,i,s=0){let u=i.length-1;u>=0&&i[u]+s>=t?i[u]=Math.max(i[u],e):i.push(t,e)}class G1 extends Fd{constructor(e,i){super(),this.tagName=e,this.attributes=i}eq(e){return e==this||e instanceof G1&&this.tagName==e.tagName&&SQ(this.attributes,e.attributes)}static create(e){return new G1(e.tagName,e.attributes||cC)}static set(e,i=!1){return kn.of(e,i)}}G1.prototype.startSide=G1.prototype.endSide=-1;function ov(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function y$(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function n1(t,e){if(!e.anchorNode)return!1;try{return y$(t,e.anchorNode)}catch{return!1}}function mT(t){return t.nodeType==3?W1(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function r1(t,e,i,s){return i?gre(t,e,i,s,-1)||gre(t,e,i,s,1):!1}function Ud(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function dC(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function gre(t,e,i,s,u){for(;;){if(t==i&&e==s)return!0;if(e==(u<0?0:yc(t))){if(t.nodeName=="DIV")return!1;let d=t.parentNode;if(!d||d.nodeType!=1)return!1;e=Ud(t)+(u<0?0:1),t=d}else if(t.nodeType==1){if(t=t.childNodes[e+(u<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=u<0?yc(t):0}else return!1}}function yc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function fC(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function uit(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function vpe(t,e){let i=e.width/t.offsetWidth,s=e.height/t.offsetHeight;return(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.width-t.offsetWidth)<1)&&(i=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(e.height-t.offsetHeight)<1)&&(s=1),{scaleX:i,scaleY:s}}function cit(t,e,i,s,u,d,h,m){let y=t.ownerDocument,_=y.defaultView||window;for(let b=t,T=!1;b&&!T;)if(b.nodeType==1){let C,A=b==y.body,D=1,L=1;if(A)C=uit(_);else{if(/^(fixed|sticky)$/.test(getComputedStyle(b).position)&&(T=!0),b.scrollHeight<=b.clientHeight&&b.scrollWidth<=b.clientWidth){b=b.assignedSlot||b.parentNode;continue}let Q=b.getBoundingClientRect();({scaleX:D,scaleY:L}=vpe(b,Q)),C={left:Q.left,right:Q.left+b.clientWidth*D,top:Q.top,bottom:Q.top+b.clientHeight*L}}let z=0,$=0;if(u=="nearest")e.top<C.top?($=e.top-(C.top+h),i>0&&e.bottom>C.bottom+$&&($=e.bottom-C.bottom+h)):e.bottom>C.bottom&&($=e.bottom-C.bottom+h,i<0&&e.top-$<C.top&&($=e.top-(C.top+h)));else{let Q=e.bottom-e.top,B=C.bottom-C.top;$=(u=="center"&&Q<=B?e.top+Q/2-B/2:u=="start"||u=="center"&&i<0?e.top-h:e.bottom-B+h)-C.top}if(s=="nearest"?e.left<C.left?(z=e.left-(C.left+d),i>0&&e.right>C.right+z&&(z=e.right-C.right+d)):e.right>C.right&&(z=e.right-C.right+d,i<0&&e.left<C.left+z&&(z=e.left-(C.left+d))):z=(s=="center"?e.left+(e.right-e.left)/2-(C.right-C.left)/2:s=="start"==m?e.left-d:e.right-(C.right-C.left)+d)-C.left,z||$)if(A)_.scrollBy(z,$);else{let Q=0,B=0;if($){let q=b.scrollTop;b.scrollTop+=$/L,B=(b.scrollTop-q)*L}if(z){let q=b.scrollLeft;b.scrollLeft+=z/D,Q=(b.scrollLeft-q)*D}e={left:e.left-Q,top:e.top-B,right:e.right-Q,bottom:e.bottom-B},Q&&Math.abs(Q-z)<1&&(s="nearest"),B&&Math.abs(B-$)<1&&(u="nearest")}if(A)break;(e.top<C.top||e.bottom>C.bottom||e.left<C.left||e.right>C.right)&&(e={left:Math.max(e.left,C.left),right:Math.min(e.right,C.right),top:Math.max(e.top,C.top),bottom:Math.min(e.bottom,C.bottom)}),b=b.assignedSlot||b.parentNode}else if(b.nodeType==11)b=b.host;else break}function dit(t){let e=t.ownerDocument,i,s;for(let u=t.parentNode;u&&!(u==e.body||i&&s);)if(u.nodeType==1)!s&&u.scrollHeight>u.clientHeight&&(s=u),!i&&u.scrollWidth>u.clientWidth&&(i=u),u=u.assignedSlot||u.parentNode;else if(u.nodeType==11)u=u.host;else break;return{x:i,y:s}}class fit{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:i,focusNode:s}=e;this.set(i,Math.min(e.anchorOffset,i?yc(i):0),s,Math.min(e.focusOffset,s?yc(s):0))}set(e,i,s,u){this.anchorNode=e,this.anchorOffset=i,this.focusNode=s,this.focusOffset=u}}let Rh=null;kt.safari&&kt.safari_version>=26&&(Rh=!1);function ype(t){if(t.setActive)return t.setActive();if(Rh)return t.focus(Rh);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(Rh==null?{get preventScroll(){return Rh={preventScroll:!0},!0}}:void 0),!Rh){Rh=!1;for(let i=0;i<e.length;){let s=e[i++],u=e[i++],d=e[i++];s.scrollTop!=u&&(s.scrollTop=u),s.scrollLeft!=d&&(s.scrollLeft=d)}}}let vre;function W1(t,e,i=e){let s=vre||(vre=document.createRange());return s.setEnd(t,i),s.setStart(t,e),s}function qg(t,e,i,s){let u={key:e,code:e,keyCode:i,which:i,cancelable:!0};s&&({altKey:u.altKey,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,metaKey:u.metaKey}=s);let d=new KeyboardEvent("keydown",u);d.synthetic=!0,t.dispatchEvent(d);let h=new KeyboardEvent("keyup",u);return h.synthetic=!0,t.dispatchEvent(h),d.defaultPrevented||h.defaultPrevented}function hit(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function pit(t,e){let i=e.focusNode,s=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=s)return!1;for(s=Math.min(s,yc(i));;)if(s){if(i.nodeType!=1)return!1;let u=i.childNodes[s-1];u.contentEditable=="false"?s--:(i=u,s=yc(i))}else{if(i==t)return!0;s=Ud(i),i=i.parentNode}}function xpe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function _pe(t,e){for(let i=t,s=e;;){if(i.nodeType==3&&s>0)return{node:i,offset:s};if(i.nodeType==1&&s>0){if(i.contentEditable=="false")return null;i=i.childNodes[s-1],s=yc(i)}else if(i.parentNode&&!dC(i))s=Ud(i),i=i.parentNode;else return null}}function Ope(t,e){for(let i=t,s=e;;){if(i.nodeType==3&&s<i.nodeValue.length)return{node:i,offset:s};if(i.nodeType==1&&s<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[s],s=0}else if(i.parentNode&&!dC(i))s=Ud(i)+1,i=i.parentNode;else return null}}class Us{constructor(e,i,s=!0){this.node=e,this.offset=i,this.precise=s}static before(e,i){return new Us(e.parentNode,Ud(e),i)}static after(e,i){return new Us(e.parentNode,Ud(e)+1,i)}}var cr=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(cr||(cr={}));const cp=cr.LTR,TQ=cr.RTL;function bpe(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const mit=bpe("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),git=bpe("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),x$=Object.create(null),Bl=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);x$[e]=i,x$[i]=-e}function wpe(t){return t<=247?mit[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?git[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const vit=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class dc{get dir(){return this.level%2?TQ:cp}constructor(e,i,s){this.from=e,this.to=i,this.level=s}side(e,i){return this.dir==i==e?this.to:this.from}forward(e,i){return e==(this.dir==i)}static find(e,i,s,u){let d=-1;for(let h=0;h<e.length;h++){let m=e[h];if(m.from<=i&&m.to>=i){if(m.level==s)return h;(d<0||(u!=0?u<0?m.from<i:m.to>i:e[d].level>m.level))&&(d=h)}}if(d<0)throw new RangeError("Index out of range");return d}}function Spe(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let s=t[i],u=e[i];if(s.from!=u.from||s.to!=u.to||s.direction!=u.direction||!Spe(s.inner,u.inner))return!1}return!0}const lr=[];function yit(t,e,i,s,u){for(let d=0;d<=s.length;d++){let h=d?s[d-1].to:e,m=d<s.length?s[d].from:i,y=d?256:u;for(let _=h,b=y,T=y;_<m;_++){let C=wpe(t.charCodeAt(_));C==512?C=b:C==8&&T==4&&(C=16),lr[_]=C==4?2:C,C&7&&(T=C),b=C}for(let _=h,b=y,T=y;_<m;_++){let C=lr[_];if(C==128)_<m-1&&b==lr[_+1]&&b&24?C=lr[_]=b:lr[_]=256;else if(C==64){let A=_+1;for(;A<m&&lr[A]==64;)A++;let D=_&&b==8||A<i&&lr[A]==8?T==1?1:8:256;for(let L=_;L<A;L++)lr[L]=D;_=A-1}else C==8&&T==1&&(lr[_]=1);b=C,C&7&&(T=C)}}}function xit(t,e,i,s,u){let d=u==1?2:1;for(let h=0,m=0,y=0;h<=s.length;h++){let _=h?s[h-1].to:e,b=h<s.length?s[h].from:i;for(let T=_,C,A,D;T<b;T++)if(A=x$[C=t.charCodeAt(T)])if(A<0){for(let L=m-3;L>=0;L-=3)if(Bl[L+1]==-A){let z=Bl[L+2],$=z&2?u:z&4?z&1?d:u:0;$&&(lr[T]=lr[Bl[L]]=$),m=L;break}}else{if(Bl.length==189)break;Bl[m++]=T,Bl[m++]=C,Bl[m++]=y}else if((D=lr[T])==2||D==1){let L=D==u;y=L?0:1;for(let z=m-3;z>=0;z-=3){let $=Bl[z+2];if($&2)break;if(L)Bl[z+2]|=2;else{if($&4)break;Bl[z+2]|=4}}}}}function _it(t,e,i,s){for(let u=0,d=s;u<=i.length;u++){let h=u?i[u-1].to:t,m=u<i.length?i[u].from:e;for(let y=h;y<m;){let _=lr[y];if(_==256){let b=y+1;for(;;)if(b==m){if(u==i.length)break;b=i[u++].to,m=u<i.length?i[u].from:e}else if(lr[b]==256)b++;else break;let T=d==1,C=(b<e?lr[b]:s)==1,A=T==C?T?1:2:s;for(let D=b,L=u,z=L?i[L-1].to:t;D>y;)D==z&&(D=i[--L].from,z=L?i[L-1].to:t),lr[--D]=A;y=b}else d=_,y++}}}function _$(t,e,i,s,u,d,h){let m=s%2?2:1;if(s%2==u%2)for(let y=e,_=0;y<i;){let b=!0,T=!1;if(_==d.length||y<d[_].from){let L=lr[y];L!=m&&(b=!1,T=L==16)}let C=!b&&m==1?[]:null,A=b?s:s+1,D=y;e:for(;;)if(_<d.length&&D==d[_].from){if(T)break e;let L=d[_];if(!b)for(let z=L.to,$=_+1;;){if(z==i)break e;if($<d.length&&d[$].from==z)z=d[$++].to;else{if(lr[z]==m)break e;break}}if(_++,C)C.push(L);else{L.from>y&&h.push(new dc(y,L.from,A));let z=L.direction==cp!=!(A%2);O$(t,z?s+1:s,u,L.inner,L.from,L.to,h),y=L.to}D=L.to}else{if(D==i||(b?lr[D]!=m:lr[D]==m))break;D++}C?_$(t,y,D,s+1,u,C,h):y<D&&h.push(new dc(y,D,A)),y=D}else for(let y=i,_=d.length;y>e;){let b=!0,T=!1;if(!_||y>d[_-1].to){let L=lr[y-1];L!=m&&(b=!1,T=L==16)}let C=!b&&m==1?[]:null,A=b?s:s+1,D=y;e:for(;;)if(_&&D==d[_-1].to){if(T)break e;let L=d[--_];if(!b)for(let z=L.from,$=_;;){if(z==e)break e;if($&&d[$-1].to==z)z=d[--$].from;else{if(lr[z-1]==m)break e;break}}if(C)C.push(L);else{L.to<y&&h.push(new dc(L.to,y,A));let z=L.direction==cp!=!(A%2);O$(t,z?s+1:s,u,L.inner,L.from,L.to,h),y=L.from}D=L.from}else{if(D==e||(b?lr[D-1]!=m:lr[D-1]==m))break;D--}C?_$(t,D,y,s+1,u,C,h):D<y&&h.push(new dc(D,y,A)),y=D}}function O$(t,e,i,s,u,d,h){let m=e%2?2:1;yit(t,u,d,s,m),xit(t,u,d,s,m),_it(u,d,s,m),_$(t,u,d,e,i,s,h)}function Oit(t,e,i){if(!t)return[new dc(0,0,e==TQ?1:0)];if(e==cp&&!i.length&&!vit.test(t))return Tpe(t.length);if(i.length)for(;t.length>lr.length;)lr[lr.length]=256;let s=[],u=e==cp?0:1;return O$(t,u,u,i,0,t.length,s),s}function Tpe(t){return[new dc(0,t,0)]}let Cpe="";function bit(t,e,i,s,u){var d;let h=s.head-t.from,m=dc.find(e,h,(d=s.bidiLevel)!==null&&d!==void 0?d:-1,s.assoc),y=e[m],_=y.side(u,i);if(h==_){let C=m+=u?1:-1;if(C<0||C>=e.length)return null;y=e[m=C],h=y.side(!u,i),_=y.side(u,i)}let b=Si(t.text,h,y.forward(u,i));(b<y.from||b>y.to)&&(b=_),Cpe=t.text.slice(Math.min(h,b),Math.max(h,b));let T=m==(u?e.length-1:0)?null:e[m+(u?1:-1)];return T&&b==_&&T.level+(u?0:1)<y.level?Ye.cursor(T.side(!u,i)+t.from,T.forward(u,i)?1:-1,T.level):Ye.cursor(b+t.from,y.forward(u,i)?-1:1,y.level)}function wit(t,e,i){for(let s=e;s<i;s++){let u=wpe(t.charCodeAt(s));if(u==1)return cp;if(u==2||u==4)return TQ}return cp}const kpe=Ct.define(),Ape=Ct.define(),Ppe=Ct.define(),Epe=Ct.define(),b$=Ct.define(),Mpe=Ct.define(),Dpe=Ct.define(),CQ=Ct.define(),kQ=Ct.define(),Ipe=Ct.define({combine:t=>t.some(e=>e)}),Rpe=Ct.define({combine:t=>t.some(e=>e)}),Lpe=Ct.define();class Zg{constructor(e,i="nearest",s="nearest",u=5,d=5,h=!1){this.range=e,this.y=i,this.x=s,this.yMargin=u,this.xMargin=d,this.isSnapshot=h}map(e){return e.empty?this:new Zg(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Zg(Ye.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const pS=sn.define({map:(t,e)=>t.map(e)}),Npe=sn.define();function Ja(t,e,i){let s=t.facet(Epe);s.length?s[0](e):window.onerror&&window.onerror(String(e),i,void 0,void 0,e)||(i?console.error(i+":",e):console.error(e))}const lc=Ct.define({combine:t=>t.length?t[0]:!0});let Sit=0;const Dg=Ct.define({combine(t){return t.filter((e,i)=>{for(let s=0;s<i;s++)if(t[s].plugin==e.plugin)return!1;return!0})}});class li{constructor(e,i,s,u,d){this.id=e,this.create=i,this.domEventHandlers=s,this.domEventObservers=u,this.baseExtensions=d(this),this.extension=this.baseExtensions.concat(Dg.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Dg.of({plugin:this,arg:e}))}static define(e,i){const{eventHandlers:s,eventObservers:u,provide:d,decorations:h}=i||{};return new li(Sit++,e,s,u,m=>{let y=[];return h&&y.push(oA.of(_=>{let b=_.plugin(m);return b?h(b):Wt.none})),d&&y.push(d(m)),y})}static fromClass(e,i){return li.define((s,u)=>new e(s,u),i)}}class LN{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(s){if(Ja(i.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(i){Ja(e.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var i;if(!((i=this.value)===null||i===void 0)&&i.destroy)try{this.value.destroy()}catch(s){Ja(e.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $pe=Ct.define(),AQ=Ct.define(),oA=Ct.define(),zpe=Ct.define(),PQ=Ct.define(),V_=Ct.define(),Bpe=Ct.define();function yre(t,e){let i=t.state.facet(Bpe);if(!i.length)return i;let s=i.map(d=>d instanceof Function?d(t):d),u=[];return kn.spans(s,e.from,e.to,{point(){},span(d,h,m,y){let _=d-e.from,b=h-e.from,T=u;for(let C=m.length-1;C>=0;C--,y--){let A=m[C].spec.bidiIsolate,D;if(A==null&&(A=wit(e.text,_,b)),y>0&&T.length&&(D=T[T.length-1]).to==_&&D.direction==A)D.to=b,T=D.inner;else{let L={from:_,to:b,direction:A,inner:[]};T.push(L),T=L.inner}}}}),u}const Qpe=Ct.define();function EQ(t){let e=0,i=0,s=0,u=0;for(let d of t.state.facet(Qpe)){let h=d(t);h&&(h.left!=null&&(e=Math.max(e,h.left)),h.right!=null&&(i=Math.max(i,h.right)),h.top!=null&&(s=Math.max(s,h.top)),h.bottom!=null&&(u=Math.max(u,h.bottom)))}return{left:e,right:i,top:s,bottom:u}}const Rx=Ct.define();class ss{constructor(e,i,s,u){this.fromA=e,this.toA=i,this.fromB=s,this.toB=u}join(e){return new ss(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let i=e.length,s=this;for(;i>0;i--){let u=e[i-1];if(!(u.fromA>s.toA)){if(u.toA<s.fromA)break;s=s.join(u),e.splice(i-1,1)}}return e.splice(i,0,s),e}static extendWithRanges(e,i){if(i.length==0)return e;let s=[];for(let u=0,d=0,h=0;;){let m=u<e.length?e[u].fromB:1e9,y=d<i.length?i[d]:1e9,_=Math.min(m,y);if(_==1e9)break;let b=_+h,T=_,C=b;for(;;)if(d<i.length&&i[d]<=T){let A=i[d+1];d+=2,T=Math.max(T,A);for(let D=u;D<e.length&&e[D].fromB<=T;D++)h=e[D].toA-e[D].toB;C=Math.max(C,A+h)}else if(u<e.length&&e[u].fromB<=T){let A=e[u++];T=Math.max(T,A.toB),C=Math.max(C,A.toA),h=A.toA-A.toB}else break;s.push(new ss(b,C,_,T))}return s}}class hC{constructor(e,i,s){this.view=e,this.state=i,this.transactions=s,this.flags=0,this.startState=e.state,this.changes=Oi.empty(this.startState.doc.length);for(let d of s)this.changes=this.changes.compose(d.changes);let u=[];this.changes.iterChangedRanges((d,h,m,y)=>u.push(new ss(d,h,m,y))),this.changedRanges=u}static create(e,i,s){return new hC(e,i,s)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const Tit=[];class si{constructor(e,i,s=0){this.dom=e,this.length=i,this.flags=s,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return Tit}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let i=this.domAttrs;i&&oit(this.dom,i)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,i=this.posAtStart){let s=i;for(let u of this.children){if(u==e)return s;s+=u.length+u.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,i){return null}domPosFor(e,i){let s=Ud(this.dom),u=this.length?e>0:i>0;return new Us(this.parent.dom,s+(u?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof lA)return e;return null}static get(e){return e.cmTile}}class sA extends si{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let i=this.dom,s=null,u,d=e?.node==i?e:null,h=0;for(let m of this.children){if(m.sync(e),h+=m.length+m.breakAfter,u=s?s.nextSibling:i.firstChild,d&&u!=m.dom&&(d.written=!0),m.dom.parentNode==i)for(;u&&u!=m.dom;)u=xre(u);else i.insertBefore(m.dom,u);s=m.dom}for(u=s?s.nextSibling:i.firstChild,d&&u&&(d.written=!0);u;)u=xre(u);this.length=h}}function xre(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class lA extends sA{constructor(e,i){super(i),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let i=si.get(e);if(i&&this.owns(i))return i;e=e.parentNode}}blockTiles(e){for(let i=[],s=this,u=0,d=0;;)if(u==s.children.length){if(!i.length)return;s=s.parent,s.breakAfter&&d++,u=i.pop()}else{let h=s.children[u++];if(h instanceof Md)i.push(u),s=h,u=0;else{let m=d+h.length,y=e(h,d);if(y!==void 0)return y;d=m+h.breakAfter}}}resolveBlock(e,i){let s,u=-1,d,h=-1;if(this.blockTiles((m,y)=>{let _=y+m.length;if(e>=y&&e<=_){if(m.isWidget()&&i>=-1&&i<=1){if(m.flags&32)return!0;m.flags&16&&(s=void 0)}(y<e||e==_&&(i<-1?m.length:m.covers(1)))&&(!s||!m.isWidget()&&s.isWidget())&&(s=m,u=e-y),(_>e||e==y&&(i>1?m.length:m.covers(-1)))&&(!d||!m.isWidget()&&d.isWidget())&&(d=m,h=e-y)}}),!s&&!d)throw new Error("No tile at position "+e);return s&&i<0||!d?{tile:s,offset:u}:{tile:d,offset:h}}}class Md extends sA{constructor(e,i){super(e),this.wrapper=i}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,i){let s=new Md(i||document.createElement(e.tagName),e);return i||(s.flags|=4),s}}class sv extends sA{constructor(e,i){super(e),this.attrs=i}isLine(){return!0}static start(e,i,s){let u=new sv(i||document.createElement("div"),e);return(!i||!s)&&(u.flags|=4),u}get domAttrs(){return this.attrs}resolveInline(e,i,s){let u=null,d=-1,h=null,m=-1;function y(b,T){for(let C=0,A=0;C<b.children.length&&A<=T;C++){let D=b.children[C],L=A+D.length;L>=T&&(D.isComposite()?y(D,T-A):(!h||h.isHidden&&(i>0||s&&kit(h,D)))&&(L>T||D.flags&32)?(h=D,m=T-A):(A<T||D.flags&16&&!D.isHidden)&&(u=D,d=T-A)),A=L}}y(this,e);let _=(i<0?u:h)||u||h;return _?{tile:_,offset:_==u?d:m}:null}coordsIn(e,i){let s=this.resolveInline(e,i,!0);return s?s.tile.coordsIn(Math.max(0,s.offset),i):Cit(this)}domIn(e,i){let s=this.resolveInline(e,i);if(s){let{tile:u,offset:d}=s;if(this.dom.contains(u.dom))return u.isText()?new Us(u.dom,Math.min(u.dom.nodeValue.length,d)):u.domPosFor(d,u.flags&16?1:u.flags&32?-1:i);let h=s.tile.parent,m=!1;for(let y of h.children){if(m)return new Us(y.dom,0);y==s.tile&&(m=!0)}}return new Us(this.dom,0)}}function Cit(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=mT(e);return i[i.length-1]||null}function kit(t,e){let i=t.coordsIn(0,1),s=e.coordsIn(0,1);return i&&s&&s.top<i.bottom}class Ya extends sA{constructor(e,i){super(e),this.mark=i}get domAttrs(){return this.mark.attrs}static of(e,i){let s=new Ya(i||document.createElement(e.tagName),e);return i||(s.flags|=4),s}}class qh extends si{constructor(e,i){super(e,i.length),this.text=i}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,i){let s=this.dom.nodeValue.length;e>s&&(e=s);let u=e,d=e,h=0;e==0&&i<0||e==s&&i>=0?kt.chrome||kt.gecko||(e?(u--,h=1):d<s&&(d++,h=-1)):i<0?u--:d<s&&d++;let m=W1(this.dom,u,d).getClientRects();if(!m.length)return null;let y=m[(h?h<0:i>=0)?0:m.length-1];return kt.safari&&!h&&y.width==0&&(y=Array.prototype.find.call(m,_=>_.width)||y),h?fC(y,h<0):y||null}static of(e,i){let s=new qh(i||document.createTextNode(e),e);return i||(s.flags|=2),s}}class dp extends si{constructor(e,i,s,u){super(e,i,u),this.widget=s}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,i){return this.coordsInWidget(e,i,!1)}coordsInWidget(e,i,s){let u=this.widget.coordsAt(this.dom,e,i);if(u)return u;if(s)return fC(this.dom.getBoundingClientRect(),this.length?e==0:i<=0);{let d=this.dom.getClientRects(),h=null;if(!d.length)return null;let m=this.flags&16?!0:this.flags&32?!1:e>0;for(let y=m?d.length-1:0;h=d[y],!(e>0?y==0:y==d.length-1||h.top<h.bottom);y+=m?-1:1);return fC(h,!m)}}get overrideDOMText(){if(!this.length)return Zn.empty;let{root:e}=this;if(!e)return Zn.empty;let i=this.posAtStart;return e.view.state.doc.slice(i,i+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,i,s,u,d){return d||(d=e.toDOM(i),e.editable||(d.contentEditable="false")),new dp(d,s,e,u)}}class pC extends si{constructor(e){let i=document.createElement("img");i.className="cm-widgetBuffer",i.setAttribute("aria-hidden","true"),super(i,0,e)}get isHidden(){return!0}get overrideDOMText(){return Zn.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Ait{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,i,s){let{tile:u,index:d,beforeBreak:h,parents:m}=this;for(;e||i>0;)if(u.isComposite())if(h){if(!e)break;s&&s.break(),e--,h=!1}else if(d==u.children.length){if(!e&&!m.length)break;s&&s.leave(u),h=!!u.breakAfter,{tile:u,index:d}=m.pop(),d++}else{let y=u.children[d],_=y.breakAfter;(i>0?y.length<=e:y.length<e)&&(!s||s.skip(y,0,y.length)!==!1||!y.isComposite)?(h=!!_,d++,e-=y.length):(m.push({tile:u,index:d}),u=y,d=0,s&&y.isComposite()&&s.enter(y))}else if(d==u.length)h=!!u.breakAfter,{tile:u,index:d}=m.pop(),d++;else if(e){let y=Math.min(e,u.length-d);s&&s.skip(u,d,d+y),e-=y,d+=y}else break;return this.tile=u,this.index=d,this.beforeBreak=h,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class Pit{constructor(e,i,s,u){this.from=e,this.to=i,this.wrapper=s,this.rank=u}}class Eit{constructor(e,i,s){this.cache=e,this.root=i,this.blockWrappers=s,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,i,s,u){var d;this.flushBuffer();let h=this.ensureMarks(i,s),m=h.lastChild;if(m&&m.isText()&&!(m.flags&8)&&m.length+e.length<512){this.cache.reused.set(m,2);let y=h.children[h.children.length-1]=new qh(m.dom,m.text+e);y.parent=h}else h.append(u||qh.of(e,(d=this.cache.find(qh))===null||d===void 0?void 0:d.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,i){let s=this.curLine;s.dom!=i.line.dom&&(s.setDOM(this.cache.reused.has(i.line)?NN(i.line.dom):i.line.dom),this.cache.reused.set(i.line,2));let u=s;for(let m=i.marks.length-1;m>=0;m--){let y=i.marks[m],_=u.lastChild;if(_ instanceof Ya&&_.mark.eq(y.mark))_.dom!=y.dom&&_.setDOM(NN(y.dom)),u=_;else{if(this.cache.reused.get(y)){let T=si.get(y.dom);T&&T.setDOM(NN(y.dom))}let b=Ya.of(y.mark,y.dom);u.append(b),u=b}this.cache.reused.set(y,2)}let d=si.get(e.text);d&&this.cache.reused.set(d,2);let h=new qh(e.text,e.text.nodeValue);h.flags|=8,u.append(h)}addInlineWidget(e,i,s){let u=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);u||this.flushBuffer();let d=this.ensureMarks(i,s);!u&&!(e.flags&16)&&d.append(this.getBuffer(1)),d.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,i,s){this.flushBuffer(),this.ensureMarks(i,s).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let i=this.afterWidget||this.lastBlock;i.length+=e,this.pos+=e}addLineStart(e,i){var s;e||(e=jpe);let u=sv.start(e,i||((s=this.cache.find(sv))===null||s===void 0?void 0:s.dom),!!i);this.getBlockPos().append(this.lastBlock=this.curLine=u)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,i){var s;let u=this.curLine;for(let d=e.length-1;d>=0;d--){let h=e[d],m;if(i>0&&(m=u.lastChild)&&m instanceof Ya&&m.mark.eq(h))u=m,i--;else{let y=Ya.of(h,(s=this.cache.find(Ya,_=>_.mark.eq(h)))===null||s===void 0?void 0:s.dom);u.append(y),u=y,i=0}}return u}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!_re(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(kt.ios&&_re(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget($N,0,32)||new dp($N.toDOM(),0,$N,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let i=new Pit(e.from,e.to,e.value,e.rank),s=this.wrappers.length;for(;s>0&&(this.wrappers[s-1].rank-i.rank||this.wrappers[s-1].to-i.to)<0;)s--;this.wrappers.splice(s,0,i)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let i=this.root;for(let s of this.wrappers){let u=i.lastChild;if(s.from<this.pos&&u instanceof Md&&u.wrapper.eq(s.wrapper))i=u;else{let d=Md.of(s.wrapper,(e=this.cache.find(Md,h=>h.wrapper.eq(s.wrapper)))===null||e===void 0?void 0:e.dom);i.append(d),i=d}}return i}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let i=2|(e<0?16:32),s=this.cache.find(pC,void 0,1);return s&&(s.flags=i),s||new pC(i)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Mit{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:u,lineBreak:d,done:h}=this.cursor.next(this.skipCount);if(this.skipCount=0,h)throw new Error("Ran out of text content when drawing inline views");this.text=u;let m=this.textOff=Math.min(e,u.length);return d?null:u.slice(0,m)}let i=Math.min(this.text.length,this.textOff+e),s=this.text.slice(this.textOff,i);return this.textOff=i,s}}const mC=[dp,sv,qh,Ya,pC,Md,lA];for(let t=0;t<mC.length;t++)mC[t].bucket=t;class Dit{constructor(e){this.view=e,this.buckets=mC.map(()=>[]),this.index=mC.map(()=>0),this.reused=new Map}add(e){let i=e.constructor.bucket,s=this.buckets[i];s.length<6?s.push(e):s[this.index[i]=(this.index[i]+1)%6]=e}find(e,i,s=2){let u=e.bucket,d=this.buckets[u],h=this.index[u];for(let m=d.length-1;m>=0;m--){let y=(m+h)%d.length,_=d[y];if((!i||i(_))&&!this.reused.has(_))return d.splice(y,1),y<h&&this.index[u]--,this.reused.set(_,s),_}return null}findWidget(e,i,s){let u=this.buckets[0];if(u.length)for(let d=0,h=0;;d++){if(d==u.length){if(h)return null;h=1,d=0}let m=u[d];if(!this.reused.has(m)&&(h==0?m.widget.compare(e):m.widget.constructor==e.constructor&&e.updateDOM(m.dom,this.view)))return u.splice(d,1),d<this.index[0]&&this.index[0]--,m.widget==e&&m.length==i&&(m.flags&497)==s?(this.reused.set(m,1),m):(this.reused.set(m,2),new dp(m.dom,i,e,m.flags&-498|s))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,i=2){if(!this.reused.has(e))return this.reused.set(e,i),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class Iit{constructor(e,i,s,u,d){this.view=e,this.decorations=u,this.disallowBlockEffectsFor=d,this.openWidget=!1,this.openMarks=0,this.cache=new Dit(e),this.text=new Mit(e.state.doc),this.builder=new Eit(this.cache,new lA(e,e.contentDOM),kn.iter(s)),this.cache.reused.set(i,2),this.old=new Ait(i),this.reuseWalker={skip:(h,m,y)=>{if(this.cache.add(h),h.isComposite())return!1},enter:h=>this.cache.add(h),leave:()=>{},break:()=>{}}}run(e,i){let s=i&&this.getCompositionContext(i.text);for(let u=0,d=0,h=0;;){let m=h<e.length?e[h++]:null,y=m?m.fromA:this.old.root.length;if(y>u){let _=y-u;this.preserve(_,!h,!m),u=y,d+=_}if(!m)break;i&&m.fromA<=i.range.fromA&&m.toA>=i.range.toA?(this.forward(m.fromA,i.range.fromA,i.range.fromA<i.range.toA?1:-1),this.emit(d,i.range.fromB),this.cache.clear(),this.builder.addComposition(i,s),this.text.skip(i.range.toB-i.range.fromB),this.forward(i.range.fromA,m.toA),this.emit(i.range.toB,m.toB)):(this.forward(m.fromA,m.toA),this.emit(d,m.toB)),d=m.toB,u=m.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,i,s){let u=Nit(this.old),d=this.openMarks;this.old.advance(e,s?1:-1,{skip:(h,m,y)=>{if(h.isWidget())if(this.openWidget)this.builder.continueWidget(y-m);else{let _=y>0||m<h.length?dp.of(h.widget,this.view,y-m,h.flags&496,this.cache.maybeReuse(h)):this.cache.reuse(h);_.flags&256?(_.flags&=-2,this.builder.addBlockWidget(_)):(this.builder.ensureLine(null),this.builder.addInlineWidget(_,u,d),d=u.length)}else if(h.isText())this.builder.ensureLine(null),!m&&y==h.length?this.builder.addText(h.text,u,d,this.cache.reuse(h)):(this.cache.add(h),this.builder.addText(h.text.slice(m,y),u,d)),d=u.length;else if(h.isLine())h.flags&=-2,this.cache.reused.set(h,1),this.builder.addLine(h);else if(h instanceof pC)this.cache.add(h);else if(h instanceof Ya)this.builder.ensureLine(null),this.builder.addMark(h,u,d),this.cache.reused.set(h,1),d=u.length;else return!1;this.openWidget=!1},enter:h=>{h.isLine()?this.builder.addLineStart(h.attrs,this.cache.maybeReuse(h)):(this.cache.add(h),h instanceof Ya&&u.unshift(h.mark)),this.openWidget=!1},leave:h=>{h.isLine()?u.length&&(u.length=d=0):h instanceof Ya&&(u.shift(),d=Math.min(d,u.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,i){let s=null,u=this.builder,d=0,h=kn.spans(this.decorations,e,i,{point:(m,y,_,b,T,C)=>{if(_ instanceof up){if(this.disallowBlockEffectsFor[C]){if(_.block)throw new RangeError("Block decorations may not be specified via plugins");if(y>this.view.state.doc.lineAt(m).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(d=b.length,T>b.length)u.continueWidget(y-m);else{let A=_.widget||(_.block?lv.block:lv.inline),D=Rit(_),L=this.cache.findWidget(A,y-m,D)||dp.of(A,this.view,y-m,D);_.block?(_.startSide>0&&u.addLineStartIfNotCovered(s),u.addBlockWidget(L)):(u.ensureLine(s),u.addInlineWidget(L,b,T))}s=null}else s=Lit(s,_);y>m&&this.text.skip(y-m)},span:(m,y,_,b)=>{for(let T=m;T<y;){let C=this.text.next(Math.min(512,y-T));C==null?(u.addLineStartIfNotCovered(s),u.addBreak(),T++):(u.ensureLine(s),u.addText(C,_,T==m?b:_.length),T+=C.length),s=null}}});u.addLineStartIfNotCovered(s),this.openWidget=h>d,this.openMarks=h}forward(e,i,s=1){i-e<=10?this.old.advance(i-e,s,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(i-e-10,-1),this.old.advance(5,s,this.reuseWalker))}getCompositionContext(e){let i=[],s=null;for(let u=e.parentNode;;u=u.parentNode){let d=si.get(u);if(u==this.view.contentDOM)break;d instanceof Ya?i.push(d):d?.isLine()?s=d:u.nodeName=="DIV"&&!s&&u!=this.view.contentDOM?s=new sv(u,jpe):i.push(Ya.of(new Q_({tagName:u.nodeName.toLowerCase(),attributes:sit(u)}),u))}return{line:s,marks:i}}}function _re(t,e){let i=s=>{for(let u of s.children)if((e?u.isText():u.length)||i(u))return!0;return!1};return i(t)}function Rit(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const jpe={class:"cm-line"};function Lit(t,e){let i=e.spec.attributes,s=e.spec.class;return!i&&!s||(t||(t={class:"cm-line"}),i&&wQ(i,t),s&&(t.class+=" "+s)),t}function Nit(t){let e=[];for(let i=t.parents.length;i>1;i--){let s=i==t.parents.length?t.tile:t.parents[i].tile;s instanceof Ya&&e.push(s.mark)}return e}function NN(t){let e=si.get(t);return e&&e.setDOM(t.cloneNode()),t}class lv extends gu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}lv.inline=new lv("span");lv.block=new lv("div");const $N=new class extends gu{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class Ore{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Wt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new lA(e,e.contentDOM),this.updateInner([new ss(0,0,0,e.state.doc.length)],null)}update(e){var i;let s=e.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:b,toA:T})=>T<this.minWidthFrom||b>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let u=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((i=this.domChanged)===null||i===void 0)&&i.newSel?u=this.domChanged.newSel.head:!Wit(e.changes,this.hasComposition)&&!e.selectionSet&&(u=e.state.selection.main.head));let d=u>-1?zit(this.view,e.changes,u):null;if(this.domChanged=null,this.hasComposition){let{from:b,to:T}=this.hasComposition;s=new ss(b,T,e.changes.mapPos(b,-1),e.changes.mapPos(T,1)).addToSet(s.slice())}this.hasComposition=d?{from:d.range.fromB,to:d.range.toB}:null,(kt.ie||kt.chrome)&&!d&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let h=this.decorations,m=this.blockWrappers;this.updateDeco();let y=jit(h,this.decorations,e.changes);y.length&&(s=ss.extendWithRanges(s,y));let _=Fit(m,this.blockWrappers,e.changes);return _.length&&(s=ss.extendWithRanges(s,_)),d&&!s.some(b=>b.fromA<=d.range.fromA&&b.toA>=d.range.toA)&&(s=d.range.addToSet(s.slice())),this.tile.flags&2&&s.length==0?!1:(this.updateInner(s,d),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,i){this.view.viewState.mustMeasureContent=!0;let{observer:s}=this.view;s.ignore(()=>{if(i||e.length){let h=this.tile,m=new Iit(this.view,h,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=m.run(e,i),w$(h,m.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let d=kt.chrome||kt.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(d),d&&(d.written||s.selectionRange.focusNode!=d.node||!this.tile.dom.contains(d.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let u=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let d of this.tile.children)d.isWidget()&&d.widget instanceof zN&&u.push(d.dom);s.updateGaps(u)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let i of e.transactions)for(let s of i.effects)s.is(Npe)&&(this.editContextFormatting=s.value)}updateSelection(e=!1,i=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:s}=this.tile,u=this.view.root.activeElement,d=u==s,h=!d&&!(this.view.state.facet(lc)||s.tabIndex>-1)&&n1(s,this.view.observer.selectionRange)&&!(u&&s.contains(u));if(!(d||i||h))return;let m=this.forceSelection;this.forceSelection=!1;let y=this.view.state.selection.main,_,b;if(y.empty?b=_=this.inlineDOMNearPos(y.anchor,y.assoc||1):(b=this.inlineDOMNearPos(y.head,y.head==y.from?1:-1),_=this.inlineDOMNearPos(y.anchor,y.anchor==y.from?1:-1)),kt.gecko&&y.empty&&!this.hasComposition&&$it(_)){let C=document.createTextNode("");this.view.observer.ignore(()=>_.node.insertBefore(C,_.node.childNodes[_.offset]||null)),_=b=new Us(C,0),m=!0}let T=this.view.observer.selectionRange;(m||!T.focusNode||(!r1(_.node,_.offset,T.anchorNode,T.anchorOffset)||!r1(b.node,b.offset,T.focusNode,T.focusOffset))&&!this.suppressWidgetCursorChange(T,y))&&(this.view.observer.ignore(()=>{kt.android&&kt.chrome&&s.contains(T.focusNode)&&Git(T.focusNode,s)&&(s.blur(),s.focus({preventScroll:!0}));let C=ov(this.view.root);if(C)if(y.empty){if(kt.gecko){let A=Bit(_.node,_.offset);if(A&&A!=3){let D=(A==1?_pe:Ope)(_.node,_.offset);D&&(_=new Us(D.node,D.offset))}}C.collapse(_.node,_.offset),y.bidiLevel!=null&&C.caretBidiLevel!==void 0&&(C.caretBidiLevel=y.bidiLevel)}else if(C.extend){C.collapse(_.node,_.offset);try{C.extend(b.node,b.offset)}catch{}}else{let A=document.createRange();y.anchor>y.head&&([_,b]=[b,_]),A.setEnd(b.node,b.offset),A.setStart(_.node,_.offset),C.removeAllRanges(),C.addRange(A)}h&&this.view.root.activeElement==s&&(s.blur(),u&&u.focus())}),this.view.observer.setSelectionRange(_,b)),this.impreciseAnchor=_.precise?null:new Us(T.anchorNode,T.anchorOffset),this.impreciseHead=b.precise?null:new Us(T.focusNode,T.focusOffset)}suppressWidgetCursorChange(e,i){return this.hasComposition&&i.empty&&r1(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==i.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,i=e.state.selection.main,s=ov(e.root),{anchorNode:u,anchorOffset:d}=e.observer.selectionRange;if(!s||!i.empty||!i.assoc||!s.modify)return;let h=this.lineAt(i.head,i.assoc);if(!h)return;let m=h.posAtStart;if(i.head==m||i.head==m+h.length)return;let y=this.coordsAt(i.head,-1),_=this.coordsAt(i.head,1);if(!y||!_||y.bottom>_.top)return;let b=this.domAtPos(i.head+i.assoc,i.assoc);s.collapse(b.node,b.offset),s.modify("move",i.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let T=e.observer.selectionRange;e.docView.posFromDOM(T.anchorNode,T.anchorOffset)!=i.from&&s.collapse(u,d)}posFromDOM(e,i){let s=this.tile.nearest(e);if(!s)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let u=s.posAtStart;if(s.isComposite()){let d;if(e==s.dom)d=s.dom.childNodes[i];else{let h=yc(e)==0?0:i==0?-1:1;for(;;){let m=e.parentNode;if(m==s.dom)break;h==0&&m.firstChild!=m.lastChild&&(e==m.firstChild?h=-1:h=1),e=m}h<0?d=e:d=e.nextSibling}if(d==s.dom.firstChild)return u;for(;d&&!si.get(d);)d=d.nextSibling;if(!d)return u+s.length;for(let h=0,m=u;;h++){let y=s.children[h];if(y.dom==d)return m;m+=y.length+y.breakAfter}}else return s.isText()?e==s.dom?u+i:u+(i?s.length:0):u}domAtPos(e,i){let{tile:s,offset:u}=this.tile.resolveBlock(e,i);return s.isWidget()?s.domPosFor(e,i):s.domIn(u,i)}inlineDOMNearPos(e,i){let s,u=-1,d=!1,h,m=-1,y=!1;return this.tile.blockTiles((_,b)=>{if(_.isWidget()){if(_.flags&32&&b>=e)return!0;_.flags&16&&(d=!0)}else{let T=b+_.length;if(b<=e&&(s=_,u=e-b,d=T<e),T>=e&&!h&&(h=_,m=e-b,y=b>e),b>e&&h)return!0}}),!s&&!h?this.domAtPos(e,i):(d&&h?s=null:y&&s&&(h=null),s&&i<0||!h?s.domIn(u,i):h.domIn(m,i))}coordsAt(e,i){let{tile:s,offset:u}=this.tile.resolveBlock(e,i);return s.isWidget()?s.widget instanceof zN?null:s.coordsInWidget(u,i,!0):s.coordsIn(u,i)}lineAt(e,i){let{tile:s}=this.tile.resolveBlock(e,i);return s.isLine()?s:null}coordsForChar(e){let{tile:i,offset:s}=this.tile.resolveBlock(e,1);if(!i.isLine())return null;function u(d,h){if(d.isComposite())for(let m of d.children){if(m.length>=h){let y=u(m,h);if(y)return y}if(h-=m.length,h<0)break}else if(d.isText()&&h<d.length){let m=Si(d.text,h);if(m==h)return null;let y=W1(d.dom,h,m).getClientRects();for(let _=0;_<y.length;_++){let b=y[_];if(_==y.length-1||b.top<b.bottom&&b.left<b.right)return b}}return null}return u(i,s)}measureVisibleLineHeights(e){let i=[],{from:s,to:u}=e,d=this.view.contentDOM.clientWidth,h=d>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,m=-1,y=this.view.textDirection==cr.LTR,_=0,b=(T,C,A)=>{for(let D=0;D<T.children.length&&!(C>u);D++){let L=T.children[D],z=C+L.length,$=L.dom.getBoundingClientRect(),{height:Q}=$;if(A&&!D&&(_+=$.top-A.top),L instanceof Md)z>s&&b(L,C,$);else if(C>=s&&(_>0&&i.push(-_),i.push(Q+_),_=0,h)){let B=L.dom.lastChild,q=B?mT(B):[];if(q.length){let Y=q[q.length-1],G=y?Y.right-$.left:$.right-Y.left;G>m&&(m=G,this.minWidth=d,this.minWidthFrom=C,this.minWidthTo=z)}}A&&D==T.children.length-1&&(_+=A.bottom-$.bottom),C=z+L.breakAfter}};return b(this.tile,0,null),i}textDirectionAt(e){let{tile:i}=this.tile.resolveBlock(e,1);return getComputedStyle(i.dom).direction=="rtl"?cr.RTL:cr.LTR}measureTextSize(){let e=this.tile.blockTiles(h=>{if(h.isLine()&&h.children.length&&h.length<=20){let m=0,y;for(let _ of h.children){if(!_.isText()||/[^ -~]/.test(_.text))return;let b=mT(_.dom);if(b.length!=1)return;m+=b[0].width,y=b[0].height}if(m)return{lineHeight:h.dom.getBoundingClientRect().height,charWidth:m/h.length,textHeight:y}}});if(e)return e;let i=document.createElement("div"),s,u,d;return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(i);let h=mT(i.firstChild)[0];s=i.getBoundingClientRect().height,u=h&&h.width?h.width/27:7,d=h&&h.height?h.height:s,i.remove()}),{lineHeight:s,charWidth:u,textHeight:d}}computeBlockGapDeco(){let e=[],i=this.view.viewState;for(let s=0,u=0;;u++){let d=u==i.viewports.length?null:i.viewports[u],h=d?d.from-1:this.view.state.doc.length;if(h>s){let m=(i.lineBlockAt(h).bottom-i.lineBlockAt(s).top)/this.view.scaleY;e.push(Wt.replace({widget:new zN(m),block:!0,inclusive:!0,isBlockGap:!0}).range(s,h))}if(!d)break;s=d.to+1}return Wt.set(e)}updateDeco(){let e=1,i=this.view.state.facet(oA).map(d=>(this.dynamicDecorationMap[e++]=typeof d=="function")?d(this.view):d),s=!1,u=this.view.state.facet(PQ).map((d,h)=>{let m=typeof d=="function";return m&&(s=!0),m?d(this.view):d});for(u.length&&(this.dynamicDecorationMap[e++]=s,i.push(kn.join(u))),this.decorations=[this.editContextFormatting,...i,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(zpe).map(d=>typeof d=="function"?d(this.view):d)}scrollIntoView(e){if(e.isSnapshot){let _=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=_.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let _ of this.view.state.facet(Lpe))try{if(_(this.view,e.range,e))return!0}catch(b){Ja(this.view.state,b,"scroll handler")}let{range:i}=e,s=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1),u;if(!s)return;!i.empty&&(u=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(s={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top),right:Math.max(s.right,u.right),bottom:Math.max(s.bottom,u.bottom)});let d=EQ(this.view),h={left:s.left-d.left,top:s.top-d.top,right:s.right+d.right,bottom:s.bottom+d.bottom},{offsetWidth:m,offsetHeight:y}=this.view.scrollDOM;cit(this.view.scrollDOM,h,i.head<i.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,m),-m),Math.max(Math.min(e.yMargin,y),-y),this.view.textDirection==cr.LTR)}lineHasWidget(e){let i=s=>s.isWidget()||s.children.some(i);return i(this.tile.resolveBlock(e,1).tile)}destroy(){w$(this.tile)}}function w$(t,e){let i=e?.get(t);if(i!=1){i==null&&t.destroy();for(let s of t.children)w$(s,e)}}function $it(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function Vpe(t,e){let i=t.observer.selectionRange;if(!i.focusNode)return null;let s=_pe(i.focusNode,i.focusOffset),u=Ope(i.focusNode,i.focusOffset),d=s||u;if(u&&s&&u.node!=s.node){let m=si.get(u.node);if(!m||m.isText()&&m.text!=u.node.nodeValue)d=u;else if(t.docView.lastCompositionAfterCursor){let y=si.get(s.node);!y||y.isText()&&y.text!=s.node.nodeValue||(d=u)}}if(t.docView.lastCompositionAfterCursor=d!=s,!d)return null;let h=e-d.offset;return{from:h,to:h+d.node.nodeValue.length,node:d.node}}function zit(t,e,i){let s=Vpe(t,i);if(!s)return null;let{node:u,from:d,to:h}=s,m=u.nodeValue;if(/[\n\r]/.test(m)||t.state.doc.sliceString(s.from,s.to)!=m)return null;let y=e.invertedDesc;return{range:new ss(y.mapPos(d),y.mapPos(h),d,h),text:u}}function Bit(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Qit=class{constructor(){this.changes=[]}compareRange(e,i){Ug(e,i,this.changes)}comparePoint(e,i){Ug(e,i,this.changes)}boundChange(e){Ug(e,e,this.changes)}};function jit(t,e,i){let s=new Qit;return kn.compare(t,e,i,s),s.changes}class Vit{constructor(){this.changes=[]}compareRange(e,i){Ug(e,i,this.changes)}comparePoint(){}boundChange(e){Ug(e,e,this.changes)}}function Fit(t,e,i){let s=new Vit;return kn.compare(t,e,i,s),s.changes}function Git(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(i.nodeType==1&&i.contentEditable=="false")return!0;return!1}function Wit(t,e){let i=!1;return e&&t.iterChangedRanges((s,u)=>{s<e.to&&u>e.from&&(i=!0)}),i}class zN extends gu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Uit(t,e,i=1){let s=t.charCategorizer(e),u=t.doc.lineAt(e),d=e-u.from;if(u.length==0)return Ye.cursor(e);d==0?i=1:d==u.length&&(i=-1);let h=d,m=d;i<0?h=Si(u.text,d,!1):m=Si(u.text,d);let y=s(u.text.slice(h,m));for(;h>0;){let _=Si(u.text,h,!1);if(s(u.text.slice(_,h))!=y)break;h=_}for(;m<u.length;){let _=Si(u.text,m);if(s(u.text.slice(m,_))!=y)break;m=_}return Ye.range(h+u.from,m+u.from)}function qit(t,e,i,s,u){let d=Math.round((s-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>t.defaultLineHeight*1.5){let m=t.viewState.heightOracle.textHeight,y=Math.floor((u-i.top-(t.defaultLineHeight-m)*.5)/m);d+=y*t.viewState.heightOracle.lineLength}let h=t.state.sliceDoc(i.from,i.to);return i.from+d$(h,d,t.state.tabSize)}function S$(t,e,i){let s=t.lineBlockAt(e);if(Array.isArray(s.type)){let u;for(let d of s.type){if(d.from>e)break;if(!(d.to<e)){if(d.from<e&&d.to>e)return d;(!u||d.type==Yi.Text&&(u.type!=d.type||(i<0?d.from<e:d.to>e)))&&(u=d)}}return u||s}return s}function Zit(t,e,i,s){let u=S$(t,e.head,e.assoc||-1),d=!s||u.type!=Yi.Text||!(t.lineWrapping||u.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>u.from?e.head-1:e.head);if(d){let h=t.dom.getBoundingClientRect(),m=t.textDirectionAt(u.from),y=t.posAtCoords({x:i==(m==cr.LTR)?h.right-1:h.left+1,y:(d.top+d.bottom)/2});if(y!=null)return Ye.cursor(y,i?-1:1)}return Ye.cursor(i?u.to:u.from,i?-1:1)}function bre(t,e,i,s){let u=t.state.doc.lineAt(e.head),d=t.bidiSpans(u),h=t.textDirectionAt(u.from);for(let m=e,y=null;;){let _=bit(u,d,h,m,i),b=Cpe;if(!_){if(u.number==(i?t.state.doc.lines:1))return m;b=`
`,u=t.state.doc.line(u.number+(i?1:-1)),d=t.bidiSpans(u),_=t.visualLineSide(u,!i)}if(y){if(!y(b))return m}else{if(!s)return _;y=s(b)}m=_}}function Hit(t,e,i){let s=t.state.charCategorizer(e),u=s(i);return d=>{let h=s(d);return u==Sr.Space&&(u=h),u==h}}function Xit(t,e,i,s){let u=e.head,d=i?1:-1;if(u==(i?t.state.doc.length:0))return Ye.cursor(u,e.assoc);let h=e.goalColumn,m,y=t.contentDOM.getBoundingClientRect(),_=t.coordsAtPos(u,e.assoc||-1),b=t.documentTop;if(_)h==null&&(h=_.left-y.left),m=d<0?_.top:_.bottom;else{let D=t.viewState.lineBlockAt(u);h==null&&(h=Math.min(y.right-y.left,t.defaultCharacterWidth*(u-D.from))),m=(d<0?D.top:D.bottom)+b}let T=y.left+h,C=s??t.viewState.heightOracle.textHeight>>1,A=T$(t,{x:T,y:m+C*d},!1,d);return Ye.cursor(A.pos,A.assoc,void 0,h)}function i1(t,e,i){for(;;){let s=0;for(let u of t)u.between(e-1,e+1,(d,h,m)=>{if(e>d&&e<h){let y=s||i||(e-d<h-e?-1:1);e=y<0?d:h,s=y}});if(!s)return e}}function Fpe(t,e){let i=null;for(let s=0;s<e.ranges.length;s++){let u=e.ranges[s],d=null;if(u.empty){let h=i1(t,u.from,0);h!=u.from&&(d=Ye.cursor(h,-1))}else{let h=i1(t,u.from,-1),m=i1(t,u.to,1);(h!=u.from||m!=u.to)&&(d=Ye.range(u.from==u.anchor?h:m,u.from==u.head?h:m))}d&&(i||(i=e.ranges.slice()),i[s]=d)}return i?Ye.create(i,e.mainIndex):e}function BN(t,e,i){let s=i1(t.state.facet(V_).map(u=>u(t)),i.from,e.head>i.from?-1:1);return s==i.from?i:Ye.cursor(s,s<i.from?1:-1)}class Kl{constructor(e,i){this.pos=e,this.assoc=i}}function T$(t,e,i,s){let u=t.contentDOM.getBoundingClientRect(),d=u.top+t.viewState.paddingTop,{x:h,y:m}=e,y=m-d,_;for(;;){if(y<0)return new Kl(0,1);if(y>t.viewState.docHeight)return new Kl(t.state.doc.length,-1);if(_=t.elementAtHeight(y),s==null)break;if(_.type==Yi.Text){if(s<0?_.to<t.viewport.from:_.from>t.viewport.to)break;let C=t.docView.coordsAt(s<0?_.from:_.to,s);if(C&&(s<0?C.top<=y+d:C.bottom>=y+d))break}let T=t.viewState.heightOracle.textHeight/2;y=s>0?_.bottom+T:_.top-T}if(t.viewport.from>=_.to||t.viewport.to<=_.from){if(i)return null;if(_.type==Yi.Text){let T=qit(t,u,_,h,m);return new Kl(T,T==_.from?1:-1)}}if(_.type!=Yi.Text)return y<(_.top+_.bottom)/2?new Kl(_.from,1):new Kl(_.to,-1);let b=t.docView.lineAt(_.from,2);return(!b||b.length!=_.length)&&(b=t.docView.lineAt(_.from,-2)),Gpe(t,b,_.from,h,m)}function Gpe(t,e,i,s,u){let d=-1,h=null,m=1e9,y=1e9,_=u,b=u,T=(C,A)=>{for(let D=0;D<C.length;D++){let L=C[D];if(L.top==L.bottom)continue;let z=L.left>s?L.left-s:L.right<s?s-L.right:0,$=L.top>u?L.top-u:L.bottom<u?u-L.bottom:0;L.top<=b&&L.bottom>=_&&(_=Math.min(L.top,_),b=Math.max(L.bottom,b),$=0),(d<0||($-y||z-m)<0)&&(d>=0&&y&&m<z&&h.top<=b-2&&h.bottom>=_+2?y=0:(d=A,m=z,y=$,h=L))}};if(e.isText()){for(let A=0;A<e.length;){let D=Si(e.text,A);if(T(W1(e.dom,A,D).getClientRects(),A),!m&&!y)break;A=D}return s>(h.left+h.right)/2==(wre(t,d+i)==cr.LTR)?new Kl(i+Si(e.text,d),-1):new Kl(i+d,1)}else{if(!e.length)return new Kl(i,1);for(let L=0;L<e.children.length;L++){let z=e.children[L];if(z.flags&48)continue;let $=(z.dom.nodeType==1?z.dom:W1(z.dom,0,z.length)).getClientRects();if(T($,L),!m&&!y)break}let C=e.children[d],A=e.posBefore(C,i);return C.isComposite()||C.isText()?Gpe(t,C,A,Math.max(h.left,Math.min(h.right,s)),u):s>(h.left+h.right)/2==(wre(t,d+i)==cr.LTR)?new Kl(A+C.length,-1):new Kl(A,1)}}function wre(t,e){let i=t.state.doc.lineAt(e);return t.bidiSpans(i)[dc.find(t.bidiSpans(i),e-i.from,-1,1)].dir}const Lx="￿";class Yit{constructor(e,i){this.points=e,this.view=i,this.text="",this.lineSeparator=i.state.facet(Nn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Lx}readRange(e,i){if(!e)return this;let s=e.parentNode;for(let u=e;;){this.findPointBefore(s,u);let d=this.text.length;this.readNode(u);let h=si.get(u),m=u.nextSibling;if(m==i){h?.breakAfter&&!m&&s!=this.view.contentDOM&&this.lineBreak();break}let y=si.get(m);(h&&y?h.breakAfter:(h?h.breakAfter:dC(u))||dC(m)&&(u.nodeName!="BR"||h?.isWidget())&&this.text.length>d)&&!Jit(m,i)&&this.lineBreak(),u=m}return this.findPointBefore(s,i),this}readTextNode(e){let i=e.nodeValue;for(let s of this.points)s.node==e&&(s.pos=this.text.length+Math.min(s.offset,i.length));for(let s=0,u=this.lineSeparator?null:/\r\n?|\n/g;;){let d=-1,h=1,m;if(this.lineSeparator?(d=i.indexOf(this.lineSeparator,s),h=this.lineSeparator.length):(m=u.exec(i))&&(d=m.index,h=m[0].length),this.append(i.slice(s,d<0?i.length:d)),d<0)break;if(this.lineBreak(),h>1)for(let y of this.points)y.node==e&&y.pos>this.text.length&&(y.pos-=h-1);s=d+h}}readNode(e){let i=si.get(e),s=i&&i.overrideDOMText;if(s!=null){this.findPointInside(e,s.length);for(let u=s.iter();!u.next().done;)u.lineBreak?this.lineBreak():this.append(u.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,i){for(let s of this.points)s.node==e&&e.childNodes[s.offset]==i&&(s.pos=this.text.length)}findPointInside(e,i){for(let s of this.points)(e.nodeType==3?s.node==e:e.contains(s.node))&&(s.pos=this.text.length+(Kit(e,s.node,s.offset)?i:0))}}function Kit(t,e,i){for(;;){if(!e||i<yc(e))return!1;if(e==t)return!0;i=Ud(e)+1,e=e.parentNode}}function Jit(t,e){let i;for(;!(t==e||!t);t=t.nextSibling){let s=si.get(t);if(!s?.isWidget())return!1;s&&(i||(i=[])).push(s)}if(i)for(let s of i){let u=s.overrideDOMText;if(u?.length)return!1}return!0}class Sre{constructor(e,i){this.node=e,this.offset=i,this.pos=-1}}class eat{constructor(e,i,s,u){this.typeOver=u,this.bounds=null,this.text="",this.domChanged=i>-1;let{impreciseHead:d,impreciseAnchor:h}=e.docView;if(e.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=Wpe(e.docView.tile,i,s,0))){let m=d||h?[]:nat(e),y=new Yit(m,e);y.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=y.text,this.newSel=rat(m,this.bounds.from)}else{let m=e.observer.selectionRange,y=d&&d.node==m.focusNode&&d.offset==m.focusOffset||!y$(e.contentDOM,m.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(m.focusNode,m.focusOffset),_=h&&h.node==m.anchorNode&&h.offset==m.anchorOffset||!y$(e.contentDOM,m.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(m.anchorNode,m.anchorOffset),b=e.viewport;if((kt.ios||kt.chrome)&&e.state.selection.main.empty&&y!=_&&(b.from>0||b.to<e.state.doc.length)){let T=Math.min(y,_),C=Math.max(y,_),A=b.from-T,D=b.to-C;(A==0||A==1||T==0)&&(D==0||D==-1||C==e.state.doc.length)&&(y=0,_=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Ye.range(_,y)):this.newSel=Ye.single(_,y)}}}function Wpe(t,e,i,s){if(t.isComposite()){let u=-1,d=-1,h=-1,m=-1;for(let y=0,_=s,b=s;y<t.children.length;y++){let T=t.children[y],C=_+T.length;if(_<e&&C>i)return Wpe(T,e,i,_);if(C>=e&&u==-1&&(u=y,d=_),_>i&&T.dom.parentNode==t.dom){h=y,m=b;break}b=C,_=C+T.breakAfter}return{from:d,to:m<0?s+t.length:m,startDOM:(u?t.children[u-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:h<t.children.length&&h>=0?t.children[h].dom:null}}else return t.isText()?{from:s,to:s+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function Upe(t,e){let i,{newSel:s}=e,u=t.state.selection.main,d=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:h,to:m}=e.bounds,y=u.from,_=null;(d===8||kt.android&&e.text.length<m-h)&&(y=u.to,_="end");let b=qpe(t.state.doc.sliceString(h,m,Lx),e.text,y-h,_);b&&(kt.chrome&&d==13&&b.toB==b.from+2&&e.text.slice(b.from,b.toB)==Lx+Lx&&b.toB--,i={from:h+b.from,to:h+b.toA,insert:Zn.of(e.text.slice(b.from,b.toB).split(Lx))})}else s&&(!t.hasFocus&&t.state.facet(lc)||gC(s,u))&&(s=null);if(!i&&!s)return!1;if(!i&&e.typeOver&&!u.empty&&s&&s.main.empty?i={from:u.from,to:u.to,insert:t.state.doc.slice(u.from,u.to)}:(kt.mac||kt.android)&&i&&i.from==i.to&&i.from==u.head-1&&/^\. ?$/.test(i.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(s&&i.insert.length==2&&(s=Ye.single(s.main.anchor-1,s.main.head-1)),i={from:i.from,to:i.to,insert:Zn.of([i.insert.toString().replace("."," ")])}):i&&i.from>=u.from&&i.to<=u.to&&(i.from!=u.from||i.to!=u.to)&&u.to-u.from-(i.to-i.from)<=4?i={from:u.from,to:u.to,insert:t.state.doc.slice(u.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,u.to))}:t.state.doc.lineAt(u.from).to<u.to&&t.docView.lineHasWidget(u.to)&&t.inputState.insertingTextAt>Date.now()-50?i={from:u.from,to:u.to,insert:t.state.toText(t.inputState.insertingText)}:kt.chrome&&i&&i.from==i.to&&i.from==u.head&&i.insert.toString()==`
 `&&t.lineWrapping&&(s&&(s=Ye.single(s.main.anchor-1,s.main.head-1)),i={from:u.from,to:u.to,insert:Zn.of([" "])}),i)return MQ(t,i,s,d);if(s&&!gC(s,u)){let h=!1,m="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(h=!0),m=t.inputState.lastSelectionOrigin,m=="select.pointer"&&(s=Fpe(t.state.facet(V_).map(y=>y(t)),s))),t.dispatch({selection:s,scrollIntoView:h,userEvent:m}),!0}else return!1}function MQ(t,e,i,s=-1){if(kt.ios&&t.inputState.flushIOSKey(e))return!0;let u=t.state.selection.main;if(kt.android&&(e.to==u.to&&(e.from==u.from||e.from==u.from-1&&t.state.sliceDoc(e.from,u.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&qg(t.contentDOM,"Enter",13)||(e.from==u.from-1&&e.to==u.to&&e.insert.length==0||s==8&&e.insert.length<e.to-e.from&&e.to>u.head)&&qg(t.contentDOM,"Backspace",8)||e.from==u.from&&e.to==u.to+1&&e.insert.length==0&&qg(t.contentDOM,"Delete",46)))return!0;let d=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let h,m=()=>h||(h=tat(t,e,i));return t.state.facet(Mpe).some(y=>y(t,e.from,e.to,d,m))||t.dispatch(m()),!0}function tat(t,e,i){let s,u=t.state,d=u.selection.main,h=-1;if(e.from==e.to&&e.from<d.from||e.from>d.to){let y=e.from<d.from?-1:1,_=y<0?d.from:d.to,b=i1(u.facet(V_).map(T=>T(t)),_,y);e.from==b&&(h=b)}if(h>-1)s={changes:e,selection:Ye.cursor(e.from+e.insert.length,-1)};else if(e.from>=d.from&&e.to<=d.to&&e.to-e.from>=(d.to-d.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let y=d.from<e.from?u.sliceDoc(d.from,e.from):"",_=d.to>e.to?u.sliceDoc(e.to,d.to):"";s=u.replaceSelection(t.state.toText(y+e.insert.sliceString(0,void 0,t.state.lineBreak)+_))}else{let y=u.changes(e),_=i&&i.main.to<=y.newLength?i.main:void 0;if(u.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=d.to+10&&e.to>=d.to-10){let b=t.state.sliceDoc(e.from,e.to),T,C=i&&Vpe(t,i.main.head);if(C){let D=e.insert.length-(e.to-e.from);T={from:C.from,to:C.to-D}}else T=t.state.doc.lineAt(d.head);let A=d.to-e.to;s=u.changeByRange(D=>{if(D.from==d.from&&D.to==d.to)return{changes:y,range:_||D.map(y)};let L=D.to-A,z=L-b.length;if(t.state.sliceDoc(z,L)!=b||L>=T.from&&z<=T.to)return{range:D};let $=u.changes({from:z,to:L,insert:e.insert}),Q=D.to-d.to;return{changes:$,range:_?Ye.range(Math.max(0,_.anchor+Q),Math.max(0,_.head+Q)):D.map($)}})}else s={changes:y,selection:_&&u.selection.replaceRange(_)}}let m="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,m+=".compose",t.inputState.compositionFirstChange&&(m+=".start",t.inputState.compositionFirstChange=!1)),u.update(s,{userEvent:m,scrollIntoView:!0})}function qpe(t,e,i,s){let u=Math.min(t.length,e.length),d=0;for(;d<u&&t.charCodeAt(d)==e.charCodeAt(d);)d++;if(d==u&&t.length==e.length)return null;let h=t.length,m=e.length;for(;h>0&&m>0&&t.charCodeAt(h-1)==e.charCodeAt(m-1);)h--,m--;if(s=="end"){let y=Math.max(0,d-Math.min(h,m));i-=h+y-d}if(h<d&&t.length<e.length){let y=i<=d&&i>=h?d-i:0;d-=y,m=d+(m-h),h=d}else if(m<d){let y=i<=d&&i>=m?d-i:0;d-=y,h=d+(h-m),m=d}return{from:d,toA:h,toB:m}}function nat(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:s,focusNode:u,focusOffset:d}=t.observer.selectionRange;return i&&(e.push(new Sre(i,s)),(u!=i||d!=s)&&e.push(new Sre(u,d))),e}function rat(t,e){if(t.length==0)return null;let i=t[0].pos,s=t.length==2?t[1].pos:i;return i>-1&&s>-1?Ye.single(i+e,s+e):null}function gC(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class iat{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,kt.safari&&e.contentDOM.addEventListener("input",()=>null),kt.gecko&&xat(e.contentDOM.ownerDocument)}handleEvent(e){!fat(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,i){let s=this.handlers[e];if(s){for(let u of s.observers)u(this.view,i);for(let u of s.handlers){if(i.defaultPrevented)break;if(u(this.view,i)){i.preventDefault();break}}}}ensureHandlers(e){let i=aat(e),s=this.handlers,u=this.view.contentDOM;for(let d in i)if(d!="scroll"){let h=!i[d].handlers.length,m=s[d];m&&h!=!m.handlers.length&&(u.removeEventListener(d,this.handleEvent),m=null),m||u.addEventListener(d,this.handleEvent,{passive:h})}for(let d in s)d!="scroll"&&!i[d]&&u.removeEventListener(d,this.handleEvent);this.handlers=i}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Hpe.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),kt.android&&kt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return kt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((i=Zpe.find(s=>s.keyCode==e.keyCode))&&!e.ctrlKey||oat.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=i||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let i=this.pendingIOSKey;return!i||i.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,qg(this.view.contentDOM,i.key,i.keyCode,i instanceof KeyboardEvent?i:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:kt.safari&&!kt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Tre(t,e){return(i,s)=>{try{return e.call(t,s,i)}catch(u){Ja(i.state,u)}}}function aat(t){let e=Object.create(null);function i(s){return e[s]||(e[s]={observers:[],handlers:[]})}for(let s of t){let u=s.spec,d=u&&u.plugin.domEventHandlers,h=u&&u.plugin.domEventObservers;if(d)for(let m in d){let y=d[m];y&&i(m).handlers.push(Tre(s.value,y))}if(h)for(let m in h){let y=h[m];y&&i(m).observers.push(Tre(s.value,y))}}for(let s in Ys)i(s).handlers.push(Ys[s]);for(let s in ms)i(s).observers.push(ms[s]);return e}const Zpe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],oat="dthko",Hpe=[16,17,18,20,91,92,224,225],mS=6;function gS(t){return Math.max(0,t)*.7+8}function sat(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class lat{constructor(e,i,s,u){this.view=e,this.startEvent=i,this.style=s,this.mustSelect=u,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParents=dit(e.contentDOM),this.atoms=e.state.facet(V_).map(h=>h(e));let d=e.contentDOM.ownerDocument;d.addEventListener("mousemove",this.move=this.move.bind(this)),d.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=e.state.facet(Nn.allowMultipleSelections)&&uat(e,i),this.dragging=dat(e,i)&&Kpe(i)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&sat(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,s=0,u=0,d=0,h=this.view.win.innerWidth,m=this.view.win.innerHeight;this.scrollParents.x&&({left:u,right:h}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:d,bottom:m}=this.scrollParents.y.getBoundingClientRect());let y=EQ(this.view);e.clientX-y.left<=u+mS?i=-gS(u-e.clientX):e.clientX+y.right>=h-mS&&(i=gS(e.clientX-h)),e.clientY-y.top<=d+mS?s=-gS(d-e.clientY):e.clientY+y.bottom>=m-mS&&(s=gS(e.clientY-m)),this.setScrollSpeed(i,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,i){this.scrollSpeed={x:e,y:i},e||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:i}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),i&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i,i=0),(e||i)&&this.view.win.scrollBy(e,i),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:i}=this,s=Fpe(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!s.eq(i.state.selection,this.dragging===!1))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(i=>i.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function uat(t,e){let i=t.state.facet(kpe);return i.length?i[0](e):kt.mac?e.metaKey:e.ctrlKey}function cat(t,e){let i=t.state.facet(Ape);return i.length?i[0](e):kt.mac?!e.altKey:!e.ctrlKey}function dat(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let s=ov(t.root);if(!s||s.rangeCount==0)return!0;let u=s.getRangeAt(0).getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(h.left<=e.clientX&&h.right>=e.clientX&&h.top<=e.clientY&&h.bottom>=e.clientY)return!0}return!1}function fat(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i=e.target,s;i!=t.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(s=si.get(i))&&s.isWidget()&&!s.isHidden&&s.widget.ignoreEvent(e))return!1;return!0}const Ys=Object.create(null),ms=Object.create(null),Xpe=kt.ie&&kt.ie_version<15||kt.ios&&kt.webkit_version<604;function hat(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),Ype(t,i.value)},50)}function uA(t,e,i){for(let s of t.facet(e))i=s(i,t);return i}function Ype(t,e){e=uA(t.state,CQ,e);let{state:i}=t,s,u=1,d=i.toText(e),h=d.lines==i.selection.ranges.length;if(C$!=null&&i.selection.ranges.every(y=>y.empty)&&C$==d.toString()){let y=-1;s=i.changeByRange(_=>{let b=i.doc.lineAt(_.from);if(b.from==y)return{range:_};y=b.from;let T=i.toText((h?d.line(u++).text:e)+i.lineBreak);return{changes:{from:b.from,insert:T},range:Ye.cursor(_.from+T.length)}})}else h?s=i.changeByRange(y=>{let _=d.line(u++);return{changes:{from:y.from,to:y.to,insert:_.text},range:Ye.cursor(y.from+_.length)}}):s=i.replaceSelection(d);t.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}ms.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Ys.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);ms.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};ms.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Ys.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let i=null;for(let s of t.state.facet(Ppe))if(i=s(t,e),i)break;if(!i&&e.button==0&&(i=mat(t,e)),i){let s=!t.hasFocus;t.inputState.startMouseSelection(new lat(t,e,i,s)),s&&t.observer.ignore(()=>{ype(t.contentDOM);let d=t.root.activeElement;d&&!d.contains(t.contentDOM)&&d.blur()});let u=t.inputState.mouseSelection;if(u)return u.start(e),u.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function Cre(t,e,i,s){if(s==1)return Ye.cursor(e,i);if(s==2)return Uit(t.state,e,i);{let u=t.docView.lineAt(e,i),d=t.state.doc.lineAt(u?u.posAtEnd:e),h=u?u.posAtStart:d.from,m=u?u.posAtEnd:d.to;return m<t.state.doc.length&&m==d.to&&m++,Ye.range(h,m)}}const pat=kt.ie&&kt.ie_version<=11;let kre=null,Are=0,Pre=0;function Kpe(t){if(!pat)return t.detail;let e=kre,i=Pre;return kre=t,Pre=Date.now(),Are=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Are+1)%3:1}function mat(t,e){let i=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),s=Kpe(e),u=t.state.selection;return{update(d){d.docChanged&&(i.pos=d.changes.mapPos(i.pos),u=u.map(d.changes))},get(d,h,m){let y=t.posAndSideAtCoords({x:d.clientX,y:d.clientY},!1),_,b=Cre(t,y.pos,y.assoc,s);if(i.pos!=y.pos&&!h){let T=Cre(t,i.pos,i.assoc,s),C=Math.min(T.from,b.from),A=Math.max(T.to,b.to);b=C<b.from?Ye.range(C,A):Ye.range(A,C)}return h?u.replaceRange(u.main.extend(b.from,b.to)):m&&s==1&&u.ranges.length>1&&(_=gat(u,y.pos))?_:m?u.addRange(b):Ye.create([b])}}}function gat(t,e){for(let i=0;i<t.ranges.length;i++){let{from:s,to:u}=t.ranges[i];if(s<=e&&u>=e)return Ye.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}Ys.dragstart=(t,e)=>{let{selection:{main:i}}=t.state;if(e.target.draggable){let u=t.docView.tile.nearest(e.target);if(u&&u.isWidget()){let d=u.posAtStart,h=d+u.length;(d>=i.to||h<=i.from)&&(i=Ye.range(d,h))}}let{inputState:s}=t;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=i,e.dataTransfer&&(e.dataTransfer.setData("Text",uA(t.state,kQ,t.state.sliceDoc(i.from,i.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ys.dragend=t=>(t.inputState.draggedContent=null,!1);function Ere(t,e,i,s){if(i=uA(t.state,CQ,i),!i)return;let u=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:d}=t.inputState,h=s&&d&&cat(t,e)?{from:d.from,to:d.to}:null,m={from:u,insert:i},y=t.state.changes(h?[h,m]:m);t.focus(),t.dispatch({changes:y,selection:{anchor:y.mapPos(u,-1),head:y.mapPos(u,1)},userEvent:h?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ys.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let i=e.dataTransfer.files;if(i&&i.length){let s=Array(i.length),u=0,d=()=>{++u==i.length&&Ere(t,e,s.filter(h=>h!=null).join(t.state.lineBreak),!1)};for(let h=0;h<i.length;h++){let m=new FileReader;m.onerror=d,m.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(m.result)||(s[h]=m.result),d()},m.readAsText(i[h])}return!0}else{let s=e.dataTransfer.getData("Text");if(s)return Ere(t,e,s,!0),!0}return!1};Ys.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let i=Xpe?null:e.clipboardData;return i?(Ype(t,i.getData("text/plain")||i.getData("text/uri-list")),!0):(hat(t),!1)};function vat(t,e){let i=t.dom.parentNode;if(!i)return;let s=i.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=e,s.focus(),s.selectionEnd=e.length,s.selectionStart=0,setTimeout(()=>{s.remove(),t.focus()},50)}function yat(t){let e=[],i=[],s=!1;for(let u of t.selection.ranges)u.empty||(e.push(t.sliceDoc(u.from,u.to)),i.push(u));if(!e.length){let u=-1;for(let{from:d}of t.selection.ranges){let h=t.doc.lineAt(d);h.number>u&&(e.push(h.text),i.push({from:h.from,to:Math.min(t.doc.length,h.to+1)})),u=h.number}s=!0}return{text:uA(t,kQ,e.join(t.lineBreak)),ranges:i,linewise:s}}let C$=null;Ys.copy=Ys.cut=(t,e)=>{let i=ov(t.root);if(i&&!n1(t.contentDOM,i))return!1;let{text:s,ranges:u,linewise:d}=yat(t.state);if(!s&&!d)return!1;C$=d?s:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:u,scrollIntoView:!0,userEvent:"delete.cut"});let h=Xpe?null:e.clipboardData;return h?(h.clearData(),h.setData("text/plain",s),!0):(vat(t,s),!1)};const Jpe=Tc.define();function eme(t,e){let i=[];for(let s of t.facet(Dpe)){let u=s(t,e);u&&i.push(u)}return i.length?t.update({effects:i,annotations:Jpe.of(!0)}):null}function tme(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=eme(t.state,e);i?t.dispatch(i):t.update([])}},10)}ms.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),tme(t)};ms.blur=t=>{t.observer.clearSelectionRange(),tme(t)};ms.compositionstart=ms.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};ms.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,kt.chrome&&kt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};ms.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ys.beforeinput=(t,e)=>{var i,s;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let d=(i=e.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain"),h=e.getTargetRanges();if(d&&h.length){let m=h[0],y=t.posAtDOM(m.startContainer,m.startOffset),_=t.posAtDOM(m.endContainer,m.endOffset);return MQ(t,{from:y,to:_,insert:t.state.toText(d)},null),!0}}let u;if(kt.chrome&&kt.android&&(u=Zpe.find(d=>d.inputType==e.inputType))&&(t.observer.delayAndroidKey(u.key,u.keyCode),u.key=="Backspace"||u.key=="Delete")){let d=((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0;setTimeout(()=>{var h;(((h=window.visualViewport)===null||h===void 0?void 0:h.height)||0)>d+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return kt.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),kt.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>ms.compositionend(t,e),20),!1};const Mre=new Set;function xat(t){Mre.has(t)||(Mre.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Dre=["pre-wrap","normal","pre-line","break-spaces"];let uv=!1;function Ire(){uv=!1}class _at{constructor(e){this.lineWrapping=e,this.doc=Zn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,i){let s=this.doc.lineAt(i).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((i-e-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Dre.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let i=!1;for(let s=0;s<e.length;s++){let u=e[s];u<0?s++:this.heightSamples[Math.floor(u*10)]||(i=!0,this.heightSamples[Math.floor(u*10)]=!0)}return i}refresh(e,i,s,u,d,h){let m=Dre.indexOf(e)>-1,y=Math.abs(i-this.lineHeight)>.3||this.lineWrapping!=m||Math.abs(s-this.charWidth)>.1;if(this.lineWrapping=m,this.lineHeight=i,this.charWidth=s,this.textHeight=u,this.lineLength=d,y){this.heightSamples={};for(let _=0;_<h.length;_++){let b=h[_];b<0?_++:this.heightSamples[Math.floor(b*10)]=!0}}return y}}class Oat{constructor(e,i){this.from=e,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class Ws{constructor(e,i,s,u,d){this.from=e,this.length=i,this.top=s,this.height=u,this._content=d}get type(){return typeof this._content=="number"?Yi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof up?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ws(this.from,this.length+e.length,this.top,this.height+e.height,i)}}var mr=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(mr||(mr={}));const gT=.001;class Pa{constructor(e,i,s=2){this.length=e,this.height=i,this.flags=s}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>gT&&(uv=!0),this.height=e)}replace(e,i,s){return Pa.of(s)}decomposeLeft(e,i){i.push(this)}decomposeRight(e,i){i.push(this)}applyChanges(e,i,s,u){let d=this,h=s.doc;for(let m=u.length-1;m>=0;m--){let{fromA:y,toA:_,fromB:b,toB:T}=u[m],C=d.lineAt(y,mr.ByPosNoHeight,s.setDoc(i),0,0),A=C.to>=_?C:d.lineAt(_,mr.ByPosNoHeight,s,0,0);for(T+=A.to-_,_=A.to;m>0&&C.from<=u[m-1].toA;)y=u[m-1].fromA,b=u[m-1].fromB,m--,y<C.from&&(C=d.lineAt(y,mr.ByPosNoHeight,s,0,0));b+=C.from-y,y=C.from;let D=DQ.build(s.setDoc(h),e,b,T);d=vC(d,d.replace(y,_,D))}return d.updateHeight(s,0)}static empty(){return new Mo(0,0,0)}static of(e){if(e.length==1)return e[0];let i=0,s=e.length,u=0,d=0;for(;;)if(i==s)if(u>d*2){let m=e[i-1];m.break?e.splice(--i,1,m.left,null,m.right):e.splice(--i,1,m.left,m.right),s+=1+m.break,u-=m.size}else if(d>u*2){let m=e[s];m.break?e.splice(s,1,m.left,null,m.right):e.splice(s,1,m.left,m.right),s+=2+m.break,d-=m.size}else break;else if(u<d){let m=e[i++];m&&(u+=m.size)}else{let m=e[--s];m&&(d+=m.size)}let h=0;return e[i-1]==null?(h=1,i--):e[i]==null&&(h=1,s++),new wat(Pa.of(e.slice(0,i)),h,Pa.of(e.slice(s)))}}function vC(t,e){return t==e?t:(t.constructor!=e.constructor&&(uv=!0),e)}Pa.prototype.size=1;const bat=Wt.replace({});class nme extends Pa{constructor(e,i,s){super(e,i),this.deco=s,this.spaceAbove=0}mainBlock(e,i){return new Ws(i,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,i,s,u){return this.spaceAbove&&e<s+this.spaceAbove?new Ws(u,0,s,this.spaceAbove,bat):this.mainBlock(s,u)}lineAt(e,i,s,u,d){let h=this.mainBlock(u,d);return this.spaceAbove?this.blockAt(0,s,u,d).join(h):h}forEachLine(e,i,s,u,d,h){e<=d+this.length&&i>=d&&h(this.lineAt(0,mr.ByPos,s,u,d))}setMeasuredHeight(e){let i=e.heights[e.index++];i<0?(this.spaceAbove=-i,i=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(i)}updateHeight(e,i=0,s=!1,u){return u&&u.from<=i&&u.more&&this.setMeasuredHeight(u),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Mo extends nme{constructor(e,i,s){super(e,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=s}mainBlock(e,i){return new Ws(i,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,i,s){let u=s[0];return s.length==1&&(u instanceof Mo||u instanceof qi&&u.flags&4)&&Math.abs(this.length-u.length)<10?(u instanceof qi?u=new Mo(u.length,this.height,this.spaceAbove):u.height=this.height,this.outdated||(u.outdated=!1),u):Pa.of(s)}updateHeight(e,i=0,s=!1,u){return u&&u.from<=i&&u.more?this.setMeasuredHeight(u):(s||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class qi extends Pa{constructor(e){super(e,0)}heightMetrics(e,i){let s=e.doc.lineAt(i).number,u=e.doc.lineAt(i+this.length).number,d=u-s+1,h,m=0;if(e.lineWrapping){let y=Math.min(this.height,e.lineHeight*d);h=y/d,this.length>d+1&&(m=(this.height-y)/(this.length-d-1))}else h=this.height/d;return{firstLine:s,lastLine:u,perLine:h,perChar:m}}blockAt(e,i,s,u){let{firstLine:d,lastLine:h,perLine:m,perChar:y}=this.heightMetrics(i,u);if(i.lineWrapping){let _=u+(e<i.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-s)/this.height))*this.length)),b=i.doc.lineAt(_),T=m+b.length*y,C=Math.max(s,e-T/2);return new Ws(b.from,b.length,C,T,0)}else{let _=Math.max(0,Math.min(h-d,Math.floor((e-s)/m))),{from:b,length:T}=i.doc.line(d+_);return new Ws(b,T,s+m*_,m,0)}}lineAt(e,i,s,u,d){if(i==mr.ByHeight)return this.blockAt(e,s,u,d);if(i==mr.ByPosNoHeight){let{from:A,to:D}=s.doc.lineAt(e);return new Ws(A,D-A,0,0,0)}let{firstLine:h,perLine:m,perChar:y}=this.heightMetrics(s,d),_=s.doc.lineAt(e),b=m+_.length*y,T=_.number-h,C=u+m*T+y*(_.from-d-T);return new Ws(_.from,_.length,Math.max(u,Math.min(C,u+this.height-b)),b,0)}forEachLine(e,i,s,u,d,h){e=Math.max(e,d),i=Math.min(i,d+this.length);let{firstLine:m,perLine:y,perChar:_}=this.heightMetrics(s,d);for(let b=e,T=u;b<=i;){let C=s.doc.lineAt(b);if(b==e){let D=C.number-m;T+=y*D+_*(e-d-D)}let A=y+_*C.length;h(new Ws(C.from,C.length,T,A,0)),T+=A,b=C.to+1}}replace(e,i,s){let u=this.length-i;if(u>0){let d=s[s.length-1];d instanceof qi?s[s.length-1]=new qi(d.length+u):s.push(null,new qi(u-1))}if(e>0){let d=s[0];d instanceof qi?s[0]=new qi(e+d.length):s.unshift(new qi(e-1),null)}return Pa.of(s)}decomposeLeft(e,i){i.push(new qi(e-1),null)}decomposeRight(e,i){i.push(null,new qi(this.length-e-1))}updateHeight(e,i=0,s=!1,u){let d=i+this.length;if(u&&u.from<=i+this.length&&u.more){let h=[],m=Math.max(i,u.from),y=-1;for(u.from>i&&h.push(new qi(u.from-i-1).updateHeight(e,i));m<=d&&u.more;){let b=e.doc.lineAt(m).length;h.length&&h.push(null);let T=u.heights[u.index++],C=0;T<0&&(C=-T,T=u.heights[u.index++]),y==-1?y=T:Math.abs(T-y)>=gT&&(y=-2);let A=new Mo(b,T,C);A.outdated=!1,h.push(A),m+=b+1}m<=d&&h.push(null,new qi(d-m).updateHeight(e,m));let _=Pa.of(h);return(y<0||Math.abs(_.height-this.height)>=gT||Math.abs(y-this.heightMetrics(e,i).perLine)>=gT)&&(uv=!0),vC(this,_)}else(s||this.outdated)&&(this.setHeight(e.heightForGap(i,i+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class wat extends Pa{constructor(e,i,s){super(e.length+i+s.length,e.height+s.height,i|(e.outdated||s.outdated?2:0)),this.left=e,this.right=s,this.size=e.size+s.size}get break(){return this.flags&1}blockAt(e,i,s,u){let d=s+this.left.height;return e<d?this.left.blockAt(e,i,s,u):this.right.blockAt(e,i,d,u+this.left.length+this.break)}lineAt(e,i,s,u,d){let h=u+this.left.height,m=d+this.left.length+this.break,y=i==mr.ByHeight?e<h:e<m,_=y?this.left.lineAt(e,i,s,u,d):this.right.lineAt(e,i,s,h,m);if(this.break||(y?_.to<m:_.from>m))return _;let b=i==mr.ByPosNoHeight?mr.ByPosNoHeight:mr.ByPos;return y?_.join(this.right.lineAt(m,b,s,h,m)):this.left.lineAt(m,b,s,u,d).join(_)}forEachLine(e,i,s,u,d,h){let m=u+this.left.height,y=d+this.left.length+this.break;if(this.break)e<y&&this.left.forEachLine(e,i,s,u,d,h),i>=y&&this.right.forEachLine(e,i,s,m,y,h);else{let _=this.lineAt(y,mr.ByPos,s,u,d);e<_.from&&this.left.forEachLine(e,_.from-1,s,u,d,h),_.to>=e&&_.from<=i&&h(_),i>_.to&&this.right.forEachLine(_.to+1,i,s,m,y,h)}}replace(e,i,s){let u=this.left.length+this.break;if(i<u)return this.balanced(this.left.replace(e,i,s),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-u,i-u,s));let d=[];e>0&&this.decomposeLeft(e,d);let h=d.length;for(let m of s)d.push(m);if(e>0&&Rre(d,h-1),i<this.length){let m=d.length;this.decomposeRight(i,d),Rre(d,m)}return Pa.of(d)}decomposeLeft(e,i){let s=this.left.length;if(e<=s)return this.left.decomposeLeft(e,i);i.push(this.left),this.break&&(s++,e>=s&&i.push(null)),e>s&&this.right.decomposeLeft(e-s,i)}decomposeRight(e,i){let s=this.left.length,u=s+this.break;if(e>=u)return this.right.decomposeRight(e-u,i);e<s&&this.left.decomposeRight(e,i),this.break&&e<u&&i.push(null),i.push(this.right)}balanced(e,i){return e.size>2*i.size||i.size>2*e.size?Pa.of(this.break?[e,null,i]:[e,i]):(this.left=vC(this.left,e),this.right=vC(this.right,i),this.setHeight(e.height+i.height),this.outdated=e.outdated||i.outdated,this.size=e.size+i.size,this.length=e.length+this.break+i.length,this)}updateHeight(e,i=0,s=!1,u){let{left:d,right:h}=this,m=i+d.length+this.break,y=null;return u&&u.from<=i+d.length&&u.more?y=d=d.updateHeight(e,i,s,u):d.updateHeight(e,i,s),u&&u.from<=m+h.length&&u.more?y=h=h.updateHeight(e,m,s,u):h.updateHeight(e,m,s),y?this.balanced(d,h):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Rre(t,e){let i,s;t[e]==null&&(i=t[e-1])instanceof qi&&(s=t[e+1])instanceof qi&&t.splice(e-1,3,new qi(i.length+1+s.length))}const Sat=5;class DQ{constructor(e,i){this.pos=e,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,i){if(this.lineStart>-1){let s=Math.min(i,this.lineEnd),u=this.nodes[this.nodes.length-1];u instanceof Mo?u.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new Mo(s-this.pos,-1,0)),this.writtenTo=s,i>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(e,i,s){if(e<i||s.heightRelevant){let u=s.widget?s.widget.estimatedHeight:0,d=s.widget?s.widget.lineBreaks:0;u<0&&(u=this.oracle.lineHeight);let h=i-e;s.block?this.addBlock(new nme(h,u,s)):(h||d||u>=Sat)&&this.addLineDeco(u,d,h)}else i>e&&this.span(e,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=i,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Mo(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,i){let s=new qi(i-e);return this.oracle.doc.lineAt(e).to==i&&(s.flags|=4),s}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Mo)return e;let i=new Mo(0,-1,0);return this.nodes.push(i),i}addBlock(e){this.enterLine();let i=e.deco;i&&i.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i&&i.endSide>0&&(this.covering=e)}addLineDeco(e,i,s){let u=this.ensureLine();u.length+=s,u.collapsed+=s,u.widgetHeight=Math.max(u.widgetHeight,e),u.breaks+=i,this.writtenTo=this.pos=this.pos+s}finish(e){let i=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(i instanceof Mo)&&!this.isCovered?this.nodes.push(new Mo(0,-1,0)):(this.writtenTo<this.pos||i==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let s=e;for(let u of this.nodes)u instanceof Mo&&u.updateHeight(this.oracle,s),s+=u?u.length:1;return this.nodes}static build(e,i,s,u){let d=new DQ(s,e);return kn.spans(i,s,u,d,0),d.finish(s)}}function Tat(t,e,i){let s=new Cat;return kn.compare(t,e,i,s,0),s.changes}class Cat{constructor(){this.changes=[]}compareRange(){}comparePoint(e,i,s,u){(e<i||s&&s.heightRelevant||u&&u.heightRelevant)&&Ug(e,i,this.changes,5)}}function kat(t,e){let i=t.getBoundingClientRect(),s=t.ownerDocument,u=s.defaultView||window,d=Math.max(0,i.left),h=Math.min(u.innerWidth,i.right),m=Math.max(0,i.top),y=Math.min(u.innerHeight,i.bottom);for(let _=t.parentNode;_&&_!=s.body;)if(_.nodeType==1){let b=_,T=window.getComputedStyle(b);if((b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth)&&T.overflow!="visible"){let C=b.getBoundingClientRect();d=Math.max(d,C.left),h=Math.min(h,C.right),m=Math.max(m,C.top),y=Math.min(_==t.parentNode?u.innerHeight:y,C.bottom)}_=T.position=="absolute"||T.position=="fixed"?b.offsetParent:b.parentNode}else if(_.nodeType==11)_=_.host;else break;return{left:d-i.left,right:Math.max(d,h)-i.left,top:m-(i.top+e),bottom:Math.max(m,y)-(i.top+e)}}function Aat(t){let e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView||window;return e.left<i.innerWidth&&e.right>0&&e.top<i.innerHeight&&e.bottom>0}function Pat(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}class QN{constructor(e,i,s,u){this.from=e,this.to=i,this.size=s,this.displaySize=u}static same(e,i){if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){let u=e[s],d=i[s];if(u.from!=d.from||u.to!=d.to||u.size!=d.size)return!1}return!0}draw(e,i){return Wt.replace({widget:new Eat(this.displaySize*(i?e.scaleY:e.scaleX),i)}).range(this.from,this.to)}}class Eat extends gu{constructor(e,i){super(),this.size=e,this.vertical=i}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Lre{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Nre,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=cr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=e.facet(AQ).some(s=>typeof s!="function"&&s.class=="cm-lineWrapping");this.heightOracle=new _at(i),this.stateDeco=$re(e),this.heightMap=Pa.empty().applyChanges(this.stateDeco,Zn.empty,this.heightOracle.setDoc(e.doc),[new ss(0,0,0,e.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Wt.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:i}=this.state.selection;for(let s=0;s<=1;s++){let u=s?i.head:i.anchor;if(!e.some(({from:d,to:h})=>u>=d&&u<=h)){let{from:d,to:h}=this.lineBlockAt(u);e.push(new vS(d,h))}}return this.viewports=e.sort((s,u)=>s.from-u.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Nre:new IQ(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Nx(e,this.scaler))})}update(e,i=null){this.state=e.state;let s=this.stateDeco;this.stateDeco=$re(this.state);let u=e.changedRanges,d=ss.extendWithRanges(u,Tat(s,this.stateDeco,e?e.changes:Oi.empty(this.state.doc.length))),h=this.heightMap.height,m=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ire(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),d),(this.heightMap.height!=h||uv)&&(e.flags|=2),m?(this.scrollAnchorPos=e.changes.mapPos(m.from,-1),this.scrollAnchorHeight=m.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=h);let y=d.length?this.mapViewport(this.viewport,e.changes):this.viewport;(i&&(i.range.head<y.from||i.range.head>y.to)||!this.viewportIsAppropriate(y))&&(y=this.getViewport(0,i));let _=y.from!=this.viewport.from||y.to!=this.viewport.to;this.viewport=y,e.flags|=this.updateForViewport(),(_||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Rpe)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let i=e.contentDOM,s=window.getComputedStyle(i),u=this.heightOracle,d=s.whiteSpace;this.defaultTextDirection=s.direction=="rtl"?cr.RTL:cr.LTR;let h=this.heightOracle.mustRefreshForWrapping(d)||this.mustMeasureContent,m=i.getBoundingClientRect(),y=h||this.mustMeasureContent||this.contentDOMHeight!=m.height;this.contentDOMHeight=m.height,this.mustMeasureContent=!1;let _=0,b=0;if(m.width&&m.height){let{scaleX:q,scaleY:Y}=vpe(i,m);(q>.005&&Math.abs(this.scaleX-q)>.005||Y>.005&&Math.abs(this.scaleY-Y)>.005)&&(this.scaleX=q,this.scaleY=Y,_|=16,h=y=!0)}let T=(parseInt(s.paddingTop)||0)*this.scaleY,C=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=T||this.paddingBottom!=C)&&(this.paddingTop=T,this.paddingBottom=C,_|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(u.lineWrapping&&(y=!0),this.editorWidth=e.scrollDOM.clientWidth,_|=16);let A=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=A&&(this.scrollAnchorHeight=-1,this.scrollTop=A),this.scrolledToBottom=xpe(e.scrollDOM);let D=(this.printing?Pat:kat)(i,this.paddingTop),L=D.top-this.pixelViewport.top,z=D.bottom-this.pixelViewport.bottom;this.pixelViewport=D;let $=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if($!=this.inView&&(this.inView=$,$&&(y=!0)),!this.inView&&!this.scrollTarget&&!Aat(e.dom))return 0;let Q=m.width;if((this.contentDOMWidth!=Q||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=m.width,this.editorHeight=e.scrollDOM.clientHeight,_|=16),y){let q=e.docView.measureVisibleLineHeights(this.viewport);if(u.mustRefreshForHeights(q)&&(h=!0),h||u.lineWrapping&&Math.abs(Q-this.contentDOMWidth)>u.charWidth){let{lineHeight:Y,charWidth:G,textHeight:H}=e.docView.measureTextSize();h=Y>0&&u.refresh(d,Y,G,H,Math.max(5,Q/G),q),h&&(e.docView.minWidth=0,_|=16)}L>0&&z>0?b=Math.max(L,z):L<0&&z<0&&(b=Math.min(L,z)),Ire();for(let Y of this.viewports){let G=Y.from==this.viewport.from?q:e.docView.measureVisibleLineHeights(Y);this.heightMap=(h?Pa.empty().applyChanges(this.stateDeco,Zn.empty,this.heightOracle,[new ss(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(u,0,h,new Oat(Y.from,G))}uv&&(_|=2)}let B=!this.viewportIsAppropriate(this.viewport,b)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(_&2&&(_|=this.updateScaler()),this.viewport=this.getViewport(b,this.scrollTarget),_|=this.updateForViewport()),(_&2||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps,e)),_|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),_}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,i){let s=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),u=this.heightMap,d=this.heightOracle,{visibleTop:h,visibleBottom:m}=this,y=new vS(u.lineAt(h-s*1e3,mr.ByHeight,d,0,0).from,u.lineAt(m+(1-s)*1e3,mr.ByHeight,d,0,0).to);if(i){let{head:_}=i.range;if(_<y.from||_>y.to){let b=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),T=u.lineAt(_,mr.ByPos,d,0,0),C;i.y=="center"?C=(T.top+T.bottom)/2-b/2:i.y=="start"||i.y=="nearest"&&_<y.from?C=T.top:C=T.bottom-b,y=new vS(u.lineAt(C-1e3/2,mr.ByHeight,d,0,0).from,u.lineAt(C+b+1e3/2,mr.ByHeight,d,0,0).to)}}return y}mapViewport(e,i){let s=i.mapPos(e.from,-1),u=i.mapPos(e.to,1);return new vS(this.heightMap.lineAt(s,mr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(u,mr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:i},s=0){if(!this.inView)return!0;let{top:u}=this.heightMap.lineAt(e,mr.ByPos,this.heightOracle,0,0),{bottom:d}=this.heightMap.lineAt(i,mr.ByPos,this.heightOracle,0,0),{visibleTop:h,visibleBottom:m}=this;return(e==0||u<=h-Math.max(10,Math.min(-s,250)))&&(i==this.state.doc.length||d>=m+Math.max(10,Math.min(s,250)))&&u>h-2*1e3&&d<m+2*1e3}mapLineGaps(e,i){if(!e.length||i.empty)return e;let s=[];for(let u of e)i.touchesRange(u.from,u.to)||s.push(new QN(i.mapPos(u.from),i.mapPos(u.to),u.size,u.displaySize));return s}ensureLineGaps(e,i){let s=this.heightOracle.lineWrapping,u=s?1e4:2e3,d=u>>1,h=u<<1;if(this.defaultTextDirection!=cr.LTR&&!s)return[];let m=[],y=(b,T,C,A)=>{if(T-b<d)return;let D=this.state.selection.main,L=[D.from];D.empty||L.push(D.to);for(let $ of L)if($>b&&$<T){y(b,$-10,C,A),y($+10,T,C,A);return}let z=Dat(e,$=>$.from>=C.from&&$.to<=C.to&&Math.abs($.from-b)<d&&Math.abs($.to-T)<d&&!L.some(Q=>$.from<Q&&$.to>Q));if(!z){if(T<C.to&&i&&s&&i.visibleRanges.some(B=>B.from<=T&&B.to>=T)){let B=i.moveToLineBoundary(Ye.cursor(T),!1,!0).head;B>b&&(T=B)}let $=this.gapSize(C,b,T,A),Q=s||$<2e6?$:2e6;z=new QN(b,T,$,Q)}m.push(z)},_=b=>{if(b.length<h||b.type!=Yi.Text)return;let T=Mat(b.from,b.to,this.stateDeco);if(T.total<h)return;let C=this.scrollTarget?this.scrollTarget.range.head:null,A,D;if(s){let L=u/this.heightOracle.lineLength*this.heightOracle.lineHeight,z,$;if(C!=null){let Q=xS(T,C),B=((this.visibleBottom-this.visibleTop)/2+L)/b.height;z=Q-B,$=Q+B}else z=(this.visibleTop-b.top-L)/b.height,$=(this.visibleBottom-b.top+L)/b.height;A=yS(T,z),D=yS(T,$)}else{let L=T.total*this.heightOracle.charWidth,z=u*this.heightOracle.charWidth,$=0;if(L>2e6)for(let G of e)G.from>=b.from&&G.from<b.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+$<this.pixelViewport.left&&($=G.size-G.displaySize);let Q=this.pixelViewport.left+$,B=this.pixelViewport.right+$,q,Y;if(C!=null){let G=xS(T,C),H=((B-Q)/2+z)/L;q=G-H,Y=G+H}else q=(Q-z)/L,Y=(B+z)/L;A=yS(T,q),D=yS(T,Y)}A>b.from&&y(b.from,A,b,T),D<b.to&&y(D,b.to,b,T)};for(let b of this.viewportLines)Array.isArray(b.type)?b.type.forEach(_):_(b);return m}gapSize(e,i,s,u){let d=xS(u,s)-xS(u,i);return this.heightOracle.lineWrapping?e.height*d:u.total*this.heightOracle.charWidth*d}updateLineGaps(e){QN.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Wt.set(e.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let i=this.stateDeco;this.lineGaps.length&&(i=i.concat(this.lineGapDeco));let s=[];kn.spans(i,this.viewport.from,this.viewport.to,{span(d,h){s.push({from:d,to:h})},point(){}},20);let u=0;if(s.length!=this.visibleRanges.length)u=12;else for(let d=0;d<s.length&&!(u&8);d++){let h=this.visibleRanges[d],m=s[d];(h.from!=m.from||h.to!=m.to)&&(u|=4,e&&e.mapPos(h.from,-1)==m.from&&e.mapPos(h.to,1)==m.to||(u|=8))}return this.visibleRanges=s,u}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(i=>i.from<=e&&i.to>=e)||Nx(this.heightMap.lineAt(e,mr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i=>i.top<=e&&i.bottom>=e)||Nx(this.heightMap.lineAt(this.scaler.fromDOM(e),mr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let i=this.lineBlockAtHeight(e+8);return i.from>=this.viewport.from||this.viewportLines[0].top-e>200?i:this.viewportLines[0]}elementAtHeight(e){return Nx(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class vS{constructor(e,i){this.from=e,this.to=i}}function Mat(t,e,i){let s=[],u=t,d=0;return kn.spans(i,t,e,{span(){},point(h,m){h>u&&(s.push({from:u,to:h}),d+=h-u),u=m}},20),u<e&&(s.push({from:u,to:e}),d+=e-u),{total:d,ranges:s}}function yS({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let s=Math.floor(t*i);for(let u=0;;u++){let{from:d,to:h}=e[u],m=h-d;if(s<=m)return d+s;s-=m}}function xS(t,e){let i=0;for(let{from:s,to:u}of t.ranges){if(e<=u){i+=e-s;break}i+=u-s}return i/t.total}function Dat(t,e){for(let i of t)if(e(i))return i}const Nre={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function $re(t){let e=t.facet(oA).filter(s=>typeof s!="function"),i=t.facet(PQ).filter(s=>typeof s!="function");return i.length&&e.push(kn.join(i)),e}class IQ{constructor(e,i,s){let u=0,d=0,h=0;this.viewports=s.map(({from:m,to:y})=>{let _=i.lineAt(m,mr.ByPos,e,0,0).top,b=i.lineAt(y,mr.ByPos,e,0,0).bottom;return u+=b-_,{from:m,to:y,top:_,bottom:b,domTop:0,domBottom:0}}),this.scale=(7e6-u)/(i.height-u);for(let m of this.viewports)m.domTop=h+(m.top-d)*this.scale,h=m.domBottom=m.domTop+(m.bottom-m.top),d=m.bottom}toDOM(e){for(let i=0,s=0,u=0;;i++){let d=i<this.viewports.length?this.viewports[i]:null;if(!d||e<d.top)return u+(e-s)*this.scale;if(e<=d.bottom)return d.domTop+(e-d.top);s=d.bottom,u=d.domBottom}}fromDOM(e){for(let i=0,s=0,u=0;;i++){let d=i<this.viewports.length?this.viewports[i]:null;if(!d||e<d.domTop)return s+(e-u)/this.scale;if(e<=d.domBottom)return d.top+(e-d.domTop);s=d.bottom,u=d.domBottom}}eq(e){return e instanceof IQ?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((i,s)=>i.from==e.viewports[s].from&&i.to==e.viewports[s].to):!1}}function Nx(t,e){if(e.scale==1)return t;let i=e.toDOM(t.top),s=e.toDOM(t.bottom);return new Ws(t.from,t.length,i,s-i,Array.isArray(t._content)?t._content.map(u=>Nx(u,e)):t._content)}const _S=Ct.define({combine:t=>t.join(" ")}),k$=Ct.define({combine:t=>t.indexOf(!0)>-1}),A$=Gd.newName(),rme=Gd.newName(),ime=Gd.newName(),ame={"&light":"."+rme,"&dark":"."+ime};function P$(t,e,i){return new Gd(e,{finish(s){return/&/.test(s)?s.replace(/&\w*/,u=>{if(u=="&")return t;if(!i||!i[u])throw new RangeError(`Unsupported selector: ${u}`);return i[u]}):t+" "+s}})}const Iat=P$("."+A$,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ame),Rat={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},jN=kt.ie&&kt.ie_version<=11;class Lat{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new fit,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(i=>{for(let s of i)this.queue.push(s);(kt.ie&&kt.ie_version<=11||kt.ios&&e.composing)&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&kt.android&&e.constructor.EDIT_CONTEXT!==!1&&!(kt.chrome&&kt.chrome_version<126)&&(this.editContext=new $at(e),e.state.facet(lc)&&(e.contentDOM.editContext=this.editContext.editContext)),jN&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var i;((i=this.view.docView)===null||i===void 0?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((i,s)=>i!=e[s]))){this.gapIntersection.disconnect();for(let i of e)this.gapIntersection.observe(i);this.gaps=e}}onSelectionChange(e){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,u=this.selectionRange;if(s.state.facet(lc)?s.root.activeElement!=this.dom:!n1(this.dom,u))return;let d=u.anchorNode&&s.docView.tile.nearest(u.anchorNode);if(d&&d.isWidget()&&d.widget.ignoreEvent(e)){i||(this.selectionChanged=!1);return}(kt.ie&&kt.ie_version<=11||kt.android&&kt.chrome)&&!s.state.selection.main.empty&&u.focusNode&&r1(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,i=ov(e.root);if(!i)return!1;let s=kt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Nat(this.view,i)||i;if(!s||this.selectionRange.eq(s))return!1;let u=n1(this.dom,s);return u&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&pit(this.dom,s)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(s),u&&(this.selectionChanged=!0),!0)}setSelectionRange(e,i){this.selectionRange.set(e.node,e.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,i=null;for(let s=this.dom;s;)if(s.nodeType==1)!i&&e<this.scrollTargets.length&&this.scrollTargets[e]==s?e++:i||(i=this.scrollTargets.slice(0,e)),i&&i.push(s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;if(e<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,e)),i){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=i)s.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Rat),jN&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),jN&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,i){var s;if(!this.delayedAndroidKey){let u=()=>{let d=this.delayedAndroidKey;d&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=d.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&d.force&&qg(this.dom,d.key,d.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(u)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:i,force:this.lastChange<Date.now()-50||!!(!((s=this.delayedAndroidKey)===null||s===void 0)&&s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let i=-1,s=-1,u=!1;for(let d of e){let h=this.readMutation(d);h&&(h.typeOver&&(u=!0),i==-1?{from:i,to:s}=h:(i=Math.min(h.from,i),s=Math.max(h.to,s)))}return{from:i,to:s,typeOver:u}}readChange(){let{from:e,to:i,typeOver:s}=this.processRecords(),u=this.selectionChanged&&n1(this.dom,this.selectionRange);if(e<0&&!u)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let d=new eat(this.view,e,i,s);return this.view.docView.domChanged={newSel:d.newSel?d.newSel.main:null},d}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let i=this.readChange();if(!i)return this.view.requestMeasure(),!1;let s=this.view.state,u=Upe(this.view,i);return this.view.state==s&&(i.domChanged||i.newSel&&!gC(this.view.state.selection,i.newSel.main))&&this.view.update([]),u}readMutation(e){let i=this.view.docView.tile.nearest(e.target);if(!i||i.isWidget())return null;if(i.markDirty(e.type=="attributes"),e.type=="childList"){let s=zre(i,e.previousSibling||e.target.previousSibling,-1),u=zre(i,e.nextSibling||e.target.nextSibling,1);return{from:s?i.posAfter(s):i.posAtStart,to:u?i.posBefore(u):i.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(lc)!=e.state.facet(lc)&&(e.view.contentDOM.editContext=e.state.facet(lc)?this.editContext.editContext:null))}destroy(){var e,i,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(i=this.gapIntersection)===null||i===void 0||i.disconnect(),(s=this.resizeScroll)===null||s===void 0||s.disconnect();for(let u of this.scrollTargets)u.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function zre(t,e,i){for(;e;){let s=si.get(e);if(s&&s.parent==t)return s;let u=e.parentNode;e=u!=t.dom?u:i>0?e.nextSibling:e.previousSibling}return null}function Bre(t,e){let i=e.startContainer,s=e.startOffset,u=e.endContainer,d=e.endOffset,h=t.docView.domAtPos(t.state.selection.main.anchor,1);return r1(h.node,h.offset,u,d)&&([i,s,u,d]=[u,d,i,s]),{anchorNode:i,anchorOffset:s,focusNode:u,focusOffset:d}}function Nat(t,e){if(e.getComposedRanges){let u=e.getComposedRanges(t.root)[0];if(u)return Bre(t,u)}let i=null;function s(u){u.preventDefault(),u.stopImmediatePropagation(),i=u.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",s,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",s,!0),i?Bre(t,i):null}class $at{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let i=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=s=>{let u=e.state.selection.main,{anchor:d,head:h}=u,m=this.toEditorPos(s.updateRangeStart),y=this.toEditorPos(s.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:m,drifted:!1});let _=y-m>s.text.length;m==this.from&&d<this.from?m=d:y==this.to&&d>this.to&&(y=d);let b=qpe(e.state.sliceDoc(m,y),s.text,(_?u.from:u.to)-m,_?"end":null);if(!b){let C=Ye.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));gC(C,u)||e.dispatch({selection:C,userEvent:"select"});return}let T={from:b.from+m,to:b.toA+m,insert:Zn.of(s.text.slice(b.from,b.toB).split(`
`))};if((kt.mac||kt.android)&&T.from==h-1&&/^\. ?$/.test(s.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(T={from:m,to:y,insert:Zn.of([s.text.replace("."," ")])}),this.pendingContextChange=T,!e.state.readOnly){let C=this.to-this.from+(T.to-T.from+T.insert.length);MQ(e,T,Ye.single(this.toEditorPos(s.selectionStart,C),this.toEditorPos(s.selectionEnd,C)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),T.from<T.to&&!T.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(i.text.slice(Math.max(0,s.updateRangeStart-1),Math.min(i.text.length,s.updateRangeStart+1)))&&this.handlers.compositionend(s)},this.handlers.characterboundsupdate=s=>{let u=[],d=null;for(let h=this.toEditorPos(s.rangeStart),m=this.toEditorPos(s.rangeEnd);h<m;h++){let y=e.coordsForChar(h);d=y&&new DOMRect(y.left,y.top,y.right-y.left,y.bottom-y.top)||d||new DOMRect,u.push(d)}i.updateCharacterBounds(s.rangeStart,u)},this.handlers.textformatupdate=s=>{let u=[];for(let d of s.getTextFormats()){let h=d.underlineStyle,m=d.underlineThickness;if(!/none/i.test(h)&&!/none/i.test(m)){let y=this.toEditorPos(d.rangeStart),_=this.toEditorPos(d.rangeEnd);if(y<_){let b=`text-decoration: underline ${/^[a-z]/.test(h)?h+" ":h=="Dashed"?"dashed ":h=="Squiggle"?"wavy ":""}${/thin/i.test(m)?1:2}px`;u.push(Wt.mark({attributes:{style:b}}).range(y,_))}}}e.dispatch({effects:Npe.of(Wt.set(u))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(e.state)}};for(let s in this.handlers)i.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let u=ov(s.root);u&&u.rangeCount&&this.editContext.updateSelectionBounds(u.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let i=0,s=!1,u=this.pendingContextChange;return e.changes.iterChanges((d,h,m,y,_)=>{if(s)return;let b=_.length-(h-d);if(u&&h>=u.to)if(u.from==d&&u.to==h&&u.insert.eq(_)){u=this.pendingContextChange=null,i+=b,this.to+=b;return}else u=null,this.revertPending(e.state);if(d+=i,h+=i,h<=this.from)this.from+=b,this.to+=b;else if(d<this.to){if(d<this.from||h>this.to||this.to-this.from+_.length>3e4){s=!0;return}this.editContext.updateText(this.toContextPos(d),this.toContextPos(h),_.toString()),this.to+=b}i+=b}),u&&!s&&this.revertPending(e.state),!s}update(e){let i=this.pendingContextChange,s=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(s.from,s.to)&&e.transactions.some(u=>!u.isUserEvent("input.type")&&u.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||i)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:i}=e.selection.main;this.from=Math.max(0,i-1e4),this.to=Math.min(e.doc.length,i+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let i=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i.from),this.toContextPos(i.from+i.insert.length),e.doc.sliceString(i.from,i.to))}setSelection(e){let{main:i}=e.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,i.anchor))),u=this.toContextPos(i.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=u)&&this.editContext.updateSelection(s,u)}rangeIsValid(e){let{head:i}=e.selection.main;return!(this.from>0&&i-this.from<500||this.to<e.doc.length&&this.to-i<500||this.to-this.from>1e4*3)}toEditorPos(e,i=this.to-this.from){e=Math.min(e,i);let s=this.composing;return s&&s.drifted?s.editorBase+(e-s.contextBase):e+this.from}toContextPos(e){let i=this.composing;return i&&i.drifted?i.contextBase+(e-i.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class St{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var i;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:s}=e;this.dispatchTransactions=e.dispatchTransactions||s&&(u=>u.forEach(d=>s(d,this)))||(u=>this.update(u)),this.dispatch=this.dispatch.bind(this),this._root=e.root||hit(e.parent)||document,this.viewState=new Lre(e.state||Nn.create(e)),e.scrollTo&&e.scrollTo.is(pS)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Dg).map(u=>new LN(u));for(let u of this.plugins)u.update(this);this.observer=new Lat(this),this.inputState=new iat(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ore(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((i=document.fonts)===null||i===void 0)&&i.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let i=e.length==1&&e[0]instanceof Fr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(i,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i=!1,s=!1,u,d=this.state;for(let C of e){if(C.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=C.state}if(this.destroyed){this.viewState.state=d;return}let h=this.hasFocus,m=0,y=null;e.some(C=>C.annotation(Jpe))?(this.inputState.notifiedFocused=h,m=1):h!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=h,y=eme(d,h),y||(m=1));let _=this.observer.delayedAndroidKey,b=null;if(_?(this.observer.clearDelayedAndroidKey(),b=this.observer.readChange(),(b&&!this.state.doc.eq(d.doc)||!this.state.selection.eq(d.selection))&&(b=null)):this.observer.clear(),d.facet(Nn.phrases)!=this.state.facet(Nn.phrases))return this.setState(d);u=hC.create(this,d,e),u.flags|=m;let T=this.viewState.scrollTarget;try{this.updateState=2;for(let C of e){if(T&&(T=T.map(C.changes)),C.scrollIntoView){let{main:A}=C.state.selection;T=new Zg(A.empty?A:Ye.cursor(A.head,A.head>A.anchor?-1:1))}for(let A of C.effects)A.is(pS)&&(T=A.value.clip(this.state))}this.viewState.update(u,T),this.bidiCache=yC.update(this.bidiCache,u.changes),u.empty||(this.updatePlugins(u),this.inputState.update(u)),i=this.docView.update(u),this.state.facet(Rx)!=this.styleModules&&this.mountStyles(),s=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(C=>C.isUserEvent("select.pointer")))}finally{this.updateState=0}if(u.startState.facet(_S)!=u.state.facet(_S)&&(this.viewState.mustMeasureContent=!0),(i||s||T||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),i&&this.docViewUpdate(),!u.empty)for(let C of this.state.facet(b$))try{C(u)}catch(A){Ja(this.state,A,"update listener")}(y||b)&&Promise.resolve().then(()=>{y&&this.state==y.startState&&this.dispatch(y),b&&!Upe(this,b)&&_.force&&qg(this.contentDOM,_.key,_.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let i=this.hasFocus;try{for(let s of this.plugins)s.destroy(this);this.viewState=new Lre(e),this.plugins=e.facet(Dg).map(s=>new LN(s)),this.pluginMap.clear();for(let s of this.plugins)s.update(this);this.docView.destroy(),this.docView=new Ore(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(e){let i=e.startState.facet(Dg),s=e.state.facet(Dg);if(i!=s){let u=[];for(let d of s){let h=i.indexOf(d);if(h<0)u.push(new LN(d));else{let m=this.plugins[h];m.mustUpdate=e,u.push(m)}}for(let d of this.plugins)d.mustUpdate!=e&&d.destroy(this);this.plugins=u,this.pluginMap.clear()}else for(let u of this.plugins)u.mustUpdate=e;for(let u=0;u<this.plugins.length;u++)this.plugins[u].update(this);i!=s&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let i=e.value;if(i&&i.docViewUpdate)try{i.docViewUpdate(this)}catch(s){Ja(this.state,s,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let i=null,s=this.scrollDOM,u=s.scrollTop*this.scaleY,{scrollAnchorPos:d,scrollAnchorHeight:h}=this.viewState;Math.abs(u-this.viewState.scrollTop)>1&&(h=-1),this.viewState.scrollAnchorHeight=-1;try{for(let m=0;;m++){if(h<0)if(xpe(s))d=-1,h=this.viewState.heightMap.height;else{let A=this.viewState.scrollAnchorAt(u);d=A.from,h=A.top}this.updateState=1;let y=this.viewState.measure(this);if(!y&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(m>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let _=[];y&4||([this.measureRequests,_]=[_,this.measureRequests]);let b=_.map(A=>{try{return A.read(this)}catch(D){return Ja(this.state,D),Qre}}),T=hC.create(this,this.state,[]),C=!1;T.flags|=y,i?i.flags|=y:i=T,this.updateState=2,T.empty||(this.updatePlugins(T),this.inputState.update(T),this.updateAttrs(),C=this.docView.update(T),C&&this.docViewUpdate());for(let A=0;A<_.length;A++)if(b[A]!=Qre)try{let D=_[A];D.write&&D.write(b[A],this)}catch(D){Ja(this.state,D)}if(C&&this.docView.updateSelection(!0),!T.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=-1;continue}else{let D=(d<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(d).top)-h;if(D>1||D<-1){u=u+D,s.scrollTop=u/this.scaleY,h=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let m of this.state.facet(b$))m(i)}get themeClasses(){return A$+" "+(this.state.facet(k$)?ime:rme)+" "+this.state.facet(_S)}updateAttrs(){let e=jre(this,$pe,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(lc)?"true":"false",class:"cm-content",style:`${kt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),jre(this,AQ,i);let s=this.observer.ignore(()=>{let u=mre(this.contentDOM,this.contentAttrs,i),d=mre(this.dom,this.editorAttrs,e);return u||d});return this.editorAttrs=e,this.contentAttrs=i,s}showAnnouncements(e){let i=!0;for(let s of e)for(let u of s.effects)if(u.is(St.announce)){i&&(this.announceDOM.textContent=""),i=!1;let d=this.announceDOM.appendChild(document.createElement("div"));d.textContent=u.value}}mountStyles(){this.styleModules=this.state.facet(Rx);let e=this.state.facet(St.cspNonce);Gd.mount(this.root,this.styleModules.concat(Iat).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===e.key){this.measureRequests[i]=e;return}}this.measureRequests.push(e)}}plugin(e){let i=this.pluginMap.get(e);return(i===void 0||i&&i.plugin!=e)&&this.pluginMap.set(e,i=this.plugins.find(s=>s.plugin==e)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,i,s){return BN(this,e,bre(this,e,i,s))}moveByGroup(e,i){return BN(this,e,bre(this,e,i,s=>Hit(this,e.head,s)))}visualLineSide(e,i){let s=this.bidiSpans(e),u=this.textDirectionAt(e.from),d=s[i?s.length-1:0];return Ye.cursor(d.side(i,u)+e.from,d.forward(!i,u)?1:-1)}moveToLineBoundary(e,i,s=!0){return Zit(this,e,i,s)}moveVertically(e,i,s){return BN(this,e,Xit(this,e,i,s))}domAtPos(e,i=1){return this.docView.domAtPos(e,i)}posAtDOM(e,i=0){return this.docView.posFromDOM(e,i)}posAtCoords(e,i=!0){this.readMeasured();let s=T$(this,e,i);return s&&s.pos}posAndSideAtCoords(e,i=!0){return this.readMeasured(),T$(this,e,i)}coordsAtPos(e,i=1){this.readMeasured();let s=this.docView.coordsAt(e,i);if(!s||s.left==s.right)return s;let u=this.state.doc.lineAt(e),d=this.bidiSpans(u),h=d[dc.find(d,e-u.from,-1,i)];return fC(s,h.dir==cr.LTR==i>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ipe)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>zat)return Tpe(e.length);let i=this.textDirectionAt(e.from),s;for(let d of this.bidiCache)if(d.from==e.from&&d.dir==i&&(d.fresh||Spe(d.isolates,s=yre(this,e))))return d.order;s||(s=yre(this,e));let u=Oit(e.text,i,s);return this.bidiCache.push(new yC(e.from,e.to,i,s,!0,u)),u}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||kt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{ype(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,i={}){return pS.of(new Zg(typeof e=="number"?Ye.cursor(e):e,i.y,i.x,i.yMargin,i.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:i}=this.scrollDOM,s=this.viewState.scrollAnchorAt(e);return pS.of(new Zg(Ye.cursor(s.from),"start","start",s.top-e,i,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return li.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return li.define(()=>({}),{eventObservers:e})}static theme(e,i){let s=Gd.newName(),u=[_S.of(s),Rx.of(P$(`.${s}`,e))];return i&&i.dark&&u.push(k$.of(!0)),u}static baseTheme(e){return tf.lowest(Rx.of(P$("."+A$,e,ame)))}static findFromDOM(e){var i;let s=e.querySelector(".cm-content"),u=s&&si.get(s)||si.get(e);return((i=u?.root)===null||i===void 0?void 0:i.view)||null}}St.styleModule=Rx;St.inputHandler=Mpe;St.clipboardInputFilter=CQ;St.clipboardOutputFilter=kQ;St.scrollHandler=Lpe;St.focusChangeEffect=Dpe;St.perLineTextDirection=Ipe;St.exceptionSink=Epe;St.updateListener=b$;St.editable=lc;St.mouseSelectionStyle=Ppe;St.dragMovesSelection=Ape;St.clickAddsSelectionRange=kpe;St.decorations=oA;St.blockWrappers=zpe;St.outerDecorations=PQ;St.atomicRanges=V_;St.bidiIsolatedRanges=Bpe;St.scrollMargins=Qpe;St.darkTheme=k$;St.cspNonce=Ct.define({combine:t=>t.length?t[0]:""});St.contentAttributes=AQ;St.editorAttributes=$pe;St.lineWrapping=St.contentAttributes.of({class:"cm-lineWrapping"});St.announce=sn.define();const zat=4096,Qre={};class yC{constructor(e,i,s,u,d,h){this.from=e,this.to=i,this.dir=s,this.isolates=u,this.fresh=d,this.order=h}static update(e,i){if(i.empty&&!e.some(d=>d.fresh))return e;let s=[],u=e.length?e[e.length-1].dir:cr.LTR;for(let d=Math.max(0,e.length-10);d<e.length;d++){let h=e[d];h.dir==u&&!i.touchesRange(h.from,h.to)&&s.push(new yC(i.mapPos(h.from,1),i.mapPos(h.to,-1),h.dir,h.isolates,!1,h.order))}return s}}function jre(t,e,i){for(let s=t.state.facet(e),u=s.length-1;u>=0;u--){let d=s[u],h=typeof d=="function"?d(t):d;h&&wQ(h,i)}return i}const Bat=kt.mac?"mac":kt.windows?"win":kt.linux?"linux":"key";function Qat(t,e){const i=t.split(/-(?!$)/);let s=i[i.length-1];s=="Space"&&(s=" ");let u,d,h,m;for(let y=0;y<i.length-1;++y){const _=i[y];if(/^(cmd|meta|m)$/i.test(_))m=!0;else if(/^a(lt)?$/i.test(_))u=!0;else if(/^(c|ctrl|control)$/i.test(_))d=!0;else if(/^s(hift)?$/i.test(_))h=!0;else if(/^mod$/i.test(_))e=="mac"?m=!0:d=!0;else throw new Error("Unrecognized modifier name: "+_)}return u&&(s="Alt-"+s),d&&(s="Ctrl-"+s),m&&(s="Meta-"+s),h&&(s="Shift-"+s),s}function OS(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),i!==!1&&e.shiftKey&&(t="Shift-"+t),t}const jat=tf.default(St.domEventHandlers({keydown(t,e){return sme(ome(e.state),t,e,"editor")}})),cA=Ct.define({enables:jat}),Vre=new WeakMap;function ome(t){let e=t.facet(cA),i=Vre.get(e);return i||Vre.set(e,i=Gat(e.reduce((s,u)=>s.concat(u),[]))),i}function Vat(t,e,i){return sme(ome(t.state),e,t,i)}let bd=null;const Fat=4e3;function Gat(t,e=Bat){let i=Object.create(null),s=Object.create(null),u=(h,m)=>{let y=s[h];if(y==null)s[h]=m;else if(y!=m)throw new Error("Key binding "+h+" is used both as a regular binding and as a multi-stroke prefix")},d=(h,m,y,_,b)=>{var T,C;let A=i[h]||(i[h]=Object.create(null)),D=m.split(/ (?!$)/).map($=>Qat($,e));for(let $=1;$<D.length;$++){let Q=D.slice(0,$).join(" ");u(Q,!0),A[Q]||(A[Q]={preventDefault:!0,stopPropagation:!1,run:[B=>{let q=bd={view:B,prefix:Q,scope:h};return setTimeout(()=>{bd==q&&(bd=null)},Fat),!0}]})}let L=D.join(" ");u(L,!1);let z=A[L]||(A[L]={preventDefault:!1,stopPropagation:!1,run:((C=(T=A._any)===null||T===void 0?void 0:T.run)===null||C===void 0?void 0:C.slice())||[]});y&&z.run.push(y),_&&(z.preventDefault=!0),b&&(z.stopPropagation=!0)};for(let h of t){let m=h.scope?h.scope.split(" "):["editor"];if(h.any)for(let _ of m){let b=i[_]||(i[_]=Object.create(null));b._any||(b._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:T}=h;for(let C in b)b[C].run.push(A=>T(A,E$))}let y=h[e]||h.key;if(y)for(let _ of m)d(_,y,h.run,h.preventDefault,h.stopPropagation),h.shift&&d(_,"Shift-"+y,h.shift,h.preventDefault,h.stopPropagation)}return i}let E$=null;function sme(t,e,i,s){E$=e;let u=iit(e),d=Za(u,0),h=Yl(d)==u.length&&u!=" ",m="",y=!1,_=!1,b=!1;bd&&bd.view==i&&bd.scope==s&&(m=bd.prefix+" ",Hpe.indexOf(e.keyCode)<0&&(_=!0,bd=null));let T=new Set,C=z=>{if(z){for(let $ of z.run)if(!T.has($)&&(T.add($),$(i)))return z.stopPropagation&&(b=!0),!0;z.preventDefault&&(z.stopPropagation&&(b=!0),_=!0)}return!1},A=t[s],D,L;return A&&(C(A[m+OS(u,e,!h)])?y=!0:h&&(e.altKey||e.metaKey||e.ctrlKey)&&!(kt.windows&&e.ctrlKey&&e.altKey)&&!(kt.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(D=Wd[e.keyCode])&&D!=u?(C(A[m+OS(D,e,!0)])||e.shiftKey&&(L=F1[e.keyCode])!=u&&L!=D&&C(A[m+OS(L,e,!1)]))&&(y=!0):h&&e.shiftKey&&C(A[m+OS(u,e,!0)])&&(y=!0),!y&&C(A._any)&&(y=!0)),_&&(y=!0),y&&b&&e.stopPropagation(),E$=null,y}class F_{constructor(e,i,s,u,d){this.className=e,this.left=i,this.top=s,this.width=u,this.height=d}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,i){return i.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,i,s){if(s.empty){let u=e.coordsAtPos(s.head,s.assoc||1);if(!u)return[];let d=lme(e);return[new F_(i,u.left-d.left,u.top-d.top,null,u.bottom-u.top)]}else return Wat(e,i,s)}}function lme(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==cr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Fre(t,e,i,s){let u=t.coordsAtPos(e,i*2);if(!u)return s;let d=t.dom.getBoundingClientRect(),h=(u.top+u.bottom)/2,m=t.posAtCoords({x:d.left+1,y:h}),y=t.posAtCoords({x:d.right-1,y:h});return m==null||y==null?s:{from:Math.max(s.from,Math.min(m,y)),to:Math.min(s.to,Math.max(m,y))}}function Wat(t,e,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let s=Math.max(i.from,t.viewport.from),u=Math.min(i.to,t.viewport.to),d=t.textDirection==cr.LTR,h=t.contentDOM,m=h.getBoundingClientRect(),y=lme(t),_=h.querySelector(".cm-line"),b=_&&window.getComputedStyle(_),T=m.left+(b?parseInt(b.paddingLeft)+Math.min(0,parseInt(b.textIndent)):0),C=m.right-(b?parseInt(b.paddingRight):0),A=S$(t,s,1),D=S$(t,u,-1),L=A.type==Yi.Text?A:null,z=D.type==Yi.Text?D:null;if(L&&(t.lineWrapping||A.widgetLineBreaks)&&(L=Fre(t,s,1,L)),z&&(t.lineWrapping||D.widgetLineBreaks)&&(z=Fre(t,u,-1,z)),L&&z&&L.from==z.from&&L.to==z.to)return Q(B(i.from,i.to,L));{let Y=L?B(i.from,null,L):q(A,!1),G=z?B(null,i.to,z):q(D,!0),H=[];return(L||A).to<(z||D).from-(L&&z?1:0)||A.widgetLineBreaks>1&&Y.bottom+t.defaultLineHeight/2<G.top?H.push($(T,Y.bottom,C,G.top)):Y.bottom<G.top&&t.elementAtHeight((Y.bottom+G.top)/2).type==Yi.Text&&(Y.bottom=G.top=(Y.bottom+G.top)/2),Q(Y).concat(H).concat(Q(G))}function $(Y,G,H,V){return new F_(e,Y-y.left,G-y.top,Math.max(0,H-Y),V-G)}function Q({top:Y,bottom:G,horizontal:H}){let V=[];for(let F=0;F<H.length;F+=2)V.push($(H[F],Y,H[F+1],G));return V}function B(Y,G,H){let V=1e9,F=-1e9,te=[];function ae(de,he,ue,ne,me){let ge=t.coordsAtPos(de,de==H.to?-2:2),ee=t.coordsAtPos(ue,ue==H.from?2:-2);!ge||!ee||(V=Math.min(ge.top,ee.top,V),F=Math.max(ge.bottom,ee.bottom,F),me==cr.LTR?te.push(d&&he?T:ge.left,d&&ne?C:ee.right):te.push(!d&&ne?T:ee.left,!d&&he?C:ge.right))}let oe=Y??H.from,fe=G??H.to;for(let de of t.visibleRanges)if(de.to>oe&&de.from<fe)for(let he=Math.max(de.from,oe),ue=Math.min(de.to,fe);;){let ne=t.state.doc.lineAt(he);for(let me of t.bidiSpans(ne)){let ge=me.from+ne.from,ee=me.to+ne.from;if(ge>=ue)break;ee>he&&ae(Math.max(ge,he),Y==null&&ge<=oe,Math.min(ee,ue),G==null&&ee>=fe,me.dir)}if(he=ne.to+1,he>=ue)break}return te.length==0&&ae(oe,Y==null,fe,G==null,t.textDirection),{top:V,bottom:F,horizontal:te}}function q(Y,G){let H=m.top+(G?Y.top:Y.bottom);return{top:H,bottom:H,horizontal:[]}}}function Uat(t,e){return t.constructor==e.constructor&&t.eq(e)}class qat{constructor(e,i){this.view=e,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,e)}update(e){e.startState.facet(vT)!=e.state.facet(vT)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let i=0,s=e.facet(vT);for(;i<s.length&&s[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:i}=this.view;(e!=this.scaleX||i!=this.scaleY)&&(this.scaleX=e,this.scaleY=i,this.dom.style.transform=`scale(${1/e}, ${1/i})`)}draw(e){if(e.length!=this.drawn.length||e.some((i,s)=>!Uat(i,this.drawn[s]))){let i=this.dom.firstChild,s=0;for(let u of e)u.update&&i&&u.constructor&&this.drawn[s].constructor&&u.update(i,this.drawn[s])?(i=i.nextSibling,s++):this.dom.insertBefore(u.draw(),i);for(;i;){let u=i.nextSibling;i.remove(),i=u}this.drawn=e,kt.safari&&kt.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const vT=Ct.define();function ume(t){return[li.define(e=>new qat(e,t)),vT.of(t)]}const U1=Ct.define({combine(t){return mu(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,i)=>Math.min(e,i),drawRangeCursor:(e,i)=>e||i})}});function Zat(t={}){return[U1.of(t),Hat,Xat,Yat,Rpe.of(!0)]}function cme(t){return t.startState.facet(U1)!=t.state.facet(U1)}const Hat=ume({above:!0,markers(t){let{state:e}=t,i=e.facet(U1),s=[];for(let u of e.selection.ranges){let d=u==e.selection.main;if(u.empty||i.drawRangeCursor){let h=d?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",m=u.empty?u:Ye.cursor(u.head,u.head>u.anchor?-1:1);for(let y of F_.forRange(t,h,m))s.push(y)}}return s},update(t,e){t.transactions.some(s=>s.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let i=cme(t);return i&&Gre(t.state,e),t.docChanged||t.selectionSet||i},mount(t,e){Gre(e.state,t)},class:"cm-cursorLayer"});function Gre(t,e){e.style.animationDuration=t.facet(U1).cursorBlinkRate+"ms"}const Xat=ume({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:F_.forRange(t,"cm-selectionBackground",e)).reduce((e,i)=>e.concat(i))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||cme(t)},class:"cm-selectionLayer"}),Yat=tf.highest(St.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),dme=sn.define({map(t,e){return t==null?null:e.mapPos(t)}}),$x=Qi.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((i,s)=>s.is(dme)?s.value:i,t)}}),Kat=li.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field($x);i==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field($x)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field($x),i=e!=null&&t.coordsAtPos(e);if(!i)return null;let s=t.scrollDOM.getBoundingClientRect();return{left:i.left-s.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-s.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field($x)!=t&&this.view.dispatch({effects:dme.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Jat(){return[$x,Kat]}function Wre(t,e,i,s,u){e.lastIndex=0;for(let d=t.iterRange(i,s),h=i,m;!d.next().done;h+=d.value.length)if(!d.lineBreak)for(;m=e.exec(d.value);)u(h+m.index,m)}function eot(t,e){let i=t.visibleRanges;if(i.length==1&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let s=[];for(let{from:u,to:d}of i)u=Math.max(t.state.doc.lineAt(u).from,u-e),d=Math.min(t.state.doc.lineAt(d).to,d+e),s.length&&s[s.length-1].to>=u?s[s.length-1].to=d:s.push({from:u,to:d});return s}class tot{constructor(e){const{regexp:i,decoration:s,decorate:u,boundary:d,maxLength:h=1e3}=e;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,u)this.addMatch=(m,y,_,b)=>u(b,_,_+m[0].length,m,y);else if(typeof s=="function")this.addMatch=(m,y,_,b)=>{let T=s(m,y,_);T&&b(_,_+m[0].length,T)};else if(s)this.addMatch=(m,y,_,b)=>b(_,_+m[0].length,s);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=d,this.maxLength=h}createDeco(e){let i=new vc,s=i.add.bind(i);for(let{from:u,to:d}of eot(e,this.maxLength))Wre(e.state.doc,this.regexp,u,d,(h,m)=>this.addMatch(m,e,h,s));return i.finish()}updateDeco(e,i){let s=1e9,u=-1;return e.docChanged&&e.changes.iterChanges((d,h,m,y)=>{y>=e.view.viewport.from&&m<=e.view.viewport.to&&(s=Math.min(m,s),u=Math.max(y,u))}),e.viewportMoved||u-s>1e3?this.createDeco(e.view):u>-1?this.updateRange(e.view,i.map(e.changes),s,u):i}updateRange(e,i,s,u){for(let d of e.visibleRanges){let h=Math.max(d.from,s),m=Math.min(d.to,u);if(m>=h){let y=e.state.doc.lineAt(h),_=y.to<m?e.state.doc.lineAt(m):y,b=Math.max(d.from,y.from),T=Math.min(d.to,_.to);if(this.boundary){for(;h>y.from;h--)if(this.boundary.test(y.text[h-1-y.from])){b=h;break}for(;m<_.to;m++)if(this.boundary.test(_.text[m-_.from])){T=m;break}}let C=[],A,D=(L,z,$)=>C.push($.range(L,z));if(y==_)for(this.regexp.lastIndex=b-y.from;(A=this.regexp.exec(y.text))&&A.index<T-y.from;)this.addMatch(A,e,A.index+y.from,D);else Wre(e.state.doc,this.regexp,b,T,(L,z)=>this.addMatch(z,e,L,D));i=i.update({filterFrom:b,filterTo:T,filter:(L,z)=>L<b||z>T,add:C})}}return i}}const M$=/x/.unicode!=null?"gu":"g",not=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,M$),rot={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let VN=null;function iot(){var t;if(VN==null&&typeof document<"u"&&document.body){let e=document.body.style;VN=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return VN||!1}const yT=Ct.define({combine(t){let e=mu(t,{render:null,specialChars:not,addSpecialChars:null});return(e.replaceTabs=!iot())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,M$)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,M$)),e}});function aot(t={}){return[yT.of(t),oot()]}let Ure=null;function oot(){return Ure||(Ure=li.fromClass(class{constructor(t){this.view=t,this.decorations=Wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(yT)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new tot({regexp:t.specialChars,decoration:(e,i,s)=>{let{doc:u}=i.state,d=Za(e[0],0);if(d==9){let h=u.lineAt(s),m=i.state.tabSize,y=Av(h.text,m,s-h.from);return Wt.replace({widget:new cot((m-y%m)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[d]||(this.decorationCache[d]=Wt.replace({widget:new uot(t,d)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(yT);t.startState.facet(yT)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const sot="•";function lot(t){return t>=32?sot:t==10?"␤":String.fromCharCode(9216+t)}class uot extends gu{constructor(e,i){super(),this.options=e,this.code=i}eq(e){return e.code==this.code}toDOM(e){let i=lot(this.code),s=e.state.phrase("Control character")+" "+(rot[this.code]||"0x"+this.code.toString(16)),u=this.options.render&&this.options.render(this.code,s,i);if(u)return u;let d=document.createElement("span");return d.textContent=i,d.title=s,d.setAttribute("aria-label",s),d.className="cm-specialChar",d}ignoreEvent(){return!1}}class cot extends gu{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function dot(){return hot}const fot=Wt.line({class:"cm-activeLine"}),hot=li.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let s of t.state.selection.ranges){let u=t.lineBlockAt(s.head);u.from>e&&(i.push(fot.range(u.from)),e=u.from)}return Wt.set(i)}},{decorations:t=>t.decorations}),D$=2e3;function pot(t,e,i){let s=Math.min(e.line,i.line),u=Math.max(e.line,i.line),d=[];if(e.off>D$||i.off>D$||e.col<0||i.col<0){let h=Math.min(e.off,i.off),m=Math.max(e.off,i.off);for(let y=s;y<=u;y++){let _=t.doc.line(y);_.length<=m&&d.push(Ye.range(_.from+h,_.to+m))}}else{let h=Math.min(e.col,i.col),m=Math.max(e.col,i.col);for(let y=s;y<=u;y++){let _=t.doc.line(y),b=d$(_.text,h,t.tabSize,!0);if(b<0)d.push(Ye.cursor(_.to));else{let T=d$(_.text,m,t.tabSize);d.push(Ye.range(_.from+b,_.from+T))}}}return d}function mot(t,e){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-e)/t.defaultCharacterWidth)):-1}function qre(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),s=t.state.doc.lineAt(i),u=i-s.from,d=u>D$?-1:u==s.length?mot(t,e.clientX):Av(s.text,t.state.tabSize,i-s.from);return{line:s.number,col:d,off:u}}function got(t,e){let i=qre(t,e),s=t.state.selection;return i?{update(u){if(u.docChanged){let d=u.changes.mapPos(u.startState.doc.line(i.line).from),h=u.state.doc.lineAt(d);i={line:h.number,col:i.col,off:Math.min(i.off,h.length)},s=s.map(u.changes)}},get(u,d,h){let m=qre(t,u);if(!m)return s;let y=pot(t.state,i,m);return y.length?h?Ye.create(y.concat(s.ranges)):Ye.create(y):s}}:null}function vot(t){let e=(i=>i.altKey&&i.button==0);return St.mouseSelectionStyle.of((i,s)=>e(s)?got(i,s):null)}const yot={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},xot={style:"cursor: crosshair"};function _ot(t={}){let[e,i]=yot[t.key||"Alt"],s=li.fromClass(class{constructor(u){this.view=u,this.isDown=!1}set(u){this.isDown!=u&&(this.isDown=u,this.view.update([]))}},{eventObservers:{keydown(u){this.set(u.keyCode==e||i(u))},keyup(u){(u.keyCode==e||!i(u))&&this.set(!1)},mousemove(u){this.set(i(u))}}});return[s,St.contentAttributes.of(u=>{var d;return!((d=u.plugin(s))===null||d===void 0)&&d.isDown?xot:null})]}const bS="-10000px";class fme{constructor(e,i,s,u){this.facet=i,this.createTooltipView=s,this.removeTooltipView=u,this.input=e.state.facet(i),this.tooltips=this.input.filter(h=>h);let d=null;this.tooltipViews=this.tooltips.map(h=>d=s(h,d))}update(e,i){var s;let u=e.state.facet(this.facet),d=u.filter(y=>y);if(u===this.input){for(let y of this.tooltipViews)y.update&&y.update(e);return!1}let h=[],m=i?[]:null;for(let y=0;y<d.length;y++){let _=d[y],b=-1;if(_){for(let T=0;T<this.tooltips.length;T++){let C=this.tooltips[T];C&&C.create==_.create&&(b=T)}if(b<0)h[y]=this.createTooltipView(_,y?h[y-1]:null),m&&(m[y]=!!_.above);else{let T=h[y]=this.tooltipViews[b];m&&(m[y]=i[b]),T.update&&T.update(e)}}}for(let y of this.tooltipViews)h.indexOf(y)<0&&(this.removeTooltipView(y),(s=y.destroy)===null||s===void 0||s.call(y));return i&&(m.forEach((y,_)=>i[_]=y),i.length=m.length),this.input=u,this.tooltips=d,this.tooltipViews=h,!0}}function Oot(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const FN=Ct.define({combine:t=>{var e,i,s;return{position:kt.ios?"absolute":((e=t.find(u=>u.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((i=t.find(u=>u.parent))===null||i===void 0?void 0:i.parent)||null,tooltipSpace:((s=t.find(u=>u.tooltipSpace))===null||s===void 0?void 0:s.tooltipSpace)||Oot}}}),Zre=new WeakMap,RQ=li.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(FN);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new fme(t,LQ,(i,s)=>this.createTooltip(i,s),i=>{this.resizeObserver&&this.resizeObserver.unobserve(i.dom),i.dom.remove()}),this.above=this.manager.tooltips.map(i=>!!i.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let i=e||t.geometryChanged,s=t.state.facet(FN);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let u of this.manager.tooltipViews)u.dom.style.position=this.position;i=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let u of this.manager.tooltipViews)this.container.appendChild(u.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t,e){let i=t.create(this.view),s=e?e.dom:null;if(i.dom.classList.add("cm-tooltip"),t.arrow&&!i.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let u=document.createElement("div");u.className="cm-tooltip-arrow",i.dom.appendChild(u)}return i.dom.style.position=this.position,i.dom.style.top=bS,i.dom.style.left="0px",this.container.insertBefore(i.dom,s),i.mount&&i.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(i.dom),i}destroy(){var t,e,i;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),(t=s.destroy)===null||t===void 0||t.call(s);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(i=this.intersectionObserver)===null||i===void 0||i.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:d}=this.manager.tooltipViews[0];if(kt.safari){let h=d.getBoundingClientRect();i=Math.abs(h.top+1e4)>1||Math.abs(h.left)>1}else i=!!d.offsetParent&&d.offsetParent!=this.container.ownerDocument.body}if(i||this.position=="absolute")if(this.parent){let d=this.parent.getBoundingClientRect();d.width&&d.height&&(t=d.width/this.parent.offsetWidth,e=d.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),u=EQ(this.view);return{visible:{left:s.left+u.left,top:s.top+u.top,right:s.right-u.right,bottom:s.bottom-u.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((d,h)=>{let m=this.manager.tooltipViews[h];return m.getCoords?m.getCoords(d.pos):this.view.coordsAtPos(d.pos)}),size:this.manager.tooltipViews.map(({dom:d})=>d.getBoundingClientRect()),space:this.view.state.facet(FN).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let m of this.manager.tooltipViews)m.dom.style.position="absolute"}let{visible:i,space:s,scaleX:u,scaleY:d}=t,h=[];for(let m=0;m<this.manager.tooltips.length;m++){let y=this.manager.tooltips[m],_=this.manager.tooltipViews[m],{dom:b}=_,T=t.pos[m],C=t.size[m];if(!T||y.clip!==!1&&(T.bottom<=Math.max(i.top,s.top)||T.top>=Math.min(i.bottom,s.bottom)||T.right<Math.max(i.left,s.left)-.1||T.left>Math.min(i.right,s.right)+.1)){b.style.top=bS;continue}let A=y.arrow?_.dom.querySelector(".cm-tooltip-arrow"):null,D=A?7:0,L=C.right-C.left,z=(e=Zre.get(_))!==null&&e!==void 0?e:C.bottom-C.top,$=_.offset||wot,Q=this.view.textDirection==cr.LTR,B=C.width>s.right-s.left?Q?s.left:s.right-C.width:Q?Math.max(s.left,Math.min(T.left-(A?14:0)+$.x,s.right-L)):Math.min(Math.max(s.left,T.left-L+(A?14:0)-$.x),s.right-L),q=this.above[m];!y.strictSide&&(q?T.top-z-D-$.y<s.top:T.bottom+z+D+$.y>s.bottom)&&q==s.bottom-T.bottom>T.top-s.top&&(q=this.above[m]=!q);let Y=(q?T.top-s.top:s.bottom-T.bottom)-D;if(Y<z&&_.resize!==!1){if(Y<this.view.defaultLineHeight){b.style.top=bS;continue}Zre.set(_,z),b.style.height=(z=Y)/d+"px"}else b.style.height&&(b.style.height="");let G=q?T.top-z-D-$.y:T.bottom+D+$.y,H=B+L;if(_.overlap!==!0)for(let V of h)V.left<H&&V.right>B&&V.top<G+z&&V.bottom>G&&(G=q?V.top-z-2-D:V.bottom+D+2);if(this.position=="absolute"?(b.style.top=(G-t.parent.top)/d+"px",Hre(b,(B-t.parent.left)/u)):(b.style.top=G/d+"px",Hre(b,B/u)),A){let V=T.left+(Q?$.x:-$.x)-(B+14-7);A.style.left=V/u+"px"}_.overlap!==!0&&h.push({left:B,top:G,right:H,bottom:G+z}),b.classList.toggle("cm-tooltip-above",q),b.classList.toggle("cm-tooltip-below",!q),_.positioned&&_.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=bS}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Hre(t,e){let i=parseInt(t.style.left,10);(isNaN(i)||Math.abs(e-i)>1)&&(t.style.left=e+"px")}const bot=St.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),wot={x:0,y:0},LQ=Ct.define({enables:[RQ,bot]}),xC=Ct.define({combine:t=>t.reduce((e,i)=>e.concat(i),[])});class dA{static create(e){return new dA(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new fme(e,xC,(i,s)=>this.createHostedView(i,s),i=>i.dom.remove())}createHostedView(e,i){let s=e.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,i?i.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(e){for(let i of this.manager.tooltipViews)i.mount&&i.mount(e);this.mounted=!0}positioned(e){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let i of this.manager.tooltipViews)(e=i.destroy)===null||e===void 0||e.call(i)}passProp(e){let i;for(let s of this.manager.tooltipViews){let u=s[e];if(u!==void 0){if(i===void 0)i=u;else if(i!==u)return}}return i}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Sot=LQ.compute([xC],t=>{let e=t.facet(xC);return e.length===0?null:{pos:Math.min(...e.map(i=>i.pos)),end:Math.max(...e.map(i=>{var s;return(s=i.end)!==null&&s!==void 0?s:i.pos})),create:dA.create,above:e[0].above,arrow:e.some(i=>i.arrow)}});class Tot{constructor(e,i,s,u,d){this.view=e,this.source=i,this.field=s,this.setHover=u,this.hoverTime=d,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:i}=this,s=e.docView.tile.nearest(i.target);if(!s)return;let u,d=1;if(s.isWidget())u=s.posAtStart;else{if(u=e.posAtCoords(i),u==null)return;let m=e.coordsAtPos(u);if(!m||i.y<m.top||i.y>m.bottom||i.x<m.left-e.defaultCharacterWidth||i.x>m.right+e.defaultCharacterWidth)return;let y=e.bidiSpans(e.state.doc.lineAt(u)).find(b=>b.from<=u&&b.to>=u),_=y&&y.dir==cr.RTL?-1:1;d=i.x<m.left?-_:_}let h=this.source(e,u,d);if(h?.then){let m=this.pending={pos:u};h.then(y=>{this.pending==m&&(this.pending=null,y&&!(Array.isArray(y)&&!y.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(y)?y:[y])}))},y=>Ja(e.state,y,"hover tooltip"))}else h&&!(Array.isArray(h)&&!h.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])})}get tooltip(){let e=this.view.plugin(RQ),i=e?e.manager.tooltips.findIndex(s=>s.create==dA.create):-1;return i>-1?e.manager.tooltipViews[i]:null}mousemove(e){var i,s;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:u,tooltip:d}=this;if(u.length&&d&&!Cot(d.dom,e)||this.pending){let{pos:h}=u[0]||this.pending,m=(s=(i=u[0])===null||i===void 0?void 0:i.end)!==null&&s!==void 0?s:h;(h==m?this.view.posAtCoords(this.lastMove)!=h:!kot(this.view,h,m,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i}=this;if(i.length){let{tooltip:s}=this;s&&s.dom.contains(e.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let i=s=>{e.removeEventListener("mouseleave",i),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",i)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const wS=4;function Cot(t,e){let{left:i,right:s,top:u,bottom:d}=t.getBoundingClientRect(),h;if(h=t.querySelector(".cm-tooltip-arrow")){let m=h.getBoundingClientRect();u=Math.min(m.top,u),d=Math.max(m.bottom,d)}return e.clientX>=i-wS&&e.clientX<=s+wS&&e.clientY>=u-wS&&e.clientY<=d+wS}function kot(t,e,i,s,u,d){let h=t.scrollDOM.getBoundingClientRect(),m=t.documentTop+t.documentPadding.top+t.contentHeight;if(h.left>s||h.right<s||h.top>u||Math.min(h.bottom,m)<u)return!1;let y=t.posAtCoords({x:s,y:u},!1);return y>=e&&y<=i}function Aot(t,e={}){let i=sn.define(),s=Qi.define({create(){return[]},update(u,d){if(u.length&&(e.hideOnChange&&(d.docChanged||d.selection)?u=[]:e.hideOn&&(u=u.filter(h=>!e.hideOn(d,h))),d.docChanged)){let h=[];for(let m of u){let y=d.changes.mapPos(m.pos,-1,Hi.TrackDel);if(y!=null){let _=Object.assign(Object.create(null),m);_.pos=y,_.end!=null&&(_.end=d.changes.mapPos(_.end)),h.push(_)}}u=h}for(let h of d.effects)h.is(i)&&(u=h.value),h.is(Pot)&&(u=[]);return u},provide:u=>xC.from(u)});return{active:s,extension:[s,li.define(u=>new Tot(u,t,s,i,e.hoverTime||300)),Sot]}}function hme(t,e){let i=t.plugin(RQ);if(!i)return null;let s=i.manager.tooltips.indexOf(e);return s<0?null:i.manager.tooltipViews[s]}const Pot=sn.define(),Xre=Ct.define({combine(t){let e,i;for(let s of t)e=e||s.topContainer,i=i||s.bottomContainer;return{topContainer:e,bottomContainer:i}}});function NQ(t,e){let i=t.plugin(pme),s=i?i.specs.indexOf(e):-1;return s>-1?i.panels[s]:null}const pme=li.fromClass(class{constructor(t){this.input=t.state.facet(q1),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(t));let e=t.state.facet(Xre);this.top=new SS(t,!0,e.topContainer),this.bottom=new SS(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(t){let e=t.state.facet(Xre);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new SS(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new SS(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(q1);if(i!=this.input){let s=i.filter(y=>y),u=[],d=[],h=[],m=[];for(let y of s){let _=this.specs.indexOf(y),b;_<0?(b=y(t.view),m.push(b)):(b=this.panels[_],b.update&&b.update(t)),u.push(b),(b.top?d:h).push(b)}this.specs=s,this.panels=u,this.top.sync(d),this.bottom.sync(h);for(let y of m)y.dom.classList.add("cm-panel"),y.mount&&y.mount()}else for(let s of this.panels)s.update&&s.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>St.scrollMargins.of(e=>{let i=e.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class SS{constructor(e,i,s){this.view=e,this.top=i,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let i of this.panels)i.destroy&&e.indexOf(i)<0&&i.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let e=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;e!=i.dom;)e=Yre(e);e=e.nextSibling}else this.dom.insertBefore(i.dom,e);for(;e;)e=Yre(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Yre(t){let e=t.nextSibling;return t.remove(),e}const q1=Ct.define({enables:pme});function Eot(t,e){let i,s=new Promise(h=>i=h),u=h=>Mot(h,e,i);t.state.field(GN,!1)?t.dispatch({effects:mme.of(u)}):t.dispatch({effects:sn.appendConfig.of(GN.init(()=>[u]))});let d=gme.of(u);return{close:d,result:s.then(h=>((t.win.queueMicrotask||(y=>t.win.setTimeout(y,10)))(()=>{t.state.field(GN).indexOf(u)>-1&&t.dispatch({effects:d})}),h))}}const GN=Qi.define({create(){return[]},update(t,e){for(let i of e.effects)i.is(mme)?t=[i.value].concat(t):i.is(gme)&&(t=t.filter(s=>s!=i.value));return t},provide:t=>q1.computeN([t],e=>e.field(t))}),mme=sn.define(),gme=sn.define();function Mot(t,e,i){let s=e.content?e.content(t,()=>h(null)):null;if(!s){if(s=ir("form"),e.input){let m=ir("input",e.input);/^(text|password|number|email|tel|url)$/.test(m.type)&&m.classList.add("cm-textfield"),m.name||(m.name="input"),s.appendChild(ir("label",(e.label||"")+": ",m))}else s.appendChild(document.createTextNode(e.label||""));s.appendChild(document.createTextNode(" ")),s.appendChild(ir("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let u=s.nodeName=="FORM"?[s]:s.querySelectorAll("form");for(let m=0;m<u.length;m++){let y=u[m];y.addEventListener("keydown",_=>{_.keyCode==27?(_.preventDefault(),h(null)):_.keyCode==13&&(_.preventDefault(),h(y))}),y.addEventListener("submit",_=>{_.preventDefault(),h(y)})}let d=ir("div",s,ir("button",{onclick:()=>h(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},["×"]));e.class&&(d.className=e.class),d.classList.add("cm-dialog");function h(m){d.contains(d.ownerDocument.activeElement)&&t.focus(),i(m)}return{dom:d,top:e.top,mount:()=>{if(e.focus){let m;typeof e.focus=="string"?m=s.querySelector(e.focus):m=s.querySelector("input")||s.querySelector("button"),m&&"select"in m?m.select():m&&"focus"in m&&m.focus()}}}}class xc extends Fd{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xc.prototype.elementClass="";xc.prototype.toDOM=void 0;xc.prototype.mapMode=Hi.TrackBefore;xc.prototype.startSide=xc.prototype.endSide=-1;xc.prototype.point=!0;const xT=Ct.define(),Dot=Ct.define(),Iot={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>kn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},a1=Ct.define();function Rot(t){return[vme(),a1.of({...Iot,...t})]}const Kre=Ct.define({combine:t=>t.some(e=>e)});function vme(t){return[Lot]}const Lot=li.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(a1).map(e=>new eie(t,e)),this.fixed=!t.state.facet(Kre);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,s=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(s<(i.to-i.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Kre)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let i=kn.iter(this.view.state.facet(xT),this.view.viewport.from),s=[],u=this.gutters.map(d=>new Not(d,this.view.viewport,-this.view.documentPadding.top));for(let d of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(d.type)){let h=!0;for(let m of d.type)if(m.type==Yi.Text&&h){I$(i,s,m.from);for(let y of u)y.line(this.view,m,s);h=!1}else if(m.widget)for(let y of u)y.widget(this.view,m)}else if(d.type==Yi.Text){I$(i,s,d.from);for(let h of u)h.line(this.view,d,s)}else if(d.widget)for(let h of u)h.widget(this.view,d);for(let d of u)d.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(a1),i=t.state.facet(a1),s=t.docChanged||t.heightChanged||t.viewportChanged||!kn.eq(t.startState.facet(xT),t.state.facet(xT),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let u of this.gutters)u.update(t)&&(s=!0);else{s=!0;let u=[];for(let d of i){let h=e.indexOf(d);h<0?u.push(new eie(this.view,d)):(this.gutters[h].update(t),u.push(this.gutters[h]))}for(let d of this.gutters)d.dom.remove(),u.indexOf(d)<0&&d.destroy();for(let d of u)d.config.side=="after"?this.getDOMAfter().appendChild(d.dom):this.dom.appendChild(d.dom);this.gutters=u}return s}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>St.scrollMargins.of(e=>{let i=e.plugin(t);if(!i||i.gutters.length==0||!i.fixed)return null;let s=i.dom.offsetWidth*e.scaleX,u=i.domAfter?i.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==cr.LTR?{left:s,right:u}:{right:s,left:u}})});function Jre(t){return Array.isArray(t)?t:[t]}function I$(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}class Not{constructor(e,i,s){this.gutter=e,this.height=s,this.i=0,this.cursor=kn.iter(e.markers,i.from)}addElement(e,i,s){let{gutter:u}=this,d=(i.top-this.height)/e.scaleY,h=i.height/e.scaleY;if(this.i==u.elements.length){let m=new yme(e,h,d,s);u.elements.push(m),u.dom.appendChild(m.dom)}else u.elements[this.i].update(e,h,d,s);this.height=i.bottom,this.i++}line(e,i,s){let u=[];I$(this.cursor,u,i.from),s.length&&(u=u.concat(s));let d=this.gutter.config.lineMarker(e,i,u);d&&u.unshift(d);let h=this.gutter;u.length==0&&!h.config.renderEmptyElements||this.addElement(e,i,u)}widget(e,i){let s=this.gutter.config.widgetMarker(e,i.widget,i),u=s?[s]:null;for(let d of e.state.facet(Dot)){let h=d(e,i.widget,i);h&&(u||(u=[])).push(h)}u&&this.addElement(e,i,u)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let i=e.elements.pop();e.dom.removeChild(i.dom),i.destroy()}}}class eie{constructor(e,i){this.view=e,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in i.domEventHandlers)this.dom.addEventListener(s,u=>{let d=u.target,h;if(d!=this.dom&&this.dom.contains(d)){for(;d.parentNode!=this.dom;)d=d.parentNode;let y=d.getBoundingClientRect();h=(y.top+y.bottom)/2}else h=u.clientY;let m=e.lineBlockAtHeight(h-e.documentTop);i.domEventHandlers[s](e,m,u)&&u.preventDefault()});this.markers=Jre(i.markers(e)),i.initialSpacer&&(this.spacer=new yme(e,0,0,[i.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let i=this.markers;if(this.markers=Jre(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let u=this.config.updateSpacer(this.spacer.markers[0],e);u!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[u])}let s=e.view.viewport;return!kn.eq(this.markers,i,s.from,s.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class yme{constructor(e,i,s,u){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,i,s,u)}update(e,i,s,u){this.height!=i&&(this.height=i,this.dom.style.height=i+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),$ot(this.markers,u)||this.setMarkers(e,u)}setMarkers(e,i){let s="cm-gutterElement",u=this.dom.firstChild;for(let d=0,h=0;;){let m=h,y=d<i.length?i[d++]:null,_=!1;if(y){let b=y.elementClass;b&&(s+=" "+b);for(let T=h;T<this.markers.length;T++)if(this.markers[T].compare(y)){m=T,_=!0;break}}else m=this.markers.length;for(;h<m;){let b=this.markers[h++];if(b.toDOM){b.destroy(u);let T=u.nextSibling;u.remove(),u=T}}if(!y)break;y.toDOM&&(_?u=u.nextSibling:this.dom.insertBefore(y.toDOM(e),u)),_&&h++}this.dom.className=s,this.markers=i}destroy(){this.setMarkers(null,[])}}function $ot(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}const zot=Ct.define(),Bot=Ct.define(),Ig=Ct.define({combine(t){return mu(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,i){let s=Object.assign({},e);for(let u in i){let d=s[u],h=i[u];s[u]=d?(m,y,_)=>d(m,y,_)||h(m,y,_):h}return s}})}});class WN extends xc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function UN(t,e){return t.state.facet(Ig).formatNumber(e,t.state)}const Qot=a1.compute([Ig],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(zot)},lineMarker(e,i,s){return s.some(u=>u.toDOM)?null:new WN(UN(e,e.state.doc.lineAt(i.from).number))},widgetMarker:(e,i,s)=>{for(let u of e.state.facet(Bot)){let d=u(e,i,s);if(d)return d}return null},lineMarkerChange:e=>e.startState.facet(Ig)!=e.state.facet(Ig),initialSpacer(e){return new WN(UN(e,tie(e.state.doc.lines)))},updateSpacer(e,i){let s=UN(i.view,tie(i.view.state.doc.lines));return s==e.number?e:new WN(s)},domEventHandlers:t.facet(Ig).domEventHandlers,side:"before"}));function jot(t={}){return[Ig.of(t),vme(),Qot]}function tie(t){let e=9;for(;e<t;)e=e*10+9;return e}const Vot=new class extends xc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Fot=xT.compute(["selection"],t=>{let e=[],i=-1;for(let s of t.selection.ranges){let u=t.doc.lineAt(s.head).from;u>i&&(i=u,e.push(Vot.range(u)))}return kn.of(e)});function Got(){return Fot}var qN;const Rg=new Tn;function xme(t){return Ct.define({combine:t?e=>e.concat(t):void 0})}const $Q=new Tn;class qs{constructor(e,i,s=[],u=""){this.data=e,this.name=u,Nn.prototype.hasOwnProperty("tree")||Object.defineProperty(Nn.prototype,"tree",{get(){return ui(this)}}),this.parser=i,this.extension=[qd.of(this),Nn.languageData.of((d,h,m)=>{let y=nie(d,h,m),_=y.type.prop(Rg);if(!_)return[];let b=d.facet(_),T=y.type.prop($Q);if(T){let C=y.resolve(h-y.from,m);for(let A of T)if(A.test(C,d)){let D=d.facet(A.facet);return A.type=="replace"?D:D.concat(b)}}return b})].concat(s)}isActiveAt(e,i,s=-1){return nie(e,i,s).type.prop(Rg)==this.data}findRegions(e){let i=e.facet(qd);if(i?.data==this.data)return[{from:0,to:e.doc.length}];if(!i||!i.allowsNesting)return[];let s=[],u=(d,h)=>{if(d.prop(Rg)==this.data){s.push({from:h,to:h+d.length});return}let m=d.prop(Tn.mounted);if(m){if(m.tree.prop(Rg)==this.data){if(m.overlay)for(let y of m.overlay)s.push({from:y.from+h,to:y.to+h});else s.push({from:h,to:h+d.length});return}else if(m.overlay){let y=s.length;if(u(m.tree,m.overlay[0].from+h),s.length>y)return}}for(let y=0;y<d.children.length;y++){let _=d.children[y];_ instanceof Hr&&u(_,d.positions[y]+h)}};return u(ui(e),0),s}get allowsNesting(){return!0}}qs.setState=sn.define();function nie(t,e,i){let s=t.facet(qd),u=ui(t).topNode;if(!s||s.allowsNesting)for(let d=u;d;d=d.enter(e,i,wr.ExcludeBuffers|wr.EnterBracketed))d.type.isTop&&(u=d);return u}class Z1 extends qs{constructor(e,i,s){super(e,i,[],s),this.parser=i}static define(e){let i=xme(e.languageData);return new Z1(i,e.parser.configure({props:[Rg.add(s=>s.isTop?i:void 0)]}),e.name)}configure(e,i){return new Z1(this.data,this.parser.configure(e),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ui(t){let e=t.field(qs.state,!1);return e?e.tree:Hr.empty}class Wot{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,i){let s=this.cursorPos-this.string.length;return e<s||i>=this.cursorPos?this.doc.sliceString(e,i):this.string.slice(e-s,i-s)}}let hx=null;class _C{constructor(e,i,s=[],u,d,h,m,y){this.parser=e,this.state=i,this.fragments=s,this.tree=u,this.treeLen=d,this.viewport=h,this.skipped=m,this.scheduleOn=y,this.parse=null,this.tempSkipped=[]}static create(e,i,s){return new _C(e,i,[],Hr.empty,0,s,[],null)}startParse(){return this.parser.startParse(new Wot(this.state.doc),this.fragments)}work(e,i){return i!=null&&i>=this.state.doc.length&&(i=void 0),this.tree!=Hr.empty&&this.isDone(i??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if(typeof e=="number"){let u=Date.now()+e;e=()=>Date.now()>u}for(this.parse||(this.parse=this.startParse()),i!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let u=this.parse.advance();if(u)if(this.fragments=this.withoutTempSkipped(Kh.addTree(u,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(s=this.parse.stoppedAt)!==null&&s!==void 0?s:this.state.doc.length,this.tree=u,this.parse=null,this.treeLen<(i??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,i;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=e,this.tree=i,this.fragments=this.withoutTempSkipped(Kh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let i=hx;hx=this;try{return e()}finally{hx=i}}withoutTempSkipped(e){for(let i;i=this.tempSkipped.pop();)e=rie(e,i.from,i.to);return e}changes(e,i){let{fragments:s,tree:u,treeLen:d,viewport:h,skipped:m}=this;if(this.takeTree(),!e.empty){let y=[];if(e.iterChangedRanges((_,b,T,C)=>y.push({fromA:_,toA:b,fromB:T,toB:C})),s=Kh.applyChanges(s,y),u=Hr.empty,d=0,h={from:e.mapPos(h.from,-1),to:e.mapPos(h.to,1)},this.skipped.length){m=[];for(let _ of this.skipped){let b=e.mapPos(_.from,1),T=e.mapPos(_.to,-1);b<T&&m.push({from:b,to:T})}}}return new _C(this.parser,i,s,u,d,h,m,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let i=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:u,to:d}=this.skipped[s];u<e.to&&d>e.from&&(this.fragments=rie(this.fragments,u,d),this.skipped.splice(s--,1))}return this.skipped.length>=i?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,i){this.skipped.push({from:e,to:i})}static getSkippingParser(e){return new class extends Vhe{createParse(i,s,u){let d=u[0].from,h=u[u.length-1].to;return{parsedPos:d,advance(){let y=hx;if(y){for(let _ of u)y.tempSkipped.push(_);e&&(y.scheduleOn=y.scheduleOn?Promise.all([y.scheduleOn,e]):e)}return this.parsedPos=h,new Hr(oo.none,[],[],h-d)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let i=this.fragments;return this.treeLen>=e&&i.length&&i[0].from==0&&i[0].to>=e}static get(){return hx}}function rie(t,e,i){return Kh.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class cv{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(e.changes,e.state),s=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,s)||i.takeTree(),new cv(i)}static init(e){let i=Math.min(3e3,e.doc.length),s=_C.create(e.facet(qd).parser,e,{from:0,to:i});return s.work(20,i)||s.takeTree(),new cv(s)}}qs.state=Qi.define({create:cv.init,update(t,e){for(let i of e.effects)if(i.is(qs.setState))return i.value;return e.startState.facet(qd)!=e.state.facet(qd)?cv.init(e.state):t.apply(e)}});let _me=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(_me=t=>{let e=-1,i=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const ZN=typeof navigator<"u"&&(!((qN=navigator.scheduling)===null||qN===void 0)&&qN.isInputPending)?()=>navigator.scheduling.isInputPending():null,Uot=li.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let i=this.view.state.field(qs.state).context;(i.updateViewport(e.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:e}=this.view,i=e.field(qs.state);(i.tree!=i.context.tree||!i.context.isDone(e.doc.length))&&(this.working=_me(this.work))}work(e){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:u}}=this.view,d=s.field(qs.state);if(d.tree==d.context.tree&&d.context.isDone(u+1e5))return;let h=Date.now()+Math.min(this.chunkBudget,100,e&&!ZN?Math.max(25,e.timeRemaining()-5):1e9),m=d.context.treeLen<u&&s.doc.length>u+1e3,y=d.context.work(()=>ZN&&ZN()||Date.now()>h,u+(m?0:1e5));this.chunkBudget-=Date.now()-i,(y||this.chunkBudget<=0)&&(d.context.takeTree(),this.view.dispatch({effects:qs.setState.of(new cv(d.context))})),this.chunkBudget>0&&!(y&&!m)&&this.scheduleWork(),this.checkAsyncSchedule(d.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(i=>Ja(this.view.state,i)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qd=Ct.define({combine(t){return t.length?t[0]:null},enables:t=>[qs.state,Uot,St.contentAttributes.compute([t],e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}})]});class Ome{constructor(e,i=[]){this.language=e,this.support=i,this.extension=[e,i]}}const qot=Ct.define(),fA=Ct.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(i=>i!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function OC(t){let e=t.facet(fA);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function H1(t,e){let i="",s=t.tabSize,u=t.facet(fA)[0];if(u=="	"){for(;e>=s;)i+="	",e-=s;u=" "}for(let d=0;d<e;d++)i+=u;return i}function zQ(t,e){t instanceof Nn&&(t=new hA(t));for(let s of t.state.facet(qot)){let u=s(t,e);if(u!==void 0)return u}let i=ui(t.state);return i.length>=e?Zot(t,i,e):null}class hA{constructor(e,i={}){this.state=e,this.options=i,this.unit=OC(e)}lineAt(e,i=1){let s=this.state.doc.lineAt(e),{simulateBreak:u,simulateDoubleBreak:d}=this.options;return u!=null&&u>=s.from&&u<=s.to?d&&u==e?{text:"",from:e}:(i<0?u<e:u<=e)?{text:s.text.slice(u-s.from),from:u}:{text:s.text.slice(0,u-s.from),from:s.from}:s}textAfterPos(e,i=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:s,from:u}=this.lineAt(e,i);return s.slice(e-u,Math.min(s.length,e+100-u))}column(e,i=1){let{text:s,from:u}=this.lineAt(e,i),d=this.countColumn(s,e-u),h=this.options.overrideIndentation?this.options.overrideIndentation(u):-1;return h>-1&&(d+=h-this.countColumn(s,s.search(/\S|$/))),d}countColumn(e,i=e.length){return Av(e,this.state.tabSize,i)}lineIndent(e,i=1){let{text:s,from:u}=this.lineAt(e,i),d=this.options.overrideIndentation;if(d){let h=d(u);if(h>-1)return h}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BQ=new Tn;function Zot(t,e,i){let s=e.resolveStack(i),u=e.resolveInner(i,-1).resolve(i,0).enterUnfinishedNodesBefore(i);if(u!=s.node){let d=[];for(let h=u;h&&!(h.from<s.node.from||h.to>s.node.to||h.from==s.node.from&&h.type==s.node.type);h=h.parent)d.push(h);for(let h=d.length-1;h>=0;h--)s={node:d[h],next:s}}return bme(s,t,i)}function bme(t,e,i){for(let s=t;s;s=s.next){let u=Xot(s.node);if(u)return u(QQ.create(e,i,s))}return 0}function Hot(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Xot(t){let e=t.type.prop(BQ);if(e)return e;let i=t.firstChild,s;if(i&&(s=i.type.prop(Tn.closedBy))){let u=t.lastChild,d=u&&s.indexOf(u.name)>-1;return h=>wme(h,!0,1,void 0,d&&!Hot(h)?u.from:void 0)}return t.parent==null?Yot:null}function Yot(){return 0}class QQ extends hA{constructor(e,i,s){super(e.state,e.options),this.base=e,this.pos=i,this.context=s}get node(){return this.context.node}static create(e,i,s){return new QQ(e,i,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let i=this.state.doc.lineAt(e.from);for(;;){let s=e.resolve(i.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(Kot(s,e))break;i=this.state.doc.lineAt(s.from)}return this.lineIndent(i.from)}continue(){return bme(this.context.next,this.base,this.pos)}}function Kot(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}function Jot(t){let e=t.node,i=e.childAfter(e.from),s=e.lastChild;if(!i)return null;let u=t.options.simulateBreak,d=t.state.doc.lineAt(i.from),h=u==null||u<=d.from?d.to:Math.min(d.to,u);for(let m=i.to;;){let y=e.childAfter(m);if(!y||y==s)return null;if(!y.type.isSkipped){if(y.from>=h)return null;let _=/^ */.exec(d.text.slice(i.to-d.from))[0].length;return{from:i.from,to:i.to+_}}m=y.to}}function _T({closing:t,align:e=!0,units:i=1}){return s=>wme(s,e,i,t)}function wme(t,e,i,s,u){let d=t.textAfter,h=d.match(/^\s*/)[0].length,m=s&&d.slice(h,h+s.length)==s||u==t.pos+h,y=e?Jot(t):null;return y?m?t.column(y.from):t.column(y.to):t.baseIndent+(m?0:t.unit*i)}const est=t=>t.baseIndent;function HN({except:t,units:e=1}={}){return i=>{let s=t&&t.test(i.textAfter);return i.baseIndent+(s?0:e*i.unit)}}const tst=200;function nst(){return Nn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:s}=t.newSelection.main,u=i.lineAt(s);if(s>u.from+tst)return t;let d=i.sliceString(u.from,s);if(!e.some(_=>_.test(d)))return t;let{state:h}=t,m=-1,y=[];for(let{head:_}of h.selection.ranges){let b=h.doc.lineAt(_);if(b.from==m)continue;m=b.from;let T=zQ(h,b.from);if(T==null)continue;let C=/^\s*/.exec(b.text)[0],A=H1(h,T);C!=A&&y.push({from:b.from,to:b.from+C.length,insert:A})}return y.length?[t,{changes:y,sequential:!0}]:t})}const rst=Ct.define(),jQ=new Tn;function Sme(t){let e=t.firstChild,i=t.lastChild;return e&&e.to<i.from?{from:e.to,to:i.type.isError?t.to:i.from}:null}function ist(t,e,i){let s=ui(t);if(s.length<i)return null;let u=s.resolveStack(i,1),d=null;for(let h=u;h;h=h.next){let m=h.node;if(m.to<=i||m.from>i)continue;if(d&&m.from<e)break;let y=m.type.prop(jQ);if(y&&(m.to<s.length-50||s.length==t.doc.length||!ast(m))){let _=y(m,t);_&&_.from<=i&&_.from>=e&&_.to>i&&(d=_)}}return d}function ast(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function bC(t,e,i){for(let s of t.facet(rst)){let u=s(t,e,i);if(u)return u}return ist(t,e,i)}function Tme(t,e){let i=e.mapPos(t.from,1),s=e.mapPos(t.to,-1);return i>=s?void 0:{from:i,to:s}}const pA=sn.define({map:Tme}),G_=sn.define({map:Tme});function Cme(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some(s=>s.from<=i&&s.to>=i)||e.push(t.lineBlockAt(i));return e}const fp=Qi.define({create(){return Wt.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((i,s)=>t=iie(t,i,s)),t=t.map(e.changes);for(let i of e.effects)if(i.is(pA)&&!ost(t,i.value.from,i.value.to)){let{preparePlaceholder:s}=e.state.facet(Pme),u=s?Wt.replace({widget:new hst(s(e.state,i.value))}):aie;t=t.update({add:[u.range(i.value.from,i.value.to)]})}else i.is(G_)&&(t=t.update({filter:(s,u)=>i.value.from!=s||i.value.to!=u,filterFrom:i.value.from,filterTo:i.value.to}));return e.selection&&(t=iie(t,e.selection.main.head)),t},provide:t=>St.decorations.from(t),toJSON(t,e){let i=[];return t.between(0,e.doc.length,(s,u)=>{i.push(s,u)}),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let i=0;i<t.length;){let s=t[i++],u=t[i++];if(typeof s!="number"||typeof u!="number")throw new RangeError("Invalid JSON for fold state");e.push(aie.range(s,u))}return Wt.set(e,!0)}});function iie(t,e,i=e){let s=!1;return t.between(e,i,(u,d)=>{u<i&&d>e&&(s=!0)}),s?t.update({filterFrom:e,filterTo:i,filter:(u,d)=>u>=i||d<=e}):t}function wC(t,e,i){var s;let u=null;return(s=t.field(fp,!1))===null||s===void 0||s.between(e,i,(d,h)=>{(!u||u.from>d)&&(u={from:d,to:h})}),u}function ost(t,e,i){let s=!1;return t.between(e,e,(u,d)=>{u==e&&d==i&&(s=!0)}),s}function kme(t,e){return t.field(fp,!1)?e:e.concat(sn.appendConfig.of(Eme()))}const sst=t=>{for(let e of Cme(t)){let i=bC(t.state,e.from,e.to);if(i)return t.dispatch({effects:kme(t.state,[pA.of(i),Ame(t,i)])}),!0}return!1},lst=t=>{if(!t.state.field(fp,!1))return!1;let e=[];for(let i of Cme(t)){let s=wC(t.state,i.from,i.to);s&&e.push(G_.of(s),Ame(t,s,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Ame(t,e,i=!0){let s=t.state.doc.lineAt(e.from).number,u=t.state.doc.lineAt(e.to).number;return St.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${s} ${t.state.phrase("to")} ${u}.`)}const ust=t=>{let{state:e}=t,i=[];for(let s=0;s<e.doc.length;){let u=t.lineBlockAt(s),d=bC(e,u.from,u.to);d&&i.push(pA.of(d)),s=(d?t.lineBlockAt(d.to):u).to+1}return i.length&&t.dispatch({effects:kme(t.state,i)}),!!i.length},cst=t=>{let e=t.state.field(fp,!1);if(!e||!e.size)return!1;let i=[];return e.between(0,t.state.doc.length,(s,u)=>{i.push(G_.of({from:s,to:u}))}),t.dispatch({effects:i}),!0},dst=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:sst},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:lst},{key:"Ctrl-Alt-[",run:ust},{key:"Ctrl-Alt-]",run:cst}],fst={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Pme=Ct.define({combine(t){return mu(t,fst)}});function Eme(t){return[fp,gst]}function Mme(t,e){let{state:i}=t,s=i.facet(Pme),u=h=>{let m=t.lineBlockAt(t.posAtDOM(h.target)),y=wC(t.state,m.from,m.to);y&&t.dispatch({effects:G_.of(y)}),h.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(t,u,e);let d=document.createElement("span");return d.textContent=s.placeholderText,d.setAttribute("aria-label",i.phrase("folded code")),d.title=i.phrase("unfold"),d.className="cm-foldPlaceholder",d.onclick=u,d}const aie=Wt.replace({widget:new class extends gu{toDOM(t){return Mme(t,null)}}});class hst extends gu{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Mme(e,this.value)}}const pst={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class XN extends xc{constructor(e,i){super(),this.config=e,this.open=i}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=e.state.phrase(this.open?"Fold line":"Unfold line"),i}}function mst(t={}){let e={...pst,...t},i=new XN(e,!0),s=new XN(e,!1),u=li.fromClass(class{constructor(h){this.from=h.viewport.from,this.markers=this.buildMarkers(h)}update(h){(h.docChanged||h.viewportChanged||h.startState.facet(qd)!=h.state.facet(qd)||h.startState.field(fp,!1)!=h.state.field(fp,!1)||ui(h.startState)!=ui(h.state)||e.foldingChanged(h))&&(this.markers=this.buildMarkers(h.view))}buildMarkers(h){let m=new vc;for(let y of h.viewportLineBlocks){let _=wC(h.state,y.from,y.to)?s:bC(h.state,y.from,y.to)?i:null;_&&m.add(y.from,y.from,_)}return m.finish()}}),{domEventHandlers:d}=e;return[u,Rot({class:"cm-foldGutter",markers(h){var m;return((m=h.plugin(u))===null||m===void 0?void 0:m.markers)||kn.empty},initialSpacer(){return new XN(e,!1)},domEventHandlers:{...d,click:(h,m,y)=>{if(d.click&&d.click(h,m,y))return!0;let _=wC(h.state,m.from,m.to);if(_)return h.dispatch({effects:G_.of(_)}),!0;let b=bC(h.state,m.from,m.to);return b?(h.dispatch({effects:pA.of(b)}),!0):!1}}}),Eme()]}const gst=St.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class W_{constructor(e,i){this.specs=e;let s;function u(m){let y=Gd.newName();return(s||(s=Object.create(null)))["."+y]=m,y}const d=typeof i.all=="string"?i.all:i.all?u(i.all):void 0,h=i.scope;this.scope=h instanceof qs?m=>m.prop(Rg)==h.data:h?m=>m==h:void 0,this.style=Uhe(e.map(m=>({tag:m.tag,class:m.class||u(Object.assign({},m,{tag:null}))})),{all:d}).style,this.module=s?new Gd(s):null,this.themeType=i.themeType}static define(e,i){return new W_(e,i||{})}}const R$=Ct.define(),Dme=Ct.define({combine(t){return t.length?[t[0]]:null}});function YN(t){let e=t.facet(R$);return e.length?e:t.facet(Dme)}function Ime(t,e){let i=[yst],s;return t instanceof W_&&(t.module&&i.push(St.styleModule.of(t.module)),s=t.themeType),e?.fallback?i.push(Dme.of(t)):s?i.push(R$.computeN([St.darkTheme],u=>u.facet(St.darkTheme)==(s=="dark")?[t]:[])):i.push(R$.of(t)),i}class vst{constructor(e){this.markCache=Object.create(null),this.tree=ui(e.state),this.decorations=this.buildDeco(e,YN(e.state)),this.decoratedTo=e.viewport.to}update(e){let i=ui(e.state),s=YN(e.state),u=s!=YN(e.startState),{viewport:d}=e.view,h=e.changes.mapPos(this.decoratedTo,1);i.length<d.to&&!u&&i.type==this.tree.type&&h>=d.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=h):(i!=this.tree||e.viewportChanged||u)&&(this.tree=i,this.decorations=this.buildDeco(e.view,s),this.decoratedTo=d.to)}buildDeco(e,i){if(!i||!this.tree.length)return Wt.none;let s=new vc;for(let{from:u,to:d}of e.visibleRanges)nrt(this.tree,i,(h,m,y)=>{s.add(h,m,this.markCache[y]||(this.markCache[y]=Wt.mark({class:y})))},u,d);return s.finish()}}const yst=tf.high(li.fromClass(vst,{decorations:t=>t.decorations})),xst=W_.define([{tag:Te.meta,color:"#404740"},{tag:Te.link,textDecoration:"underline"},{tag:Te.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Te.emphasis,fontStyle:"italic"},{tag:Te.strong,fontWeight:"bold"},{tag:Te.strikethrough,textDecoration:"line-through"},{tag:Te.keyword,color:"#708"},{tag:[Te.atom,Te.bool,Te.url,Te.contentSeparator,Te.labelName],color:"#219"},{tag:[Te.literal,Te.inserted],color:"#164"},{tag:[Te.string,Te.deleted],color:"#a11"},{tag:[Te.regexp,Te.escape,Te.special(Te.string)],color:"#e40"},{tag:Te.definition(Te.variableName),color:"#00f"},{tag:Te.local(Te.variableName),color:"#30a"},{tag:[Te.typeName,Te.namespace],color:"#085"},{tag:Te.className,color:"#167"},{tag:[Te.special(Te.variableName),Te.macroName],color:"#256"},{tag:Te.definition(Te.propertyName),color:"#00c"},{tag:Te.comment,color:"#940"},{tag:Te.invalid,color:"#f00"}]),_st=St.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Rme=1e4,Lme="()[]{}",Nme=Ct.define({combine(t){return mu(t,{afterCursor:!0,brackets:Lme,maxScanDistance:Rme,renderMatch:wst})}}),Ost=Wt.mark({class:"cm-matchingBracket"}),bst=Wt.mark({class:"cm-nonmatchingBracket"});function wst(t){let e=[],i=t.matched?Ost:bst;return e.push(i.range(t.start.from,t.start.to)),t.end&&e.push(i.range(t.end.from,t.end.to)),e}const Sst=Qi.define({create(){return Wt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let i=[],s=e.state.facet(Nme);for(let u of e.state.selection.ranges){if(!u.empty)continue;let d=nu(e.state,u.head,-1,s)||u.head>0&&nu(e.state,u.head-1,1,s)||s.afterCursor&&(nu(e.state,u.head,1,s)||u.head<e.state.doc.length&&nu(e.state,u.head+1,-1,s));d&&(i=i.concat(s.renderMatch(d,e.state)))}return Wt.set(i,!0)},provide:t=>St.decorations.from(t)}),Tst=[Sst,_st];function Cst(t={}){return[Nme.of(t),Tst]}const kst=new Tn;function L$(t,e,i){let s=t.prop(e<0?Tn.openedBy:Tn.closedBy);if(s)return s;if(t.name.length==1){let u=i.indexOf(t.name);if(u>-1&&u%2==(e<0?1:0))return[i[u+e]]}return null}function N$(t){let e=t.type.prop(kst);return e?e(t.node):t}function nu(t,e,i,s={}){let u=s.maxScanDistance||Rme,d=s.brackets||Lme,h=ui(t),m=h.resolveInner(e,i);for(let y=m;y;y=y.parent){let _=L$(y.type,i,d);if(_&&y.from<y.to){let b=N$(y);if(b&&(i>0?e>=b.from&&e<b.to:e>b.from&&e<=b.to))return Ast(t,e,i,y,b,_,d)}}return Pst(t,e,i,h,m.type,u,d)}function Ast(t,e,i,s,u,d,h){let m=s.parent,y={from:u.from,to:u.to},_=0,b=m?.cursor();if(b&&(i<0?b.childBefore(s.from):b.childAfter(s.to)))do if(i<0?b.to<=s.from:b.from>=s.to){if(_==0&&d.indexOf(b.type.name)>-1&&b.from<b.to){let T=N$(b);return{start:y,end:T?{from:T.from,to:T.to}:void 0,matched:!0}}else if(L$(b.type,i,h))_++;else if(L$(b.type,-i,h)){if(_==0){let T=N$(b);return{start:y,end:T&&T.from<T.to?{from:T.from,to:T.to}:void 0,matched:!1}}_--}}while(i<0?b.prevSibling():b.nextSibling());return{start:y,matched:!1}}function Pst(t,e,i,s,u,d,h){let m=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),y=h.indexOf(m);if(y<0||y%2==0!=i>0)return null;let _={from:i<0?e-1:e,to:i>0?e+1:e},b=t.doc.iterRange(e,i>0?t.doc.length:0),T=0;for(let C=0;!b.next().done&&C<=d;){let A=b.value;i<0&&(C+=A.length);let D=e+C*i;for(let L=i>0?0:A.length-1,z=i>0?A.length:-1;L!=z;L+=i){let $=h.indexOf(A[L]);if(!($<0||s.resolveInner(D+L,1).type!=u))if($%2==0==i>0)T++;else{if(T==1)return{start:_,end:{from:D+L,to:D+L+1},matched:$>>1==y>>1};T--}}i>0&&(C+=A.length)}return b.done?{start:_,matched:!1}:null}const Est=Object.create(null),oie=[oo.none],sie=[],lie=Object.create(null),Mst=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Mst[t]=Dst(Est,e);function KN(t,e){sie.indexOf(t)>-1||(sie.push(t),console.warn(e))}function Dst(t,e){let i=[];for(let m of e.split(" ")){let y=[];for(let _ of m.split(".")){let b=t[_]||Te[_];b?typeof b=="function"?y.length?y=y.map(b):KN(_,`Modifier ${_} used at start of tag`):y.length?KN(_,`Tag ${_} used as modifier`):y=Array.isArray(b)?b:[b]:KN(_,`Unknown highlighting tag ${_}`)}for(let _ of y)i.push(_)}if(!i.length)return 0;let s=e.replace(/ /g,"_"),u=s+" "+i.map(m=>m.id),d=lie[u];if(d)return d.id;let h=lie[u]=oo.define({id:oie.length,name:s,props:[vQ({[s]:i})]});return oie.push(h),h.id}cr.RTL,cr.LTR;class $me{constructor(e,i,s,u){this.state=e,this.pos=i,this.explicit=s,this.view=u,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let i=ui(this.state).resolveInner(this.pos,-1);for(;i&&e.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(e){let i=this.state.doc.lineAt(this.pos),s=Math.max(i.from,this.pos-250),u=i.text.slice(s-i.from,this.pos-i.from),d=u.search(Bme(e,!1));return d<0?null:{from:s+d,to:this.pos,text:u.slice(d)}}get aborted(){return this.abortListeners==null}addEventListener(e,i,s){e=="abort"&&this.abortListeners&&(this.abortListeners.push(i),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function uie(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Ist(t){let e=Object.create(null),i=Object.create(null);for(let{label:u}of t){e[u[0]]=!0;for(let d=1;d<u.length;d++)i[u[d]]=!0}let s=uie(e)+uie(i)+"*$";return[new RegExp("^"+s),new RegExp(s)]}function VQ(t){let e=t.map(u=>typeof u=="string"?{label:u}:u),[i,s]=e.every(u=>/^\w+$/.test(u.label))?[/\w*$/,/\w+$/]:Ist(e);return u=>{let d=u.matchBefore(s);return d||u.explicit?{from:d?d.from:u.pos,options:e,validFor:i}:null}}function zme(t,e){return i=>{for(let s=ui(i.state).resolveInner(i.pos,-1);s;s=s.parent){if(t.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return e(i)}}class cie{constructor(e,i,s,u){this.completion=e,this.source=i,this.match=s,this.score=u}}function Jh(t){return t.selection.main.from}function Bme(t,e){var i;let{source:s}=t,u=e&&s[0]!="^",d=s[s.length-1]!="$";return!u&&!d?t:new RegExp(`${u?"^":""}(?:${s})${d?"$":""}`,(i=t.flags)!==null&&i!==void 0?i:t.ignoreCase?"i":"")}const FQ=Tc.define();function Rst(t,e,i,s){let{main:u}=t.selection,d=i-u.from,h=s-u.from;return{...t.changeByRange(m=>{if(m!=u&&i!=s&&t.sliceDoc(m.from+d,m.from+h)!=t.sliceDoc(i,s))return{range:m};let y=t.toText(e);return{changes:{from:m.from+d,to:s==u.from?m.to:m.from+h,insert:y},range:Ye.cursor(m.from+d+y.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const die=new WeakMap;function Lst(t){if(!Array.isArray(t))return t;let e=die.get(t);return e||die.set(t,e=VQ(t)),e}const SC=sn.define(),X1=sn.define();class Nst{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<e.length;){let s=Za(e,i),u=Yl(s);this.chars.push(s);let d=e.slice(i,i+u),h=d.toUpperCase();this.folded.push(Za(h==d?d.toLowerCase():h,0)),i+=u}this.astral=e.length!=this.chars.length}ret(e,i){return this.score=e,this.matched=i,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:i,folded:s,any:u,precise:d,byWord:h}=this;if(i.length==1){let Q=Za(e,0),B=Yl(Q),q=B==e.length?0:-100;if(Q!=i[0])if(Q==s[0])q+=-200;else return null;return this.ret(q,[0,B])}let m=e.indexOf(this.pattern);if(m==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let y=i.length,_=0;if(m<0){for(let Q=0,B=Math.min(e.length,200);Q<B&&_<y;){let q=Za(e,Q);(q==i[_]||q==s[_])&&(u[_++]=Q),Q+=Yl(q)}if(_<y)return null}let b=0,T=0,C=!1,A=0,D=-1,L=-1,z=/[a-z]/.test(e),$=!0;for(let Q=0,B=Math.min(e.length,200),q=0;Q<B&&T<y;){let Y=Za(e,Q);m<0&&(b<y&&Y==i[b]&&(d[b++]=Q),A<y&&(Y==i[A]||Y==s[A]?(A==0&&(D=Q),L=Q+1,A++):A=0));let G,H=Y<255?Y>=48&&Y<=57||Y>=97&&Y<=122?2:Y>=65&&Y<=90?1:0:(G=yQ(Y))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!Q||H==1&&z||q==0&&H!=0)&&(i[T]==Y||s[T]==Y&&(C=!0)?h[T++]=Q:h.length&&($=!1)),q=H,Q+=Yl(Y)}return T==y&&h[0]==0&&$?this.result(-100+(C?-200:0),h,e):A==y&&D==0?this.ret(-200-e.length+(L==e.length?0:-100),[0,L]):m>-1?this.ret(-700-e.length,[m,m+this.pattern.length]):A==y?this.ret(-900-e.length,[D,L]):T==y?this.result(-100+(C?-200:0)+-700+($?0:-1100),h,e):i.length==2?null:this.result((u[0]?-700:0)+-200+-1100,u,e)}result(e,i,s){let u=[],d=0;for(let h of i){let m=h+(this.astral?Yl(Za(s,h)):1);d&&u[d-1]==h?u[d-1]=m:(u[d++]=h,u[d++]=m)}return this.ret(e-s.length,u)}}class $st{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let i=e.slice(0,this.pattern.length),s=i==this.pattern?0:i.toLowerCase()==this.folded?-200:null;return s==null?null:(this.matched=[0,i.length],this.score=s+(e.length==this.pattern.length?0:-100),this)}}const $i=Ct.define({combine(t){return mu(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:zst,filterStrict:!1,compareCompletions:(e,i)=>(e.sortText||e.label).localeCompare(i.sortText||i.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,i)=>e&&i,closeOnBlur:(e,i)=>e&&i,icons:(e,i)=>e&&i,tooltipClass:(e,i)=>s=>fie(e(s),i(s)),optionClass:(e,i)=>s=>fie(e(s),i(s)),addToOptions:(e,i)=>e.concat(i),filterStrict:(e,i)=>e||i})}});function fie(t,e){return t?e?t+" "+e:t:e}function zst(t,e,i,s,u,d){let h=t.textDirection==cr.RTL,m=h,y=!1,_="top",b,T,C=e.left-u.left,A=u.right-e.right,D=s.right-s.left,L=s.bottom-s.top;if(m&&C<Math.min(D,A)?m=!1:!m&&A<Math.min(D,C)&&(m=!0),D<=(m?C:A))b=Math.max(u.top,Math.min(i.top,u.bottom-L))-e.top,T=Math.min(400,m?C:A);else{y=!0,T=Math.min(400,(h?e.right:u.right-e.left)-30);let Q=u.bottom-e.bottom;Q>=L||Q>e.top?b=i.bottom-e.top:(_="bottom",b=e.bottom-i.top)}let z=(e.bottom-e.top)/d.offsetHeight,$=(e.right-e.left)/d.offsetWidth;return{style:`${_}: ${b/z}px; max-width: ${T/$}px`,class:"cm-completionInfo-"+(y?h?"left-narrow":"right-narrow":m?"left":"right")}}function Bst(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(i){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),i.type&&s.classList.add(...i.type.split(/\s+/g).map(u=>"cm-completionIcon-"+u)),s.setAttribute("aria-hidden","true"),s},position:20}),e.push({render(i,s,u,d){let h=document.createElement("span");h.className="cm-completionLabel";let m=i.displayLabel||i.label,y=0;for(let _=0;_<d.length;){let b=d[_++],T=d[_++];b>y&&h.appendChild(document.createTextNode(m.slice(y,b)));let C=h.appendChild(document.createElement("span"));C.appendChild(document.createTextNode(m.slice(b,T))),C.className="cm-completionMatchedText",y=T}return y<m.length&&h.appendChild(document.createTextNode(m.slice(y))),h},position:50},{render(i){if(!i.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=i.detail,s},position:80}),e.sort((i,s)=>i.position-s.position).map(i=>i.render)}function JN(t,e,i){if(t<=i)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let u=Math.floor(e/i);return{from:u*i,to:(u+1)*i}}let s=Math.floor((t-e)/i);return{from:t-(s+1)*i,to:t-s*i}}class Qst{constructor(e,i,s){this.view=e,this.stateField=i,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:y=>this.placeInfo(y),key:this},this.space=null,this.currentClass="";let u=e.state.field(i),{options:d,selected:h}=u.open,m=e.state.facet($i);this.optionContent=Bst(m),this.optionClass=m.optionClass,this.tooltipClass=m.tooltipClass,this.range=JN(d.length,h,m.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",y=>{let{options:_}=e.state.field(i).open;for(let b=y.target,T;b&&b!=this.dom;b=b.parentNode)if(b.nodeName=="LI"&&(T=/-(\d+)$/.exec(b.id))&&+T[1]<_.length){this.applyCompletion(e,_[+T[1]]),y.preventDefault();return}}),this.dom.addEventListener("focusout",y=>{let _=e.state.field(this.stateField,!1);_&&_.tooltip&&e.state.facet($i).closeOnBlur&&y.relatedTarget!=e.contentDOM&&e.dispatch({effects:X1.of(null)})}),this.showOptions(d,u.id)}mount(){this.updateSel()}showOptions(e,i){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,i,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var i;let s=e.state.field(this.stateField),u=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),s!=u){let{options:d,selected:h,disabled:m}=s.open;(!u.open||u.open.options!=d)&&(this.range=JN(d.length,h,e.state.facet($i).maxRenderedOptions),this.showOptions(d,s.id)),this.updateSel(),m!=((i=u.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!m)}}updateTooltipClass(e){let i=this.tooltipClass(e);if(i!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of i.split(" "))s&&this.dom.classList.add(s);this.currentClass=i}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),i=e.open;(i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=JN(i.options.length,i.selected,this.view.state.facet($i).maxRenderedOptions),this.showOptions(i.options,e.id));let s=this.updateSelectedOption(i.selected);if(s){this.destroyInfo();let{completion:u}=i.options[i.selected],{info:d}=u;if(!d)return;let h=typeof d=="string"?document.createTextNode(d):d(u);if(!h)return;"then"in h?h.then(m=>{m&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(m,u)}).catch(m=>Ja(this.view.state,m,"completion info")):(this.addInfoPane(h,u),s.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,i){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",s.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)s.appendChild(e),this.infoDestroy=null;else{let{dom:u,destroy:d}=e;s.appendChild(u),this.infoDestroy=d||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let i=null;for(let s=this.list.firstChild,u=this.range.from;s;s=s.nextSibling,u++)s.nodeName!="LI"||!s.id?u--:u==e?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),i=s):s.hasAttribute("aria-selected")&&(s.removeAttribute("aria-selected"),s.removeAttribute("aria-describedby"));return i&&Vst(this.list,i),i}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let i=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),u=e.getBoundingClientRect(),d=this.space;if(!d){let h=this.dom.ownerDocument.documentElement;d={left:0,top:0,right:h.clientWidth,bottom:h.clientHeight}}return u.top>Math.min(d.bottom,i.bottom)-10||u.bottom<Math.max(d.top,i.top)+10?null:this.view.state.facet($i).positionInfo(this.view,i,u,s,d,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,i,s){const u=document.createElement("ul");u.id=i,u.setAttribute("role","listbox"),u.setAttribute("aria-expanded","true"),u.setAttribute("aria-label",this.view.state.phrase("Completions")),u.addEventListener("mousedown",h=>{h.target==u&&h.preventDefault()});let d=null;for(let h=s.from;h<s.to;h++){let{completion:m,match:y}=e[h],{section:_}=m;if(_){let C=typeof _=="string"?_:_.name;if(C!=d&&(h>s.from||s.from==0))if(d=C,typeof _!="string"&&_.header)u.appendChild(_.header(_));else{let A=u.appendChild(document.createElement("completion-section"));A.textContent=C}}const b=u.appendChild(document.createElement("li"));b.id=i+"-"+h,b.setAttribute("role","option");let T=this.optionClass(m);T&&(b.className=T);for(let C of this.optionContent){let A=C(m,this.view.state,this.view,y);A&&b.appendChild(A)}}return s.from&&u.classList.add("cm-completionListIncompleteTop"),s.to<e.length&&u.classList.add("cm-completionListIncompleteBottom"),u}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function jst(t,e){return i=>new Qst(i,t,e)}function Vst(t,e){let i=t.getBoundingClientRect(),s=e.getBoundingClientRect(),u=i.height/t.offsetHeight;s.top<i.top?t.scrollTop-=(i.top-s.top)/u:s.bottom>i.bottom&&(t.scrollTop+=(s.bottom-i.bottom)/u)}function hie(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Fst(t,e){let i=[],s=null,u=null,d=b=>{i.push(b);let{section:T}=b.completion;if(T){s||(s=[]);let C=typeof T=="string"?T:T.name;s.some(A=>A.name==C)||s.push(typeof T=="string"?{name:C}:T)}},h=e.facet($i);for(let b of t)if(b.hasResult()){let T=b.result.getMatch;if(b.result.filter===!1)for(let C of b.result.options)d(new cie(C,b.source,T?T(C):[],1e9-i.length));else{let C=e.sliceDoc(b.from,b.to),A,D=h.filterStrict?new $st(C):new Nst(C);for(let L of b.result.options)if(A=D.match(L.label)){let z=L.displayLabel?T?T(L,A.matched):[]:A.matched,$=A.score+(L.boost||0);if(d(new cie(L,b.source,z,$)),typeof L.section=="object"&&L.section.rank==="dynamic"){let{name:Q}=L.section;u||(u=Object.create(null)),u[Q]=Math.max($,u[Q]||-1e9)}}}}if(s){let b=Object.create(null),T=0,C=(A,D)=>(A.rank==="dynamic"&&D.rank==="dynamic"?u[D.name]-u[A.name]:0)||(typeof A.rank=="number"?A.rank:1e9)-(typeof D.rank=="number"?D.rank:1e9)||(A.name<D.name?-1:1);for(let A of s.sort(C))T-=1e5,b[A.name]=T;for(let A of i){let{section:D}=A.completion;D&&(A.score+=b[typeof D=="string"?D:D.name])}}let m=[],y=null,_=h.compareCompletions;for(let b of i.sort((T,C)=>C.score-T.score||_(T.completion,C.completion))){let T=b.completion;!y||y.label!=T.label||y.detail!=T.detail||y.type!=null&&T.type!=null&&y.type!=T.type||y.apply!=T.apply||y.boost!=T.boost?m.push(b):hie(b.completion)>hie(y)&&(m[m.length-1]=b),y=b.completion}return m}class Lg{constructor(e,i,s,u,d,h){this.options=e,this.attrs=i,this.tooltip=s,this.timestamp=u,this.selected=d,this.disabled=h}setSelected(e,i){return e==this.selected||e>=this.options.length?this:new Lg(this.options,pie(i,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,i,s,u,d,h){if(u&&!h&&e.some(_=>_.isPending))return u.setDisabled();let m=Fst(e,i);if(!m.length)return u&&e.some(_=>_.isPending)?u.setDisabled():null;let y=i.facet($i).selectOnOpen?0:-1;if(u&&u.selected!=y&&u.selected!=-1){let _=u.options[u.selected].completion;for(let b=0;b<m.length;b++)if(m[b].completion==_){y=b;break}}return new Lg(m,pie(s,y),{pos:e.reduce((_,b)=>b.hasResult()?Math.min(_,b.from):_,1e8),create:Hst,above:d.aboveCursor},u?u.timestamp:Date.now(),y,!1)}map(e){return new Lg(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Lg(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class TC{constructor(e,i,s){this.active=e,this.id=i,this.open=s}static start(){return new TC(qst,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:i}=e,s=i.facet($i),d=(s.override||i.languageDataAt("autocomplete",Jh(i)).map(Lst)).map(y=>(this.active.find(b=>b.source==y)||new ls(y,this.active.some(b=>b.state!=0)?1:0)).update(e,s));d.length==this.active.length&&d.every((y,_)=>y==this.active[_])&&(d=this.active);let h=this.open,m=e.effects.some(y=>y.is(GQ));h&&e.docChanged&&(h=h.map(e.changes)),e.selection||d.some(y=>y.hasResult()&&e.changes.touchesRange(y.from,y.to))||!Gst(d,this.active)||m?h=Lg.build(d,i,this.id,h,s,m):h&&h.disabled&&!d.some(y=>y.isPending)&&(h=null),!h&&d.every(y=>!y.isPending)&&d.some(y=>y.hasResult())&&(d=d.map(y=>y.hasResult()?new ls(y.source,0):y));for(let y of e.effects)y.is(jme)&&(h=h&&h.setSelected(y.value,this.id));return d==this.active&&h==this.open?this:new TC(d,this.id,h)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Wst:Ust}}function Gst(t,e){if(t==e)return!0;for(let i=0,s=0;;){for(;i<t.length&&!t[i].hasResult();)i++;for(;s<e.length&&!e[s].hasResult();)s++;let u=i==t.length,d=s==e.length;if(u||d)return u==d;if(t[i++].result!=e[s++].result)return!1}}const Wst={"aria-autocomplete":"list"},Ust={};function pie(t,e){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(i["aria-activedescendant"]=t+"-"+e),i}const qst=[];function Qme(t,e){if(t.isUserEvent("input.complete")){let s=t.annotation(FQ);if(s&&e.activateOnCompletion(s))return 12}let i=t.isUserEvent("input.type");return i&&e.activateOnTyping?5:i?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ls{constructor(e,i,s=!1){this.source=e,this.state=i,this.explicit=s}hasResult(){return!1}get isPending(){return this.state==1}update(e,i){let s=Qme(e,i),u=this;(s&8||s&16&&this.touches(e))&&(u=new ls(u.source,0)),s&4&&u.state==0&&(u=new ls(this.source,1)),u=u.updateFor(e,s);for(let d of e.effects)if(d.is(SC))u=new ls(u.source,1,d.value);else if(d.is(X1))u=new ls(u.source,0);else if(d.is(GQ))for(let h of d.value)h.source==u.source&&(u=h);return u}updateFor(e,i){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Jh(e.state))}}class Hg extends ls{constructor(e,i,s,u,d,h){super(e,3,i),this.limit=s,this.result=u,this.from=d,this.to=h}hasResult(){return!0}updateFor(e,i){var s;if(!(i&3))return this.map(e.changes);let u=this.result;u.map&&!e.changes.empty&&(u=u.map(u,e.changes));let d=e.changes.mapPos(this.from),h=e.changes.mapPos(this.to,1),m=Jh(e.state);if(m>h||!u||i&2&&(Jh(e.startState)==this.from||m<this.limit))return new ls(this.source,i&4?1:0);let y=e.changes.mapPos(this.limit);return Zst(u.validFor,e.state,d,h)?new Hg(this.source,this.explicit,y,u,d,h):u.update&&(u=u.update(u,d,h,new $me(e.state,m,!1)))?new Hg(this.source,this.explicit,y,u,u.from,(s=u.to)!==null&&s!==void 0?s:Jh(e.state)):new ls(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Hg(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ls(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Zst(t,e,i,s){if(!t)return!1;let u=e.sliceDoc(i,s);return typeof t=="function"?t(u,i,s,e):Bme(t,!0).test(u)}const GQ=sn.define({map(t,e){return t.map(i=>i.map(e))}}),jme=sn.define(),Ha=Qi.define({create(){return TC.start()},update(t,e){return t.update(e)},provide:t=>[LQ.from(t,e=>e.tooltip),St.contentAttributes.from(t,e=>e.attrs)]});function WQ(t,e){const i=e.completion.apply||e.completion.label;let s=t.state.field(Ha).active.find(u=>u.source==e.source);return s instanceof Hg?(typeof i=="string"?t.dispatch({...Rst(t.state,i,s.from,s.to),annotations:FQ.of(e.completion)}):i(t,e.completion,s.from,s.to),!0):!1}const Hst=jst(Ha,WQ);function TS(t,e="option"){return i=>{let s=i.state.field(Ha,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<i.state.facet($i).interactionDelay)return!1;let u=1,d;e=="page"&&(d=hme(i,s.open.tooltip))&&(u=Math.max(2,Math.floor(d.dom.offsetHeight/d.dom.querySelector("li").offsetHeight)-1));let{length:h}=s.open.options,m=s.open.selected>-1?s.open.selected+u*(t?1:-1):t?0:h-1;return m<0?m=e=="page"?0:h-1:m>=h&&(m=e=="page"?h-1:0),i.dispatch({effects:jme.of(m)}),!0}}const Xst=t=>{let e=t.state.field(Ha,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet($i).interactionDelay?!1:WQ(t,e.open.options[e.open.selected])},e3=t=>t.state.field(Ha,!1)?(t.dispatch({effects:SC.of(!0)}),!0):!1,Yst=t=>{let e=t.state.field(Ha,!1);return!e||!e.active.some(i=>i.state!=0)?!1:(t.dispatch({effects:X1.of(null)}),!0)};class Kst{constructor(e,i){this.active=e,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const Jst=50,elt=1e3,tlt=li.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Ha).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Ha),i=t.state.facet($i);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ha)==e)return;let s=t.transactions.some(d=>{let h=Qme(d,i);return h&8||(d.selection||d.docChanged)&&!(h&3)});for(let d=0;d<this.running.length;d++){let h=this.running[d];if(s||h.context.abortOnDocChange&&t.docChanged||h.updates.length+t.transactions.length>Jst&&Date.now()-h.time>elt){for(let m of h.context.abortListeners)try{m()}catch(y){Ja(this.view.state,y)}h.context.abortListeners=null,this.running.splice(d--,1)}else h.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(d=>d.effects.some(h=>h.is(SC)))&&(this.pendingStart=!0);let u=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(d=>d.isPending&&!this.running.some(h=>h.active.source==d.source))?setTimeout(()=>this.startUpdate(),u):-1,this.composing!=0)for(let d of t.transactions)d.isUserEvent("input.type")?this.composing=2:this.composing==2&&d.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Ha);for(let i of e.active)i.isPending&&!this.running.some(s=>s.active.source==i.source)&&this.startQuery(i);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($i).updateSyncTime))}startQuery(t){let{state:e}=this.view,i=Jh(e),s=new $me(e,i,t.explicit,this.view),u=new Kst(t,s);this.running.push(u),Promise.resolve(t.source(s)).then(d=>{u.context.aborted||(u.done=d||null,this.scheduleAccept())},d=>{this.view.dispatch({effects:X1.of(null)}),Ja(this.view.state,d)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($i).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet($i),s=this.view.state.field(Ha);for(let u=0;u<this.running.length;u++){let d=this.running[u];if(d.done===void 0)continue;if(this.running.splice(u--,1),d.done){let m=Jh(d.updates.length?d.updates[0].startState:this.view.state),y=Math.min(m,d.done.from+(d.active.explicit?0:1)),_=new Hg(d.active.source,d.active.explicit,y,d.done,d.done.from,(t=d.done.to)!==null&&t!==void 0?t:m);for(let b of d.updates)_=_.update(b,i);if(_.hasResult()){e.push(_);continue}}let h=s.active.find(m=>m.source==d.active.source);if(h&&h.isPending)if(d.done==null){let m=new ls(d.active.source,0);for(let y of d.updates)m=m.update(y,i);m.isPending||e.push(m)}else this.startQuery(h)}(e.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:GQ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ha,!1);if(e&&e.tooltip&&this.view.state.facet($i).closeOnBlur){let i=e.open&&hme(this.view,e.open.tooltip);(!i||!i.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:X1.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:SC.of(!1)}),20),this.composing=0}}}),nlt=typeof navigator=="object"&&/Win/.test(navigator.platform),rlt=tf.highest(St.domEventHandlers({keydown(t,e){let i=e.state.field(Ha,!1);if(!i||!i.open||i.open.disabled||i.open.selected<0||t.key.length>1||t.ctrlKey&&!(nlt&&t.altKey)||t.metaKey)return!1;let s=i.open.options[i.open.selected],u=i.active.find(h=>h.source==s.source),d=s.completion.commitCharacters||u.result.commitCharacters;return d&&d.indexOf(t.key)>-1&&WQ(e,s),!1}})),Vme=St.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class ilt{constructor(e,i,s,u){this.field=e,this.line=i,this.from=s,this.to=u}}class UQ{constructor(e,i,s){this.field=e,this.from=i,this.to=s}map(e){let i=e.mapPos(this.from,-1,Hi.TrackDel),s=e.mapPos(this.to,1,Hi.TrackDel);return i==null||s==null?null:new UQ(this.field,i,s)}}class qQ{constructor(e,i){this.lines=e,this.fieldPositions=i}instantiate(e,i){let s=[],u=[i],d=e.doc.lineAt(i),h=/^\s*/.exec(d.text)[0];for(let y of this.lines){if(s.length){let _=h,b=/^\t*/.exec(y)[0].length;for(let T=0;T<b;T++)_+=e.facet(fA);u.push(i+_.length-b),y=_+y.slice(b)}s.push(y),i+=y.length+1}let m=this.fieldPositions.map(y=>new UQ(y.field,u[y.line]+y.from,u[y.line]+y.to));return{text:s,ranges:m}}static parse(e){let i=[],s=[],u=[],d;for(let h of e.split(/\r\n?|\n/)){for(;d=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(h);){let m=d[1]?+d[1]:null,y=d[2]||d[3]||"",_=-1,b=y.replace(/\\[{}]/g,T=>T[1]);for(let T=0;T<i.length;T++)(m!=null?i[T].seq==m:b&&i[T].name==b)&&(_=T);if(_<0){let T=0;for(;T<i.length&&(m==null||i[T].seq!=null&&i[T].seq<m);)T++;i.splice(T,0,{seq:m,name:b}),_=T;for(let C of u)C.field>=_&&C.field++}for(let T of u)if(T.line==s.length&&T.from>d.index){let C=d[2]?3+(d[1]||"").length:2;T.from-=C,T.to-=C}u.push(new ilt(_,s.length,d.index,d.index+b.length)),h=h.slice(0,d.index)+y+h.slice(d.index+d[0].length)}h=h.replace(/\\([{}])/g,(m,y,_)=>{for(let b of u)b.line==s.length&&b.from>_&&(b.from--,b.to--);return y}),s.push(h)}return new qQ(s,u)}}let alt=Wt.widget({widget:new class extends gu{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),olt=Wt.mark({class:"cm-snippetField"});class Pv{constructor(e,i){this.ranges=e,this.active=i,this.deco=Wt.set(e.map(s=>(s.from==s.to?alt:olt).range(s.from,s.to)),!0)}map(e){let i=[];for(let s of this.ranges){let u=s.map(e);if(!u)return null;i.push(u)}return new Pv(i,this.active)}selectionInsideField(e){return e.ranges.every(i=>this.ranges.some(s=>s.field==this.active&&s.from<=i.from&&s.to>=i.to))}}const U_=sn.define({map(t,e){return t&&t.map(e)}}),slt=sn.define(),Y1=Qi.define({create(){return null},update(t,e){for(let i of e.effects){if(i.is(U_))return i.value;if(i.is(slt)&&t)return new Pv(t.ranges,i.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>St.decorations.from(t,e=>e?e.deco:Wt.none)});function ZQ(t,e){return Ye.create(t.filter(i=>i.field==e).map(i=>Ye.range(i.from,i.to)))}function llt(t){let e=qQ.parse(t);return(i,s,u,d)=>{let{text:h,ranges:m}=e.instantiate(i.state,u),{main:y}=i.state.selection,_={changes:{from:u,to:d==y.from?y.to:d,insert:Zn.of(h)},scrollIntoView:!0,annotations:s?[FQ.of(s),Fr.userEvent.of("input.complete")]:void 0};if(m.length&&(_.selection=ZQ(m,0)),m.some(b=>b.field>0)){let b=new Pv(m,0),T=_.effects=[U_.of(b)];i.state.field(Y1,!1)===void 0&&T.push(sn.appendConfig.of([Y1,hlt,plt,Vme]))}i.dispatch(i.state.update(_))}}function Fme(t){return({state:e,dispatch:i})=>{let s=e.field(Y1,!1);if(!s||t<0&&s.active==0)return!1;let u=s.active+t,d=t>0&&!s.ranges.some(h=>h.field==u+t);return i(e.update({selection:ZQ(s.ranges,u),effects:U_.of(d?null:new Pv(s.ranges,u)),scrollIntoView:!0})),!0}}const ult=({state:t,dispatch:e})=>t.field(Y1,!1)?(e(t.update({effects:U_.of(null)})),!0):!1,clt=Fme(1),dlt=Fme(-1),flt=[{key:"Tab",run:clt,shift:dlt},{key:"Escape",run:ult}],mie=Ct.define({combine(t){return t.length?t[0]:flt}}),hlt=tf.highest(cA.compute([mie],t=>t.facet(mie)));function Ar(t,e){return{...e,apply:llt(t)}}const plt=St.domEventHandlers({mousedown(t,e){let i=e.state.field(Y1,!1),s;if(!i||(s=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let u=i.ranges.find(d=>d.from<=s&&d.to>=s);return!u||u.field==i.active?!1:(e.dispatch({selection:ZQ(i.ranges,u.field),effects:U_.of(i.ranges.some(d=>d.field>u.field)?new Pv(i.ranges,u.field):null),scrollIntoView:!0}),!0)}}),K1={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Zh=sn.define({map(t,e){let i=e.mapPos(t,-1,Hi.TrackAfter);return i??void 0}}),HQ=new class extends Fd{};HQ.startSide=1;HQ.endSide=-1;const Gme=Qi.define({create(){return kn.empty},update(t,e){if(t=t.map(e.changes),e.selection){let i=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:s=>s>=i.from&&s<=i.to})}for(let i of e.effects)i.is(Zh)&&(t=t.update({add:[HQ.range(i.value,i.value+1)]}));return t}});function mlt(){return[vlt,Gme]}const t3="()[]{}<>«»»«［］｛｝";function Wme(t){for(let e=0;e<t3.length;e+=2)if(t3.charCodeAt(e)==t)return t3.charAt(e+1);return yQ(t<128?t:t+1)}function Ume(t,e){return t.languageDataAt("closeBrackets",e)[0]||K1}const glt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vlt=St.inputHandler.of((t,e,i,s)=>{if((glt?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let u=t.state.selection.main;if(s.length>2||s.length==2&&Yl(Za(s,0))==1||e!=u.from||i!=u.to)return!1;let d=_lt(t.state,s);return d?(t.dispatch(d),!0):!1}),ylt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let s=Ume(t,t.selection.main.head).brackets||K1.brackets,u=null,d=t.changeByRange(h=>{if(h.empty){let m=Olt(t.doc,h.head);for(let y of s)if(y==m&&mA(t.doc,h.head)==Wme(Za(y,0)))return{changes:{from:h.head-y.length,to:h.head+y.length},range:Ye.cursor(h.head-y.length)}}return{range:u=h}});return u||e(t.update(d,{scrollIntoView:!0,userEvent:"delete.backward"})),!u},xlt=[{key:"Backspace",run:ylt}];function _lt(t,e){let i=Ume(t,t.selection.main.head),s=i.brackets||K1.brackets;for(let u of s){let d=Wme(Za(u,0));if(e==u)return d==u?Slt(t,u,s.indexOf(u+u+u)>-1,i):blt(t,u,d,i.before||K1.before);if(e==d&&qme(t,t.selection.main.from))return wlt(t,u,d)}return null}function qme(t,e){let i=!1;return t.field(Gme).between(0,t.doc.length,s=>{s==e&&(i=!0)}),i}function mA(t,e){let i=t.sliceString(e,e+2);return i.slice(0,Yl(Za(i,0)))}function Olt(t,e){let i=t.sliceString(e-2,e);return Yl(Za(i,0))==i.length?i:i.slice(1)}function blt(t,e,i,s){let u=null,d=t.changeByRange(h=>{if(!h.empty)return{changes:[{insert:e,from:h.from},{insert:i,from:h.to}],effects:Zh.of(h.to+e.length),range:Ye.range(h.anchor+e.length,h.head+e.length)};let m=mA(t.doc,h.head);return!m||/\s/.test(m)||s.indexOf(m)>-1?{changes:{insert:e+i,from:h.head},effects:Zh.of(h.head+e.length),range:Ye.cursor(h.head+e.length)}:{range:u=h}});return u?null:t.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function wlt(t,e,i){let s=null,u=t.changeByRange(d=>d.empty&&mA(t.doc,d.head)==i?{changes:{from:d.head,to:d.head+i.length,insert:i},range:Ye.cursor(d.head+i.length)}:s={range:d});return s?null:t.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function Slt(t,e,i,s){let u=s.stringPrefixes||K1.stringPrefixes,d=null,h=t.changeByRange(m=>{if(!m.empty)return{changes:[{insert:e,from:m.from},{insert:e,from:m.to}],effects:Zh.of(m.to+e.length),range:Ye.range(m.anchor+e.length,m.head+e.length)};let y=m.head,_=mA(t.doc,y),b;if(_==e){if(gie(t,y))return{changes:{insert:e+e,from:y},effects:Zh.of(y+e.length),range:Ye.cursor(y+e.length)};if(qme(t,y)){let C=i&&t.sliceDoc(y,y+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:y,to:y+C.length,insert:C},range:Ye.cursor(y+C.length)}}}else{if(i&&t.sliceDoc(y-2*e.length,y)==e+e&&(b=vie(t,y-2*e.length,u))>-1&&gie(t,b))return{changes:{insert:e+e+e+e,from:y},effects:Zh.of(y+e.length),range:Ye.cursor(y+e.length)};if(t.charCategorizer(y)(_)!=Sr.Word&&vie(t,y,u)>-1&&!Tlt(t,y,e,u))return{changes:{insert:e+e,from:y},effects:Zh.of(y+e.length),range:Ye.cursor(y+e.length)}}return{range:d=m}});return d?null:t.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function gie(t,e){let i=ui(t).resolveInner(e+1);return i.parent&&i.from==e}function Tlt(t,e,i,s){let u=ui(t).resolveInner(e,-1),d=s.reduce((h,m)=>Math.max(h,m.length),0);for(let h=0;h<5;h++){let m=t.sliceDoc(u.from,Math.min(u.to,u.from+i.length+d)),y=m.indexOf(i);if(!y||y>-1&&s.indexOf(m.slice(0,y))>-1){let b=u.firstChild;for(;b&&b.from==u.from&&b.to-b.from>i.length+y;){if(t.sliceDoc(b.to-i.length,b.to)==i)return!1;b=b.firstChild}return!0}let _=u.to==e&&u.parent;if(!_)break;u=_}return!1}function vie(t,e,i){let s=t.charCategorizer(e);if(s(t.sliceDoc(e-1,e))!=Sr.Word)return e;for(let u of i){let d=e-u.length;if(t.sliceDoc(d,e)==u&&s(t.sliceDoc(d-1,d))!=Sr.Word)return d}return-1}function Clt(t={}){return[rlt,Ha,$i.of(t),tlt,klt,Vme]}const Zme=[{key:"Ctrl-Space",run:e3},{mac:"Alt-`",run:e3},{mac:"Alt-i",run:e3},{key:"Escape",run:Yst},{key:"ArrowDown",run:TS(!0)},{key:"ArrowUp",run:TS(!1)},{key:"PageDown",run:TS(!0,"page")},{key:"PageUp",run:TS(!1,"page")},{key:"Enter",run:Xst}],klt=tf.highest(cA.computeN([$i],t=>t.facet($i).defaultKeymap?[Zme]:[])),Hme=[Ar("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ar("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ar("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ar("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ar("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ar(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ar("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ar(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ar(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ar('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ar('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Alt=Hme.concat([Ar("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ar("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ar("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),yie=new jhe,Xme=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function px(t){return(e,i)=>{let s=e.node.getChild("VariableDefinition");return s&&i(s,t),!0}}const Plt=["FunctionDeclaration"],Elt={FunctionDeclaration:px("function"),ClassDeclaration:px("class"),ClassExpression:()=>!0,EnumDeclaration:px("constant"),TypeAliasDeclaration:px("type"),NamespaceDeclaration:px("namespace"),VariableDefinition(t,e){t.matchContext(Plt)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Yme(t,e){let i=yie.get(e);if(i)return i;let s=[],u=!0;function d(h,m){let y=t.sliceString(h.from,h.to);s.push({label:y,type:m})}return e.cursor(wr.IncludeAnonymous).iterate(h=>{if(u)u=!1;else if(h.name){let m=Elt[h.name];if(m&&m(h,d)||Xme.has(h.name))return!1}else if(h.to-h.from>8192){for(let m of Yme(t,h.node))s.push(m);return!1}}),yie.set(e,s),s}const xie=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Kme=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Mlt(t){let e=ui(t.state).resolveInner(t.pos,-1);if(Kme.indexOf(e.name)>-1)return null;let i=e.name=="VariableName"||e.to-e.from<20&&xie.test(t.state.sliceDoc(e.from,e.to));if(!i&&!t.explicit)return null;let s=[];for(let u=e;u;u=u.parent)Xme.has(u.name)&&(s=s.concat(Yme(t.state.doc,u)));return{options:s,from:i?e.from:t.pos,validFor:xie}}const ep=Z1.define({name:"javascript",parser:Lrt.configure({props:[BQ.add({IfStatement:HN({except:/^\s*({|else\b)/}),TryStatement:HN({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:est,SwitchBody:t=>{let e=t.textAfter,i=/^\s*\}/.test(e),s=/^\s*(case|default)\b/.test(e);return t.baseIndent+(i?0:s?1:2)*t.unit},Block:_T({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":HN({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),jQ.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Sme,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Jme={test:t=>/^JSX/.test(t.name),facet:xme({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Dlt=ep.configure({dialect:"ts"},"typescript"),Ilt=ep.configure({dialect:"jsx",props:[$Q.add(t=>t.isTop?[Jme]:void 0)]}),Rlt=ep.configure({dialect:"jsx ts",props:[$Q.add(t=>t.isTop?[Jme]:void 0)]},"typescript");let ege=t=>({label:t,type:"keyword"});const tge="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(ege),Llt=tge.concat(["declare","implements","private","protected","public"].map(ege));function CS(t={}){let e=t.jsx?t.typescript?Rlt:Ilt:t.typescript?Dlt:ep,i=t.typescript?Alt.concat(Llt):Hme.concat(tge);return new Ome(e,[ep.data.of({autocomplete:zme(Kme,VQ(i))}),ep.data.of({autocomplete:Mlt}),t.jsx?zlt:[]])}function Nlt(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function _ie(t,e,i=t.length){for(let s=e?.firstChild;s;s=s.nextSibling)if(s.name=="JSXIdentifier"||s.name=="JSXBuiltin"||s.name=="JSXNamespacedName"||s.name=="JSXMemberExpression")return t.sliceString(s.from,Math.min(s.to,i));return""}const $lt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),zlt=St.inputHandler.of((t,e,i,s,u)=>{if(($lt?t.composing:t.compositionStarted)||t.state.readOnly||e!=i||s!=">"&&s!="/"||!ep.isActiveAt(t.state,e,-1))return!1;let d=u(),{state:h}=d,m=h.changeByRange(y=>{var _;let{head:b}=y,T=ui(h).resolveInner(b-1,-1),C;if(T.name=="JSXStartTag"&&(T=T.parent),!(h.doc.sliceString(b-1,b)!=s||T.name=="JSXAttributeValue"&&T.to>b)){if(s==">"&&T.name=="JSXFragmentTag")return{range:y,changes:{from:b,insert:"</>"}};if(s=="/"&&T.name=="JSXStartCloseTag"){let A=T.parent,D=A.parent;if(D&&A.from==b-2&&((C=_ie(h.doc,D.firstChild,b))||((_=D.firstChild)===null||_===void 0?void 0:_.name)=="JSXFragmentTag")){let L=`${C}>`;return{range:Ye.cursor(b+L.length,-1),changes:{from:b,insert:L}}}}else if(s==">"){let A=Nlt(T);if(A&&A.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(h.doc.sliceString(b,b+2))&&(C=_ie(h.doc,A,b)))return{range:y,changes:{from:b,insert:`</${C}>`}}}}return{range:y}});return m.changes.empty?!1:(t.dispatch([d,h.update(m,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Blt=1,nge=194,rge=195,Qlt=196,Oie=197,jlt=198,Vlt=199,Flt=200,Glt=2,ige=3,bie=201,Wlt=24,Ult=25,qlt=49,Zlt=50,Hlt=55,Xlt=56,Ylt=57,Klt=59,Jlt=60,eut=61,tut=62,nut=63,rut=65,iut=238,aut=71,out=241,sut=242,lut=243,uut=244,cut=245,dut=246,fut=247,hut=248,age=72,put=249,mut=250,gut=251,vut=252,yut=253,xut=254,_ut=255,Out=256,but=73,wut=77,Sut=263,Tut=112,Cut=130,kut=151,Aut=152,Put=155,hp=10,J1=13,XQ=32,gA=9,YQ=35,Eut=40,Mut=46,$$=123,wie=125,oge=39,sge=34,Sie=92,Dut=111,Iut=120,Rut=78,Lut=117,Nut=85,$ut=new Set([Ult,qlt,Zlt,Sut,rut,Cut,Xlt,Ylt,iut,tut,nut,age,but,wut,Jlt,eut,kut,Aut,Put,Tut]);function n3(t){return t==hp||t==J1}function r3(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const zut=new Sc((t,e)=>{let i;if(t.next<0)t.acceptToken(Vlt);else if(e.context.flags&OT)n3(t.next)&&t.acceptToken(jlt,1);else if(((i=t.peek(-1))<0||n3(i))&&e.canShift(Oie)){let s=0;for(;t.next==XQ||t.next==gA;)t.advance(),s++;(t.next==hp||t.next==J1||t.next==YQ)&&t.acceptToken(Oie,-s)}else n3(t.next)&&t.acceptToken(Qlt,1)},{contextual:!0}),But=new Sc((t,e)=>{let i=e.context;if(i.flags)return;let s=t.peek(-1);if(s==hp||s==J1){let u=0,d=0;for(;;){if(t.next==XQ)u++;else if(t.next==gA)u+=8-u%8;else break;t.advance(),d++}u!=i.indent&&t.next!=hp&&t.next!=J1&&t.next!=YQ&&(u<i.indent?t.acceptToken(rge,-d):t.acceptToken(nge))}}),OT=1,lge=2,Ju=4,ec=8,tc=16,nc=32;function bT(t,e,i){this.parent=t,this.indent=e,this.flags=i,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+i+(i<<6)}const Qut=new bT(null,0,0);function jut(t){let e=0;for(let i=0;i<t.length;i++)e+=t.charCodeAt(i)==gA?8-e%8:1;return e}const Tie=new Map([[out,0],[sut,Ju],[lut,ec],[uut,ec|Ju],[cut,tc],[dut,tc|Ju],[fut,tc|ec],[hut,tc|ec|Ju],[put,nc],[mut,nc|Ju],[gut,nc|ec],[vut,nc|ec|Ju],[yut,nc|tc],[xut,nc|tc|Ju],[_ut,nc|tc|ec],[Out,nc|tc|ec|Ju]].map(([t,e])=>[t,e|lge])),Vut=new Ghe({start:Qut,reduce(t,e,i,s){return t.flags&OT&&$ut.has(e)||(e==aut||e==age)&&t.flags&lge?t.parent:t},shift(t,e,i,s){return e==nge?new bT(t,jut(s.read(s.pos,i.pos)),0):e==rge?t.parent:e==Wlt||e==Hlt||e==Klt||e==ige?new bT(t,0,OT):Tie.has(e)?new bT(t,0,Tie.get(e)|t.flags&OT):t},hash(t){return t.hash}}),Fut=new Sc(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let i=t.peek(e);if(!(i==XQ||i==gA)){i!=Eut&&i!=Mut&&i!=hp&&i!=J1&&i!=YQ&&t.acceptToken(Blt);return}}}),Gut=new Sc((t,e)=>{let{flags:i}=e.context,s=i&Ju?sge:oge,u=(i&ec)>0,d=!(i&tc),h=(i&nc)>0,m=t.pos;for(;!(t.next<0);)if(h&&t.next==$$)if(t.peek(1)==$$)t.advance(2);else{if(t.pos==m){t.acceptToken(ige,1);return}break}else if(d&&t.next==Sie){if(t.pos==m){t.advance();let y=t.next;y>=0&&(t.advance(),Wut(t,y)),t.acceptToken(Glt);return}break}else if(t.next==Sie&&!d&&t.peek(1)>-1)t.advance(2);else if(t.next==s&&(!u||t.peek(1)==s&&t.peek(2)==s)){if(t.pos==m){t.acceptToken(bie,u?3:1);return}break}else if(t.next==hp){if(u)t.advance();else if(t.pos==m){t.acceptToken(bie);return}break}else t.advance();t.pos>m&&t.acceptToken(Flt)});function Wut(t,e){if(e==Dut)for(let i=0;i<2&&t.next>=48&&t.next<=55;i++)t.advance();else if(e==Iut)for(let i=0;i<2&&r3(t.next);i++)t.advance();else if(e==Lut)for(let i=0;i<4&&r3(t.next);i++)t.advance();else if(e==Nut)for(let i=0;i<8&&r3(t.next);i++)t.advance();else if(e==Rut&&t.next==$$){for(t.advance();t.next>=0&&t.next!=wie&&t.next!=oge&&t.next!=sge&&t.next!=hp;)t.advance();t.next==wie&&t.advance()}}const Uut=vQ({'async "*" "**" FormatConversion FormatSpec':Te.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Te.controlKeyword,"in not and or is del":Te.operatorKeyword,"from def class global nonlocal lambda":Te.definitionKeyword,import:Te.moduleKeyword,"with as print":Te.keyword,Boolean:Te.bool,None:Te.null,VariableName:Te.variableName,"CallExpression/VariableName":Te.function(Te.variableName),"FunctionDefinition/VariableName":Te.function(Te.definition(Te.variableName)),"ClassDefinition/VariableName":Te.definition(Te.className),PropertyName:Te.propertyName,"CallExpression/MemberExpression/PropertyName":Te.function(Te.propertyName),Comment:Te.lineComment,Number:Te.number,String:Te.string,FormatString:Te.special(Te.string),Escape:Te.escape,UpdateOp:Te.updateOperator,"ArithOp!":Te.arithmeticOperator,BitOp:Te.bitwiseOperator,CompareOp:Te.compareOperator,AssignOp:Te.definitionOperator,Ellipsis:Te.punctuation,At:Te.meta,"( )":Te.paren,"[ ]":Te.squareBracket,"{ }":Te.brace,".":Te.derefOperator,", ;":Te.separator}),qut={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},Zut=B1.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Vut,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Uut],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Fut,But,zut,Gut,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>qut[t]||-1}],tokenPrec:7668}),Cie=new jhe,uge=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function kS(t){return(e,i,s)=>{if(s)return!1;let u=e.node.getChild("VariableName");return u&&i(u,t),!0}}const Hut={FunctionDefinition:kS("function"),ClassDefinition:kS("class"),ForStatement(t,e,i){if(i){for(let s=t.node.firstChild;s;s=s.nextSibling)if(s.name=="VariableName")e(s,"variable");else if(s.name=="in")break}},ImportStatement(t,e){var i,s;let{node:u}=t,d=((i=u.firstChild)===null||i===void 0?void 0:i.name)=="from";for(let h=u.getChild("import");h;h=h.nextSibling)h.name=="VariableName"&&((s=h.nextSibling)===null||s===void 0?void 0:s.name)!="as"&&e(h,d?"variable":"namespace")},AssignStatement(t,e){for(let i=t.node.firstChild;i;i=i.nextSibling)if(i.name=="VariableName")e(i,"variable");else if(i.name==":"||i.name=="AssignOp")break},ParamList(t,e){for(let i=null,s=t.node.firstChild;s;s=s.nextSibling)s.name=="VariableName"&&(!i||!/\*|AssignOp/.test(i.name))&&e(s,"variable"),i=s},CapturePattern:kS("variable"),AsPattern:kS("variable"),__proto__:null};function cge(t,e){let i=Cie.get(e);if(i)return i;let s=[],u=!0;function d(h,m){let y=t.sliceString(h.from,h.to);s.push({label:y,type:m})}return e.cursor(wr.IncludeAnonymous).iterate(h=>{if(h.name){let m=Hut[h.name];if(m&&m(h,d,u)||!u&&uge.has(h.name))return!1;u=!1}else if(h.to-h.from>8192){for(let m of cge(t,h.node))s.push(m);return!1}}),Cie.set(e,s),s}const kie=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,dge=["String","FormatString","Comment","PropertyName"];function Xut(t){let e=ui(t.state).resolveInner(t.pos,-1);if(dge.indexOf(e.name)>-1)return null;let i=e.name=="VariableName"||e.to-e.from<20&&kie.test(t.state.sliceDoc(e.from,e.to));if(!i&&!t.explicit)return null;let s=[];for(let u=e;u;u=u.parent)uge.has(u.name)&&(s=s.concat(cge(t.state.doc,u)));return{options:s,from:i?e.from:t.pos,validFor:kie}}const Yut=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),Kut=[Ar("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Ar("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Ar("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Ar("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Ar(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Ar("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Ar("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Ar("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Ar("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Jut=zme(dge,VQ(Yut.concat(Kut)));function i3(t){let{node:e,pos:i}=t,s=t.lineIndent(i,-1),u=null;for(;;){let d=e.childBefore(i);if(d)if(d.name=="Comment")i=d.from;else if(d.name=="Body"||d.name=="MatchBody")t.baseIndentFor(d)+t.unit<=s&&(u=d),e=d;else if(d.name=="MatchClause")e=d;else if(d.type.is("Statement"))e=d;else break;else break}return u}function a3(t,e){let i=t.baseIndentFor(e),s=t.lineAt(t.pos,-1),u=s.from+s.text.length;return/^\s*($|#)/.test(s.text)&&t.node.to<u+100&&!/\S/.test(t.state.sliceDoc(u,t.node.to))&&t.lineIndent(t.pos,-1)<=i||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>i?null:i+t.unit}const o3=Z1.define({name:"python",parser:Zut.configure({props:[BQ.add({Body:t=>{var e;let i=/^\s*(#|$)/.test(t.textAfter)&&i3(t)||t.node;return(e=a3(t,i))!==null&&e!==void 0?e:t.continue()},MatchBody:t=>{var e;let i=i3(t);return(e=a3(t,i||t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except[ :]|finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),MatchStatement:t=>/^\s*case /.test(t.textAfter)?t.baseIndent+t.unit:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":_T({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":_T({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":_T({closing:"]"}),MemberExpression:t=>t.baseIndent+t.unit,"String FormatString":()=>null,Script:t=>{var e;let i=i3(t);return(e=i&&a3(t,i))!==null&&e!==void 0?e:t.continue()}}),jQ.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Sme,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)}),"String FormatString":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function ect(){return new Ome(o3,[o3.data.of({autocomplete:Xut}),o3.data.of({autocomplete:Jut})])}const tct="#e5c07b",Aie="#e06c75",nct="#56b6c2",rct="#ffffff",wT="#abb2bf",z$="#7d8799",ict="#61afef",act="#98c379",Pie="#d19a66",oct="#c678dd",sct="#21252b",Eie="#2c313a",Mie="#282c34",s3="#353a42",lct="#3E4451",Die="#528bff",uct=St.theme({"&":{color:wT,backgroundColor:Mie},".cm-content":{caretColor:Die},".cm-cursor, .cm-dropCursor":{borderLeftColor:Die},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:lct},".cm-panels":{backgroundColor:sct,color:wT},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Mie,color:z$,border:"none"},".cm-activeLineGutter":{backgroundColor:Eie},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:s3},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:s3,borderBottomColor:s3},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Eie,color:wT}}},{dark:!0}),cct=W_.define([{tag:Te.keyword,color:oct},{tag:[Te.name,Te.deleted,Te.character,Te.propertyName,Te.macroName],color:Aie},{tag:[Te.function(Te.variableName),Te.labelName],color:ict},{tag:[Te.color,Te.constant(Te.name),Te.standard(Te.name)],color:Pie},{tag:[Te.definition(Te.name),Te.separator],color:wT},{tag:[Te.typeName,Te.className,Te.number,Te.changed,Te.annotation,Te.modifier,Te.self,Te.namespace],color:tct},{tag:[Te.operator,Te.operatorKeyword,Te.url,Te.escape,Te.regexp,Te.link,Te.special(Te.string)],color:nct},{tag:[Te.meta,Te.comment],color:z$},{tag:Te.strong,fontWeight:"bold"},{tag:Te.emphasis,fontStyle:"italic"},{tag:Te.strikethrough,textDecoration:"line-through"},{tag:Te.link,color:z$,textDecoration:"underline"},{tag:Te.heading,fontWeight:"bold",color:Aie},{tag:[Te.atom,Te.bool,Te.special(Te.variableName)],color:Pie},{tag:[Te.processingInstruction,Te.string,Te.inserted],color:act},{tag:Te.invalid,color:rct}]),Iie=[uct,Ime(cct)],dct=t=>{let{state:e}=t,i=e.doc.lineAt(e.selection.main.from),s=JQ(t.state,i.from);return s.line?fct(t):s.block?pct(t):!1};function KQ(t,e){return({state:i,dispatch:s})=>{if(i.readOnly)return!1;let u=t(e,i);return u?(s(i.update(u)),!0):!1}}const fct=KQ(vct,0),hct=KQ(fge,0),pct=KQ((t,e)=>fge(t,e,gct(e)),0);function JQ(t,e){let i=t.languageDataAt("commentTokens",e,1);return i.length?i[0]:{}}const mx=50;function mct(t,{open:e,close:i},s,u){let d=t.sliceDoc(s-mx,s),h=t.sliceDoc(u,u+mx),m=/\s*$/.exec(d)[0].length,y=/^\s*/.exec(h)[0].length,_=d.length-m;if(d.slice(_-e.length,_)==e&&h.slice(y,y+i.length)==i)return{open:{pos:s-m,margin:m&&1},close:{pos:u+y,margin:y&&1}};let b,T;u-s<=2*mx?b=T=t.sliceDoc(s,u):(b=t.sliceDoc(s,s+mx),T=t.sliceDoc(u-mx,u));let C=/^\s*/.exec(b)[0].length,A=/\s*$/.exec(T)[0].length,D=T.length-A-i.length;return b.slice(C,C+e.length)==e&&T.slice(D,D+i.length)==i?{open:{pos:s+C+e.length,margin:/\s/.test(b.charAt(C+e.length))?1:0},close:{pos:u-A-i.length,margin:/\s/.test(T.charAt(D-1))?1:0}}:null}function gct(t){let e=[];for(let i of t.selection.ranges){let s=t.doc.lineAt(i.from),u=i.to<=s.to?s:t.doc.lineAt(i.to);u.from>s.from&&u.from==i.to&&(u=i.to==s.to+1?s:t.doc.lineAt(i.to-1));let d=e.length-1;d>=0&&e[d].to>s.from?e[d].to=u.to:e.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:u.to})}return e}function fge(t,e,i=e.selection.ranges){let s=i.map(d=>JQ(e,d.from).block);if(!s.every(d=>d))return null;let u=i.map((d,h)=>mct(e,s[h],d.from,d.to));if(t!=2&&!u.every(d=>d))return{changes:e.changes(i.map((d,h)=>u[h]?[]:[{from:d.from,insert:s[h].open+" "},{from:d.to,insert:" "+s[h].close}]))};if(t!=1&&u.some(d=>d)){let d=[];for(let h=0,m;h<u.length;h++)if(m=u[h]){let y=s[h],{open:_,close:b}=m;d.push({from:_.pos-y.open.length,to:_.pos+_.margin},{from:b.pos-b.margin,to:b.pos+y.close.length})}return{changes:d}}return null}function vct(t,e,i=e.selection.ranges){let s=[],u=-1;for(let{from:d,to:h}of i){let m=s.length,y=1e9,_=JQ(e,d).line;if(_){for(let b=d;b<=h;){let T=e.doc.lineAt(b);if(T.from>u&&(d==h||h>T.from)){u=T.from;let C=/^\s*/.exec(T.text)[0].length,A=C==T.length,D=T.text.slice(C,C+_.length)==_?C:-1;C<T.text.length&&C<y&&(y=C),s.push({line:T,comment:D,token:_,indent:C,empty:A,single:!1})}b=T.to+1}if(y<1e9)for(let b=m;b<s.length;b++)s[b].indent<s[b].line.text.length&&(s[b].indent=y);s.length==m+1&&(s[m].single=!0)}}if(t!=2&&s.some(d=>d.comment<0&&(!d.empty||d.single))){let d=[];for(let{line:m,token:y,indent:_,empty:b,single:T}of s)(T||!b)&&d.push({from:m.from+_,insert:y+" "});let h=e.changes(d);return{changes:h,selection:e.selection.map(h,1)}}else if(t!=1&&s.some(d=>d.comment>=0)){let d=[];for(let{line:h,comment:m,token:y}of s)if(m>=0){let _=h.from+m,b=_+y.length;h.text[b-h.from]==" "&&b++,d.push({from:_,to:b})}return{changes:d}}return null}const B$=Tc.define(),yct=Tc.define(),xct=Ct.define(),hge=Ct.define({combine(t){return mu(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,i)=>(s,u)=>e(s,u)||i(s,u)})}}),pge=Qi.define({create(){return ru.empty},update(t,e){let i=e.state.facet(hge),s=e.annotation(B$);if(s){let y=eo.fromTransaction(e,s.selection),_=s.side,b=_==0?t.undone:t.done;return y?b=CC(b,b.length,i.minDepth,y):b=vge(b,e.startState.selection),new ru(_==0?s.rest:b,_==0?b:s.rest)}let u=e.annotation(yct);if((u=="full"||u=="before")&&(t=t.isolate()),e.annotation(Fr.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let d=eo.fromTransaction(e),h=e.annotation(Fr.time),m=e.annotation(Fr.userEvent);return d?t=t.addChanges(d,h,m,i,e):e.selection&&(t=t.addSelection(e.startState.selection,h,m,i.newGroupDelay)),(u=="full"||u=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ru(t.done.map(eo.fromJSON),t.undone.map(eo.fromJSON))}});function _ct(t={}){return[pge,hge.of(t),St.domEventHandlers({beforeinput(e,i){let s=e.inputType=="historyUndo"?mge:e.inputType=="historyRedo"?Q$:null;return s?(e.preventDefault(),s(i)):!1}})]}function vA(t,e){return function({state:i,dispatch:s}){if(!e&&i.readOnly)return!1;let u=i.field(pge,!1);if(!u)return!1;let d=u.pop(t,i,e);return d?(s(d),!0):!1}}const mge=vA(0,!1),Q$=vA(1,!1),Oct=vA(0,!0),bct=vA(1,!0);class eo{constructor(e,i,s,u,d){this.changes=e,this.effects=i,this.mapped=s,this.startSelection=u,this.selectionsAfter=d}setSelAfter(e){return new eo(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,i,s;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(i=this.mapped)===null||i===void 0?void 0:i.toJSON(),startSelection:(s=this.startSelection)===null||s===void 0?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(u=>u.toJSON())}}static fromJSON(e){return new eo(e.changes&&Oi.fromJSON(e.changes),[],e.mapped&&au.fromJSON(e.mapped),e.startSelection&&Ye.fromJSON(e.startSelection),e.selectionsAfter.map(Ye.fromJSON))}static fromTransaction(e,i){let s=us;for(let u of e.startState.facet(xct)){let d=u(e);d.length&&(s=s.concat(d))}return!s.length&&e.changes.empty?null:new eo(e.changes.invert(e.startState.doc),s,void 0,i||e.startState.selection,us)}static selection(e){return new eo(void 0,us,void 0,void 0,e)}}function CC(t,e,i,s){let u=e+1>i+20?e-i-1:0,d=t.slice(u,e);return d.push(s),d}function wct(t,e){let i=[],s=!1;return t.iterChangedRanges((u,d)=>i.push(u,d)),e.iterChangedRanges((u,d,h,m)=>{for(let y=0;y<i.length;){let _=i[y++],b=i[y++];m>=_&&h<=b&&(s=!0)}}),s}function Sct(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((i,s)=>i.empty!=e.ranges[s].empty).length===0}function gge(t,e){return t.length?e.length?t.concat(e):t:e}const us=[],Tct=200;function vge(t,e){if(t.length){let i=t[t.length-1],s=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-Tct));return s.length&&s[s.length-1].eq(e)?t:(s.push(e),CC(t,t.length-1,1e9,i.setSelAfter(s)))}else return[eo.selection([e])]}function Cct(t){let e=t[t.length-1],i=t.slice();return i[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),i}function l3(t,e){if(!t.length)return t;let i=t.length,s=us;for(;i;){let u=kct(t[i-1],e,s);if(u.changes&&!u.changes.empty||u.effects.length){let d=t.slice(0,i);return d[i-1]=u,d}else e=u.mapped,i--,s=u.selectionsAfter}return s.length?[eo.selection(s)]:us}function kct(t,e,i){let s=gge(t.selectionsAfter.length?t.selectionsAfter.map(m=>m.map(e)):us,i);if(!t.changes)return eo.selection(s);let u=t.changes.map(e),d=e.mapDesc(t.changes,!0),h=t.mapped?t.mapped.composeDesc(d):d;return new eo(u,sn.mapEffects(t.effects,e),h,t.startSelection.map(d),s)}const Act=/^(input\.type|delete)($|\.)/;class ru{constructor(e,i,s=0,u=void 0){this.done=e,this.undone=i,this.prevTime=s,this.prevUserEvent=u}isolate(){return this.prevTime?new ru(this.done,this.undone):this}addChanges(e,i,s,u,d){let h=this.done,m=h[h.length-1];return m&&m.changes&&!m.changes.empty&&e.changes&&(!s||Act.test(s))&&(!m.selectionsAfter.length&&i-this.prevTime<u.newGroupDelay&&u.joinToEvent(d,wct(m.changes,e.changes))||s=="input.type.compose")?h=CC(h,h.length-1,u.minDepth,new eo(e.changes.compose(m.changes),gge(sn.mapEffects(e.effects,m.changes),m.effects),m.mapped,m.startSelection,us)):h=CC(h,h.length,u.minDepth,e),new ru(h,us,i,s)}addSelection(e,i,s,u){let d=this.done.length?this.done[this.done.length-1].selectionsAfter:us;return d.length>0&&i-this.prevTime<u&&s==this.prevUserEvent&&s&&/^select($|\.)/.test(s)&&Sct(d[d.length-1],e)?this:new ru(vge(this.done,e),this.undone,i,s)}addMapping(e){return new ru(l3(this.done,e),l3(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,i,s){let u=e==0?this.done:this.undone;if(u.length==0)return null;let d=u[u.length-1],h=d.selectionsAfter[0]||i.selection;if(s&&d.selectionsAfter.length)return i.update({selection:d.selectionsAfter[d.selectionsAfter.length-1],annotations:B$.of({side:e,rest:Cct(u),selection:h}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(d.changes){let m=u.length==1?us:u.slice(0,u.length-1);return d.mapped&&(m=l3(m,d.mapped)),i.update({changes:d.changes,selection:d.startSelection,effects:d.effects,annotations:B$.of({side:e,rest:m,selection:h}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ru.empty=new ru(us,us);const Pct=[{key:"Mod-z",run:mge,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Q$,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Q$,preventDefault:!0},{key:"Mod-u",run:Oct,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:bct,preventDefault:!0}];function Ev(t,e){return Ye.create(t.ranges.map(e),t.mainIndex)}function el(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function tl({state:t,dispatch:e},i){let s=Ev(t.selection,i);return s.eq(t.selection,!0)?!1:(e(el(t,s)),!0)}function yA(t,e){return Ye.cursor(e?t.to:t.from)}function yge(t,e){return tl(t,i=>i.empty?t.moveByChar(i,e):yA(i,e))}function ha(t){return t.textDirectionAt(t.state.selection.main.head)==cr.LTR}const xge=t=>yge(t,!ha(t)),_ge=t=>yge(t,ha(t));function Oge(t,e){return tl(t,i=>i.empty?t.moveByGroup(i,e):yA(i,e))}const Ect=t=>Oge(t,!ha(t)),Mct=t=>Oge(t,ha(t));function Dct(t,e,i){if(e.type.prop(i))return!0;let s=e.to-e.from;return s&&(s>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function xA(t,e,i){let s=ui(t).resolveInner(e.head),u=i?Tn.closedBy:Tn.openedBy;for(let y=e.head;;){let _=i?s.childAfter(y):s.childBefore(y);if(!_)break;Dct(t,_,u)?s=_:y=i?_.to:_.from}let d=s.type.prop(u),h,m;return d&&(h=i?nu(t,s.from,1):nu(t,s.to,-1))&&h.matched?m=i?h.end.to:h.end.from:m=i?s.to:s.from,Ye.cursor(m,i?-1:1)}const Ict=t=>tl(t,e=>xA(t.state,e,!ha(t))),Rct=t=>tl(t,e=>xA(t.state,e,ha(t)));function bge(t,e){return tl(t,i=>{if(!i.empty)return yA(i,e);let s=t.moveVertically(i,e);return s.head!=i.head?s:t.moveToLineBoundary(i,e)})}const wge=t=>bge(t,!1),Sge=t=>bge(t,!0);function Tge(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,s=0,u;if(e){for(let d of t.state.facet(St.scrollMargins)){let h=d(t);h?.top&&(i=Math.max(h?.top,i)),h?.bottom&&(s=Math.max(h?.bottom,s))}u=t.scrollDOM.clientHeight-i-s}else u=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:s,selfScroll:e,height:Math.max(t.defaultLineHeight,u-5)}}function Cge(t,e){let i=Tge(t),{state:s}=t,u=Ev(s.selection,h=>h.empty?t.moveVertically(h,e,i.height):yA(h,e));if(u.eq(s.selection))return!1;let d;if(i.selfScroll){let h=t.coordsAtPos(s.selection.main.head),m=t.scrollDOM.getBoundingClientRect(),y=m.top+i.marginTop,_=m.bottom-i.marginBottom;h&&h.top>y&&h.bottom<_&&(d=St.scrollIntoView(u.main.head,{y:"start",yMargin:h.top-y}))}return t.dispatch(el(s,u),{effects:d}),!0}const Rie=t=>Cge(t,!1),j$=t=>Cge(t,!0);function nf(t,e,i){let s=t.lineBlockAt(e.head),u=t.moveToLineBoundary(e,i);if(u.head==e.head&&u.head!=(i?s.to:s.from)&&(u=t.moveToLineBoundary(e,i,!1)),!i&&u.head==s.from&&s.length){let d=/^\s*/.exec(t.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;d&&e.head!=s.from+d&&(u=Ye.cursor(s.from+d))}return u}const Lct=t=>tl(t,e=>nf(t,e,!0)),Nct=t=>tl(t,e=>nf(t,e,!1)),$ct=t=>tl(t,e=>nf(t,e,!ha(t))),zct=t=>tl(t,e=>nf(t,e,ha(t))),Bct=t=>tl(t,e=>Ye.cursor(t.lineBlockAt(e.head).from,1)),Qct=t=>tl(t,e=>Ye.cursor(t.lineBlockAt(e.head).to,-1));function jct(t,e,i){let s=!1,u=Ev(t.selection,d=>{let h=nu(t,d.head,-1)||nu(t,d.head,1)||d.head>0&&nu(t,d.head-1,1)||d.head<t.doc.length&&nu(t,d.head+1,-1);if(!h||!h.end)return d;s=!0;let m=h.start.from==d.head?h.end.to:h.end.from;return Ye.cursor(m)});return s?(e(el(t,u)),!0):!1}const Vct=({state:t,dispatch:e})=>jct(t,e);function ys(t,e){let i=Ev(t.state.selection,s=>{let u=e(s);return Ye.range(s.anchor,u.head,u.goalColumn,u.bidiLevel||void 0)});return i.eq(t.state.selection)?!1:(t.dispatch(el(t.state,i)),!0)}function kge(t,e){return ys(t,i=>t.moveByChar(i,e))}const Age=t=>kge(t,!ha(t)),Pge=t=>kge(t,ha(t));function Ege(t,e){return ys(t,i=>t.moveByGroup(i,e))}const Fct=t=>Ege(t,!ha(t)),Gct=t=>Ege(t,ha(t)),Wct=t=>ys(t,e=>xA(t.state,e,!ha(t))),Uct=t=>ys(t,e=>xA(t.state,e,ha(t)));function Mge(t,e){return ys(t,i=>t.moveVertically(i,e))}const Dge=t=>Mge(t,!1),Ige=t=>Mge(t,!0);function Rge(t,e){return ys(t,i=>t.moveVertically(i,e,Tge(t).height))}const Lie=t=>Rge(t,!1),Nie=t=>Rge(t,!0),qct=t=>ys(t,e=>nf(t,e,!0)),Zct=t=>ys(t,e=>nf(t,e,!1)),Hct=t=>ys(t,e=>nf(t,e,!ha(t))),Xct=t=>ys(t,e=>nf(t,e,ha(t))),Yct=t=>ys(t,e=>Ye.cursor(t.lineBlockAt(e.head).from)),Kct=t=>ys(t,e=>Ye.cursor(t.lineBlockAt(e.head).to)),$ie=({state:t,dispatch:e})=>(e(el(t,{anchor:0})),!0),zie=({state:t,dispatch:e})=>(e(el(t,{anchor:t.doc.length})),!0),Bie=({state:t,dispatch:e})=>(e(el(t,{anchor:t.selection.main.anchor,head:0})),!0),Qie=({state:t,dispatch:e})=>(e(el(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Jct=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),edt=({state:t,dispatch:e})=>{let i=_A(t).map(({from:s,to:u})=>Ye.range(s,Math.min(u+1,t.doc.length)));return e(t.update({selection:Ye.create(i),userEvent:"select"})),!0},tdt=({state:t,dispatch:e})=>{let i=Ev(t.selection,s=>{let u=ui(t),d=u.resolveStack(s.from,1);if(s.empty){let h=u.resolveStack(s.from,-1);h.node.from>=d.node.from&&h.node.to<=d.node.to&&(d=h)}for(let h=d;h;h=h.next){let{node:m}=h;if((m.from<s.from&&m.to>=s.to||m.to>s.to&&m.from<=s.from)&&h.next)return Ye.range(m.to,m.from)}return s});return i.eq(t.selection)?!1:(e(el(t,i)),!0)};function Lge(t,e){let{state:i}=t,s=i.selection,u=i.selection.ranges.slice();for(let d of i.selection.ranges){let h=i.doc.lineAt(d.head);if(e?h.to<t.state.doc.length:h.from>0)for(let m=d;;){let y=t.moveVertically(m,e);if(y.head<h.from||y.head>h.to){u.some(_=>_.head==y.head)||u.push(y);break}else{if(y.head==m.head)break;m=y}}}return u.length==s.ranges.length?!1:(t.dispatch(el(i,Ye.create(u,u.length-1))),!0)}const ndt=t=>Lge(t,!1),rdt=t=>Lge(t,!0),idt=({state:t,dispatch:e})=>{let i=t.selection,s=null;return i.ranges.length>1?s=Ye.create([i.main]):i.main.empty||(s=Ye.create([Ye.cursor(i.main.head)])),s?(e(el(t,s)),!0):!1};function q_(t,e){if(t.state.readOnly)return!1;let i="delete.selection",{state:s}=t,u=s.changeByRange(d=>{let{from:h,to:m}=d;if(h==m){let y=e(d);y<h?(i="delete.backward",y=AS(t,y,!1)):y>h&&(i="delete.forward",y=AS(t,y,!0)),h=Math.min(h,y),m=Math.max(m,y)}else h=AS(t,h,!1),m=AS(t,m,!0);return h==m?{range:d}:{changes:{from:h,to:m},range:Ye.cursor(h,h<d.head?-1:1)}});return u.changes.empty?!1:(t.dispatch(s.update(u,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?St.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function AS(t,e,i){if(t instanceof St)for(let s of t.state.facet(St.atomicRanges).map(u=>u(t)))s.between(e,e,(u,d)=>{u<e&&d>e&&(e=i?d:u)});return e}const Nge=(t,e,i)=>q_(t,s=>{let u=s.from,{state:d}=t,h=d.doc.lineAt(u),m,y;if(i&&!e&&u>h.from&&u<h.from+200&&!/[^ \t]/.test(m=h.text.slice(0,u-h.from))){if(m[m.length-1]=="	")return u-1;let _=Av(m,d.tabSize),b=_%OC(d)||OC(d);for(let T=0;T<b&&m[m.length-1-T]==" ";T++)u--;y=u}else y=Si(h.text,u-h.from,e,e)+h.from,y==u&&h.number!=(e?d.doc.lines:1)?y+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(h.text.slice(y-h.from,u-h.from))&&(y=Si(h.text,y-h.from,!1,!1)+h.from);return y}),V$=t=>Nge(t,!1,!0),$ge=t=>Nge(t,!0,!1),zge=(t,e)=>q_(t,i=>{let s=i.head,{state:u}=t,d=u.doc.lineAt(s),h=u.charCategorizer(s);for(let m=null;;){if(s==(e?d.to:d.from)){s==i.head&&d.number!=(e?u.doc.lines:1)&&(s+=e?1:-1);break}let y=Si(d.text,s-d.from,e)+d.from,_=d.text.slice(Math.min(s,y)-d.from,Math.max(s,y)-d.from),b=h(_);if(m!=null&&b!=m)break;(_!=" "||s!=i.head)&&(m=b),s=y}return s}),Bge=t=>zge(t,!1),adt=t=>zge(t,!0),odt=t=>q_(t,e=>{let i=t.lineBlockAt(e.head).to;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)}),sdt=t=>q_(t,e=>{let i=t.moveToLineBoundary(e,!1).head;return e.head>i?i:Math.max(0,e.head-1)}),ldt=t=>q_(t,e=>{let i=t.moveToLineBoundary(e,!0).head;return e.head<i?i:Math.min(t.state.doc.length,e.head+1)}),udt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Zn.of(["",""])},range:Ye.cursor(s.from)}));return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},cdt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(s=>{if(!s.empty||s.from==0||s.from==t.doc.length)return{range:s};let u=s.from,d=t.doc.lineAt(u),h=u==d.from?u-1:Si(d.text,u-d.from,!1)+d.from,m=u==d.to?u+1:Si(d.text,u-d.from,!0)+d.from;return{changes:{from:h,to:m,insert:t.doc.slice(u,m).append(t.doc.slice(h,u))},range:Ye.cursor(m)}});return i.changes.empty?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function _A(t){let e=[],i=-1;for(let s of t.selection.ranges){let u=t.doc.lineAt(s.from),d=t.doc.lineAt(s.to);if(!s.empty&&s.to==d.from&&(d=t.doc.lineAt(s.to-1)),i>=u.number){let h=e[e.length-1];h.to=d.to,h.ranges.push(s)}else e.push({from:u.from,to:d.to,ranges:[s]});i=d.number+1}return e}function Qge(t,e,i){if(t.readOnly)return!1;let s=[],u=[];for(let d of _A(t)){if(i?d.to==t.doc.length:d.from==0)continue;let h=t.doc.lineAt(i?d.to+1:d.from-1),m=h.length+1;if(i){s.push({from:d.to,to:h.to},{from:d.from,insert:h.text+t.lineBreak});for(let y of d.ranges)u.push(Ye.range(Math.min(t.doc.length,y.anchor+m),Math.min(t.doc.length,y.head+m)))}else{s.push({from:h.from,to:d.from},{from:d.to,insert:t.lineBreak+h.text});for(let y of d.ranges)u.push(Ye.range(y.anchor-m,y.head-m))}}return s.length?(e(t.update({changes:s,scrollIntoView:!0,selection:Ye.create(u,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const ddt=({state:t,dispatch:e})=>Qge(t,e,!1),fdt=({state:t,dispatch:e})=>Qge(t,e,!0);function jge(t,e,i){if(t.readOnly)return!1;let s=[];for(let d of _A(t))i?s.push({from:d.from,insert:t.doc.slice(d.from,d.to)+t.lineBreak}):s.push({from:d.to,insert:t.lineBreak+t.doc.slice(d.from,d.to)});let u=t.changes(s);return e(t.update({changes:u,selection:t.selection.map(u,i?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const hdt=({state:t,dispatch:e})=>jge(t,e,!1),pdt=({state:t,dispatch:e})=>jge(t,e,!0),mdt=t=>{if(t.state.readOnly)return!1;let{state:e}=t,i=e.changes(_A(e).map(({from:u,to:d})=>(u>0?u--:d<e.doc.length&&d++,{from:u,to:d}))),s=Ev(e.selection,u=>{let d;if(t.lineWrapping){let h=t.lineBlockAt(u.head),m=t.coordsAtPos(u.head,u.assoc||1);m&&(d=h.bottom+t.documentTop-m.bottom+t.defaultLineHeight/2)}return t.moveVertically(u,!0,d)}).map(i);return t.dispatch({changes:i,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0};function gdt(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let i=ui(t).resolveInner(e),s=i.childBefore(e),u=i.childAfter(e),d;return s&&u&&s.to<=e&&u.from>=e&&(d=s.type.prop(Tn.closedBy))&&d.indexOf(u.name)>-1&&t.doc.lineAt(s.to).from==t.doc.lineAt(u.from).from&&!/\S/.test(t.sliceDoc(s.to,u.from))?{from:s.to,to:u.from}:null}const jie=Vge(!1),vdt=Vge(!0);function Vge(t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let s=e.changeByRange(u=>{let{from:d,to:h}=u,m=e.doc.lineAt(d),y=!t&&d==h&&gdt(e,d);t&&(d=h=(h<=m.to?m:e.doc.lineAt(h)).to);let _=new hA(e,{simulateBreak:d,simulateDoubleBreak:!!y}),b=zQ(_,d);for(b==null&&(b=Av(/^\s*/.exec(e.doc.lineAt(d).text)[0],e.tabSize));h<m.to&&/\s/.test(m.text[h-m.from]);)h++;y?{from:d,to:h}=y:d>m.from&&d<m.from+100&&!/\S/.test(m.text.slice(0,d))&&(d=m.from);let T=["",H1(e,b)];return y&&T.push(H1(e,_.lineIndent(m.from,-1))),{changes:{from:d,to:h,insert:Zn.of(T)},range:Ye.cursor(d+1+T[1].length)}});return i(e.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function ej(t,e){let i=-1;return t.changeByRange(s=>{let u=[];for(let h=s.from;h<=s.to;){let m=t.doc.lineAt(h);m.number>i&&(s.empty||s.to>m.from)&&(e(m,u,s),i=m.number),h=m.to+1}let d=t.changes(u);return{changes:u,range:Ye.range(d.mapPos(s.anchor,1),d.mapPos(s.head,1))}})}const ydt=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Object.create(null),s=new hA(t,{overrideIndentation:d=>{let h=i[d];return h??-1}}),u=ej(t,(d,h,m)=>{let y=zQ(s,d.from);if(y==null)return;/\S/.test(d.text)||(y=0);let _=/^\s*/.exec(d.text)[0],b=H1(t,y);(_!=b||m.from<d.from+_.length)&&(i[d.from]=y,h.push({from:d.from,to:d.from+_.length,insert:b}))});return u.changes.empty||e(t.update(u,{userEvent:"indent"})),!0},xdt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(ej(t,(i,s)=>{s.push({from:i.from,insert:t.facet(fA)})}),{userEvent:"input.indent"})),!0),_dt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(ej(t,(i,s)=>{let u=/^\s*/.exec(i.text)[0];if(!u)return;let d=Av(u,t.tabSize),h=0,m=H1(t,Math.max(0,d-OC(t)));for(;h<u.length&&h<m.length&&u.charCodeAt(h)==m.charCodeAt(h);)h++;s.push({from:i.from+h,to:i.from+u.length,insert:m.slice(h)})}),{userEvent:"delete.dedent"})),!0),Odt=t=>(t.setTabFocusMode(),!0),bdt=[{key:"Ctrl-b",run:xge,shift:Age,preventDefault:!0},{key:"Ctrl-f",run:_ge,shift:Pge},{key:"Ctrl-p",run:wge,shift:Dge},{key:"Ctrl-n",run:Sge,shift:Ige},{key:"Ctrl-a",run:Bct,shift:Yct},{key:"Ctrl-e",run:Qct,shift:Kct},{key:"Ctrl-d",run:$ge},{key:"Ctrl-h",run:V$},{key:"Ctrl-k",run:odt},{key:"Ctrl-Alt-h",run:Bge},{key:"Ctrl-o",run:udt},{key:"Ctrl-t",run:cdt},{key:"Ctrl-v",run:j$}],wdt=[{key:"ArrowLeft",run:xge,shift:Age,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Ect,shift:Fct,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:$ct,shift:Hct,preventDefault:!0},{key:"ArrowRight",run:_ge,shift:Pge,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Mct,shift:Gct,preventDefault:!0},{mac:"Cmd-ArrowRight",run:zct,shift:Xct,preventDefault:!0},{key:"ArrowUp",run:wge,shift:Dge,preventDefault:!0},{mac:"Cmd-ArrowUp",run:$ie,shift:Bie},{mac:"Ctrl-ArrowUp",run:Rie,shift:Lie},{key:"ArrowDown",run:Sge,shift:Ige,preventDefault:!0},{mac:"Cmd-ArrowDown",run:zie,shift:Qie},{mac:"Ctrl-ArrowDown",run:j$,shift:Nie},{key:"PageUp",run:Rie,shift:Lie},{key:"PageDown",run:j$,shift:Nie},{key:"Home",run:Nct,shift:Zct,preventDefault:!0},{key:"Mod-Home",run:$ie,shift:Bie},{key:"End",run:Lct,shift:qct,preventDefault:!0},{key:"Mod-End",run:zie,shift:Qie},{key:"Enter",run:jie,shift:jie},{key:"Mod-a",run:Jct},{key:"Backspace",run:V$,shift:V$,preventDefault:!0},{key:"Delete",run:$ge,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Bge,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:adt,preventDefault:!0},{mac:"Mod-Backspace",run:sdt,preventDefault:!0},{mac:"Mod-Delete",run:ldt,preventDefault:!0}].concat(bdt.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Sdt=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ict,shift:Wct},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Rct,shift:Uct},{key:"Alt-ArrowUp",run:ddt},{key:"Shift-Alt-ArrowUp",run:hdt},{key:"Alt-ArrowDown",run:fdt},{key:"Shift-Alt-ArrowDown",run:pdt},{key:"Mod-Alt-ArrowUp",run:ndt},{key:"Mod-Alt-ArrowDown",run:rdt},{key:"Escape",run:idt},{key:"Mod-Enter",run:vdt},{key:"Alt-l",mac:"Ctrl-l",run:edt},{key:"Mod-i",run:tdt,preventDefault:!0},{key:"Mod-[",run:_dt},{key:"Mod-]",run:xdt},{key:"Mod-Alt-\\",run:ydt},{key:"Shift-Mod-k",run:mdt},{key:"Shift-Mod-\\",run:Vct},{key:"Mod-/",run:dct},{key:"Alt-A",run:hct},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Odt}].concat(wdt),Vie=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class dv{constructor(e,i,s=0,u=e.length,d,h){this.test=h,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(s,u),this.bufferStart=s,this.normalize=d?m=>d(Vie(m)):Vie,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Za(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let i=yQ(e),s=this.bufferStart+this.bufferPos;this.bufferPos+=Yl(e);let u=this.normalize(i);if(u.length)for(let d=0,h=s;;d++){let m=u.charCodeAt(d),y=this.match(m,h,this.bufferPos+this.bufferStart);if(d==u.length-1){if(y)return this.value=y,this;break}h==s&&d<i.length&&i.charCodeAt(d)==m&&h++}}}match(e,i,s){let u=null;for(let d=0;d<this.matches.length;d+=2){let h=this.matches[d],m=!1;this.query.charCodeAt(h)==e&&(h==this.query.length-1?u={from:this.matches[d+1],to:s}:(this.matches[d]++,m=!0)),m||(this.matches.splice(d,2),d-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?u={from:i,to:s}:this.matches.push(1,i)),u&&this.test&&!this.test(u.from,u.to,this.buffer,this.bufferStart)&&(u=null),u}}typeof Symbol<"u"&&(dv.prototype[Symbol.iterator]=function(){return this});const Fge={from:-1,to:-1,match:/.*/.exec("")},tj="gm"+(/x/.unicode==null?"":"u");class Gge{constructor(e,i,s,u=0,d=e.length){if(this.text=e,this.to=d,this.curLine="",this.done=!1,this.value=Fge,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new Wge(e,i,s,u,d);this.re=new RegExp(i,tj+(s?.ignoreCase?"i":"")),this.test=s?.test,this.iter=e.iter();let h=e.lineAt(u);this.curLineStart=h.from,this.matchPos=kC(e,u),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let s=this.curLineStart+i.index,u=s+i[0].length;if(this.matchPos=kC(this.text,u+(s==u?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<u||s>this.value.to)&&(!this.test||this.test(s,u,i)))return this.value={from:s,to:u,match:i},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const u3=new WeakMap;class Xg{constructor(e,i){this.from=e,this.text=i}get to(){return this.from+this.text.length}static get(e,i,s){let u=u3.get(e);if(!u||u.from>=s||u.to<=i){let m=new Xg(i,e.sliceString(i,s));return u3.set(e,m),m}if(u.from==i&&u.to==s)return u;let{text:d,from:h}=u;return h>i&&(d=e.sliceString(i,h)+d,h=i),u.to<s&&(d+=e.sliceString(u.to,s)),u3.set(e,new Xg(h,d)),new Xg(i,d.slice(i-h,s-h))}}class Wge{constructor(e,i,s,u,d){this.text=e,this.to=d,this.done=!1,this.value=Fge,this.matchPos=kC(e,u),this.re=new RegExp(i,tj+(s?.ignoreCase?"i":"")),this.test=s?.test,this.flat=Xg.get(e,u,this.chunkEnd(u+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==e&&(this.re.lastIndex=e+1,i=this.re.exec(this.flat.text)),i){let s=this.flat.from+i.index,u=s+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,u,i)))return this.value={from:s,to:u,match:i},this.matchPos=kC(this.text,u+(s==u?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Xg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Gge.prototype[Symbol.iterator]=Wge.prototype[Symbol.iterator]=function(){return this});function Tdt(t){try{return new RegExp(t,tj),!0}catch{return!1}}function kC(t,e){if(e>=t.length)return e;let i=t.lineAt(e),s;for(;e<i.to&&(s=i.text.charCodeAt(e-i.from))>=56320&&s<57344;)e++;return e}const Cdt=t=>{let{state:e}=t,i=String(e.doc.lineAt(t.state.selection.main.head).number),{close:s,result:u}=Eot(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:i},focus:!0,submitLabel:e.phrase("go")});return u.then(d=>{let h=d&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(d.elements.line.value);if(!h){t.dispatch({effects:s});return}let m=e.doc.lineAt(e.selection.main.head),[,y,_,b,T]=h,C=b?+b.slice(1):0,A=_?+_:m.number;if(_&&T){let z=A/100;y&&(z=z*(y=="-"?-1:1)+m.number/e.doc.lines),A=Math.round(e.doc.lines*z)}else _&&y&&(A=A*(y=="-"?-1:1)+m.number);let D=e.doc.line(Math.max(1,Math.min(e.doc.lines,A))),L=Ye.cursor(D.from+Math.max(0,Math.min(C,D.length)));t.dispatch({effects:[s,St.scrollIntoView(L.from,{y:"center"})],selection:L})}),!0},kdt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Adt=Ct.define({combine(t){return mu(t,kdt,{highlightWordAroundCursor:(e,i)=>e||i,minSelectionLength:Math.min,maxMatches:Math.min})}});function Pdt(t){return[Rdt,Idt]}const Edt=Wt.mark({class:"cm-selectionMatch"}),Mdt=Wt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Fie(t,e,i,s){return(i==0||t(e.sliceDoc(i-1,i))!=Sr.Word)&&(s==e.doc.length||t(e.sliceDoc(s,s+1))!=Sr.Word)}function Ddt(t,e,i,s){return t(e.sliceDoc(i,i+1))==Sr.Word&&t(e.sliceDoc(s-1,s))==Sr.Word}const Idt=li.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Adt),{state:i}=t,s=i.selection;if(s.ranges.length>1)return Wt.none;let u=s.main,d,h=null;if(u.empty){if(!e.highlightWordAroundCursor)return Wt.none;let y=i.wordAt(u.head);if(!y)return Wt.none;h=i.charCategorizer(u.head),d=i.sliceDoc(y.from,y.to)}else{let y=u.to-u.from;if(y<e.minSelectionLength||y>200)return Wt.none;if(e.wholeWords){if(d=i.sliceDoc(u.from,u.to),h=i.charCategorizer(u.head),!(Fie(h,i,u.from,u.to)&&Ddt(h,i,u.from,u.to)))return Wt.none}else if(d=i.sliceDoc(u.from,u.to),!d)return Wt.none}let m=[];for(let y of t.visibleRanges){let _=new dv(i.doc,d,y.from,y.to);for(;!_.next().done;){let{from:b,to:T}=_.value;if((!h||Fie(h,i,b,T))&&(u.empty&&b<=u.from&&T>=u.to?m.push(Mdt.range(b,T)):(b>=u.to||T<=u.from)&&m.push(Edt.range(b,T)),m.length>e.maxMatches))return Wt.none}}return Wt.set(m)}},{decorations:t=>t.decorations}),Rdt=St.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Ldt=({state:t,dispatch:e})=>{let{selection:i}=t,s=Ye.create(i.ranges.map(u=>t.wordAt(u.head)||Ye.cursor(u.head)),i.mainIndex);return s.eq(i)?!1:(e(t.update({selection:s})),!0)};function Ndt(t,e){let{main:i,ranges:s}=t.selection,u=t.wordAt(i.head),d=u&&u.from==i.from&&u.to==i.to;for(let h=!1,m=new dv(t.doc,e,s[s.length-1].to);;)if(m.next(),m.done){if(h)return null;m=new dv(t.doc,e,0,Math.max(0,s[s.length-1].from-1)),h=!0}else{if(h&&s.some(y=>y.from==m.value.from))continue;if(d){let y=t.wordAt(m.value.from);if(!y||y.from!=m.value.from||y.to!=m.value.to)continue}return m.value}}const $dt=({state:t,dispatch:e})=>{let{ranges:i}=t.selection;if(i.some(d=>d.from===d.to))return Ldt({state:t,dispatch:e});let s=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(d=>t.sliceDoc(d.from,d.to)!=s))return!1;let u=Ndt(t,s);return u?(e(t.update({selection:t.selection.addRange(Ye.range(u.from,u.to),!1),effects:St.scrollIntoView(u.to)})),!0):!1},Mv=Ct.define({combine(t){return mu(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Ydt(e),scrollToMatch:e=>St.scrollIntoView(e)})}});class Uge{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Tdt(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(i,s)=>s=="n"?`
`:s=="r"?"\r":s=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new Fdt(this):new Qdt(this)}getCursor(e,i=0,s){let u=e.doc?e:Nn.create({doc:e});return s==null&&(s=u.doc.length),this.regexp?Sg(this,u,i,s):wg(this,u,i,s)}}class qge{constructor(e){this.spec=e}}function zdt(t,e,i){return(s,u,d,h)=>{if(i&&!i(s,u,d,h))return!1;let m=s>=h&&u<=h+d.length?d.slice(s-h,u-h):e.doc.sliceString(s,u);return t(m,e,s,u)}}function wg(t,e,i,s){let u;return t.wholeWord&&(u=Bdt(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(u=zdt(t.test,e,u)),new dv(e.doc,t.unquoted,i,s,t.caseSensitive?void 0:d=>d.toLowerCase(),u)}function Bdt(t,e){return(i,s,u,d)=>((d>i||d+u.length<s)&&(d=Math.max(0,i-2),u=t.sliceString(d,Math.min(t.length,s+2))),(e(AC(u,i-d))!=Sr.Word||e(PC(u,i-d))!=Sr.Word)&&(e(PC(u,s-d))!=Sr.Word||e(AC(u,s-d))!=Sr.Word))}class Qdt extends qge{constructor(e){super(e)}nextMatch(e,i,s){let u=wg(this.spec,e,s,e.doc.length).nextOverlapping();if(u.done){let d=Math.min(e.doc.length,i+this.spec.unquoted.length);u=wg(this.spec,e,0,d).nextOverlapping()}return u.done||u.value.from==i&&u.value.to==s?null:u.value}prevMatchInRange(e,i,s){for(let u=s;;){let d=Math.max(i,u-1e4-this.spec.unquoted.length),h=wg(this.spec,e,d,u),m=null;for(;!h.nextOverlapping().done;)m=h.value;if(m)return m;if(d==i)return null;u-=1e4}}prevMatch(e,i,s){let u=this.prevMatchInRange(e,0,i);return u||(u=this.prevMatchInRange(e,Math.max(0,s-this.spec.unquoted.length),e.doc.length)),u&&(u.from!=i||u.to!=s)?u:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,i){let s=wg(this.spec,e,0,e.doc.length),u=[];for(;!s.next().done;){if(u.length>=i)return null;u.push(s.value)}return u}highlight(e,i,s,u){let d=wg(this.spec,e,Math.max(0,i-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,e.doc.length));for(;!d.next().done;)u(d.value.from,d.value.to)}}function jdt(t,e,i){return(s,u,d)=>(!i||i(s,u,d))&&t(d[0],e,s,u)}function Sg(t,e,i,s){let u;return t.wholeWord&&(u=Vdt(e.charCategorizer(e.selection.main.head))),t.test&&(u=jdt(t.test,e,u)),new Gge(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:u},i,s)}function AC(t,e){return t.slice(Si(t,e,!1),e)}function PC(t,e){return t.slice(e,Si(t,e))}function Vdt(t){return(e,i,s)=>!s[0].length||(t(AC(s.input,s.index))!=Sr.Word||t(PC(s.input,s.index))!=Sr.Word)&&(t(PC(s.input,s.index+s[0].length))!=Sr.Word||t(AC(s.input,s.index+s[0].length))!=Sr.Word)}class Fdt extends qge{nextMatch(e,i,s){let u=Sg(this.spec,e,s,e.doc.length).next();return u.done&&(u=Sg(this.spec,e,0,i).next()),u.done?null:u.value}prevMatchInRange(e,i,s){for(let u=1;;u++){let d=Math.max(i,s-u*1e4),h=Sg(this.spec,e,d,s),m=null;for(;!h.next().done;)m=h.value;if(m&&(d==i||m.from>d+10))return m;if(d==i)return null}}prevMatch(e,i,s){return this.prevMatchInRange(e,0,i)||this.prevMatchInRange(e,s,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(i,s)=>{if(s=="&")return e.match[0];if(s=="$")return"$";for(let u=s.length;u>0;u--){let d=+s.slice(0,u);if(d>0&&d<e.match.length)return e.match[d]+s.slice(u)}return i})}matchAll(e,i){let s=Sg(this.spec,e,0,e.doc.length),u=[];for(;!s.next().done;){if(u.length>=i)return null;u.push(s.value)}return u}highlight(e,i,s,u){let d=Sg(this.spec,e,Math.max(0,i-250),Math.min(s+250,e.doc.length));for(;!d.next().done;)u(d.value.from,d.value.to)}}const e_=sn.define(),nj=sn.define(),Dd=Qi.define({create(t){return new c3(F$(t).create(),null)},update(t,e){for(let i of e.effects)i.is(e_)?t=new c3(i.value.create(),t.panel):i.is(nj)&&(t=new c3(t.query,i.value?rj:null));return t},provide:t=>q1.from(t,e=>e.panel)});class c3{constructor(e,i){this.query=e,this.panel=i}}const Gdt=Wt.mark({class:"cm-searchMatch"}),Wdt=Wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Udt=li.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Dd))}update(t){let e=t.state.field(Dd);(e!=t.startState.field(Dd)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Wt.none;let{view:i}=this,s=new vc;for(let u=0,d=i.visibleRanges,h=d.length;u<h;u++){let{from:m,to:y}=d[u];for(;u<h-1&&y>d[u+1].from-500;)y=d[++u].to;t.highlight(i.state,m,y,(_,b)=>{let T=i.state.selection.ranges.some(C=>C.from==_&&C.to==b);s.add(_,b,T?Wdt:Gdt)})}return s.finish()}},{decorations:t=>t.decorations});function Z_(t){return e=>{let i=e.state.field(Dd,!1);return i&&i.query.spec.valid?t(e,i):Xge(e)}}const EC=Z_((t,{query:e})=>{let{to:i}=t.state.selection.main,s=e.nextMatch(t.state,i,i);if(!s)return!1;let u=Ye.single(s.from,s.to),d=t.state.facet(Mv);return t.dispatch({selection:u,effects:[ij(t,s),d.scrollToMatch(u.main,t)],userEvent:"select.search"}),Hge(t),!0}),MC=Z_((t,{query:e})=>{let{state:i}=t,{from:s}=i.selection.main,u=e.prevMatch(i,s,s);if(!u)return!1;let d=Ye.single(u.from,u.to),h=t.state.facet(Mv);return t.dispatch({selection:d,effects:[ij(t,u),h.scrollToMatch(d.main,t)],userEvent:"select.search"}),Hge(t),!0}),qdt=Z_((t,{query:e})=>{let i=e.matchAll(t.state,1e3);return!i||!i.length?!1:(t.dispatch({selection:Ye.create(i.map(s=>Ye.range(s.from,s.to))),userEvent:"select.search.matches"}),!0)}),Zdt=({state:t,dispatch:e})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:s,to:u}=i.main,d=[],h=0;for(let m=new dv(t.doc,t.sliceDoc(s,u));!m.next().done;){if(d.length>1e3)return!1;m.value.from==s&&(h=d.length),d.push(Ye.range(m.value.from,m.value.to))}return e(t.update({selection:Ye.create(d,h),userEvent:"select.search.matches"})),!0},Gie=Z_((t,{query:e})=>{let{state:i}=t,{from:s,to:u}=i.selection.main;if(i.readOnly)return!1;let d=e.nextMatch(i,s,s);if(!d)return!1;let h=d,m=[],y,_,b=[];h.from==s&&h.to==u&&(_=i.toText(e.getReplacement(h)),m.push({from:h.from,to:h.to,insert:_}),h=e.nextMatch(i,h.from,h.to),b.push(St.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(s).number)+".")));let T=t.state.changes(m);return h&&(y=Ye.single(h.from,h.to).map(T),b.push(ij(t,h)),b.push(i.facet(Mv).scrollToMatch(y.main,t))),t.dispatch({changes:T,selection:y,effects:b,userEvent:"input.replace"}),!0}),Hdt=Z_((t,{query:e})=>{if(t.state.readOnly)return!1;let i=e.matchAll(t.state,1e9).map(u=>{let{from:d,to:h}=u;return{from:d,to:h,insert:e.getReplacement(u)}});if(!i.length)return!1;let s=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:St.announce.of(s),userEvent:"input.replace.all"}),!0});function rj(t){return t.state.facet(Mv).createPanel(t)}function F$(t,e){var i,s,u,d,h;let m=t.selection.main,y=m.empty||m.to>m.from+100?"":t.sliceDoc(m.from,m.to);if(e&&!y)return e;let _=t.facet(Mv);return new Uge({search:((i=e?.literal)!==null&&i!==void 0?i:_.literal)?y:y.replace(/\n/g,"\\n"),caseSensitive:(s=e?.caseSensitive)!==null&&s!==void 0?s:_.caseSensitive,literal:(u=e?.literal)!==null&&u!==void 0?u:_.literal,regexp:(d=e?.regexp)!==null&&d!==void 0?d:_.regexp,wholeWord:(h=e?.wholeWord)!==null&&h!==void 0?h:_.wholeWord})}function Zge(t){let e=NQ(t,rj);return e&&e.dom.querySelector("[main-field]")}function Hge(t){let e=Zge(t);e&&e==t.root.activeElement&&e.select()}const Xge=t=>{let e=t.state.field(Dd,!1);if(e&&e.panel){let i=Zge(t);if(i&&i!=t.root.activeElement){let s=F$(t.state,e.query.spec);s.valid&&t.dispatch({effects:e_.of(s)}),i.focus(),i.select()}}else t.dispatch({effects:[nj.of(!0),e?e_.of(F$(t.state,e.query.spec)):sn.appendConfig.of(Jdt)]});return!0},Yge=t=>{let e=t.state.field(Dd,!1);if(!e||!e.panel)return!1;let i=NQ(t,rj);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:nj.of(!1)}),!0},Xdt=[{key:"Mod-f",run:Xge,scope:"editor search-panel"},{key:"F3",run:EC,shift:MC,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:EC,shift:MC,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Yge,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Zdt},{key:"Mod-Alt-g",run:Cdt},{key:"Mod-d",run:$dt,preventDefault:!0}];class Ydt{constructor(e){this.view=e;let i=this.query=e.state.field(Dd).query.spec;this.commit=this.commit.bind(this),this.searchField=ir("input",{value:i.search,placeholder:Co(e,"Find"),"aria-label":Co(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ir("input",{value:i.replace,placeholder:Co(e,"Replace"),"aria-label":Co(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ir("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=ir("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=ir("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit});function s(u,d,h){return ir("button",{class:"cm-button",name:u,onclick:d,type:"button"},h)}this.dom=ir("div",{onkeydown:u=>this.keydown(u),class:"cm-search"},[this.searchField,s("next",()=>EC(e),[Co(e,"next")]),s("prev",()=>MC(e),[Co(e,"previous")]),s("select",()=>qdt(e),[Co(e,"all")]),ir("label",null,[this.caseField,Co(e,"match case")]),ir("label",null,[this.reField,Co(e,"regexp")]),ir("label",null,[this.wordField,Co(e,"by word")]),...e.state.readOnly?[]:[ir("br"),this.replaceField,s("replace",()=>Gie(e),[Co(e,"replace")]),s("replaceAll",()=>Hdt(e),[Co(e,"replace all")])],ir("button",{name:"close",onclick:()=>Yge(e),"aria-label":Co(e,"close"),type:"button"},["×"])])}commit(){let e=new Uge({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:e_.of(e)}))}keydown(e){Vat(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?MC:EC)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Gie(this.view))}update(e){for(let i of e.transactions)for(let s of i.effects)s.is(e_)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Mv).top}}function Co(t,e){return t.state.phrase(e)}const PS=30,ES=/[\s\.,:;?!]/;function ij(t,{from:e,to:i}){let s=t.state.doc.lineAt(e),u=t.state.doc.lineAt(i).to,d=Math.max(s.from,e-PS),h=Math.min(u,i+PS),m=t.state.sliceDoc(d,h);if(d!=s.from){for(let y=0;y<PS;y++)if(!ES.test(m[y+1])&&ES.test(m[y])){m=m.slice(y);break}}if(h!=u){for(let y=m.length-1;y>m.length-PS;y--)if(!ES.test(m[y-1])&&ES.test(m[y])){m=m.slice(0,y);break}}return St.announce.of(`${t.state.phrase("current match")}. ${m} ${t.state.phrase("on line")} ${s.number}.`)}const Kdt=St.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Jdt=[Dd,tf.low(Udt),Kdt];class Wie{constructor(e,i,s){this.from=e,this.to=i,this.diagnostic=s}}class Bh{constructor(e,i,s){this.diagnostics=e,this.panel=i,this.selected=s}static init(e,i,s){let u=s.facet(t_).markerFilter;u&&(e=u(e,s));let d=e.slice().sort((A,D)=>A.from-D.from||A.to-D.to),h=new vc,m=[],y=0,_=s.doc.iter(),b=0,T=s.doc.length;for(let A=0;;){let D=A==d.length?null:d[A];if(!D&&!m.length)break;let L,z;if(m.length)L=y,z=m.reduce((B,q)=>Math.min(B,q.to),D&&D.from>L?D.from:1e8);else{if(L=D.from,L>T)break;z=D.to,m.push(D),A++}for(;A<d.length;){let B=d[A];if(B.from==L&&(B.to>B.from||B.to==L))m.push(B),A++,z=Math.min(B.to,z);else{z=Math.min(B.from,z);break}}z=Math.min(z,T);let $=!1;if(m.some(B=>B.from==L&&(B.to==z||z==T))&&($=L==z,!$&&z-L<10)){let B=L-(b+_.value.length);B>0&&(_.next(B),b=L);for(let q=L;;){if(q>=z){$=!0;break}if(!_.lineBreak&&b+_.value.length>q)break;q=b+_.value.length,b+=_.value.length,_.next()}}let Q=fft(m);if($)h.add(L,L,Wt.widget({widget:new lft(Q),diagnostics:m.slice()}));else{let B=m.reduce((q,Y)=>Y.markClass?q+" "+Y.markClass:q,"");h.add(L,z,Wt.mark({class:"cm-lintRange cm-lintRange-"+Q+B,diagnostics:m.slice(),inclusiveEnd:m.some(q=>q.to>z)}))}if(y=z,y==T)break;for(let B=0;B<m.length;B++)m[B].to<=y&&m.splice(B--,1)}let C=h.finish();return new Bh(C,i,fv(C))}}function fv(t,e=null,i=0){let s=null;return t.between(i,1e9,(u,d,{spec:h})=>{if(!(e&&h.diagnostics.indexOf(e)<0))if(!s)s=new Wie(u,d,e||h.diagnostics[0]);else{if(h.diagnostics.indexOf(s.diagnostic)<0)return!1;s=new Wie(s.from,d,s.diagnostic)}}),s}function eft(t,e){let i=e.pos,s=e.end||i,u=t.state.facet(t_).hideOn(t,i,s);if(u!=null)return u;let d=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(h=>h.is(Kge))||t.changes.touchesRange(d.from,Math.max(d.to,s)))}function tft(t,e){return t.field(Ro,!1)?e:e.concat(sn.appendConfig.of(hft))}const Kge=sn.define(),aj=sn.define(),Jge=sn.define(),Ro=Qi.define({create(){return new Bh(Wt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let i=t.diagnostics.map(e.changes),s=null,u=t.panel;if(t.selected){let d=e.changes.mapPos(t.selected.from,1);s=fv(i,t.selected.diagnostic,d)||fv(i,null,d)}!i.size&&u&&e.state.facet(t_).autoPanel&&(u=null),t=new Bh(i,u,s)}for(let i of e.effects)if(i.is(Kge)){let s=e.state.facet(t_).autoPanel?i.value.length?n_.open:null:t.panel;t=Bh.init(i.value,s,e.state)}else i.is(aj)?t=new Bh(t.diagnostics,i.value?n_.open:null,t.selected):i.is(Jge)&&(t=new Bh(t.diagnostics,t.panel,i.value));return t},provide:t=>[q1.from(t,e=>e.panel),St.decorations.from(t,e=>e.diagnostics)]}),nft=Wt.mark({class:"cm-lintRange cm-lintRange-active"});function rft(t,e,i){let{diagnostics:s}=t.state.field(Ro),u,d=-1,h=-1;s.between(e-(i<0?1:0),e+(i>0?1:0),(y,_,{spec:b})=>{if(e>=y&&e<=_&&(y==_||(e>y||i>0)&&(e<_||i<0)))return u=b.diagnostics,d=y,h=_,!1});let m=t.state.facet(t_).tooltipFilter;return u&&m&&(u=m(u,t.state)),u?{pos:d,end:h,above:t.state.doc.lineAt(d).to<h,create(){return{dom:ift(t,u)}}}:null}function ift(t,e){return ir("ul",{class:"cm-tooltip-lint"},e.map(i=>tve(t,i,!1)))}const aft=t=>{let e=t.state.field(Ro,!1);(!e||!e.panel)&&t.dispatch({effects:tft(t.state,[aj.of(!0)])});let i=NQ(t,n_.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},Uie=t=>{let e=t.state.field(Ro,!1);return!e||!e.panel?!1:(t.dispatch({effects:aj.of(!1)}),!0)},oft=t=>{let e=t.state.field(Ro,!1);if(!e)return!1;let i=t.state.selection.main,s=e.diagnostics.iter(i.to+1);return!s.value&&(s=e.diagnostics.iter(0),!s.value||s.from==i.from&&s.to==i.to)?!1:(t.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),!0)},sft=[{key:"Mod-Shift-m",run:aft,preventDefault:!0},{key:"F8",run:oft}],t_=Ct.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...mu(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:qie,tooltipFilter:qie,needsRefresh:(e,i)=>e?i?s=>e(s)||i(s):e:i,hideOn:(e,i)=>e?i?(s,u,d)=>e(s,u,d)||i(s,u,d):e:i,autoPanel:(e,i)=>e||i})}}});function qie(t,e){return t?e?(i,s)=>e(t(i,s),s):t:e}function eve(t){let e=[];if(t)e:for(let{name:i}of t){for(let s=0;s<i.length;s++){let u=i[s];if(/[a-zA-Z]/.test(u)&&!e.some(d=>d.toLowerCase()==u.toLowerCase())){e.push(u);continue e}}e.push("")}return e}function tve(t,e,i){var s;let u=i?eve(e.actions):[];return ir("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ir("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(s=e.actions)===null||s===void 0?void 0:s.map((d,h)=>{let m=!1,y=A=>{if(A.preventDefault(),m)return;m=!0;let D=fv(t.state.field(Ro).diagnostics,e);D&&d.apply(t,D.from,D.to)},{name:_}=d,b=u[h]?_.indexOf(u[h]):-1,T=b<0?_:[_.slice(0,b),ir("u",_.slice(b,b+1)),_.slice(b+1)],C=d.markClass?" "+d.markClass:"";return ir("button",{type:"button",class:"cm-diagnosticAction"+C,onclick:y,onmousedown:y,"aria-label":` Action: ${_}${b<0?"":` (access key "${u[h]})"`}.`},T)}),e.source&&ir("div",{class:"cm-diagnosticSource"},e.source))}class lft extends gu{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ir("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Zie{constructor(e,i){this.diagnostic=i,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=tve(e,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class n_{constructor(e){this.view=e,this.items=[];let i=u=>{if(!(u.ctrlKey||u.altKey||u.metaKey)){if(u.keyCode==27)Uie(this.view),this.view.focus();else if(u.keyCode==38||u.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(u.keyCode==40||u.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(u.keyCode==36)this.moveSelection(0);else if(u.keyCode==35)this.moveSelection(this.items.length-1);else if(u.keyCode==13)this.view.focus();else if(u.keyCode>=65&&u.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:d}=this.items[this.selectedIndex],h=eve(d.actions);for(let m=0;m<h.length;m++)if(h[m].toUpperCase().charCodeAt(0)==u.keyCode){let y=fv(this.view.state.field(Ro).diagnostics,d);y&&d.actions[m].apply(e,y.from,y.to)}}else return;u.preventDefault()}},s=u=>{for(let d=0;d<this.items.length;d++)this.items[d].dom.contains(u.target)&&this.moveSelection(d)};this.list=ir("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i,onclick:s}),this.dom=ir("div",{class:"cm-panel-lint"},this.list,ir("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Uie(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Ro).selected;if(!e)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==e.diagnostic)return i;return-1}update(){let{diagnostics:e,selected:i}=this.view.state.field(Ro),s=0,u=!1,d=null,h=new Set;for(e.between(0,this.view.state.doc.length,(m,y,{spec:_})=>{for(let b of _.diagnostics){if(h.has(b))continue;h.add(b);let T=-1,C;for(let A=s;A<this.items.length;A++)if(this.items[A].diagnostic==b){T=A;break}T<0?(C=new Zie(this.view,b),this.items.splice(s,0,C),u=!0):(C=this.items[T],T>s&&(this.items.splice(s,T-s),u=!0)),i&&C.diagnostic==i.diagnostic?C.dom.hasAttribute("aria-selected")||(C.dom.setAttribute("aria-selected","true"),d=C):C.dom.hasAttribute("aria-selected")&&C.dom.removeAttribute("aria-selected"),s++}});s<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)u=!0,this.items.pop();this.items.length==0&&(this.items.push(new Zie(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),u=!0),d?(this.list.setAttribute("aria-activedescendant",d.id),this.view.requestMeasure({key:this,read:()=>({sel:d.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:m,panel:y})=>{let _=y.height/this.list.offsetHeight;m.top<y.top?this.list.scrollTop-=(y.top-m.top)/_:m.bottom>y.bottom&&(this.list.scrollTop+=(m.bottom-y.bottom)/_)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),u&&this.sync()}sync(){let e=this.list.firstChild;function i(){let s=e;e=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;e!=s.dom;)i();e=s.dom.nextSibling}else this.list.insertBefore(s.dom,e);for(;e;)i()}moveSelection(e){if(this.selectedIndex<0)return;let i=this.view.state.field(Ro),s=fv(i.diagnostics,this.items[e].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Jge.of(s)})}static open(e){return new n_(e)}}function uft(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function MS(t){return uft(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const cft=St.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:MS("#d11")},".cm-lintRange-warning":{backgroundImage:MS("orange")},".cm-lintRange-info":{backgroundImage:MS("#999")},".cm-lintRange-hint":{backgroundImage:MS("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function dft(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function fft(t){let e="hint",i=1;for(let s of t){let u=dft(s.severity);u>i&&(i=u,e=s.severity)}return e}const hft=[Ro,St.decorations.compute([Ro],t=>{let{selected:e,panel:i}=t.field(Ro);return!e||!i||e.from==e.to?Wt.none:Wt.set([nft.range(e.from,e.to)])}),Aot(rft,{hideOn:eft}),cft],Hie=[jot(),Got(),aot(),_ct(),mst(),Zat(),Jat(),Nn.allowMultipleSelections.of(!0),nst(),Ime(xst,{fallback:!0}),Cst(),mlt(),Clt(),vot(),_ot(),dot(),Pdt(),cA.of([...xlt,...Sdt,...Xdt,...Pct,...dst,...Zme,...sft])];function Xie(t){switch(t){case"typescript":return CS({jsx:!1,typescript:!0});case"javascript":return CS({jsx:!1,typescript:!1});case"jsx":return CS({jsx:!0,typescript:!1});case"tsx":return CS({jsx:!0,typescript:!0});default:return ect()}}function pft({content:t,onSaveContent:e,status:i,isReadonly:s,language:u="python"}){const d=K.useRef(null),h=K.useRef(null);return K.useEffect(()=>{if(d.current&&!h.current){const m=Nn.create({doc:t,extensions:[Hie,Xie(u),Iie,St.editable.of(!s)]});h.current=new St({state:m,parent:d.current})}return()=>{h.current&&(h.current.destroy(),h.current=null)}},[t,s,u]),K.useEffect(()=>{if(h.current){const m=St.updateListener.of(b=>{if(b.docChanged&&!s&&b.transactions.find(C=>!C.annotation(Fr.remote))){const C=b.state.doc.toString();e(C,!0)}}),y=h.current.state.selection,_=Nn.create({doc:h.current.state.doc,extensions:[Hie,Xie(u),Iie,m,St.editable.of(!s)],selection:y});h.current.setState(_)}},[e,s,u]),K.useEffect(()=>{if(h.current&&t){const m=h.current.state.doc.toString();if(i==="streaming"||m!==t){const y=h.current.state.update({changes:{from:0,to:m.length,insert:t},annotations:[Fr.remote.of(!0)]});h.current.dispatch(y)}}},[t,i]),I.jsx("div",{className:"not-prose relative w-full text-sm",ref:d})}function mft(t,e){return!(t.currentVersionIndex!==e.currentVersionIndex||t.isCurrentVersion!==e.isCurrentVersion||t.status==="streaming"&&e.status==="streaming"||t.content!==e.content||t.isReadonly!==e.isReadonly||t.language!==e.language)}const nve=K.memo(pft,mft),gft=({artifactKind:t})=>I.jsxs("div",{className:"flex w-full flex-col gap-4",children:[I.jsx("div",{className:"h-12 w-1/2 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-5 w-full animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-5 w-full animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-5 w-1/3 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-5 w-52 animate-pulse rounded-lg bg-transparent"}),I.jsx("div",{className:"h-8 w-52 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-5 w-2/3 animate-pulse rounded-lg bg-muted-foreground/20"})]}),vft=()=>I.jsxs("div",{className:"flex w-full flex-col gap-4",children:[I.jsx("div",{className:"h-4 w-48 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-64 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-40 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-36 animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsx("div",{className:"h-4 w-64 animate-pulse rounded-lg bg-muted-foreground/20"})]});var d3={exports:{}};var Yie;function yft(){return Yie||(Yie=1,(function(t){(function(){var e={}.hasOwnProperty;function i(){for(var d="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(d=u(d,s(m)))}return d}function s(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return i.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var h="";for(var m in d)e.call(d,m)&&d[m]&&(h=u(h,m));return h}function u(d,h){return h?d?d+" "+h:d+h:d}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(d3)),d3.exports}var xft=yft();const tp=cu(xft);function _ft({title:t,content:e,status:i,isInline:s}){return I.jsx("div",{className:tp("flex w-full flex-row items-center justify-center",{"h-[calc(100dvh-60px)]":!s,"h-[200px]":s}),children:i==="streaming"?I.jsxs("div",{className:"flex flex-row items-center gap-4",children:[!s&&I.jsx("div",{className:"animate-spin",children:I.jsx(du,{size:16})}),I.jsx("div",{children:"Generating Image..."})]}):I.jsx("picture",{children:I.jsx("img",{alt:t,className:tp("h-fit w-full max-w-[800px]",{"p-0 md:p-20":!s}),height:600,src:`data:image/png;base64,${e}`,width:800})})})}var ST={exports:{}};var Oft=ST.exports,Kie;function bft(){return Kie||(Kie=1,(function(t,e){((i,s)=>{t.exports=s()})(Oft,function i(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},u,d=!s.document&&!!s.postMessage,h=s.IS_PAPA_WORKER||!1,m={},y=0,_={};function b(V){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(F){var te=Y(F);te.chunkSize=parseInt(te.chunkSize),F.step||F.chunk||(te.chunkSize=null),this._handle=new L(te),(this._handle.streamer=this)._config=te}).call(this,V),this.parseChunk=function(F,te){var ae=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ae){let fe=this._config.newline;fe||(oe=this._config.quoteChar||'"',fe=this._handle.guessLineEndings(F,oe)),F=[...F.split(fe).slice(ae)].join(fe)}this.isFirstChunk&&H(this._config.beforeFirstChunk)&&(oe=this._config.beforeFirstChunk(F))!==void 0&&(F=oe),this.isFirstChunk=!1,this._halted=!1;var ae=this._partialLine+F,oe=(this._partialLine="",this._handle.parse(ae,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(F=oe.meta.cursor,ae=(this._finished||(this._partialLine=ae.substring(F-this._baseIndex),this._baseIndex=F),oe&&oe.data&&(this._rowCount+=oe.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),h)s.postMessage({results:oe,workerId:_.WORKER_ID,finished:ae});else if(H(this._config.chunk)&&!te){if(this._config.chunk(oe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=oe=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(oe.data),this._completeResults.errors=this._completeResults.errors.concat(oe.errors),this._completeResults.meta=oe.meta),this._completed||!ae||!H(this._config.complete)||oe&&oe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ae||oe&&oe.meta.paused||this._nextChunk(),oe}this._halted=!0},this._sendError=function(F){H(this._config.error)?this._config.error(F):h&&this._config.error&&s.postMessage({workerId:_.WORKER_ID,error:F,finished:!1})}}function T(V){var F;(V=V||{}).chunkSize||(V.chunkSize=_.RemoteChunkSize),b.call(this,V),this._nextChunk=d?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(te){this._input=te,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),d||(F.onload=G(this._chunkLoaded,this),F.onerror=G(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!d),this._config.downloadRequestHeaders){var te,ae=this._config.downloadRequestHeaders;for(te in ae)F.setRequestHeader(te,ae[te])}var oe;this._config.chunkSize&&(oe=this._start+this._config.chunkSize-1,F.setRequestHeader("Range","bytes="+this._start+"-"+oe));try{F.send(this._config.downloadRequestBody)}catch(fe){this._chunkError(fe.message)}d&&F.status===0&&this._chunkError()}},this._chunkLoaded=function(){F.readyState===4&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize||F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(te=>(te=te.getResponseHeader("Content-Range"))!==null?parseInt(te.substring(te.lastIndexOf("/")+1)):-1)(F),this.parseChunk(F.responseText)))},this._chunkError=function(te){te=F.statusText||te,this._sendError(new Error(te))}}function C(V){(V=V||{}).chunkSize||(V.chunkSize=_.LocalChunkSize),b.call(this,V);var F,te,ae=typeof FileReader<"u";this.stream=function(oe){this._input=oe,te=oe.slice||oe.webkitSlice||oe.mozSlice,ae?((F=new FileReader).onload=G(this._chunkLoaded,this),F.onerror=G(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var oe=this._input,fe=(this._config.chunkSize&&(fe=Math.min(this._start+this._config.chunkSize,this._input.size),oe=te.call(oe,this._start,fe)),F.readAsText(oe,this._config.encoding));ae||this._chunkLoaded({target:{result:fe}})},this._chunkLoaded=function(oe){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(oe.target.result)},this._chunkError=function(){this._sendError(F.error)}}function A(V){var F;b.call(this,V=V||{}),this.stream=function(te){return F=te,this._nextChunk()},this._nextChunk=function(){var te,ae;if(!this._finished)return te=this._config.chunkSize,F=te?(ae=F.substring(0,te),F.substring(te)):(ae=F,""),this._finished=!F,this.parseChunk(ae)}}function D(V){b.call(this,V=V||{});var F=[],te=!0,ae=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(oe){this._input=oe,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ae&&F.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):te=!0},this._streamData=G(function(oe){try{F.push(typeof oe=="string"?oe:oe.toString(this._config.encoding)),te&&(te=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(fe){this._streamError(fe)}},this),this._streamError=G(function(oe){this._streamCleanUp(),this._sendError(oe)},this),this._streamEnd=G(function(){this._streamCleanUp(),ae=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(V){var F,te,ae,oe,fe=Math.pow(2,53),de=-fe,he=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ue=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,me=0,ge=0,ee=!1,be=!1,Me=[],se={data:[],errors:[],meta:{}};function Ae(ve){return V.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function we(){if(se&&ae&&(Z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+_.DefaultDelimiter+"'"),ae=!1),V.skipEmptyLines&&(se.data=se.data.filter(function(et){return!Ae(et)})),Le()){let et=function(He,yt){H(V.transformHeader)&&(He=V.transformHeader(He,yt)),Me.push(He)};if(se)if(Array.isArray(se.data[0])){for(var ve=0;Le()&&ve<se.data.length;ve++)se.data[ve].forEach(et);se.data.splice(0,1)}else se.data.forEach(et)}function ze(et,He){for(var yt=V.header?{}:[],Ee=0;Ee<et.length;Ee++){var Ue=Ee,ke=et[Ee],ke=((Ge,De)=>(Pt=>(V.dynamicTypingFunction&&V.dynamicTyping[Pt]===void 0&&(V.dynamicTyping[Pt]=V.dynamicTypingFunction(Pt)),(V.dynamicTyping[Pt]||V.dynamicTyping)===!0))(Ge)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&((Pt=>{if(he.test(Pt)&&(Pt=parseFloat(Pt),de<Pt&&Pt<fe))return 1})(De)?parseFloat(De):ue.test(De)?new Date(De):De===""?null:De):De)(Ue=V.header?Ee>=Me.length?"__parsed_extra":Me[Ee]:Ue,ke=V.transform?V.transform(ke,Ue):ke);Ue==="__parsed_extra"?(yt[Ue]=yt[Ue]||[],yt[Ue].push(ke)):yt[Ue]=ke}return V.header&&(Ee>Me.length?Z("FieldMismatch","TooManyFields","Too many fields: expected "+Me.length+" fields but parsed "+Ee,ge+He):Ee<Me.length&&Z("FieldMismatch","TooFewFields","Too few fields: expected "+Me.length+" fields but parsed "+Ee,ge+He)),yt}var Qe;se&&(V.header||V.dynamicTyping||V.transform)&&(Qe=1,!se.data.length||Array.isArray(se.data[0])?(se.data=se.data.map(ze),Qe=se.data.length):se.data=ze(se.data,0),V.header&&se.meta&&(se.meta.fields=Me),ge+=Qe)}function Le(){return V.header&&Me.length===0}function Z(ve,ze,Qe,et){ve={type:ve,code:ze,message:Qe},et!==void 0&&(ve.row=et),se.errors.push(ve)}H(V.step)&&(oe=V.step,V.step=function(ve){se=ve,Le()?we():(we(),se.data.length!==0&&(me+=ve.data.length,V.preview&&me>V.preview?te.abort():(se.data=se.data[0],oe(se,ne))))}),this.parse=function(ve,ze,Qe){var et=V.quoteChar||'"',et=(V.newline||(V.newline=this.guessLineEndings(ve,et)),ae=!1,V.delimiter?H(V.delimiter)&&(V.delimiter=V.delimiter(ve),se.meta.delimiter=V.delimiter):((et=((He,yt,Ee,Ue,ke)=>{var Ge,De,Pt,dt;ke=ke||[",","	","|",";",_.RECORD_SEP,_.UNIT_SEP];for(var Ze=0;Ze<ke.length;Ze++){for(var nn,ut=ke[Ze],st=0,Ve=0,Ce=0,je=(Pt=void 0,new $({comments:Ue,delimiter:ut,newline:yt,preview:10}).parse(He)),qe=0;qe<je.data.length;qe++)Ee&&Ae(je.data[qe])?Ce++:(nn=je.data[qe].length,Ve+=nn,Pt===void 0?Pt=nn:0<nn&&(st+=Math.abs(nn-Pt),Pt=nn));0<je.data.length&&(Ve/=je.data.length-Ce),(De===void 0||st<=De)&&(dt===void 0||dt<Ve)&&1.99<Ve&&(De=st,Ge=ut,dt=Ve)}return{successful:!!(V.delimiter=Ge),bestDelimiter:Ge}})(ve,V.newline,V.skipEmptyLines,V.comments,V.delimitersToGuess)).successful?V.delimiter=et.bestDelimiter:(ae=!0,V.delimiter=_.DefaultDelimiter),se.meta.delimiter=V.delimiter),Y(V));return V.preview&&V.header&&et.preview++,F=ve,te=new $(et),se=te.parse(F,ze,Qe),we(),ee?{meta:{paused:!0}}:se||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,te.abort(),F=H(V.chunk)?"":F.substring(te.getCharIndex())},this.resume=function(){ne.streamer._halted?(ee=!1,ne.streamer.parseChunk(F,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return be},this.abort=function(){be=!0,te.abort(),se.meta.aborted=!0,H(V.complete)&&V.complete(se),F=""},this.guessLineEndings=function(He,et){He=He.substring(0,1048576);var et=new RegExp(z(et)+"([^]*?)"+z(et),"gm"),Qe=(He=He.replace(et,"")).split("\r"),et=He.split(`
`),He=1<et.length&&et[0].length<Qe[0].length;if(Qe.length===1||He)return`
`;for(var yt=0,Ee=0;Ee<Qe.length;Ee++)Qe[Ee][0]===`
`&&yt++;return yt>=Qe.length/2?`\r
`:"\r"}}function z(V){return V.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(V){var F=(V=V||{}).delimiter,te=V.newline,ae=V.comments,oe=V.step,fe=V.preview,de=V.fastMode,he=null,ue=!1,ne=V.quoteChar==null?'"':V.quoteChar,me=ne;if(V.escapeChar!==void 0&&(me=V.escapeChar),(typeof F!="string"||-1<_.BAD_DELIMITERS.indexOf(F))&&(F=","),ae===F)throw new Error("Comment character same as delimiter");ae===!0?ae="#":(typeof ae!="string"||-1<_.BAD_DELIMITERS.indexOf(ae))&&(ae=!1),te!==`
`&&te!=="\r"&&te!==`\r
`&&(te=`
`);var ge=0,ee=!1;this.parse=function(be,Me,se){if(typeof be!="string")throw new Error("Input must be a string");var Ae=be.length,we=F.length,Le=te.length,Z=ae.length,ve=H(oe),ze=[],Qe=[],et=[],He=ge=0;if(!be)return st();if(de||de!==!1&&be.indexOf(ne)===-1){for(var yt=be.split(te),Ee=0;Ee<yt.length;Ee++){if(et=yt[Ee],ge+=et.length,Ee!==yt.length-1)ge+=te.length;else if(se)return st();if(!ae||et.substring(0,Z)!==ae){if(ve){if(ze=[],dt(et.split(F)),Ve(),ee)return st()}else dt(et.split(F));if(fe&&fe<=Ee)return ze=ze.slice(0,fe),st(!0)}}return st()}for(var Ue=be.indexOf(F,ge),ke=be.indexOf(te,ge),Ge=new RegExp(z(me)+z(ne),"g"),De=be.indexOf(ne,ge);;)if(be[ge]===ne)for(De=ge,ge++;;){if((De=be.indexOf(ne,De+1))===-1)return se||Qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ze.length,index:ge}),nn();if(De===Ae-1)return nn(be.substring(ge,De).replace(Ge,ne));if(ne===me&&be[De+1]===me)De++;else if(ne===me||De===0||be[De-1]!==me){Ue!==-1&&Ue<De+1&&(Ue=be.indexOf(F,De+1));var Pt=Ze((ke=ke!==-1&&ke<De+1?be.indexOf(te,De+1):ke)===-1?Ue:Math.min(Ue,ke));if(be.substr(De+1+Pt,we)===F){et.push(be.substring(ge,De).replace(Ge,ne)),be[ge=De+1+Pt+we]!==ne&&(De=be.indexOf(ne,ge)),Ue=be.indexOf(F,ge),ke=be.indexOf(te,ge);break}if(Pt=Ze(ke),be.substring(De+1+Pt,De+1+Pt+Le)===te){if(et.push(be.substring(ge,De).replace(Ge,ne)),ut(De+1+Pt+Le),Ue=be.indexOf(F,ge),De=be.indexOf(ne,ge),ve&&(Ve(),ee))return st();if(fe&&ze.length>=fe)return st(!0);break}Qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ze.length,index:ge}),De++}}else if(ae&&et.length===0&&be.substring(ge,ge+Z)===ae){if(ke===-1)return st();ge=ke+Le,ke=be.indexOf(te,ge),Ue=be.indexOf(F,ge)}else if(Ue!==-1&&(Ue<ke||ke===-1))et.push(be.substring(ge,Ue)),ge=Ue+we,Ue=be.indexOf(F,ge);else{if(ke===-1)break;if(et.push(be.substring(ge,ke)),ut(ke+Le),ve&&(Ve(),ee))return st();if(fe&&ze.length>=fe)return st(!0)}return nn();function dt(Ce){ze.push(Ce),He=ge}function Ze(Ce){var je=0;return je=Ce!==-1&&(Ce=be.substring(De+1,Ce))&&Ce.trim()===""?Ce.length:je}function nn(Ce){return se||(Ce===void 0&&(Ce=be.substring(ge)),et.push(Ce),ge=Ae,dt(et),ve&&Ve()),st()}function ut(Ce){ge=Ce,dt(et),et=[],ke=be.indexOf(te,ge)}function st(Ce){if(V.header&&!Me&&ze.length&&!ue){var je=ze[0],qe=Object.create(null),tt=new Set(je);let $e=!1;for(let zt=0;zt<je.length;zt++){let Ut=je[zt];if(qe[Ut=H(V.transformHeader)?V.transformHeader(Ut,zt):Ut]){let gn,Ke=qe[Ut];for(;gn=Ut+"_"+Ke,Ke++,tt.has(gn););tt.add(gn),je[zt]=gn,qe[Ut]++,$e=!0,(he=he===null?{}:he)[gn]=Ut}else qe[Ut]=1,je[zt]=Ut;tt.add(Ut)}$e&&console.warn("Duplicate headers found and renamed."),ue=!0}return{data:ze,errors:Qe,meta:{delimiter:F,linebreak:te,aborted:ee,truncated:!!Ce,cursor:He+(Me||0),renamedHeaders:he}}}function Ve(){oe(st()),ze=[],Qe=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return ge}}function Q(V){var F=V.data,te=m[F.workerId],ae=!1;if(F.error)te.userError(F.error,F.file);else if(F.results&&F.results.data){var oe={abort:function(){ae=!0,B(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:q,resume:q};if(H(te.userStep)){for(var fe=0;fe<F.results.data.length&&(te.userStep({data:F.results.data[fe],errors:F.results.errors,meta:F.results.meta},oe),!ae);fe++);delete F.results}else H(te.userChunk)&&(te.userChunk(F.results,oe,F.file),delete F.results)}F.finished&&!ae&&B(F.workerId,F.results)}function B(V,F){var te=m[V];H(te.userComplete)&&te.userComplete(F),te.terminate(),delete m[V]}function q(){throw new Error("Not implemented.")}function Y(V){if(typeof V!="object"||V===null)return V;var F,te=Array.isArray(V)?[]:{};for(F in V)te[F]=Y(V[F]);return te}function G(V,F){return function(){V.apply(F,arguments)}}function H(V){return typeof V=="function"}return _.parse=function(V,F){var te=(F=F||{}).dynamicTyping||!1;if(H(te)&&(F.dynamicTypingFunction=te,te={}),F.dynamicTyping=te,F.transform=!!H(F.transform)&&F.transform,!F.worker||!_.WORKERS_SUPPORTED)return te=null,_.NODE_STREAM_INPUT,typeof V=="string"?(V=(ae=>ae.charCodeAt(0)!==65279?ae:ae.slice(1))(V),te=new(F.download?T:A)(F)):V.readable===!0&&H(V.read)&&H(V.on)?te=new D(F):(s.File&&V instanceof File||V instanceof Object)&&(te=new C(F)),te.stream(V);(te=(()=>{var ae;return!!_.WORKERS_SUPPORTED&&(ae=(()=>{var oe=s.URL||s.webkitURL||null,fe=i.toString();return _.BLOB_URL||(_.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",fe,")();"],{type:"text/javascript"})))})(),(ae=new s.Worker(ae)).onmessage=Q,ae.id=y++,m[ae.id]=ae)})()).userStep=F.step,te.userChunk=F.chunk,te.userComplete=F.complete,te.userError=F.error,F.step=H(F.step),F.chunk=H(F.chunk),F.complete=H(F.complete),F.error=H(F.error),delete F.worker,te.postMessage({input:V,config:F,workerId:te.id})},_.unparse=function(V,F){var te=!1,ae=!0,oe=",",fe=`\r
`,de='"',he=de+de,ue=!1,ne=null,me=!1,ge=((()=>{if(typeof F=="object"){if(typeof F.delimiter!="string"||_.BAD_DELIMITERS.filter(function(Me){return F.delimiter.indexOf(Me)!==-1}).length||(oe=F.delimiter),typeof F.quotes!="boolean"&&typeof F.quotes!="function"&&!Array.isArray(F.quotes)||(te=F.quotes),typeof F.skipEmptyLines!="boolean"&&typeof F.skipEmptyLines!="string"||(ue=F.skipEmptyLines),typeof F.newline=="string"&&(fe=F.newline),typeof F.quoteChar=="string"&&(de=F.quoteChar),typeof F.header=="boolean"&&(ae=F.header),Array.isArray(F.columns)){if(F.columns.length===0)throw new Error("Option columns is empty");ne=F.columns}F.escapeChar!==void 0&&(he=F.escapeChar+de),F.escapeFormulae instanceof RegExp?me=F.escapeFormulae:typeof F.escapeFormulae=="boolean"&&F.escapeFormulae&&(me=/^[=+\-@\t\r].*$/)}})(),new RegExp(z(de),"g"));if(typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(V)){if(!V.length||Array.isArray(V[0]))return ee(null,V,ue);if(typeof V[0]=="object")return ee(ne||Object.keys(V[0]),V,ue)}else if(typeof V=="object")return typeof V.data=="string"&&(V.data=JSON.parse(V.data)),Array.isArray(V.data)&&(V.fields||(V.fields=V.meta&&V.meta.fields||ne),V.fields||(V.fields=Array.isArray(V.data[0])?V.fields:typeof V.data[0]=="object"?Object.keys(V.data[0]):[]),Array.isArray(V.data[0])||typeof V.data[0]=="object"||(V.data=[V.data])),ee(V.fields||[],V.data||[],ue);throw new Error("Unable to serialize unrecognized input");function ee(Me,se,Ae){var we="",Le=(typeof Me=="string"&&(Me=JSON.parse(Me)),typeof se=="string"&&(se=JSON.parse(se)),Array.isArray(Me)&&0<Me.length),Z=!Array.isArray(se[0]);if(Le&&ae){for(var ve=0;ve<Me.length;ve++)0<ve&&(we+=oe),we+=be(Me[ve],ve);0<se.length&&(we+=fe)}for(var ze=0;ze<se.length;ze++){var Qe=(Le?Me:se[ze]).length,et=!1,He=Le?Object.keys(se[ze]).length===0:se[ze].length===0;if(Ae&&!Le&&(et=Ae==="greedy"?se[ze].join("").trim()==="":se[ze].length===1&&se[ze][0].length===0),Ae==="greedy"&&Le){for(var yt=[],Ee=0;Ee<Qe;Ee++){var Ue=Z?Me[Ee]:Ee;yt.push(se[ze][Ue])}et=yt.join("").trim()===""}if(!et){for(var ke=0;ke<Qe;ke++){0<ke&&!He&&(we+=oe);var Ge=Le&&Z?Me[ke]:ke;we+=be(se[ze][Ge],ke)}ze<se.length-1&&(!Ae||0<Qe&&!He)&&(we+=fe)}}return we}function be(Me,se){var Ae,we;return Me==null?"":Me.constructor===Date?JSON.stringify(Me).slice(1,25):(we=!1,me&&typeof Me=="string"&&me.test(Me)&&(Me="'"+Me,we=!0),Ae=Me.toString().replace(ge,he),(we=we||te===!0||typeof te=="function"&&te(Me,se)||Array.isArray(te)&&te[se]||((Le,Z)=>{for(var ve=0;ve<Z.length;ve++)if(-1<Le.indexOf(Z[ve]))return!0;return!1})(Ae,_.BAD_DELIMITERS)||-1<Ae.indexOf(oe)||Ae.charAt(0)===" "||Ae.charAt(Ae.length-1)===" ")?de+Ae+de:Ae)}},_.RECORD_SEP="",_.UNIT_SEP="",_.BYTE_ORDER_MARK="\uFEFF",_.BAD_DELIMITERS=["\r",`
`,'"',_.BYTE_ORDER_MARK],_.WORKERS_SUPPORTED=!d&&!!s.Worker,_.NODE_STREAM_INPUT=1,_.LocalChunkSize=10485760,_.RemoteChunkSize=5242880,_.DefaultDelimiter=",",_.Parser=$,_.ParserHandle=L,_.NetworkStreamer=T,_.FileStreamer=C,_.StringStreamer=A,_.ReadableStreamStreamer=D,s.jQuery&&((u=s.jQuery).fn.parse=function(V){var F=V.config||{},te=[];return this.each(function(fe){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var de=0;de<this.files.length;de++)te.push({file:this.files[de],inputElem:this,instanceConfig:u.extend({},F)})}),ae(),this;function ae(){if(te.length===0)H(V.complete)&&V.complete();else{var fe,de,he,ue,ne=te[0];if(H(V.before)){var me=V.before(ne.file,ne.inputElem);if(typeof me=="object"){if(me.action==="abort")return fe="AbortError",de=ne.file,he=ne.inputElem,ue=me.reason,void(H(V.error)&&V.error({name:fe},de,he,ue));if(me.action==="skip")return void oe();typeof me.config=="object"&&(ne.instanceConfig=u.extend(ne.instanceConfig,me.config))}else if(me==="skip")return void oe()}var ge=ne.instanceConfig.complete;ne.instanceConfig.complete=function(ee){H(ge)&&ge(ee,ne.file,ne.inputElem),oe()},_.parse(ne.file,ne.instanceConfig)}}function oe(){te.splice(0,1),ae()}}),h&&(s.onmessage=function(V){V=V.data,_.WORKER_ID===void 0&&V&&(_.WORKER_ID=V.workerId),typeof V.input=="string"?s.postMessage({workerId:_.WORKER_ID,results:_.parse(V.input,V.config),finished:!0}):(s.File&&V.input instanceof File||V.input instanceof Object)&&(V=_.parse(V.input,V.config))&&s.postMessage({workerId:_.WORKER_ID,results:V,finished:!0})}),(T.prototype=Object.create(b.prototype)).constructor=T,(C.prototype=Object.create(b.prototype)).constructor=C,(A.prototype=Object.create(A.prototype)).constructor=A,(D.prototype=Object.create(b.prototype)).constructor=D,_})})(ST)),ST.exports}var DC=bft();function cs(t,e,i){const s=typeof t.colSpan=="function"?t.colSpan(i):1;if(Number.isInteger(s)&&s>1&&(!t.frozen||t.idx+s-1<=e))return s}function wft(t){t.stopPropagation()}function TT(t){t?.scrollIntoView({inline:"nearest",block:"nearest"})}function o1(t){let e=!1;const i={...t,preventGridDefault(){e=!0},isGridDefaultPrevented(){return e}};return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),i}const Sft=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function G$(t){return(t.ctrlKey||t.metaKey)&&t.key!=="Control"}function Tft(t){return G$(t)&&t.keyCode!==86?!1:!Sft.has(t.key)}function Cft({key:t,target:e}){return t==="Tab"&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)?e.closest(".rdg-editor-container")?.querySelectorAll("input, textarea, select").length===1:!1}const kft="mlln6zg7-0-0-beta-47";function Aft(t){return t.map(({key:e,idx:i,minWidth:s,maxWidth:u})=>I.jsx("div",{className:kft,style:{gridColumnStart:i+1,minWidth:s,maxWidth:u},"data-measuring-cell-key":e},e))}function Pft({selectedPosition:t,columns:e,rows:i}){const s=e[t.idx],u=i[t.rowIdx];return rve(s,u)}function rve(t,e){return t.renderEditCell!=null&&(typeof t.editable=="function"?t.editable(e):t.editable)!==!1}function Eft({rows:t,topSummaryRows:e,bottomSummaryRows:i,rowIdx:s,mainHeaderRowIdx:u,lastFrozenColumnIndex:d,column:h}){const m=e?.length??0;if(s===u)return cs(h,d,{type:"HEADER"});if(e&&s>u&&s<=m+u)return cs(h,d,{type:"SUMMARY",row:e[s+m]});if(s>=0&&s<t.length){const y=t[s];return cs(h,d,{type:"ROW",row:y})}if(i)return cs(h,d,{type:"SUMMARY",row:i[s-t.length]})}function Mft({moveUp:t,moveNext:e,cellNavigationMode:i,columns:s,colSpanColumns:u,rows:d,topSummaryRows:h,bottomSummaryRows:m,minRowIdx:y,mainHeaderRowIdx:_,maxRowIdx:b,currentPosition:{idx:T,rowIdx:C},nextPosition:A,lastFrozenColumnIndex:D,isCellWithinBounds:L}){let{idx:z,rowIdx:$}=A;const Q=s.length,B=G=>{for(const H of u){const V=H.idx;if(V>z)break;const F=Eft({rows:d,topSummaryRows:h,bottomSummaryRows:m,rowIdx:$,mainHeaderRowIdx:_,lastFrozenColumnIndex:D,column:H});if(F&&z>V&&z<F+V){z=V+(G?F:0);break}}},q=G=>G.level+_,Y=()=>{if(e){let H=s[z].parent;for(;H!==void 0;){const V=q(H);if($===V){z=H.idx+H.colSpan;break}H=H.parent}}else if(t){let H=s[z].parent,V=!1;for(;H!==void 0;){const F=q(H);if($>=F){z=H.idx,$=F,V=!0;break}H=H.parent}V||(z=T,$=C)}};if(L(A)&&(B(e),$<_&&Y()),i==="CHANGE_ROW"&&(z===Q?$===b||(z=0,$+=1):z===-1&&($===y||($-=1,z=Q-1),B(!1))),$<_){let H=s[z].parent;const V=$;for($=_;H!==void 0;){const F=q(H);F>=V&&($=F,z=H.idx),H=H.parent}}return{idx:z,rowIdx:$}}function Dft({maxColIdx:t,minRowIdx:e,maxRowIdx:i,selectedPosition:{rowIdx:s,idx:u},shiftKey:d}){return d?u===0&&s===e:u===t&&s===i}const Ift="cj343x07-0-0-beta-47",ive=`rdg-cell ${Ift}`,Rft="csofj7r7-0-0-beta-47",Lft=`rdg-cell-frozen ${Rft}`;function ave(t){return{"--rdg-grid-row-start":t}}function ove(t,e,i){const s=e+1,u=`calc(${i-1} * var(--rdg-header-row-height))`;return t.parent===void 0?{insetBlockStart:0,gridRowStart:1,gridRowEnd:s,paddingBlockStart:u}:{insetBlockStart:`calc(${e-i} * var(--rdg-header-row-height))`,gridRowStart:s-i,gridRowEnd:s,paddingBlockStart:u}}function H_(t,e=1){const i=t.idx+1;return{gridColumnStart:i,gridColumnEnd:i+e,insetInlineStart:t.frozen?`var(--rdg-frozen-left-${t.idx})`:void 0}}function OA(t,...e){return zd(ive,...e,t.frozen&&Lft)}const{min:r_,max:IC,floor:Jie,sign:Nft,abs:$ft}=Math;function f3(t){if(typeof t!="function")throw new Error("Please specify the rowKeyGetter prop to use selection")}function sve(t,{minWidth:e,maxWidth:i}){return t=IC(t,e),typeof i=="number"&&i>=e?r_(t,i):t}function lve(t,e){return t.parent===void 0?e:t.level-t.parent.level}const zft="c1bn88vv7-0-0-beta-47",Bft=`rdg-checkbox-input ${zft}`;function Qft({onChange:t,indeterminate:e,...i}){function s(u){t(u.target.checked,u.nativeEvent.shiftKey)}return I.jsx("input",{ref:u=>{u&&(u.indeterminate=e===!0)},type:"checkbox",className:Bft,onChange:s,...i})}function jft(t){try{return t.row[t.column.key]}catch{return null}}const uve=K.createContext(void 0),Vft=uve.Provider;function cve(){return K.useContext(uve)}const Fft=K.createContext(void 0),Gft=Fft.Provider,Wft=K.createContext(void 0),Uft=Wft.Provider,qft=K.createContext(void 0),Zft=qft.Provider,Hft=K.createContext(void 0),Xft=Hft.Provider,eae="rdg-select-column",Yft="auto",Kft=50;function Jft({rawColumns:t,defaultColumnOptions:e,getColumnWidth:i,viewportWidth:s,scrollLeft:u,enableVirtualization:d}){const h=e?.width??Yft,m=e?.minWidth??Kft,y=e?.maxWidth??void 0,_=e?.renderCell??jft,b=e?.sortable??!1,T=e?.resizable??!1,C=e?.draggable??!1,{columns:A,colSpanColumns:D,lastFrozenColumnIndex:L,headerRowsCount:z}=K.useMemo(()=>{let H=-1,V=1;const F=[];te(t,1);function te(oe,fe,de){for(const he of oe){if("children"in he){const me={name:he.name,parent:de,idx:-1,colSpan:0,level:0,headerCellClass:he.headerCellClass};te(he.children,fe+1,me);continue}const ue=he.frozen??!1,ne={...he,parent:de,idx:0,level:0,frozen:ue,width:he.width??h,minWidth:he.minWidth??m,maxWidth:he.maxWidth??y,sortable:he.sortable??b,resizable:he.resizable??T,draggable:he.draggable??C,renderCell:he.renderCell??_};F.push(ne),ue&&H++,fe>V&&(V=fe)}}F.sort(({key:oe,frozen:fe},{key:de,frozen:he})=>oe===eae?-1:de===eae?1:fe?he?0:-1:he?1:0);const ae=[];return F.forEach((oe,fe)=>{oe.idx=fe,dve(oe,fe,0),oe.colSpan!=null&&ae.push(oe)}),{columns:F,colSpanColumns:ae,lastFrozenColumnIndex:H,headerRowsCount:V}},[t,h,m,y,_,T,b,C]),{templateColumns:$,layoutCssVars:Q,totalFrozenColumnWidth:B,columnMetrics:q}=K.useMemo(()=>{const H=new Map;let V=0,F=0;const te=[];for(const oe of A){let fe=i(oe);typeof fe=="number"?fe=sve(fe,oe):fe=oe.minWidth,te.push(`${fe}px`),H.set(oe,{width:fe,left:V}),V+=fe}if(L!==-1){const oe=H.get(A[L]);F=oe.left+oe.width}const ae={};for(let oe=0;oe<=L;oe++){const fe=A[oe];ae[`--rdg-frozen-left-${fe.idx}`]=`${H.get(fe).left}px`}return{templateColumns:te,layoutCssVars:ae,totalFrozenColumnWidth:F,columnMetrics:H}},[i,A,L]),[Y,G]=K.useMemo(()=>{if(!d)return[0,A.length-1];const H=u+B,V=u+s,F=A.length-1,te=r_(L+1,F);if(H>=V)return[te,te];let ae=te;for(;ae<F;){const{left:he,width:ue}=q.get(A[ae]);if(he+ue>H)break;ae++}let oe=ae;for(;oe<F;){const{left:he,width:ue}=q.get(A[oe]);if(he+ue>=V)break;oe++}const fe=IC(te,ae-1),de=r_(F,oe+1);return[fe,de]},[q,A,L,u,B,s,d]);return{columns:A,colSpanColumns:D,colOverscanStartIdx:Y,colOverscanEndIdx:G,templateColumns:$,layoutCssVars:Q,headerRowsCount:z,lastFrozenColumnIndex:L,totalFrozenColumnWidth:B}}function dve(t,e,i){if(i<t.level&&(t.level=i),t.parent!==void 0){const{parent:s}=t;s.idx===-1&&(s.idx=e),s.colSpan+=1,dve(s,e,i-1)}}const hv=typeof window>"u"?K.useEffect:K.useLayoutEffect;function eht(t,e,i,s,u,d,h,m,y,_){const b=K.useRef(u),T=t.length===e.length,C=T&&u!==b.current,A=[...i],D=[];for(const{key:Q,idx:B,width:q}of e)typeof q=="string"&&(C||!h.has(Q))&&!d.has(Q)&&(A[B]=q,D.push(Q));const L=A.join(" ");hv(()=>{b.current=u,z(D)});function z(Q){Q.length!==0&&y(B=>{const q=new Map(B);let Y=!1;for(const G of Q){const H=tae(s,G);Y||=H!==B.get(G),H===void 0?q.delete(G):q.set(G,H)}return Y?q:B})}function $(Q,B){const{key:q}=Q,Y=[...i],G=[];for(const{key:V,idx:F,width:te}of e)if(q===V){const ae=typeof B=="number"?`${B}px`:B;Y[F]=ae}else T&&typeof te=="string"&&!d.has(V)&&(Y[F]=te,G.push(V));s.current.style.gridTemplateColumns=Y.join(" ");const H=typeof B=="number"?B:tae(s,q);Bd.flushSync(()=>{m(V=>{const F=new Map(V);return F.set(q,H),F}),z(G)}),_?.(Q.idx,H)}return{gridTemplateColumns:L,handleColumnResize:$}}function tae(t,e){const i=`[data-measuring-cell-key="${CSS.escape(e)}"]`;return t.current?.querySelector(i)?.getBoundingClientRect().width}function tht(){const t=K.useRef(null),[e,i]=K.useState(1),[s,u]=K.useState(1),[d,h]=K.useState(0);return hv(()=>{const{ResizeObserver:m}=window;if(m==null)return;const{clientWidth:y,clientHeight:_,offsetWidth:b,offsetHeight:T}=t.current,{width:C,height:A}=t.current.getBoundingClientRect(),D=T-_,L=C-b+y,z=A-D;i(L),u(z),h(D);const $=new m(Q=>{const B=Q[0].contentBoxSize[0],{clientHeight:q,offsetHeight:Y}=t.current;Bd.flushSync(()=>{i(B.inlineSize),u(B.blockSize),h(Y-q)})});return $.observe(t.current),()=>{$.disconnect()}},[]),[t,e,s,d]}function Ao(t){const e=K.useRef(t);K.useEffect(()=>{e.current=t});const i=K.useCallback((...s)=>{e.current(...s)},[]);return t&&i}function bA(t){const[e,i]=K.useState(!1);e&&!t&&i(!1);function s(d){d.target!==d.currentTarget&&i(!0)}return{tabIndex:t&&!e?0:-1,childTabIndex:t?0:-1,onFocus:t?s:void 0}}function nht({columns:t,colSpanColumns:e,rows:i,topSummaryRows:s,bottomSummaryRows:u,colOverscanStartIdx:d,colOverscanEndIdx:h,lastFrozenColumnIndex:m,rowOverscanStartIdx:y,rowOverscanEndIdx:_}){const b=K.useMemo(()=>{if(d===0)return 0;let T=d;const C=(A,D)=>D!==void 0&&A+D>d?(T=A,!0):!1;for(const A of e){const D=A.idx;if(D>=T||C(D,cs(A,m,{type:"HEADER"})))break;for(let L=y;L<=_;L++){const z=i[L];if(C(D,cs(A,m,{type:"ROW",row:z})))break}if(s!=null){for(const L of s)if(C(D,cs(A,m,{type:"SUMMARY",row:L})))break}if(u!=null){for(const L of u)if(C(D,cs(A,m,{type:"SUMMARY",row:L})))break}}return T},[y,_,i,s,u,d,m,e]);return K.useMemo(()=>{const T=[];for(let C=0;C<=h;C++){const A=t[C];C<b&&!A.frozen||T.push(A)}return T},[b,h,t])}function rht({rows:t,rowHeight:e,clientHeight:i,scrollTop:s,enableVirtualization:u}){const{totalRowHeight:d,gridTemplateRows:h,getRowTop:m,getRowHeight:y,findRowIdx:_}=K.useMemo(()=>{if(typeof e=="number")return{totalRowHeight:e*t.length,gridTemplateRows:` repeat(${t.length}, ${e}px)`,getRowTop:z=>z*e,getRowHeight:()=>e,findRowIdx:z=>Jie(z/e)};let C=0,A=" ";const D=t.map(z=>{const $=e(z),Q={top:C,height:$};return A+=`${$}px `,C+=$,Q}),L=z=>IC(0,r_(t.length-1,z));return{totalRowHeight:C,gridTemplateRows:A,getRowTop:z=>D[L(z)].top,getRowHeight:z=>D[L(z)].height,findRowIdx(z){let $=0,Q=D.length-1;for(;$<=Q;){const B=$+Jie((Q-$)/2),q=D[B].top;if(q===z)return B;if(q<z?$=B+1:q>z&&(Q=B-1),$>Q)return Q}return 0}}},[e,t]);let b=0,T=t.length-1;if(u){const A=_(s),D=_(s+i);b=IC(0,A-4),T=r_(t.length-1,D+4)}return{rowOverscanStartIdx:b,rowOverscanEndIdx:T,totalRowHeight:d,gridTemplateRows:h,getRowTop:m,getRowHeight:y,findRowIdx:_}}const iht="c1w9bbhr7-0-0-beta-47",aht="c1creorc7-0-0-beta-47",oht=`rdg-cell-drag-handle ${iht}`;function sht({gridRowStart:t,rows:e,column:i,columnWidth:s,maxColIdx:u,isLastRow:d,selectedPosition:h,latestDraggedOverRowIdx:m,isCellEditable:y,onRowsChange:_,onFill:b,onClick:T,setDragging:C,setDraggedOverRowIdx:A}){const{idx:D,rowIdx:L}=h;function z(Y){if(Y.preventDefault(),Y.buttons!==1)return;C(!0),window.addEventListener("mouseover",G),window.addEventListener("mouseup",H);function G(V){V.buttons!==1&&H()}function H(){window.removeEventListener("mouseover",G),window.removeEventListener("mouseup",H),C(!1),$()}}function $(){const Y=m.current;if(Y===void 0)return;const G=L<Y?L+1:Y,H=L<Y?Y+1:L;B(G,H),A(void 0)}function Q(Y){Y.stopPropagation(),B(L+1,e.length)}function B(Y,G){const H=e[L],V=[...e],F=[];for(let te=Y;te<G;te++)if(y({rowIdx:te,idx:D})){const ae=b({columnKey:i.key,sourceRow:H,targetRow:e[te]});ae!==e[te]&&(V[te]=ae,F.push(te))}F.length>0&&_?.(V,{indexes:F,column:i})}function q(){const Y=i.colSpan?.({type:"ROW",row:e[L]})??1,{insetInlineStart:G,...H}=H_(i,Y),V="calc(var(--rdg-drag-handle-size) * -0.5 + 1px)",F=i.idx+Y-1===u;return{...H,gridRowStart:t,marginInlineEnd:F?void 0:V,marginBlockEnd:d?void 0:V,insetInlineStart:G?`calc(${G} + ${s}px + var(--rdg-drag-handle-size) * -0.5 - 1px)`:void 0}}return I.jsx("div",{style:q(),className:zd(oht,i.frozen&&aht),onClick:T,onMouseDown:z,onDoubleClick:Q})}const lht="cis5rrm7-0-0-beta-47";function uht({column:t,colSpan:e,row:i,rowIdx:s,onRowChange:u,closeEditor:d,onKeyDown:h,navigate:m}){const y=K.useRef(void 0),_=t.editorOptions?.commitOnOutsideClick!==!1,b=Ao(()=>{A(!0,!1)});K.useEffect(()=>{if(!_)return;function $(){y.current=requestAnimationFrame(b)}return addEventListener("mousedown",$,{capture:!0}),()=>{removeEventListener("mousedown",$,{capture:!0}),T()}},[_,b]);function T(){cancelAnimationFrame(y.current)}function C($){if(h){const Q=o1($);if(h({mode:"EDIT",row:i,column:t,rowIdx:s,navigate(){m($)},onClose:A},Q),Q.isGridDefaultPrevented())return}$.key==="Escape"?A():$.key==="Enter"?A(!0):Cft($)&&m($)}function A($=!1,Q=!0){$?u(i,!0,Q):d(Q)}function D($,Q=!1){u($,Q,Q)}const{cellClass:L}=t,z=OA(t,"rdg-editor-container",typeof L=="function"?L(i):L,!t.editorOptions?.displayCellContent&&lht);return I.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":!0,className:z,style:H_(t,e),onKeyDown:C,onMouseDownCapture:T,children:t.renderEditCell!=null&&I.jsxs(I.Fragment,{children:[t.renderEditCell({column:t,row:i,rowIdx:s,onRowChange:D,onClose:A}),t.editorOptions?.displayCellContent&&t.renderCell({column:t,row:i,rowIdx:s,isCellEditable:!0,tabIndex:-1,onRowChange:D})]})})}function cht({column:t,rowIdx:e,isCellSelected:i,selectCell:s}){const{tabIndex:u,onFocus:d}=bA(i),{colSpan:h}=t,m=lve(t,e),y=t.idx+1;function _(){s({idx:t.idx,rowIdx:e})}return I.jsx("div",{role:"columnheader","aria-colindex":y,"aria-colspan":h,"aria-rowspan":m,"aria-selected":i,tabIndex:u,className:zd(ive,t.headerCellClass),style:{...ove(t,e,m),gridColumnStart:y,gridColumnEnd:y+h},onFocus:d,onClick:_,children:t.name})}const dht="h44jtk67-0-0-beta-47",fht="hcgkhxz7-0-0-beta-47",hht=`rdg-header-sort-name ${fht}`;function pht({column:t,sortDirection:e,priority:i}){return t.sortable?I.jsx(mht,{sortDirection:e,priority:i,children:t.name}):t.name}function mht({sortDirection:t,priority:e,children:i}){const s=cve().renderSortStatus;return I.jsxs("span",{className:dht,children:[I.jsx("span",{className:hht,children:i}),I.jsx("span",{children:s({sortDirection:t,priority:e})})]})}const ght="c6l2wv17-0-0-beta-47",vht="c1kqdw7y7-0-0-beta-47",yht=`rdg-cell-resizable ${vht}`,xht="r1y6ywlx7-0-0-beta-47",_ht="rdg-cell-draggable",Oht="c1bezg5o7-0-0-beta-47",bht=`rdg-cell-dragging ${Oht}`,wht="c1vc96037-0-0-beta-47",Sht=`rdg-cell-drag-over ${wht}`;function Tht({column:t,colSpan:e,rowIdx:i,isCellSelected:s,onColumnResize:u,onColumnsReorder:d,sortColumns:h,onSortColumnsChange:m,selectCell:y,shouldFocusGrid:_,direction:b,dragDropKey:T}){const[C,A]=K.useState(!1),[D,L]=K.useState(!1),z=b==="rtl",$=lve(t,i),{tabIndex:Q,childTabIndex:B,onFocus:q}=bA(s),Y=h?.findIndex(Z=>Z.columnKey===t.key),G=Y!==void 0&&Y>-1?h[Y]:void 0,H=G?.direction,V=G!==void 0&&h.length>1?Y+1:void 0,F=H&&!V?H==="ASC"?"ascending":"descending":void 0,{sortable:te,resizable:ae,draggable:oe}=t,fe=OA(t,t.headerCellClass,te&&ght,ae&&yht,oe&&_ht,C&&bht,D&&Sht),de=t.renderHeaderCell??pht;function he(Z){if(Z.pointerType==="mouse"&&Z.buttons!==1)return;Z.preventDefault();const{currentTarget:ve,pointerId:ze}=Z,Qe=ve.parentElement,{right:et,left:He}=Qe.getBoundingClientRect(),yt=z?Z.clientX-He:et-Z.clientX;let Ee=!1;function Ue(De){const{width:Pt,right:dt,left:Ze}=Qe.getBoundingClientRect();let nn=z?dt+yt-De.clientX:De.clientX+yt-Ze;nn=sve(nn,t),Pt>0&&nn!==Pt&&u(t,nn)}function ke(){Ee=!0,u(t,"max-content")}function Ge(De){Ee||Ue(De),ve.removeEventListener("pointermove",Ue),ve.removeEventListener("dblclick",ke),ve.removeEventListener("lostpointercapture",Ge)}ve.setPointerCapture(ze),ve.addEventListener("pointermove",Ue),ve.addEventListener("dblclick",ke),ve.addEventListener("lostpointercapture",Ge)}function ue(Z){if(m==null)return;const{sortDescendingFirst:ve}=t;if(G===void 0){const ze={columnKey:t.key,direction:ve?"DESC":"ASC"};m(h&&Z?[...h,ze]:[ze])}else{let ze;if((ve===!0&&H==="DESC"||ve!==!0&&H==="ASC")&&(ze={columnKey:t.key,direction:H==="ASC"?"DESC":"ASC"}),Z){const Qe=[...h];ze?Qe[Y]=ze:Qe.splice(Y,1),m(Qe)}else m(ze?[ze]:[])}}function ne(Z){y({idx:t.idx,rowIdx:i}),te&&ue(Z.ctrlKey||Z.metaKey)}function me(Z){q?.(Z),_&&y({idx:0,rowIdx:i})}function ge(Z){(Z.key===" "||Z.key==="Enter")&&(Z.preventDefault(),ue(Z.ctrlKey||Z.metaKey))}function ee(Z){Z.dataTransfer.setData(T,t.key),Z.dataTransfer.dropEffect="move",A(!0)}function be(){A(!1)}function Me(Z){Z.preventDefault(),Z.dataTransfer.dropEffect="move"}function se(Z){if(L(!1),Z.dataTransfer.types.includes(T.toLowerCase())){const ve=Z.dataTransfer.getData(T.toLowerCase());ve!==t.key&&(Z.preventDefault(),d?.(ve,t.key))}}function Ae(Z){nae(Z)&&L(!0)}function we(Z){nae(Z)&&L(!1)}let Le;return oe&&(Le={draggable:!0,onDragStart:ee,onDragEnd:be,onDragOver:Me,onDragEnter:Ae,onDragLeave:we,onDrop:se}),I.jsxs("div",{role:"columnheader","aria-colindex":t.idx+1,"aria-colspan":e,"aria-rowspan":$,"aria-selected":s,"aria-sort":F,tabIndex:_?0:Q,className:fe,style:{...ove(t,i,$),...H_(t,e)},onFocus:me,onClick:ne,onKeyDown:te?ge:void 0,...Le,children:[de({column:t,sortDirection:H,priority:V,tabIndex:B}),ae&&I.jsx("div",{className:xht,onClick:wft,onPointerDown:he})]})}function nae(t){const e=t.relatedTarget;return!t.currentTarget.contains(e)}const Cht="r1upfr807-0-0-beta-47",fve=`rdg-row ${Cht}`,kht="r190mhd37-0-0-beta-47",oj="rdg-row-selected",Aht="r139qu9m7-0-0-beta-47",Pht="rdg-top-summary-row",Eht="rdg-bottom-summary-row",Mht="h10tskcx7-0-0-beta-47",hve=`rdg-header-row ${Mht}`;function Dht({rowIdx:t,columns:e,onColumnResize:i,onColumnsReorder:s,sortColumns:u,onSortColumnsChange:d,lastFrozenColumnIndex:h,selectedCellIdx:m,selectCell:y,shouldFocusGrid:_,direction:b}){const T=K.useId(),C=[];for(let A=0;A<e.length;A++){const D=e[A],L=cs(D,h,{type:"HEADER"});L!==void 0&&(A+=L-1),C.push(I.jsx(Tht,{column:D,colSpan:L,rowIdx:t,isCellSelected:m===D.idx,onColumnResize:i,onColumnsReorder:s,onSortColumnsChange:d,sortColumns:u,selectCell:y,shouldFocusGrid:_&&A===0,direction:b,dragDropKey:T},D.key))}return I.jsx("div",{role:"row","aria-rowindex":t,className:zd(hve,m===-1&&oj),children:C})}const Iht=K.memo(Dht);function Rht({rowIdx:t,level:e,columns:i,selectedCellIdx:s,selectCell:u}){const d=[],h=new Set;for(const m of i){let{parent:y}=m;if(y!==void 0){for(;y.level>e&&y.parent!==void 0;)y=y.parent;if(y.level===e&&!h.has(y)){h.add(y);const{idx:_}=y;d.push(I.jsx(cht,{column:y,rowIdx:t,isCellSelected:s===_,selectCell:u},_))}}}return I.jsx("div",{role:"row","aria-rowindex":t,className:hve,children:d})}const Lht=K.memo(Rht),Nht="c6ra8a37-0-0-beta-47",$ht=`rdg-cell-copied ${Nht}`,zht="cq910m07-0-0-beta-47",Bht=`rdg-cell-dragged-over ${zht}`;function Qht({column:t,colSpan:e,isCellSelected:i,isCopied:s,isDraggedOver:u,row:d,rowIdx:h,onClick:m,onDoubleClick:y,onContextMenu:_,onRowChange:b,selectCell:T,...C}){const{tabIndex:A,childTabIndex:D,onFocus:L}=bA(i),{cellClass:z}=t,$=OA(t,typeof z=="function"?z(d):z,s&&$ht,u&&Bht),Q=rve(t,d);function B(V){T({rowIdx:h,idx:t.idx},V)}function q(V){if(m){const F=o1(V);if(m({row:d,column:t,selectCell:B},F),F.isGridDefaultPrevented())return}B()}function Y(V){if(_){const F=o1(V);if(_({row:d,column:t,selectCell:B},F),F.isGridDefaultPrevented())return}B()}function G(V){if(y){const F=o1(V);if(y({row:d,column:t,selectCell:B},F),F.isGridDefaultPrevented())return}B(!0)}function H(V){b(t,V)}return I.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":i,"aria-readonly":!Q||void 0,tabIndex:A,className:$,style:H_(t,e),onClick:q,onDoubleClick:G,onContextMenu:Y,onFocus:L,...C,children:t.renderCell({column:t,row:d,rowIdx:h,isCellEditable:Q,tabIndex:D,onRowChange:H})})}const jht=K.memo(Qht);function Vht({className:t,rowIdx:e,gridRowStart:i,selectedCellIdx:s,isRowSelectionDisabled:u,isRowSelected:d,copiedCellIdx:h,draggedOverCellIdx:m,lastFrozenColumnIndex:y,row:_,viewportColumns:b,selectedCellEditor:T,onCellClick:C,onCellDoubleClick:A,onCellContextMenu:D,rowClass:L,setDraggedOverRowIdx:z,onMouseEnter:$,onRowChange:Q,selectCell:B,...q},Y){const G=Ao((te,ae)=>{Q(te,e,ae)});function H(te){z?.(e),$?.(te)}t=zd(fve,`rdg-row-${e%2===0?"even":"odd"}`,L?.(_,e),t,s===-1&&oj);const V=[];for(let te=0;te<b.length;te++){const ae=b[te],{idx:oe}=ae,fe=cs(ae,y,{type:"ROW",row:_});fe!==void 0&&(te+=fe-1);const de=s===oe;de&&T?V.push(T):V.push(I.jsx(jht,{column:ae,colSpan:fe,row:_,rowIdx:e,isCopied:h===oe,isDraggedOver:m===oe,isCellSelected:de,onClick:C,onDoubleClick:A,onContextMenu:D,onRowChange:G,selectCell:B},ae.key))}const F=K.useMemo(()=>({isRowSelected:d,isRowSelectionDisabled:u}),[u,d]);return I.jsx(Gft,{value:F,children:I.jsx("div",{role:"row",ref:Y,className:t,onMouseEnter:H,style:ave(i),...q,children:V})})}const Fht=K.memo(K.forwardRef(Vht));function Ght(t,e){return I.jsx(Fht,{...e},t)}function Wht({scrollToPosition:{idx:t,rowIdx:e},gridElement:i,setScrollToCellPosition:s}){const u=K.useRef(null);return hv(()=>{TT(u.current)}),hv(()=>{function d(){s(null)}const h=new IntersectionObserver(d,{root:i,threshold:1});return h.observe(u.current),()=>{h.disconnect()}},[i,s]),I.jsx("div",{ref:u,style:{gridColumn:t===void 0?"1/-1":t+1,gridRow:e===void 0?"1/-1":e+2}})}const Uht="a3ejtar7-0-0-beta-47",qht=`rdg-sort-arrow ${Uht}`;function Zht({sortDirection:t,priority:e}){return I.jsxs(I.Fragment,{children:[Hht({sortDirection:t}),Xht({priority:e})]})}function Hht({sortDirection:t}){return t===void 0?null:I.jsx("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:qht,"aria-hidden":!0,children:I.jsx("path",{d:t==="ASC"?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function Xht({priority:t}){return t}const Yht="rnvodz57-0-0-beta-47",Kht=`rdg ${Yht}`,Jht="vlqv91k7-0-0-beta-47",ept=`rdg-viewport-dragging ${Jht}`,tpt="f1lsfrzw7-0-0-beta-47",npt="f1cte0lg7-0-0-beta-47",rpt="s8wc6fl7-0-0-beta-47";function ipt({column:t,colSpan:e,row:i,rowIdx:s,isCellSelected:u,selectCell:d}){const{tabIndex:h,childTabIndex:m,onFocus:y}=bA(u),{summaryCellClass:_}=t,b=OA(t,rpt,typeof _=="function"?_(i):_);function T(){d({rowIdx:s,idx:t.idx})}return I.jsx("div",{role:"gridcell","aria-colindex":t.idx+1,"aria-colspan":e,"aria-selected":u,tabIndex:h,className:b,style:H_(t,e),onClick:T,onFocus:y,children:t.renderSummaryCell?.({column:t,row:i,tabIndex:m})})}const apt=K.memo(ipt),opt="skuhp557-0-0-beta-47",spt="tf8l5ub7-0-0-beta-47",lpt=`rdg-summary-row ${opt}`;function upt({rowIdx:t,gridRowStart:e,row:i,viewportColumns:s,top:u,bottom:d,lastFrozenColumnIndex:h,selectedCellIdx:m,isTop:y,selectCell:_,"aria-rowindex":b}){const T=[];for(let C=0;C<s.length;C++){const A=s[C],D=cs(A,h,{type:"SUMMARY",row:i});D!==void 0&&(C+=D-1);const L=m===A.idx;T.push(I.jsx(apt,{column:A,colSpan:D,row:i,rowIdx:t,isCellSelected:L,selectCell:_},A.key))}return I.jsx("div",{role:"row","aria-rowindex":b,className:zd(fve,`rdg-row-${t%2===0?"even":"odd"}`,lpt,y?`${Pht} ${spt}`:Eht,m===-1&&oj),style:{...ave(e),"--rdg-summary-row-top":u!==void 0?`${u}px`:void 0,"--rdg-summary-row-bottom":d!==void 0?`${d}px`:void 0},children:T})}const rae=K.memo(upt);function cpt(t,e){const{columns:i,rows:s,topSummaryRows:u,bottomSummaryRows:d,rowKeyGetter:h,onRowsChange:m,rowHeight:y,headerRowHeight:_,summaryRowHeight:b,selectedRows:T,isRowSelectionDisabled:C,onSelectedRowsChange:A,sortColumns:D,onSortColumnsChange:L,defaultColumnOptions:z,onCellClick:$,onCellDoubleClick:Q,onCellContextMenu:B,onCellKeyDown:q,onSelectedCellChange:Y,onScroll:G,onColumnResize:H,onColumnsReorder:V,onFill:F,onCopy:te,onPaste:ae,enableVirtualization:oe,renderers:fe,className:de,style:he,rowClass:ue,direction:ne,role:me,"aria-label":ge,"aria-labelledby":ee,"aria-describedby":be,"aria-rowcount":Me,"data-testid":se}=t,Ae=cve(),we=me??"grid",Le=y??35,Z=_??(typeof Le=="number"?Le:35),ve=b??(typeof Le=="number"?Le:35),ze=fe?.renderRow??Ae?.renderRow??Ght,Qe=fe?.renderSortStatus??Ae?.renderSortStatus??Zht,et=fe?.renderCheckbox??Ae?.renderCheckbox??Qft,He=fe?.noRowsFallback??Ae?.noRowsFallback,yt=oe??!0,Ee=ne??"ltr",[Ue,ke]=K.useState(0),[Ge,De]=K.useState(0),[Pt,dt]=K.useState(()=>new Map),[Ze,nn]=K.useState(()=>new Map),[ut,st]=K.useState(null),[Ve,Ce]=K.useState(!1),[je,qe]=K.useState(void 0),[tt,$e]=K.useState(null),zt=K.useCallback(nt=>Pt.get(nt.key)??Ze.get(nt.key)??nt.width,[Ze,Pt]),[Ut,gn,Ke,An]=tht(),{columns:ln,colSpanColumns:Cr,lastFrozenColumnIndex:bn,headerRowsCount:It,colOverscanStartIdx:fn,colOverscanEndIdx:$n,templateColumns:rn,layoutCssVars:Xe,totalFrozenColumnWidth:Xn}=Jft({rawColumns:i,defaultColumnOptions:z,getColumnWidth:zt,scrollLeft:Ge,viewportWidth:gn,enableVirtualization:yt}),zn=u?.length??0,Dr=d?.length??0,Je=zn+Dr,an=It+zn,ki=It-1,dr=-an,xs=dr+ki,ci=s.length+Dr-1,[xt,ji]=K.useState(()=>({idx:-1,rowIdx:dr-1,mode:"SELECT"})),Ac=K.useRef(xt),Np=K.useRef(je),sf=K.useRef(-1),fo=K.useRef(null),il=K.useRef(!1),Fv=we==="treegrid",lf=It*Z,lO=Je*ve,$p=Ke-lf-lO,Gv=T!=null&&A!=null,uO=Ee==="rtl",uf=uO?"ArrowRight":"ArrowLeft",al=uO?"ArrowLeft":"ArrowRight",cf=Me??It+s.length+Je,_s=K.useMemo(()=>({renderCheckbox:et,renderSortStatus:Qe}),[et,Qe]),cO=K.useMemo(()=>{let nt=!1,ct=!1;if(h!=null&&T!=null&&T.size>0){for(const Vt of s)if(T.has(h(Vt))?nt=!0:ct=!0,nt&&ct)break}return{isRowSelected:nt&&!ct,isIndeterminate:nt&&ct}},[s,T,h]),{rowOverscanStartIdx:Ra,rowOverscanEndIdx:df,totalRowHeight:xu,gridTemplateRows:yr,getRowTop:No,getRowHeight:Os,findRowIdx:dO}=rht({rows:s,rowHeight:Le,clientHeight:$p,scrollTop:Ue,enableVirtualization:yt}),ma=nht({columns:ln,colSpanColumns:Cr,colOverscanStartIdx:fn,colOverscanEndIdx:$n,lastFrozenColumnIndex:bn,rowOverscanStartIdx:Ra,rowOverscanEndIdx:df,rows:s,topSummaryRows:u,bottomSummaryRows:d}),{gridTemplateColumns:sP,handleColumnResize:La}=eht(ln,ma,rn,Ut,gn,Pt,Ze,dt,nn,H),lP=Fv?-1:0,ol=ln.length-1,zp=Kv(xt),_u=Ir(xt),Wv=Z+xu+lO+An,uP=Ao(La),cP=Ao(V),Uv=Ao(L),dP=Ao($),fP=Ao(Q),fO=Ao(B),hP=Ao(Hv),pP=Ao(Xv),Ai=Ao(Qp),qv=Ao(ws),Bp=Ao(({idx:nt,rowIdx:ct})=>{ws({rowIdx:dr+ct-1,idx:nt})});hv(()=>{if(!zp||h3(xt,Ac.current)){Ac.current=xt;return}Ac.current=xt,xt.idx===-1&&(fo.current.focus({preventScroll:!0}),TT(fo.current))}),hv(()=>{il.current&&(il.current=!1,ff())}),K.useImperativeHandle(e,()=>({element:Ut.current,scrollToCell({idx:nt,rowIdx:ct}){const Vt=nt!==void 0&&nt>bn&&nt<ln.length?nt:void 0,Qt=ct!==void 0&&Ou(ct)?ct:void 0;(Vt!==void 0||Qt!==void 0)&&$e({idx:Vt,rowIdx:Qt})},selectCell:ws}));const Zv=K.useCallback(nt=>{qe(nt),Np.current=nt},[]);function Hv(nt){if(!A)return;f3(h);const ct=new Set(T);for(const Vt of s){if(C?.(Vt)===!0)continue;const Qt=h(Vt);nt.checked?ct.add(Qt):ct.delete(Qt)}A(ct)}function Xv(nt){if(!A)return;f3(h);const{row:ct,checked:Vt,isShiftClick:Qt}=nt;if(C?.(ct)===!0)return;const hn=new Set(T),Mn=h(ct),jn=sf.current,Pn=s.indexOf(ct);if(sf.current=Pn,Vt?hn.add(Mn):hn.delete(Mn),Qt&&jn!==-1&&jn!==Pn&&jn<s.length){const Xr=Nft(Pn-jn);for(let Ba=jn+Xr;Ba!==Pn;Ba+=Xr){const Ji=s[Ba];C?.(Ji)!==!0&&(Vt?hn.add(h(Ji)):hn.delete(h(Ji)))}}A(hn)}function Yv(nt){const{idx:ct,rowIdx:Vt,mode:Qt}=xt;if(Qt==="EDIT")return;if(q&&Ou(Vt)){const Pn=s[Vt],Xr=o1(nt);if(q({mode:"SELECT",row:Pn,column:ln[ct],rowIdx:Vt,selectCell:ws},Xr),Xr.isGridDefaultPrevented())return}if(!(nt.target instanceof Element))return;const hn=nt.target.closest(".rdg-cell")!==null,Mn=Fv&&nt.target===fo.current;if(!hn&&!Mn)return;const{keyCode:jn}=nt;if(_u&&(ae!=null||te!=null)&&G$(nt)){if(jn===67){if(window.getSelection()?.isCollapsed===!1)return;mP();return}if(jn===86){bs();return}}switch(nt.key){case"Escape":st(null);return;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":$a(nt);break;default:hO(nt);break}}function Na(nt){const{scrollTop:ct,scrollLeft:Vt}=nt.currentTarget;Bd.flushSync(()=>{ke(ct),De($ft(Vt))}),G?.(nt)}function Qp(nt,ct,Vt){if(typeof m!="function"||Vt===s[ct])return;const Qt=[...s];Qt[ct]=Vt,m(Qt,{indexes:[ct],column:nt})}function jp(){xt.mode==="EDIT"&&Qp(ln[xt.idx],xt.rowIdx,xt.row)}function mP(){const{idx:nt,rowIdx:ct}=xt,Vt=s[ct],Qt=ln[nt].key;st({row:Vt,columnKey:Qt}),te?.({sourceRow:Vt,sourceColumnKey:Qt})}function bs(){if(!ae||!m||ut===null||!sl(xt))return;const{idx:nt,rowIdx:ct}=xt,Vt=ln[nt],Qt=s[ct],hn=ae({sourceRow:ut.row,sourceColumnKey:ut.columnKey,targetRow:Qt,targetColumnKey:Vt.key});Qp(Vt,ct,hn)}function hO(nt){if(!_u)return;const ct=s[xt.rowIdx],{key:Vt,shiftKey:Qt}=nt;if(Gv&&Qt&&Vt===" "){f3(h);const hn=h(ct);Xv({row:ct,checked:!T.has(hn),isShiftClick:!1}),nt.preventDefault();return}sl(xt)&&Tft(nt)&&ji(({idx:hn,rowIdx:Mn})=>({idx:hn,rowIdx:Mn,mode:"EDIT",row:ct,originalRow:ct}))}function pO(nt){return nt>=lP&&nt<=ol}function Ou(nt){return nt>=0&&nt<s.length}function Kv({idx:nt,rowIdx:ct}){return ct>=dr&&ct<=ci&&pO(nt)}function Jv({idx:nt,rowIdx:ct}){return Ou(ct)&&nt>=0&&nt<=ol}function Ir({idx:nt,rowIdx:ct}){return Ou(ct)&&pO(nt)}function sl(nt){return Jv(nt)&&Pft({columns:ln,rows:s,selectedPosition:nt})}function ws(nt,ct){if(!Kv(nt))return;jp();const Vt=s[nt.rowIdx],Qt=h3(xt,nt);ct&&sl(nt)?ji({...nt,mode:"EDIT",row:Vt,originalRow:Vt}):Qt?TT(iae(Ut.current)):(il.current=!0,ji({...nt,mode:"SELECT"})),Y&&!Qt&&Y({rowIdx:nt.rowIdx,row:Vt,column:ln[nt.idx]})}function ho(nt,ct,Vt){const{idx:Qt,rowIdx:hn}=xt,Mn=zp&&Qt===-1;switch(nt){case"ArrowUp":return{idx:Qt,rowIdx:hn-1};case"ArrowDown":return{idx:Qt,rowIdx:hn+1};case uf:return{idx:Qt-1,rowIdx:hn};case al:return{idx:Qt+1,rowIdx:hn};case"Tab":return{idx:Qt+(Vt?-1:1),rowIdx:hn};case"Home":return Mn?{idx:Qt,rowIdx:dr}:{idx:0,rowIdx:ct?dr:hn};case"End":return Mn?{idx:Qt,rowIdx:ci}:{idx:ol,rowIdx:ct?ci:hn};case"PageUp":{if(xt.rowIdx===dr)return xt;const jn=No(hn)+Os(hn)-$p;return{idx:Qt,rowIdx:jn>0?dO(jn):0}}case"PageDown":{if(xt.rowIdx>=s.length)return xt;const jn=No(hn)+$p;return{idx:Qt,rowIdx:jn<xu?dO(jn):s.length-1}}default:return xt}}function $a(nt){const{key:ct,shiftKey:Vt}=nt;let Qt="NONE";if(ct==="Tab"){if(Dft({shiftKey:Vt,maxColIdx:ol,minRowIdx:dr,maxRowIdx:ci,selectedPosition:xt})){jp();return}Qt="CHANGE_ROW"}nt.preventDefault();const hn=G$(nt),Mn=ho(ct,hn,Vt);if(h3(xt,Mn))return;const jn=Mft({moveUp:ct==="ArrowUp",moveNext:ct===al||ct==="Tab"&&!Vt,columns:ln,colSpanColumns:Cr,rows:s,topSummaryRows:u,bottomSummaryRows:d,minRowIdx:dr,mainHeaderRowIdx:xs,maxRowIdx:ci,lastFrozenColumnIndex:bn,cellNavigationMode:Qt,currentPosition:xt,nextPosition:Mn,isCellWithinBounds:Kv});ws(jn)}function Ss(nt){if(je===void 0)return;const{rowIdx:ct}=xt;return(ct<je?ct<nt&&nt<=je:ct>nt&&nt>=je)?xt.idx:void 0}function ff(){const nt=iae(Ut.current);if(nt===null)return;TT(nt),(nt.querySelector('[tabindex="0"]')??nt).focus({preventScroll:!0})}function za(){if(F==null||xt.mode==="EDIT"||!Ir(xt))return;const{idx:nt,rowIdx:ct}=xt,Vt=ln[nt];if(Vt.renderEditCell==null||Vt.editable===!1)return;const Qt=zt(Vt);return I.jsx(sht,{gridRowStart:an+ct+1,rows:s,column:Vt,columnWidth:Qt,maxColIdx:ol,isLastRow:ct===ci,selectedPosition:xt,isCellEditable:sl,latestDraggedOverRowIdx:Np,onRowsChange:m,onClick:ff,onFill:F,setDragging:Ce,setDraggedOverRowIdx:Zv})}function mO(nt){if(xt.rowIdx!==nt||xt.mode==="SELECT")return;const{idx:ct,row:Vt}=xt,Qt=ln[ct],hn=cs(Qt,bn,{type:"ROW",row:Vt}),Mn=Pn=>{il.current=Pn,ji(({idx:Xr,rowIdx:Ba})=>({idx:Xr,rowIdx:Ba,mode:"SELECT"}))},jn=(Pn,Xr,Ba)=>{Xr?Bd.flushSync(()=>{Qp(Qt,xt.rowIdx,Pn),Mn(Ba)}):ji(Ji=>({...Ji,row:Pn}))};return s[xt.rowIdx]!==xt.originalRow&&Mn(!1),I.jsx(uht,{column:Qt,colSpan:hn,row:Vt,rowIdx:nt,onRowChange:jn,closeEditor:Mn,onKeyDown:q,navigate:$a},Qt.key)}function hf(nt){const ct=xt.idx===-1?void 0:ln[xt.idx];return ct!==void 0&&xt.rowIdx===nt&&!ma.includes(ct)?xt.idx>$n?[...ma,ct]:[...ma.slice(0,bn+1),ct,...ma.slice(bn+1)]:ma}function bt(){const nt=[],{idx:ct,rowIdx:Vt}=xt,Qt=_u&&Vt<Ra?Ra-1:Ra,hn=_u&&Vt>df?df+1:df;for(let Mn=Qt;Mn<=hn;Mn++){const jn=Mn===Ra-1||Mn===df+1,Pn=jn?Vt:Mn;let Xr=ma;const Ba=ct===-1?void 0:ln[ct];Ba!==void 0&&(jn?Xr=[Ba]:Xr=hf(Pn));const Ji=s[Pn],wt=an+Pn+1;let e0=Pn,t0=!1;typeof h=="function"&&(e0=h(Ji),t0=T?.has(e0)??!1),nt.push(ze(e0,{"aria-rowindex":an+Pn+1,"aria-selected":Gv?t0:void 0,rowIdx:Pn,row:Ji,viewportColumns:Xr,isRowSelectionDisabled:C?.(Ji)??!1,isRowSelected:t0,onCellClick:dP,onCellDoubleClick:fP,onCellContextMenu:fO,rowClass:ue,gridRowStart:wt,copiedCellIdx:ut!==null&&ut.row===Ji?ln.findIndex(gO=>gO.key===ut.columnKey):void 0,selectedCellIdx:Vt===Pn?ct:void 0,draggedOverCellIdx:Ss(Pn),setDraggedOverRowIdx:Ve?Zv:void 0,lastFrozenColumnIndex:bn,onRowChange:Ai,selectCell:qv,selectedCellEditor:mO(Pn)}))}return nt}(xt.idx>ol||xt.rowIdx>ci)&&(ji({idx:-1,rowIdx:dr-1,mode:"SELECT"}),Zv(void 0));let $o=`repeat(${It}, ${Z}px)`;zn>0&&($o+=` repeat(${zn}, ${ve}px)`),s.length>0&&($o+=yr),Dr>0&&($o+=` repeat(${Dr}, ${ve}px)`);const bu=xt.idx===-1&&xt.rowIdx!==dr-1;return I.jsxs("div",{role:we,"aria-label":ge,"aria-labelledby":ee,"aria-describedby":be,"aria-multiselectable":Gv?!0:void 0,"aria-colcount":ln.length,"aria-rowcount":cf,className:zd(Kht,de,Ve&&ept),style:{...he,scrollPaddingInlineStart:xt.idx>bn||tt?.idx!==void 0?`${Xn}px`:void 0,scrollPaddingBlock:Ou(xt.rowIdx)||tt?.rowIdx!==void 0?`${lf+zn*ve}px ${Dr*ve}px`:void 0,gridTemplateColumns:sP,gridTemplateRows:$o,"--rdg-header-row-height":`${Z}px`,"--rdg-scroll-height":`${Wv}px`,...Xe},dir:Ee,ref:Ut,onScroll:Na,onKeyDown:Yv,"data-testid":se,children:[I.jsxs(Vft,{value:_s,children:[I.jsx(Xft,{value:hP,children:I.jsxs(Zft,{value:cO,children:[Array.from({length:ki},(nt,ct)=>I.jsx(Lht,{rowIdx:ct+1,level:-ki+ct,columns:hf(dr+ct),selectedCellIdx:xt.rowIdx===dr+ct?xt.idx:void 0,selectCell:Bp},ct)),I.jsx(Iht,{rowIdx:It,columns:hf(xs),onColumnResize:uP,onColumnsReorder:cP,sortColumns:D,onSortColumnsChange:Uv,lastFrozenColumnIndex:bn,selectedCellIdx:xt.rowIdx===xs?xt.idx:void 0,selectCell:Bp,shouldFocusGrid:!zp,direction:Ee})]})}),s.length===0&&He?He:I.jsxs(I.Fragment,{children:[u?.map((nt,ct)=>{const Vt=It+1+ct,Qt=xs+1+ct,hn=xt.rowIdx===Qt,Mn=lf+ve*ct;return I.jsx(rae,{"aria-rowindex":Vt,rowIdx:Qt,gridRowStart:Vt,row:nt,top:Mn,bottom:void 0,viewportColumns:hf(Qt),lastFrozenColumnIndex:bn,selectedCellIdx:hn?xt.idx:void 0,isTop:!0,selectCell:qv},ct)}),I.jsx(Uft,{value:pP,children:bt()}),d?.map((nt,ct)=>{const Vt=an+s.length+ct+1,Qt=s.length+ct,hn=xt.rowIdx===Qt,Mn=$p>xu?Ke-ve*(d.length-ct):void 0,jn=Mn===void 0?ve*(d.length-1-ct):void 0;return I.jsx(rae,{"aria-rowindex":cf-Dr+ct+1,rowIdx:Qt,gridRowStart:Vt,row:nt,top:Mn,bottom:jn,viewportColumns:hf(Qt),lastFrozenColumnIndex:bn,selectedCellIdx:hn?xt.idx:void 0,isTop:!1,selectCell:qv},ct)})]})]}),za(),Aft(ma),Fv&&I.jsx("div",{ref:fo,tabIndex:bu?0:-1,className:zd(tpt,bu&&[kht,bn!==-1&&Aht],!Ou(xt.rowIdx)&&npt),style:{gridRowStart:xt.rowIdx+an+1}}),tt!==null&&I.jsx(Wht,{scrollToPosition:tt,setScrollToCellPosition:$e,gridElement:Ut.current})]})}function iae(t){return t.querySelector(':scope > [role="row"] > [tabindex="0"]')}function h3(t,e){return t.idx===e.idx&&t.rowIdx===e.rowIdx}const dpt=K.forwardRef(cpt),fpt="t7vyx3i7-0-0-beta-47",hpt=`rdg-text-editor ${fpt}`;function ppt(t){t?.focus(),t?.select()}function mpt({row:t,column:e,onRowChange:i,onClose:s}){return I.jsx("input",{className:hpt,ref:ppt,value:t[e.key],onChange:u=>i({...t,[e.key]:u.target.value}),onBlur:()=>s(!0,!1)})}const aae=50,DS=26,gpt=({content:t,saveContent:e,status:i,isCurrentVersion:s,isReadonly:u})=>{const{resolvedTheme:d}=Zse(),h=K.useMemo(()=>{if(!t)return new Array(aae).fill(new Array(DS).fill(""));const D=DC.parse(t,{skipEmptyLines:!0}).data.map(L=>{const z=[...L];for(;z.length<DS;)z.push("");return z});for(;D.length<aae;)D.push(new Array(DS).fill(""));return D},[t]),m=K.useMemo(()=>{const A={key:"rowNumber",name:"",frozen:!0,width:50,renderCell:({rowIdx:L})=>L+1,cellClass:"border-t border-r dark:bg-zinc-950 dark:text-zinc-50",headerCellClass:"border-t border-r dark:bg-zinc-900 dark:text-zinc-50"},D=Array.from({length:DS},(L,z)=>({key:z.toString(),name:String.fromCharCode(65+z),renderEditCell:u?void 0:mpt,width:120,cellClass:We("border-t dark:bg-zinc-950 dark:text-zinc-50",{"border-l":z!==0}),headerCellClass:We("border-t dark:bg-zinc-900 dark:text-zinc-50",{"border-l":z!==0})}));return[A,...D]},[u]),y=K.useMemo(()=>h.map((A,D)=>{const L={id:D,rowNumber:D+1};return m.slice(1).forEach((z,$)=>{L[z.key]=A[$]||""}),L}),[h,m]),[_,b]=K.useState(y);K.useEffect(()=>{b(y)},[y]);const T=A=>DC.unparse(A),C=A=>{if(u)return;b(A);const D=A.map(z=>m.slice(1).map($=>z[$.key]||"")),L=T(D);e(L,!0)};return I.jsx(dpt,{className:d==="dark"?"rdg-dark":"rdg-light",columns:m,defaultColumnOptions:{resizable:!0,sortable:!0},enableVirtualization:!0,onCellClick:A=>{A.column.key!=="rowNumber"&&!u&&A.selectCell(!0)},onRowsChange:u?void 0:C,rows:_,style:{height:"100%"}})};function vpt(t,e){return t.currentVersionIndex===e.currentVersionIndex&&t.isCurrentVersion===e.isCurrentVersion&&!(t.status==="streaming"&&e.status==="streaming")&&t.content===e.content&&t.saveContent===e.saveContent&&t.isReadonly===e.isReadonly}const pve=K.memo(gpt,vpt);function lt(t,...e){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const u of e)s.append("v",u);throw i.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const nl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ypt=nl&&"documentMode"in document?document.documentMode:null,Zl=nl&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),pp=nl&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),RC=!(!nl||!("InputEvent"in window)||ypt)&&"getTargetRanges"in new window.InputEvent("input"),i_=nl&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),pv=nl&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xpt=nl&&/Android/.test(navigator.userAgent),mve=nl&&/^(?=.*Chrome).*/i.test(navigator.userAgent),oae=nl&&xpt&&mve,LC=nl&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!mve;function NC(...t){const e=[];for(const i of t)if(i&&typeof i=="string")for(const[s]of i.matchAll(/\S+/g))e.push(s);return e}const _pt=1,Opt=3,bpt=9,wpt=11,mp=0,gve=1,mv=2,Spt=0,Tpt=1,Cpt=2,a_=4,o_=8,wA=128,vve=1792|(112|(3|a_|o_)|wA),sj=1,lj=2,uj=3,cj=4,dj=5,fj=6,SA=i_||pv||LC?" ":"​",_c=`

`,kpt=pp?" ":SA,yve="֑-߿יִ-﷽ﹰ-ﻼ",xve="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Apt=new RegExp("^[^"+xve+"]*["+yve+"]"),Ppt=new RegExp("^[^"+yve+"]*["+xve+"]"),Zd={bold:1,capitalize:1024,code:16,highlight:wA,italic:2,lowercase:256,strikethrough:a_,subscript:32,superscript:64,underline:o_,uppercase:512},Ept={directionless:1,unmergeable:2},sae={center:lj,end:fj,justify:cj,left:sj,right:uj,start:dj},Mpt={[lj]:"center",[fj]:"end",[cj]:"justify",[sj]:"left",[uj]:"right",[dj]:"start"},Dpt={normal:0,segmented:2,token:1},Ipt={[Spt]:"normal",[Cpt]:"segmented",[Tpt]:"token"},_ve="$";function Ove(t,e,i,s,u,d){let h=t.getFirstChild();for(;h!==null;){const m=h.__key;h.__parent===e&&(ot(h)&&Ove(h,m,i,s,u,d),i.has(m)||d.delete(m),u.push(m)),h=h.getNextSibling()}}const Rpt=100;let W$=!1,hj=0;function Lpt(t){hj=t.timeStamp}function p3(t,e,i){const s=t.nodeName==="BR",u=e.__lexicalLineBreak;return u&&(t===u||s&&t.previousSibling===u)||s&&IA(t,i)!==void 0}function Npt(t,e,i){const s=uu(gs(i));let u=null,d=null;s!==null&&s.anchorNode===t&&(u=s.anchorOffset,d=s.focusOffset);const h=t.nodeValue;h!==null&&Mj(e,h,u,d,!1)}function $pt(t,e,i){if(qt(t)){const s=t.anchor.getNode();if(s.is(i)&&t.format!==s.getFormat())return!1}return vu(e)&&i.isAttached()}function zpt(t,e,i,s){for(let u=t;u&&!G0e(u);u=J_(u)){const d=IA(u,e);if(d!==void 0){const h=wi(d,i);if(h)return vr(h)||!Da(u)?void 0:[u,h]}else if(u===s)return[s,A0e(i)]}}function bve(t,e,i){W$=!0;const s=performance.now()-hj>Rpt;try{Do(t,(()=>{const u=Hn()||(function(C){return C.getEditorState().read((()=>{const A=Hn();return A!==null?A.clone():null}))})(t),d=new Map,h=t.getRootElement(),m=t._editorState,y=t._blockCursorElement;let _=!1,b="";for(let C=0;C<e.length;C++){const A=e[C],D=A.type,L=A.target,z=zpt(L,t,m,h);if(!z)continue;const[$,Q]=z;if(D==="characterData")s&&$t(Q)&&vu(L)&&$pt(u,L,Q)&&Npt(L,Q,t);else if(D==="childList"){_=!0;const B=A.addedNodes;for(let G=0;G<B.length;G++){const H=B[G],V=C0e(H),F=H.parentNode;if(F!=null&&H!==y&&V===null&&!p3(H,F,t)){if(pp){const te=(Da(H)?H.innerText:null)||H.nodeValue;te&&(b+=te)}F.removeChild(H)}}const q=A.removedNodes,Y=q.length;if(Y>0){let G=0;for(let H=0;H<Y;H++){const V=q[H];(p3(V,L,t)||y===V)&&(L.appendChild(V),G++)}Y!==G&&d.set($,Q)}}}if(d.size>0)for(const[C,A]of d)A.reconcileObservedMutation(C,t);const T=i.takeRecords();if(T.length>0){for(let C=0;C<T.length;C++){const A=T[C],D=A.addedNodes,L=A.target;for(let z=0;z<D.length;z++){const $=D[z],Q=$.parentNode;Q==null||$.nodeName!=="BR"||p3($,L,t)||Q.removeChild($)}}i.takeRecords()}u!==null&&(_&&lo(u),pp&&R0e(t)&&u.insertRawText(b))}))}finally{W$=!1}}function wve(t){const e=t._observer;e!==null&&bve(t,e.takeRecords(),e)}function Sve(t){(function(e){hj===0&&gs(e).addEventListener("textInput",Lpt,!0)})(t),t._observer=new MutationObserver(((e,i)=>{bve(t,e,i)}))}let Bpt=class Tve{constructor(e,i=new Map,s=void 0,u=new Map,d=void 0){this.node=e,this.sharedConfigMap=i,this.unknownState=s,this.knownState=u;const h=d!==void 0?d:(function(m,y,_){let b=_.size;if(y)for(const T in y){const C=m.get(T);C&&_.has(C)||b++}return b})(i,s,u);this.size=h}getValue(e){const i=this.knownState.get(e);if(i!==void 0)return i;this.sharedConfigMap.set(e.key,e);let s=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const u=this.unknownState[e.key];u!==void 0&&(s=e.parse(u)),this.updateFromKnown(e,s)}return s}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[i,s]of this.knownState)i.isEqual(s,i.defaultValue)?delete e[i.key]:e[i.key]=i.unparse(s);return IS(e)?{[_ve]:e}:{}}getWritable(e){if(this.node===e)return this;const i=new Map(this.knownState),s=IS(u=this.unknownState)&&{...u};var u;if(s)for(const d of i.keys())delete s[d.key];return new Tve(e,this.sharedConfigMap,IS(s),i,this.size)}updateFromKnown(e,i){const s=e.key;this.sharedConfigMap.set(s,e);const{knownState:u,unknownState:d}=this;u.has(e)||d&&s in d||this.size++,u.set(e,i)}updateFromUnknown(e,i){const s=this.sharedConfigMap.get(e);s?this.updateFromKnown(s,s.parse(i)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=i)}updateFromJSON(e){const{knownState:i}=this;for(const s of i.keys())i.set(s,s.defaultValue);if(this.size=i.size,this.unknownState={},e)for(const[s,u]of Object.entries(e))this.updateFromUnknown(s,u);this.unknownState=IS(this.unknownState)}};function IS(t){if(t)for(const e in t)return t}function Cve(t){const e=t.getWritable(),i=e.__state?e.__state.getWritable(e):new Bpt(e);return e.__state=i,i}function lae(t,e){const i=t.__mode,s=t.__format,u=t.__style,d=e.__mode,h=e.__format,m=e.__style,y=t.__state,_=e.__state;return(i===null||i===d)&&(s===null||s===h)&&(u===null||u===m)&&(t.__state===null||y===_||(function(b,T){if(b===T)return!0;if(b&&T&&b.size!==T.size)return!1;const C=new Set,A=(L,z)=>{for(const[$,Q]of L.knownState){if(C.has($.key))continue;C.add($.key);const B=z?z.getValue($):$.defaultValue;if(B!==Q&&!$.isEqual(B,Q))return!0}return!1},D=(L,z)=>{const{unknownState:$}=L,Q=z?z.unknownState:void 0;if($){for(const[B,q]of Object.entries($))if(!C.has(B)&&(C.add(B),q!==(Q?Q[B]:void 0)))return!0}return!1};return!(b&&A(b,T)||T&&A(T,b)||b&&D(b,T)||T&&D(T,b))})(y,_))}function uae(t,e){const i=t.mergeWithSibling(e),s=Mr()._normalizedNodes;return s.add(t.__key),s.add(e.__key),i}function cae(t){let e,i,s=t;if(s.__text!==""||!s.isSimpleText()||s.isUnmergeable()){for(;(e=s.getPreviousSibling())!==null&&$t(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(lae(e,s)){s=uae(e,s);break}break}e.remove()}for(;(i=s.getNextSibling())!==null&&$t(i)&&i.isSimpleText()&&!i.isUnmergeable();){if(i.__text!==""){if(lae(s,i)){s=uae(s,i);break}break}i.remove()}}else s.remove()}function $C(t){return dae(t.anchor),dae(t.focus),t}function dae(t){for(;t.type==="element";){const e=t.getNode(),i=t.offset;let s,u;if(i===e.getChildrenSize()?(s=e.getChildAtIndex(i-1),u=!0):(s=e.getChildAtIndex(i),u=!1),$t(s)){t.set(s.__key,u?s.getTextContentSize():0,"text",!0);break}if(!ot(s))break;t.set(s.__key,u?s.getChildrenSize():0,"element",!0)}}let Hd,Ea,s_,TA,U$,q$,gp,Xs,Z$,l_,bi="",Aa="",Ul=null,ql="",oc="",kve=!1,u_=!1,CT=null;function zC(t,e){const i=gp.get(t);if(e!==null){const s=Y$(t);s.parentNode===e&&e.removeChild(s)}if(Xs.has(t)||Ea._keyToDOMMap.delete(t),ot(i)){const s=QC(i,gp);H$(s,0,s.length-1,null)}i!==void 0&&Dj(l_,s_,TA,i,"destroyed")}function H$(t,e,i,s){let u=e;for(;u<=i;++u){const d=t[u];d!==void 0&&zC(d,s)}}function Ph(t,e){t.setProperty("text-align",e)}const Qpt="40px";function Ave(t,e){const i=Hd.theme.indent;if(typeof i=="string"){const u=t.classList.contains(i);e>0&&!u?t.classList.add(i):e<1&&u&&t.classList.remove(i)}const s=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Qpt;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${s})`)}function Pve(t,e){const i=t.style;e===0?Ph(i,""):e===sj?Ph(i,"left"):e===lj?Ph(i,"center"):e===uj?Ph(i,"right"):e===cj?Ph(i,"justify"):e===dj?Ph(i,"start"):e===fj&&Ph(i,"end")}function BC(t,e){const i=Xs.get(t);i===void 0&&lt(60);const s=i.createDOM(Hd,Ea);if((function(u,d,h){const m=h._keyToDOMMap;(function(y,_,b){const T=`__lexicalKey_${_._key}`;y[T]=b})(d,h,u),m.set(u,d)})(t,s,Ea),$t(i)?s.setAttribute("data-lexical-text","true"):vr(i)&&s.setAttribute("data-lexical-decorator","true"),ot(i)){const u=i.__indent,d=i.__size;if(u!==0&&Ave(s,u),d!==0){const m=d-1;(function(y,_,b,T){const C=Aa;Aa="",X$(y,b,0,_,b.getDOMSlot(T)),Mve(b,T),Aa=C})(QC(i,Xs),m,i,s)}const h=i.__format;h!==0&&Pve(s,h),i.isInline()||Eve(null,i,s),LA(i)&&(bi+=_c,oc+=_c)}else{const u=i.getTextContent();if(vr(i)){const d=i.decorate(Ea,Hd);d!==null&&Dve(t,d),s.contentEditable="false"}else $t(i)&&(i.isDirectionless()||(Aa+=u));bi+=u,oc+=u}return e!==null&&e.insertChild(s),Dj(l_,s_,TA,i,"created"),s}function X$(t,e,i,s,u){const d=bi;bi="";let h=i;for(;h<=s;++h){BC(t[h],u);const m=Xs.get(t[h]);m!==null&&$t(m)&&(Ul===null&&(Ul=m.getFormat()),ql===""&&(ql=m.getStyle()))}LA(e)&&(bi+=_c),u.element.__lexicalTextContent=bi,bi=d+bi}function fae(t,e){if(t){const i=t.__last;if(i){const s=e.get(i);if(s)return np(s)?"line-break":vr(s)&&s.isInline()?"decorator":null}return"empty"}return null}function Eve(t,e,i){const s=fae(t,gp),u=fae(e,Xs);s!==u&&e.getDOMSlot(i).setManagedLineBreak(u)}function Mve(t,e){const i=e.__lexicalDirTextContent||"",s=e.__lexicalDir||"";if(i!==Aa||s!==CT){const u=Aa==="",d=u?CT:(function(h){return Apt.test(h)?"rtl":Ppt.test(h)?"ltr":null})(Aa);if(d!==s){const h=e.classList,m=Hd.theme;let y=s!==null?m[s]:void 0,_=d!==null?m[d]:void 0;if(y!==void 0){if(typeof y=="string"){const b=NC(y);y=m[s]=b}h.remove(...y)}if(d===null||u&&d==="ltr")e.removeAttribute("dir");else{if(_!==void 0){if(typeof _=="string"){const b=NC(_);_=m[d]=b}_!==void 0&&h.add(..._)}e.dir=d}u_||(t.getWritable().__dir=d)}CT=d,e.__lexicalDirTextContent=Aa,e.__lexicalDir=d}}function jpt(t,e,i){const s=Aa;var u;Aa="",Ul=null,ql="",(function(d,h,m){const y=bi,_=d.__size,b=h.__size;bi="";const T=m.element;if(_===1&&b===1){const C=d.__first,A=h.__first;if(C===A)zx(C,T);else{const L=Y$(C),z=BC(A,null);try{T.replaceChild(z,L)}catch($){if(typeof $=="object"&&$!=null){const Q=`${$.toString()} Parent: ${T.tagName}, new child: {tag: ${z.tagName} key: ${A}}, old child: {tag: ${L.tagName}, key: ${C}}.`;throw new Error(Q)}throw $}zC(C,null)}const D=Xs.get(A);$t(D)&&(Ul===null&&(Ul=D.getFormat()),ql===""&&(ql=D.getStyle()))}else{const C=QC(d,gp),A=QC(h,Xs);if(C.length!==_&&lt(227),A.length!==b&&lt(228),_===0)b!==0&&X$(A,h,0,b-1,m);else if(b===0){if(_!==0){const D=m.after==null&&m.before==null&&m.element.__lexicalLineBreak==null;H$(C,0,_-1,D?null:T),D&&(T.textContent="")}}else(function(D,L,z,$,Q,B){const q=$-1,Y=Q-1;let G,H,V=B.getFirstChild(),F=0,te=0;for(;F<=q&&te<=Y;){const fe=L[F],de=z[te];if(fe===de)V=m3(zx(de,B.element)),F++,te++;else{G===void 0&&(G=new Set(L)),H===void 0&&(H=new Set(z));const ue=H.has(fe),ne=G.has(de);if(ue)if(ne){const me=vv(Ea,de);me===V?V=m3(zx(de,B.element)):(B.withBefore(V).insertChild(me),zx(de,B.element)),F++,te++}else BC(de,B.withBefore(V)),te++;else V=m3(Y$(fe)),zC(fe,B.element),F++}const he=Xs.get(de);he!==null&&$t(he)&&(Ul===null&&(Ul=he.getFormat()),ql===""&&(ql=he.getStyle()))}const ae=F>q,oe=te>Y;if(ae&&!oe){const fe=z[Y+1],de=fe===void 0?null:Ea.getElementByKey(fe);X$(z,D,te,Y,B.withBefore(de))}else oe&&!ae&&H$(L,F,q,B.element)})(h,C,A,_,b,m)}LA(h)&&(bi+=_c),T.__lexicalTextContent=bi,bi=y+bi})(t,e,e.getDOMSlot(i)),Mve(e,i),u=e,Ul==null||Ul===u.__textFormat||u_||u.setTextFormat(Ul),(function(d){ql===""||ql===d.__textStyle||u_||d.setTextStyle(ql)})(e),Aa=s}function QC(t,e){const i=[];let s=t.__first;for(;s!==null;){const u=e.get(s);u===void 0&&lt(101),i.push(s),s=u.__next}return i}function zx(t,e){const i=gp.get(t);let s=Xs.get(t);i!==void 0&&s!==void 0||lt(61);const u=kve||q$.has(t)||U$.has(t),d=vv(Ea,t);if(i===s&&!u){if(ot(i)){const h=d.__lexicalTextContent;h!==void 0&&(bi+=h,oc+=h);const m=d.__lexicalDirTextContent;m!==void 0&&(Aa+=m)}else{const h=i.getTextContent();$t(i)&&!i.isDirectionless()&&(Aa+=h),oc+=h,bi+=h}return d}if(i!==s&&u&&Dj(l_,s_,TA,s,"updated"),s.updateDOM(i,d,Hd)){const h=BC(t,null);return e===null&&lt(62),e.replaceChild(h,d),zC(t,null),h}if(ot(i)&&ot(s)){const h=s.__indent;h!==i.__indent&&Ave(d,h);const m=s.__format;m!==i.__format&&Pve(d,m),u&&(jpt(i,s,d),to(s)||s.isInline()||Eve(i,s,d)),LA(s)&&(bi+=_c,oc+=_c)}else{const h=s.getTextContent();if(vr(s)){const m=s.decorate(Ea,Hd);m!==null&&Dve(t,m)}else $t(s)&&!s.isDirectionless()&&(Aa+=h);bi+=h,oc+=h}if(!u_&&to(s)&&s.__cachedText!==oc){const h=s.getWritable();h.__cachedText=oc,s=h}return d}function Dve(t,e){let i=Ea._pendingDecorators;const s=Ea._decorators;if(i===null){if(s[t]===e)return;i=k0e(Ea)}i[t]=e}function m3(t){let e=t.nextSibling;return e!==null&&e===Ea._blockCursorElement&&(e=e.nextSibling),e}function Vpt(t,e,i,s,u,d){bi="",oc="",Aa="",kve=s===mv,CT=null,Ea=i,Hd=i._config,s_=i._nodes,TA=Ea._listeners.mutation,U$=u,q$=d,gp=t._nodeMap,Xs=e._nodeMap,u_=e._readOnly,Z$=new Map(i._keyToDOMMap);const h=new Map;return l_=h,zx("root",null),Ea=void 0,s_=void 0,U$=void 0,q$=void 0,gp=void 0,Xs=void 0,Hd=void 0,Z$=void 0,l_=void 0,h}function Y$(t){const e=Z$.get(t);return e===void 0&&lt(75,t),e}function on(t){return{type:t}}const pj=on("SELECTION_CHANGE_COMMAND"),Fpt=on("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Ive=on("CLICK_COMMAND"),c_=on("DELETE_CHARACTER_COMMAND"),s1=on("INSERT_LINE_BREAK_COMMAND"),K$=on("INSERT_PARAGRAPH_COMMAND"),Yg=on("CONTROLLED_TEXT_INSERTION_COMMAND"),mj=on("PASTE_COMMAND"),J$=on("REMOVE_TEXT_COMMAND"),d_=on("DELETE_WORD_COMMAND"),f_=on("DELETE_LINE_COMMAND"),Td=on("FORMAT_TEXT_COMMAND"),gj=on("UNDO_COMMAND"),vj=on("REDO_COMMAND"),Rve=on("KEYDOWN_COMMAND"),Lve=on("KEY_ARROW_RIGHT_COMMAND"),Nve=on("MOVE_TO_END"),$ve=on("KEY_ARROW_LEFT_COMMAND"),zve=on("MOVE_TO_START"),Bve=on("KEY_ARROW_UP_COMMAND"),Qve=on("KEY_ARROW_DOWN_COMMAND"),jC=on("KEY_ENTER_COMMAND"),jve=on("KEY_SPACE_COMMAND"),Vve=on("KEY_BACKSPACE_COMMAND"),Fve=on("KEY_ESCAPE_COMMAND"),Gve=on("KEY_DELETE_COMMAND"),Wve=on("KEY_TAB_COMMAND"),Gpt=on("INSERT_TAB_COMMAND"),Wpt=on("INDENT_CONTENT_COMMAND"),Upt=on("OUTDENT_CONTENT_COMMAND"),Uve=on("DROP_COMMAND"),qpt=on("FORMAT_ELEMENT_COMMAND"),qve=on("DRAGSTART_COMMAND"),Zve=on("DRAGOVER_COMMAND"),Hve=on("DRAGEND_COMMAND"),yj=on("COPY_COMMAND"),xj=on("CUT_COMMAND"),ez=on("SELECT_ALL_COMMAND"),Zpt=on("CLEAR_EDITOR_COMMAND"),Hpt=on("CLEAR_HISTORY_COMMAND"),Xpt=on("CAN_REDO_COMMAND"),Ypt=on("CAN_UNDO_COMMAND"),Xve=on("FOCUS_COMMAND"),Yve=on("BLUR_COMMAND"),Kve=on("KEY_MODIFIER_COMMAND"),Yu=Object.freeze({}),tz=30,nz=[["keydown",function(t,e){if(l1=t.timeStamp,Jve=t.key,!e.isComposing()&&!At(e,Rve,t)&&t.key!=null){if(g3&&Qae(t))return Do(e,(()=>{RS(e,v3)})),g3=!1,void(v3="");if((function(i){return Kn(i,"ArrowRight",{shiftKey:"any"})})(t))At(e,Lve,t);else if((function(i){return Kn(i,"ArrowRight",rc)})(t))At(e,Nve,t);else if((function(i){return Kn(i,"ArrowLeft",{shiftKey:"any"})})(t))At(e,$ve,t);else if((function(i){return Kn(i,"ArrowLeft",rc)})(t))At(e,zve,t);else if((function(i){return Kn(i,"ArrowUp",{altKey:"any",shiftKey:"any"})})(t))At(e,Bve,t);else if((function(i){return Kn(i,"ArrowDown",{altKey:"any",shiftKey:"any"})})(t))At(e,Qve,t);else if((function(i){return Kn(i,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(t))u1=!0,At(e,jC,t);else if((function(i){return i.key===" "})(t))At(e,jve,t);else if((function(i){return Zl&&Kn(i,"o",{ctrlKey:!0})})(t))t.preventDefault(),u1=!0,At(e,s1,!0);else if((function(i){return Kn(i,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(t))u1=!1,At(e,jC,t);else if((function(i){return Kn(i,"Backspace",{shiftKey:"any"})||Zl&&Kn(i,"h",{ctrlKey:!0})})(t))Qae(t)?At(e,Vve,t):(t.preventDefault(),At(e,c_,!0));else if((function(i){return i.key==="Escape"})(t))At(e,Fve,t);else if((function(i){return Kn(i,"Delete",{})||Zl&&Kn(i,"d",{ctrlKey:!0})})(t))(function(i){return i.key==="Delete"})(t)?At(e,Gve,t):(t.preventDefault(),At(e,c_,!1));else if((function(i){return Kn(i,"Backspace",Bae)})(t))t.preventDefault(),At(e,d_,!0);else if((function(i){return Kn(i,"Delete",Bae)})(t))t.preventDefault(),At(e,d_,!1);else if((function(i){return Zl&&Kn(i,"Backspace",{metaKey:!0})})(t))t.preventDefault(),At(e,f_,!0);else if((function(i){return Zl&&(Kn(i,"Delete",{metaKey:!0})||Kn(i,"k",{ctrlKey:!0}))})(t))t.preventDefault(),At(e,f_,!1);else if((function(i){return Kn(i,"b",rc)})(t))t.preventDefault(),At(e,Td,"bold");else if((function(i){return Kn(i,"u",rc)})(t))t.preventDefault(),At(e,Td,"underline");else if((function(i){return Kn(i,"i",rc)})(t))t.preventDefault(),At(e,Td,"italic");else if((function(i){return Kn(i,"Tab",{shiftKey:"any"})})(t))At(e,Wve,t);else if((function(i){return Kn(i,"z",rc)})(t))t.preventDefault(),At(e,gj,void 0);else if((function(i){return Zl?Kn(i,"z",{metaKey:!0,shiftKey:!0}):Kn(i,"y",{ctrlKey:!0})||Kn(i,"z",{ctrlKey:!0,shiftKey:!0})})(t))t.preventDefault(),At(e,vj,void 0);else{const i=e._editorState._selection;i===null||qt(i)?jae(t)&&(t.preventDefault(),At(e,ez,t)):(function(s){return Kn(s,"c",rc)})(t)?(t.preventDefault(),At(e,yj,t)):(function(s){return Kn(s,"x",rc)})(t)?(t.preventDefault(),At(e,xj,t)):jae(t)&&(t.preventDefault(),At(e,ez,t))}(function(i){return i.ctrlKey||i.shiftKey||i.altKey||i.metaKey})(t)&&At(e,Kve,t)}}],["pointerdown",function(t,e){const i=t.target,s=t.pointerType;$v(i)&&s!=="touch"&&s!=="pen"&&t.button===0&&Do(e,(()=>{Nae(i)||(iz=!0)}))}],["compositionstart",function(t,e){Do(e,(()=>{const i=Hn();if(qt(i)&&!e.isComposing()){const s=i.anchor,u=i.anchor.getNode();Ni(s.key),(t.timeStamp<l1+tz||s.type==="element"||!i.isCollapsed()||u.getFormat()!==i.format||$t(u)&&u.getStyle()!==i.style)&&At(e,Yg,kpt)}}))}],["compositionend",function(t,e){pp?gx=!0:pv||!i_&&!LC?Do(e,(()=>{RS(e,t.data)})):(g3=!0,v3=t.data)}],["input",function(t,e){t.stopPropagation(),Do(e,(()=>{if(Da(t.target)&&Nae(t.target))return;const i=Hn(),s=t.data,u=i0e(t);if(s!=null&&qt(i)&&n0e(i,u,s,t.timeStamp,!1)){gx&&(RS(e,s),gx=!1);const d=i.anchor.getNode(),h=uu(gs(e));if(h===null)return;const m=i.isBackward(),y=m?i.anchor.offset:i.focus.offset,_=m?i.focus.offset:i.anchor.offset;RC&&!i.isCollapsed()&&$t(d)&&h.anchorNode!==null&&d.getTextContent().slice(0,y)+s+d.getTextContent().slice(y+_)===M0e(h.anchorNode)||At(e,Yg,s);const b=s.length;pp&&b>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(i.anchor.offset-=b),i_||pv||LC||!e.isComposing()||(l1=0,Ni(null))}else Ej(!1,e,s!==null?s:void 0),gx&&(RS(e,s||void 0),gx=!1);(function(){sa();const d=Mr();wve(d)})()}),{event:t}),Tg=null}],["click",function(t,e){Do(e,(()=>{const i=Hn(),s=uu(gs(e)),u=Ip();if(s){if(qt(i)){const d=i.anchor,h=d.getNode();if(d.type==="element"&&d.offset===0&&i.isCollapsed()&&!to(h)&&so().getChildrenSize()===1&&h.getTopLevelElementOrThrow().isEmpty()&&u!==null&&i.is(u))s.removeAllRanges(),i.dirty=!0;else if(t.detail===3&&!i.isCollapsed()&&h!==i.focus.getNode()){const m=(function(y,_){let b=y;for(;b!==so()&&b!=null;){if(_(b))return b;b=b.getParent()}return null})(h,(y=>ot(y)&&!y.isInline()));ot(m)&&m.select(0)}}else if(t.pointerType==="touch"||t.pointerType==="pen"){const d=s.anchorNode;(Da(d)||vu(d))&&lo(wj(u,s,e,t))}}At(e,Ive,t)}))}],["cut",Yu],["copy",Yu],["dragstart",Yu],["dragover",Yu],["dragend",Yu],["paste",Yu],["focus",Yu],["blur",Yu],["drop",Yu]];RC&&nz.push(["beforeinput",(t,e)=>(function(i,s){const u=i.inputType,d=i0e(i);u==="deleteCompositionText"||pp&&R0e(s)||u!=="insertCompositionText"&&Do(s,(()=>{const h=Hn();if(u==="deleteContentBackward"){if(h===null){const A=Ip();if(!qt(A))return;lo(A.clone())}if(qt(h)){const A=h.anchor.key===h.focus.key;if(m=i.timeStamp,Jve==="MediaLast"&&m<l1+tz&&s.isComposing()&&A){if(Ni(null),l1=0,setTimeout((()=>{Do(s,(()=>{Ni(null)}))}),tz),qt(h)){const D=h.anchor.getNode();D.markDirty(),$t(D)||lt(142),r0e(h,D)}}else{Ni(null),i.preventDefault();const D=h.anchor.getNode(),L=D.getTextContent(),z=D.canInsertTextAfter(),$=h.anchor.offset===0&&h.focus.offset===L.length;let Q=oae&&A&&!$&&z;if(Q&&h.isCollapsed()&&(Q=!vr(I0e(h.anchor,!0))),!Q){At(s,c_,!0);const B=Hn();oae&&qt(B)&&B.isCollapsed()&&(Qh=B,setTimeout((()=>Qh=null)))}}return}}var m;if(!qt(h))return;const y=i.data;Tg!==null&&Ej(!1,s,Tg),h.dirty&&Tg===null||!h.isCollapsed()||to(h.anchor.getNode())||d===null||h.applyDOMRange(d),Tg=null;const _=h.anchor,b=h.focus,T=_.getNode(),C=b.getNode();if(u!=="insertText"&&u!=="insertTranspose")switch(i.preventDefault(),u){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":At(s,Yg,i);break;case"insertFromComposition":Ni(null),At(s,Yg,i);break;case"insertLineBreak":Ni(null),At(s,s1,!1);break;case"insertParagraph":Ni(null),u1&&!pv?(u1=!1,At(s,s1,!1)):At(s,K$,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":At(s,mj,i);break;case"deleteByComposition":(function(A,D){return A!==D||ot(A)||ot(D)||!Id(A)||!Id(D)})(T,C)&&At(s,J$,i);break;case"deleteByDrag":case"deleteByCut":At(s,J$,i);break;case"deleteContent":At(s,c_,!1);break;case"deleteWordBackward":At(s,d_,!0);break;case"deleteWordForward":At(s,d_,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":At(s,f_,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":At(s,f_,!1);break;case"formatStrikeThrough":At(s,Td,"strikethrough");break;case"formatBold":At(s,Td,"bold");break;case"formatItalic":At(s,Td,"italic");break;case"formatUnderline":At(s,Td,"underline");break;case"historyUndo":At(s,gj,void 0);break;case"historyRedo":At(s,vj,void 0)}else{if(y===`
`)i.preventDefault(),At(s,s1,!1);else if(y===_c)i.preventDefault(),At(s,K$,void 0);else if(y==null&&i.dataTransfer){const A=i.dataTransfer.getData("text/plain");i.preventDefault(),h.insertRawText(A)}else y!=null&&n0e(h,d,y,i.timeStamp,!0)?(i.preventDefault(),At(s,Yg,y)):Tg=y;e0e=i.timeStamp}}))})(t,e)]);let l1=0,Jve=null,e0e=0,Tg=null;const VC=new WeakMap;let rz=!1,iz=!1,u1=!1,gx=!1,g3=!1,v3="",Qh=null,t0e=[0,"",0,"root",0];function n0e(t,e,i,s,u){const d=t.anchor,h=t.focus,m=d.getNode(),y=Mr(),_=uu(gs(y)),b=_!==null?_.anchorNode:null,T=d.key,C=y.getElementByKey(T),A=i.length;return T!==h.key||!$t(m)||(!u&&(!RC||e0e<s+50)||m.isDirty()&&A<2||P0e(i))&&d.offset!==h.offset&&!m.isComposing()||ic(m)||m.isDirty()&&A>1||(u||!RC)&&C!==null&&!m.isComposing()&&b!==vp(C)||_!==null&&e!==null&&(!e.collapsed||e.startContainer!==_.anchorNode||e.startOffset!==_.anchorOffset)||m.getFormat()!==t.format||m.getStyle()!==t.style||(function(D,L){if(L.isSegmented())return!0;if(!D.isCollapsed())return!1;const z=D.anchor.offset,$=L.getParentOrThrow(),Q=Id(L);return z===0?!L.canInsertTextBefore()||!$.canInsertTextBefore()&&!L.isComposing()||Q||(function(B){const q=B.getPreviousSibling();return($t(q)||ot(q)&&q.isInline())&&!q.canInsertTextAfter()})(L):z===L.getTextContentSize()&&(!L.canInsertTextAfter()||!$.canInsertTextAfter()&&!L.isComposing()||Q)})(t,m)}function hae(t,e){return vu(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function pae(t,e,i){const{anchorNode:s,anchorOffset:u,focusNode:d,focusOffset:h}=t;rz&&(rz=!1,hae(s,u)&&hae(d,h)&&!Qh)||Do(e,(()=>{if(!i)return void lo(null);if(!Y_(e,s,d))return;let m=Hn();if(Qh&&qt(m)&&m.isCollapsed()){const y=m.anchor,_=Qh.anchor;(y.key===_.key&&y.offset===_.offset+1||y.offset===1&&_.getNode().is(y.getNode().getPreviousSibling()))&&(m=Qh.clone(),lo(m))}if(Qh=null,qt(m)){const y=m.anchor,_=y.getNode();if(m.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(m.dirty=!0);const b=gs(e).event,T=b?b.timeStamp:performance.now(),[C,A,D,L,z]=t0e,$=so(),Q=e.isComposing()===!1&&$.getTextContent()==="";if(T<z+200&&y.offset===D&&y.key===L)kT(m,C,A);else if(y.type==="text")$t(_)||lt(141),r0e(m,_);else if(y.type==="element"&&!Q){ot(_)||lt(259);const B=y.getNode();B.isEmpty()?(function(q,Y){const G=Y.getTextFormat(),H=Y.getTextStyle();kT(q,G,H)})(m,B):kT(m,0,"")}}else{const b=y.key,T=m.focus.key,C=m.getNodes(),A=C.length,D=m.isBackward(),L=D?h:u,z=D?u:h,$=D?T:b,Q=D?b:T;let B=vve,q=!1;for(let Y=0;Y<A;Y++){const G=C[Y],H=G.getTextContentSize();if($t(G)&&H!==0&&!(Y===0&&G.__key===$&&L===H||Y===A-1&&G.__key===Q&&z===0)&&(q=!0,B&=G.getFormat(),B===0))break}m.format=q?B:0}}At(e,pj,void 0)}))}function kT(t,e,i){t.format===e&&t.style===i||(t.format=e,t.style=i,t.dirty=!0)}function r0e(t,e){kT(t,e.getFormat(),e.getStyle())}function i0e(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function RS(t,e){const i=t._compositionKey;if(Ni(null),i!==null&&e!=null){if(e===""){const s=wi(i),u=vp(t.getElementByKey(i));return void(u!==null&&u.nodeValue!==null&&$t(s)&&Mj(s,u.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const s=Hn();if(qt(s)){const u=s.focus;return s.anchor.set(u.key,u.offset,u.type),void At(t,jC,null)}}}Ej(!0,t,e)}function a0e(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const Kg=new Map;function o0e(t){const e=B0e(t.target);if(e===null)return;const i=Aj(e.anchorNode);if(i===null)return;iz&&(iz=!1,Do(i,(()=>{const y=Ip(),_=e.anchorNode;(Da(_)||vu(_))&&lo(wj(y,e,i,t))})));const s=Pj(i),u=s[s.length-1],d=u._key,h=Kg.get(d),m=h||u;m!==i&&pae(e,m,!1),pae(e,i,!0),i!==u?Kg.set(d,i):h&&Kg.delete(d)}function mae(t){t._lexicalHandled=!0}function gae(t){return t._lexicalHandled===!0}function Kpt(t){const e=t.ownerDocument,i=VC.get(e);if(i===void 0)return;const s=i-1;s>=0||lt(164),VC.set(e,s),s===0&&e.removeEventListener("selectionchange",o0e);const u=K_(t);DA(u)?((function(h){if(h._parentEditor!==null){const m=Pj(h),y=m[m.length-1]._key;Kg.get(y)===h&&Kg.delete(y)}else Kg.delete(h._key)})(u),t.__lexicalEditor=null):u&&lt(198);const d=a0e(t);for(let h=0;h<d.length;h++)d[h]();t.__lexicalEventHandles=[]}function az(t,e,i){sa();const s=t.__key,u=t.getParent();if(u===null)return;const d=(function(m){const y=Hn();if(!qt(y)||!ot(m))return y;const{anchor:_,focus:b}=y,T=_.getNode(),C=b.getNode();return qC(T,m)&&_.set(m.__key,0,"element"),qC(C,m)&&b.set(m.__key,0,"element"),y})(t);let h=!1;if(qt(d)&&e){const m=d.anchor,y=d.focus;m.key===s&&(GC(m,t,u,t.getPreviousSibling(),t.getNextSibling()),h=!0),y.key===s&&(GC(y,t,u,t.getPreviousSibling(),t.getNextSibling()),h=!0)}else PA(d)&&e&&t.isSelected()&&t.selectPrevious();if(qt(d)&&e&&!h){const m=t.getIndexWithinParent();Rd(t),FC(d,u,m,-1)}else Rd(t);i||Cc(u)||u.canBeEmpty()||!u.isEmpty()||az(u,e),e&&d&&to(u)&&u.isEmpty()&&u.selectEnd()}class CA{static getType(){lt(64,this.name)}static clone(e){lt(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Cmt(this,e)}getType(){return this.__type}isInline(){lt(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const i=wi(e);if(i===null)break;e=i.__parent}return!1}isSelected(e){const i=e||Hn();if(i==null)return!1;const s=i.getNodes().some((u=>u.__key===this.__key));if($t(this))return s;if(qt(i)&&i.anchor.type==="element"&&i.focus.type==="element"){if(i.isCollapsed())return!1;const u=this.getParent();if(vr(this)&&this.isInline()&&u){const d=i.isBackward()?i.focus:i.anchor;if(u.is(d.getNode())&&d.offset===u.getChildrenSize()&&this.is(u.getLastChild()))return!1}}return s}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let i=e.getFirstChild(),s=0;for(;i!==null;){if(this.is(i))return s;s++,i=i.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:wi(e)}getParentOrThrow(){const e=this.getParent();return e===null&&lt(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const i=e.getParent();if(Cc(i))return ot(e)||e===this&&vr(e)||lt(194),e;e=i}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&lt(67,this.__key),e}getParents(){const e=[];let i=this.getParent();for(;i!==null;)e.push(i),i=i.getParent();return e}getParentKeys(){const e=[];let i=this.getParent();for(;i!==null;)e.push(i.__key),i=i.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:wi(e)}getPreviousSiblings(){const e=[],i=this.getParent();if(i===null)return e;let s=i.getFirstChild();for(;s!==null&&!s.is(this);)e.push(s),s=s.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:wi(e)}getNextSiblings(){const e=[];let i=this.getNextSibling();for(;i!==null;)e.push(i),i=i.getNextSibling();return e}getCommonAncestor(e){const i=ot(this)?this:this.getParent(),s=ot(e)?e:e.getParent(),u=i&&s?f1(i,s):null;return u?u.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const i=f1(this,e);return i!==null&&(i.type==="descendant"||(i.type==="branch"?jj(i)===-1:(i.type!=="same"&&i.type!=="ancestor"&&lt(279),!1)))}isParentOf(e){const i=f1(this,e);return i!==null&&i.type==="ancestor"}getNodesBetween(e){const i=this.isBefore(e),s=[],u=new Set;let d=this;for(;d!==null;){const h=d.__key;if(u.has(h)||(u.add(h),s.push(d)),d===e)break;const m=ot(d)?i?d.getFirstChild():d.getLastChild():null;if(m!==null){d=m;continue}const y=i?d.getNextSibling():d.getPreviousSibling();if(y!==null){d=y;continue}const _=d.getParentOrThrow();if(u.has(_.__key)||s.push(_),_===e)break;let b=null,T=_;do{if(T===null&&lt(68),b=i?T.getNextSibling():T.getPreviousSibling(),T=T.getParent(),T===null)break;b!==null||u.has(T.__key)||s.push(T)}while(b===null);d=b}return i||s.reverse(),s}isDirty(){const e=Mr()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=wi(this.__key);return e===null&&lt(113),e}getWritable(){sa();const e=rf(),i=Mr(),s=e._nodeMap,u=this.__key,d=this.getLatest(),h=i._cloneNotNeeded,m=Hn();if(m!==null&&m.setCachedNodes(null),h.has(u))return UC(d),d;const y=V0e(d);return h.add(u),UC(y),s.set(u,y),y}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,i){lt(70)}updateDOM(e,i,s){lt(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){lt(18,this.name)}updateFromJSON(e){return(function(i,s){const u=i.getWritable();return(s||u.__state)&&Cve(i).updateFromJSON(s),u})(this,e.$)}static transform(){return null}remove(e){az(this,!0,e)}replace(e,i){sa();let s=Hn();s!==null&&(s=s.clone()),w3(this,e);const u=this.getLatest(),d=this.__key,h=e.__key,m=e.getWritable(),y=this.getParentOrThrow().getWritable(),_=y.__size;Rd(m);const b=u.getPreviousSibling(),T=u.getNextSibling(),C=u.__prev,A=u.__next,D=u.__parent;if(az(u,!1,!0),b===null?y.__first=h:b.getWritable().__next=h,m.__prev=C,T===null?y.__last=h:T.getWritable().__prev=h,m.__next=A,m.__parent=D,y.__size=_,i&&(ot(this)&&ot(m)||lt(139),this.getChildren().forEach((L=>{m.append(L)}))),qt(s)){lo(s);const L=s.anchor,z=s.focus;L.key===d&&_ae(L,m),z.key===d&&_ae(z,m)}return Cd()===d&&Ni(h),m}insertAfter(e,i=!0){sa(),w3(this,e);const s=this.getWritable(),u=e.getWritable(),d=u.getParent(),h=Hn();let m=!1,y=!1;if(d!==null){const A=e.getIndexWithinParent();if(Rd(u),qt(h)){const D=d.__key,L=h.anchor,z=h.focus;m=L.type==="element"&&L.key===D&&L.offset===A+1,y=z.type==="element"&&z.key===D&&z.offset===A+1}}const _=this.getNextSibling(),b=this.getParentOrThrow().getWritable(),T=u.__key,C=s.__next;if(_===null?b.__last=T:_.getWritable().__prev=T,b.__size++,s.__next=T,u.__next=C,u.__prev=s.__key,u.__parent=s.__parent,i&&qt(h)){const A=this.getIndexWithinParent();FC(h,b,A+1);const D=b.__key;m&&h.anchor.set(D,A+2,"element"),y&&h.focus.set(D,A+2,"element")}return e}insertBefore(e,i=!0){sa(),w3(this,e);const s=this.getWritable(),u=e.getWritable(),d=u.__key;Rd(u);const h=this.getPreviousSibling(),m=this.getParentOrThrow().getWritable(),y=s.__prev,_=this.getIndexWithinParent();h===null?m.__first=d:h.getWritable().__next=d,m.__size++,s.__prev=d,u.__prev=y,u.__next=s.__key,u.__parent=s.__parent;const b=Hn();return i&&qt(b)&&FC(b,this.getParentOrThrow(),_),e}isParentRequired(){return!1}createParentElementNode(){return pc()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,i){sa();const s=this.getPreviousSibling(),u=this.getParentOrThrow();if(s===null)return u.select(0,0);if(ot(s))return s.select();if(!$t(s)){const d=s.getIndexWithinParent()+1;return u.select(d,d)}return s.select(e,i)}selectNext(e,i){sa();const s=this.getNextSibling(),u=this.getParentOrThrow();if(s===null)return u.select();if(ot(s))return s.select(0,0);if(!$t(s)){const d=s.getIndexWithinParent();return u.select(d,d)}return s.select(e,i)}markDirty(){this.getWritable()}reconcileObservedMutation(e,i){this.markDirty()}}class Dv extends CA{static getType(){return"linebreak"}static clone(e){return new Dv(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(i){const s=i.parentElement;if(s!==null&&lz(s)){const u=s.firstChild;if(u===i||u.nextSibling===i&&LS(u)){const d=s.lastChild;if(d===i||d.previousSibling===i&&LS(d))return!0}}return!1})(e)||(function(i){const s=i.parentElement;if(s!==null&&lz(s)){const u=s.firstChild;if(u===i||u.nextSibling===i&&LS(u))return!1;const d=s.lastChild;if(d===i||d.previousSibling===i&&LS(d))return!0}return!1})(e)?null:{conversion:Jpt,priority:0}}}static importJSON(e){return gv().updateFromJSON(e)}}function Jpt(t){return{node:gv()}}function gv(){return eO(new Dv)}function np(t){return t instanceof Dv}function LS(t){return vu(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function y3(t,e){return 16&e?"code":e&wA?"mark":32&e?"sub":64&e?"sup":null}function x3(t,e){return 1&e?"strong":2&e?"em":"span"}function s0e(t,e,i,s,u){const d=s.classList;let h=Jg(u,"base");h!==void 0&&d.add(...h),h=Jg(u,"underlineStrikethrough");let m=!1;const y=e&o_&&e&a_;h!==void 0&&(i&o_&&i&a_?(m=!0,y||d.add(...h)):y&&d.remove(...h));for(const _ in Zd){const b=Zd[_];if(h=Jg(u,_),h!==void 0)if(i&b){if(m&&(_==="underline"||_==="strikethrough")){e&b&&d.remove(...h);continue}e&b&&(!y||_!=="underline")&&_!=="strikethrough"||d.add(...h)}else e&b&&d.remove(...h)}}function l0e(t,e,i){const s=e.firstChild,u=i.isComposing(),d=t+(u?SA:"");if(s==null)e.textContent=d;else{const h=s.nodeValue;if(h!==d)if(u||pp){const[m,y,_]=(function(b,T){const C=b.length,A=T.length;let D=0,L=0;for(;D<C&&D<A&&b[D]===T[D];)D++;for(;L+D<C&&L+D<A&&b[C-L-1]===T[A-L-1];)L++;return[D,C-D-L,T.slice(D,A-L)]})(h,d);y!==0&&s.deleteData(m,y),s.insertData(m,_)}else s.nodeValue=d}}function vae(t,e,i,s,u,d){l0e(u,t,e);const h=d.theme.text;h!==void 0&&s0e(0,0,s,t,h)}function NS(t,e){const i=document.createElement(e);return i.appendChild(t),i}class Mp extends CA{static getType(){return"text"}static clone(e){return new Mp(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",i){super(i),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Ipt[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Cd()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const i=Zd[e];return!!(this.getFormat()&i)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,i){return WC(this.getLatest().__format,e,i)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,i){const s=this.__format,u=y3(0,s),d=x3(0,s),h=u===null?d:u,m=document.createElement(h);let y=m;this.hasFormat("code")&&m.setAttribute("spellcheck","false"),u!==null&&(y=document.createElement(d),m.appendChild(y)),vae(y,this,0,s,this.__text,e);const _=this.__style;return _!==""&&(m.style.cssText=_),m}updateDOM(e,i,s){const u=this.__text,d=e.__format,h=this.__format,m=y3(0,d),y=y3(0,h),_=x3(0,d),b=x3(0,h);if((m===null?_:m)!==(y===null?b:y))return!0;if(m===y&&_!==b){const L=i.firstChild;L==null&&lt(48);const z=document.createElement(b);return vae(z,this,0,h,u,s),i.replaceChild(z,L),!1}let T=i;y!==null&&m!==null&&(T=i.firstChild,T==null&&lt(49)),l0e(u,T,this);const C=s.theme.text;C!==void 0&&d!==h&&s0e(0,d,h,T,C);const A=e.__style,D=this.__style;return A!==D&&(i.style.cssText=D),!1}static importDOM(){return{"#text":()=>({conversion:rmt,priority:0}),b:()=>({conversion:tmt,priority:0}),code:()=>({conversion:Ku,priority:0}),em:()=>({conversion:Ku,priority:0}),i:()=>({conversion:Ku,priority:0}),mark:()=>({conversion:Ku,priority:0}),s:()=>({conversion:Ku,priority:0}),span:()=>({conversion:emt,priority:0}),strong:()=>({conversion:Ku,priority:0}),sub:()=>({conversion:Ku,priority:0}),sup:()=>({conversion:Ku,priority:0}),u:()=>({conversion:Ku,priority:0})}}static importJSON(e){return Li().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:i}=super.exportDOM(e);return Da(i)||lt(132),i.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?i.style.textTransform="lowercase":this.hasFormat("uppercase")?i.style.textTransform="uppercase":this.hasFormat("capitalize")&&(i.style.textTransform="capitalize"),this.hasFormat("bold")&&(i=NS(i,"b")),this.hasFormat("italic")&&(i=NS(i,"i")),this.hasFormat("strikethrough")&&(i=NS(i,"s")),this.hasFormat("underline")&&(i=NS(i,"u")),{element:i}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,i){}setFormat(e){const i=this.getWritable();return i.__format=typeof e=="string"?Zd[e]:e,i}setDetail(e){const i=this.getWritable();return i.__detail=typeof e=="string"?Ept[e]:e,i}setStyle(e){const i=this.getWritable();return i.__style=e,i}toggleFormat(e){const i=WC(this.getFormat(),e,null);return this.setFormat(i)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const i=Dpt[e];if(this.__mode===i)return this;const s=this.getWritable();return s.__mode=i,s}setTextContent(e){if(this.__text===e)return this;const i=this.getWritable();return i.__text=e,i}select(e,i){sa();let s=e,u=i;const d=Hn(),h=this.getTextContent(),m=this.__key;if(typeof h=="string"){const y=h.length;s===void 0&&(s=y),u===void 0&&(u=y)}else s=0,u=0;if(!qt(d))return d0e(m,s,m,u,"text","text");{const y=Cd();y!==d.anchor.key&&y!==d.focus.key||Ni(m),d.setTextNodeRange(this,s,this,u)}return d}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,i,s,u){const d=this.getWritable(),h=d.__text,m=s.length;let y=e;y<0&&(y=m+y,y<0&&(y=0));const _=Hn();if(u&&qt(_)){const T=e+m;_.setTextNodeRange(d,T,d,T)}const b=h.slice(0,y)+s+h.slice(y+i);return d.__text=b,d}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){sa();const i=this.getLatest(),s=i.getTextContent();if(s==="")return[];const u=i.__key,d=Cd(),h=s.length;e.sort(((V,F)=>V-F)),e.push(h);const m=[],y=e.length;for(let V=0,F=0;V<h&&F<=y;F++){const te=e[F];te>V&&(m.push(s.slice(V,te)),V=te)}const _=m.length;if(_===1)return[i];const b=m[0],T=i.getParent();let C;const A=i.getFormat(),D=i.getStyle(),L=i.__detail;let z=!1,$=null,Q=null;const B=Hn();if(qt(B)){const[V,F]=B.isBackward()?[B.focus,B.anchor]:[B.anchor,B.focus];V.type==="text"&&V.key===u&&($=V),F.type==="text"&&F.key===u&&(Q=F)}i.isSegmented()?(C=Li(b),C.__format=A,C.__style=D,C.__detail=L,z=!0):C=i.setTextContent(b);const q=[C];for(let V=1;V<_;V++){const F=Li(m[V]);F.__format=A,F.__style=D,F.__detail=L;const te=F.__key;d===u&&Ni(te),q.push(F)}const Y=$?$.offset:null,G=Q?Q.offset:null;let H=0;for(const V of q){if(!$&&!Q)break;const F=H+V.getTextContentSize();if($!==null&&Y!==null&&Y<=F&&Y>=H&&($.set(V.getKey(),Y-H,"text"),Y<F&&($=null)),Q!==null&&G!==null&&G<=F&&G>=H){Q.set(V.getKey(),G-H,"text");break}H=F}if(T!==null){(function(te){const ae=te.getPreviousSibling(),oe=te.getNextSibling();ae!==null&&UC(ae),oe!==null&&UC(oe)})(this);const V=T.getWritable(),F=this.getIndexWithinParent();z?(V.splice(F,0,q),this.remove()):V.splice(F,1,q),qt(B)&&FC(B,T,F,_-1)}return q}mergeWithSibling(e){const i=e===this.getPreviousSibling();i||e===this.getNextSibling()||lt(50);const s=this.__key,u=e.__key,d=this.__text,h=d.length;Cd()===u&&Ni(s);const m=Hn();if(qt(m)){const T=m.anchor,C=m.focus;T!==null&&T.key===u&&kae(T,i,s,e,h),C!==null&&C.key===u&&kae(C,i,s,e,h)}const y=e.__text,_=i?y+d:d+y;this.setTextContent(_);const b=this.getWritable();return e.remove(),b}isTextEntity(){return!1}}function emt(t){return{forChild:_j(t.style),node:null}}function tmt(t){const e=t,i=e.style.fontWeight==="normal";return{forChild:_j(e.style,i?void 0:"bold"),node:null}}const yae=new WeakMap;function nmt(t){if(!Da(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function rmt(t){const e=t;t.parentElement===null&&lt(129);let i=e.textContent||"";if((function(s){let u,d=s.parentNode;const h=[s];for(;d!==null&&(u=yae.get(d))===void 0&&!nmt(d);)h.push(d),d=d.parentNode;const m=u===void 0?d:u;for(let y=0;y<h.length;y++)yae.set(h[y],m);return m})(e)!==null){const s=i.split(/(\r?\n|\t)/),u=[],d=s.length;for(let h=0;h<d;h++){const m=s[h];m===`
`||m===`\r
`?u.push(gv()):m==="	"?u.push(kA()):m!==""&&u.push(Li(m))}return{node:u}}if(i=i.replace(/\r/g,"").replace(/[ \t\n]+/g," "),i==="")return{node:null};if(i[0]===" "){let s=e,u=!0;for(;s!==null&&(s=xae(s,!1))!==null;){const d=s.textContent||"";if(d.length>0){/[ \t\n]$/.test(d)&&(i=i.slice(1)),u=!1;break}}u&&(i=i.slice(1))}if(i[i.length-1]===" "){let s=e,u=!0;for(;s!==null&&(s=xae(s,!0))!==null;)if((s.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){u=!1;break}u&&(i=i.slice(0,i.length-1))}return i===""?{node:null}:{node:Li(i)}}function xae(t,e){let i=t;for(;;){let s;for(;(s=e?i.nextSibling:i.previousSibling)===null;){const d=i.parentElement;if(d===null)return null;i=d}if(i=s,Da(i)){const d=i.style.display;if(d===""&&!j0e(i)||d!==""&&!d.startsWith("inline"))return null}let u=i;for(;(u=e?i.firstChild:i.lastChild)!==null;)i=u;if(vu(i))return i;if(i.nodeName==="BR")return null}}const imt={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ku(t){const e=imt[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:_j(t.style,e),node:null}}function Li(t=""){return eO(new Mp(t))}function $t(t){return t instanceof Mp}function _j(t,e){const i=t.fontWeight,s=t.textDecoration.split(" "),u=i==="700"||i==="bold",d=s.includes("line-through"),h=t.fontStyle==="italic",m=s.includes("underline"),y=t.verticalAlign;return _=>($t(_)&&(u&&!_.hasFormat("bold")&&_.toggleFormat("bold"),d&&!_.hasFormat("strikethrough")&&_.toggleFormat("strikethrough"),h&&!_.hasFormat("italic")&&_.toggleFormat("italic"),m&&!_.hasFormat("underline")&&_.toggleFormat("underline"),y!=="sub"||_.hasFormat("subscript")||_.toggleFormat("subscript"),y!=="super"||_.hasFormat("superscript")||_.toggleFormat("superscript"),e&&!_.hasFormat(e)&&_.toggleFormat(e)),_)}class Iv extends Mp{static getType(){return"tab"}static clone(e){return new Iv(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const i=super.createDOM(e),s=Jg(e.theme,"tab");return s!==void 0&&i.classList.add(...s),i}static importJSON(e){return kA().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&lt(126),super.setTextContent("	")}spliceText(e,i,s,u){return s===""&&i===0||s==="	"&&i===1||lt(286),this}setDetail(e){return e!==2&&lt(127),this}setMode(e){return e!=="normal"&&lt(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function kA(){return eO(new Iv)}function Oj(t){return t instanceof Iv}class amt{constructor(e,i,s){this._selection=null,this.key=e,this.offset=i,this.type=s}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Qj(Zs(Kd(this,"next")),Zs(Kd(e,"next")))<0}getNode(){const e=wi(this.key);return e===null&&lt(20),e}set(e,i,s,u){const d=this._selection,h=this.key;u&&this.key===e&&this.offset===i&&this.type===s||(this.key=e,this.offset=i,this.type=s,Rv()||(Cd()===h&&Ni(e),d!==null&&(d.setCachedNodes(null),d.dirty=!0)))}}function Ks(t,e,i){return new amt(t,e,i)}function _3(t,e){let i=e.__key,s=t.offset,u="element";if($t(e)){u="text";const d=e.getTextContentSize();s>d&&(s=d)}else if(!ot(e)){const d=e.getNextSibling();if($t(d))i=d.__key,s=0,u="text";else{const h=e.getParent();h&&(i=h.__key,s=e.getIndexWithinParent()+1)}}t.set(i,s,u)}function _ae(t,e){if(ot(e)){const i=e.getLastDescendant();ot(i)||$t(i)?_3(t,i):_3(t,e)}else _3(t,e)}class AA{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!PA(e))return!1;const i=this._nodes,s=e._nodes;return i.size===s.size&&Array.from(i).every((u=>s.has(u)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new AA(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const i=this.getNodes(),s=i.length,u=i[s-1];let d;if($t(u))d=u.select();else{const h=u.getIndexWithinParent()+1;d=u.getParentOrThrow().select(h,h)}d.insertNodes(e);for(let h=0;h<s;h++)i[h].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const i=this._nodes,s=[];for(const u of i){const d=wi(u);d!==null&&s.push(d)}return Rv()||(this._cachedNodes=s),s}getTextContent(){const e=this.getNodes();let i="";for(let s=0;s<e.length;s++)i+=e[s].getTextContent();return i}deleteNodes(){const e=this.getNodes();if((Hn()||Ip())===this&&e[0]){const i=Ki(e[0],"next");q0e(Yd(i,i))}for(const i of e)i.remove()}}function qt(t){return t instanceof Dp}class Dp{constructor(e,i,s,u){this.anchor=e,this.focus=i,e._selection=this,i._selection=this,this._cachedNodes=null,this.format=s,this.style=u,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!qt(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const i=(function(s){const u=[],[d,h]=s.getTextSlices();d&&u.push(d.caret.origin);const m=new Set,y=new Set;for(const _ of s)if(ou(_)){const{origin:b}=_;u.length===0?m.add(b):(y.add(b),u.push(b))}else{const{origin:b}=_;ot(b)&&y.has(b)||u.push(b)}if(h&&u.push(h.caret.origin),_p(s.focus)&&ot(s.focus.origin)&&s.focus.getNodeAtCaret()===null)for(let _=Oc(s.focus.origin,"previous");ou(_)&&m.has(_.origin)&&!_.origin.isEmpty()&&_.origin.is(u[u.length-1]);_=NA(_))m.delete(_.origin),u.pop();for(;u.length>1;){const _=u[u.length-1];if(!ot(_)||y.has(_)||_.isEmpty()||m.has(_))break;u.pop()}if(u.length===0&&s.isCollapsed()){const _=Zs(s.anchor),b=Zs(s.anchor.getFlipped()),T=A=>Ld(A)?A.origin:A.getNodeAtCaret(),C=T(_)||T(b)||(s.anchor.getNodeAtCaret()?_.origin:b.origin);u.push(C)}return u})(Vj(cz(this),"next"));return Rv()||(this._cachedNodes=i),i}setTextNodeRange(e,i,s,u){this.anchor.set(e.__key,i,"text"),this.focus.set(s.__key,u,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const i=e[0],s=e[e.length-1],u=this.anchor,d=this.focus,h=u.isBefore(d),[m,y]=oz(this);let _="",b=!0;for(let T=0;T<e.length;T++){const C=e[T];if(ot(C)&&!C.isInline())b||(_+=`
`),b=!C.isEmpty();else if(b=!1,$t(C)){let A=C.getTextContent();C===i?C===s?u.type==="element"&&d.type==="element"&&d.offset!==u.offset||(A=m<y?A.slice(m,y):A.slice(y,m)):A=h?A.slice(m):A.slice(y):C===s&&(A=h?A.slice(0,y):A.slice(0,m)),_+=A}else!vr(C)&&!np(C)||C===s&&this.isCollapsed()||(_+=C.getTextContent())}return _}applyDOMRange(e){const i=Mr(),s=i.getEditorState()._selection,u=c0e(e.startContainer,e.startOffset,e.endContainer,e.endOffset,i,s);if(u===null)return;const[d,h]=u;this.anchor.set(d.key,d.offset,d.type,!0),this.focus.set(h.key,h.offset,h.type,!0),$C(this)}clone(){const e=this.anchor,i=this.focus;return new Dp(Ks(e.key,e.offset,e.type),Ks(i.key,i.offset,i.type),this.format,this.style)}toggleFormat(e){this.format=WC(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const i=Zd[e];return!!(this.format&i)}insertRawText(e){const i=e.split(/(\r?\n|\t)/),s=[],u=i.length;for(let d=0;d<u;d++){const h=i[d];h===`
`||h===`\r
`?s.push(gv()):h==="	"?s.push(kA()):s.push(Li(h))}this.insertNodes(s)}insertText(e){const i=this.anchor,s=this.focus,u=this.format,d=this.style;let h=i,m=s;!this.isCollapsed()&&s.isBefore(i)&&(h=s,m=i),h.type==="element"&&(function(z,$,Q,B){const q=z.getNode(),Y=q.getChildAtIndex(z.offset),G=Li(),H=to(q)?pc().append(G):G;G.setFormat(Q),G.setStyle(B),Y===null?q.append(H):Y.insertBefore(H),z.is($)&&$.set(G.__key,0,"text"),z.set(G.__key,0,"text")})(h,m,u,d),m.type==="element"&&yv(m,Zs(Kd(m,"next")));const y=h.offset;let _=m.offset;const b=this.getNodes(),T=b.length;let C=b[0];$t(C)||lt(26);const A=C.getTextContent().length,D=C.getParentOrThrow();let L=b[T-1];if(T===1&&m.type==="element"&&(_=A,m.set(h.key,_,"text")),this.isCollapsed()&&y===A&&(ic(C)||!C.canInsertTextAfter()||!D.canInsertTextAfter()&&C.getNextSibling()===null)){let z=C.getNextSibling();if($t(z)&&z.canInsertTextBefore()&&!ic(z)||(z=Li(),z.setFormat(u),z.setStyle(d),D.canInsertTextAfter()?C.insertAfter(z):D.insertAfter(z)),z.select(0,0),C=z,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&y===0&&(ic(C)||!C.canInsertTextBefore()||!D.canInsertTextBefore()&&C.getPreviousSibling()===null)){let z=C.getPreviousSibling();if($t(z)&&!ic(z)||(z=Li(),z.setFormat(u),D.canInsertTextBefore()?C.insertBefore(z):D.insertBefore(z)),z.select(),C=z,e!=="")return void this.insertText(e)}else if(C.isSegmented()&&y!==A){const z=Li(C.getTextContent());z.setFormat(u),C.replace(z),C=z}else if(!this.isCollapsed()&&e!==""){const z=L.getParent();if(!D.canInsertTextBefore()||!D.canInsertTextAfter()||ot(z)&&(!z.canInsertTextBefore()||!z.canInsertTextAfter()))return this.insertText(""),u0e(this.anchor,this.focus,null),void this.insertText(e)}if(T===1){if(Id(C)){const B=Li(e);return B.select(),void C.replace(B)}const z=C.getFormat(),$=C.getStyle();if(y!==_||z===u&&$===d){if(Oj(C)){const B=Li(e);return B.setFormat(u),B.setStyle(d),B.select(),void C.replace(B)}}else{if(C.getTextContent()!==""){const B=Li(e);if(B.setFormat(u),B.setStyle(d),B.select(),y===0)C.insertBefore(B,!1);else{const[q]=C.splitText(y);q.insertAfter(B,!1)}return void(B.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}C.setFormat(u),C.setStyle(d)}const Q=_-y;C=C.spliceText(y,Q,e,!0),C.getTextContent()===""?C.remove():this.anchor.type==="text"&&(C.isComposing()?this.anchor.offset-=e.length:(this.format=z,this.style=$))}else{const z=new Set([...C.getParentKeys(),...L.getParentKeys()]),$=ot(C)?C:C.getParentOrThrow();let Q=ot(L)?L:L.getParentOrThrow(),B=L;if(!$.is(Q)&&Q.isInline())do B=Q,Q=Q.getParentOrThrow();while(Q.isInline());if(m.type==="text"&&(_!==0||L.getTextContent()==="")||m.type==="element"&&L.getIndexWithinParent()<_)if($t(L)&&!Id(L)&&_!==L.getTextContentSize()){if(L.isSegmented()){const V=Li(L.getTextContent());L.replace(V),L=V}to(m.getNode())||m.type!=="text"||(L=L.spliceText(0,_,"")),z.add(L.__key)}else{const V=L.getParentOrThrow();V.canBeEmpty()||V.getChildrenSize()!==1?L.remove():V.remove()}else z.add(L.__key);const q=Q.getChildren(),Y=new Set(b),G=$.is(Q),H=$.isInline()&&C.getNextSibling()===null?$:C;for(let V=q.length-1;V>=0;V--){const F=q[V];if(F.is(C)||ot(F)&&F.isParentOf(C))break;F.isAttached()&&(!Y.has(F)||F.is(B)?G||H.insertAfter(F,!1):F.remove())}if(!G){let V=Q,F=null;for(;V!==null;){const te=V.getChildren(),ae=te.length;(ae===0||te[ae-1].is(F))&&(z.delete(V.__key),F=V),V=V.getParent()}}if(Id(C))if(y===A)C.select();else{const V=Li(e);V.select(),C.replace(V)}else C=C.spliceText(y,A-y,e,!0),C.getTextContent()===""?C.remove():C.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let V=1;V<T;V++){const F=b[V],te=F.__key;z.has(te)||F.remove()}}}removeText(){const e=Hn()===this;h1(this,Z0e(cz(this))),e&&Hn()!==this&&lo(this)}formatText(e,i=null){if(this.isCollapsed())return this.toggleFormat(e),void Ni(null);const s=this.getNodes(),u=[];for(const q of s)$t(q)&&u.push(q);const d=q=>{s.forEach((Y=>{if(ot(Y)){const G=Y.getFormatFlags(e,q);Y.setTextFormat(G)}}))},h=u.length;if(h===0)return this.toggleFormat(e),Ni(null),void d(i);const m=this.anchor,y=this.focus,_=this.isBackward(),b=_?y:m,T=_?m:y;let C=0,A=u[0],D=b.type==="element"?0:b.offset;if(b.type==="text"&&D===A.getTextContentSize()&&(C=1,A=u[1],D=0),A==null)return;const L=A.getFormatFlags(e,i);d(L);const z=h-1;let $=u[z];const Q=T.type==="text"?T.offset:$.getTextContentSize();if(A.is($)){if(D===Q)return;if(ic(A)||D===0&&Q===A.getTextContentSize())A.setFormat(L);else{const q=A.splitText(D,Q),Y=D===0?q[0]:q[1];Y.setFormat(L),b.type==="text"&&b.set(Y.__key,0,"text"),T.type==="text"&&T.set(Y.__key,Q-D,"text")}return void(this.format=L)}D===0||ic(A)||([,A]=A.splitText(D),D=0),A.setFormat(L);const B=$.getFormatFlags(e,L);Q>0&&(Q===$.getTextContentSize()||ic($)||([$]=$.splitText(Q)),$.setFormat(B));for(let q=C+1;q<z;q++){const Y=u[q],G=Y.getFormatFlags(e,B);Y.setFormat(G)}b.type==="text"&&b.set(A.__key,D,"text"),T.type==="text"&&T.set($.__key,Q,"text"),this.format=L|B}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const D=Hn();return qt(D)||lt(134),D.insertNodes(e)}const i=(this.isBackward()?this.focus:this.anchor).getNode(),s=T3(i,cc),u=e[e.length-1];if(ot(s)&&"__language"in s){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const D=O3(this);s.splice(D,0,e),u.selectEnd()}return}if(!e.some((D=>(ot(D)||vr(D))&&!D.isInline()))){ot(s)||lt(211,i.constructor.name,i.getType());const D=O3(this);return s.splice(D,0,e),void u.selectEnd()}const d=(function(D){const L=pc();let z=null;for(let $=0;$<D.length;$++){const Q=D[$],B=np(Q);if(B||vr(Q)&&Q.isInline()||ot(Q)&&Q.isInline()||$t(Q)||Q.isParentRequired()){if(z===null&&(z=Q.createParentElementNode(),L.append(z),B))continue;z!==null&&z.append(Q)}else L.append(Q),z=null}return L})(e),h=d.getLastDescendant(),m=d.getChildren(),y=!ot(s)||!s.isEmpty()?this.insertParagraph():null,_=m[m.length-1];let b=m[0];var T;ot(T=b)&&cc(T)&&!T.isEmpty()&&ot(s)&&(!s.isEmpty()||s.canMergeWhenEmpty())&&(ot(s)||lt(211,i.constructor.name,i.getType()),s.append(...b.getChildren()),b=m[1]),b&&(s===null&&lt(212,i.constructor.name,i.getType()),(function(D,L,z){const $=L.getParentOrThrow().getLastChild();let Q=L;const B=[L];for(;Q!==$;)Q.getNextSibling()||lt(140),Q=Q.getNextSibling(),B.push(Q);let q=D;for(const Y of B)q=q.insertAfter(Y)})(s,b));const C=T3(h,cc);y&&ot(C)&&(y.canMergeWhenEmpty()||cc(_))&&(C.append(...y.getChildren()),y.remove()),ot(s)&&s.isEmpty()&&s.remove(),h.selectEnd();const A=ot(s)?s.getLastChild():null;np(A)&&C!==s&&A.remove()}insertParagraph(){if(this.anchor.key==="root"){const h=pc();return so().splice(this.anchor.offset,0,[h]),h.select(),h}const e=O3(this),i=T3(this.anchor.getNode(),cc);ot(i)||lt(213);const s=i.getChildAtIndex(e),u=s?[s,...s.getNextSiblings()]:[],d=i.insertNewAfter(this,!1);return d?(d.append(...u),d.selectStart(),d):null}insertLineBreak(e){const i=gv();if(this.insertNodes([i]),e){const s=i.getParentOrThrow(),u=i.getIndexWithinParent();s.select(u,u)}}extract(){const e=this.getNodes(),i=e.length,s=i-1,u=this.anchor,d=this.focus;let h=e[0],m=e[s];const[y,_]=oz(this);if(i===0)return[];if(i===1){if($t(h)&&!this.isCollapsed()){const T=y>_?_:y,C=y>_?y:_,A=h.splitText(T,C),D=T===0?A[0]:A[1];return D!=null?[D]:[]}return[h]}const b=u.isBefore(d);if($t(h)){const T=b?y:_;T===h.getTextContentSize()?e.shift():T!==0&&([,h]=h.splitText(T),e[0]=h)}if($t(m)){const T=m.getTextContent().length,C=b?_:y;C===0?e.pop():C!==T&&([m]=m.splitText(C),e[s]=m)}return e}modify(e,i,s){if(Aae(this,e,i,s))return;const u=e==="move",d=Mr(),h=uu(gs(d));if(!h)return;const m=d._blockCursorElement,y=d._rootElement,_=this.focus.getNode();if(y===null||m===null||!ot(_)||_.isInline()||_.canBeEmpty()||sz(m,d,y),this.dirty){let b=vv(d,this.anchor.key),T=vv(d,this.focus.key);this.anchor.type==="text"&&(b=vp(b)),this.focus.type==="text"&&(T=vp(T)),b&&T&&h0e(h,b,this.anchor.offset,T,this.focus.offset)}if((function(b,T,C,A){b.modify(T,C,A)})(h,e,i?"backward":"forward",s),h.rangeCount>0){const b=h.getRangeAt(0),T=this.anchor.getNode(),C=to(T)?T:$0e(T);if(this.applyDOMRange(b),this.dirty=!0,!u){const A=this.getNodes(),D=[];let L=!1;for(let z=0;z<A.length;z++){const $=A[z];qC($,C)?D.push($):L=!0}if(L&&D.length>0)if(i){const z=D[0];ot(z)?z.selectStart():z.getParentOrThrow().selectStart()}else{const z=D[D.length-1];ot(z)?z.selectEnd():z.getParentOrThrow().selectEnd()}h.anchorNode===b.startContainer&&h.anchorOffset===b.startOffset||(function(z){const $=z.focus,Q=z.anchor,B=Q.key,q=Q.offset,Y=Q.type;Q.set($.key,$.offset,$.type,!0),$.set(B,q,Y,!0)})(this)}}s==="lineboundary"&&Aae(this,e,i,s,"decorators")}forwardDeletion(e,i,s){if(!s&&(e.type==="element"&&ot(i)&&e.offset===i.getChildrenSize()||e.type==="text"&&e.offset===i.getTextContentSize())){const u=i.getParent(),d=i.getNextSibling()||(u===null?null:u.getNextSibling());if(ot(d)&&d.isShadowRoot())return!0}return!1}deleteCharacter(e){const i=this.isCollapsed();if(this.isCollapsed()){const s=this.anchor;let u=s.getNode();if(this.forwardDeletion(s,u,e))return;const d=zj(Kd(s,e?"previous":"next"));if(d.getTextSlices().every((m=>m===null||m.distance===0))){let m={type:"initial"};for(const y of d.iterNodeCarets("shadowRoot"))if(ou(y)){if(!y.origin.isInline()){if(y.origin.isShadowRoot()){if(m.type==="merge-block")break;if(ot(d.anchor.origin)&&d.anchor.origin.isEmpty()){const _=Zs(y);h1(this,Yd(_,_)),d.anchor.origin.remove()}return}m.type!=="merge-next-block"&&m.type!=="merge-block"||(m={block:m.block,caret:y,type:"merge-block"})}}else{if(m.type==="merge-block")break;if(_p(y)){if(ot(y.origin)){if(y.origin.isInline()){if(!y.origin.isParentOf(d.anchor.origin))break}else m={block:y.origin,type:"merge-next-block"};continue}if(vr(y.origin)){if(!y.origin.isIsolated())if(m.type==="merge-next-block"&&(y.origin.isKeyboardSelectable()||!y.origin.isInline())&&ot(d.anchor.origin)&&d.anchor.origin.isEmpty()){d.anchor.origin.remove();const _=bj();_.add(y.origin.getKey()),lo(_)}else y.origin.remove();return}break}}if(m.type==="merge-block"){const{caret:y,block:_}=m;return h1(this,Yd(!y.origin.isEmpty()&&_.isEmpty()?$A(Ki(_,y.direction)):d.anchor,y)),this.removeText()}}const h=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&s.offset===0&&bae(this,s.getNode()))return}else{const m=h.type==="text"?h.getNode():null;if(u=s.type==="text"?s.getNode():null,m!==null&&m.isSegmented()){const y=h.offset,_=m.getTextContentSize();if(m.is(u)||e&&y!==_||!e&&y!==0)return void wae(m,e,y)}else if(u!==null&&u.isSegmented()){const y=s.offset,_=u.getTextContentSize();if(u.is(m)||e&&y!==0||!e&&y!==_)return void wae(u,e,y)}(function(y,_){const b=y.anchor,T=y.focus,C=b.getNode(),A=T.getNode();if(C===A&&b.type==="text"&&T.type==="text"){const D=b.offset,L=T.offset,z=D<L,$=z?D:L,Q=z?L:D,B=Q-1;$!==B&&(function(q){return!(P0e(q)||omt(q))})(C.getTextContent().slice($,Q))&&(_?T.set(T.key,B,T.type):b.set(b.key,B,b.type))}})(this,e)}}if(this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const s=this.anchor.getNode();s.isEmpty()&&to(s.getParent())&&s.getPreviousSibling()===null&&bae(this,s)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const i=this.anchor,s=i.getNode();if(this.forwardDeletion(i,s,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function PA(t){return t instanceof AA}function Oae(t){const e=t.offset;if(t.type==="text")return e;const i=t.getNode();return e===i.getChildrenSize()?i.getTextContent().length:0}function oz(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[i,s]=e;return i.type==="element"&&s.type==="element"&&i.key===s.key&&i.offset===s.offset?[0,0]:[Oae(i),Oae(s)]}function bae(t,e){for(let i=e;i;i=i.getParent()){if(ot(i)){if(i.collapseAtStart(t))return!0;if(Cc(i))break}if(i.getPreviousSibling())break}return!1}const omt=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function wae(t,e,i){const s=t,u=s.getTextContent().split(/(?=\s)/g),d=u.length;let h=0,m=0;for(let _=0;_<d;_++){const b=_===d-1;if(m=h,h+=u[_].length,e&&h===i||h>i||b){u.splice(_,1),b&&(m=void 0);break}}const y=u.join("").trim();y===""?s.remove():(s.setTextContent(y),s.select(m,m))}function Sae(t,e,i,s){let u,d=e;if(Da(t)){let h=!1;const m=t.childNodes,y=m.length,_=s._blockCursorElement;d===y&&(h=!0,d=y-1);let b=m[d],T=!1;if(b===_)b=m[d+1],T=!0;else if(_!==null){const C=_.parentNode;t===C&&e>Array.prototype.indexOf.call(C.children,_)&&d--}if(u=Ng(b),$t(u))d=zae(u,h);else{let C=Ng(t);if(C===null)return null;if(ot(C)){const A=s.getElementByKey(C.getKey());A===null&&lt(214),[C,d]=C.getDOMSlot(A).resolveChildIndex(C,A,t,e),ot(C)||lt(215),h&&d>=C.getChildrenSize()&&(d=Math.max(0,C.getChildrenSize()-1));let L=C.getChildAtIndex(d);if(ot(L)&&(function(z,$,Q){const B=z.getParent();return Q===null||B===null||!B.canBeEmpty()||B!==Q.getNode()})(L,0,i)){const z=h?L.getLastDescendant():L.getFirstDescendant();z===null?C=L:(L=z,C=ot(L)?L:L.getParentOrThrow()),d=0}$t(L)?(u=L,C=null,d=zae(L,h)):L!==C&&h&&!T&&(ot(C)||lt(216),d=Math.min(C.getChildrenSize(),d+1))}else{const A=C.getIndexWithinParent();d=e===0&&vr(C)&&Ng(t)===C?A:A+1,C=C.getParentOrThrow()}if(ot(C))return Ks(C.__key,d,"element")}}else u=Ng(t);return $t(u)?Ks(u.__key,d,"text"):null}function Tae(t,e,i){const s=t.offset,u=t.getNode();if(s===0){const d=u.getPreviousSibling(),h=u.getParent();if(e){if((i||!e)&&d===null&&ot(h)&&h.isInline()){const m=h.getPreviousSibling();$t(m)&&t.set(m.__key,m.getTextContent().length,"text")}}else ot(d)&&!i&&d.isInline()?t.set(d.__key,d.getChildrenSize(),"element"):$t(d)&&t.set(d.__key,d.getTextContent().length,"text")}else if(s===u.getTextContent().length){const d=u.getNextSibling(),h=u.getParent();if(e&&ot(d)&&d.isInline())t.set(d.__key,0,"element");else if((i||e)&&d===null&&ot(h)&&h.isInline()&&!h.canInsertTextAfter()){const m=h.getNextSibling();$t(m)&&t.set(m.__key,0,"text")}}}function u0e(t,e,i){if(t.type==="text"&&e.type==="text"){const s=t.isBefore(e),u=t.is(e);Tae(t,s,u),Tae(e,!s,u),u&&e.set(t.key,t.offset,t.type);const d=Mr();if(d.isComposing()&&d._compositionKey!==t.key&&qt(i)){const h=i.anchor,m=i.focus;t.set(h.key,h.offset,h.type,!0),e.set(m.key,m.offset,m.type,!0)}}}function c0e(t,e,i,s,u,d){if(t===null||i===null||!Y_(u,t,i))return null;const h=Sae(t,e,qt(d)?d.anchor:null,u);if(h===null)return null;const m=Sae(i,s,qt(d)?d.focus:null,u);if(m===null)return null;if(h.type==="element"&&m.type==="element"){const y=Ng(t),_=Ng(i);if(vr(y)&&vr(_))return null}return u0e(h,m,d),[h,m]}function smt(t){return ot(t)&&!t.isInline()}function d0e(t,e,i,s,u,d){const h=rf(),m=new Dp(Ks(t,e,u),Ks(i,s,d),0,"");return m.dirty=!0,h._selection=m,m}function f0e(){const t=Ks("root",0,"element"),e=Ks("root",0,"element");return new Dp(t,e,0,"")}function bj(){return new AA(new Set)}function wj(t,e,i,s){const u=i._window;if(u===null)return null;const d=s||u.event,h=d?d.type:void 0,m=h==="selectionchange",y=!W$&&(m||h==="beforeinput"||h==="compositionstart"||h==="compositionend"||h==="click"&&d&&d.detail===3||h==="drop"||h===void 0);let _,b,T,C;if(qt(t)&&!y)return t.clone();if(e===null)return null;if(_=e.anchorNode,b=e.focusNode,T=e.anchorOffset,C=e.focusOffset,m&&qt(t)&&!Y_(i,_,b))return t.clone();const A=c0e(_,T,b,C,i,t);if(A===null)return null;const[D,L]=A;return new Dp(D,L,qt(t)?t.format:0,qt(t)?t.style:"")}function Hn(){return rf()._selection}function Ip(){return Mr()._editorState._selection}function FC(t,e,i,s=1){const u=t.anchor,d=t.focus,h=u.getNode(),m=d.getNode();if(!e.is(h)&&!e.is(m))return;const y=e.__key;if(t.isCollapsed()){const _=u.offset;if(i<=_&&s>0||i<_&&s<0){const b=Math.max(0,_+s);u.set(y,b,"element"),d.set(y,b,"element"),Cae(t)}}else{const _=t.isBackward(),b=_?d:u,T=b.getNode(),C=_?u:d,A=C.getNode();if(e.is(T)){const D=b.offset;(i<=D&&s>0||i<D&&s<0)&&b.set(y,Math.max(0,D+s),"element")}if(e.is(A)){const D=C.offset;(i<=D&&s>0||i<D&&s<0)&&C.set(y,Math.max(0,D+s),"element")}}Cae(t)}function Cae(t){const e=t.anchor,i=e.offset,s=t.focus,u=s.offset,d=e.getNode(),h=s.getNode();if(t.isCollapsed()){if(!ot(d))return;const m=d.getChildrenSize(),y=i>=m,_=y?d.getChildAtIndex(m-1):d.getChildAtIndex(i);if($t(_)){let b=0;y&&(b=_.getTextContentSize()),e.set(_.__key,b,"text"),s.set(_.__key,b,"text")}}else{if(ot(d)){const m=d.getChildrenSize(),y=i>=m,_=y?d.getChildAtIndex(m-1):d.getChildAtIndex(i);if($t(_)){let b=0;y&&(b=_.getTextContentSize()),e.set(_.__key,b,"text")}}if(ot(h)){const m=h.getChildrenSize(),y=u>=m,_=y?h.getChildAtIndex(m-1):h.getChildAtIndex(u);if($t(_)){let b=0;y&&(b=_.getTextContentSize()),s.set(_.__key,b,"text")}}}}function GC(t,e,i,s,u){let d=null,h=0,m=null;s!==null?(d=s.__key,$t(s)?(h=s.getTextContentSize(),m="text"):ot(s)&&(h=s.getChildrenSize(),m="element")):u!==null&&(d=u.__key,$t(u)?m="text":ot(u)&&(m="element")),d!==null&&m!==null?t.set(d,h,m):(h=e.getIndexWithinParent(),h===-1&&(h=i.getChildrenSize()),t.set(i.__key,h,"element"))}function kae(t,e,i,s,u){t.type==="text"?t.set(i,t.offset+(e?0:u),"text"):t.offset>s.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function h0e(t,e,i,s,u){try{t.setBaseAndExtent(e,i,s,u)}catch{}}function lmt(t,e,i,s,u,d,h){const m=s.anchorNode,y=s.focusNode,_=s.anchorOffset,b=s.focusOffset,T=document.activeElement;if(u.has(_0e)&&T!==d||T!==null&&kj(T))return;if(!qt(e))return void(t!==null&&Y_(i,m,y)&&s.removeAllRanges());const C=e.anchor,A=e.focus,D=C.key,L=A.key,z=vv(i,D),$=vv(i,L),Q=C.offset,B=A.offset,q=e.format,Y=e.style,G=e.isCollapsed();let H=z,V=$,F=!1;if(C.type==="text"){H=vp(z);const he=C.getNode();F=he.getFormat()!==q||he.getStyle()!==Y}else qt(t)&&t.anchor.type==="text"&&(F=!0);var te,ae,oe,fe,de;if(A.type==="text"&&(V=vp($)),H!==null&&V!==null&&(G&&(t===null||F||qt(t)&&(t.format!==q||t.style!==Y))&&(te=q,ae=Y,oe=Q,fe=D,de=performance.now(),t0e=[te,ae,oe,fe,de]),_!==Q||b!==B||m!==H||y!==V||s.type==="Range"&&G||(T!==null&&d.contains(T)||d.focus({preventScroll:!0}),C.type==="element"))){if(h0e(s,H,Q,V,B),!u.has(O0e)&&e.isCollapsed()&&d!==null&&d===document.activeElement){const he=qt(e)&&e.anchor.type==="element"?H.childNodes[Q]||null:s.rangeCount>0?s.getRangeAt(0):null;if(he!==null){let ue;if(he instanceof Text){const ne=document.createRange();ne.selectNode(he),ue=ne.getBoundingClientRect()}else ue=he.getBoundingClientRect();(function(ne,me,ge){const ee=Ij(ge),be=Rj(ee);if(ee===null||be===null)return;let{top:Me,bottom:se}=me,Ae=0,we=0,Le=ge;for(;Le!==null;){const Z=Le===ee.body;if(Z)Ae=0,we=gs(ne).innerHeight;else{const ze=Le.getBoundingClientRect();Ae=ze.top,we=ze.bottom}let ve=0;if(Me<Ae?ve=-(Ae-Me):se>we&&(ve=se-we),ve!==0)if(Z)be.scrollBy(0,ve);else{const ze=Le.scrollTop;Le.scrollTop+=ve;const Qe=Le.scrollTop-ze;Me-=Qe,se-=Qe}if(Z)break;Le=J_(Le)}})(i,ue,d)}}rz=!0}}function umt(t){let e=Hn()||Ip();e===null&&(e=so().selectEnd()),e.insertNodes(t)}function O3(t){let e=t;t.isCollapsed()||e.removeText();const i=Hn();qt(i)&&(e=i),qt(e)||lt(161);const s=e.anchor;let u=s.getNode(),d=s.offset;for(;!cc(u);){const h=u;if([u,d]=cmt(u,d),h.is(u))break}return d}function cmt(t,e){const i=t.getParent();if(!i){const u=pc();return so().append(u),u.select(),[so(),0]}if($t(t)){const u=t.splitText(e);if(u.length===0)return[i,t.getIndexWithinParent()];const d=e===0?0:1;return[i,u[0].getIndexWithinParent()+d]}if(!ot(t)||e===0)return[i,t.getIndexWithinParent()];const s=t.getChildAtIndex(e);if(s){const u=new Dp(Ks(t.__key,e,"element"),Ks(t.__key,e,"element"),0,""),d=t.insertNewAfter(u);d&&d.append(s,...s.getNextSiblings())}return[i,t.getIndexWithinParent()+1]}function Aae(t,e,i,s,u="decorators-and-blocks"){if(e==="move"&&s==="character"&&!t.isCollapsed()){const[b,T]=i===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return T.set(b.key,b.offset,b.type),!0}const d=Kd(t.focus,i?"previous":"next"),h=s==="lineboundary",m=e==="move";let y=d,_=u==="decorators-and-blocks";if(!H0e(y)){for(const b of y){_=!1;const{origin:T}=b;if(!vr(T)||T.isIsolated()||(y=b,!h||!T.isInline()))break}if(_)for(const b of zj(d).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(ou(b))b.origin.isInline()||(y=b);else{if(ot(b.origin))continue;vr(b.origin)&&!b.origin.isInline()&&(y=b)}break}}if(y===d)return!1;if(m&&!h&&vr(y.origin)&&y.origin.isKeyboardSelectable()){const b=bj();return b.add(y.origin.getKey()),lo(b),!0}return y=Zs(y),m&&yv(t.anchor,y),yv(t.focus,y),_||!h}let zi=null,Bi=null,ao=!1,b3=!1,AT=0;const Pae={characterData:!0,childList:!0,subtree:!0};function Rv(){return ao||zi!==null&&zi._readOnly}function sa(){ao&&lt(13)}function p0e(){AT>99&&lt(14)}function rf(){return zi===null&&lt(195,m0e()),zi}function Mr(){return Bi===null&&lt(196,m0e()),Bi}function m0e(){let t=0;const e=new Set,i=MA.version;if(typeof window<"u")for(const u of document.querySelectorAll("[contenteditable]")){const d=K_(u);if(DA(d))t++;else if(d){let h=String(d.constructor.version||"<0.17.1");h===i&&(h+=" (separately built, likely a bundler configuration issue)"),e.add(h)}}let s=` Detected on the page: ${t} compatible editor(s) with version ${i}`;return e.size&&(s+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),s}function dmt(){return Bi}function Eae(t,e,i){const s=e.__type,u=(function(m,y){const _=m._nodes.get(y);return _===void 0&&lt(30,y),_})(t,s);let d=i.get(s);d===void 0&&(d=Array.from(u.transforms),i.set(s,d));const h=d.length;for(let m=0;m<h&&(d[m](e),e.isAttached());m++);}function Mae(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function g0e(t,e){if(!e)return;const i=t._updateTags;let s=e;Array.isArray(e)||(s=[e]);for(const u of s)i.add(u)}function fmt(t){return Sj(t,Mr()._nodes)}function Sj(t,e){const i=t.type,s=e.get(i);s===void 0&&lt(17,i);const u=s.klass;t.type!==u.getType()&&lt(18,u.name);const d=u.importJSON(t),h=t.children;if(ot(d)&&Array.isArray(h))for(let m=0;m<h.length;m++){const y=Sj(h[m],e);d.append(y)}return d}function Dae(t,e,i){const s=zi,u=ao,d=Bi;zi=e,ao=!0,Bi=t;try{return i()}finally{zi=s,ao=u,Bi=d}}function uc(t,e){const i=t._pendingEditorState,s=t._rootElement,u=t._headless||s===null;if(i===null)return;const d=t._editorState,h=d._selection,m=i._selection,y=t._dirtyType!==mp,_=zi,b=ao,T=Bi,C=t._updating,A=t._observer;let D=null;if(t._pendingEditorState=null,t._editorState=i,!u&&y&&A!==null){Bi=t,zi=i,ao=!1,t._updating=!0;try{const G=t._dirtyType,H=t._dirtyElements,V=t._dirtyLeaves;A.disconnect(),D=Vpt(d,i,t,G,H,V)}catch(G){if(G instanceof Error&&t._onError(G),b3)throw G;return S0e(t,null,s,i),Sve(t),t._dirtyType=mv,b3=!0,uc(t,d),void(b3=!1)}finally{A.observe(s,Pae),t._updating=C,zi=_,ao=b,Bi=T}}i._readOnly||(i._readOnly=!0);const L=t._dirtyLeaves,z=t._dirtyElements,$=t._normalizedNodes,Q=t._updateTags,B=t._deferred;y&&(t._dirtyType=mp,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),(function(G,H){const V=G._decorators;let F=G._pendingDecorators||V;const te=H._nodeMap;let ae;for(ae in F)te.has(ae)||(F===V&&(F=k0e(G)),delete F[ae])})(t,i);const q=u?null:uu(gs(t));if(t._editable&&q!==null&&(y||m===null||m.dirty)&&s!==null&&!Q.has(b0e)){Bi=t,zi=i;try{if(A!==null&&A.disconnect(),y||m===null||m.dirty){const G=t._blockCursorElement;G!==null&&sz(G,t,s),lmt(h,m,t,q,Q,s)}(function(G,H,V){let F=G._blockCursorElement;if(qt(V)&&V.isCollapsed()&&V.anchor.type==="element"&&H.contains(document.activeElement)){const te=V.anchor,ae=te.getNode(),oe=te.offset;let fe=!1,de=null;if(oe===ae.getChildrenSize())S3(ae.getChildAtIndex(oe-1))&&(fe=!0);else{const he=ae.getChildAtIndex(oe);if(he!==null&&S3(he)){const ue=he.getPreviousSibling();(ue===null||S3(ue))&&(fe=!0,de=G.getElementByKey(he.__key))}}if(fe){const he=G.getElementByKey(ae.__key);return F===null&&(G._blockCursorElement=F=(function(ue){const ne=ue.theme,me=document.createElement("div");me.contentEditable="false",me.setAttribute("data-lexical-cursor","true");let ge=ne.blockCursor;if(ge!==void 0){if(typeof ge=="string"){const ee=NC(ge);ge=ne.blockCursor=ee}ge!==void 0&&me.classList.add(...ge)}return me})(G._config)),H.style.caretColor="transparent",void(de===null?he.appendChild(F):he.insertBefore(F,de))}}F!==null&&sz(F,G,H)})(t,s,m)}finally{A!==null&&A.observe(s,Pae),Bi=T,zi=_}}D!==null&&(function(G,H,V,F,te){const ae=Array.from(G._listeners.mutation),oe=ae.length;for(let fe=0;fe<oe;fe++){const[de,he]=ae[fe],ue=H.get(he);ue!==void 0&&de(ue,{dirtyLeaves:F,prevEditorState:te,updateTags:V})}})(t,D,Q,L,d),qt(m)||m===null||h!==null&&h.is(m)||t.dispatchCommand(pj,void 0);const Y=t._pendingDecorators;Y!==null&&(t._decorators=Y,t._pendingDecorators=null,c1("decorator",t,!0,Y)),(function(G,H,V){const F=$ae(H),te=$ae(V);F!==te&&c1("textcontent",G,!0,te)})(t,e||d,i),c1("update",t,!0,{dirtyElements:z,dirtyLeaves:L,editorState:i,mutatedNodes:D,normalizedNodes:$,prevEditorState:e||d,tags:Q}),(function(G,H){if(G._deferred=[],H.length!==0){const V=G._updating;G._updating=!0;try{for(let F=0;F<H.length;F++)H[F]()}finally{G._updating=V}}})(t,B),(function(G){const H=G._updates;if(H.length!==0){const V=H.shift();if(V){const[F,te]=V;Tj(G,F,te)}}})(t)}function c1(t,e,i,...s){const u=e._updating;e._updating=i;try{const d=Array.from(e._listeners[t]);for(let h=0;h<d.length;h++)d[h].apply(null,s)}finally{e._updating=u}}function Iae(t,e){const i=t._updates;let s=e||!1;for(;i.length!==0;){const u=i.shift();if(u){const[d,h]=u;let m;if(h!==void 0){if(m=h.onUpdate,h.skipTransforms&&(s=!0),h.discrete){const y=t._pendingEditorState;y===null&&lt(191),y._flushSync=!0}m&&t._deferred.push(m),g0e(t,h.tag)}d()}}return s}function Tj(t,e,i){const s=t._updateTags;let u,d=!1,h=!1;i!==void 0&&(u=i.onUpdate,g0e(t,i.tag),d=i.skipTransforms||!1,h=i.discrete||!1),u&&t._deferred.push(u);const m=t._editorState;let y=t._pendingEditorState,_=!1;(y===null||y._readOnly)&&(y=t._pendingEditorState=y0e(y||m),_=!0),y._flushSync=h;const b=zi,T=ao,C=Bi,A=t._updating;zi=y,ao=!1,t._updating=!0,Bi=t;const D=t._headless||t.getRootElement()===null;try{_&&(D?m._selection!==null&&(y._selection=m._selection.clone()):y._selection=(function(Q,B){const q=Q.getEditorState()._selection,Y=uu(gs(Q));return qt(q)||q==null?wj(q,Y,Q,B):q.clone()})(t,i&&i.event||null));const z=t._compositionKey;e(),d=Iae(t,d),(function(Q,B){const q=B.getEditorState()._selection,Y=Q._selection;if(qt(Y)){const G=Y.anchor,H=Y.focus;let V;if(G.type==="text"&&(V=G.getNode(),V.selectionTransform(q,Y)),H.type==="text"){const F=H.getNode();V!==F&&F.selectionTransform(q,Y)}}})(y,t),t._dirtyType!==mp&&(d?(function(Q,B){const q=B._dirtyLeaves,Y=Q._nodeMap;for(const G of q){const H=Y.get(G);$t(H)&&H.isAttached()&&H.isSimpleText()&&!H.isUnmergeable()&&cae(H)}})(y,t):(function(Q,B){const q=B._dirtyLeaves,Y=B._dirtyElements,G=Q._nodeMap,H=Cd(),V=new Map;let F=q,te=F.size,ae=Y,oe=ae.size;for(;te>0||oe>0;){if(te>0){B._dirtyLeaves=new Set;for(const fe of F){const de=G.get(fe);$t(de)&&de.isAttached()&&de.isSimpleText()&&!de.isUnmergeable()&&cae(de),de!==void 0&&Mae(de,H)&&Eae(B,de,V),q.add(fe)}if(F=B._dirtyLeaves,te=F.size,te>0){AT++;continue}}B._dirtyLeaves=new Set,B._dirtyElements=new Map,ae.delete("root")&&ae.set("root",!0);for(const fe of ae){const de=fe[0],he=fe[1];if(Y.set(de,he),!he)continue;const ue=G.get(de);ue!==void 0&&Mae(ue,H)&&Eae(B,ue,V)}F=B._dirtyLeaves,te=F.size,ae=B._dirtyElements,oe=ae.size,AT++}B._dirtyLeaves=q,B._dirtyElements=Y})(y,t),Iae(t),(function(Q,B,q,Y){const G=Q._nodeMap,H=B._nodeMap,V=[];for(const[F]of Y){const te=H.get(F);te!==void 0&&(te.isAttached()||(ot(te)&&Ove(te,F,G,H,V,Y),G.has(F)||Y.delete(F),V.push(F)))}for(const F of V)H.delete(F);for(const F of q){const te=H.get(F);te===void 0||te.isAttached()||(G.has(F)||q.delete(F),H.delete(F))}})(m,y,t._dirtyLeaves,t._dirtyElements)),z!==t._compositionKey&&(y._flushSync=!0);const $=y._selection;if(qt($)){const Q=y._nodeMap,B=$.anchor.key,q=$.focus.key;Q.get(B)!==void 0&&Q.get(q)!==void 0||lt(19)}else PA($)&&$._nodes.size===0&&(y._selection=null)}catch(z){return z instanceof Error&&t._onError(z),t._pendingEditorState=m,t._dirtyType=mv,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void uc(t)}finally{zi=b,ao=T,Bi=C,t._updating=A,AT=0}t._dirtyType!==mp||t._deferred.length>0||(function(z,$){const Q=$.getEditorState()._selection,B=z._selection;if(B!==null){if(B.dirty||!B.is(Q))return!0}else if(Q!==null)return!0;return!1})(y,t)?y._flushSync?(y._flushSync=!1,uc(t)):_&&Smt((()=>{uc(t)})):(y._flushSync=!1,_&&(s.clear(),t._deferred=[],t._pendingEditorState=null))}function Do(t,e,i){Bi===t&&i===void 0?e():Tj(t,e,i)}class d1{constructor(e,i,s){this.element=e,this.before=i||null,this.after=s||null}withBefore(e){return new d1(this.element,e,this.after)}withAfter(e){return new d1(this.element,this.before,e)}withElement(e){return this.element===e?this:new d1(e,this.before,this.after)}insertChild(e){const i=this.before||this.getManagedLineBreak();return i!==null&&i.parentElement!==this.element&&lt(222),this.element.insertBefore(e,i),this}removeChild(e){return e.parentElement!==this.element&&lt(223),this.element.removeChild(e),this}replaceChild(e,i){return i.parentElement!==this.element&&lt(224),this.element.replaceChild(e,i),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const i=e==="decorator"&&(pv||i_);this.insertManagedLineBreak(i)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const i=this.element,s=e.nodeName==="IMG"?e.nextSibling:null;s&&i.removeChild(s),i.removeChild(e),i.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const i=this.getManagedLineBreak();if(i){if(e===(i.nodeName==="IMG"))return;this.removeManagedLineBreak()}const s=this.element,u=this.before,d=document.createElement("br");if(s.insertBefore(d,u),e){const h=document.createElement("img");h.setAttribute("data-lexical-linebreak","true"),h.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",h.alt="",s.insertBefore(h,d),s.__lexicalLineBreak=h}else s.__lexicalLineBreak=d}getFirstChildOffset(){let e=0;for(let i=this.after;i!==null;i=i.previousSibling)e++;return e}resolveChildIndex(e,i,s,u){if(s===this.element){const y=this.getFirstChildOffset();return[e,Math.min(y+e.getChildrenSize(),Math.max(y,u))]}const d=Rae(i,s);d.push(u);const h=Rae(i,this.element);let m=e.getIndexWithinParent();for(let y=0;y<h.length;y++){const _=d[y],b=h[y];if(_===void 0||_<b)break;if(_>b){m+=1;break}}return[e.getParentOrThrow(),m]}}function Rae(t,e){const i=[];let s=e;for(;s!==t&&s!==null;s=s.parentNode){let u=0;for(let d=s.previousSibling;d!==null;d=d.previousSibling)u++;i.push(u)}return s!==t&&lt(225),i.reverse()}class X_ extends CA{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Mpt[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let i=this.getFirstChild();for(;i!==null;)e.push(i),i=i.getNextSibling();return e}getChildrenKeys(){const e=[];let i=this.getFirstChild();for(;i!==null;)e.push(i.__key),i=i.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Mr()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),i=this.getParentOrThrow().getLastChild();return i!==null&&i.is(e)}getAllTextNodes(){const e=[];let i=this.getFirstChild();for(;i!==null;){if($t(i)&&e.push(i),ot(i)){const s=i.getAllTextNodes();e.push(...s)}i=i.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;ot(e);){const i=e.getFirstChild();if(i===null)break;e=i}return e}getLastDescendant(){let e=this.getLastChild();for(;ot(e);){const i=e.getLastChild();if(i===null)break;e=i}return e}getDescendantByIndex(e){const i=this.getChildren(),s=i.length;if(e>=s){const d=i[s-1];return ot(d)&&d.getLastDescendant()||d||null}const u=i[e];return ot(u)&&u.getFirstDescendant()||u||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:wi(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&lt(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:wi(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&lt(96,this.__key),e}getChildAtIndex(e){const i=this.getChildrenSize();let s,u;if(e<i/2){for(s=this.getFirstChild(),u=0;s!==null&&u<=e;){if(u===e)return s;s=s.getNextSibling(),u++}return null}for(s=this.getLastChild(),u=i-1;s!==null&&u>=e;){if(u===e)return s;s=s.getPreviousSibling(),u--}return null}getTextContent(){let e="";const i=this.getChildren(),s=i.length;for(let u=0;u<s;u++){const d=i[u];e+=d.getTextContent(),ot(d)&&u!==s-1&&!d.isInline()&&(e+=_c)}return e}getTextContentSize(){let e=0;const i=this.getChildren(),s=i.length;for(let u=0;u<s;u++){const d=i[u];e+=d.getTextContentSize(),ot(d)&&u!==s-1&&!d.isInline()&&(e+=_c.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const i=sae[e];return!!(this.getFormat()&i)}return!1}hasTextFormat(e){const i=Zd[e];return!!(this.getTextFormat()&i)}getFormatFlags(e,i){return WC(this.getLatest().__textFormat,e,i)}getTextStyle(){return this.getLatest().__textStyle}select(e,i){sa();const s=Hn();let u=e,d=i;const h=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&i===0){const y=this.getFirstChild();if($t(y)||ot(y))return y.select(0,0)}else if(!(e!==void 0&&e!==h||i!==void 0&&i!==h)){const y=this.getLastChild();if($t(y)||ot(y))return y.select()}}u===void 0&&(u=h),d===void 0&&(d=h);const m=this.__key;return qt(s)?(s.anchor.set(m,u,"element"),s.focus.set(m,d,"element"),s.dirty=!0,s):d0e(m,u,m,d,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((i=>i.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const i=this.getWritable();return i.__dir=e,i}setFormat(e){return this.getWritable().__format=e!==""?sae[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const i=this.getWritable();return i.__textFormat=e,i}setTextStyle(e){const i=this.getWritable();return i.__textStyle=e,i}setIndent(e){return this.getWritable().__indent=e,this}splice(e,i,s){const u=s.length,d=this.getChildrenSize(),h=this.getWritable();e+i<=d||lt(226,String(e),String(i),String(d));const m=h.__key,y=[],_=[],b=this.getChildAtIndex(e+i);let T=null,C=d-i+u;if(e!==0)if(e===d)T=this.getLastChild();else{const D=this.getChildAtIndex(e);D!==null&&(T=D.getPreviousSibling())}if(i>0){let D=T===null?this.getFirstChild():T.getNextSibling();for(let L=0;L<i;L++){D===null&&lt(100);const z=D.getNextSibling(),$=D.__key;Rd(D.getWritable()),_.push($),D=z}}let A=T;for(let D=0;D<u;D++){const L=s[D];A!==null&&L.is(A)&&(T=A=A.getPreviousSibling());const z=L.getWritable();z.__parent===m&&C--,Rd(z);const $=L.__key;if(A===null)h.__first=$,z.__prev=null;else{const Q=A.getWritable();Q.__next=$,z.__prev=Q.__key}L.__key===m&&lt(76),z.__parent=m,y.push($),A=L}if(e+i===d)A!==null&&(A.getWritable().__next=null,h.__last=A.__key);else if(b!==null){const D=b.getWritable();if(A!==null){const L=A.getWritable();D.__prev=A.__key,L.__next=b.__key}else D.__prev=null}if(h.__size=C,_.length){const D=Hn();if(qt(D)){const L=new Set(_),z=new Set(y),{anchor:$,focus:Q}=D;Lae($,L,z)&&GC($,$.getNode(),this,T,b),Lae(Q,L,z)&&GC(Q,Q.getNode(),this,T,b),C!==0||this.canBeEmpty()||Cc(this)||this.remove()}}return h}getDOMSlot(e){return new d1(e)}exportDOM(e){const{element:i}=super.exportDOM(e);if(Da(i)){const s=this.getIndent();s>0&&(i.style.paddingInlineStart=40*s+"px");const u=this.getDirection();u&&(i.dir=u)}return{element:i}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},i=this.getTextFormat(),s=this.getTextStyle();return i!==0&&(e.textFormat=i),s!==""&&(e.textStyle=s),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,i){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,i,s){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,i){const s=this.getDOMSlot(e);let u=s.getFirstChild();for(let d=this.getFirstChild();d;d=d.getNextSibling()){const h=i.getElementByKey(d.getKey());h!==null&&(u==null?(s.insertChild(h),u=h):u!==h&&s.replaceChild(h,u),u=u.nextSibling)}}}function ot(t){return t instanceof X_}function Lae(t,e,i){let s=t.getNode();for(;s;){const u=s.__key;if(e.has(u)&&!i.has(u))return!0;s=s.getParent()}return!1}class v0e extends CA{decorate(e,i){lt(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function vr(t){return t instanceof v0e}class Lv extends X_{static getType(){return"root"}static clone(){return new Lv}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){lt(51)}getTextContent(){const e=this.__cachedText;return!Rv()&&Mr()._dirtyType!==mp||e===null?super.getTextContent():e}remove(){lt(52)}replace(e){lt(53)}insertBefore(e){lt(54)}insertAfter(e){lt(55)}updateDOM(e,i){return!1}splice(e,i,s){for(const u of s)ot(u)||vr(u)||lt(282);return super.splice(e,i,s)}static importJSON(e){return so().updateFromJSON(e)}collapseAtStart(){return!0}}function to(t){return t instanceof Lv}function y0e(t){return new EA(new Map(t._nodeMap))}function Cj(){return new EA(new Map([["root",new Lv]]))}function x0e(t){const e=t.exportJSON(),i=t.constructor;if(e.type!==i.getType()&&lt(130,i.name),ot(t)){const s=e.children;Array.isArray(s)||lt(59,i.name);const u=t.getChildren();for(let d=0;d<u.length;d++){const h=x0e(u[d]);s.push(h)}}return e}class EA{constructor(e,i){this._nodeMap=e,this._selection=i||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,i){return Dae(i&&i.editor||null,this,e)}clone(e){const i=new EA(this._nodeMap,e===void 0?this._selection:e);return i._readOnly=!0,i}toJSON(){return Dae(null,this,(()=>({root:x0e(so())})))}}const hmt="historic",pmt="history-push",PT="history-merge",mmt="paste",_0e="collaboration",O0e="skip-scroll-into-view",b0e="skip-dom-selection";class w0e extends X_{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Nv extends X_{static getType(){return"paragraph"}static clone(e){return new Nv(e.__key)}createDOM(e){const i=document.createElement("p"),s=Jg(e.theme,"paragraph");return s!==void 0&&i.classList.add(...s),i}updateDOM(e,i,s){return!1}static importDOM(){return{p:e=>({conversion:gmt,priority:0})}}exportDOM(e){const{element:i}=super.exportDOM(e);if(Da(i)){this.isEmpty()&&i.append(document.createElement("br"));const s=this.getFormatType();s&&(i.style.textAlign=s)}return{element:i}}static importJSON(e){return pc().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,i){const s=pc();s.setTextFormat(e.format),s.setTextStyle(e.style);const u=this.getDirection();return s.setDirection(u),s.setFormat(this.getFormatType()),s.setStyle(this.getStyle()),this.insertAfter(s,i),s}collapseAtStart(){const e=this.getChildren();if(e.length===0||$t(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function gmt(t){const e=pc();return t.style&&(e.setFormat(t.style.textAlign),F0e(t,e)),{node:e}}function pc(){return eO(new Nv)}function vmt(t){return t instanceof Nv}const ymt=0,xmt=1,_mt=3,Omt=4;function S0e(t,e,i,s){const u=t._keyToDOMMap;u.clear(),t._editorState=Cj(),t._pendingEditorState=s,t._compositionKey=null,t._dirtyType=mp,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const d=t._observer;d!==null&&(d.disconnect(),t._observer=null),e!==null&&(e.textContent=""),i!==null&&(i.textContent="",u.set("root",i))}function bmt(t){const e=t||{},i=dmt(),s=e.theme||{},u=t===void 0?i:e.parentEditor||null,d=e.disableEvents||!1,h=Cj(),m=e.namespace||(u!==null?u._config.namespace:E0e()),y=e.editorState,_=[Lv,Mp,Dv,Iv,Nv,w0e,...e.nodes||[]],{onError:b,html:T}=e,C=e.editable===void 0||e.editable;let A;if(t===void 0&&i!==null)A=i._nodes;else{A=new Map;for(let L=0;L<_.length;L++){let z=_[L],$=null,Q=null;if(typeof z!="function"){const G=z;z=G.replace,$=G.with,Q=G.withKlass||null}const B=z.getType(),q=z.transform(),Y=new Set;q!==null&&Y.add(q),A.set(B,{exportDOM:T&&T.export?T.export.get(z):void 0,klass:z,replace:$,replaceWithKlass:Q,transforms:Y})}}const D=new MA(h,u,A,{disableEvents:d,namespace:m,theme:s},b||console.error,(function(L,z){const $=new Map,Q=new Set,B=q=>{Object.keys(q).forEach((Y=>{let G=$.get(Y);G===void 0&&(G=[],$.set(Y,G)),G.push(q[Y])}))};return L.forEach((q=>{const Y=q.klass.importDOM;if(Y==null||Q.has(Y))return;Q.add(Y);const G=Y.call(q.klass);G!==null&&B(G)})),z&&B(z),$})(A,T?T.import:void 0),C,t);return y!==void 0&&(D._pendingEditorState=y,D._dirtyType=mv),D}class MA{constructor(e,i,s,u,d,h,m,y){this._createEditorArgs=y,this._parentEditor=i,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=u,this._nodes=s,this._decorators={},this._pendingDecorators=null,this._dirtyType=mp,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=E0e(),this._onError=d,this._htmlConversions=h,this._editable=m,this._headless=i!==null&&i._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const i=this._listeners.update;return i.add(e),()=>{i.delete(e)}}registerEditableListener(e){const i=this._listeners.editable;return i.add(e),()=>{i.delete(e)}}registerDecoratorListener(e){const i=this._listeners.decorator;return i.add(e),()=>{i.delete(e)}}registerTextContentListener(e){const i=this._listeners.textcontent;return i.add(e),()=>{i.delete(e)}}registerRootListener(e){const i=this._listeners.root;return e(this._rootElement,null),i.add(e),()=>{e(null,this._rootElement),i.delete(e)}}registerCommand(e,i,s){s===void 0&&lt(35);const u=this._commands;u.has(e)||u.set(e,[new Set,new Set,new Set,new Set,new Set]);const d=u.get(e);d===void 0&&lt(36,String(e));const h=d[s];return h.add(i),()=>{h.delete(i),d.every((m=>m.size===0))&&u.delete(e)}}registerMutationListener(e,i,s){const u=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,d=this._listeners.mutation;d.set(i,u);const h=s&&s.skipInitialization;return h!==void 0&&h||this.initializeMutationListener(i,u),()=>{d.delete(i)}}getRegisteredNode(e){const i=this._nodes.get(e.getType());return i===void 0&&lt(37,e.name),i}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,i){const s=this._editorState,u=Gae(s).get(i.getType());if(!u)return;const d=new Map;for(const h of u.keys())d.set(h,"created");d.size>0&&e(d,{dirtyLeaves:new Set,prevEditorState:s,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,i){const s=this.getRegisteredNode(e);return s.transforms.add(i),s}registerNodeTransform(e,i){const s=this.registerNodeTransformToKlass(e,i),u=[s],d=s.replaceWithKlass;if(d!=null){const h=this.registerNodeTransformToKlass(d,i);u.push(h)}return(function(h,m){const y=Gae(h.getEditorState()),_=[];for(const b of m){const T=y.get(b);T&&_.push(T)}_.length!==0&&h.update((()=>{for(const b of _)for(const T of b.keys()){const C=wi(T);C&&C.markDirty()}}),h._pendingEditorState===null?{tag:PT}:void 0)})(this,u.map((h=>h.klass.getType()))),()=>{u.forEach((h=>h.transforms.delete(i)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,i){return At(this,e,i)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const i=this._rootElement;if(e!==i){const s=Jg(this._config.theme,"root"),u=this._pendingEditorState||this._editorState;if(this._rootElement=e,S0e(this,i,e,u),i!==null&&(this._config.disableEvents||Kpt(i),s!=null&&i.classList.remove(...s)),e!==null){const d=Rj(e),h=e.style;h.userSelect="text",h.whiteSpace="pre-wrap",h.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=d,this._dirtyType=mv,Sve(this),this._updateTags.add(PT),uc(this),this._config.disableEvents||(function(m,y){const _=m.ownerDocument,b=VC.get(_);(b===void 0||b<1)&&_.addEventListener("selectionchange",o0e),VC.set(_,(b||0)+1),m.__lexicalEditor=y;const T=a0e(m);for(let C=0;C<nz.length;C++){const[A,D]=nz[C],L=typeof D=="function"?z=>{gae(z)||(mae(z),(y.isEditable()||A==="click")&&D(z,y))}:z=>{if(gae(z))return;mae(z);const $=y.isEditable();switch(A){case"cut":return $&&At(y,xj,z);case"copy":return At(y,yj,z);case"paste":return $&&At(y,mj,z);case"dragstart":return $&&At(y,qve,z);case"dragover":return $&&At(y,Zve,z);case"dragend":return $&&At(y,Hve,z);case"focus":return $&&At(y,Xve,z);case"blur":return $&&At(y,Yve,z);case"drop":return $&&At(y,Uve,z)}};m.addEventListener(A,L),T.push((()=>{m.removeEventListener(A,L)}))}})(e,this),s!=null&&e.classList.add(...s)}else this._window=null,this._updateTags.add(PT),uc(this);c1("root",this,!1,e,i)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,i){e.isEmpty()&&lt(38);let s=e;s._readOnly&&(s=y0e(e),s._selection=e._selection?e._selection.clone():null),wve(this);const u=this._pendingEditorState,d=this._updateTags,h=i!==void 0?i.tag:null;u===null||u.isEmpty()||(h!=null&&d.add(h),uc(this)),this._pendingEditorState=s,this._dirtyType=mv,this._dirtyElements.set("root",!1),this._compositionKey=null,h!=null&&d.add(h),this._updating||uc(this)}parseEditorState(e,i){return(function(s,u,d){const h=Cj(),m=zi,y=ao,_=Bi,b=u._dirtyElements,T=u._dirtyLeaves,C=u._cloneNotNeeded,A=u._dirtyType;u._dirtyElements=new Map,u._dirtyLeaves=new Set,u._cloneNotNeeded=new Set,u._dirtyType=0,zi=h,ao=!1,Bi=u;try{const D=u._nodes;Sj(s.root,D),d&&d(),h._readOnly=!0}catch(D){D instanceof Error&&u._onError(D)}finally{u._dirtyElements=b,u._dirtyLeaves=T,u._cloneNotNeeded=C,u._dirtyType=A,zi=m,ao=y,Bi=_}return h})(typeof e=="string"?JSON.parse(e):e,this,i)}read(e){return uc(this),this.getEditorState().read(e,{editor:this})}update(e,i){(function(s,u,d){s._updating?s._updates.push([u,d]):Tj(s,u,d)})(this,e,i)}focus(e,i={}){const s=this._rootElement;s!==null&&(s.setAttribute("autocapitalize","off"),Do(this,(()=>{const u=Hn(),d=so();u!==null?u.dirty||lo(u.clone()):d.getChildrenSize()!==0&&(i.defaultSelection==="rootStart"?d.selectStart():d.selectEnd()),L0e("focus"),N0e((()=>{s.removeAttribute("autocapitalize"),e&&e()}))})),this._pendingEditorState===null&&s.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const i=uu(this._window);i!==null&&i.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,c1("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}MA.version="0.32.1+prod.esm";let wmt=1;const Smt=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function Nae(t){return vr(RA(t))}function kj(t){const e=document.activeElement;if(!Da(e))return!1;const i=e.nodeName;return vr(RA(t))&&(i==="INPUT"||i==="TEXTAREA"||e.contentEditable==="true"&&K_(e)==null)}function Y_(t,e,i){const s=t.getRootElement();try{return s!==null&&s.contains(e)&&s.contains(i)&&e!==null&&!kj(e)&&Aj(e)===t}catch{return!1}}function DA(t){return t instanceof MA}function Aj(t){let e=t;for(;e!=null;){const i=K_(e);if(DA(i))return i;e=J_(e)}return null}function K_(t){return t?t.__lexicalEditor:null}function Id(t){return Oj(t)||t.isToken()}function ic(t){return Id(t)||t.isSegmented()}function vu(t){return $v(t)&&t.nodeType===Opt}function T0e(t){return $v(t)&&t.nodeType===bpt}function vp(t){let e=t;for(;e!=null;){if(vu(e))return e;e=e.firstChild}return null}function WC(t,e,i){const s=Zd[e];if(i!==null&&(t&s)==(i&s))return t;let u=t^s;return e==="subscript"?u&=-65:e==="superscript"?u&=-33:e==="lowercase"?(u&=-513,u&=-1025):e==="uppercase"?(u&=-257,u&=-1025):e==="capitalize"&&(u&=-257,u&=-513),u}function Tmt(t){return $t(t)||np(t)||vr(t)}function Cmt(t,e){if(e!=null)return void(t.__key=e);sa(),p0e();const i=Mr(),s=rf(),u=""+wmt++;s._nodeMap.set(u,t),ot(t)?i._dirtyElements.set(u,!0):i._dirtyLeaves.add(u),i._cloneNotNeeded.add(u),i._dirtyType=gve,t.__key=u}function Rd(t){const e=t.getParent();if(e!==null){const i=t.getWritable(),s=e.getWritable(),u=t.getPreviousSibling(),d=t.getNextSibling(),h=d!==null?d.__key:null,m=u!==null?u.__key:null,y=u!==null?u.getWritable():null,_=d!==null?d.getWritable():null;u===null&&(s.__first=h),d===null&&(s.__last=m),y!==null&&(y.__next=h),_!==null&&(_.__prev=m),i.__prev=null,i.__next=null,i.__parent=null,s.__size--}}function UC(t){p0e();const e=t.getLatest(),i=e.__parent,s=rf(),u=Mr(),d=s._nodeMap,h=u._dirtyElements;i!==null&&(function(y,_,b){let T=y;for(;T!==null;){if(b.has(T))return;const C=_.get(T);if(C===void 0)break;b.set(T,!1),T=C.__parent}})(i,d,h);const m=e.__key;u._dirtyType=gve,ot(t)?h.set(m,!0):u._dirtyLeaves.add(m)}function Ni(t){sa();const e=Mr(),i=e._compositionKey;if(t!==i){if(e._compositionKey=t,i!==null){const s=wi(i);s!==null&&s.getWritable()}if(t!==null){const s=wi(t);s!==null&&s.getWritable()}}}function Cd(){return Rv()?null:Mr()._compositionKey}function wi(t,e){const i=(e||rf())._nodeMap.get(t);return i===void 0?null:i}function C0e(t,e){const i=IA(t,Mr());return i!==void 0?wi(i,e):null}function IA(t,e){return t[`__lexicalKey_${e._key}`]}function RA(t,e){let i=t;for(;i!=null;){const s=C0e(i,e);if(s!==null)return s;i=J_(i)}return null}function k0e(t){const e=t._decorators,i=Object.assign({},e);return t._pendingDecorators=i,i}function $ae(t){return t.read((()=>so().getTextContent()))}function so(){return A0e(rf())}function A0e(t){return t._nodeMap.get("root")}function lo(t){sa();const e=rf();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Ng(t){const e=Mr(),i=(function(s,u){let d=s;for(;d!=null;){const h=IA(d,u);if(h!==void 0)return h;d=J_(d)}return null})(t,e);return i===null?t===e.getRootElement()?wi("root"):null:wi(i)}function zae(t,e){return e?t.getTextContentSize():0}function P0e(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Pj(t){const e=[];let i=t;for(;i!==null;)e.push(i),i=i._parentEditor;return e}function E0e(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function M0e(t){return vu(t)?t.nodeValue:null}function Ej(t,e,i){const s=uu(gs(e));if(s===null)return;const u=s.anchorNode;let{anchorOffset:d,focusOffset:h}=s;if(u!==null){let m=M0e(u);const y=RA(u);if(m!==null&&$t(y)){if(m===SA&&i){const _=i.length;m=i,d=_,h=_}m!==null&&Mj(y,m,d,h,t)}}}function Mj(t,e,i,s,u){let d=t;if(d.isAttached()&&(u||!d.isDirty())){const h=d.isComposing();let m=e;(h||u)&&e[e.length-1]===SA&&(m=e.slice(0,-1));const y=d.getTextContent();if(u||m!==y){if(m===""){if(Ni(null),i_||pv||LC)d.remove();else{const L=Mr();setTimeout((()=>{L.update((()=>{d.isAttached()&&d.remove()}))}),20)}return}const _=d.getParent(),b=Ip(),T=d.getTextContentSize(),C=Cd(),A=d.getKey();if(d.isToken()||C!==null&&A===C&&!h||qt(b)&&(_!==null&&!_.canInsertTextBefore()&&b.anchor.offset===0||b.anchor.key===t.__key&&b.anchor.offset===0&&!d.canInsertTextBefore()&&!h||b.focus.key===t.__key&&b.focus.offset===T&&!d.canInsertTextAfter()&&!h))return void d.markDirty();const D=Hn();if(!qt(D)||i===null||s===null)return void d.setTextContent(m);if(D.setTextNodeRange(d,i,d,s),d.isSegmented()){const L=Li(d.getTextContent());d.replace(L),d=L}d.setTextContent(m)}}}function $S(t,e,i){const s=e[i]||!1;return s==="any"||s===t[i]}function D0e(t,e){return $S(t,e,"altKey")&&$S(t,e,"ctrlKey")&&$S(t,e,"shiftKey")&&$S(t,e,"metaKey")}function Kn(t,e,i){return D0e(t,i)&&t.key.toLowerCase()===e.toLowerCase()}const rc={ctrlKey:!Zl,metaKey:Zl},Bae={altKey:Zl,ctrlKey:!Zl};function Qae(t){return t.key==="Backspace"}function jae(t){return Kn(t,"a",rc)}function kmt(t){const e=so();if(qt(t)){const i=t.anchor,s=t.focus,u=i.getNode().getTopLevelElementOrThrow().getParentOrThrow();return i.set(u.getKey(),0,"element"),s.set(u.getKey(),u.getChildrenSize(),"element"),$C(t),t}{const i=e.select(0,e.getChildrenSize());return lo($C(i)),i}}function Jg(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const i=t.__lexicalClassNameCache,s=i[e];if(s!==void 0)return s;const u=t[e];if(typeof u=="string"){const d=NC(u);return i[e]=d,d}return u}function Dj(t,e,i,s,u){if(i.size===0)return;const d=s.__type,h=s.__key,m=e.get(d);m===void 0&&lt(33,d);const y=m.klass;let _=t.get(y);_===void 0&&(_=new Map,t.set(y,_));const b=_.get(h),T=b==="destroyed"&&u==="created";(b===void 0||T)&&_.set(h,T?"updated":u)}function Vae(t,e,i){const s=t.getParent();let u=i,d=t;return s!==null&&(e&&i===0?(u=d.getIndexWithinParent(),d=s):e||i!==d.getChildrenSize()||(u=d.getIndexWithinParent()+1,d=s)),d.getChildAtIndex(e?u-1:u)}function I0e(t,e){const i=t.offset;if(t.type==="element")return Vae(t.getNode(),e,i);{const s=t.getNode();if(e&&i===0||!e&&i===s.getTextContentSize()){const u=e?s.getPreviousSibling():s.getNextSibling();return u===null?Vae(s.getParentOrThrow(),e,s.getIndexWithinParent()+(e?0:1)):u}}return null}function R0e(t){const e=gs(t).event,i=e&&e.inputType;return i==="insertFromPaste"||i==="insertFromPasteAsQuotation"}function At(t,e,i){return(function(s,u,d){const h=Pj(s);for(let m=4;m>=0;m--)for(let y=0;y<h.length;y++){const _=h[y],b=_._commands.get(u);if(b!==void 0){const T=b[m];if(T!==void 0){const C=Array.from(T),A=C.length;let D=!1;if(Do(_,(()=>{for(let L=0;L<A;L++)if(C[L](d,s))return void(D=!0)})),D)return D}}}return!1})(t,e,i)}function LA(t){return!to(t)&&!t.isLastChild()&&!t.isInline()}function vv(t,e){const i=t._keyToDOMMap.get(e);return i===void 0&&lt(75,e),i}function J_(t){const e=t.assignedSlot||t.parentElement;return Q0e(e)?e.host:e}function Ij(t){return T0e(t)?t:Da(t)?t.ownerDocument:null}function L0e(t){sa(),Mr()._updateTags.add(t)}function N0e(t){sa(),Mr()._deferred.push(t)}function qC(t,e){let i=t.getParent();for(;i!==null;){if(i.is(e))return!0;i=i.getParent()}return!1}function Rj(t){const e=Ij(t);return e?e.defaultView:null}function gs(t){const e=t._window;return e===null&&lt(78),e}function $0e(t){let e=t.getParentOrThrow();for(;e!==null;){if(Cc(e))return e;e=e.getParentOrThrow()}return e}function Cc(t){return to(t)||ot(t)&&t.isShadowRoot()}function eO(t){const e=Mr(),i=t.constructor.getType(),s=e._nodes.get(i);s===void 0&&lt(200,t.constructor.name,i);const{replace:u,replaceWithKlass:d}=s;if(u!==null){const h=u(t),m=h.constructor;return d!==null?h instanceof d||lt(201,d.name,d.getType(),m.name,m.getType(),t.constructor.name,i):h instanceof t.constructor&&m!==t.constructor||lt(202,m.name,m.getType(),t.constructor.name,i),h.__key===t.__key&&lt(203,t.constructor.name,i,m.name,m.getType()),h}return t}function w3(t,e){!to(t.getParent())||ot(e)||vr(e)||lt(99)}function z0e(t){const e=wi(t);return e===null&&lt(63,t),e}function S3(t){return(vr(t)||ot(t)&&!t.canBeEmpty())&&!t.isInline()}function sz(t,e,i){i.style.removeProperty("caret-color"),e._blockCursorElement=null;const s=t.parentElement;s!==null&&s.removeChild(t)}function uu(t){return nl?(t||window).getSelection():null}function B0e(t){const e=Rj(t);return e?e.getSelection():null}function Amt(t){return Da(t)&&t.tagName==="A"}function Da(t){return $v(t)&&t.nodeType===_pt}function $v(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function Q0e(t){return $v(t)&&t.nodeType===wpt}function j0e(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function lz(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function cc(t){if(vr(t)&&!t.isInline())return!0;if(!ot(t)||Cc(t))return!1;const e=t.getFirstChild(),i=e===null||np(e)||$t(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&i}function T3(t,e){let i=t;for(;i!==null&&i.getParent()!==null&&!e(i);)i=i.getParentOrThrow();return e(i)?i:null}function Pmt(){return Mr()}const Fae=new WeakMap,Emt=new Map;function Gae(t){if(!t._readOnly&&t.isEmpty())return Emt;t._readOnly||lt(192);let e=Fae.get(t);return e||(e=(function(i){const s=new Map;for(const[u,d]of i._nodeMap){const h=d.__type;let m=s.get(h);m||(m=new Map,s.set(h,m)),m.set(u,d)}return s})(t),Fae.set(t,e)),e}function V0e(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function F0e(t,e){const i=parseInt(t.style.paddingInlineStart,10)||0,s=Math.round(i/40);e.setIndent(s)}function G0e(t){return t.__lexicalUnmanaged===!0}const Mmt={next:"previous",previous:"next"};class Lj{constructor(e){this.origin=e}[Symbol.iterator](){return Bj({hasNext:_p,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Ki(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Ki(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,i){const s=this.getNodeAtCaret();return e.is(this.origin)||e.is(s)||(s===null?this.insert(e):s.replace(e,i)),this}splice(e,i,s="next"){const u=s===this.direction?i:Array.from(i).reverse();let d=this;const h=this.getParentAtCaret(),m=new Map;for(let y=d.getAdjacentCaret();y!==null&&m.size<e;y=y.getAdjacentCaret()){const _=y.origin.getWritable();m.set(_.getKey(),_)}for(const y of u){if(m.size>0){const _=d.getNodeAtCaret();if(_){if(m.delete(_.getKey()),m.delete(y.getKey()),!(_.is(y)||d.origin.is(y))){const b=y.getParent();b&&b.is(h)&&y.remove(),_.replace(y)}}else _===null&&lt(263,Array.from(m).join(" "))}else d.insert(y);d=Ki(y,this.direction)}for(const y of m.values())y.remove();return this}}class h_ extends Lj{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Oc(e,this.direction)}getParentCaret(e="root"){return Ki(Nj(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Rp(this.direction);return Ki(this.getNodeAtCaret(),e)||Oc(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof h_&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const Dmt={root:to,shadowRoot:Cc};function Rp(t){return Mmt[t]}function Nj(t,e="root"){return Dmt[e](t)?null:t}class yp extends Lj{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Ki(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return ot(this.origin)?Oc(this.origin,this.direction):null}getParentCaret(e="root"){return Ki(Nj(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Rp(this.direction);return Ki(this.getNodeAtCaret(),e)||Oc(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof yp&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof yp||e instanceof xp)&&this.direction===e.direction&&this.origin.is(e.origin)}}class xp extends Lj{type="text";constructor(e,i){super(e),this.offset=i}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Xd(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return Ki(Nj(this.getParentAtCaret(),e),this.direction)}getFlipped(){return Xd(this.origin,Rp(this.direction),this.offset)}isSamePointCaret(e){return e instanceof xp&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof yp||e instanceof xp)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return Ki(this.origin,this.direction)}}function Ld(t){return t instanceof xp}function _p(t){return t instanceof yp}function ou(t){return t instanceof h_}const Imt={next:class extends xp{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends xp{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},Rmt={next:class extends yp{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends yp{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},Lmt={next:class extends h_{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends h_{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function Ki(t,e){return t?new Rmt[e](t):null}function Xd(t,e,i){return t?new Imt[e](t,tO(t,i)):null}function tO(t,e){const i=t.getTextContentSize();let s=e==="next"?i:e==="previous"?0:e;return(s<0||s>i)&&((function(u,...d){const h=new URL("https://lexical.dev/docs/error"),m=new URLSearchParams;m.append("code",u);for(const y of d)m.append("v",y);h.search=m.toString(),console.warn(`Minified Lexical warning #${u}; visit ${h.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(284,String(e),String(i),t.getKey()),s=s<0?0:i),s}function uz(t,e){return new Nmt(t,e)}function Oc(t,e){return ot(t)?new Lmt[e](t):null}function W0e(t){return t&&t.getChildCaret()||t}function NA(t){return t&&W0e(t.getAdjacentCaret())}class $j{type="node-caret-range";constructor(e,i,s){this.anchor=e,this.focus=i,this.direction=s}getLatest(){const e=this.anchor.getLatest(),i=this.focus.getLatest();return e===this.anchor&&i===this.focus?this:new $j(e,i,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=u=>{const d=this[u].getLatest();return Ld(d)?(function(h,m){const{direction:y,origin:_}=h,b=tO(_,m==="focus"?Rp(y):y);return uz(h,b-h.offset)})(d,u):null},i=e("anchor"),s=e("focus");if(i&&s){const{caret:u}=i,{caret:d}=s;if(u.isSameNodeCaret(d))return[uz(u,d.offset-u.offset),null]}return[i,s]}iterNodeCarets(e="root"){const i=Ld(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),s=this.focus.getLatest(),u=Ld(s),d=h=>h.isSameNodeCaret(s)?null:NA(h)||h.getParentCaret(e);return Bj({hasNext:h=>h!==null&&!(u&&s.isSameNodeCaret(h)),initial:i.isSameNodeCaret(s)?null:d(i),map:h=>h,step:d})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Nmt{type="slice";constructor(e,i){this.caret=e,this.distance=i}getSliceIndices(){const{distance:e,caret:{offset:i}}=this,s=i+e;return s<i?[s,i]:[i,s]}getTextContent(){const[e,i]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,i)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:i}}=this,[s,u]=this.getSliceIndices(),d=e.getTextContent();return Xd(e.setTextContent(d.slice(0,s)+d.slice(u)),i,s)}}function zj(t){return Yd(t,Ki(so(),t.direction))}function U0e(t){return Yd(t,t)}function Yd(t,e){return t.direction!==e.direction&&lt(265),new $j(t,e,t.direction)}function Bj(t){const{initial:e,hasNext:i,step:s,map:u}=t;let d=e;return{[Symbol.iterator](){return this},next(){if(!i(d))return{done:!0,value:void 0};const h={done:!1,value:u(d)};return d=s(d),h}}}function Qj(t,e){const i=f1(t.origin,e.origin);switch(i===null&&lt(275,t.origin.getKey(),e.origin.getKey()),i.type){case"same":{const s=t.type==="text",u=e.type==="text";return s&&u?(function(d,h){return Math.sign(d-h)})(t.offset,e.offset):t.type===e.type?0:s?-1:u?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return jj(i)}}function jj(t){const{a:e,b:i}=t,s=e.__key,u=i.__key;let d=e,h=i;for(;d&&h;d=d.getNextSibling(),h=h.getNextSibling()){if(d.__key===u)return-1;if(h.__key===s)return 1}return d===null?1:-1}function zS(t,e){return e.is(t)}function Wae(t){return ot(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function f1(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const i=new Map;for(let[s,u]=Wae(t);s;u=s,s=s.getParent())i.set(s,u);for(let[s,u]=Wae(e);s;u=s,s=s.getParent()){const d=i.get(s);if(d!==void 0)return d===null?(zS(t,s)||lt(276),{commonAncestor:s,type:"ancestor"}):u===null?(zS(e,s)||lt(277),{commonAncestor:s,type:"descendant"}):((ot(d)||zS(t,d))&&(ot(u)||zS(e,u))&&s.is(d.getParent())&&s.is(u.getParent())||lt(278),{a:d,b:u,commonAncestor:s,type:"branch"})}return null}function Kd(t,e){const{type:i,key:s,offset:u}=t,d=z0e(t.key);return i==="text"?($t(d)||lt(266,d.getType(),s),Xd(d,e,u)):(ot(d)||lt(267,d.getType(),s),X0e(d,t.offset,e))}function yv(t,e){const{origin:i,direction:s}=e,u=s==="next";Ld(e)?t.set(i.getKey(),e.offset,"text"):_p(e)?$t(i)?t.set(i.getKey(),tO(i,s),"text"):t.set(i.getParentOrThrow().getKey(),i.getIndexWithinParent()+(u?1:0),"element"):(ou(e)&&ot(i)||lt(268),t.set(i.getKey(),u?0:i.getChildrenSize(),"element"))}function q0e(t){const e=Hn(),i=qt(e)?e:f0e();return h1(i,t),lo(i),i}function h1(t,e){yv(t.anchor,e.anchor),yv(t.focus,e.focus)}function cz(t){const{anchor:e,focus:i}=t,s=Kd(e,"next"),u=Kd(i,"next"),d=Qj(s,u)<=0?"next":"previous";return Yd(Op(s,d),Op(u,d))}function $A(t){const{direction:e,origin:i}=t,s=Ki(i,Rp(e)).getNodeAtCaret();return s?Ki(s,e):Oc(i.getParentOrThrow(),e)}function Uae(t,e="root"){const i=[t];for(let s=ou(t)?t.getParentCaret(e):t.getSiblingCaret();s!==null;s=s.getParentCaret(e))i.push($A(s));return i}function C3(t){return!!t&&t.origin.isAttached()}function Z0e(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const i="root",s="next";let u=e;const d=Vj(t,s),h=Uae(d.anchor,i),m=Uae(d.focus.getFlipped(),i),y=new Set,_=[];for(const D of d.iterNodeCarets(i))if(ou(D))y.add(D.origin.getKey());else if(_p(D)){const{origin:L}=D;ot(L)&&!y.has(L.getKey())||_.push(L)}for(const D of _)D.remove();for(const D of d.getTextSlices()){if(!D)continue;const{origin:L}=D.caret,z=L.getTextContentSize(),$=$A(Ki(L,s)),Q=L.getMode();if(Math.abs(D.distance)===z&&u==="removeEmptySlices"||Q==="token"&&D.distance!==0)$.remove();else if(D.distance!==0){u="removeEmptySlices";let B=D.removeTextSlice();const q=D.caret.origin;if(Q==="segmented"){const Y=B.origin,G=Li(Y.getTextContent()).setStyle(Y.getStyle()).setFormat(Y.getFormat());$.replaceOrInsert(G),B=Xd(G,s,B.offset)}q.is(h[0].origin)&&(h[0]=B),q.is(m[0].origin)&&(m[0]=B.getFlipped())}}let b,T;for(const D of h)if(C3(D)){b=Zs(D);break}for(const D of m)if(C3(D)){T=Zs(D);break}const C=(function(D,L,z){if(!D||!L)return null;const $=D.getParentAtCaret(),Q=L.getParentAtCaret();if(!$||!Q)return null;const B=$.getParents().reverse();B.push($);const q=Q.getParents().reverse();q.push(Q);const Y=Math.min(B.length,q.length);let G;for(G=0;G<Y&&B[G]===q[G];G++);const H=(te,ae)=>{let oe;for(let fe=G;fe<te.length;fe++){const de=te[fe];if(Cc(de))return;!oe&&ae(de)&&(oe=de)}return oe},V=H(B,cc),F=V&&H(q,(te=>z.has(te.getKey())&&cc(te)));return V&&F?[V,F]:null})(b,T,y);if(C){const[D,L]=C;Oc(D,"previous").splice(0,L.getChildren()),L.remove()}const A=[b,T,...h,...m].find(C3);if(A)return U0e(Op(Zs(A),t.direction));lt(269,JSON.stringify(h.map((D=>D.origin.__key))))}function Zs(t){const e=(function(u){let d=u;for(;ou(d);){const h=NA(d);if(!ou(h))break;d=h}return d})(t.getLatest()),{direction:i}=e;if($t(e.origin))return Ld(e)?e:Xd(e.origin,i,i);const s=e.getAdjacentCaret();return _p(s)&&$t(s.origin)?Xd(s.origin,i,Rp(i)):e}function H0e(t){return Ld(t)&&t.offset!==tO(t.origin,t.direction)}function Op(t,e){return t.direction===e?t:t.getFlipped()}function Vj(t,e){return t.direction===e?t:Yd(Op(t.focus,e),Op(t.anchor,e))}function X0e(t,e,i){let s=Oc(t,"next");for(let u=0;u<e;u++){const d=s.getAdjacentCaret();if(d===null)break;s=d}return Op(s,i)}const $mt=Object.freeze(Object.defineProperty({__proto__:null,$addUpdateTag:L0e,$applyNodeReplacement:eO,$caretFromPoint:Kd,$caretRangeFromSelection:cz,$cloneWithProperties:V0e,$comparePointCaretNext:Qj,$createLineBreakNode:gv,$createNodeSelection:bj,$createParagraphNode:pc,$createPoint:Ks,$createRangeSelection:f0e,$createTabNode:kA,$createTextNode:Li,$extendCaretToRange:zj,$getAdjacentChildCaret:NA,$getAdjacentNode:I0e,$getCaretInDirection:Op,$getCaretRange:Yd,$getCaretRangeInDirection:Vj,$getCharacterOffsets:oz,$getChildCaret:Oc,$getChildCaretAtIndex:X0e,$getChildCaretOrSelf:W0e,$getCollapsedCaretRange:U0e,$getCommonAncestor:f1,$getCommonAncestorResultBranchOrder:jj,$getEditor:Pmt,$getNearestNodeFromDOMNode:RA,$getNearestRootOrShadowRoot:$0e,$getNodeByKey:wi,$getNodeByKeyOrThrow:z0e,$getPreviousSelection:Ip,$getRoot:so,$getSelection:Hn,$getSiblingCaret:Ki,$getTextNodeOffset:tO,$getTextPointCaret:Xd,$getTextPointCaretSlice:uz,$getWritableNodeState:Cve,$hasAncestor:qC,$insertNodes:umt,$isBlockElementNode:smt,$isChildCaret:ou,$isDecoratorNode:vr,$isElementNode:ot,$isExtendableTextPointCaret:H0e,$isLeafNode:Tmt,$isLineBreakNode:np,$isNodeSelection:PA,$isParagraphNode:vmt,$isRangeSelection:qt,$isRootNode:to,$isRootOrShadowRoot:Cc,$isSiblingCaret:_p,$isTabNode:Oj,$isTextNode:$t,$isTextPointCaret:Ld,$isTokenOrSegmented:ic,$isTokenOrTab:Id,$normalizeCaret:Zs,$normalizeSelection__EXPERIMENTAL:$C,$onUpdate:N0e,$parseSerializedNode:fmt,$removeTextFromCaretRange:Z0e,$rewindSiblingCaret:$A,$selectAll:kmt,$setCompositionKey:Ni,$setPointFromCaret:yv,$setSelection:lo,$setSelectionFromCaretRange:q0e,$updateRangeSelectionFromCaretRange:h1,ArtificialNode__DO_NOT_USE:w0e,BLUR_COMMAND:Yve,CAN_REDO_COMMAND:Xpt,CAN_UNDO_COMMAND:Ypt,CLEAR_EDITOR_COMMAND:Zpt,CLEAR_HISTORY_COMMAND:Hpt,CLICK_COMMAND:Ive,COLLABORATION_TAG:_0e,COMMAND_PRIORITY_CRITICAL:Omt,COMMAND_PRIORITY_EDITOR:ymt,COMMAND_PRIORITY_HIGH:_mt,COMMAND_PRIORITY_LOW:xmt,CONTROLLED_TEXT_INSERTION_COMMAND:Yg,COPY_COMMAND:yj,CUT_COMMAND:xj,DELETE_CHARACTER_COMMAND:c_,DELETE_LINE_COMMAND:f_,DELETE_WORD_COMMAND:d_,DRAGEND_COMMAND:Hve,DRAGOVER_COMMAND:Zve,DRAGSTART_COMMAND:qve,DROP_COMMAND:Uve,DecoratorNode:v0e,ElementNode:X_,FOCUS_COMMAND:Xve,FORMAT_ELEMENT_COMMAND:qpt,FORMAT_TEXT_COMMAND:Td,HISTORIC_TAG:hmt,HISTORY_MERGE_TAG:PT,HISTORY_PUSH_TAG:pmt,INDENT_CONTENT_COMMAND:Wpt,INSERT_LINE_BREAK_COMMAND:s1,INSERT_PARAGRAPH_COMMAND:K$,INSERT_TAB_COMMAND:Gpt,INTERNAL_$isBlock:cc,IS_ALL_FORMATTING:vve,IS_HIGHLIGHT:wA,IS_STRIKETHROUGH:a_,IS_UNDERLINE:o_,KEY_ARROW_DOWN_COMMAND:Qve,KEY_ARROW_LEFT_COMMAND:$ve,KEY_ARROW_RIGHT_COMMAND:Lve,KEY_ARROW_UP_COMMAND:Bve,KEY_BACKSPACE_COMMAND:Vve,KEY_DELETE_COMMAND:Gve,KEY_DOWN_COMMAND:Rve,KEY_ENTER_COMMAND:jC,KEY_ESCAPE_COMMAND:Fve,KEY_MODIFIER_COMMAND:Kve,KEY_SPACE_COMMAND:jve,KEY_TAB_COMMAND:Wve,LineBreakNode:Dv,MOVE_TO_END:Nve,MOVE_TO_START:zve,NODE_STATE_KEY:_ve,OUTDENT_CONTENT_COMMAND:Upt,PASTE_COMMAND:mj,PASTE_TAG:mmt,ParagraphNode:Nv,REDO_COMMAND:vj,REMOVE_TEXT_COMMAND:J$,RootNode:Lv,SELECTION_CHANGE_COMMAND:pj,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:Fpt,SELECT_ALL_COMMAND:ez,SKIP_DOM_SELECTION_TAG:b0e,SKIP_SCROLL_INTO_VIEW_TAG:O0e,TEXT_TYPE_TO_FORMAT:Zd,TabNode:Iv,TextNode:Mp,UNDO_COMMAND:gj,createCommand:on,createEditor:bmt,flipDirection:Rp,getDOMOwnerDocument:Ij,getDOMSelection:uu,getDOMSelectionFromTarget:B0e,getDOMTextNode:vp,getEditorPropertyFromDOMNode:K_,getNearestEditorFromDOMNode:Aj,isBlockDomNode:lz,isCurrentlyReadOnlyMode:Rv,isDOMDocumentNode:T0e,isDOMNode:$v,isDOMTextNode:vu,isDOMUnmanaged:G0e,isDocumentFragment:Q0e,isExactShortcutMatch:Kn,isHTMLAnchorElement:Amt,isHTMLElement:Da,isInlineDomNode:j0e,isLexicalEditor:DA,isModifierMatch:D0e,isSelectionCapturedInDecoratorInput:kj,isSelectionWithinEditor:Y_,makeStepwiseIterator:Bj,removeFromParent:Rd,setNodeIndentFromDOM:F0e},Symbol.toStringTag,{value:"Module"})),at=$mt,kc=at.$applyNodeReplacement,zmt=at.$caretFromPoint,Fj=at.$cloneWithProperties,xv=at.$createLineBreakNode,Bmt=at.$createNodeSelection,da=at.$createParagraphNode,Y0e=at.$createRangeSelection,Gj=at.$createTabNode,nO=at.$createTextNode,Qmt=at.$extendCaretToRange,qae=at.$getAdjacentNode,jmt=at.$getCharacterOffsets,Zae=at.$getChildCaret,K0e=at.$getEditor,dz=at.$getNearestNodeFromDOMNode,Vmt=at.$getNodeByKey,Xi=at.$getRoot,Nt=at.$getSelection,Fmt=at.$getSiblingCaret,Gmt=at.$insertNodes,fz=at.$isBlockElementNode,Wmt=at.$isChildCaret,Nd=at.$isDecoratorNode,Tr=at.$isElementNode,Umt=at.$isExtendableTextPointCaret,J0e=at.$isLeafNode,eye=at.$isLineBreakNode,Po=at.$isNodeSelection,zA=at.$isParagraphNode,jt=at.$isRangeSelection,BA=at.$isRootNode,rp=at.$isRootOrShadowRoot,tye=at.$isTabNode,Er=at.$isTextNode,qmt=at.$isTokenOrSegmented,Hae=at.$normalizeCaret,Zmt=at.$normalizeSelection__EXPERIMENTAL,Hmt=at.$parseSerializedNode,Wj=at.$selectAll,Xae=at.$setPointFromCaret,Uj=at.$setSelection,nye=at.ArtificialNode__DO_NOT_USE,BS=at.CAN_REDO_COMMAND,QS=at.CAN_UNDO_COMMAND,Xmt=at.CLEAR_EDITOR_COMMAND,Ymt=at.CLEAR_HISTORY_COMMAND,rye=at.CLICK_COMMAND,Kmt=at.COLLABORATION_TAG,Jmt=at.COMMAND_PRIORITY_CRITICAL,Xt=at.COMMAND_PRIORITY_EDITOR,egt=at.COMMAND_PRIORITY_HIGH,Bx=at.COMMAND_PRIORITY_LOW,iye=at.CONTROLLED_TEXT_INSERTION_COMMAND,qj=at.COPY_COMMAND,aye=at.CUT_COMMAND,ev=at.DELETE_CHARACTER_COMMAND,oye=at.DELETE_LINE_COMMAND,sye=at.DELETE_WORD_COMMAND,tgt=at.DRAGOVER_COMMAND,lye=at.DRAGSTART_COMMAND,uye=at.DROP_COMMAND,ngt=at.DecoratorNode,zv=at.ElementNode,rgt=at.FORMAT_ELEMENT_COMMAND,igt=at.FORMAT_TEXT_COMMAND,ZC=at.HISTORIC_TAG,Zj=at.HISTORY_MERGE_TAG,agt=at.HISTORY_PUSH_TAG,ogt=at.INDENT_CONTENT_COMMAND,HC=at.INSERT_LINE_BREAK_COMMAND,XC=at.INSERT_PARAGRAPH_COMMAND,sgt=at.INSERT_TAB_COMMAND,lgt=at.KEY_ARROW_DOWN_COMMAND,cye=at.KEY_ARROW_LEFT_COMMAND,dye=at.KEY_ARROW_RIGHT_COMMAND,ugt=at.KEY_ARROW_UP_COMMAND,fye=at.KEY_BACKSPACE_COMMAND,hye=at.KEY_DELETE_COMMAND,Hj=at.KEY_ENTER_COMMAND,cgt=at.KEY_ESCAPE_COMMAND,dgt=at.KEY_SPACE_COMMAND,fgt=at.KEY_TAB_COMMAND,Yae=at.OUTDENT_CONTENT_COMMAND,pye=at.PASTE_COMMAND,mye=at.PASTE_TAG,hgt=at.REDO_COMMAND,gye=at.REMOVE_TEXT_COMMAND,pgt=at.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,vye=at.SELECT_ALL_COMMAND,Xj=at.TextNode,mgt=at.UNDO_COMMAND,QA=at.createCommand,ggt=at.createEditor,yye=at.getDOMSelection,vgt=at.isBlockDomNode,ygt=at.isDOMNode,Kae=at.isDocumentFragment,xgt=at.isHTMLAnchorElement,_gt=at.isHTMLElement,hz=at.isInlineDomNode,Ogt=at.isSelectionCapturedInDecoratorInput,bgt=at.isSelectionWithinEditor,xye=at.setNodeIndentFromDOM,pz=new Map;function _ye(t){const e={};if(!t)return e;const i=t.split(";");for(const s of i)if(s!==""){const[u,d]=s.split(/:([^]+)/);u&&d&&(e[u.trim()]=d.trim())}return e}function wgt(t){let e=pz.get(t);return e===void 0&&(e=_ye(t),pz.set(t,e)),e}function Sgt(t,e){const i=t.getStartEndPoints();if(e.isSelected(t)&&!qmt(e)&&i!==null){const[s,u]=i,d=t.isBackward(),h=s.getNode(),m=u.getNode(),y=e.is(h),_=e.is(m);if(y||_){const[b,T]=jmt(t),C=h.is(m),A=e.is(d?m:h),D=e.is(d?h:m);let L,z=0;C?(z=b>T?T:b,L=b>T?b:T):A?(z=d?T:b,L=void 0):D&&(z=0,L=d?b:T),e.__text=e.__text.slice(z,L)}}return e}function Tgt(t){const e=t.getStyle(),i=_ye(e);pz.set(e,i)}function Oye(t){const e=t.anchor.getNode(),i=BA(e)?e:e.getParentOrThrow(),s=K0e().getElementByKey(i.getKey());if(s===null)return!1;const u=s.ownerDocument.defaultView;return u===null?!1:u.getComputedStyle(s).writingMode==="vertical-rl"}function Cgt(t,e){const i=Oye(t)?!e:e,s=zmt(t.focus,i?"previous":"next");if(Umt(s))return!1;for(const u of Qmt(s)){if(Wmt(u))return!u.origin.isInline();if(!Tr(u.origin)){if(Nd(u.origin))return!0;break}}return!1}function bye(t,e,i,s){t.modify(e?"extend":"move",i,s)}function wye(t){const e=t.anchor.getNode();return(BA(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function kgt(t,e,i){const s=wye(t);let u;u=Oye(t)||s?!i:i,bye(t,e,u,"character")}const Agt=Object.freeze(Object.defineProperty({__proto__:null,$addNodeStyle:Tgt,$cloneWithProperties:Fj,$isParentElementRTL:wye,$moveCaretSelection:bye,$moveCharacter:kgt,$selectAll:Wj,$shouldOverrideDefaultCharacterSelection:Cgt,$sliceSelectedTextNodeContent:Sgt,getStyleObjectFromCSS:wgt},Symbol.toStringTag,{value:"Module"})),rO=Agt,Pgt=rO.$addNodeStyle,YC=rO.$moveCharacter,KC=rO.$shouldOverrideDefaultCharacterSelection,Sye=rO.$sliceSelectedTextNodeContent,Jae=rO.getStyleObjectFromCSS;function Egt(t,...e){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const u of e)s.append("v",u);throw i.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Tye=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Mgt=Tye&&"documentMode"in document?document.documentMode:null;!(!Tye||!("InputEvent"in window)||Mgt)&&"getTargetRanges"in new window.InputEvent("input");function Cye(...t){const e=[];for(const i of t)if(i&&typeof i=="string")for(const[s]of i.matchAll(/\S+/g))e.push(s);return e}function Dgt(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function Igt(t,...e){const i=Cye(...e);i.length>0&&t.classList.add(...i)}function Rgt(t,...e){const i=Cye(...e);i.length>0&&t.classList.remove(...i)}function Lgt(t){return t?t.getAdjacentCaret():null}function Ngt(t,e){let i=t;for(;i!=null;){if(i instanceof e)return i;i=i.getParent()}return null}function $gt(t){const e=kye(t,(i=>Tr(i)&&!i.isInline()));return Tr(e)||Egt(4,t.__key),e}const kye=(t,e)=>{let i=t;for(;i!==Xi()&&i!=null;){if(e(i))return i;i=i.getParent()}return null};function zgt(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}const Bgt=Object.freeze(Object.defineProperty({__proto__:null,$findMatchingParent:kye,$getAdjacentCaret:Lgt,$getNearestBlockElementAncestorOrThrow:$gt,$getNearestNodeOfType:Ngt,addClassNamesToElement:Igt,isBlockDomNode:vgt,isHTMLAnchorElement:xgt,isHTMLElement:_gt,isInlineDomNode:hz,mergeRegister:Dgt,objectKlassEquals:zgt,removeClassNamesFromElement:Rgt},Symbol.toStringTag,{value:"Module"})),rl=Bgt,jA=rl.$findMatchingParent,Qgt=rl.$getAdjacentCaret,jgt=rl.$getNearestBlockElementAncestorOrThrow,Vgt=rl.$getNearestNodeOfType,Js=rl.addClassNamesToElement,eoe=rl.isBlockDomNode,Aye=rl.isHTMLAnchorElement,Bv=rl.isHTMLElement,yu=rl.mergeRegister,fc=rl.objectKlassEquals,VA=rl.removeClassNamesFromElement;function Jl(t,...e){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const u of e)s.append("v",u);throw i.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function JC(t){let e=1,i=t.getParent();for(;i!=null;){if(Qn(i)){const s=i.getParent();if(On(s)){e++,i=s.getParent();continue}Jl(40)}return e}return e}function mz(t){let e=t.getParent();On(e)||Jl(40);let i=e;for(;i!==null;)i=i.getParent(),On(i)&&(e=i);return e}function Pye(t){let e=[];const i=t.getChildren().filter(Qn);for(let s=0;s<i.length;s++){const u=i[s],d=u.getFirstChild();On(d)?e=e.concat(Pye(d)):e.push(u)}return e}function eu(t){return Qn(t)&&On(t.getFirstChild())}function toe(t){return uo().append(t)}function Eye(t,e){return Qn(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function gz(t){const e=Nt();if(e!==null){let i=e.getNodes();if(jt(e)){const u=e.getStartEndPoints();u===null&&Jl(143);const[d]=u,h=d.getNode(),m=h.getParent();if(rp(h)){const y=h.getFirstChild();if(y)i=y.selectStart().getNodes();else{const _=da();h.append(_),i=_.select().getNodes()}}else if(Eye(h,i)){const y=Ma(t);if(rp(m)){h.replace(y);const _=uo();Tr(h)&&(_.setFormat(h.getFormatType()),_.setIndent(h.getIndent())),y.append(_)}else if(Qn(h)){const _=h.getParentOrThrow();bp(y,_.getChildren()),_.replace(y)}return}}const s=new Set;for(let u=0;u<i.length;u++){const d=i[u];if(Tr(d)&&d.isEmpty()&&!Qn(d)&&!s.has(d.getKey())){noe(d,t);continue}let h=J0e(d)?d.getParent():Qn(d)&&d.isEmpty()?d:null;for(;h!=null;){const m=h.getKey();if(On(h)){if(!s.has(m)){const y=Ma(t);bp(y,h.getChildren()),h.replace(y),s.add(m)}break}{const y=h.getParent();if(rp(y)&&!s.has(m)){s.add(m),noe(h,t);break}h=y}}}}}function bp(t,e){t.splice(t.getChildrenSize(),0,e)}function noe(t,e){if(On(t))return t;const i=t.getPreviousSibling(),s=t.getNextSibling(),u=uo();let d;if(bp(u,t.getChildren()),On(i)&&e===i.getListType())i.append(u),On(s)&&e===s.getListType()&&(bp(i,s.getChildren()),s.remove()),d=i;else if(On(s)&&e===s.getListType())s.getFirstChildOrThrow().insertBefore(u),d=s;else{const h=Ma(e);h.append(u),t.replace(h),d=h}return u.setFormat(t.getFormatType()),u.setIndent(t.getIndent()),t.remove(),d}function Yj(t,e){const i=t.getLastChild(),s=e.getFirstChild();i&&s&&eu(i)&&eu(s)&&(Yj(i.getFirstChild(),s.getFirstChild()),s.remove());const u=e.getChildren();u.length>0&&t.append(...u),e.remove()}function Mye(){const t=Nt();if(jt(t)){const e=new Set,i=t.getNodes(),s=t.anchor.getNode();if(Eye(s,i))e.add(mz(s));else for(let u=0;u<i.length;u++){const d=i[u];if(J0e(d)){const h=Vgt(d,iO);h!=null&&e.add(mz(h))}}for(const u of e){let d=u;const h=Pye(u);for(const m of h){const y=da().setTextStyle(t.style).setTextFormat(t.format);bp(y,m.getChildren()),d.insertAfter(y),d=y,m.__key===t.anchor.key&&Xae(t.anchor,Hae(Zae(y,"next"))),m.__key===t.focus.key&&Xae(t.focus,Hae(Zae(y,"next"))),m.remove()}u.remove()}}}function Fgt(t){const e=new Set;if(eu(t)||e.has(t.getKey()))return;const i=t.getParent(),s=t.getNextSibling(),u=t.getPreviousSibling();if(eu(s)&&eu(u)){const d=u.getFirstChild();if(On(d)){d.append(t);const h=s.getFirstChild();On(h)&&(bp(d,h.getChildren()),s.remove(),e.add(s.getKey()))}}else if(eu(s)){const d=s.getFirstChild();if(On(d)){const h=d.getFirstChild();h!==null&&h.insertBefore(t)}}else if(eu(u)){const d=u.getFirstChild();On(d)&&d.append(t)}else if(On(i)){const d=uo().setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle()),h=Ma(i.getListType()).setTextFormat(i.getTextFormat()).setTextStyle(i.getTextStyle());d.append(h),h.append(t),u?u.insertAfter(d):s?s.insertBefore(d):i.append(d)}}function Ggt(t){if(eu(t))return;const e=t.getParent(),i=e?e.getParent():void 0;if(On(i?i.getParent():void 0)&&Qn(i)&&On(e)){const s=e?e.getFirstChild():void 0,u=e?e.getLastChild():void 0;if(t.is(s))i.insertBefore(t),e.isEmpty()&&i.remove();else if(t.is(u))i.insertAfter(t),e.isEmpty()&&i.remove();else{const d=e.getListType(),h=uo(),m=Ma(d);h.append(m),t.getPreviousSiblings().forEach((b=>m.append(b)));const y=uo(),_=Ma(d);y.append(_),bp(_,t.getNextSiblings()),i.insertBefore(h),i.insertAfter(y),i.replace(t)}}}function Dye(){const t=Nt();if(!jt(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!Qn(e)||e.getChildrenSize()!==0)return!1;const i=mz(e),s=e.getParent();On(s)||Jl(40);const u=s.getParent();let d;if(rp(u))d=da(),i.insertAfter(d);else{if(!Qn(u))return!1;d=uo(),u.insertAfter(d)}d.setTextStyle(t.style).setTextFormat(t.format).select();const h=e.getNextSiblings();if(h.length>0){const m=Ma(s.getListType());if(Qn(d)){const y=uo();y.append(m),d.insertAfter(y)}else d.insertAfter(m);m.append(...h)}return(function(m){let y=m;for(;y.getNextSibling()==null&&y.getPreviousSibling()==null;){const _=y.getParent();if(_==null||!Qn(_)&&!On(_))break;y=_}y.remove()})(e),!0}function ek(...t){const e=[];for(const i of t)if(i&&typeof i=="string")for(const[s]of i.matchAll(/\S+/g))e.push(s);return e}let iO=class Iye extends zv{static getType(){return"listitem"}static clone(e){return new Iye(e.__value,e.__checked,e.__key)}constructor(e,i,s){super(s),this.__value=e===void 0?1:e,this.__checked=i}createDOM(e){const i=document.createElement("li");return this.updateListItemDOM(null,i,e),i}updateListItemDOM(e,i,s){const u=this.getParent();On(u)&&u.getListType()==="check"&&(function(m,y,_,b){On(y.getFirstChild())?(m.removeAttribute("role"),m.removeAttribute("tabIndex"),m.removeAttribute("aria-checked")):(m.setAttribute("role","checkbox"),m.setAttribute("tabIndex","-1"),_&&y.__checked===_.__checked||m.setAttribute("aria-checked",y.getChecked()?"true":"false"))})(i,this,e),i.value=this.__value,(function(m,y,_){const b=[],T=[],C=y.list,A=C?C.listitem:void 0;let D;if(C&&C.nested&&(D=C.nested.listitem),A!==void 0&&b.push(...ek(A)),C){const L=_.getParent(),z=On(L)&&L.getListType()==="check",$=_.getChecked();z&&!$||T.push(C.listitemUnchecked),z&&$||T.push(C.listitemChecked),z&&b.push($?C.listitemChecked:C.listitemUnchecked)}if(D!==void 0){const L=ek(D);_.getChildren().some((z=>On(z)))?b.push(...L):T.push(...L)}T.length>0&&VA(m,...T),b.length>0&&Js(m,...b)})(i,s.theme,this);const d=e?e.__style:"",h=this.__style;d!==h&&(h===""?i.removeAttribute("style"):i.style.cssText=h),(function(m,y,_){const b=Jae(y.__textStyle);for(const T in b)m.style.setProperty(`--listitem-marker-${T}`,b[T]);if(_)for(const T in Jae(_.__textStyle))T in b||m.style.removeProperty(`--listitem-marker-${T}`)})(i,this,e)}updateDOM(e,i,s){const u=i;return this.updateListItemDOM(e,u,s),!1}static transform(){return e=>{if(Qn(e)||Jl(144),e.__checked==null)return;const i=e.getParent();On(i)&&i.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:Wgt,priority:0})}}static importJSON(e){return uo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const i=this.createDOM(e._config),s=this.getFormatType();s&&(i.style.textAlign=s);const u=this.getDirection();return u&&(i.dir=u),{element:i}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let i=0;i<e.length;i++){const s=e[i];if(Tr(s)&&this.canMergeWith(s)){const u=s.getChildren();this.append(...u),s.remove()}else super.append(s)}return this}replace(e,i){if(Qn(e))return super.replace(e);this.setIndent(0);const s=this.getParentOrThrow();if(!On(s))return e;if(s.__first===this.getKey())s.insertBefore(e);else if(s.__last===this.getKey())s.insertAfter(e);else{const u=Ma(s.getListType());let d=this.getNextSibling();for(;d;){const h=d;d=d.getNextSibling(),u.append(h)}s.insertAfter(e),e.insertAfter(u)}return i&&(Tr(e)||Jl(139),this.getChildren().forEach((u=>{e.append(u)}))),this.remove(),s.getChildrenSize()===0&&s.remove(),e}insertAfter(e,i=!0){const s=this.getParentOrThrow();if(On(s)||Jl(39),Qn(e))return super.insertAfter(e,i);const u=this.getNextSiblings();if(s.insertAfter(e,i),u.length!==0){const d=Ma(s.getListType());u.forEach((h=>d.append(h))),e.insertAfter(d,i)}return e}remove(e){const i=this.getPreviousSibling(),s=this.getNextSibling();super.remove(e),i&&s&&eu(i)&&eu(s)&&(Yj(i.getFirstChild(),s.getFirstChild()),s.remove())}insertNewAfter(e,i=!0){const s=uo().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(s,i),s}collapseAtStart(e){const i=da();this.getChildren().forEach((h=>i.append(h)));const s=this.getParentOrThrow(),u=s.getParentOrThrow(),d=Qn(u);if(s.getChildrenSize()===1)if(d)s.remove(),u.select();else{s.insertBefore(i),s.remove();const h=e.anchor,m=e.focus,y=i.getKey();h.type==="element"&&h.getNode().is(this)&&h.set(y,h.offset,"element"),m.type==="element"&&m.getNode().is(this)&&m.set(y,m.offset,"element")}else s.insertBefore(i),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const i=this.getWritable();return i.__value=e,i}getChecked(){const e=this.getLatest();let i;const s=this.getParent();return On(s)&&(i=s.getListType()),i==="check"?!!e.__checked:void 0}setChecked(e){const i=this.getWritable();return i.__checked=e,i}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let i=e.getParentOrThrow(),s=0;for(;Qn(i);)i=i.getParentOrThrow().getParentOrThrow(),s++;return s}setIndent(e){typeof e!="number"&&Jl(117),(e=Math.floor(e))>=0||Jl(199);let i=this.getIndent();for(;i!==e;)i<e?(Fgt(this),i++):(Ggt(this),i--);return this}canInsertAfter(e){return Qn(e)}canReplaceWith(e){return Qn(e)}canMergeWith(e){return Qn(e)||zA(e)}extractWithChild(e,i){if(!jt(i))return!1;const s=i.anchor.getNode(),u=i.focus.getNode();return this.isParentOf(s)&&this.isParentOf(u)&&this.getTextContent().length===i.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ma("bullet")}canMergeWhenEmpty(){return!0}};function Wgt(t){if(t.classList.contains("task-list-item")){for(const i of t.children)if(i.tagName==="INPUT")return Ugt(i)}const e=t.getAttribute("aria-checked");return{node:uo(e==="true"||e!=="false"&&void 0)}}function Ugt(t){return t.getAttribute("type")!=="checkbox"?{node:null}:{node:uo(t.hasAttribute("checked"))}}function uo(t){return kc(new iO(void 0,t))}function Qn(t){return t instanceof iO}let FA=class Rye extends zv{static getType(){return"list"}static clone(e){const i=e.__listType||aoe[e.__tag];return new Rye(i,e.__start,e.__key)}constructor(e="number",i=1,s){super(s);const u=aoe[e]||e;this.__listType=u,this.__tag=u==="number"?"ol":"ul",this.__start=i}getTag(){return this.__tag}setListType(e){const i=this.getWritable();return i.__listType=e,i.__tag=e==="number"?"ol":"ul",i}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){const i=this.getWritable();return i.__start=e,i}createDOM(e,i){const s=this.__tag,u=document.createElement(s);return this.__start!==1&&u.setAttribute("start",String(this.__start)),u.__lexicalListType=this.__listType,roe(u,e.theme,this),u}updateDOM(e,i,s){return e.__tag!==this.__tag||(roe(i,s.theme,this),!1)}static transform(){return e=>{On(e)||Jl(163),(function(i){const s=i.getNextSibling();On(s)&&i.getListType()===s.getListType()&&Yj(i,s)})(e),(function(i){const s=i.getListType()!=="check";let u=i.getStart();for(const d of i.getChildren())Qn(d)&&(d.getValue()!==u&&d.setValue(u),s&&d.getLatest().__checked!=null&&d.setChecked(void 0),On(d.getFirstChild())||u++)})(e)}}static importDOM(){return{ol:()=>({conversion:ioe,priority:0}),ul:()=>({conversion:ioe,priority:0})}}static importJSON(e){return Ma().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const i=this.createDOM(e._config,e);return Bv(i)&&(this.__start!==1&&i.setAttribute("start",String(this.__start)),this.__listType==="check"&&i.setAttribute("__lexicalListType","check")),{element:i}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,i,s){let u=s;for(let d=0;d<s.length;d++){const h=s[d];Qn(h)||(u===s&&(u=[...s]),u[d]=uo().append(!Tr(h)||On(h)||h.isInline()?h:nO(h.getTextContent())))}return super.splice(e,i,u)}extractWithChild(e){return Qn(e)}};function roe(t,e,i){const s=[],u=[],d=e.list;if(d!==void 0){const h=d[`${i.__tag}Depth`]||[],m=JC(i)-1,y=m%h.length,_=h[y],b=d[i.__tag];let T;const C=d.nested,A=d.checklist;if(C!==void 0&&C.list&&(T=C.list),b!==void 0&&s.push(b),A!==void 0&&i.__listType==="check"&&s.push(A),_!==void 0){s.push(...ek(_));for(let D=0;D<h.length;D++)D!==y&&u.push(i.__tag+D)}if(T!==void 0){const D=ek(T);m>1?s.push(...D):u.push(...D)}}u.length>0&&VA(t,...u),s.length>0&&Js(t,...s)}function qgt(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];if(Qn(s)){e.push(s);const u=s.getChildren();u.length>1&&u.forEach((d=>{On(d)&&e.push(toe(d))}))}else e.push(toe(s))}return e}function ioe(t){const e=t.nodeName.toLowerCase();let i=null;return e==="ol"?i=Ma("number",t.start):e==="ul"&&(i=(function(s){if(s.getAttribute("__lexicallisttype")==="check"||s.classList.contains("contains-task-list"))return!0;for(const u of s.childNodes)if(Bv(u)&&u.hasAttribute("aria-checked"))return!0;return!1})(t)?Ma("check"):Ma("bullet")),{after:qgt,node:i}}const aoe={ol:"number",ul:"bullet"};function Ma(t="number",e=1){return kc(new FA(t,e))}function On(t){return t instanceof FA}const Lye=QA("INSERT_UNORDERED_LIST_COMMAND"),Nye=QA("INSERT_ORDERED_LIST_COMMAND"),$ye=QA("REMOVE_LIST_COMMAND");function Zgt(t){return yu(t.registerCommand(Nye,(()=>(gz("number"),!0)),Bx),t.registerCommand(Lye,(()=>(gz("bullet"),!0)),Bx),t.registerCommand($ye,(()=>(Mye(),!0)),Bx),t.registerCommand(XC,(()=>Dye()),Bx),t.registerNodeTransform(iO,(e=>{const i=e.getFirstChild();if(i){if(Er(i)){const s=i.getStyle(),u=i.getFormat();e.getTextStyle()!==s&&e.setTextStyle(s),e.getTextFormat()!==u&&e.setTextFormat(u)}}else{const s=Nt();jt(s)&&(s.style!==e.getTextStyle()||s.format!==e.getTextFormat())&&s.isCollapsed()&&e.is(s.anchor.getNode())&&e.setTextStyle(s.style).setTextFormat(s.format)}})),t.registerNodeTransform(Xj,(e=>{const i=e.getParent();if(Qn(i)&&e.is(i.getFirstChild())){const s=e.getStyle(),u=e.getFormat();s===i.getTextStyle()&&u===i.getTextFormat()||i.setTextStyle(s).setTextFormat(u)}})))}function Hgt(t){const e=i=>{const s=i.getParent();if(On(i.getFirstChild())||!On(s))return;const u=jA(i,(d=>Qn(d)&&On(d.getParent())&&Qn(d.getPreviousSibling())));if(u===null&&i.getIndent()>0)i.setIndent(0);else if(Qn(u)){const d=u.getPreviousSibling();if(Qn(d)){const h=(function(y){let _=y,b=_.getFirstChild();for(;On(b);){const T=b.getLastChild();if(!Qn(T))break;_=T,b=_.getFirstChild()}return _})(d),m=h.getParent();if(On(m)){const y=JC(m);y+1<JC(s)&&i.setIndent(y)}}}};return t.registerNodeTransform(FA,(i=>{const s=[i];for(;s.length>0;){const u=s.shift();if(On(u)){for(const d of u.getChildren())if(Qn(d)){e(d);const h=d.getFirstChild();On(h)&&s.push(h)}}}}))}const Xgt=Object.freeze(Object.defineProperty({__proto__:null,$createListItemNode:uo,$createListNode:Ma,$getListDepth:JC,$handleListInsertParagraph:Dye,$insertList:gz,$isListItemNode:Qn,$isListNode:On,$removeList:Mye,INSERT_ORDERED_LIST_COMMAND:Nye,INSERT_UNORDERED_LIST_COMMAND:Lye,ListItemNode:iO,ListNode:FA,REMOVE_LIST_COMMAND:$ye,registerList:Zgt,registerListStrictIndentTransform:Hgt},Symbol.toStringTag,{value:"Module"})),af=Xgt,Ygt=af.$createListItemNode,Kgt=af.$createListNode,zye=af.$isListItemNode,wp=af.$isListNode,GA=af.ListItemNode,WA=af.ListNode,Jgt=af.registerList,evt=af.registerListStrictIndentTransform;function tvt(t,e){const i=e.body?e.body.childNodes:[];let s=[];const u=[];for(let d=0;d<i.length;d++){const h=i[d];if(!Qye.has(h.nodeName)){const m=jye(h,t,u,!1);m!==null&&(s=s.concat(m))}}return(function(d){for(const h of d)h.getNextSibling()instanceof nye&&h.insertAfter(xv());for(const h of d){const m=h.getChildren();for(const y of m)h.insertBefore(y);h.remove()}})(u),s}function nvt(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const i=document.createElement("div"),s=Xi().getChildren();for(let u=0;u<s.length;u++)Bye(t,s[u],i,e);return i.innerHTML}function Bye(t,e,i,s=null){let u=s===null||e.isSelected(s);const d=Tr(e)&&e.excludeFromCopy("html");let h=e;if(s!==null){let A=Fj(e);A=Er(A)&&s!==null?Sye(s,A):A,h=A}const m=Tr(h)?h.getChildren():[],y=t._nodes.get(h.getType());let _;_=y&&y.exportDOM!==void 0?y.exportDOM(t,h):h.exportDOM(t);const{element:b,after:T}=_;if(!b)return!1;const C=document.createDocumentFragment();for(let A=0;A<m.length;A++){const D=m[A],L=Bye(t,D,C,s);!u&&Tr(e)&&L&&e.extractWithChild(D,s,"html")&&(u=!0)}if(u&&!d){if((Bv(b)||Kae(b))&&b.append(C),i.append(b),T){const A=T.call(h,b);A&&(Kae(b)?b.replaceChildren(A):b.replaceWith(A))}}else i.append(C);return u}const Qye=new Set(["STYLE","SCRIPT"]);function jye(t,e,i,s,u=new Map,d){let h=[];if(Qye.has(t.nodeName))return h;let m=null;const y=(function(D,L){const{nodeName:z}=D,$=L._htmlConversions.get(z.toLowerCase());let Q=null;if($!==void 0)for(const B of $){const q=B(D);q!==null&&(Q===null||(Q.priority||0)<=(q.priority||0))&&(Q=q)}return Q!==null?Q.conversion:null})(t,e),_=y?y(t):null;let b=null;if(_!==null){b=_.after;const D=_.node;if(m=Array.isArray(D)?D[D.length-1]:D,m!==null){for(const[,L]of u)if(m=L(m,d),!m)break;m&&h.push(...Array.isArray(D)?D:[m])}_.forChild!=null&&u.set(t.nodeName,_.forChild)}const T=t.childNodes;let C=[];const A=(m==null||!rp(m))&&(m!=null&&fz(m)||s);for(let D=0;D<T.length;D++)C.push(...jye(T[D],e,i,A,new Map(u),m));return b!=null&&(C=b(C)),eoe(t)&&(C=rvt(t,C,A?()=>{const D=new nye;return i.push(D),D}:da)),m==null?C.length>0?h=h.concat(C):eoe(t)&&(function(D){return D.nextSibling==null||D.previousSibling==null?!1:hz(D.nextSibling)&&hz(D.previousSibling)})(t)&&(h=h.concat(xv())):Tr(m)&&m.append(...C),h}function rvt(t,e,i){const s=t.style.textAlign,u=[];let d=[];for(let h=0;h<e.length;h++){const m=e[h];if(fz(m))s&&!m.getFormat()&&m.setFormat(s),u.push(m);else if(d.push(m),h===e.length-1||h<e.length-1&&fz(e[h+1])){const y=i();y.setFormat(s),y.append(...d),u.push(y),d=[]}}return u}const ivt=Object.freeze(Object.defineProperty({__proto__:null,$generateHtmlFromNodes:nvt,$generateNodesFromDOM:tvt},Symbol.toStringTag,{value:"Module"})),Vye=ivt,avt=Vye.$generateHtmlFromNodes,ovt=Vye.$generateNodesFromDOM;function tk(t,...e){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const u of e)s.append("v",u);throw i.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Fye(t,e=Nt()){return e==null&&tk(166),jt(e)&&e.isCollapsed()||e.getNodes().length===0?"":avt(t,e)}function Gye(t,e=Nt()){return e==null&&tk(166),jt(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Uye(t,e))}function svt(t,e){const i=t.getData("text/plain")||t.getData("text/uri-list");i!=null&&e.insertRawText(i)}function lvt(t,e,i){const s=t.getData("application/x-lexical-editor");if(s)try{const m=JSON.parse(s);if(m.namespace===i._config.namespace&&Array.isArray(m.nodes))return vz(i,qye(m.nodes),e)}catch{}const u=t.getData("text/html"),d=t.getData("text/plain");if(u&&d!==u)try{const m=new DOMParser().parseFromString((function(y){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:_=>_}).createHTML(y):y})(u),"text/html");return vz(i,ovt(i,m),e)}catch{}const h=d||t.getData("text/uri-list");if(h!=null)if(jt(e)){const m=h.split(/(\r?\n|\t)/);m[m.length-1]===""&&m.pop();for(let y=0;y<m.length;y++){const _=Nt();if(jt(_)){const b=m[y];b===`
`||b===`\r
`?_.insertParagraph():b==="	"?_.insertNodes([Gj()]):_.insertText(b)}}}else e.insertRawText(h)}function vz(t,e,i){t.dispatchCommand(pgt,{nodes:e,selection:i})||i.insertNodes(e)}function Wye(t,e,i,s=[]){let u=e===null||i.isSelected(e);const d=Tr(i)&&i.excludeFromCopy("html");let h=i;if(e!==null){let _=Fj(i);_=Er(_)&&e!==null?Sye(e,_):_,h=_}const m=Tr(h)?h.getChildren():[],y=(function(_){const b=_.exportJSON(),T=_.constructor;if(b.type!==T.getType()&&tk(58,T.name),Tr(_)){const C=b.children;Array.isArray(C)||tk(59,T.name)}return b})(h);if(Er(h)){const _=h.__text;_.length>0?y.text=_:u=!1}for(let _=0;_<m.length;_++){const b=m[_],T=Wye(t,e,b,y.children);!u&&Tr(i)&&T&&i.extractWithChild(b,e,"clone")&&(u=!0)}if(u&&!d)s.push(y);else if(Array.isArray(y.children))for(let _=0;_<y.children.length;_++){const b=y.children[_];s.push(b)}return u}function Uye(t,e){const i=[],s=Xi().getChildren();for(let u=0;u<s.length;u++)Wye(t,e,s[u],i);return{namespace:t._config.namespace,nodes:i}}function qye(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i],u=Hmt(s);Er(u)&&Pgt(u),e.push(u)}return e}let gg=null;async function uvt(t,e,i){if(gg!==null)return!1;if(e!==null)return new Promise(((_,b)=>{t.update((()=>{_(ooe(t,e,i))}))}));const s=t.getRootElement(),u=t._window||window,d=window.document,h=yye(u);if(s===null||h===null)return!1;const m=d.createElement("span");m.style.cssText="position: fixed; top: -1000px;",m.append(d.createTextNode("#")),s.append(m);const y=new Range;return y.setStart(m,0),y.setEnd(m,1),h.removeAllRanges(),h.addRange(y),new Promise(((_,b)=>{const T=t.registerCommand(qj,(C=>(fc(C,ClipboardEvent)&&(T(),gg!==null&&(window.clearTimeout(gg),gg=null),_(ooe(t,C,i))),!0)),Jmt);gg=window.setTimeout((()=>{T(),gg=null,_(!1)}),50),d.execCommand("copy"),m.remove()}))}function ooe(t,e,i){if(i===void 0){const u=yye(t._window);if(!u)return!1;const d=u.anchorNode,h=u.focusNode;if(d!==null&&h!==null&&!bgt(t,d,h))return!1;const m=Nt();if(m===null)return!1;i=Zye(m)}e.preventDefault();const s=e.clipboardData;return s!==null&&(Hye(s,i),!0)}const cvt=[["text/html",Fye],["application/x-lexical-editor",Gye]];function Zye(t=Nt()){const e={"text/plain":t?t.getTextContent():""};if(t){const i=K0e();for(const[s,u]of cvt){const d=u(i,t);d!==null&&(e[s]=d)}}return e}function Hye(t,e){for(const i in e){const s=e[i];s!==void 0&&t.setData(i,s)}}const dvt=Object.freeze(Object.defineProperty({__proto__:null,$generateJSONFromSelectedNodes:Uye,$generateNodesFromSerializedNodes:qye,$getClipboardDataFromSelection:Zye,$getHtmlContent:Fye,$getLexicalContent:Gye,$insertDataTransferForPlainText:svt,$insertDataTransferForRichText:lvt,$insertGeneratedNodes:vz,copyToClipboard:uvt,setLexicalClipboardDataTransfer:Hye},Symbol.toStringTag,{value:"Module"})),UA=dvt,fvt=UA.$getHtmlContent,soe=UA.$insertDataTransferForPlainText,loe=UA.$insertDataTransferForRichText,uoe=UA.copyToClipboard;function coe(t,e){if(document.caretRangeFromPoint!==void 0){const i=document.caretRangeFromPoint(t,e);return i===null?null:{node:i.startContainer,offset:i.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const i=document.caretPositionFromPoint(t,e);return i===null?null:{node:i.offsetNode,offset:i.offset}}return null}const Qv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,hvt=Qv&&"documentMode"in document?document.documentMode:null,pvt=!(!Qv||!("InputEvent"in window)||hvt)&&"getTargetRanges"in new window.InputEvent("input"),mvt=Qv&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),doe=Qv&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gvt=Qv&&/^(?=.*Chrome).*/i.test(navigator.userAgent),vvt=Qv&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!gvt,yz=QA("DRAG_DROP_PASTE_FILE");class aO extends zv{static getType(){return"quote"}static clone(e){return new aO(e.__key)}createDOM(e){const i=document.createElement("blockquote");return Js(i,e.theme.quote),i}updateDOM(e,i){return!1}static importDOM(){return{blockquote:e=>({conversion:xvt,priority:0})}}exportDOM(e){const{element:i}=super.exportDOM(e);if(Bv(i)){this.isEmpty()&&i.append(document.createElement("br"));const s=this.getFormatType();s&&(i.style.textAlign=s);const u=this.getDirection();u&&(i.dir=u)}return{element:i}}static importJSON(e){return Kj().updateFromJSON(e)}insertNewAfter(e,i){const s=da(),u=this.getDirection();return s.setDirection(u),this.insertAfter(s,i),s}collapseAtStart(){const e=da();return this.getChildren().forEach((i=>e.append(i))),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Kj(){return kc(new aO)}function yvt(t){return t instanceof aO}let Jj=class Xye extends zv{static getType(){return"heading"}static clone(e){return new Xye(e.__tag,e.__key)}constructor(e,i){super(i),this.__tag=e}getTag(){return this.__tag}setTag(e){const i=this.getWritable();return this.__tag=e,i}createDOM(e){const i=this.__tag,s=document.createElement(i),u=e.theme.heading;if(u!==void 0){const d=u[i];Js(s,d)}return s}updateDOM(e,i,s){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:vg,priority:0}),h2:e=>({conversion:vg,priority:0}),h3:e=>({conversion:vg,priority:0}),h4:e=>({conversion:vg,priority:0}),h5:e=>({conversion:vg,priority:0}),h6:e=>({conversion:vg,priority:0}),p:e=>{const i=e.firstChild;return i!==null&&foe(i)?{conversion:()=>({node:null}),priority:3}:null},span:e=>foe(e)?{conversion:i=>({node:$g("h1")}),priority:3}:null}}exportDOM(e){const{element:i}=super.exportDOM(e);if(Bv(i)){this.isEmpty()&&i.append(document.createElement("br"));const s=this.getFormatType();s&&(i.style.textAlign=s);const u=this.getDirection();u&&(i.dir=u)}return{element:i}}static importJSON(e){return $g(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,i=!0){const s=e?e.anchor.offset:0,u=this.getLastDescendant(),d=!u||e&&e.anchor.key===u.getKey()&&s===u.getTextContentSize()||!e?da():$g(this.getTag()),h=this.getDirection();if(d.setDirection(h),this.insertAfter(d,i),s===0&&!this.isEmpty()&&e){const m=da();m.select(),this.replace(m,!0)}return d}collapseAtStart(){const e=this.isEmpty()?da():$g(this.getTag());return this.getChildren().forEach((i=>e.append(i))),this.replace(e),!0}extractWithChild(){return!0}};function foe(t){return t.nodeName.toLowerCase()==="span"&&t.style.fontSize==="26pt"}function vg(t){const e=t.nodeName.toLowerCase();let i=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(i=$g(e),t.style!==null&&(xye(t,i),i.setFormat(t.style.textAlign))),{node:i}}function xvt(t){const e=Kj();return t.style!==null&&(e.setFormat(t.style.textAlign),xye(t,e)),{node:e}}function $g(t="h1"){return kc(new Jj(t))}function _vt(t){return t instanceof Jj}function Qx(t){let e=null;if(fc(t,DragEvent)?e=t.dataTransfer:fc(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const i=e.types,s=i.includes("Files"),u=i.includes("text/html")||i.includes("text/plain");return[s,Array.from(e.files),u]}function hoe(t){const e=Nt();if(!jt(e))return!1;const i=new Set,s=e.getNodes();for(let u=0;u<s.length;u++){const d=s[u],h=d.getKey();if(i.has(h))continue;const m=jA(d,(_=>Tr(_)&&!_.isInline()));if(m===null)continue;const y=m.getKey();m.canIndent()&&!i.has(y)&&(i.add(y),t(m))}return i.size>0}function poe(t){const e=dz(t);return Nd(e)}function k3(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function Ovt(t){return yu(t.registerCommand(rye,(e=>{const i=Nt();return!!Po(i)&&(i.clear(),!0)}),Xt),t.registerCommand(ev,(e=>{const i=Nt();return jt(i)?(i.deleteCharacter(e),!0):!!Po(i)&&(i.deleteNodes(),!0)}),Xt),t.registerCommand(sye,(e=>{const i=Nt();return!!jt(i)&&(i.deleteWord(e),!0)}),Xt),t.registerCommand(oye,(e=>{const i=Nt();return!!jt(i)&&(i.deleteLine(e),!0)}),Xt),t.registerCommand(iye,(e=>{const i=Nt();if(typeof e=="string")i!==null&&i.insertText(e);else{if(i===null)return!1;const s=e.dataTransfer;if(s!=null)loe(s,i,t);else if(jt(i)){const u=e.data;return u&&i.insertText(u),!0}}return!0}),Xt),t.registerCommand(gye,(()=>{const e=Nt();return!!jt(e)&&(e.removeText(),!0)}),Xt),t.registerCommand(igt,(e=>{const i=Nt();return!!jt(i)&&(i.formatText(e),!0)}),Xt),t.registerCommand(rgt,(e=>{const i=Nt();if(!jt(i)&&!Po(i))return!1;const s=i.getNodes();for(const u of s){const d=jA(u,(h=>Tr(h)&&!h.isInline()));d!==null&&d.setFormat(e)}return!0}),Xt),t.registerCommand(HC,(e=>{const i=Nt();return!!jt(i)&&(i.insertLineBreak(e),!0)}),Xt),t.registerCommand(XC,(()=>{const e=Nt();return!!jt(e)&&(e.insertParagraph(),!0)}),Xt),t.registerCommand(sgt,(()=>(Gmt([Gj()]),!0)),Xt),t.registerCommand(ogt,(()=>hoe((e=>{const i=e.getIndent();e.setIndent(i+1)}))),Xt),t.registerCommand(Yae,(()=>hoe((e=>{const i=e.getIndent();i>0&&e.setIndent(Math.max(0,i-1))}))),Xt),t.registerCommand(ugt,(e=>{const i=Nt();if(Po(i)){const s=i.getNodes();if(s.length>0)return s[0].selectPrevious(),!0}else if(jt(i)){const s=qae(i.focus,!0);if(!e.shiftKey&&Nd(s)&&!s.isIsolated()&&!s.isInline())return s.selectPrevious(),e.preventDefault(),!0}return!1}),Xt),t.registerCommand(lgt,(e=>{const i=Nt();if(Po(i)){const s=i.getNodes();if(s.length>0)return s[0].selectNext(0,0),!0}else if(jt(i)){if((function(u){const d=u.focus;return d.key==="root"&&d.offset===Xi().getChildrenSize()})(i))return e.preventDefault(),!0;const s=qae(i.focus,!1);if(!e.shiftKey&&Nd(s)&&!s.isIsolated()&&!s.isInline())return s.selectNext(),e.preventDefault(),!0}return!1}),Xt),t.registerCommand(cye,(e=>{const i=Nt();if(Po(i)){const s=i.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectPrevious(),!0}if(!jt(i))return!1;if(KC(i,!0)){const s=e.shiftKey;return e.preventDefault(),YC(i,s,!0),!0}return!1}),Xt),t.registerCommand(dye,(e=>{const i=Nt();if(Po(i)){const u=i.getNodes();if(u.length>0)return e.preventDefault(),u[0].selectNext(0,0),!0}if(!jt(i))return!1;const s=e.shiftKey;return!!KC(i,!1)&&(e.preventDefault(),YC(i,s,!1),!0)}),Xt),t.registerCommand(fye,(e=>{if(poe(e.target))return!1;const i=Nt();if(jt(i)){if((function(s){if(!s.isCollapsed())return!1;const{anchor:u}=s;if(u.offset!==0)return!1;const d=u.getNode();if(BA(d))return!1;const h=jgt(d);return h.getIndent()>0&&(h.is(d)||d.is(h.getFirstDescendant()))})(i))return e.preventDefault(),t.dispatchCommand(Yae,void 0);if(doe&&navigator.language==="ko-KR")return!1}else if(!Po(i))return!1;return e.preventDefault(),t.dispatchCommand(ev,!0)}),Xt),t.registerCommand(hye,(e=>{if(poe(e.target))return!1;const i=Nt();return!(!jt(i)&&!Po(i))&&(e.preventDefault(),t.dispatchCommand(ev,!1))}),Xt),t.registerCommand(Hj,(e=>{const i=Nt();if(!jt(i))return!1;if(k3(i),e!==null){if((doe||mvt||vvt)&&pvt)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(HC,!1)}return t.dispatchCommand(XC,void 0)}),Xt),t.registerCommand(cgt,(()=>{const e=Nt();return!!jt(e)&&(t.blur(),!0)}),Xt),t.registerCommand(uye,(e=>{const[,i]=Qx(e);if(i.length>0){const u=coe(e.clientX,e.clientY);if(u!==null){const{offset:d,node:h}=u,m=dz(h);if(m!==null){const y=Y0e();if(Er(m))y.anchor.set(m.getKey(),d,"text"),y.focus.set(m.getKey(),d,"text");else{const b=m.getParentOrThrow().getKey(),T=m.getIndexWithinParent()+1;y.anchor.set(b,T,"element"),y.focus.set(b,T,"element")}const _=Zmt(y);Uj(_)}t.dispatchCommand(yz,i)}return e.preventDefault(),!0}const s=Nt();return!!jt(s)}),Xt),t.registerCommand(lye,(e=>{const[i]=Qx(e),s=Nt();return!(i&&!jt(s))}),Xt),t.registerCommand(tgt,(e=>{const[i]=Qx(e),s=Nt();if(i&&!jt(s))return!1;const u=coe(e.clientX,e.clientY);if(u!==null){const d=dz(u.node);Nd(d)&&e.preventDefault()}return!0}),Xt),t.registerCommand(vye,(()=>(Wj(),!0)),Xt),t.registerCommand(qj,(e=>(uoe(t,fc(e,ClipboardEvent)?e:null),!0)),Xt),t.registerCommand(aye,(e=>((async function(i,s){await uoe(s,fc(i,ClipboardEvent)?i:null),s.update((()=>{const u=Nt();jt(u)?u.removeText():Po(u)&&u.getNodes().forEach((d=>d.remove()))}))})(e,t),!0)),Xt),t.registerCommand(pye,(e=>{const[,i,s]=Qx(e);return i.length>0&&!s?(t.dispatchCommand(yz,i),!0):ygt(e.target)&&Ogt(e.target)?!1:Nt()!==null&&((function(u,d){u.preventDefault(),d.update((()=>{const h=Nt(),m=fc(u,InputEvent)||fc(u,KeyboardEvent)?null:u.clipboardData;m!=null&&h!==null&&loe(m,h,d)}),{tag:mye})})(e,t),!0)}),Xt),t.registerCommand(dgt,(e=>{const i=Nt();return jt(i)&&k3(i),!1}),Xt),t.registerCommand(fgt,(e=>{const i=Nt();return jt(i)&&k3(i),!1}),Xt))}const bvt=Object.freeze(Object.defineProperty({__proto__:null,$createHeadingNode:$g,$createQuoteNode:Kj,$isHeadingNode:_vt,$isQuoteNode:yvt,DRAG_DROP_PASTE:yz,HeadingNode:Jj,QuoteNode:aO,eventFiles:Qx,registerRichText:Ovt},Symbol.toStringTag,{value:"Module"})),Lp=bvt,wvt=Lp.$createHeadingNode,Svt=Lp.$createQuoteNode,Tvt=Lp.$isHeadingNode,xz=Lp.$isQuoteNode,Yye=Lp.HeadingNode,Kye=Lp.QuoteNode,Cvt=Lp.registerRichText;var A3={exports:{}},moe;function kvt(){return moe||(moe=1,(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var i=(function(s){var u=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,h={},m={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function Q(B){return B instanceof y?new y(B.type,Q(B.content),B.alias):Array.isArray(B)?B.map(Q):B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Q){return Object.prototype.toString.call(Q).slice(8,-1)},objId:function(Q){return Q.__id||Object.defineProperty(Q,"__id",{value:++d}),Q.__id},clone:function Q(B,q){q=q||{};var Y,G;switch(m.util.type(B)){case"Object":if(G=m.util.objId(B),q[G])return q[G];Y={},q[G]=Y;for(var H in B)B.hasOwnProperty(H)&&(Y[H]=Q(B[H],q));return Y;case"Array":return G=m.util.objId(B),q[G]?q[G]:(Y=[],q[G]=Y,B.forEach(function(V,F){Y[F]=Q(V,q)}),Y);default:return B}},getLanguage:function(Q){for(;Q;){var B=u.exec(Q.className);if(B)return B[1].toLowerCase();Q=Q.parentElement}return"none"},setLanguage:function(Q,B){Q.className=Q.className.replace(RegExp(u,"gi"),""),Q.classList.add("language-"+B)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(Y){var Q=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Y.stack)||[])[1];if(Q){var B=document.getElementsByTagName("script");for(var q in B)if(B[q].src==Q)return B[q]}return null}},isActive:function(Q,B,q){for(var Y="no-"+B;Q;){var G=Q.classList;if(G.contains(B))return!0;if(G.contains(Y))return!1;Q=Q.parentElement}return!!q}},languages:{plain:h,plaintext:h,text:h,txt:h,extend:function(Q,B){var q=m.util.clone(m.languages[Q]);for(var Y in B)q[Y]=B[Y];return q},insertBefore:function(Q,B,q,Y){Y=Y||m.languages;var G=Y[Q],H={};for(var V in G)if(G.hasOwnProperty(V)){if(V==B)for(var F in q)q.hasOwnProperty(F)&&(H[F]=q[F]);q.hasOwnProperty(V)||(H[V]=G[V])}var te=Y[Q];return Y[Q]=H,m.languages.DFS(m.languages,function(ae,oe){oe===te&&ae!=Q&&(this[ae]=H)}),H},DFS:function Q(B,q,Y,G){G=G||{};var H=m.util.objId;for(var V in B)if(B.hasOwnProperty(V)){q.call(B,V,B[V],Y||V);var F=B[V],te=m.util.type(F);te==="Object"&&!G[H(F)]?(G[H(F)]=!0,Q(F,q,null,G)):te==="Array"&&!G[H(F)]&&(G[H(F)]=!0,Q(F,q,V,G))}}},plugins:{},highlightAll:function(Q,B){m.highlightAllUnder(document,Q,B)},highlightAllUnder:function(Q,B,q){var Y={callback:q,container:Q,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};m.hooks.run("before-highlightall",Y),Y.elements=Array.prototype.slice.apply(Y.container.querySelectorAll(Y.selector)),m.hooks.run("before-all-elements-highlight",Y);for(var G=0,H;H=Y.elements[G++];)m.highlightElement(H,B===!0,Y.callback)},highlightElement:function(Q,B,q){var Y=m.util.getLanguage(Q),G=m.languages[Y];m.util.setLanguage(Q,Y);var H=Q.parentElement;H&&H.nodeName.toLowerCase()==="pre"&&m.util.setLanguage(H,Y);var V=Q.textContent,F={element:Q,language:Y,grammar:G,code:V};function te(oe){F.highlightedCode=oe,m.hooks.run("before-insert",F),F.element.innerHTML=F.highlightedCode,m.hooks.run("after-highlight",F),m.hooks.run("complete",F),q&&q.call(F.element)}if(m.hooks.run("before-sanity-check",F),H=F.element.parentElement,H&&H.nodeName.toLowerCase()==="pre"&&!H.hasAttribute("tabindex")&&H.setAttribute("tabindex","0"),!F.code){m.hooks.run("complete",F),q&&q.call(F.element);return}if(m.hooks.run("before-highlight",F),!F.grammar){te(m.util.encode(F.code));return}if(B&&s.Worker){var ae=new Worker(m.filename);ae.onmessage=function(oe){te(oe.data)},ae.postMessage(JSON.stringify({language:F.language,code:F.code,immediateClose:!0}))}else te(m.highlight(F.code,F.grammar,F.language))},highlight:function(Q,B,q){var Y={code:Q,grammar:B,language:q};if(m.hooks.run("before-tokenize",Y),!Y.grammar)throw new Error('The language "'+Y.language+'" has no grammar.');return Y.tokens=m.tokenize(Y.code,Y.grammar),m.hooks.run("after-tokenize",Y),y.stringify(m.util.encode(Y.tokens),Y.language)},tokenize:function(Q,B){var q=B.rest;if(q){for(var Y in q)B[Y]=q[Y];delete B.rest}var G=new T;return C(G,G.head,Q),b(Q,G,B,G.head,0),D(G)},hooks:{all:{},add:function(Q,B){var q=m.hooks.all;q[Q]=q[Q]||[],q[Q].push(B)},run:function(Q,B){var q=m.hooks.all[Q];if(!(!q||!q.length))for(var Y=0,G;G=q[Y++];)G(B)}},Token:y};s.Prism=m;function y(Q,B,q,Y){this.type=Q,this.content=B,this.alias=q,this.length=(Y||"").length|0}y.stringify=function Q(B,q){if(typeof B=="string")return B;if(Array.isArray(B)){var Y="";return B.forEach(function(te){Y+=Q(te,q)}),Y}var G={type:B.type,content:Q(B.content,q),tag:"span",classes:["token",B.type],attributes:{},language:q},H=B.alias;H&&(Array.isArray(H)?Array.prototype.push.apply(G.classes,H):G.classes.push(H)),m.hooks.run("wrap",G);var V="";for(var F in G.attributes)V+=" "+F+'="'+(G.attributes[F]||"").replace(/"/g,"&quot;")+'"';return"<"+G.tag+' class="'+G.classes.join(" ")+'"'+V+">"+G.content+"</"+G.tag+">"};function _(Q,B,q,Y){Q.lastIndex=B;var G=Q.exec(q);if(G&&Y&&G[1]){var H=G[1].length;G.index+=H,G[0]=G[0].slice(H)}return G}function b(Q,B,q,Y,G,H){for(var V in q)if(!(!q.hasOwnProperty(V)||!q[V])){var F=q[V];F=Array.isArray(F)?F:[F];for(var te=0;te<F.length;++te){if(H&&H.cause==V+","+te)return;var ae=F[te],oe=ae.inside,fe=!!ae.lookbehind,de=!!ae.greedy,he=ae.alias;if(de&&!ae.pattern.global){var ue=ae.pattern.toString().match(/[imsuy]*$/)[0];ae.pattern=RegExp(ae.pattern.source,ue+"g")}for(var ne=ae.pattern||ae,me=Y.next,ge=G;me!==B.tail&&!(H&&ge>=H.reach);ge+=me.value.length,me=me.next){var ee=me.value;if(B.length>Q.length)return;if(!(ee instanceof y)){var be=1,Me;if(de){if(Me=_(ne,ge,Q,fe),!Me||Me.index>=Q.length)break;var Le=Me.index,se=Me.index+Me[0].length,Ae=ge;for(Ae+=me.value.length;Le>=Ae;)me=me.next,Ae+=me.value.length;if(Ae-=me.value.length,ge=Ae,me.value instanceof y)continue;for(var we=me;we!==B.tail&&(Ae<se||typeof we.value=="string");we=we.next)be++,Ae+=we.value.length;be--,ee=Q.slice(ge,Ae),Me.index-=ge}else if(Me=_(ne,0,ee,fe),!Me)continue;var Le=Me.index,Z=Me[0],ve=ee.slice(0,Le),ze=ee.slice(Le+Z.length),Qe=ge+ee.length;H&&Qe>H.reach&&(H.reach=Qe);var et=me.prev;ve&&(et=C(B,et,ve),ge+=ve.length),A(B,et,be);var He=new y(V,oe?m.tokenize(Z,oe):Z,he,Z);if(me=C(B,et,He),ze&&C(B,me,ze),be>1){var yt={cause:V+","+te,reach:Qe};b(Q,B,q,me.prev,ge,yt),H&&yt.reach>H.reach&&(H.reach=yt.reach)}}}}}}function T(){var Q={value:null,prev:null,next:null},B={value:null,prev:Q,next:null};Q.next=B,this.head=Q,this.tail=B,this.length=0}function C(Q,B,q){var Y=B.next,G={value:q,prev:B,next:Y};return B.next=G,Y.prev=G,Q.length++,G}function A(Q,B,q){for(var Y=B.next,G=0;G<q&&Y!==Q.tail;G++)Y=Y.next;B.next=Y,Y.prev=B,Q.length-=G}function D(Q){for(var B=[],q=Q.head.next;q!==Q.tail;)B.push(q.value),q=q.next;return B}if(!s.document)return s.addEventListener&&(m.disableWorkerMessageHandler||s.addEventListener("message",function(Q){var B=JSON.parse(Q.data),q=B.language,Y=B.code,G=B.immediateClose;s.postMessage(m.highlight(Y,m.languages[q],q)),G&&s.close()},!1)),m;var L=m.util.currentScript();L&&(m.filename=L.src,L.hasAttribute("data-manual")&&(m.manual=!0));function z(){m.manual||m.highlightAll()}if(!m.manual){var $=document.readyState;$==="loading"||$==="interactive"&&L&&L.defer?document.addEventListener("DOMContentLoaded",z):window.requestAnimationFrame?window.requestAnimationFrame(z):window.setTimeout(z,16)}return m})(e);t.exports&&(t.exports=i),typeof Vh<"u"&&(Vh.Prism=i),i.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(u,d){var h={};h["language-"+d]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[d]},h.cdata=/^<!\[CDATA\[|\]\]>$/i;var m={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:h}};m["language-"+d]={pattern:/[\s\S]+/,inside:i.languages[d]};var y={};y[u]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return u}),"i"),lookbehind:!0,greedy:!0,inside:m},i.languages.insertBefore("markup","cdata",y)}}),Object.defineProperty(i.languages.markup.tag,"addAttribute",{value:function(s,u){i.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[u,"language-"+u],inside:i.languages[u]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,(function(s){var u=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+u.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+u.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+u.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+u.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:u,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var d=s.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))})(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),i.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),i.languages.markup&&(i.languages.markup.tag.addInlined("script","javascript"),i.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),i.languages.js=i.languages.javascript,(function(){if(typeof i>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s="Loading…",u=function(L,z){return"✖ Error "+L+" while fetching file: "+z},d="✖ Error: File does not exist or is empty",h={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},m="data-src-status",y="loading",_="loaded",b="failed",T="pre[data-src]:not(["+m+'="'+_+'"]):not(['+m+'="'+y+'"])';function C(L,z,$){var Q=new XMLHttpRequest;Q.open("GET",L,!0),Q.onreadystatechange=function(){Q.readyState==4&&(Q.status<400&&Q.responseText?z(Q.responseText):Q.status>=400?$(u(Q.status,Q.statusText)):$(d))},Q.send(null)}function A(L){var z=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(L||"");if(z){var $=Number(z[1]),Q=z[2],B=z[3];return Q?B?[$,Number(B)]:[$,void 0]:[$,$]}}i.hooks.add("before-highlightall",function(L){L.selector+=", "+T}),i.hooks.add("before-sanity-check",function(L){var z=L.element;if(z.matches(T)){L.code="",z.setAttribute(m,y);var $=z.appendChild(document.createElement("CODE"));$.textContent=s;var Q=z.getAttribute("data-src"),B=L.language;if(B==="none"){var q=(/\.(\w+)$/.exec(Q)||[,"none"])[1];B=h[q]||q}i.util.setLanguage($,B),i.util.setLanguage(z,B);var Y=i.plugins.autoloader;Y&&Y.loadLanguages(B),C(Q,function(G){z.setAttribute(m,_);var H=A(z.getAttribute("data-range"));if(H){var V=G.split(/\r\n?|\n/g),F=H[0],te=H[1]==null?V.length:H[1];F<0&&(F+=V.length),F=Math.max(0,Math.min(F-1,V.length)),te<0&&(te+=V.length),te=Math.max(0,Math.min(te,V.length)),G=V.slice(F,te).join(`
`),z.hasAttribute("data-start")||z.setAttribute("data-start",String(F+1))}$.textContent=G,i.highlightElement($)},function(G){z.setAttribute(m,b),$.textContent=G})}}),i.plugins.fileHighlight={highlight:function(z){for(var $=(z||document).querySelectorAll(T),Q=0,B;B=$[Q++];)i.highlightElement(B)}};var D=!1;i.fileHighlight=function(){D||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),D=!0),i.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(A3)),A3.exports}kvt();Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,i){var s={};s["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[i]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};u["language-"+i]={pattern:/[\s\S]+/,inside:Prism.languages[i]};var d={};d[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:u},Prism.languages.insertBefore("markup","cdata",d)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(t,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function i(b){return b=b.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+b+")")}var s=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,u=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return s}),d=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+u+d+"(?:"+u+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+u+d+")(?:"+u+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(s),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+u+")"+d+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+u+"$"),inside:{"table-header":{pattern:RegExp(s),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:i(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:i(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:i(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:i(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(b){["url","bold","italic","strike","code-snippet"].forEach(function(T){b!==T&&(t.languages.markdown[b].inside.content.inside[T]=t.languages.markdown[T])})}),t.hooks.add("after-tokenize",function(b){if(b.language!=="markdown"&&b.language!=="md")return;function T(C){if(!(!C||typeof C=="string"))for(var A=0,D=C.length;A<D;A++){var L=C[A];if(L.type!=="code"){T(L.content);continue}var z=L.content[1],$=L.content[3];if(z&&$&&z.type==="code-language"&&$.type==="code-block"&&typeof z.content=="string"){var Q=z.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");Q=(/[a-z][\w-]*/i.exec(Q)||[""])[0].toLowerCase();var B="language-"+Q;$.alias?typeof $.alias=="string"?$.alias=[$.alias,B]:$.alias.push(B):$.alias=[B]}}}T(b.tokens)}),t.hooks.add("wrap",function(b){if(b.type==="code-block"){for(var T="",C=0,A=b.classes.length;C<A;C++){var D=b.classes[C],L=/language-(.+)/.exec(D);if(L){T=L[1];break}}var z=t.languages[T];if(z)b.content=t.highlight(_(b.content),z,T);else if(T&&T!=="none"&&t.plugins.autoloader){var $="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);b.attributes.id=$,t.plugins.autoloader.loadLanguages(T,function(){var Q=document.getElementById($);Q&&(Q.innerHTML=t.highlight(Q.textContent,t.languages[T],T))})}}});var h=RegExp(t.languages.markup.tag.pattern.source,"gi"),m={amp:"&",lt:"<",gt:">",quot:'"'},y=String.fromCodePoint||String.fromCharCode;function _(b){var T=b.replace(h,"");return T=T.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(C,A){if(A=A.toLowerCase(),A[0]==="#"){var D;return A[1]==="x"?D=parseInt(A.slice(2),16):D=Number(A.slice(1)),y(D)}else{var L=m[A];return L||C}}),T}t.languages.md=t.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var i=t.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(t){var e=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);var goe={},voe;function Avt(){return voe||(voe=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),goe}Avt();var yoe={},xoe;function Pvt(){return xoe||(xoe=1,(function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,i=0;i<2;i++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(Prism)),yoe}Pvt();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});var _oe={},Ooe;function Evt(){return Ooe||(Ooe=1,(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism)),_oe}Evt();var boe={},woe;function Mvt(){return woe||(woe=1,(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,i=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,s={pattern:RegExp(/(^|[^\w.])/.source+i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[s,{pattern:RegExp(/(^|[^\w.])/.source+i+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:s.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+i+/[A-Z]\w*\b/.source),lookbehind:!0,inside:s.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":s,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+i+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:s.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+i+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:s.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)),boe}Mvt();var Soe={},Toe;function Dvt(){return Toe||(Toe=1,(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,i=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return i})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism)),Soe}Dvt();const Ivt=globalThis.Prism||window.Prism,Coe=t=>{try{return!!t&&Ivt.languages.hasOwnProperty(t)}catch{return!1}};function Jye(t,e){for(const i of t.childNodes){if(Bv(i)&&i.tagName===e)return!0;Jye(i,e)}return!1}const jx="data-language",jS="data-highlight-language";let eV=class exe extends zv{static getType(){return"code"}static clone(e){return new exe(e.__language,e.__key)}constructor(e,i){super(i),this.__language=e||void 0,this.__isSyntaxHighlightSupported=Coe(e)}createDOM(e){const i=document.createElement("code");Js(i,e.theme.code),i.setAttribute("spellcheck","false");const s=this.getLanguage();return s&&(i.setAttribute(jx,s),this.getIsSyntaxHighlightSupported()&&i.setAttribute(jS,s)),i}updateDOM(e,i,s){const u=this.__language,d=e.__language;return u?u!==d&&(i.setAttribute(jx,u),this.__isSyntaxHighlightSupported&&i.setAttribute(jS,u)):d&&(i.removeAttribute(jx),e.__isSyntaxHighlightSupported&&i.removeAttribute(jS)),!1}exportDOM(e){const i=document.createElement("pre");Js(i,e._config.theme.code),i.setAttribute("spellcheck","false");const s=this.getLanguage();return s&&(i.setAttribute(jx,s),this.getIsSyntaxHighlightSupported()&&i.setAttribute(jS,s)),{element:i}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||Jye(e,"BR"))?{conversion:koe,priority:1}:null,div:()=>({conversion:Rvt,priority:1}),pre:()=>({conversion:koe,priority:0}),table:e=>P3(e)?{conversion:Lvt,priority:3}:null,td:e=>{const i=e,s=i.closest("table");return i.classList.contains("js-file-line")||s&&P3(s)?{conversion:Aoe,priority:3}:null},tr:e=>{const i=e.closest("table");return i&&P3(i)?{conversion:Aoe,priority:3}:null}}}static importJSON(e){return jv().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,i=!0){const s=this.getChildren(),u=s.length;if(u>=2&&s[u-1].getTextContent()===`
`&&s[u-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===u){s[u-1].remove(),s[u-2].remove();const y=da();return this.insertAfter(y,i),y}const{anchor:d,focus:h}=e,m=(d.isBefore(h)?d:h).getNode();if(Er(m)){let y=rxe(m);const _=[];for(;;)if(tye(y))_.push(Gj()),y=y.getNextSibling();else{if(!rV(y))break;{let z=0;const $=y.getTextContent(),Q=y.getTextContentSize();for(;z<Q&&$[z]===" ";)z++;if(z!==0&&_.push(nV(" ".repeat(z))),z!==Q)break;y=y.getNextSibling()}}const b=m.splitText(d.offset)[0],T=d.offset===0?0:1,C=b.getIndexWithinParent()+T,A=m.getParentOrThrow(),D=[xv(),..._];A.splice(C,0,D);const L=_[_.length-1];L?L.select():d.offset===0?b.selectPrevious():b.getNextSibling().selectNext(0,0)}if(txe(m)){const{offset:y}=e.anchor;m.splice(y,0,[xv()]),m.select(y+1,y+1)}return null}canIndent(){return!1}collapseAtStart(){const e=da();return this.getChildren().forEach((i=>e.append(i))),this.replace(e),!0}setLanguage(e){const i=this.getWritable();return i.__language=e||void 0,i.__isSyntaxHighlightSupported=Coe(e),i}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function jv(t){return kc(new eV(t))}function txe(t){return t instanceof eV}function koe(t){return{node:jv(t.getAttribute(jx))}}function Rvt(t){const e=t,i=Poe(e);return i||(function(s){let u=s.parentElement;for(;u!==null;){if(Poe(u))return!0;u=u.parentElement}return!1})(e)?{node:i?jv():null}:{node:null}}function Lvt(){return{node:jv()}}function Aoe(){return{node:null}}function Poe(t){return t.style.fontFamily.match("monospace")!==null}function P3(t){return t.classList.contains("js-file-line-container")}let tV=class nxe extends Xj{constructor(e="",i,s){super(e,s),this.__highlightType=i}static getType(){return"code-highlight"}static clone(e){return new nxe(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const i=this.getWritable();return i.__highlightType=e||void 0,i}canHaveFormat(){return!1}createDOM(e){const i=super.createDOM(e),s=E3(e.theme,this.__highlightType);return Js(i,s),i}updateDOM(e,i,s){const u=super.updateDOM(e,i,s),d=E3(s.theme,e.__highlightType),h=E3(s.theme,this.__highlightType);return d!==h&&(d&&VA(i,d),h&&Js(i,h)),u}static importJSON(e){return nV().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return jv()}};function E3(t,e){return e&&t&&t.codeHighlight&&t.codeHighlight[e]}function nV(t="",e){return kc(new tV(t,e))}function rV(t){return t instanceof tV}function Nvt(t,e){let i=t;for(let s=Fmt(t,e);s&&(rV(s.origin)||tye(s.origin));s=Qgt(s))i=s.origin;return i}function rxe(t){return Nvt(t,"previous")}const $vt=Object.freeze(Object.defineProperty({__proto__:null,$createCodeHighlightNode:nV,$createCodeNode:jv,$getFirstCodeNodeOfLine:rxe,$isCodeHighlightNode:rV,$isCodeNode:txe,CodeHighlightNode:tV,CodeNode:eV},Symbol.toStringTag,{value:"Module"})),qA=$vt,VS=qA.$createCodeNode,ixe=qA.$isCodeNode,zvt=qA.CodeHighlightNode,axe=qA.CodeNode,Bvt=new Set(["http:","https:","mailto:","sms:","tel:"]);let ZA=class oxe extends zv{static getType(){return"link"}static clone(e){return new oxe(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",i={},s){super(s);const{target:u=null,rel:d=null,title:h=null}=i;this.__url=e,this.__target=u,this.__rel=d,this.__title=h}createDOM(e){const i=document.createElement("a");return this.updateLinkDOM(null,i,e),Js(i,e.theme.link),i}updateLinkDOM(e,i,s){if(Aye(i)){e&&e.__url===this.__url||(i.href=this.sanitizeUrl(this.__url));for(const u of["target","rel","title"]){const d=`__${u}`,h=this[d];e&&e[d]===h||(h?i[u]=h:i.removeAttribute(u))}}}updateDOM(e,i,s){return this.updateLinkDOM(e,i,s),!1}static importDOM(){return{a:e=>({conversion:Qvt,priority:1})}}static importJSON(e){return nk().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=Oz(e);try{const i=new URL(Oz(e));if(!Bvt.has(i.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const i=this.getWritable();return i.__url=e,i}getTarget(){return this.getLatest().__target}setTarget(e){const i=this.getWritable();return i.__target=e,i}getRel(){return this.getLatest().__rel}setRel(e){const i=this.getWritable();return i.__rel=e,i}getTitle(){return this.getLatest().__title}setTitle(e){const i=this.getWritable();return i.__title=e,i}insertNewAfter(e,i=!0){const s=nk(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(s,i),s}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,i,s){if(!jt(i))return!1;const u=i.anchor.getNode(),d=i.focus.getNode();return this.isParentOf(u)&&this.isParentOf(d)&&i.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function Qvt(t){let e=null;if(Aye(t)){const i=t.textContent;(i!==null&&i!==""||t.children.length>0)&&(e=nk(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function nk(t="",e){return kc(new ZA(t,e))}function jvt(t){return t instanceof ZA}let iV=class sxe extends ZA{constructor(e="",i={},s){super(e,i,s),this.__isUnlinked=i.isUnlinked!==void 0&&i.isUnlinked!==null&&i.isUnlinked}static getType(){return"autolink"}static clone(e){return new sxe(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const i=this.getWritable();return i.__isUnlinked=e,i}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,i,s){return super.updateDOM(e,i,s)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return _z().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,i=!0){const s=this.getParentOrThrow().insertNewAfter(e,i);if(Tr(s)){const u=_z(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return s.append(u),u}return null}};function _z(t="",e){return kc(new iV(t,e))}function Vvt(t){return t instanceof iV}const Fvt=/^\+?[0-9\s()-]{5,}$/;function Oz(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?`mailto:${t}`:Fvt.test(t)?`tel:${t}`:`https://${t}`}const Gvt=Object.freeze(Object.defineProperty({__proto__:null,$createAutoLinkNode:_z,$createLinkNode:nk,$isAutoLinkNode:Vvt,$isLinkNode:jvt,AutoLinkNode:iV,LinkNode:ZA,formatUrl:Oz},Symbol.toStringTag,{value:"Module"})),HA=Gvt,Wvt=HA.$createLinkNode,Uvt=HA.$isAutoLinkNode,qvt=HA.$isLinkNode,lxe=HA.LinkNode;function bz(t,e){const i={};for(const s of t){const u=e(s);u&&(i[u]?i[u].push(s):i[u]=[s])}return i}function aV(t){const e=bz(t,(i=>i.type));return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const rk=/[!-/:-@[-`{-~\s]/,Zvt=/^\s{0,3}$/;function wz(t){if(!zA(t))return!1;const e=t.getFirstChild();return e==null||t.getChildrenSize()===1&&Er(e)&&Zvt.test(e.getTextContent())}function Hvt(t,e,i,s){for(const u of e){if(!u.export)continue;const d=u.export(t,(h=>ik(h,i,s)));if(d!=null)return d}return Tr(t)?ik(t,i,s):Nd(t)?t.getTextContent():null}function ik(t,e,i,s,u){const d=[],h=t.getChildren();s||(s=[]),u||(u=[]);e:for(const m of h){for(const y of i){if(!y.export)continue;const _=y.export(m,(b=>ik(b,e,i,s,[...u,...s])),((b,T)=>Eoe(b,T,e,s,u)));if(_!=null){d.push(_);continue e}}eye(m)?d.push(`
`):Er(m)?d.push(Eoe(m,m.getTextContent(),e,s,u)):Tr(m)?d.push(ik(m,e,i,s,u)):Nd(m)&&d.push(m.getTextContent())}return d.join("")}function Eoe(t,e,i,s,u){let d=t.getFormat()===0?e:(function(C){return C.replace(/^\s+|\s+$/g,(A=>[...A].map((D=>"&#"+D.codePointAt(0)+";")).join("")))})(e);t.hasFormat("code")||(d=d.replace(/([*_`~\\])/g,"\\$1"));let h="",m="",y="";const _=Moe(t,!0),b=Moe(t,!1),T=new Set;for(const C of i){const A=C.format[0],D=C.tag;FS(t,A)&&!T.has(A)&&(T.add(A),FS(_,A)&&s.find((L=>L.tag===D))||(s.push({format:A,tag:D}),h+=D))}for(let C=0;C<s.length;C++){const A=FS(t,s[C].format),D=FS(b,s[C].format);if(A&&D)continue;const L=[...s];for(;L.length>C;){const z=L.pop();u&&z&&u.find(($=>$.tag===z.tag))||(z&&typeof z.tag=="string"&&(A?D||(y+=z.tag):m+=z.tag),s.pop())}break}return d=h+d+y,m+d}function Moe(t,e){let i=e?t.getPreviousSibling():t.getNextSibling();if(!i){const s=t.getParentOrThrow();s.isInline()&&(i=e?s.getPreviousSibling():s.getNextSibling())}for(;i;){if(Tr(i)){if(!i.isInline())break;const s=e?i.getLastDescendant():i.getFirstDescendant();if(Er(s))return s;i=e?i.getPreviousSibling():i.getNextSibling()}if(Er(i))return i;if(!Tr(i))return null}return null}function FS(t,e){return Er(t)&&t.hasFormat(e)}function Xvt(t,e){const i=(function(u,d){const h=u.match(d.openTagsRegExp);if(h==null)return null;for(const m of h){const y=m.replace(/^\s/,""),_=d.fullMatchRegExpByTag[y];if(_==null)continue;const b=u.match(_),T=d.transformersByTag[y];if(b!=null&&T!=null){if(T.intraword!==!1)return b;const{index:C=0}=b,A=u[C-1],D=u[C+b[0].length];if((!A||rk.test(A))&&(!D||rk.test(D)))return b}}return null})(t.getTextContent(),e);if(!i)return null;const s=i.index||0;return{endIndex:s+i[0].length,match:i,startIndex:s,transformer:e.transformersByTag[i[1]]}}function Lh(t){return Er(t)&&!t.hasFormat("code")}function Nh(t,e,i){let s=Xvt(t,e),u=(function(h,m){const y=h;let _,b,T,C;for(const A of m){if(!A.replace||!A.importRegExp)continue;const D=y.getTextContent().match(A.importRegExp);if(!D)continue;const L=D.index||0,z=A.getEndIndex?A.getEndIndex(y,D):L+D[0].length;z!==!1&&(_===void 0||b===void 0||L<_&&z>b)&&(_=L,b=z,T=A,C=D)}return _===void 0||b===void 0||T===void 0||C===void 0?null:{endIndex:b,match:C,startIndex:_,transformer:T}})(t,i);if(s&&u&&(s.startIndex<=u.startIndex&&s.endIndex>=u.endIndex?u=null:s=null),s){const h=(function(m,y,_,b,T){const C=m.getTextContent();let A,D,L;if(T[0]===C?A=m:y===0?[A,D]=m.splitText(_):[L,A,D]=m.splitText(y,_),A.setTextContent(T[2]),b)for(const z of b.format)A.hasFormat(z)||A.toggleFormat(z);return{nodeAfter:D,nodeBefore:L,transformedNode:A}})(t,s.startIndex,s.endIndex,s.transformer,s.match);Lh(h.nodeAfter)&&Nh(h.nodeAfter,e,i),Lh(h.nodeBefore)&&Nh(h.nodeBefore,e,i),Lh(h.transformedNode)&&Nh(h.transformedNode,e,i)}else if(u){const h=(function(m,y,_,b,T){let C,A,D;return y===0?[C,A]=m.splitText(_):[D,C,A]=m.splitText(y,_),b.replace?{nodeAfter:A,nodeBefore:D,transformedNode:b.replace(C,T)||void 0}:null})(t,u.startIndex,u.endIndex,u.transformer,u.match);if(!h)return;Lh(h.nodeAfter)&&Nh(h.nodeAfter,e,i),Lh(h.nodeBefore)&&Nh(h.nodeBefore,e,i),Lh(h.transformedNode)&&Nh(h.transformedNode,e,i)}const d=t.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,((h,m)=>String.fromCodePoint(m)));t.setTextContent(d)}function Yvt(t,e=!1){const i=aV(t),s=(function(u){const d={},h={},m=[],y="(?<![\\\\])";for(const _ of u){const{tag:b}=_;d[b]=_;const T=b.replace(/(\*|\^|\+)/g,"\\$1");m.push(T),b.length===1?h[b]=new RegExp(`(?<![\\\\${T}])(${T})((\\\\${T})?.*?[^${T}\\s](\\\\${T})?)((?<!\\\\)|(?<=\\\\\\\\))(${T})(?![\\\\${T}])`):h[b]=new RegExp(`(?<!\\\\)(${T})((\\\\${T})?.*?[^\\s](\\\\${T})?)((?<!\\\\)|(?<=\\\\\\\\))(${T})(?!\\\\)`)}return{fullMatchRegExpByTag:h,openTagsRegExp:new RegExp(`${y}(${m.join("|")})`,"g"),transformersByTag:d}})(i.textFormat);return(u,d)=>{const h=u.split(`
`),m=h.length,y=d||Xi();y.clear();for(let b=0;b<m;b++){const T=h[b],[C,A]=Kvt(h,b,i.multilineElement,y);C?b=A:Jvt(T,y,i.element,s,i.textMatch,e)}const _=y.getChildren();for(const b of _)!e&&wz(b)&&y.getChildrenSize()>1&&b.remove();Nt()!==null&&y.selectStart()}}function Kvt(t,e,i,s){for(const u of i){const{handleImportAfterStartMatch:d,regExpEnd:h,regExpStart:m,replace:y}=u,_=t[e].match(m);if(!_)continue;if(d){const D=d({lines:t,rootNode:s,startLineIndex:e,startMatch:_,transformer:u});if(D===null)continue;if(D)return D}const b=typeof h=="object"&&"regExp"in h?h.regExp:h,T=h&&typeof h=="object"&&"optional"in h?h.optional:!h;let C=e;const A=t.length;for(;C<A;){const D=b?t[C].match(b):null;if(!D&&(!T||T&&C<A-1)){C++;continue}if(D&&e===C&&D.index===_.index){C++;continue}const L=[];if(D&&e===C)L.push(t[e].slice(_[0].length,-D[0].length));else for(let z=e;z<=C;z++)if(z===e){const $=t[z].slice(_[0].length);L.push($)}else if(z===C&&D){const $=t[z].slice(0,-D[0].length);L.push($)}else L.push(t[z]);if(y(s,null,_,D,L,!0)!==!1)return[!0,C];break}}return[!1,e]}function Jvt(t,e,i,s,u,d){const h=nO(t),m=da();m.append(h),e.append(m);for(const{regExp:y,replace:_}of i){const b=t.match(y);if(b&&(h.setTextContent(t.slice(b[0].length)),_(m,[h],b,!0)!==!1))break}if(Nh(h,s,u),m.isAttached()&&t.length>0){const y=m.getPreviousSibling();if(!d&&(zA(y)||xz(y)||wp(y))){let _=y;if(wp(y)){const b=y.getLastDescendant();_=b==null?null:jA(b,zye)}_!=null&&_.getTextContentSize()>0&&(_.splice(_.getChildrenSize(),0,[xv(),...m.getChildren()]),m.remove())}}}function e0t(t,...e){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const u of e)s.append("v",u);throw i.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Doe(t,e,i){const s=i.length;for(let u=e;u>=s;u--){const d=u-s;if(uxe(t,d,i,0,s)&&t[d+s]!==" ")return d}return-1}function uxe(t,e,i,s,u){for(let d=0;d<u;d++)if(t[e+d]!==i[s+d])return!1;return!0}function t0t(t,e=XA){const i=aV(e),s=bz(i.textFormat,(({tag:h})=>h[h.length-1])),u=bz(i.textMatch,(({trigger:h})=>h));for(const h of e){const m=h.type;if(m==="element"||m==="text-match"||m==="multiline-element"){const y=h.dependencies;for(const _ of y)t.hasNode(_)||e0t(173,_.getType())}}const d=(h,m,y)=>{(function(_,b,T,C){const A=_.getParent();if(!rp(A)||_.getFirstChild()!==b)return!1;const D=b.getTextContent();if(D[T-1]!==" ")return!1;for(const{regExp:L,replace:z}of C){const $=D.match(L);if($&&$[0].length===($[0].endsWith(" ")?T:T-1)){const Q=b.getNextSiblings(),[B,q]=b.splitText(T);if(z(_,q?[q,...Q]:Q,$,!1)!==!1)return B.remove(),!0}}return!1})(h,m,y,i.element)||(function(_,b,T,C){const A=_.getParent();if(!rp(A)||_.getFirstChild()!==b)return!1;const D=b.getTextContent();if(D[T-1]!==" ")return!1;for(const{regExpStart:L,replace:z,regExpEnd:$}of C){if($&&!("optional"in $)||$&&"optional"in $&&!$.optional)continue;const Q=D.match(L);if(Q&&Q[0].length===(Q[0].endsWith(" ")?T:T-1)){const B=b.getNextSiblings(),[q,Y]=b.splitText(T);if(z(_,Y?[Y,...B]:B,Q,null,null,!1)!==!1)return q.remove(),!0}}return!1})(h,m,y,i.multilineElement)||(function(_,b,T){let C=_.getTextContent();const A=T[C[b-1]];if(A==null)return!1;b<C.length&&(C=C.slice(0,b));for(const D of A){if(!D.replace||!D.regExp)continue;const L=C.match(D.regExp);if(L===null)continue;const z=L.index||0,$=z+L[0].length;let Q;return z===0?[Q]=_.splitText($):[,Q]=_.splitText(z,$),Q.selectNext(0,0),D.replace(Q,L),!0}return!1})(m,y,u)||(function(_,b,T){const C=_.getTextContent(),A=b-1,D=C[A],L=T[D];if(!L)return!1;for(const z of L){const{tag:$}=z,Q=$.length,B=A-Q+1;if(Q>1&&!uxe(C,B,$,0,Q)||C[B-1]===" ")continue;const q=C[A+1];if(z.intraword===!1&&q&&!rk.test(q))continue;const Y=_;let G=Y,H=Doe(C,B,$),V=G;for(;H<0&&(V=V.getPreviousSibling())&&!eye(V);)if(Er(V)){if(V.hasFormat("code"))continue;const ne=V.getTextContent();G=V,H=Doe(ne,ne.length,$)}if(H<0||G===Y&&H+Q===B)continue;const F=G.getTextContent();if(H>0&&F[H-1]===D)continue;const te=F[H-1];if(z.intraword===!1&&te&&!rk.test(te))continue;const ae=Y.getTextContent(),oe=ae.slice(0,B)+ae.slice(A+1);Y.setTextContent(oe);const fe=G===Y?oe:F;G.setTextContent(fe.slice(0,H)+fe.slice(H+Q));const de=Nt(),he=Y0e();Uj(he);const ue=A-Q*(G===Y?2:1)+1;he.anchor.set(G.__key,H,"text"),he.focus.set(Y.__key,ue,"text");for(const ne of z.format)he.hasFormat(ne)||he.formatText(ne);he.anchor.set(he.focus.key,he.focus.offset,he.focus.type);for(const ne of z.format)he.hasFormat(ne)&&he.toggleFormat(ne);return jt(de)&&(he.format=de.format),!0}})(m,y,s)};return t.registerUpdateListener((({tags:h,dirtyLeaves:m,editorState:y,prevEditorState:_})=>{if(h.has(Kmt)||h.has(ZC)||t.isComposing())return;const b=y.read(Nt),T=_.read(Nt);if(!jt(T)||!jt(b)||!b.isCollapsed()||b.is(T))return;const C=b.anchor.key,A=b.anchor.offset,D=y._nodeMap.get(C);!Er(D)||!m.has(C)||A!==1&&A>T.anchor.offset+1||t.update((()=>{if(!Lh(D))return;const L=D.getParent();L===null||ixe(L)||d(L,D,b.anchor.offset)}))}))}const cxe=/^(\s*)(\d{1,})\.\s/,dxe=/^(\s*)[-*+]\s/,n0t=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,Sz=/^(#{1,6})\s/,fxe=/^>\s/,hxe=/^[ \t]*```(\w+)?/,pxe=/[ \t]*```$/,r0t=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,i0t=/^(?:\|)(.+)(?:\|)\s?$/,a0t=/^(\| ?:?-*:? ?)+\|\s?$/,mxe=t=>(e,i,s,u)=>{const d=t(s);d.append(...i),e.replace(d),u||d.select(0,0)},gxe=t=>(e,i,s,u)=>{const d=e.getPreviousSibling(),h=e.getNextSibling(),m=Ygt(t==="check"?s[3]==="x":void 0);if(wp(h)&&h.getListType()===t){const _=h.getFirstChild();_!==null?_.insertBefore(m):h.append(m),e.remove()}else if(wp(d)&&d.getListType()===t)d.append(m),e.remove();else{const _=Kgt(t,t==="number"?Number(s[2]):void 0);_.append(m),e.replace(_)}m.append(...i),u||m.select(0,0);const y=(function(_){const b=_.match(/\t/g),T=_.match(/ /g);let C=0;return b&&(C+=b.length),T&&(C+=Math.floor(T.length/4)),C})(s[1]);y&&m.setIndent(y)},oV=(t,e,i)=>{const s=[],u=t.getChildren();let d=0;for(const h of u)if(zye(h)){if(h.getChildrenSize()===1){const b=h.getFirstChild();if(wp(b)){s.push(oV(b,e,i+1));continue}}const m=" ".repeat(4*i),y=t.getListType(),_=y==="number"?`${t.getStart()+d}. `:y==="check"?`- [${h.getChecked()?"x":" "}] `:"- ";s.push(m+_+e(h)),d++}return s.join(`
`)},vxe={dependencies:[Yye],export:(t,e)=>{if(!Tvt(t))return null;const i=Number(t.getTag().slice(1));return"#".repeat(i)+" "+e(t)},regExp:Sz,replace:mxe((t=>{const e="h"+t[1].length;return wvt(e)})),type:"element"},yxe={dependencies:[Kye],export:(t,e)=>{if(!xz(t))return null;const i=e(t).split(`
`),s=[];for(const u of i)s.push("> "+u);return s.join(`
`)},regExp:fxe,replace:(t,e,i,s)=>{if(s){const d=t.getPreviousSibling();if(xz(d))return d.splice(d.getChildrenSize(),0,[xv(),...e]),void t.remove()}const u=Svt();u.append(...e),t.replace(u),s||u.select(0,0)},type:"element"},xxe={dependencies:[axe],export:t=>{if(!ixe(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:pxe},regExpStart:hxe,replace:(t,e,i,s,u,d)=>{let h,m;if(!e&&u){if(u.length===1)s?(h=VS(),m=i[1]+u[0]):(h=VS(i[1]),m=u[0].startsWith(" ")?u[0].slice(1):u[0]);else{if(h=VS(i[1]),u[0].trim().length===0)for(;u.length>0&&!u[0].length;)u.shift();else u[0]=u[0].startsWith(" ")?u[0].slice(1):u[0];for(;u.length>0&&!u[u.length-1].length;)u.pop();m=u.join(`
`)}const y=nO(m);h.append(y),t.append(h)}else e&&mxe((y=>VS(y?y[1]:void 0)))(t,e,i,d)},type:"multiline-element"},_xe={dependencies:[WA,GA],export:(t,e)=>wp(t)?oV(t,e,0):null,regExp:dxe,replace:gxe("bullet"),type:"element"},Oxe={dependencies:[WA,GA],export:(t,e)=>wp(t)?oV(t,e,0):null,regExp:cxe,replace:gxe("number"),type:"element"},bxe={format:["code"],tag:"`",type:"text-format"},wxe={format:["highlight"],tag:"==",type:"text-format"},Sxe={format:["bold","italic"],tag:"***",type:"text-format"},Txe={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Cxe={format:["bold"],tag:"**",type:"text-format"},kxe={format:["bold"],intraword:!1,tag:"__",type:"text-format"},Axe={format:["strikethrough"],tag:"~~",type:"text-format"},Pxe={format:["italic"],tag:"*",type:"text-format"},Exe={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Mxe={dependencies:[lxe],export:(t,e,i)=>{if(!qvt(t)||Uvt(t))return null;const s=t.getTitle(),u=e(t);return s?`[${u}](${t.getURL()} "${s}")`:`[${u}](${t.getURL()})`},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,i,s,u]=e,d=Wvt(s,{title:u}),h=nO(i);return h.setFormat(t.getFormat()),d.append(h),t.replace(d),h},trigger:")",type:"text-match"},Dxe=[vxe,yxe,_xe,Oxe],Ixe=[xxe],Rxe=[bxe,Sxe,Txe,Cxe,kxe,wxe,Pxe,Exe,Axe],Lxe=[Mxe],XA=[...Dxe,...Ixe,...Rxe,...Lxe];function o0t(t,e=XA,i,s=!1,u=!1){const d=s?t:(function(h,m=!1){const y=h.split(`
`);let _=!1;const b=[];for(let T=0;T<y.length;T++){const C=y[T],A=b[b.length-1];r0t.test(C)?b.push(C):hxe.test(C)||pxe.test(C)?(_=!_,b.push(C)):_||C===""||A===""||!A||Sz.test(A)||Sz.test(C)||fxe.test(C)||cxe.test(C)||dxe.test(C)||n0t.test(C)||i0t.test(C)||a0t.test(C)||!m?b.push(C):b[b.length-1]=A+C}return b.join(`
`)})(t,u);return Yvt(e,s)(d,i)}function s0t(t=XA,e,i=!1){return(function(u,d=!1){const h=aV(u),m=[...h.multilineElement,...h.element],y=!d,_=h.textFormat.filter((b=>b.format.length===1)).sort(((b,T)=>Number(b.format.includes("code"))-Number(T.format.includes("code"))));return b=>{const T=[],C=(b||Xi()).getChildren();for(let A=0;A<C.length;A++){const D=C[A],L=Hvt(D,m,_,h.textMatch);L!=null&&T.push(y&&A>0&&!wz(D)&&!wz(C[A-1])?`
`.concat(L):L)}return T.join(`
`)}})(t,i)(e)}const l0t=Object.freeze(Object.defineProperty({__proto__:null,$convertFromMarkdownString:o0t,$convertToMarkdownString:s0t,BOLD_ITALIC_STAR:Sxe,BOLD_ITALIC_UNDERSCORE:Txe,BOLD_STAR:Cxe,BOLD_UNDERSCORE:kxe,CODE:xxe,ELEMENT_TRANSFORMERS:Dxe,HEADING:vxe,HIGHLIGHT:wxe,INLINE_CODE:bxe,ITALIC_STAR:Pxe,ITALIC_UNDERSCORE:Exe,LINK:Mxe,MULTILINE_ELEMENT_TRANSFORMERS:Ixe,ORDERED_LIST:Oxe,QUOTE:yxe,STRIKETHROUGH:Axe,TEXT_FORMAT_TRANSFORMERS:Rxe,TEXT_MATCH_TRANSFORMERS:Lxe,TRANSFORMERS:XA,UNORDERED_LIST:_xe,registerMarkdownShortcuts:t0t},Symbol.toStringTag,{value:"Module"})),YA=l0t,Ioe=YA.$convertFromMarkdownString,Nxe=YA.$convertToMarkdownString,KA=YA.TRANSFORMERS,u0t=YA.registerMarkdownShortcuts,$xe=K.createContext(null);function c0t(t,e){return{getTheme:function(){return e??null}}}function d0t(){const t=K.useContext($xe);return t==null&&(function(e,...i){const s=new URL("https://lexical.dev/docs/error"),u=new URLSearchParams;u.append("code",e);for(const d of i)u.append("v",d);throw s.search=u.toString(),Error(`Minified Lexical error #${e}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),t}const f0t=Object.freeze(Object.defineProperty({__proto__:null,LexicalComposerContext:$xe,createLexicalComposerContext:c0t,useLexicalComposerContext:d0t},Symbol.toStringTag,{value:"Module"})),sV=f0t,h0t=sV.LexicalComposerContext,p0t=sV.createLexicalComposerContext,pa=sV.useLexicalComposerContext,zxe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,m0t=zxe?K.useLayoutEffect:K.useEffect,GS={tag:Zj};function g0t({initialConfig:t,children:e}){const i=K.useMemo((()=>{const{theme:s,namespace:u,nodes:d,onError:h,editorState:m,html:y}=t,_=p0t(null,s),b=ggt({editable:t.editable,html:y,namespace:u,nodes:d,onError:T=>h(T,b),theme:s});return(function(T,C){if(C!==null){if(C===void 0)T.update((()=>{const A=Xi();if(A.isEmpty()){const D=da();A.append(D);const L=zxe?document.activeElement:null;(Nt()!==null||L!==null&&L===T.getRootElement())&&D.select()}}),GS);else if(C!==null)switch(typeof C){case"string":{const A=T.parseEditorState(C);T.setEditorState(A,GS);break}case"object":T.setEditorState(C,GS);break;case"function":T.update((()=>{Xi().isEmpty()&&C(T)}),GS)}}})(b,m),[b,_]}),[]);return m0t((()=>{const s=t.editable,[u]=i;u.setEditable(s===void 0||s)}),[]),I.jsx(h0t.Provider,{value:i,children:e})}const v0t=Object.freeze(Object.defineProperty({__proto__:null,LexicalComposer:g0t},Symbol.toStringTag,{value:"Module"})),y0t=v0t,lV=y0t.LexicalComposer;function Bxe(){return Xi().getTextContent()}function Qxe(t,e=!0){if(t)return!1;let i=Bxe();return e&&(i=i.trim()),i===""}function jxe(t){if(!Qxe(t,!1))return!1;const e=Xi().getChildren(),i=e.length;if(i>1)return!1;for(let s=0;s<i;s++){const u=e[s];if(Nd(u))return!1;if(Tr(u)){if(!zA(u)||u.__indent!==0)return!1;const d=u.getChildren(),h=d.length;for(let m=0;m<h;m++){const y=d[s];if(!Er(y))return!1}}}return!0}function x0t(t){return()=>jxe(t)}const _0t=Object.freeze(Object.defineProperty({__proto__:null,$canShowPlaceholder:jxe,$canShowPlaceholderCurry:x0t,$isRootTextContentEmpty:Qxe,$rootTextContent:Bxe},Symbol.toStringTag,{value:"Module"})),O0t=_0t,uV=O0t.$canShowPlaceholderCurry,Vxe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?K.useLayoutEffect:K.useEffect;function b0t({editor:t,ariaActiveDescendant:e,ariaAutoComplete:i,ariaControls:s,ariaDescribedBy:u,ariaErrorMessage:d,ariaExpanded:h,ariaInvalid:m,ariaLabel:y,ariaLabelledBy:_,ariaMultiline:b,ariaOwns:T,ariaRequired:C,autoCapitalize:A,className:D,id:L,role:z="textbox",spellCheck:$=!0,style:Q,tabIndex:B,"data-testid":q,...Y},G){const[H,V]=K.useState(t.isEditable()),F=K.useCallback((ae=>{ae&&ae.ownerDocument&&ae.ownerDocument.defaultView?t.setRootElement(ae):t.setRootElement(null)}),[t]),te=K.useMemo((()=>(function(...ae){return oe=>{ae.forEach((fe=>{typeof fe=="function"?fe(oe):fe!=null&&(fe.current=oe)}))}})(G,F)),[F,G]);return Vxe((()=>(V(t.isEditable()),t.registerEditableListener((ae=>{V(ae)})))),[t]),I.jsx("div",{"aria-activedescendant":H?e:void 0,"aria-autocomplete":H?i:"none","aria-controls":H?s:void 0,"aria-describedby":u,...d!=null?{"aria-errormessage":d}:{},"aria-expanded":H&&z==="combobox"?!!h:void 0,...m!=null?{"aria-invalid":m}:{},"aria-label":y,"aria-labelledby":_,"aria-multiline":b,"aria-owns":H?T:void 0,"aria-readonly":!H||void 0,"aria-required":C,autoCapitalize:A,className:D,contentEditable:H,"data-testid":q,id:L,ref:te,role:H?z:void 0,spellCheck:$,style:Q,tabIndex:B,...Y})}const Fxe=K.forwardRef(b0t);function Roe(t){return t.getEditorState().read(uV(t.isComposing()))}const w0t=K.forwardRef(S0t);function S0t(t,e){const{placeholder:i,...s}=t,[u]=pa();return I.jsxs(I.Fragment,{children:[I.jsx(Fxe,{editor:u,...s,ref:e}),i!=null&&I.jsx(T0t,{editor:u,content:i})]})}function T0t({content:t,editor:e}){const i=(function(h){const[m,y]=K.useState((()=>Roe(h)));return Vxe((()=>{function _(){const b=Roe(h);y(b)}return _(),yu(h.registerUpdateListener((()=>{_()})),h.registerEditableListener((()=>{_()})))}),[h]),m})(e),[s,u]=K.useState(e.isEditable());if(K.useLayoutEffect((()=>(u(e.isEditable()),e.registerEditableListener((h=>{u(h)})))),[e]),!i)return null;let d=null;return typeof t=="function"?d=t(s):t!==null&&(d=t),d===null?null:I.jsx("div",{"aria-hidden":!0,children:d})}const C0t=Object.freeze(Object.defineProperty({__proto__:null,ContentEditable:w0t,ContentEditableElement:Fxe},Symbol.toStringTag,{value:"Module"})),k0t=C0t,cV=k0t.ContentEditable;function Tz(t,e){return Tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Tz(t,e)}var Loe={error:null},A0t=(function(t){var e,i;function s(){for(var d,h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];return(d=t.call.apply(t,[this].concat(m))||this).state=Loe,d.resetErrorBoundary=function(){for(var _,b=arguments.length,T=new Array(b),C=0;C<b;C++)T[C]=arguments[C];d.props.onReset==null||(_=d.props).onReset.apply(_,T),d.reset()},d}i=t,(e=s).prototype=Object.create(i.prototype),e.prototype.constructor=e,Tz(e,i),s.getDerivedStateFromError=function(d){return{error:d}};var u=s.prototype;return u.reset=function(){this.setState(Loe)},u.componentDidCatch=function(d,h){var m,y;(m=(y=this.props).onError)==null||m.call(y,d,h)},u.componentDidUpdate=function(d,h){var m,y,_,b,T=this.state.error,C=this.props.resetKeys;T!==null&&h.error!==null&&((_=d.resetKeys)===void 0&&(_=[]),(b=C)===void 0&&(b=[]),_.length!==b.length||_.some((function(A,D){return!Object.is(A,b[D])})))&&((m=(y=this.props).onResetKeysChange)==null||m.call(y,d.resetKeys,C),this.reset())},u.render=function(){var d=this.state.error,h=this.props,m=h.fallbackRender,y=h.FallbackComponent,_=h.fallback;if(d!==null){var b={error:d,resetErrorBoundary:this.resetErrorBoundary};if(K.isValidElement(_))return _;if(typeof m=="function")return m(b);if(y)return K.createElement(y,b);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},s})(K.Component);function P0t({children:t,onError:e}){return I.jsx(A0t,{fallback:I.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const E0t=Object.freeze(Object.defineProperty({__proto__:null,LexicalErrorBoundary:P0t},Symbol.toStringTag,{value:"Module"})),M0t=E0t,dV=M0t.LexicalErrorBoundary,WS=0,Cz=1,kz=2,Gs=0,D0t=1,Noe=2,I0t=3,R0t=4;function L0t(t,e,i,s,u){if(t===null||i.size===0&&s.size===0&&!u)return Gs;const d=e._selection,h=t._selection;if(u)return D0t;if(!(jt(d)&&jt(h)&&h.isCollapsed()&&d.isCollapsed()))return Gs;const m=(function($,Q,B){const q=$._nodeMap,Y=[];for(const G of Q){const H=q.get(G);H!==void 0&&Y.push(H)}for(const[G,H]of B){if(!H)continue;const V=q.get(G);V===void 0||BA(V)||Y.push(V)}return Y})(e,i,s);if(m.length===0)return Gs;if(m.length>1){const $=e._nodeMap,Q=$.get(d.anchor.key),B=$.get(h.anchor.key);return Q&&B&&!t._nodeMap.has(Q.__key)&&Er(Q)&&Q.__text.length===1&&d.anchor.offset===1?Noe:Gs}const y=m[0],_=t._nodeMap.get(y.__key);if(!Er(_)||!Er(y)||_.__mode!==y.__mode)return Gs;const b=_.__text,T=y.__text;if(b===T)return Gs;const C=d.anchor,A=h.anchor;if(C.key!==A.key||C.type!=="text")return Gs;const D=C.offset,L=A.offset,z=T.length-b.length;return z===1&&L===D-1?Noe:z===-1&&L===D+1?I0t:z===-1&&L===D?R0t:Gs}function N0t(t,e){let i=Date.now(),s=Gs;return(u,d,h,m,y,_)=>{const b=Date.now();if(_.has(ZC))return s=Gs,i=b,kz;const T=L0t(u,d,m,y,t.isComposing()),C=(()=>{const A=h===null||h.editor===t,D=_.has(agt);if(!D&&A&&_.has(Zj))return WS;if(u===null)return Cz;const L=d._selection;return m.size>0||y.size>0?D===!1&&T!==Gs&&T===s&&b<i+e&&A||m.size===1&&(function(z,$,Q){const B=$._nodeMap.get(z),q=Q._nodeMap.get(z),Y=$._selection,G=Q._selection;return!(jt(Y)&&jt(G)&&Y.anchor.type==="element"&&Y.focus.type==="element"&&G.anchor.type==="text"&&G.focus.type==="text"||!Er(B)||!Er(q)||B.__parent!==q.__parent)&&JSON.stringify($.read((()=>B.exportJSON())))===JSON.stringify(Q.read((()=>q.exportJSON())))})(Array.from(m)[0],u,d)?WS:Cz:L!==null?WS:kz})();return i=b,s=T,C}}function $oe(t){t.undoStack=[],t.redoStack=[],t.current=null}function $0t(t,e,i){const s=N0t(t,i);return yu(t.registerCommand(mgt,(()=>((function(d,h){const m=h.redoStack,y=h.undoStack;if(y.length!==0){const _=h.current,b=y.pop();_!==null&&(m.push(_),d.dispatchCommand(BS,!0)),y.length===0&&d.dispatchCommand(QS,!1),h.current=b||null,b&&b.editor.setEditorState(b.editorState,{tag:ZC})}})(t,e),!0)),Xt),t.registerCommand(hgt,(()=>((function(d,h){const m=h.redoStack,y=h.undoStack;if(m.length!==0){const _=h.current;_!==null&&(y.push(_),d.dispatchCommand(QS,!0));const b=m.pop();m.length===0&&d.dispatchCommand(BS,!1),h.current=b||null,b&&b.editor.setEditorState(b.editorState,{tag:ZC})}})(t,e),!0)),Xt),t.registerCommand(Xmt,(()=>($oe(e),!1)),Xt),t.registerCommand(Ymt,(()=>($oe(e),t.dispatchCommand(BS,!1),t.dispatchCommand(QS,!1),!0)),Xt),t.registerUpdateListener((({editorState:d,prevEditorState:h,dirtyLeaves:m,dirtyElements:y,tags:_})=>{const b=e.current,T=e.redoStack,C=e.undoStack,A=b===null?null:b.editorState;if(b!==null&&d===A)return;const D=s(h,d,b,m,y,_);if(D===Cz)T.length!==0&&(e.redoStack=[],t.dispatchCommand(BS,!1)),b!==null&&(C.push({...b}),t.dispatchCommand(QS,!0));else if(D===kz)return;e.current={editor:t,editorState:d}})))}function z0t(){return{current:null,redoStack:[],undoStack:[]}}const B0t=Object.freeze(Object.defineProperty({__proto__:null,createEmptyHistoryState:z0t,registerHistory:$0t},Symbol.toStringTag,{value:"Module"})),Gxe=B0t,Wxe=Gxe.createEmptyHistoryState,Q0t=Gxe.registerHistory;function j0t({delay:t,externalHistoryState:e}){const[i]=pa();return(function(s,u,d=1e3){const h=K.useMemo((()=>u||Wxe()),[u]);K.useEffect((()=>Q0t(s,h,d)),[d,s,h])})(i,e,t),null}const V0t=Object.freeze(Object.defineProperty({__proto__:null,HistoryPlugin:j0t,createEmptyHistoryState:Wxe},Symbol.toStringTag,{value:"Module"})),F0t=V0t,Uxe=F0t.HistoryPlugin;function G0t({hasStrictIndent:t=!1}){const[e]=pa();return K.useEffect((()=>{if(!e.hasNodes([WA,GA]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[e]),K.useEffect((()=>{if(t)return evt(e)}),[e,t]),(function(i){K.useEffect((()=>Jgt(i)),[i])})(e),null}const W0t=Object.freeze(Object.defineProperty({__proto__:null,ListPlugin:G0t},Symbol.toStringTag,{value:"Module"})),U0t=W0t,q0t=U0t.ListPlugin;function zoe(t,e){return t.getEditorState().read((()=>{const i=Vmt(e);return i!==null&&i.isSelected()}))}function Z0t(t){const[e]=pa(),[i,s]=K.useState((()=>zoe(e,t)));return K.useEffect((()=>{let u=!0;const d=e.registerUpdateListener((()=>{u&&s(zoe(e,t))}));return()=>{u=!1,d()}}),[e,t]),[i,K.useCallback((u=>{e.update((()=>{let d=Nt();Po(d)||(d=Bmt(),Uj(d)),Po(d)&&(u?d.add(t):d.delete(t))}))}),[e,t]),K.useCallback((()=>{e.update((()=>{const u=Nt();Po(u)&&u.clear()}))}),[e])]}const H0t=Object.freeze(Object.defineProperty({__proto__:null,useLexicalNodeSelection:Z0t},Symbol.toStringTag,{value:"Module"})),X0t=H0t,Y0t=X0t.useLexicalNodeSelection;function K0t({nodeKey:t}){const[e]=pa(),[i,s,u]=Y0t(t);return K.useEffect((()=>yu(e.registerCommand(rye,(d=>{const h=e.getElementByKey(t);return d.target===h&&(d.shiftKey||u(),s(!i),!0)}),Bx))),[u,e,i,t,s]),K.useEffect((()=>{const d=e.getElementByKey(t),h=e._config.theme.hrSelected??"selected";d!==null&&(i?Js(d,h):VA(d,h))}),[e,i,t]),null}let fV=class qxe extends ngt{static getType(){return"horizontalrule"}static clone(e){return new qxe(e.__key)}static importJSON(e){return hV().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:J0t,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const i=document.createElement("hr");return Js(i,e.theme.hr),i}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return I.jsx(K0t,{nodeKey:this.__key})}};function J0t(){return{node:hV()}}function hV(){return kc(new fV)}function eyt(t){return t instanceof fV}const tyt=Object.freeze(Object.defineProperty({__proto__:null,$createHorizontalRuleNode:hV,$isHorizontalRuleNode:eyt,HorizontalRuleNode:fV},Symbol.toStringTag,{value:"Module"})),pV=tyt,nyt=pV.$createHorizontalRuleNode,ryt=pV.$isHorizontalRuleNode,iyt=pV.HorizontalRuleNode,Zxe=[{dependencies:[iyt],export:t=>ryt(t)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(t,e,i,s)=>{const u=nyt();s||t.getNextSibling()!=null?t.replace(u):t.insertBefore(u),u.selectNext()},type:"element"},...KA];function ayt({transformers:t=Zxe}){const[e]=pa();return K.useEffect((()=>u0t(e,t)),[e,t]),null}const oyt=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_TRANSFORMERS:Zxe,MarkdownShortcutPlugin:ayt},Symbol.toStringTag,{value:"Module"})),syt=oyt,lyt=syt.MarkdownShortcutPlugin,uyt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?K.useLayoutEffect:K.useEffect;function cyt({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:i}){const[s]=pa();return uyt((()=>{if(i)return s.registerUpdateListener((({editorState:u,dirtyElements:d,dirtyLeaves:h,prevEditorState:m,tags:y})=>{e&&d.size===0&&h.size===0||t&&y.has(Zj)||m.isEmpty()||i(u,s,y)}))}),[s,t,e,i]),null}const dyt=Object.freeze(Object.defineProperty({__proto__:null,OnChangePlugin:cyt},Symbol.toStringTag,{value:"Module"})),fyt=dyt,Hxe=fyt.OnChangePlugin,hyt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?K.useLayoutEffect:K.useEffect;function pyt(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function myt(){return(function(t){const[e]=pa(),i=K.useMemo((()=>t(e)),[e,t]),[s,u]=K.useState((()=>i.initialValueFn())),d=K.useRef(s);return hyt((()=>{const{initialValueFn:h,subscribe:m}=i,y=h();return d.current!==y&&(d.current=y,u(y)),m((_=>{d.current=_,u(_)}))}),[i,t]),s})(pyt)}const gyt=Object.freeze(Object.defineProperty({__proto__:null,useLexicalEditable:myt},Symbol.toStringTag,{value:"Module"})),vyt=gyt,Xxe=vyt.useLexicalEditable;function yyt(t){const e=window.location.origin,i=s=>{if(s.origin!==e)return;const u=t.getRootElement();if(document.activeElement!==u)return;const d=s.data;if(typeof d=="string"){let h;try{h=JSON.parse(d)}catch{return}if(h&&h.protocol==="nuanria_messaging"&&h.type==="request"){const m=h.payload;if(m&&m.functionId==="makeChanges"){const y=m.args;if(y){const[_,b,T,C,A,D]=y;t.update((()=>{const L=Nt();if(jt(L)){const z=L.anchor;let $=z.getNode(),Q=0,B=0;if(Er($)&&_>=0&&b>=0&&(Q=_,B=_+b,L.setTextNodeRange($,Q,$,B)),Q===B&&T===""||(L.insertRawText(T),$=z.getNode()),Er($)){Q=C,B=C+A;const q=$.getTextContentSize();Q=Q>q?q:Q,B=B>q?q:B,L.setTextNodeRange($,Q,$,B)}s.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",i,!0),()=>{window.removeEventListener("message",i,!0)}}const xyt=Object.freeze(Object.defineProperty({__proto__:null,registerDragonSupport:yyt},Symbol.toStringTag,{value:"Module"})),_yt=xyt,Yxe=_yt.registerDragonSupport,Az=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?K.useLayoutEffect:K.useEffect;function Boe(t){return t.getEditorState().read(uV(t.isComposing()))}function Oyt({contentEditable:t,placeholder:e=null,ErrorBoundary:i}){const[s]=pa(),u=(function(d,h){const[m,y]=K.useState((()=>d.getDecorators()));return Az((()=>d.registerDecoratorListener((_=>{Bd.flushSync((()=>{y(_)}))}))),[d]),K.useEffect((()=>{y(d.getDecorators())}),[d]),K.useMemo((()=>{const _=[],b=Object.keys(m);for(let T=0;T<b.length;T++){const C=b[T],A=I.jsx(h,{onError:L=>d._onError(L),children:I.jsx(K.Suspense,{fallback:null,children:m[C]})}),D=d.getElementByKey(C);D!==null&&_.push(Bd.createPortal(A,D,C))}return _}),[h,m,d])})(s,i);return(function(d){Az((()=>yu(Cvt(d),Yxe(d))),[d])})(s),I.jsxs(I.Fragment,{children:[t,I.jsx(byt,{content:e}),u]})}function byt({content:t}){const[e]=pa(),i=(function(u){const[d,h]=K.useState((()=>Boe(u)));return Az((()=>{function m(){const y=Boe(u);h(y)}return m(),yu(u.registerUpdateListener((()=>{m()})),u.registerEditableListener((()=>{m()})))}),[u]),d})(e),s=Xxe();return i?typeof t=="function"?t(s):t:null}const wyt=Object.freeze(Object.defineProperty({__proto__:null,RichTextPlugin:Oyt},Symbol.toStringTag,{value:"Module"})),Syt=wyt,Kxe=Syt.RichTextPlugin;function Jxe(){return{namespace:"DocumentEditor",nodes:[Yye,WA,GA,Kye,axe,zvt,lxe],onError:t=>{console.error("Lexical error:",t)}}}const Tyt=({editorState:t,editor:e,onSaveContent:i})=>{let s="";e.getEditorState().read(()=>{s=Nxe(KA)}),i(s,!0)};function Cyt({content:t,status:e,onSaveContent:i,isReadonly:s}){const[u]=pa(),d=K.useRef(!1);K.useEffect(()=>{if(t){if(d.current=!0,e==="streaming"){u.update(()=>{const _=Xi().getChildren();for(const b of _)b.remove();Ioe(t)},{discrete:!0,onUpdate:()=>{d.current=!1}});return}let m="";u.getEditorState().read(()=>{m=Nxe(KA)}),m.trim()!==t.trim()&&u.update(()=>{const _=Xi().getChildren();for(const b of _)b.remove();Ioe(t)},{discrete:!0,onUpdate:()=>{d.current=!1}})}},[t,e,u]);const h=m=>{s||d.current||Tyt({editorState:m,editor:u,onSaveContent:i})};return I.jsx(Hxe,{onChange:h})}function kyt({content:t,onSaveContent:e,status:i,isReadonly:s}){const d={...Jxe(),editable:!s};return I.jsx("div",{className:"prose dark:prose-invert relative text-left",children:I.jsxs(lV,{initialConfig:d,children:[I.jsx(Kxe,{contentEditable:I.jsx(cV,{className:"lexical-editor text-left outline-hidden"}),ErrorBoundary:dV,placeholder:I.jsx("div",{className:"text-gray-400",children:"Start typing..."})}),I.jsx(Uxe,{}),I.jsx(q0t,{}),I.jsx(lyt,{transformers:KA}),I.jsx(Cyt,{content:t,isReadonly:s,onSaveContent:e,status:i})]})})}function Ayt(t,e){return t.currentVersionIndex===e.currentVersionIndex&&t.isCurrentVersion===e.isCurrentVersion&&!(t.status==="streaming"&&e.status==="streaming")&&t.content===e.content&&t.onSaveContent===e.onSaveContent&&t.isReadonly===e.isReadonly}const e1e=K.memo(kyt,Ayt),t1e=(t,e)=>{switch(t){case"create":return e==="present"?"Creating":"Created";case"update":return e==="present"?"Updating":"Updated";default:return null}};function Pyt({type:t,result:e,isReadonly:i,messageId:s}){const{setArtifact:u}=hu();return I.jsxs("button",{className:"flex w-fit cursor-pointer flex-row items-center gap-3 rounded-xl border bg-background px-3 py-2",onClick:()=>{u({documentId:e.id,kind:e.kind,content:"",title:e.title,messageId:s,isVisible:!0,status:"idle"})},type:"button",children:[I.jsx("div",{className:"text-muted-foreground",children:t==="create"?I.jsx(S_,{size:16}):t==="update"?I.jsx(Tp,{size:16}):null}),I.jsx("div",{className:"text-left",children:`${t1e(t,"past")} "${e.title}"`})]})}const Eyt=K.memo(Pyt,()=>!0);function Myt({type:t,args:e,isReadonly:i}){const{setArtifact:s}=hu();return I.jsxs("button",{className:"cursor pointer flex w-fit flex-row items-start justify-between gap-3 rounded-xl border px-3 py-2",onClick:()=>{s(u=>({...u,isVisible:!0}))},type:"button",children:[I.jsxs("div",{className:"flex flex-row items-start gap-3",children:[I.jsx("div",{className:"mt-1 text-zinc-500",children:t==="create"?I.jsx(S_,{size:16}):t==="update"?I.jsx(Tp,{size:16}):null}),I.jsx("div",{className:"text-left",children:`${t1e(t,"present")} ${e.title?`"${e.title}"`:""}`})]}),I.jsx("div",{className:"mt-1 animate-spin",children:I.jsx(du,{size:16})})]})}const Dyt=K.memo(Myt,()=>!0);function Iyt({isReadonly:t,output:e,input:i,messageId:s,type:u="create",isLastArtifact:d=!0}){const{artifact:h,setArtifact:m}=hu(),{data:y,isLoading:_}=Fse(e?.documentId||"",e?.documentId==="init"||h.status==="streaming"),b=K.useMemo(()=>y?.[0],[y]),T=K.useRef(null);if(h.isVisible||!d){if(e)return I.jsx(Eyt,{isReadonly:t,messageId:s,result:{id:e.documentId,title:e.title||h.title,kind:e.kind},type:u});if(i)return I.jsx(Dyt,{args:{title:i.title},isReadonly:t,type:u})}if(_)return I.jsx(Qoe,{artifactKind:e?.kind??i?.kind??h.kind});const C=b||(h.status==="streaming"?{title:h.title,kind:h.kind,content:h.content,id:h.documentId,createdAt:new Date,userId:"noop",messageId:"noop"}:null);return C?I.jsxs("div",{className:"relative w-full cursor-pointer",children:[I.jsx(Lyt,{hitboxRef:T,messageId:s,output:e,setArtifact:m}),I.jsx(zyt,{isStreaming:h.status==="streaming",kind:C.kind,title:C.title,type:u}),I.jsx(Byt,{document:C})]}):I.jsx(Qoe,{artifactKind:h.kind})}const Qoe=({artifactKind:t})=>I.jsxs("div",{className:"w-full",children:[I.jsxs("div",{className:"flex h-[57px] flex-row items-center justify-between gap-2 rounded-t-2xl border border-b-0 p-4 dark:border-zinc-700 dark:bg-muted",children:[I.jsxs("div",{className:"flex flex-row items-center gap-3",children:[I.jsx("div",{className:"text-muted-foreground",children:I.jsx("div",{className:"size-4 animate-pulse rounded-md bg-muted-foreground/20"})}),I.jsx("div",{className:"h-4 w-24 animate-pulse rounded-lg bg-muted-foreground/20"})]}),I.jsx("div",{children:I.jsx(ule,{size:16})})]}),I.jsx("div",{className:"overflow-y-scroll rounded-b-2xl border border-t-0 bg-muted p-8 pt-4 dark:border-zinc-700",children:I.jsx(vft,{})})]}),Ryt=({hitboxRef:t,output:e,setArtifact:i,messageId:s})=>{const u=K.useCallback(d=>{e&&i(h=>h.status==="streaming"?{...h,isVisible:!0}:{...h,title:e.title,documentId:e.documentId,messageId:s,kind:e.kind,isVisible:!0})},[i,e,s]);return I.jsx("div",{"aria-hidden":"true",className:"absolute top-0 left-0 z-10 size-full rounded-xl",onClick:u,ref:t,role:"presentation",children:I.jsx("div",{className:"flex w-full items-center justify-end p-4",children:I.jsx("div",{className:"absolute top-[13px] right-[9px] rounded-md p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700",children:I.jsx(ule,{size:16})})})})},Lyt=K.memo(Ryt,(t,e)=>!!eB(t.output,e.output)),Nyt=(t,e)=>{switch(t){case"create":return e==="present"?"Creating":"Created";case"update":return e==="present"?"Updating":"Updated";default:return""}},$yt=({title:t,kind:e,isStreaming:i,type:s})=>I.jsxs("div",{className:"flex flex-row items-start justify-between gap-2 rounded-t-2xl border border-b-0 p-4 sm:items-center dark:border-zinc-700 dark:bg-muted",children:[I.jsxs("div",{className:"flex flex-row items-start gap-3 sm:items-center",children:[I.jsx("div",{className:"text-muted-foreground",children:i?I.jsx("div",{className:"animate-spin",children:I.jsx(du,{size:16})}):s==="update"?I.jsx(Tp,{size:16}):I.jsx(S_,{size:16})}),I.jsx("div",{className:"-translate-y-1 font-medium sm:translate-y-0",children:i&&s==="update"?`${Nyt(s,"present")} "${t}"`:t})]}),I.jsx("div",{className:"w-8"})]}),zyt=K.memo($yt,(t,e)=>!(t.title!==e.title||t.isStreaming!==e.isStreaming)),Byt=({document:t})=>{const{artifact:e}=hu(),i=We("h-[257px] overflow-y-scroll rounded-b-2xl border border-t-0 dark:border-zinc-700 dark:bg-muted",{"p-4 sm:px-14 sm:py-16":t.kind==="text","p-0":t.kind==="code"}),s={content:t.content??"",isCurrentVersion:!0,currentVersionIndex:0,status:e.status,saveContent:()=>{}};return I.jsx("div",{className:i,children:t.kind==="text"?I.jsx(e1e,{...s,onSaveContent:()=>{}}):t.kind==="code"?I.jsx("div",{className:"relative flex w-full flex-1",children:I.jsx("div",{className:"absolute inset-0",children:I.jsx(nve,{...s,onSaveContent:()=>{}})})}):t.kind==="sheet"?I.jsx("div",{className:"relative flex size-full flex-1 p-4",children:I.jsx("div",{className:"absolute inset-0",children:I.jsx(pve,{...s})})}):t.kind==="image"?I.jsx(_ft,{content:t.content??"",currentVersionIndex:0,isCurrentVersion:!0,isInline:!0,status:e.status,title:t.title}):null})};function Qyt({tool:t,isReadonly:e,messageId:i}){const{setArtifact:s}=hu(),u=cYe(t.type),d=dYe(t.type),h=xYe(t.toolCallId),m=t.input?.title??"",y=t.input?.content??"";if(K.useEffect(()=>{if((t.state==="input-streaming"||t.state==="input-available")&&s(_=>({..._,documentId:"init",title:m,content:y,kind:u,messageId:i,status:"streaming",..._.status!=="streaming"&&{isVisible:!0}})),t.state==="output-available"&&t.output){const _=t.output;_.status==="success"&&s(b=>({...b,documentId:_.documentId,status:"idle",date:_.date}))}},[t,i,u,m,y,s]),t.state==="output-error"||t.output?.status==="error"){const _=t.output,b=_?.status==="error"?_.error:t.errorText;return I.jsxs("div",{className:"rounded border p-2 text-red-500",children:["Error: ",b]})}return t.state==="input-streaming"||t.state==="input-available"||t.state==="output-available"&&t.output?I.jsx(Iyt,{input:{title:m,kind:u,content:y},isLastArtifact:h,isReadonly:e,messageId:i,output:t.output?{documentId:t.output.documentId,title:m,kind:u}:void 0,type:d?"update":"create"}):null}const jyt=K.memo(Qyt,(t,e)=>t.tool.state===e.tool.state&&t.tool.input?.title===e.tool.input?.title&&t.tool.input?.content===e.tool.input?.content&&t.tool.output===e.tool.output&&t.tool.errorText===e.tool.errorText&&t.isReadonly===e.isReadonly&&t.messageId===e.messageId),Vyt=({className:t,title:e,type:i,state:s,icon:u,...d})=>I.jsxs(eQ,{className:We("flex w-full items-center justify-between gap-4 p-3",t),...d,children:[I.jsxs("div",{className:"flex items-center gap-2",children:[u??I.jsx(Yse,{className:"size-4 text-muted-foreground"}),I.jsx("span",{className:"font-medium text-sm",children:e??i.split("-").slice(1).join("-")}),mhe(s)]}),I.jsx(O_,{className:"size-4 text-muted-foreground transition-transform group-data-[state=open]:rotate-180"})]});function Fyt({part:t}){const{data:e}=Ia(),i=!!e?.user,{data:s}=Cp({queryKey:W3.list,queryFn:XQe,enabled:i}),u=K.useMemo(()=>SQe(t.toolName),[t.toolName]),d=K.useMemo(()=>{if(!(u&&s))return;const m=s.find(y=>y.nameId===u.namespace);if(m)return ele(m.url)},[u,s]),h=d?I.jsx(tv,{className:"size-4 rounded-sm",url:d}):I.jsx(Yse,{className:"size-4 text-muted-foreground"});return I.jsxs(ktt,{defaultOpen:!1,children:[I.jsx(Vyt,{icon:h,state:t.state,title:t.title??u?.toolName??t.toolName,type:`tool-${t.toolName}`}),I.jsxs(Att,{children:[I.jsx(Ptt,{input:t.input}),I.jsx(Ett,{errorText:t.state==="output-error"?t.errorText:void 0,output:t.state==="output-available"?t.output:void 0})]})]})}async function Gyt(t,e){if(t.stopPropagation(),!!e)try{const s=await(await fetch(e)).blob();await navigator.clipboard.write([new ClipboardItem({[s.type]:s})]),En.success("Copied image to clipboard!")}catch{En.error("Failed to copy image to clipboard")}}async function Wyt(t,e){if(t.stopPropagation(),!!e)try{const s=await(await fetch(e)).blob(),u=URL.createObjectURL(s),d=document.createElement("a");d.href=u,d.download=`image-${Date.now()}.png`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)}catch{En.error("Failed to download image")}}function n1e({className:t,imageUrl:e}){return I.jsxs("div",{className:We("flex items-center gap-1",t),children:[I.jsxs(xn,{className:"bg-black/50 text-white hover:bg-black/70 hover:text-white",onClick:i=>Gyt(i,e),size:"icon-sm",title:"Copy image",variant:"ghost",children:[I.jsx(Sp,{size:16}),I.jsx("span",{className:"sr-only",children:"Copy image"})]}),I.jsxs(xn,{className:"bg-black/50 text-white hover:bg-black/70 hover:text-white",onClick:i=>Wyt(i,e),size:"icon-sm",title:"Download image",variant:"ghost",children:[I.jsx(lle,{size:16}),I.jsx("span",{className:"sr-only",children:"Download image"})]})]})}function r1e({isOpen:t,onClose:e,imageUrl:i,imageName:s,showActions:u=!0}){return I.jsx(Tk,{onOpenChange:e,open:t,children:I.jsxs(Ck,{className:"h-screen w-screen max-w-none rounded-none border-none bg-background/50 p-0 backdrop-blur-sm sm:max-w-none",showCloseButton:!1,children:[I.jsx(kk,{className:"sr-only",children:s??"Image Preview"}),I.jsx(Vz,{className:"sr-only",children:s??"Image preview"}),I.jsxs(nje,{className:"absolute top-4 left-4 z-10 rounded-lg bg-white/10 p-2 text-white hover:bg-white/20",children:[I.jsx(bc,{size:20}),I.jsx("span",{className:"sr-only",children:"Close"})]}),I.jsx("button",{className:"group flex h-full w-full cursor-pointer items-center justify-center border-0 bg-transparent p-0",onClick:()=>e(),type:"button",children:I.jsx("img",{alt:s??"Expanded image",className:"max-h-[90vh] max-w-[90vw] object-contain",onClick:d=>d.stopPropagation(),src:i||void 0})}),u&&I.jsx(n1e,{className:"absolute top-4 right-4",imageUrl:i})]})})}function Uyt({tool:t}){const[e,i]=K.useState(!1);if(t.state==="input-available")return I.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-4 rounded-lg border p-8",children:[I.jsx("div",{className:"h-64 w-full animate-pulse rounded-lg bg-muted-foreground/20"}),I.jsxs("div",{className:"text-muted-foreground",children:['Generating image: "',t.input.prompt,'"']})]});const s=t.output;return s?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex w-full flex-col gap-4 overflow-hidden rounded-lg border",children:[I.jsxs("div",{className:"group relative",children:[I.jsx("button",{className:"w-full cursor-pointer text-left",onClick:()=>i(!0),type:"button",children:I.jsx("img",{alt:s.prompt,className:"h-auto w-full max-w-full",height:512,src:s.imageUrl,width:512})}),I.jsx(n1e,{className:"absolute top-2 right-2 opacity-0 transition-opacity group-hover:opacity-100",imageUrl:s.imageUrl})]}),I.jsx("div",{className:"p-4 pt-0",children:I.jsxs("p",{className:"text-muted-foreground text-sm",children:['Generated from: "',s.prompt,'"']})})]}),I.jsx(r1e,{imageName:s.prompt,imageUrl:s.imageUrl,isOpen:e,onClose:()=>i(!1)})]}):null}const mV=K.memo(({className:t,...e})=>I.jsx(Wde,{className:We("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",t),...e}),(t,e)=>t.children===e.children);mV.displayName="Response";const i1e=K.createContext(null),qyt=()=>{const t=K.useContext(i1e);if(!t)throw new Error("Reasoning components must be used within Reasoning");return t},Zyt=1e3,Hyt=1e3,a1e=K.memo(({className:t,isStreaming:e=!1,open:i,defaultOpen:s=!0,onOpenChange:u,duration:d,children:h,...m})=>{const[y,_]=ip({prop:i,defaultProp:s,onChange:u}),[b,T]=ip({prop:d,defaultProp:0}),[C,A]=K.useState(!1),[D,L]=K.useState(null);K.useEffect(()=>{e?D===null&&L(Date.now()):D!==null&&(T(Math.ceil((Date.now()-D)/Hyt)),L(null))},[e,D,T]),K.useEffect(()=>{if(s&&!e&&y&&!C){const $=setTimeout(()=>{_(!1),A(!0)},Zyt);return()=>clearTimeout($)}},[e,y,s,_,C]);const z=$=>{_($)};return I.jsx(i1e.Provider,{value:{isStreaming:e,isOpen:y,setIsOpen:_,duration:b},children:I.jsx(JB,{className:We("not-prose mb-4",t),onOpenChange:z,open:y,...m,children:h})})}),Xyt=(t,e)=>t?I.jsx(ghe,{duration:1,children:"Thinking..."}):e===void 0||e===0?I.jsx("p",{children:"Thought for a few seconds"}):I.jsxs("p",{children:["Thought for ",e," seconds"]}),o1e=K.memo(({className:t,children:e,...i})=>{const{isStreaming:s,isOpen:u,duration:d}=qyt();return I.jsx(eQ,{className:We("flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",t),...i,children:e??I.jsxs(I.Fragment,{children:[I.jsx(rje,{className:"size-4"}),Xyt(s,d),I.jsx(O_,{className:We("size-4 transition-transform",u?"rotate-180":"rotate-0")})]})})}),s1e=K.memo(({className:t,children:e,...i})=>I.jsx(tQ,{className:We("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-muted-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",t),...i,children:I.jsx(mV,{className:"grid gap-2",children:e})}));a1e.displayName="Reasoning";o1e.displayName="ReasoningTrigger";s1e.displayName="ReasoningContent";function Yyt({isLoading:t,content:e}){return I.jsxs(a1e,{className:"mb-2",isStreaming:t,children:[I.jsx(o1e,{"data-testid":"message-reasoning-toggle"}),I.jsx(s1e,{"data-testid":"message-reasoning",children:e})]})}const Kyt=K.memo(Yyt);function Jyt({tool:t}){if(t.state==="input-available")return null;const e=t.output;return e?I.jsxs("div",{className:"flex w-fit items-center gap-3 rounded-xl px-3 py-2 text-muted-foreground",children:[I.jsx(S_,{size:16}),I.jsxs("div",{className:"flex items-center gap-1 text-left text-sm",children:[I.jsx("div",{className:"",children:"Read"}),I.jsxs("div",{className:"",children:["“",e.title,"”"]})]})]}):null}const ext=K.memo(Jyt,()=>!0);function txt(){return I.jsx("div",{className:"my-4 rounded-xl border border-neutral-200 bg-linear-to-b from-white to-neutral-50 p-4 dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-900/90",children:I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsxs("div",{className:"relative h-10 w-10",children:[I.jsx("div",{className:"absolute inset-0 animate-pulse rounded-full bg-primary/10"}),I.jsx(x1,{className:"absolute inset-0 m-auto h-5 w-5 text-primary/70"})]}),I.jsxs("div",{className:"flex-1 space-y-2",children:[I.jsx("div",{className:"h-4 w-36 animate-pulse rounded-md bg-neutral-200 dark:bg-neutral-800"}),I.jsxs("div",{className:"space-y-1.5",children:[I.jsx("div",{className:"h-3 w-full animate-pulse rounded-md bg-neutral-100 dark:bg-neutral-800/50"}),I.jsx("div",{className:"h-3 w-2/3 animate-pulse rounded-md bg-neutral-100 dark:bg-neutral-800/50"})]})]})]})})}function nxt({errorMessage:t}){return I.jsx("div",{className:"my-4 rounded-xl border border-red-200 bg-red-50 p-4 dark:border-red-500 dark:bg-red-950/50",children:I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/50",children:I.jsx(x1,{className:"h-4 w-4 text-red-600 dark:text-red-300"})}),I.jsxs("div",{children:[I.jsx("div",{className:"font-medium text-red-700 text-sm dark:text-red-300",children:"Error retrieving content"}),I.jsx("div",{className:"mt-1 text-red-600/80 text-xs dark:text-red-400/80",children:t})]})]})})}function Vx(t,e,i){return t&&typeof t=="object"&&e in t?t[e]??i:i}function rxt({firstItem:t}){const e=Vx(t,"url",""),i=Vx(t,"title","Retrieved Content"),s=Vx(t,"description","No description available"),u=Vx(t,"language","Unknown");return I.jsx("div",{className:"p-4",children:I.jsxs("div",{className:"flex items-start gap-4",children:[I.jsxs("div",{className:"relative h-10 w-10 shrink-0",children:[I.jsx("div",{className:"absolute inset-0 rounded-lg bg-linear-to-br from-primary/10 to-transparent"}),I.jsx(Fz,{alt:"",className:"absolute inset-0 m-auto",height:20,src:`https://www.google.com/s2/favicons?sz=64&domain_url=${encodeURIComponent(e)}`,width:20})]}),I.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[I.jsx("h2",{className:"truncate font-semibold text-lg text-neutral-900 tracking-tight dark:text-neutral-100",children:i}),I.jsx("p",{className:"line-clamp-2 text-neutral-600 text-sm dark:text-neutral-400",children:s}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"rounded-full bg-primary/10 px-2.5 py-0.5 font-medium text-primary text-xs",children:u}),I.jsxs("a",{className:"inline-flex items-center gap-1.5 text-neutral-500 text-xs transition-colors hover:text-primary",href:e||"#",rel:"noopener noreferrer",target:"_blank",children:[I.jsx(tle,{className:"h-3 w-3"}),"View source"]})]})]})]})})}function ixt({firstItem:t}){const e=Vx(t,"content","No content available");return I.jsx("div",{className:"border-neutral-200 border-t dark:border-neutral-800",children:I.jsxs("details",{className:"group",children:[I.jsxs("summary",{className:"flex w-full cursor-pointer items-center justify-between px-4 py-2 text-neutral-700 text-sm transition-colors hover:bg-neutral-50 dark:text-neutral-300 dark:hover:bg-neutral-800/50",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(SVe,{className:"h-4 w-4 text-neutral-400"}),I.jsx("span",{children:"View content"})]}),I.jsx(O_,{className:"h-4 w-4 transition-transform duration-200 group-open:rotate-180"})]}),I.jsx("div",{className:"max-h-[50vh] overflow-y-auto bg-neutral-50/50 p-4 dark:bg-neutral-800/30",children:I.jsx("div",{className:"prose prose-neutral dark:prose-invert prose-sm max-w-none",children:I.jsx(Gde,{children:e})})})]})})}function axt(t){if(t&&typeof t=="object"&&"results"in t&&Array.isArray(t.results))return t.results[0]}function oxt(t,e){const i=t&&typeof t=="object"&&"error"in t?t.error:void 0,s=e&&typeof e=="object"&&"error"in e?e.error:void 0;return i??s??null}function sxt({tool:t}){if(t.state==="input-available")return I.jsx(txt,{});const{output:e}=t,i=axt(e),s=oxt(e,i);return s?I.jsx(nxt,{errorMessage:s}):I.jsxs("div",{className:"my-4 overflow-hidden rounded-xl border border-neutral-200 bg-linear-to-b from-white to-neutral-50 dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-900/90",children:[I.jsx(rxt,{firstItem:i}),I.jsx(ixt,{firstItem:i})]})}const lxt=K.memo(({text:t,isLoading:e})=>I.jsx(mV,{isAnimating:e,mode:e?"streaming":"static",children:t}));let uxt={};function oO(){return uxt}function p_(t,e){const i=oO(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=oi(t,e?.in),d=u.getDay(),h=(d<s?7:0)+d-s;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function ak(t,e){return p_(t,{...e,weekStartsOn:1})}function l1e(t,e){const i=oi(t,e?.in),s=i.getFullYear(),u=nv(i,0);u.setFullYear(s+1,0,4),u.setHours(0,0,0,0);const d=ak(u),h=nv(i,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const m=ak(h);return i.getTime()>=d.getTime()?s+1:i.getTime()>=m.getTime()?s:s-1}function ok(t){const e=oi(t),i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return i.setUTCFullYear(e.getFullYear()),+t-+i}function cxt(t,e,i){const[s,u]=Pk(i?.in,t,e),d=aJ(s),h=aJ(u),m=+d-ok(d),y=+h-ok(h);return Math.round((m-y)/aje)}function dxt(t,e){const i=l1e(t,e),s=nv(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),ak(s)}function ET(t,e){const i=+oi(t)-+oi(e);return i<0?-1:i>0?1:i}function fxt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hxt(t){return!(!fxt(t)&&typeof t!="number"||isNaN(+oi(t)))}function pxt(t,e,i){const[s,u]=Pk(i?.in,t,e),d=s.getFullYear()-u.getFullYear(),h=s.getMonth()-u.getMonth();return d*12+h}function mxt(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function gxt(t,e){return+oi(t)-+oi(e)}function vxt(t,e){const i=oi(t,e?.in);return i.setHours(23,59,59,999),i}function yxt(t,e){const i=oi(t,e?.in),s=i.getMonth();return i.setFullYear(i.getFullYear(),s+1,0),i.setHours(23,59,59,999),i}function xxt(t,e){const i=oi(t,e?.in);return+vxt(i,e)==+yxt(i,e)}function _xt(t,e,i){const[s,u,d]=Pk(i?.in,t,t,e),h=ET(u,d),m=Math.abs(pxt(u,d));if(m<1)return 0;u.getMonth()===1&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-h*m);let y=ET(u,d)===-h;xxt(s)&&m===1&&ET(s,d)===1&&(y=!1);const _=h*(m-+y);return _===0?0:_}function Oxt(t,e,i){const s=gxt(t,e)/1e3;return mxt(i?.roundingMethod)(s)}function bxt(t,e){const i=oi(t,e?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const wxt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sxt=(t,e,i)=>{let s;const u=wxt[t];return typeof u=="string"?s=u:e===1?s=u.one:s=u.other.replace("{{count}}",e.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function M3(t){return(e={})=>{const i=e.width?String(e.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}const Txt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cxt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kxt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Axt={date:M3({formats:Txt,defaultWidth:"full"}),time:M3({formats:Cxt,defaultWidth:"full"}),dateTime:M3({formats:kxt,defaultWidth:"full"})},Pxt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ext=(t,e,i,s)=>Pxt[t];function vx(t){return(e,i)=>{const s=i?.context?String(i.context):"standalone";let u;if(s==="formatting"&&t.formattingValues){const h=t.defaultFormattingWidth||t.defaultWidth,m=i?.width?String(i.width):h;u=t.formattingValues[m]||t.formattingValues[h]}else{const h=t.defaultWidth,m=i?.width?String(i.width):t.defaultWidth;u=t.values[m]||t.values[h]}const d=t.argumentCallback?t.argumentCallback(e):e;return u[d]}}const Mxt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dxt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ixt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rxt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lxt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nxt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$xt=(t,e)=>{const i=Number(t),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},zxt={ordinalNumber:$xt,era:vx({values:Mxt,defaultWidth:"wide"}),quarter:vx({values:Dxt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vx({values:Ixt,defaultWidth:"wide"}),day:vx({values:Rxt,defaultWidth:"wide"}),dayPeriod:vx({values:Lxt,defaultWidth:"wide",formattingValues:Nxt,defaultFormattingWidth:"wide"})};function yx(t){return(e,i={})=>{const s=i.width,u=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],d=e.match(u);if(!d)return null;const h=d[0],m=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],y=Array.isArray(m)?Qxt(m,T=>T.test(h)):Bxt(m,T=>T.test(h));let _;_=t.valueCallback?t.valueCallback(y):y,_=i.valueCallback?i.valueCallback(_):_;const b=e.slice(h.length);return{value:_,rest:b}}}function Bxt(t,e){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return i}function Qxt(t,e){for(let i=0;i<t.length;i++)if(e(t[i]))return i}function jxt(t){return(e,i={})=>{const s=e.match(t.matchPattern);if(!s)return null;const u=s[0],d=e.match(t.parsePattern);if(!d)return null;let h=t.valueCallback?t.valueCallback(d[0]):d[0];h=i.valueCallback?i.valueCallback(h):h;const m=e.slice(u.length);return{value:h,rest:m}}}const Vxt=/^(\d+)(th|st|nd|rd)?/i,Fxt=/\d+/i,Gxt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wxt={any:[/^b/i,/^(a|c)/i]},Uxt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qxt={any:[/1/i,/2/i,/3/i,/4/i]},Zxt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hxt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xxt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yxt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kxt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jxt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e1t={ordinalNumber:jxt({matchPattern:Vxt,parsePattern:Fxt,valueCallback:t=>parseInt(t,10)}),era:yx({matchPatterns:Gxt,defaultMatchWidth:"wide",parsePatterns:Wxt,defaultParseWidth:"any"}),quarter:yx({matchPatterns:Uxt,defaultMatchWidth:"wide",parsePatterns:qxt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:yx({matchPatterns:Zxt,defaultMatchWidth:"wide",parsePatterns:Hxt,defaultParseWidth:"any"}),day:yx({matchPatterns:Xxt,defaultMatchWidth:"wide",parsePatterns:Yxt,defaultParseWidth:"any"}),dayPeriod:yx({matchPatterns:Kxt,defaultMatchWidth:"any",parsePatterns:Jxt,defaultParseWidth:"any"})},u1e={code:"en-US",formatDistance:Sxt,formatLong:Axt,formatRelative:Ext,localize:zxt,match:e1t,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t1t(t,e){const i=oi(t,e?.in);return cxt(i,bxt(i))+1}function n1t(t,e){const i=oi(t,e?.in),s=+ak(i)-+dxt(i);return Math.round(s/ile)+1}function c1e(t,e){const i=oi(t,e?.in),s=i.getFullYear(),u=oO(),d=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,h=nv(e?.in||t,0);h.setFullYear(s+1,0,d),h.setHours(0,0,0,0);const m=p_(h,e),y=nv(e?.in||t,0);y.setFullYear(s,0,d),y.setHours(0,0,0,0);const _=p_(y,e);return+i>=+m?s+1:+i>=+_?s:s-1}function r1t(t,e){const i=oO(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=c1e(t,e),d=nv(e?.in||t,0);return d.setFullYear(u,0,s),d.setHours(0,0,0,0),p_(d,e)}function i1t(t,e){const i=oi(t,e?.in),s=+p_(i,e)-+r1t(i,e);return Math.round(s/ile)+1}function tr(t,e){const i=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return i+s}const fd={y(t,e){const i=t.getFullYear(),s=i>0?i:1-i;return tr(e==="yy"?s%100:s,e.length)},M(t,e){const i=t.getMonth();return e==="M"?String(i+1):tr(i+1,2)},d(t,e){return tr(t.getDate(),e.length)},a(t,e){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(t,e){return tr(t.getHours()%12||12,e.length)},H(t,e){return tr(t.getHours(),e.length)},m(t,e){return tr(t.getMinutes(),e.length)},s(t,e){return tr(t.getSeconds(),e.length)},S(t,e){const i=e.length,s=t.getMilliseconds(),u=Math.trunc(s*Math.pow(10,i-3));return tr(u,e.length)}},yg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},joe={G:function(t,e,i){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});default:return i.era(s,{width:"wide"})}},y:function(t,e,i){if(e==="yo"){const s=t.getFullYear(),u=s>0?s:1-s;return i.ordinalNumber(u,{unit:"year"})}return fd.y(t,e)},Y:function(t,e,i,s){const u=c1e(t,s),d=u>0?u:1-u;if(e==="YY"){const h=d%100;return tr(h,2)}return e==="Yo"?i.ordinalNumber(d,{unit:"year"}):tr(d,e.length)},R:function(t,e){const i=l1e(t);return tr(i,e.length)},u:function(t,e){const i=t.getFullYear();return tr(i,e.length)},Q:function(t,e,i){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return tr(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,i){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return tr(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,i){const s=t.getMonth();switch(e){case"M":case"MM":return fd.M(t,e);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,i){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return tr(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,i,s){const u=i1t(t,s);return e==="wo"?i.ordinalNumber(u,{unit:"week"}):tr(u,e.length)},I:function(t,e,i){const s=n1t(t);return e==="Io"?i.ordinalNumber(s,{unit:"week"}):tr(s,e.length)},d:function(t,e,i){return e==="do"?i.ordinalNumber(t.getDate(),{unit:"date"}):fd.d(t,e)},D:function(t,e,i){const s=t1t(t);return e==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):tr(s,e.length)},E:function(t,e,i){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,i,s){const u=t.getDay(),d=(u-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(d);case"ee":return tr(d,2);case"eo":return i.ordinalNumber(d,{unit:"day"});case"eee":return i.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(u,{width:"short",context:"formatting"});default:return i.day(u,{width:"wide",context:"formatting"})}},c:function(t,e,i,s){const u=t.getDay(),d=(u-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(d);case"cc":return tr(d,e.length);case"co":return i.ordinalNumber(d,{unit:"day"});case"ccc":return i.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(u,{width:"narrow",context:"standalone"});case"cccccc":return i.day(u,{width:"short",context:"standalone"});default:return i.day(u,{width:"wide",context:"standalone"})}},i:function(t,e,i){const s=t.getDay(),u=s===0?7:s;switch(e){case"i":return String(u);case"ii":return tr(u,e.length);case"io":return i.ordinalNumber(u,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,i){const u=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,e,i){const s=t.getHours();let u;switch(s===12?u=yg.noon:s===0?u=yg.midnight:u=s/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,e,i){const s=t.getHours();let u;switch(s>=17?u=yg.evening:s>=12?u=yg.afternoon:s>=4?u=yg.morning:u=yg.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,e,i){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return fd.h(t,e)},H:function(t,e,i){return e==="Ho"?i.ordinalNumber(t.getHours(),{unit:"hour"}):fd.H(t,e)},K:function(t,e,i){const s=t.getHours()%12;return e==="Ko"?i.ordinalNumber(s,{unit:"hour"}):tr(s,e.length)},k:function(t,e,i){let s=t.getHours();return s===0&&(s=24),e==="ko"?i.ordinalNumber(s,{unit:"hour"}):tr(s,e.length)},m:function(t,e,i){return e==="mo"?i.ordinalNumber(t.getMinutes(),{unit:"minute"}):fd.m(t,e)},s:function(t,e,i){return e==="so"?i.ordinalNumber(t.getSeconds(),{unit:"second"}):fd.s(t,e)},S:function(t,e){return fd.S(t,e)},X:function(t,e,i){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Foe(s);case"XXXX":case"XX":return $h(s);default:return $h(s,":")}},x:function(t,e,i){const s=t.getTimezoneOffset();switch(e){case"x":return Foe(s);case"xxxx":case"xx":return $h(s);default:return $h(s,":")}},O:function(t,e,i){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Voe(s,":");default:return"GMT"+$h(s,":")}},z:function(t,e,i){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Voe(s,":");default:return"GMT"+$h(s,":")}},t:function(t,e,i){const s=Math.trunc(+t/1e3);return tr(s,e.length)},T:function(t,e,i){return tr(+t,e.length)}};function Voe(t,e=""){const i=t>0?"-":"+",s=Math.abs(t),u=Math.trunc(s/60),d=s%60;return d===0?i+String(u):i+String(u)+e+tr(d,2)}function Foe(t,e){return t%60===0?(t>0?"-":"+")+tr(Math.abs(t)/60,2):$h(t,e)}function $h(t,e=""){const i=t>0?"-":"+",s=Math.abs(t),u=tr(Math.trunc(s/60),2),d=tr(s%60,2);return i+u+e+d}const Goe=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},d1e=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},a1t=(t,e)=>{const i=t.match(/(P+)(p+)?/)||[],s=i[1],u=i[2];if(!u)return Goe(t,e);let d;switch(s){case"P":d=e.dateTime({width:"short"});break;case"PP":d=e.dateTime({width:"medium"});break;case"PPP":d=e.dateTime({width:"long"});break;default:d=e.dateTime({width:"full"});break}return d.replace("{{date}}",Goe(s,e)).replace("{{time}}",d1e(u,e))},o1t={p:d1e,P:a1t},s1t=/^D+$/,l1t=/^Y+$/,u1t=["D","DD","YY","YYYY"];function c1t(t){return s1t.test(t)}function d1t(t){return l1t.test(t)}function f1t(t,e,i){const s=h1t(t,e,i);if(console.warn(s),u1t.includes(t))throw new RangeError(s)}function h1t(t,e,i){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p1t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m1t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g1t=/^'([^]*?)'?$/,v1t=/''/g,y1t=/[a-zA-Z]/;function x1t(t,e,i){const s=oO(),u=s.locale??u1e,d=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=oi(t,i?.in);if(!hxt(m))throw new RangeError("Invalid time value");let y=e.match(m1t).map(b=>{const T=b[0];if(T==="p"||T==="P"){const C=o1t[T];return C(b,u.formatLong)}return b}).join("").match(p1t).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const T=b[0];if(T==="'")return{isToken:!1,value:_1t(b)};if(joe[T])return{isToken:!0,value:b};if(T.match(y1t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:b}});u.localize.preprocessor&&(y=u.localize.preprocessor(m,y));const _={firstWeekContainsDate:d,weekStartsOn:h,locale:u};return y.map(b=>{if(!b.isToken)return b.value;const T=b.value;(d1t(T)||c1t(T))&&f1t(T,e,String(t));const C=joe[T[0]];return C(m,T,u.localize,_)}).join("")}function _1t(t){const e=t.match(g1t);return e?e[1].replace(v1t,"'"):t}function f1e(t,e,i){const s=oO(),u=i?.locale??s.locale??u1e,d=2520,h=ET(t,e);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},i,{addSuffix:i?.addSuffix,comparison:h}),[y,_]=Pk(i?.in,...h>0?[e,t]:[t,e]),b=Oxt(_,y),T=(ok(_)-ok(y))/1e3,C=Math.round((b-T)/60);let A;if(C<2)return i?.includeSeconds?b<5?u.formatDistance("lessThanXSeconds",5,m):b<10?u.formatDistance("lessThanXSeconds",10,m):b<20?u.formatDistance("lessThanXSeconds",20,m):b<40?u.formatDistance("halfAMinute",0,m):b<60?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",1,m):C===0?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",C,m);if(C<45)return u.formatDistance("xMinutes",C,m);if(C<90)return u.formatDistance("aboutXHours",1,m);if(C<oJ){const D=Math.round(C/60);return u.formatDistance("aboutXHours",D,m)}else{if(C<d)return u.formatDistance("xDays",1,m);if(C<Vw){const D=Math.round(C/oJ);return u.formatDistance("xDays",D,m)}else if(C<Vw*2)return A=Math.round(C/Vw),u.formatDistance("aboutXMonths",A,m)}if(A=_xt(_,y),A<12){const D=Math.round(C/Vw);return u.formatDistance("xMonths",D,m)}else{const D=A%12,L=Math.trunc(A/12);return D<3?u.formatDistance("aboutXYears",L,m):D<9?u.formatDistance("overXYears",L,m):u.formatDistance("almostXYears",L+1,m)}}function O1t(t,e,i){const s=+oi(t,i?.in),[u,d]=[+oi(e.start,i?.in),+oi(e.end,i?.in)].sort((h,m)=>h-m);return s>=u&&s<=d}const b1t={latitude:37.763283,longitude:-122.41286,generationtime_ms:.027894973754882812,utc_offset_seconds:0,timezone:"GMT",timezone_abbreviation:"GMT",elevation:18,current_units:{time:"iso8601",interval:"seconds",temperature_2m:"°C"},current:{time:"2024-10-07T19:30",interval:900,temperature_2m:29.3},hourly_units:{time:"iso8601",temperature_2m:"°C"},hourly:{time:["2024-10-07T00:00","2024-10-07T01:00","2024-10-07T02:00","2024-10-07T03:00","2024-10-07T04:00","2024-10-07T05:00","2024-10-07T06:00","2024-10-07T07:00","2024-10-07T08:00","2024-10-07T09:00","2024-10-07T10:00","2024-10-07T11:00","2024-10-07T12:00","2024-10-07T13:00","2024-10-07T14:00","2024-10-07T15:00","2024-10-07T16:00","2024-10-07T17:00","2024-10-07T18:00","2024-10-07T19:00","2024-10-07T20:00","2024-10-07T21:00","2024-10-07T22:00","2024-10-07T23:00","2024-10-08T00:00","2024-10-08T01:00","2024-10-08T02:00","2024-10-08T03:00","2024-10-08T04:00","2024-10-08T05:00","2024-10-08T06:00","2024-10-08T07:00","2024-10-08T08:00","2024-10-08T09:00","2024-10-08T10:00","2024-10-08T11:00","2024-10-08T12:00","2024-10-08T13:00","2024-10-08T14:00","2024-10-08T15:00","2024-10-08T16:00","2024-10-08T17:00","2024-10-08T18:00","2024-10-08T19:00","2024-10-08T20:00","2024-10-08T21:00","2024-10-08T22:00","2024-10-08T23:00","2024-10-09T00:00","2024-10-09T01:00","2024-10-09T02:00","2024-10-09T03:00","2024-10-09T04:00","2024-10-09T05:00","2024-10-09T06:00","2024-10-09T07:00","2024-10-09T08:00","2024-10-09T09:00","2024-10-09T10:00","2024-10-09T11:00","2024-10-09T12:00","2024-10-09T13:00","2024-10-09T14:00","2024-10-09T15:00","2024-10-09T16:00","2024-10-09T17:00","2024-10-09T18:00","2024-10-09T19:00","2024-10-09T20:00","2024-10-09T21:00","2024-10-09T22:00","2024-10-09T23:00","2024-10-10T00:00","2024-10-10T01:00","2024-10-10T02:00","2024-10-10T03:00","2024-10-10T04:00","2024-10-10T05:00","2024-10-10T06:00","2024-10-10T07:00","2024-10-10T08:00","2024-10-10T09:00","2024-10-10T10:00","2024-10-10T11:00","2024-10-10T12:00","2024-10-10T13:00","2024-10-10T14:00","2024-10-10T15:00","2024-10-10T16:00","2024-10-10T17:00","2024-10-10T18:00","2024-10-10T19:00","2024-10-10T20:00","2024-10-10T21:00","2024-10-10T22:00","2024-10-10T23:00","2024-10-11T00:00","2024-10-11T01:00","2024-10-11T02:00","2024-10-11T03:00"],temperature_2m:[36.6,32.8,29.5,28.6,29.2,28.2,27.5,26.6,26.5,26,25,23.5,23.9,24.2,22.9,21,24,28.1,31.4,33.9,32.1,28.9,26.9,25.2,23,21.1,19.6,18.6,17.7,16.8,16.2,15.5,14.9,14.4,14.2,13.7,13.3,12.9,12.5,13.5,15.8,17.7,19.6,21,21.9,22.3,22,20.7,18.9,17.9,17.3,17,16.7,16.2,15.6,15.2,15,15,15.1,14.8,14.8,14.9,14.7,14.8,15.3,16.2,17.9,19.6,20.5,21.6,21,20.7,19.3,18.7,18.4,17.9,17.3,17,17,16.8,16.4,16.2,16,15.8,15.7,15.4,15.4,16.1,16.7,17,18.6,19,19.5,19.4,18.5,17.9,17.5,16.7,16.3,16.1]},daily_units:{time:"iso8601",sunrise:"iso8601",sunset:"iso8601"},daily:{time:["2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11"],sunrise:["2024-10-07T07:15","2024-10-08T07:16","2024-10-09T07:17","2024-10-10T07:18","2024-10-11T07:19"],sunset:["2024-10-07T19:00","2024-10-08T18:58","2024-10-09T18:57","2024-10-10T18:55","2024-10-11T18:54"]}};function US(t){return Math.ceil(t)}function Woe({weatherAtLocation:t}){const e=Math.max(...t.hourly.temperature_2m.slice(0,24)),i=Math.min(...t.hourly.temperature_2m.slice(0,24)),s=O1t(new Date(t.current.time),{start:new Date(t.daily.sunrise[0]),end:new Date(t.daily.sunset[0])}),d=yk()?5:6,h=t.hourly.time.findIndex(_=>new Date(_)>=new Date(t.current.time)),m=t.hourly.time.slice(h,h+d),y=t.hourly.temperature_2m.slice(h,h+d);return I.jsxs("div",{className:tp("skeleton-bg flex max-w-[500px] flex-col gap-4 rounded-2xl p-4",{"bg-blue-400":s},{"bg-indigo-900":!s}),children:[I.jsxs("div",{className:"flex flex-row items-center justify-between",children:[I.jsxs("div",{className:"flex flex-row items-center gap-2",children:[I.jsx("div",{className:tp("skeleton-div size-10 rounded-full",{"bg-yellow-300":s},{"bg-indigo-100":!s})}),I.jsxs("div",{className:"font-medium text-4xl text-blue-50",children:[US(t.current.temperature_2m),t.current_units.temperature_2m]})]}),I.jsx("div",{className:"text-blue-50",children:`H:${US(e)}° L:${US(i)}°`})]}),I.jsx("div",{className:"flex flex-row justify-between",children:m.map((_,b)=>I.jsxs("div",{className:"flex flex-col items-center gap-1",children:[I.jsx("div",{className:"text-blue-100 text-xs",children:x1t(new Date(_),"ha")}),I.jsx("div",{className:tp("skeleton-div size-6 rounded-full",{"bg-yellow-300":s},{"bg-indigo-200":!s})}),I.jsxs("div",{className:"text-blue-50 text-sm",children:[US(y[b]),t.hourly_units.temperature_2m]})]},_))})]})}function w1t({tool:t}){const e=t.state==="input-available",i=t.state==="output-available"?t.output:b1t;return e?I.jsx("div",{className:"skeleton",children:I.jsx(Woe,{weatherAtLocation:i})},t.toolCallId):I.jsx(Woe,{weatherAtLocation:i})}function S1t({messageId:t,part:e}){const{toolCallId:i,state:s}=e,u=Kde(t,i);return s==="input-available"||s==="output-available"?I.jsx("div",{className:"flex flex-col gap-3",children:I.jsx(Nhe,{updates:u.map(d=>d.data)})},i):null}function T1t({part:t,messageId:e,isReadonly:i}){const s=t.type;return s==="tool-getWeather"?I.jsx(w1t,{tool:t}):s==="tool-createTextDocument"||s==="tool-createCodeDocument"||s==="tool-createSheetDocument"||s==="tool-editTextDocument"||s==="tool-editCodeDocument"||s==="tool-editSheetDocument"?I.jsx(jyt,{isReadonly:i,messageId:e,tool:t}):s==="tool-retrieveUrl"?I.jsx(sxt,{tool:t}):s==="tool-readDocument"?I.jsx(ext,{tool:t}):s==="tool-codeExecution"?I.jsx(jtt,{tool:t}):s==="tool-generateImage"?I.jsx(Uyt,{tool:t}):s==="tool-deepResearch"?I.jsx(Lnt,{messageId:e,part:t}):s==="tool-webSearch"?I.jsx(S1t,{messageId:e,part:t}):null}function C1t({messageId:t,partIdx:e,isReadonly:i,isLoading:s}){const u=Yde(t,e);return a7e(u)?I.jsx(lxt,{isLoading:s,text:u.text}):o7e(u)?I.jsx(Kyt,{content:u.text,isLoading:s}):i7e(u)?null:zT(u)?$T(u)?I.jsx(T1t,{isReadonly:i,messageId:t,part:u}):I.jsx(Fyt,{isReadonly:i,messageId:t,part:u}):null}const k1t=K.memo(C1t);function A1t({messageId:t,isLoading:e,isReadonly:i}){const s=Xde(t);return s.map((u,d)=>I.jsx(k1t,{isLoading:e&&d===s.length-1,isReadonly:i,messageId:t,partIdx:d},`message-${t}-${u}-${d}`))}const P1t=K.memo(A1t);function E1t({messageId:t}){const e=xue(t),i=Pp();return e.activeStreamId&&i==="submitted"?I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx(vL,{className:"h-4 w-4/5 rounded-full"}),I.jsx(vL,{className:"h-4 w-3/5 rounded-full"}),I.jsx(vL,{className:"h-4 w-2/5 rounded-full"})]}):null}const M1t=({messageId:t,isLoading:e,isReadonly:i})=>{const s=$k(),u=xue(t),d=Pp(),h=u.activeStreamId!==null&&d==="submitted";return!s||h?null:I.jsx(Ude,{className:"w-full max-w-full items-start py-1",from:"assistant",children:I.jsxs(I4,{className:"w-full px-0 py-0 text-left",children:[I.jsx(E1t,{messageId:t}),I.jsx(P1t,{isLoading:e,isReadonly:i,messageId:t}),I.jsx(Lhe,{messageId:t},`sources-annotations-${t}`),I.jsx(hfe,{chatId:s,isLoading:e,isReadOnly:i,messageId:t},`action-${t}`),i?null:I.jsx(OYe,{messageId:t})]})})},D1t=K.memo(M1t,(t,e)=>!(t.messageId!==e.messageId||t.isLoading!==e.isLoading||t.isReadonly!==e.isReadonly));var D3,JA="HoverCard",[h1e]=bk(JA,[ale]),eP=ale(),[I1t,tP]=h1e(JA),p1e=t=>{const{__scopeHoverCard:e,children:i,open:s,defaultOpen:u,onOpenChange:d,openDelay:h=700,closeDelay:m=300}=t,y=eP(e),_=K.useRef(0),b=K.useRef(0),T=K.useRef(!1),C=K.useRef(!1),[A,D]=ip({prop:s,defaultProp:u??!1,onChange:d,caller:JA}),L=K.useCallback(()=>{clearTimeout(b.current),_.current=window.setTimeout(()=>D(!0),h)},[h,D]),z=K.useCallback(()=>{clearTimeout(_.current),!T.current&&!C.current&&(b.current=window.setTimeout(()=>D(!1),m))},[m,D]),$=K.useCallback(()=>D(!1),[D]);return K.useEffect(()=>()=>{clearTimeout(_.current),clearTimeout(b.current)},[]),I.jsx(I1t,{scope:e,open:A,onOpenChange:D,onOpen:L,onClose:z,onDismiss:$,hasSelectionRef:T,isPointerDownOnContentRef:C,children:I.jsx(sje,{...y,children:i})})};p1e.displayName=JA;var m1e="HoverCardTrigger",g1e=K.forwardRef((t,e)=>{const{__scopeHoverCard:i,...s}=t,u=tP(m1e,i),d=eP(i);return I.jsx(oje,{asChild:!0,...d,children:I.jsx(vs.a,{"data-state":u.open?"open":"closed",...s,ref:e,onPointerEnter:la(t.onPointerEnter,lk(u.onOpen)),onPointerLeave:la(t.onPointerLeave,lk(u.onClose)),onFocus:la(t.onFocus,u.onOpen),onBlur:la(t.onBlur,u.onClose),onTouchStart:la(t.onTouchStart,h=>h.preventDefault())})})});g1e.displayName=m1e;var gV="HoverCardPortal",[R1t,L1t]=h1e(gV,{forceMount:void 0}),v1e=t=>{const{__scopeHoverCard:e,forceMount:i,children:s,container:u}=t,d=tP(gV,e);return I.jsx(R1t,{scope:e,forceMount:i,children:I.jsx(w_,{present:i||d.open,children:I.jsx(GQe,{asChild:!0,container:u,children:s})})})};v1e.displayName=gV;var sk="HoverCardContent",y1e=K.forwardRef((t,e)=>{const i=L1t(sk,t.__scopeHoverCard),{forceMount:s=i.forceMount,...u}=t,d=tP(sk,t.__scopeHoverCard);return I.jsx(w_,{present:s||d.open,children:I.jsx(N1t,{"data-state":d.open?"open":"closed",...u,onPointerEnter:la(t.onPointerEnter,lk(d.onOpen)),onPointerLeave:la(t.onPointerLeave,lk(d.onClose)),ref:e})})});y1e.displayName=sk;var N1t=K.forwardRef((t,e)=>{const{__scopeHoverCard:i,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,...m}=t,y=tP(sk,i),_=eP(i),b=K.useRef(null),T=wk(e,b),[C,A]=K.useState(!1);return K.useEffect(()=>{if(C){const D=document.body;return D3=D.style.userSelect||D.style.webkitUserSelect,D.style.userSelect="none",D.style.webkitUserSelect="none",()=>{D.style.userSelect=D3,D.style.webkitUserSelect=D3}}},[C]),K.useEffect(()=>{if(b.current){const D=()=>{A(!1),y.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(y.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",D),()=>{document.removeEventListener("pointerup",D),y.hasSelectionRef.current=!1,y.isPointerDownOnContentRef.current=!1}}},[y.isPointerDownOnContentRef,y.hasSelectionRef]),K.useEffect(()=>{b.current&&B1t(b.current).forEach(L=>L.setAttribute("tabindex","-1"))}),I.jsx(WQe,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:h,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:la(d,D=>{D.preventDefault()}),onDismiss:y.onDismiss,children:I.jsx(lje,{..._,...m,onPointerDown:la(m.onPointerDown,D=>{D.currentTarget.contains(D.target)&&A(!0),y.hasSelectionRef.current=!1,y.isPointerDownOnContentRef.current=!0}),ref:T,style:{...m.style,userSelect:C?"text":void 0,WebkitUserSelect:C?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),$1t="HoverCardArrow",z1t=K.forwardRef((t,e)=>{const{__scopeHoverCard:i,...s}=t,u=eP(i);return I.jsx(uje,{...u,...s,ref:e})});z1t.displayName=$1t;function lk(t){return e=>e.pointerType==="touch"?void 0:t()}function B1t(t){const e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;i.nextNode();)e.push(i.currentNode);return e}var Q1t=p1e,j1t=g1e,V1t=v1e,F1t=y1e;function x1e({...t}){return I.jsx(Q1t,{"data-slot":"hover-card",...t})}function _1e({...t}){return I.jsx(j1t,{"data-slot":"hover-card-trigger",...t})}function O1e({className:t,align:e="center",sideOffset:i=4,...s}){return I.jsx(V1t,{"data-slot":"hover-card-portal",children:I.jsx(F1t,{align:e,className:We("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",t),"data-slot":"hover-card-content",sideOffset:i,...s})})}const b1e=K.forwardRef(({className:t,...e},i)=>I.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...e}));b1e.displayName="Textarea";function G1t({className:t,...e}){return I.jsx("div",{"data-slot":"input-group",role:"group",className:We("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",t),...e})}const W1t=Bz("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function w1e({className:t,align:e="inline-start",...i}){return I.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":e,className:We(W1t({align:e}),t),onClick:s=>{s.target.closest("button")||s.currentTarget.parentElement?.querySelector("input")?.focus()},...i})}const U1t=Bz("text-sm shadow-none flex gap-2 items-center",{variants:{size:{xs:"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2",sm:"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5","icon-xs":"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0","icon-sm":"size-8 p-0 has-[>svg]:p-0"}},defaultVariants:{size:"xs"}});function S1e({className:t,type:e="button",variant:i="ghost",size:s="xs",...u}){return I.jsx(xn,{type:e,"data-size":s,variant:i,className:We(U1t({size:s}),t),...u})}const q1t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let T1e=(t=21)=>{let e="",i=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=q1t[i[t]&63];return e};const Z1t=K.createContext(null);K.createContext(null);const H1t=()=>K.useContext(Z1t),X1t=K.createContext(null),Y1t=({className:t,inputGroupClassName:e,accept:i,multiple:s,globalDrop:u,syncHiddenInput:d,maxFiles:h,maxFileSize:m,onError:y,onSubmit:_,children:b,...T})=>{const C=H1t(),A=!!C,D=K.useRef(null),L=K.useRef(null),z=K.useRef(null);K.useEffect(()=>{const ue=L.current?.closest("form");ue instanceof HTMLFormElement&&(z.current=ue)},[]);const[$,Q]=K.useState([]),B=A?C.attachments.files:$,q=K.useCallback(()=>{D.current?.click()},[]),Y=K.useCallback(ue=>!i||i.trim()===""?!0:i.includes("image/*")?ue.type.startsWith("image/"):!0,[i]),G=K.useCallback(ue=>{const ne=Array.from(ue),me=ne.filter(be=>Y(be));if(ne.length&&me.length===0){y?.({code:"accept",message:"No files match the accepted types."});return}const ge=be=>m?be.size<=m:!0,ee=me.filter(ge);if(me.length>0&&ee.length===0){y?.({code:"max_file_size",message:"All files exceed the maximum size."});return}Q(be=>{const Me=typeof h=="number"?Math.max(0,h-be.length):void 0,se=typeof Me=="number"?ee.slice(0,Me):ee;typeof Me=="number"&&ee.length>Me&&y?.({code:"max_files",message:"Too many files. Some were not added."});const Ae=[];for(const we of se)Ae.push({id:T1e(),type:"file",url:URL.createObjectURL(we),mediaType:we.type,filename:we.name});return be.concat(Ae)})},[Y,h,m,y]),H=A?ue=>C.attachments.add(ue):G,V=A?ue=>C.attachments.remove(ue):ue=>Q(ne=>{const me=ne.find(ge=>ge.id===ue);return me?.url&&URL.revokeObjectURL(me.url),ne.filter(ge=>ge.id!==ue)}),F=A?()=>C.attachments.clear():()=>Q(ue=>{for(const ne of ue)ne.url&&URL.revokeObjectURL(ne.url);return[]}),te=A?()=>C.attachments.openFileDialog():q;K.useEffect(()=>{A&&C.__registerFileInput(D,()=>D.current?.click())},[A,C]),K.useEffect(()=>{d&&D.current&&B.length===0&&(D.current.value="")},[B,d]),K.useEffect(()=>{const ue=z.current;if(!ue)return;const ne=ge=>{ge.dataTransfer?.types?.includes("Files")&&ge.preventDefault()},me=ge=>{ge.dataTransfer?.types?.includes("Files")&&ge.preventDefault(),ge.dataTransfer?.files&&ge.dataTransfer.files.length>0&&H(ge.dataTransfer.files)};return ue.addEventListener("dragover",ne),ue.addEventListener("drop",me),()=>{ue.removeEventListener("dragover",ne),ue.removeEventListener("drop",me)}},[H]),K.useEffect(()=>{if(!u)return;const ue=me=>{me.dataTransfer?.types?.includes("Files")&&me.preventDefault()},ne=me=>{me.dataTransfer?.types?.includes("Files")&&me.preventDefault(),me.dataTransfer?.files&&me.dataTransfer.files.length>0&&H(me.dataTransfer.files)};return document.addEventListener("dragover",ue),document.addEventListener("drop",ne),()=>{document.removeEventListener("dragover",ue),document.removeEventListener("drop",ne)}},[H,u]),K.useEffect(()=>()=>{if(!A)for(const ue of B)ue.url&&URL.revokeObjectURL(ue.url)},[A,B]);const ae=ue=>{ue.currentTarget.files&&H(ue.currentTarget.files)},oe=async ue=>{const me=await(await fetch(ue)).blob();return new Promise((ge,ee)=>{const be=new FileReader;be.onloadend=()=>ge(be.result),be.onerror=ee,be.readAsDataURL(me)})},fe=K.useMemo(()=>({files:B.map(ue=>({...ue,id:ue.id})),add:H,remove:V,clear:F,openFileDialog:te,fileInputRef:D}),[B,H,V,F,te]),de=ue=>{ue.preventDefault();const ne=ue.currentTarget,me=A?C.textInput.value:new FormData(ne).get("message")||"";A||ne.reset(),Promise.all(B.map(async({id:ge,...ee})=>ee.url&&ee.url.startsWith("blob:")?{...ee,url:await oe(ee.url)}:ee)).then(ge=>{try{const ee=_({text:me,files:ge},ue);ee instanceof Promise?ee.then(()=>{F(),A&&C.textInput.clear()}).catch(()=>{}):(F(),A&&C.textInput.clear())}catch{}})},he=I.jsxs(I.Fragment,{children:[I.jsx("span",{"aria-hidden":"true",className:"hidden",ref:L}),I.jsx("input",{accept:i,"aria-label":"Upload files",className:"hidden",multiple:s,onChange:ae,ref:D,title:"Upload files",type:"file"}),I.jsx("form",{className:We("w-full",t),onSubmit:de,...T,children:I.jsx(G1t,{className:We("overflow-hidden",e),children:b})})]});return A?he:I.jsx(X1t.Provider,{value:fe,children:he})},K1t=({className:t,...e})=>I.jsx(w1e,{align:"block-end",className:We("order-first flex-wrap gap-1",t),...e}),J1t=({className:t,...e})=>I.jsx(w1e,{align:"block-end",className:We("justify-between gap-1",t),...e}),e_t=({className:t,...e})=>I.jsx("div",{className:We("flex items-center gap-1",t),...e}),I3=({variant:t="ghost",className:e,size:i,...s})=>{const u=i??(K.Children.count(s.children)>1?"sm":"icon-sm");return I.jsx(S1e,{className:We(e),size:u,type:"button",variant:t,...s})},t_t=({className:t,variant:e="default",size:i="icon-sm",status:s,children:u,...d})=>{let h=I.jsx(Qje,{className:"size-4"});return s==="submitted"?h=I.jsx(du,{className:"size-4 animate-spin"}):s==="streaming"?h=I.jsx(fle,{className:"size-4"}):s==="error"&&(h=I.jsx(bc,{className:"size-4"})),I.jsx(S1e,{"aria-label":"Submit",className:We(t),size:i,type:"submit",variant:e,...d,children:u??h})},n_t=({openDelay:t=0,closeDelay:e=0,...i})=>I.jsx(x1e,{closeDelay:e,openDelay:t,...i}),r_t=({align:t="start",...e})=>I.jsx(O1e,{align:t,...e});function i_t(){return I.jsx("div",{className:"flex size-full items-center justify-center",children:I.jsx(du,{className:"size-5 animate-spin text-muted-foreground"})})}function a_t({name:t,url:e}){return I.jsx(Fz,{alt:t||"attachment",className:"object-cover",fill:!0,sizes:"80px",src:e})}function o_t({isPdf:t}){return I.jsx("div",{className:"flex size-full items-center justify-center",children:t?I.jsx(_1,{className:"size-5 text-red-500"}):I.jsx(cle,{className:"size-5 text-muted-foreground"})})}function s_t({isUploading:t,isImage:e,isPdf:i,name:s,url:u}){return t?I.jsx(i_t,{}):e?I.jsx(a_t,{name:s,url:u}):I.jsx(o_t,{isPdf:i})}function l_t({attachment:t,isUploading:e,onRemove:i,className:s}){const{name:u,url:d,contentType:h}=t,m=!!(h?.startsWith("image/")&&d),y=h==="application/pdf";return I.jsxs("div",{className:We("group relative size-20 shrink-0 select-none overflow-hidden rounded-xl border border-border bg-muted/30 shadow-xs",e&&"opacity-60",s),"data-testid":"input-attachment-preview",children:[I.jsx(s_t,{isImage:m,isPdf:y,isUploading:e,name:u,url:d}),i&&!e&&I.jsxs(xn,{"aria-label":"Remove attachment",className:"absolute top-1 right-1 size-6 rounded-full border border-border bg-background/90 p-0 opacity-0 shadow-sm backdrop-blur transition-opacity group-hover:opacity-100 supports-[backdrop-filter]:bg-background/70 [&>svg]:size-3",onClick:_=>{_.stopPropagation(),i()},size:"icon",type:"button",variant:"ghost",children:[I.jsx(bc,{}),I.jsx("span",{className:"sr-only",children:"Remove"})]})]})}function u_t({isImage:t,isPdf:e,url:i,name:s}){return t?I.jsx(Fz,{alt:s||"attachment",className:"size-5 object-cover",height:20,src:i,width:20}):e?I.jsx(_1,{className:"size-3 text-red-500"}):I.jsx(cle,{className:"size-3 text-muted-foreground"})}function c_t({attachment:t,isUploading:e,onRemove:i}){const{name:s,url:u,contentType:d}=t,h=!!(d?.startsWith("image/")&&u),m=d==="application/pdf",y=s||(h?"Image":"Attachment");return I.jsxs("div",{className:We("group relative flex h-8 cursor-default select-none items-center gap-1.5 rounded-md border border-border px-1.5 font-medium text-sm transition-all hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",e&&"opacity-60"),"data-testid":"input-attachment-preview",children:[I.jsxs("div",{className:"relative size-5 shrink-0",children:[I.jsx("div",{className:We("absolute inset-0 flex size-5 items-center justify-center overflow-hidden rounded bg-background transition-opacity",i&&!e&&"group-hover:opacity-0"),children:e?I.jsx(du,{className:"size-3 animate-spin text-muted-foreground","data-testid":"input-attachment-loader"}):I.jsx(u_t,{isImage:h,isPdf:m,name:s,url:u})}),i&&!e&&I.jsxs(xn,{"aria-label":"Remove attachment",className:"absolute inset-0 size-5 cursor-pointer rounded p-0 opacity-0 transition-opacity group-hover:pointer-events-auto group-hover:opacity-100 [&>svg]:size-2.5",onClick:_=>{_.stopPropagation(),i()},type:"button",variant:"ghost",children:[I.jsx(bc,{}),I.jsx("span",{className:"sr-only",children:"Remove"})]})]}),I.jsx("span",{className:"max-w-24 flex-1 truncate",children:y})]})}function Uoe({attachment:t,isUploading:e=!1,onRemove:i,onImageClick:s,variant:u="card"}){const{name:d,url:h,contentType:m}=t,y=!!(m?.startsWith("image/")&&h),_=d||(y?"Image":"Attachment"),b=u==="pill"?I.jsx(c_t,{attachment:t,isUploading:e,onRemove:i}):I.jsx(l_t,{attachment:t,isUploading:e,onRemove:i});return e||!h?b:I.jsxs(n_t,{children:[I.jsx(_1e,{asChild:!0,children:I.jsx("button",{className:"inline-block cursor-default text-left",onClick:T=>{T.stopPropagation(),y&&s&&s(h,d)},type:"button",children:b})}),I.jsx(r_t,{className:"w-auto p-2",children:I.jsxs("div",{className:"flex items-center gap-2.5",children:[I.jsx("h4",{className:"min-w-0 flex-1 truncate px-0.5 font-semibold text-sm leading-none",children:_}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx(xn,{className:"size-7",onClick:T=>{T.stopPropagation(),window.open(h,"_blank")},size:"icon",title:"Open",variant:"ghost",children:I.jsx(tle,{className:"size-3.5"})}),I.jsx(xn,{className:"size-7",onClick:async T=>{T.stopPropagation();try{const A=await(await fetch(h)).blob(),D=URL.createObjectURL(A),L=document.createElement("a");L.href=D,L.download=d||"file",L.click(),URL.revokeObjectURL(D)}catch{window.open(h,"_blank")}},size:"icon",title:"Download",variant:"ghost",children:I.jsx(lle,{className:"size-3.5"})})]})]})})]})}function Pz({attachments:t,uploadQueue:e=[],onRemoveAction:i,onImageClick:s,variant:u="card",testId:d="attachments",className:h}){return t.length===0&&e.length===0?null:I.jsxs("div",{className:We("flex flex-row flex-wrap items-end gap-2",h),"data-testid":d,children:[t.map(m=>I.jsx(Uoe,{attachment:m,onImageClick:s,onRemove:i?()=>i(m):void 0,variant:u},m.url)),e.map(m=>I.jsx(Uoe,{attachment:{url:"",name:m,contentType:""},isUploading:!0,variant:u},m))]})}var R3={exports:{}},L3,qoe;function d_t(){if(qoe)return L3;qoe=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return L3=t,L3}var N3,Zoe;function f_t(){if(Zoe)return N3;Zoe=1;var t=d_t();function e(){}function i(){}return i.resetWarningCache=e,N3=function(){function s(h,m,y,_,b,T){if(T!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:i,resetWarningCache:e};return d.PropTypes=d,d},N3}var Hoe;function h_t(){return Hoe||(Hoe=1,R3.exports=f_t()()),R3.exports}var p_t=h_t();const or=cu(p_t),m_t=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _v(t,e,i){const s=g_t(t),{webkitRelativePath:u}=t,d=typeof e=="string"?e:typeof u=="string"&&u.length>0?u:`./${t.name}`;return typeof s.path!="string"&&Xoe(s,"path",d),Xoe(s,"relativePath",d),s}function g_t(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const s=e.split(".").pop().toLowerCase(),u=m_t.get(s);u&&Object.defineProperty(t,"type",{value:u,writable:!1,configurable:!1,enumerable:!0})}return t}function Xoe(t,e,i){Object.defineProperty(t,e,{value:i,writable:!1,configurable:!1,enumerable:!0})}const v_t=[".DS_Store","Thumbs.db"];function y_t(t){return kp(this,void 0,void 0,function*(){return uk(t)&&x_t(t.dataTransfer)?w_t(t.dataTransfer,t.type):__t(t)?O_t(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?b_t(t):[]})}function x_t(t){return uk(t)}function __t(t){return uk(t)&&uk(t.target)}function uk(t){return typeof t=="object"&&t!==null}function O_t(t){return Ez(t.target.files).map(e=>_v(e))}function b_t(t){return kp(this,void 0,void 0,function*(){return(yield Promise.all(t.map(i=>i.getFile()))).map(i=>_v(i))})}function w_t(t,e){return kp(this,void 0,void 0,function*(){if(t.items){const i=Ez(t.items).filter(u=>u.kind==="file");if(e!=="drop")return i;const s=yield Promise.all(i.map(S_t));return Yoe(C1e(s))}return Yoe(Ez(t.files).map(i=>_v(i)))})}function Yoe(t){return t.filter(e=>v_t.indexOf(e.name)===-1)}function Ez(t){if(t===null)return[];const e=[];for(let i=0;i<t.length;i++){const s=t[i];e.push(s)}return e}function S_t(t){if(typeof t.webkitGetAsEntry!="function")return Koe(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?k1e(e):Koe(t,e)}function C1e(t){return t.reduce((e,i)=>[...e,...Array.isArray(i)?C1e(i):[i]],[])}function Koe(t,e){return kp(this,void 0,void 0,function*(){var i;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const d=yield t.getAsFileSystemHandle();if(d===null)throw new Error(`${t} is not a File`);if(d!==void 0){const h=yield d.getFile();return h.handle=d,_v(h)}}const s=t.getAsFile();if(!s)throw new Error(`${t} is not a File`);return _v(s,(i=e?.fullPath)!==null&&i!==void 0?i:void 0)})}function T_t(t){return kp(this,void 0,void 0,function*(){return t.isDirectory?k1e(t):C_t(t)})}function k1e(t){const e=t.createReader();return new Promise((i,s)=>{const u=[];function d(){e.readEntries(h=>kp(this,void 0,void 0,function*(){if(h.length){const m=Promise.all(h.map(T_t));u.push(m),d()}else try{const m=yield Promise.all(u);i(m)}catch(m){s(m)}}),h=>{s(h)})}d()})}function C_t(t){return kp(this,void 0,void 0,function*(){return new Promise((e,i)=>{t.file(s=>{const u=_v(s,t.fullPath);e(u)},s=>{i(s)})})})}var qS={},Joe;function k_t(){return Joe||(Joe=1,qS.__esModule=!0,qS.default=function(t,e){if(t&&e){var i=Array.isArray(e)?e:e.split(",");if(i.length===0)return!0;var s=t.name||"",u=(t.type||"").toLowerCase(),d=u.replace(/\/.*$/,"");return i.some(function(h){var m=h.trim().toLowerCase();return m.charAt(0)==="."?s.toLowerCase().endsWith(m):m.endsWith("/*")?d===m.replace(/\/.*$/,""):u===m})}return!0}),qS}var A_t=k_t();const $3=cu(A_t);function ese(t){return M_t(t)||E_t(t)||P1e(t)||P_t()}function P_t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M_t(t){if(Array.isArray(t))return Mz(t)}function tse(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),i.push.apply(i,s)}return i}function nse(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tse(Object(i),!0).forEach(function(s){A1e(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tse(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function A1e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function m_(t,e){return R_t(t)||I_t(t,e)||P1e(t,e)||D_t()}function D_t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1e(t,e){if(t){if(typeof t=="string")return Mz(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mz(t,e)}}function Mz(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function I_t(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s=[],u=!0,d=!1,h,m;try{for(i=i.call(t);!(u=(h=i.next()).done)&&(s.push(h.value),!(e&&s.length===e));u=!0);}catch(y){d=!0,m=y}finally{try{!u&&i.return!=null&&i.return()}finally{if(d)throw m}}return s}}function R_t(t){if(Array.isArray(t))return t}var L_t=typeof $3=="function"?$3:$3.default,N_t="file-invalid-type",$_t="file-too-large",z_t="file-too-small",B_t="too-many-files",Q_t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=e.split(","),s=i.length>1?"one of ".concat(i.join(", ")):i[0];return{code:N_t,message:"File type must be ".concat(s)}},rse=function(e){return{code:$_t,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ise=function(e){return{code:z_t,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},j_t={code:B_t,message:"Too many files"};function V_t(t){return t.type===""&&typeof t.getAsFile=="function"}function E1e(t,e){var i=t.type==="application/x-moz-file"||L_t(t,e)||V_t(t);return[i,i?null:Q_t(e)]}function M1e(t,e,i){if(jh(t.size))if(jh(e)&&jh(i)){if(t.size>i)return[!1,rse(i)];if(t.size<e)return[!1,ise(e)]}else{if(jh(e)&&t.size<e)return[!1,ise(e)];if(jh(i)&&t.size>i)return[!1,rse(i)]}return[!0,null]}function jh(t){return t!=null}function F_t(t){var e=t.files,i=t.accept,s=t.minSize,u=t.maxSize,d=t.multiple,h=t.maxFiles,m=t.validator;return!d&&e.length>1||d&&h>=1&&e.length>h?!1:e.every(function(y){var _=E1e(y,i),b=m_(_,1),T=b[0],C=M1e(y,s,u),A=m_(C,1),D=A[0],L=m?m(y):null;return T&&D&&!L})}function ck(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function xx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function ase(t){t.preventDefault()}function G_t(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function W_t(t){return t.indexOf("Edge/")!==-1}function U_t(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return G_t(t)||W_t(t)}function Ql(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(s){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return e.some(function(m){return!ck(s)&&m&&m.apply(void 0,[s].concat(d)),ck(s)})}}function q_t(){return"showOpenFilePicker"in window}function Z_t(t){if(jh(t)){var e=Object.entries(t).filter(function(i){var s=m_(i,2),u=s[0],d=s[1],h=!0;return D1e(u)||(console.warn('Skipped "'.concat(u,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),h=!1),(!Array.isArray(d)||!d.every(I1e))&&(console.warn('Skipped "'.concat(u,'" because an invalid file extension was provided.')),h=!1),h}).reduce(function(i,s){var u=m_(s,2),d=u[0],h=u[1];return nse(nse({},i),{},A1e({},d,h))},{});return[{description:"Files",accept:e}]}return t}function H_t(t){if(jh(t))return Object.entries(t).reduce(function(e,i){var s=m_(i,2),u=s[0],d=s[1];return[].concat(ese(e),[u],ese(d))},[]).filter(function(e){return D1e(e)||I1e(e)}).join(",")}function X_t(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Y_t(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function D1e(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function I1e(t){return/^.*\.[\w]+$/.test(t)}var K_t=["children"],J_t=["open"],eOt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],tOt=["refKey","onChange","onClick"];function ose(t){return iOt(t)||rOt(t)||R1e(t)||nOt()}function nOt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rOt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iOt(t){if(Array.isArray(t))return Dz(t)}function z3(t,e){return sOt(t)||oOt(t,e)||R1e(t,e)||aOt()}function aOt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(t,e){if(t){if(typeof t=="string")return Dz(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dz(t,e)}}function Dz(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function oOt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s=[],u=!0,d=!1,h,m;try{for(i=i.call(t);!(u=(h=i.next()).done)&&(s.push(h.value),!(e&&s.length===e));u=!0);}catch(y){d=!0,m=y}finally{try{!u&&i.return!=null&&i.return()}finally{if(d)throw m}}return s}}function sOt(t){if(Array.isArray(t))return t}function sse(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),i.push.apply(i,s)}return i}function Or(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?sse(Object(i),!0).forEach(function(s){Iz(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sse(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Iz(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dk(t,e){if(t==null)return{};var i=lOt(t,e),s,u;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(u=0;u<d.length;u++)s=d[u],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function lOt(t,e){if(t==null)return{};var i={},s=Object.keys(t),u,d;for(d=0;d<s.length;d++)u=s[d],!(e.indexOf(u)>=0)&&(i[u]=t[u]);return i}var vV=K.forwardRef(function(t,e){var i=t.children,s=dk(t,K_t),u=N1e(s),d=u.open,h=dk(u,J_t);return K.useImperativeHandle(e,function(){return{open:d}},[d]),mt.createElement(K.Fragment,null,i(Or(Or({},h),{},{open:d})))});vV.displayName="Dropzone";var L1e={disabled:!1,getFilesFromEvent:y_t,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};vV.defaultProps=L1e;vV.propTypes={children:or.func,accept:or.objectOf(or.arrayOf(or.string)),multiple:or.bool,preventDropOnDocument:or.bool,noClick:or.bool,noKeyboard:or.bool,noDrag:or.bool,noDragEventsBubbling:or.bool,minSize:or.number,maxSize:or.number,maxFiles:or.number,disabled:or.bool,getFilesFromEvent:or.func,onFileDialogCancel:or.func,onFileDialogOpen:or.func,useFsAccessApi:or.bool,autoFocus:or.bool,onDragEnter:or.func,onDragLeave:or.func,onDragOver:or.func,onDrop:or.func,onDropAccepted:or.func,onDropRejected:or.func,onError:or.func,validator:or.func};var Rz={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,isDragGlobal:!1,acceptedFiles:[],fileRejections:[]};function N1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Or(Or({},L1e),t),i=e.accept,s=e.disabled,u=e.getFilesFromEvent,d=e.maxSize,h=e.minSize,m=e.multiple,y=e.maxFiles,_=e.onDragEnter,b=e.onDragLeave,T=e.onDragOver,C=e.onDrop,A=e.onDropAccepted,D=e.onDropRejected,L=e.onFileDialogCancel,z=e.onFileDialogOpen,$=e.useFsAccessApi,Q=e.autoFocus,B=e.preventDropOnDocument,q=e.noClick,Y=e.noKeyboard,G=e.noDrag,H=e.noDragEventsBubbling,V=e.onError,F=e.validator,te=K.useMemo(function(){return H_t(i)},[i]),ae=K.useMemo(function(){return Z_t(i)},[i]),oe=K.useMemo(function(){return typeof z=="function"?z:lse},[z]),fe=K.useMemo(function(){return typeof L=="function"?L:lse},[L]),de=K.useRef(null),he=K.useRef(null),ue=K.useReducer(uOt,Rz),ne=z3(ue,2),me=ne[0],ge=ne[1],ee=me.isFocused,be=me.isFileDialogActive,Me=K.useRef(typeof window<"u"&&window.isSecureContext&&$&&q_t()),se=function(){!Me.current&&be&&setTimeout(function(){if(he.current){var Ce=he.current.files;Ce.length||(ge({type:"closeDialog"}),fe())}},300)};K.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[he,be,fe,Me]);var Ae=K.useRef([]),we=K.useRef([]),Le=function(Ce){de.current&&de.current.contains(Ce.target)||(Ce.preventDefault(),Ae.current=[])};K.useEffect(function(){return B&&(document.addEventListener("dragover",ase,!1),document.addEventListener("drop",Le,!1)),function(){B&&(document.removeEventListener("dragover",ase),document.removeEventListener("drop",Le))}},[de,B]),K.useEffect(function(){var Ve=function($e){we.current=[].concat(ose(we.current),[$e.target]),xx($e)&&ge({isDragGlobal:!0,type:"setDragGlobal"})},Ce=function($e){we.current=we.current.filter(function(zt){return zt!==$e.target&&zt!==null}),!(we.current.length>0)&&ge({isDragGlobal:!1,type:"setDragGlobal"})},je=function(){we.current=[],ge({isDragGlobal:!1,type:"setDragGlobal"})},qe=function(){we.current=[],ge({isDragGlobal:!1,type:"setDragGlobal"})};return document.addEventListener("dragenter",Ve,!1),document.addEventListener("dragleave",Ce,!1),document.addEventListener("dragend",je,!1),document.addEventListener("drop",qe,!1),function(){document.removeEventListener("dragenter",Ve),document.removeEventListener("dragleave",Ce),document.removeEventListener("dragend",je),document.removeEventListener("drop",qe)}},[de]),K.useEffect(function(){return!s&&Q&&de.current&&de.current.focus(),function(){}},[de,Q,s]);var Z=K.useCallback(function(Ve){V?V(Ve):console.error(Ve)},[V]),ve=K.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Ze(Ve),Ae.current=[].concat(ose(Ae.current),[Ve.target]),xx(Ve)&&Promise.resolve(u(Ve)).then(function(Ce){if(!(ck(Ve)&&!H)){var je=Ce.length,qe=je>0&&F_t({files:Ce,accept:te,minSize:h,maxSize:d,multiple:m,maxFiles:y,validator:F}),tt=je>0&&!qe;ge({isDragAccept:qe,isDragReject:tt,isDragActive:!0,type:"setDraggedFiles"}),_&&_(Ve)}}).catch(function(Ce){return Z(Ce)})},[u,_,Z,H,te,h,d,m,y,F]),ze=K.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Ze(Ve);var Ce=xx(Ve);if(Ce&&Ve.dataTransfer)try{Ve.dataTransfer.dropEffect="copy"}catch{}return Ce&&T&&T(Ve),!1},[T,H]),Qe=K.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Ze(Ve);var Ce=Ae.current.filter(function(qe){return de.current&&de.current.contains(qe)}),je=Ce.indexOf(Ve.target);je!==-1&&Ce.splice(je,1),Ae.current=Ce,!(Ce.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xx(Ve)&&b&&b(Ve))},[de,b,H]),et=K.useCallback(function(Ve,Ce){var je=[],qe=[];Ve.forEach(function(tt){var $e=E1e(tt,te),zt=z3($e,2),Ut=zt[0],gn=zt[1],Ke=M1e(tt,h,d),An=z3(Ke,2),ln=An[0],Cr=An[1],bn=F?F(tt):null;if(Ut&&ln&&!bn)je.push(tt);else{var It=[gn,Cr];bn&&(It=It.concat(bn)),qe.push({file:tt,errors:It.filter(function(fn){return fn})})}}),(!m&&je.length>1||m&&y>=1&&je.length>y)&&(je.forEach(function(tt){qe.push({file:tt,errors:[j_t]})}),je.splice(0)),ge({acceptedFiles:je,fileRejections:qe,isDragReject:qe.length>0,type:"setFiles"}),C&&C(je,qe,Ce),qe.length>0&&D&&D(qe,Ce),je.length>0&&A&&A(je,Ce)},[ge,m,te,h,d,y,C,A,D,F]),He=K.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Ze(Ve),Ae.current=[],xx(Ve)&&Promise.resolve(u(Ve)).then(function(Ce){ck(Ve)&&!H||et(Ce,Ve)}).catch(function(Ce){return Z(Ce)}),ge({type:"reset"})},[u,et,Z,H]),yt=K.useCallback(function(){if(Me.current){ge({type:"openDialog"}),oe();var Ve={multiple:m,types:ae};window.showOpenFilePicker(Ve).then(function(Ce){return u(Ce)}).then(function(Ce){et(Ce,null),ge({type:"closeDialog"})}).catch(function(Ce){X_t(Ce)?(fe(Ce),ge({type:"closeDialog"})):Y_t(Ce)?(Me.current=!1,he.current?(he.current.value=null,he.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(Ce)});return}he.current&&(ge({type:"openDialog"}),oe(),he.current.value=null,he.current.click())},[ge,oe,fe,$,et,Z,ae,m]),Ee=K.useCallback(function(Ve){!de.current||!de.current.isEqualNode(Ve.target)||(Ve.key===" "||Ve.key==="Enter"||Ve.keyCode===32||Ve.keyCode===13)&&(Ve.preventDefault(),yt())},[de,yt]),Ue=K.useCallback(function(){ge({type:"focus"})},[]),ke=K.useCallback(function(){ge({type:"blur"})},[]),Ge=K.useCallback(function(){q||(U_t()?setTimeout(yt,0):yt())},[q,yt]),De=function(Ce){return s?null:Ce},Pt=function(Ce){return Y?null:De(Ce)},dt=function(Ce){return G?null:De(Ce)},Ze=function(Ce){H&&Ce.stopPropagation()},nn=K.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=Ve.refKey,je=Ce===void 0?"ref":Ce,qe=Ve.role,tt=Ve.onKeyDown,$e=Ve.onFocus,zt=Ve.onBlur,Ut=Ve.onClick,gn=Ve.onDragEnter,Ke=Ve.onDragOver,An=Ve.onDragLeave,ln=Ve.onDrop,Cr=dk(Ve,eOt);return Or(Or(Iz({onKeyDown:Pt(Ql(tt,Ee)),onFocus:Pt(Ql($e,Ue)),onBlur:Pt(Ql(zt,ke)),onClick:De(Ql(Ut,Ge)),onDragEnter:dt(Ql(gn,ve)),onDragOver:dt(Ql(Ke,ze)),onDragLeave:dt(Ql(An,Qe)),onDrop:dt(Ql(ln,He)),role:typeof qe=="string"&&qe!==""?qe:"presentation"},je,de),!s&&!Y?{tabIndex:0}:{}),Cr)}},[de,Ee,Ue,ke,Ge,ve,ze,Qe,He,Y,G,s]),ut=K.useCallback(function(Ve){Ve.stopPropagation()},[]),st=K.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=Ve.refKey,je=Ce===void 0?"ref":Ce,qe=Ve.onChange,tt=Ve.onClick,$e=dk(Ve,tOt),zt=Iz({accept:te,multiple:m,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:De(Ql(qe,He)),onClick:De(Ql(tt,ut)),tabIndex:-1},je,he);return Or(Or({},zt),$e)}},[he,i,m,He,s]);return Or(Or({},me),{},{isFocused:ee&&!s,getRootProps:nn,getInputProps:st,rootRef:de,inputRef:he,open:De(yt)})}function uOt(t,e){switch(e.type){case"focus":return Or(Or({},t),{},{isFocused:!0});case"blur":return Or(Or({},t),{},{isFocused:!1});case"openDialog":return Or(Or({},Rz),{},{isFileDialogActive:!0});case"closeDialog":return Or(Or({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Or(Or({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Or(Or({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"setDragGlobal":return Or(Or({},t),{},{isDragGlobal:e.isDragGlobal});case"reset":return Or({},Rz);default:return t}}function lse(){}function cOt({attachments:t,uploadQueue:e,onRemoveAction:i,className:s}){return t.length>0||e.length>0?I.jsx(K1t,{className:We("w-full border-b bg-muted",s),children:(t.length>0||e.length>0)&&I.jsx(Pz,{attachments:t,onRemoveAction:i,testId:"attachments-preview",uploadQueue:e})}):null}function dOt(t,e){const s=yV(t,e?.catalog)?.context??{};return s?.combinedMax!==void 0?{...s,totalMax:s.combinedMax}:s}const _x=1e6;function $1e(t){if(!t)return{input:0,output:0,total:0};if(typeof t.input=="number"&&typeof t.output=="number"){const y=t;return{input:y.input,output:y.output,total:y.total??y.input+y.output}}const e=t,i=[e.input_tokens,e.prompt_tokens,e.promptTokens,e.inputTokens].filter(y=>typeof y=="number"),s=[e.output_tokens,e.completion_tokens,e.completionTokens,e.outputTokens].filter(y=>typeof y=="number"),u=[e.total_tokens,e.totalTokens,e.totalTokens].filter(y=>typeof y=="number"),d=i[0]??0,h=s[0]??0,m=u[0];return m!==void 0?{input:d,output:h,total:m}:{input:d,output:h,total:d+h}}function fOt(t){if(!t)return{input:0,output:0,total:0,cacheReads:0,cacheWrites:0,reasoningTokens:0};if(typeof t.input=="number"&&typeof t.output=="number"&&("cacheReads"in t||"cacheWrites"in t||"total"in t)){const _=t;return{input:_.input,output:_.output,total:_.total??_.input+_.output,cacheReads:_.cacheReads,cacheWrites:_.cacheWrites,reasoningTokens:_.reasoningTokens}}const e=$1e(t),i=t,s=[i.cache_read_input_tokens,i.cache_read_tokens,i.prompt_cache_hit_tokens,i.prompt_tokens_details?.cached_tokens,i.promptTokensDetails?.cachedTokens,i.cachedInputTokens,i.cacheReads].filter(_=>typeof _=="number"),u=[i.cache_creation_input_tokens,i.cache_creation_tokens,i.prompt_cache_write_tokens,i.promptTokensDetails?.cacheCreationTokens,i.cacheWrites].filter(_=>typeof _=="number"),d=s[0],h=u[0],y=[i.reasoning_tokens,i.reasoningTokens].filter(_=>typeof _=="number")[0];return{...e,cacheReads:d,cacheWrites:h,reasoningTokens:y}}function hOt(t,e,i){const s=typeof t=="string"?t:t.modelId,u=(typeof t=="string"?e:t.usage)??{},d=typeof t=="string"?i:t.providers,h=yV(s,d);if(!h?.pricing)return{};const m=$1e(u),y=fOt(u),_=h.pricing.inputPerMTokens!==void 0?m.input/_x*h.pricing.inputPerMTokens:void 0,b=h.pricing.outputPerMTokens!==void 0?m.output/_x*h.pricing.outputPerMTokens:void 0,T=h.pricing.reasoningPerMTokens!==void 0&&typeof y.reasoningTokens=="number"?y.reasoningTokens/_x*h.pricing.reasoningPerMTokens:void 0,C=h.pricing.cacheReadPerMTokens!==void 0&&typeof y.cacheReads=="number"?y.cacheReads/_x*h.pricing.cacheReadPerMTokens:void 0,A=h.pricing.cacheWritePerMTokens!==void 0&&typeof y.cacheWrites=="number"?y.cacheWrites/_x*h.pricing.cacheWritePerMTokens:void 0,D=[_,b,T,C,A].filter($=>typeof $=="number"),L=D.length?D.reduce(($,Q)=>$+Q,0):void 0,z={inputUSD:_,outputUSD:b,reasoningUSD:T,cacheReadUSD:C,cacheWriteUSD:A,totalUSD:L};return{...z,inputTokenUSD:z.inputUSD,outputTokenUSD:z.outputUSD,reasoningTokenUSD:z.reasoningUSD,cacheReadsUSD:z.cacheReadUSD,cacheWritesUSD:z.cacheWriteUSD}}function pOt(t,e){const i=typeof t=="string"?t:t.modelId,s=typeof t=="string"?e:t.providers,u=yV(i,s),d=u?.context?.inputMax,h=u?.context?.outputMax,m=u?.context?.combinedMax,y=m;return{inputMax:d,outputMax:h,combinedMax:m,totalMax:y,maxInput:d,maxOutput:h,maxTotal:y}}function mOt(t,e,i,s){const u=typeof t=="string"?t:t.modelId,d=typeof t=="string"?e:t.usage,h=typeof t=="string"?i:t.providers,m=pOt(u,h),y=hOt(u,d,h);return{context:m,costUSD:y}}function yV(t,e){if(!e)return;const i=t.trim().toLowerCase(),s=[i];if(i.includes("/")){const u=i.indexOf("/"),d=i.slice(0,u),h=i.slice(u+1);s.push(`${d}:${h}`),s.push(`${d}:${h.replace(/(\d)\.(\d)/g,"$1-$2")}`)}if(i.includes(":")){const u=i.indexOf(":"),d=i.slice(0,u),h=i.slice(u+1);s.push(`${d}:${h.replace(/(\d)\.(\d)/g,"$1-$2")}`)}!i.includes(":")&&!i.includes("/")&&s.push(i.replace(/(\d)\.(\d)/g,"$1-$2"));for(const u of s){const d=u.indexOf(":");if(d>0){const h=u.slice(0,d),m=u.slice(d+1);for(const[y,_]of cse(e))if(m){const b=_?.models?.[m];if(b&&(y===h||h.length>0))return use(y,m,b,_)}}for(const[h,m]of cse(e)){const y=m?.models?.[u];if(y)return use(h,u,y,m)}}}function use(t,e,i,s){const u=Array.isArray(i?.modalities?.input)?i.modalities?.input:[],d=Array.isArray(i?.modalities?.output)?i.modalities?.output:[],h=u.includes("text"),m=u.includes("image"),y=d.includes("text"),_=typeof i?.limit?.context=="number"?i.limit.context:void 0,b=typeof i?.limit?.input=="number"?i.limit.input:void 0,T=typeof i?.limit?.output=="number"?i.limit.output:void 0,C=i?.cost&&(typeof i.cost.input=="number"||typeof i.cost.output=="number"||typeof i.cost.reasoning=="number"||typeof i.cost.cache_read=="number"||typeof i.cost.cache_write=="number")?{...typeof i.cost.input=="number"?{inputPerMTokens:i.cost.input}:{},...typeof i.cost.output=="number"?{outputPerMTokens:i.cost.output}:{},...typeof i.cost.reasoning=="number"?{reasoningPerMTokens:i.cost.reasoning}:{},...typeof i.cost.cache_read=="number"?{cacheReadPerMTokens:i.cost.cache_read}:{},...typeof i.cost.cache_write=="number"?{cacheWritePerMTokens:i.cost.cache_write}:{}}:void 0;return{id:`${t}:${e}`,provider:t,vendorId:e,displayName:i?.name||e,family:e,status:"stable",context:Object.fromEntries(Object.entries({combinedMax:_,inputMax:b,outputMax:T}).filter(([,A])=>typeof A=="number")),modalities:h||y||m?{...h&&{textIn:!0},...y&&{textOut:!0},...m&&{imageIn:!0}}:void 0,pricing:C,pricingSource:"models.dev",aliases:[`${t}/${e}`],releasedAt:i?.release_date||void 0,source:s?.doc||s.docs||"https://models.dev",contextSource:s?.doc||s.docs||void 0,verifiedAt:i?.last_updated||void 0}}function*cse(t){if(t?.models){const e=t;yield[e.id||"provider",e];return}for(const[e,i]of Object.entries(t))yield[e,i]}const gOt={id:"alibaba",name:"Alibaba",api:"https://dashscope-intl.aliyuncs.com/compatible-mode/v1",npm:"@ai-sdk/openai-compatible",doc:"https://www.alibabacloud.com/help/en/model-studio/models",env:["DASHSCOPE_API_KEY"],models:{"qwen3-coder-plus":{id:"qwen3-coder-plus",name:"Qwen3 Coder Plus",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:5},limit:{context:1048576,output:65536}}}},vOt={id:"alibaba-cn",name:"Alibaba (China)",api:"https://dashscope.aliyuncs.com/compatible-mode/v1",npm:"@ai-sdk/openai-compatible",doc:"https://www.alibabacloud.com/help/en/model-studio/models",env:["DASHSCOPE_API_KEY"],models:{"qwen3-coder-plus":{id:"qwen3-coder-plus",name:"Qwen3 Coder Plus",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:5},limit:{context:1048576,output:65536}}}},yOt={id:"amazon-bedrock",name:"Amazon Bedrock",npm:"@ai-sdk/amazon-bedrock",doc:"https://docs.aws.amazon.com/bedrock/latest/userguide/models-supported.html",env:["AWS_ACCESS_KEY_ID","AWS_SECRET_ACCESS_KEY","AWS_REGION"],models:{"anthropic.claude-3-5-sonnet-20241022-v2:0":{id:"anthropic.claude-3-5-sonnet-20241022-v2:0",name:"Claude Sonnet 3.5 v2",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"cohere.command-light-text-v14":{id:"cohere.command-light-text-v14",name:"Command Light",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-08",release_date:"2023-11-01",last_updated:"2023-11-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:.6},limit:{context:4096,output:4096}},"anthropic.claude-opus-4-1-20250805-v1:0":{id:"anthropic.claude-opus-4-1-20250805-v1:0",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"meta.llama3-1-70b-instruct-v1:0":{id:"meta.llama3-1-70b-instruct-v1:0",name:"Llama 3.1 70B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.72,output:.72},limit:{context:128e3,output:4096}},"anthropic.claude-3-haiku-20240307-v1:0":{id:"anthropic.claude-3-haiku-20240307-v1:0",name:"Claude Haiku 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-02",release_date:"2024-03-13",last_updated:"2024-03-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:1.25},limit:{context:2e5,output:4096}},"meta.llama3-2-3b-instruct-v1:0":{id:"meta.llama3-2-3b-instruct-v1:0",name:"Llama 3.2 3B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.15},limit:{context:131e3,output:4096}},"anthropic.claude-3-opus-20240229-v1:0":{id:"anthropic.claude-3-opus-20240229-v1:0",name:"Claude Opus 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08",release_date:"2024-02-29",last_updated:"2024-02-29",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75},limit:{context:2e5,output:4096}},"cohere.command-text-v14":{id:"cohere.command-text-v14",name:"Command",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-08",release_date:"2023-11-01",last_updated:"2023-11-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.5,output:2},limit:{context:4096,output:4096}},"meta.llama4-scout-17b-instruct-v1:0":{id:"meta.llama4-scout-17b-instruct-v1:0",name:"Llama 4 Scout 17B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.17,output:.66},limit:{context:35e5,output:16384}},"amazon.nova-micro-v1:0":{id:"amazon.nova-micro-v1:0",name:"Nova Micro",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.035,output:.14,cache_read:.00875},limit:{context:128e3,output:8192}},"amazon.nova-premier-v1:0":{id:"amazon.nova-premier-v1:0",name:"Nova Premier",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:2.5,output:12.5},limit:{context:1e6,output:16384}},"anthropic.claude-v2":{id:"anthropic.claude-v2",name:"Claude 2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-08",release_date:"2023-07-11",last_updated:"2023-07-11",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:8,output:24},limit:{context:1e5,output:4096}},"anthropic.claude-3-7-sonnet-20250219-v1:0":{id:"anthropic.claude-3-7-sonnet-20250219-v1:0",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"ai21.jamba-1-5-mini-v1:0":{id:"ai21.jamba-1-5-mini-v1:0",name:"Jamba 1.5 Mini",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.4},limit:{context:256e3,output:4096}},"meta.llama3-8b-instruct-v1:0":{id:"meta.llama3-8b-instruct-v1:0",name:"Llama 3 8B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-03",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:.6},limit:{context:8192,output:2048}},"ai21.jamba-1-5-large-v1:0":{id:"ai21.jamba-1-5-large-v1:0",name:"Jamba 1.5 Large",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:8},limit:{context:256e3,output:4096}},"anthropic.claude-opus-4-20250514-v1:0":{id:"anthropic.claude-opus-4-20250514-v1:0",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"meta.llama3-70b-instruct-v1:0":{id:"meta.llama3-70b-instruct-v1:0",name:"Llama 3 70B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2.65,output:3.5},limit:{context:8192,output:2048}},"meta.llama4-maverick-17b-instruct-v1:0":{id:"meta.llama4-maverick-17b-instruct-v1:0",name:"Llama 4 Maverick 17B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.24,output:.97},limit:{context:1e6,output:16384}},"amazon.nova-pro-v1:0":{id:"amazon.nova-pro-v1:0",name:"Nova Pro",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:.8,output:3.2,cache_read:.2},limit:{context:3e5,output:8192}},"anthropic.claude-sonnet-4-20250514-v1:0":{id:"anthropic.claude-sonnet-4-20250514-v1:0",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic.claude-3-5-haiku-20241022-v1:0":{id:"anthropic.claude-3-5-haiku-20241022-v1:0",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"amazon.nova-lite-v1:0":{id:"amazon.nova-lite-v1:0",name:"Nova Lite",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:.06,output:.24,cache_read:.015},limit:{context:3e5,output:8192}},"meta.llama3-2-1b-instruct-v1:0":{id:"meta.llama3-2-1b-instruct-v1:0",name:"Llama 3.2 1B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:131e3,output:4096}},"cohere.command-r-plus-v1:0":{id:"cohere.command-r-plus-v1:0",name:"Command R+",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-04-04",last_updated:"2024-04-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3,output:15},limit:{context:128e3,output:4096}},"anthropic.claude-instant-v1":{id:"anthropic.claude-instant-v1",name:"Claude Instant",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-08",release_date:"2023-03-01",last_updated:"2023-03-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.8,output:2.4},limit:{context:1e5,output:4096}},"meta.llama3-1-8b-instruct-v1:0":{id:"meta.llama3-1-8b-instruct-v1:0",name:"Llama 3.1 8B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.22,output:.22},limit:{context:128e3,output:4096}},"anthropic.claude-3-5-sonnet-20240620-v1:0":{id:"anthropic.claude-3-5-sonnet-20240620-v1:0",name:"Claude Sonnet 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-06-20",last_updated:"2024-06-20",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"cohere.command-r-v1:0":{id:"cohere.command-r-v1:0",name:"Command R",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-03-11",last_updated:"2024-03-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:1.5},limit:{context:128e3,output:4096}},"meta.llama3-3-70b-instruct-v1:0":{id:"meta.llama3-3-70b-instruct-v1:0",name:"Llama 3.3 70B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.72,output:.72},limit:{context:128e3,output:4096}},"meta.llama3-2-11b-instruct-v1:0":{id:"meta.llama3-2-11b-instruct-v1:0",name:"Llama 3.2 11B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.16,output:.16},limit:{context:128e3,output:4096}},"anthropic.claude-v2:1":{id:"anthropic.claude-v2:1",name:"Claude 2.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-08",release_date:"2023-11-21",last_updated:"2023-11-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:8,output:24},limit:{context:2e5,output:4096}},"meta.llama3-2-90b-instruct-v1:0":{id:"meta.llama3-2-90b-instruct-v1:0",name:"Llama 3.2 90B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.72,output:.72},limit:{context:128e3,output:4096}},"anthropic.claude-3-sonnet-20240229-v1:0":{id:"anthropic.claude-3-sonnet-20240229-v1:0",name:"Claude Sonnet 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08",release_date:"2024-03-04",last_updated:"2024-03-04",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:2e5,output:4096}},"deepseek.r1-v1:0":{id:"deepseek.r1-v1:0",name:"DeepSeek-R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.35,output:5.4},limit:{context:128e3,output:32768}}}},xOt={id:"anthropic",name:"Anthropic",npm:"@ai-sdk/anthropic",doc:"https://docs.anthropic.com/en/docs/about-claude/models",env:["ANTHROPIC_API_KEY"],models:{"claude-3-7-sonnet-20250219":{id:"claude-3-7-sonnet-20250219",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-31",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"claude-opus-4-1-20250805":{id:"claude-opus-4-1-20250805",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"claude-3-haiku-20240307":{id:"claude-3-haiku-20240307",name:"Claude Haiku 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08-31",release_date:"2024-03-13",last_updated:"2024-03-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:1.25,cache_read:.03,cache_write:.3},limit:{context:2e5,output:4096}},"claude-3-5-haiku-20241022":{id:"claude-3-5-haiku-20241022",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07-31",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"claude-opus-4-20250514":{id:"claude-opus-4-20250514",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"claude-3-5-sonnet-20241022":{id:"claude-3-5-sonnet-20241022",name:"Claude Sonnet 3.5 v2",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04-30",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"claude-3-5-sonnet-20240620":{id:"claude-3-5-sonnet-20240620",name:"Claude Sonnet 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04-30",release_date:"2024-06-20",last_updated:"2024-06-20",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"claude-3-sonnet-20240229":{id:"claude-3-sonnet-20240229",name:"Claude Sonnet 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08-31",release_date:"2024-03-04",last_updated:"2024-03-04",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:.3},limit:{context:2e5,output:4096}},"claude-sonnet-4-20250514":{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"claude-3-opus-20240229":{id:"claude-3-opus-20240229",name:"Claude Opus 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08-31",release_date:"2024-02-29",last_updated:"2024-02-29",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:4096}}}},_Ot={id:"azure",name:"Azure",npm:"@ai-sdk/azure",doc:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/models",env:["AZURE_RESOURCE_NAME","AZURE_API_KEY"],models:{"gpt-5-nano":{id:"gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4,cache_read:.01},limit:{context:272e3,output:128e3}},"gpt-3.5-turbo-0613":{id:"gpt-3.5-turbo-0613",name:"GPT-3.5 Turbo 0613",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-08",release_date:"2023-06-13",last_updated:"2023-06-13",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:4},limit:{context:16384,output:16384}},"gpt-3.5-turbo-0301":{id:"gpt-3.5-turbo-0301",name:"GPT-3.5 Turbo 0301",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-08",release_date:"2023-03-01",last_updated:"2023-03-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.5,output:2},limit:{context:4096,output:4096}},"gpt-4.1":{id:"gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"gpt-4-turbo":{id:"gpt-4-turbo",name:"GPT-4 Turbo",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-11",release_date:"2023-11-06",last_updated:"2024-04-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:10,output:30},limit:{context:128e3,output:4096}},o1:{id:"o1",name:"o1",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2024-12-05",last_updated:"2024-12-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:60,cache_read:7.5},limit:{context:2e5,output:1e5}},"gpt-5":{id:"gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.13},limit:{context:272e3,output:128e3}},o3:{id:"o3",name:"o3",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:2e5,output:1e5}},"gpt-5-chat":{id:"gpt-5-chat",name:"GPT-5 Chat",attachment:!0,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-10-24",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.13},limit:{context:128e3,output:16384}},"codex-mini":{id:"codex-mini",name:"Codex Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-04",release_date:"2025-05-16",last_updated:"2025-05-16",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.5,output:6,cache_read:.375},limit:{context:2e5,output:1e5}},"gpt-4-turbo-vision":{id:"gpt-4-turbo-vision",name:"GPT-4 Turbo Vision",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-11",release_date:"2023-11-06",last_updated:"2024-04-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:10,output:30},limit:{context:128e3,output:4096}},"gpt-5-mini":{id:"gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2,cache_read:.03},limit:{context:272e3,output:128e3}},"o1-preview":{id:"o1-preview",name:"o1-preview",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2024-09-12",last_updated:"2024-09-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:16.5,output:66,cache_read:8.25},limit:{context:128e3,output:32768}},"gpt-3.5-turbo-1106":{id:"gpt-3.5-turbo-1106",name:"GPT-3.5 Turbo 1106",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-08",release_date:"2023-11-06",last_updated:"2023-11-06",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1,output:2},limit:{context:16384,output:16384}},"gpt-4o-mini":{id:"gpt-4o-mini",name:"GPT-4o mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.08},limit:{context:128e3,output:16384}},"gpt-4.1-nano":{id:"gpt-4.1-nano",name:"GPT-4.1 nano",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.03},limit:{context:1047576,output:32768}},"gpt-4.1-mini":{id:"gpt-4.1-mini",name:"GPT-4.1 mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:1.6,cache_read:.1},limit:{context:1047576,output:32768}},"o1-mini":{id:"o1-mini",name:"o1-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2024-09-12",last_updated:"2024-09-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.55},limit:{context:128e3,output:65536}},"gpt-3.5-turbo-0125":{id:"gpt-3.5-turbo-0125",name:"GPT-3.5 Turbo 0125",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-08",release_date:"2024-01-25",last_updated:"2024-01-25",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.5,output:1.5},limit:{context:16384,output:16384}},"gpt-4-32k":{id:"gpt-4-32k",name:"GPT-4 32K",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-11",release_date:"2023-03-14",last_updated:"2023-03-14",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:60,output:120},limit:{context:32768,output:32768}},"gpt-3.5-turbo-instruct":{id:"gpt-3.5-turbo-instruct",name:"GPT-3.5 Turbo Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-08",release_date:"2023-09-21",last_updated:"2023-09-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.5,output:2},limit:{context:4096,output:4096}},"gpt-4o":{id:"gpt-4o",name:"GPT-4o",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-05-13",last_updated:"2024-05-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2.5,output:10,cache_read:1.25},limit:{context:128e3,output:16384}},"gpt-4":{id:"gpt-4",name:"GPT-4",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-11",release_date:"2023-03-14",last_updated:"2023-03-14",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:60,output:120},limit:{context:8192,output:8192}},"o4-mini":{id:"o4-mini",name:"o4-mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.28},limit:{context:2e5,output:1e5}},"o3-mini":{id:"o3-mini",name:"o3-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2024-12-20",last_updated:"2025-01-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.55},limit:{context:2e5,output:1e5}}}},OOt={id:"baseten",name:"Baseten",api:"https://inference.baseten.co/v1",npm:"@ai-sdk/openai-compatible",doc:"https://docs.baseten.co/development/model-apis/overview",env:["BASETEN_API_KEY"],models:{"Qwen3/Qwen3-Coder-480B-A35B-Instruct":{id:"Qwen3/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.38,output:1.53},limit:{context:262144,output:66536}},"moonshotai/Kimi-K2-Instruct-0905":{id:"moonshotai/Kimi-K2-Instruct-0905",name:"Kimi K2 Instruct 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-08",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5},limit:{context:262144,output:262144}}}},bOt={id:"cerebras",name:"Cerebras",npm:"@ai-sdk/cerebras",doc:"https://inference-docs.cerebras.ai/models/overview",env:["CEREBRAS_API_KEY"],models:{"qwen-3-235b-a22b-instruct-2507":{id:"qwen-3-235b-a22b-instruct-2507",name:"Qwen 3 235B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-22",last_updated:"2025-07-22",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:1.2},limit:{context:131e3,output:32e3}},"gpt-oss-120b":{id:"gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.25,output:.69},limit:{context:131072,output:32768}},"qwen-3-coder-480b":{id:"qwen-3-coder-480b",name:"Qwen 3 Coder 480B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:2},limit:{context:131e3,output:32e3}}}},wOt={id:"chutes",name:"Chutes",api:"https://llm.chutes.ai/v1",npm:"@ai-sdk/openai-compatible",doc:"https://llm.chutes.ai/v1/models",env:["CHUTES_API_KEY"],models:{"meituan-longcat/LongCat-Flash-Chat-FP8":{id:"meituan-longcat/LongCat-Flash-Chat-FP8",name:"LongCat Flash Chat FP8",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-09-10",last_updated:"2025-09-10",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.25,output:1},limit:{context:131072,output:131072}},"deepseek-ai/DeepSeek-R1-Distill-Llama-70B":{id:"deepseek-ai/DeepSeek-R1-Distill-Llama-70B",name:"DeepSeek R1 Distill Llama 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-01-23",last_updated:"2025-01-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.03,output:.14},limit:{context:131072,output:131072}},"deepseek-ai/DeepSeek-V3.1":{id:"deepseek-ai/DeepSeek-V3.1",name:"DeepSeek V3.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-21",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:163840,output:163840}},"deepseek-ai/DeepSeek-R1-0528-Qwen3-8B":{id:"deepseek-ai/DeepSeek-R1-0528-Qwen3-8B",name:"DeepSeek R1 0528 Qwen3 8B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-29",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.02,output:.07},limit:{context:131072,output:131072}},"deepseek-ai/DeepSeek-V3.1:THINKING":{id:"deepseek-ai/DeepSeek-V3.1:THINKING",name:"DeepSeek V3.1 Reasoning",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-21",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:163840,output:163840}},"deepseek-ai/DeepSeek-V3-0324":{id:"deepseek-ai/DeepSeek-V3-0324",name:"DeepSeek V3 (0324)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.18,output:.72},limit:{context:75e3,output:163840}},"deepseek-ai/DeepSeek-R1-0528":{id:"deepseek-ai/DeepSeek-R1-0528",name:"DeepSeek R1 (0528)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.18,output:.72},limit:{context:75e3,output:163840}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.41},limit:{context:131072,output:32768}},"chutesai/Devstral-Small-2505":{id:"chutesai/Devstral-Small-2505",name:"Devstral Small (2505)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-05-21",last_updated:"2025-05-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.02,output:.08},limit:{context:32768,output:32768}},"chutesai/Mistral-Small-3.2-24B-Instruct-2506":{id:"chutesai/Mistral-Small-3.2-24B-Instruct-2506",name:"Mistral Small 3.2 24B Instruct (2506)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-06-20",last_updated:"2025-06-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.02,output:.08},limit:{context:131072,output:131072}},"Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3-235B-A22B-Thinking-2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.078,output:.312},limit:{context:262144,output:262144}},"Qwen/Qwen3-30B-A3B-Instruct-2507":{id:"Qwen/Qwen3-30B-A3B-Instruct-2507",name:"Qwen3 30B A3B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.2},limit:{context:262144,output:262144}},"Qwen/Qwen3-30B-A3B":{id:"Qwen/Qwen3-30B-A3B",name:"Qwen3 30B A3B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.02,output:.08},limit:{context:40960,output:40960}},"Qwen/Qwen3-235B-A22B-Instruct-2507":{id:"Qwen/Qwen3-235B-A22B-Instruct-2507",name:"Qwen3 235B A22B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.078,output:.312},limit:{context:262144,output:131072}},"Qwen/Qwen3-Coder-30B-A3B-Instruct":{id:"Qwen/Qwen3-Coder-30B-A3B-Instruct",name:"Qwen3 Coder 30B A3B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:262144}},"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8",name:"Qwen3 Coder 480B A35B Instruct (FP8)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:262144,output:262144}},"zai-org/GLM-4.5-FP8":{id:"zai-org/GLM-4.5-FP8",name:"GLM 4.5 FP8",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:131072}},"zai-org/GLM-4.5-Air":{id:"zai-org/GLM-4.5-Air",name:"GLM 4.5 Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:98304}},"tngtech/DeepSeek-TNG-R1T2-Chimera":{id:"tngtech/DeepSeek-TNG-R1T2-Chimera",name:"DeepSeek TNG R1T2 Chimera",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-07",release_date:"2025-07-08",last_updated:"2025-07-08",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.8},limit:{context:163840,output:163840}},"tngtech/DeepSeek-R1T-Chimera":{id:"tngtech/DeepSeek-R1T-Chimera",name:"DeepSeek R1T Chimera",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-04",release_date:"2025-04-26",last_updated:"2025-04-26",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.18,output:.72},limit:{context:163840,output:163840}},"moonshotai/Kimi-K2-Instruct-75k":{id:"moonshotai/Kimi-K2-Instruct-75k",name:"Kimi K2 Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.15,output:.59},limit:{context:75e3,output:75e3}},"moonshotai/Kimi-VL-A3B-Thinking":{id:"moonshotai/Kimi-VL-A3B-Thinking",name:"Kimi VL A3B Thinking",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2024-12-01",last_updated:"2024-12-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.02499,output:.100008},limit:{context:131072,output:131072}},"moonshotai/Kimi-K2-Instruct-0905":{id:"moonshotai/Kimi-K2-Instruct-0905",name:"Kimi K2 Instruct 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-09-05",last_updated:"2024-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.296176,output:1.18528},limit:{context:262144,output:262144}},"moonshotai/Kimi-Dev-72B":{id:"moonshotai/Kimi-Dev-72B",name:"Kimi Dev 72B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-12-01",last_updated:"2024-12-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.06664,output:.266688},limit:{context:131072,output:131072}}}},SOt={id:"cloudflare-workers-ai",name:"Cloudflare Workers AI",npm:"workers-ai-provider",doc:"https://developers.cloudflare.com/workers-ai/models/",env:["CLOUDFLARE_ACCOUNT_ID","CLOUDFLARE_API_KEY"],models:{"starling-lm-7b-beta":{id:"starling-lm-7b-beta",name:"@hf/nexusflow/starling-lm-7b-beta",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-03-19",last_updated:"2024-04-03",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"deepseek-coder-6.7b-base-awq":{id:"deepseek-coder-6.7b-base-awq",name:"@hf/thebloke/deepseek-coder-6.7b-base-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-11-05",last_updated:"2023-11-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"openchat-3.5-0106":{id:"openchat-3.5-0106",name:"@cf/openchat/openchat-3.5-0106",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-01-07",last_updated:"2024-05-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"mistral-7b-instruct-v0.2-lora":{id:"mistral-7b-instruct-v0.2-lora",name:"@cf/mistral/mistral-7b-instruct-v0.2-lora",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-04-01",last_updated:"2024-04-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:15e3,output:15e3}},"llama-3.1-8b-instruct-awq":{id:"llama-3.1-8b-instruct-awq",name:"@cf/meta/llama-3.1-8b-instruct-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-07-25",last_updated:"2024-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.12,output:.27},limit:{context:8192,output:8192}},"mistral-7b-instruct-v0.2":{id:"mistral-7b-instruct-v0.2",name:"@hf/mistral/mistral-7b-instruct-v0.2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-12-11",last_updated:"2025-07-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:3072,output:3072}},"llava-1.5-7b-hf":{id:"llava-1.5-7b-hf",name:"@cf/llava-hf/llava-1.5-7b-hf",attachment:!0,reasoning:!1,temperature:!0,tool_call:!1,release_date:"2023-12-05",last_updated:"2025-06-06",modalities:{input:["image","text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"resnet-50":{id:"resnet-50",name:"@cf/microsoft/resnet-50",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2022-03-16",last_updated:"2024-02-13",modalities:{input:["image"],output:["text"]},open_weights:!0,cost:{input:25e-7,output:0},limit:{context:0,output:0}},"deepseek-coder-6.7b-instruct-awq":{id:"deepseek-coder-6.7b-instruct-awq",name:"@hf/thebloke/deepseek-coder-6.7b-instruct-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-11-05",last_updated:"2023-11-13",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"llama-3.1-70b-instruct":{id:"llama-3.1-70b-instruct",name:"@cf/meta/llama-3.1-70b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-07-16",last_updated:"2024-12-15",modalities:{input:["text"],output:["text"]},open_weights:!0,limit:{context:24e3,output:24e3}},"qwen1.5-0.5b-chat":{id:"qwen1.5-0.5b-chat",name:"@cf/qwen/qwen1.5-0.5b-chat",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-01-31",last_updated:"2024-04-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32e3,output:32e3}},"qwen1.5-14b-chat-awq":{id:"qwen1.5-14b-chat-awq",name:"@cf/qwen/qwen1.5-14b-chat-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-02-03",last_updated:"2024-04-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:7500,output:7500}},"llama-3.2-3b-instruct":{id:"llama-3.2-3b-instruct",name:"@cf/meta/llama-3.2-3b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-09-18",last_updated:"2024-10-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.051,output:.34},limit:{context:128e3,output:128e3}},"gemma-7b-it-lora":{id:"gemma-7b-it-lora",name:"@cf/google/gemma-7b-it-lora",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-04-02",last_updated:"2024-04-02",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:3500,output:3500}},"gemma-3-12b-it":{id:"gemma-3-12b-it",name:"@cf/google/gemma-3-12b-it",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-03-01",last_updated:"2025-03-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.35,output:.56},limit:{context:8e4,output:8e4}},"llama-3-8b-instruct":{id:"llama-3-8b-instruct",name:"@cf/meta/llama-3-8b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-04-17",last_updated:"2025-06-19",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.28,output:.83},limit:{context:7968,output:7968}},"gemma-7b-it":{id:"gemma-7b-it",name:"@hf/google/gemma-7b-it",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-02-13",last_updated:"2024-08-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"qwq-32b":{id:"qwq-32b",name:"@cf/qwen/qwq-32b",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-03-05",last_updated:"2025-03-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.66,output:1},limit:{context:24e3,output:24e3}},"llama-3.2-1b-instruct":{id:"llama-3.2-1b-instruct",name:"@cf/meta/llama-3.2-1b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-09-18",last_updated:"2024-10-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.027,output:.2},limit:{context:6e4,output:6e4}},"falcon-7b-instruct":{id:"falcon-7b-instruct",name:"@cf/tiiuae/falcon-7b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-04-25",last_updated:"2024-10-12",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"llama-3.1-8b-instruct-fast":{id:"llama-3.1-8b-instruct-fast",name:"@cf/meta/llama-3.1-8b-instruct-fast",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-07-18",last_updated:"2024-09-25",modalities:{input:["text"],output:["text"]},open_weights:!0,limit:{context:128e3,output:128e3}},"tinyllama-1.1b-chat-v1.0":{id:"tinyllama-1.1b-chat-v1.0",name:"@cf/tinyllama/tinyllama-1.1b-chat-v1.0",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-12-30",last_updated:"2024-03-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:2048,output:2048}},"phoenix-1.0":{id:"phoenix-1.0",name:"@cf/leonardo/phoenix-1.0",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-08-25",last_updated:"2025-08-25",modalities:{input:["text"],output:["image"]},open_weights:!1,cost:{input:.0058,output:.0058},limit:{context:0,output:0}},"stable-diffusion-v1-5-inpainting":{id:"stable-diffusion-v1-5-inpainting",name:"@cf/runwayml/stable-diffusion-v1-5-inpainting",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-02-27",last_updated:"2024-02-27",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"llama-3-8b-instruct-awq":{id:"llama-3-8b-instruct-awq",name:"@cf/meta/llama-3-8b-instruct-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-05-09",last_updated:"2024-05-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.12,output:.27},limit:{context:8192,output:8192}},"openhermes-2.5-mistral-7b-awq":{id:"openhermes-2.5-mistral-7b-awq",name:"@hf/thebloke/openhermes-2.5-mistral-7b-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-11-02",last_updated:"2023-11-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"llama-2-7b-chat-hf-lora":{id:"llama-2-7b-chat-hf-lora",name:"@cf/meta-llama/llama-2-7b-chat-hf-lora",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-07-13",last_updated:"2024-04-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"gpt-oss-20b":{id:"gpt-oss-20b",name:"@cf/openai/gpt-oss-20b",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-08-04",last_updated:"2025-08-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.3},limit:{context:128e3,output:128e3}},"llama-3.1-8b-instruct-fp8":{id:"llama-3.1-8b-instruct-fp8",name:"@cf/meta/llama-3.1-8b-instruct-fp8",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-07-25",last_updated:"2024-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.29},limit:{context:32e3,output:32e3}},whisper:{id:"whisper",name:"@cf/openai/whisper",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2023-11-07",last_updated:"2024-08-12",modalities:{input:["audio"],output:["text"]},open_weights:!0,cost:{input:45e-5,output:45e-5},limit:{context:0,output:0}},"uform-gen2-qwen-500m":{id:"uform-gen2-qwen-500m",name:"@cf/unum/uform-gen2-qwen-500m",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-02-15",last_updated:"2024-04-24",modalities:{input:["image","text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"bart-large-cnn":{id:"bart-large-cnn",name:"@cf/facebook/bart-large-cnn",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2022-03-02",last_updated:"2024-02-13",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"mistral-7b-instruct-v0.1":{id:"mistral-7b-instruct-v0.1",name:"@cf/mistral/mistral-7b-instruct-v0.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-09-27",last_updated:"2025-07-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.11,output:.19},limit:{context:2824,output:2824}},"una-cybertron-7b-v2-bf16":{id:"una-cybertron-7b-v2-bf16",name:"@cf/fblgit/una-cybertron-7b-v2-bf16",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-12-02",last_updated:"2024-03-08",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:15e3,output:15e3}},"hermes-2-pro-mistral-7b":{id:"hermes-2-pro-mistral-7b",name:"@hf/nousresearch/hermes-2-pro-mistral-7b",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-03-11",last_updated:"2024-09-08",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:24e3,output:24e3}},"llama-2-13b-chat-awq":{id:"llama-2-13b-chat-awq",name:"@hf/thebloke/llama-2-13b-chat-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-09-19",last_updated:"2023-11-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"qwen2.5-coder-32b-instruct":{id:"qwen2.5-coder-32b-instruct",name:"@cf/qwen/qwen2.5-coder-32b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-11-06",last_updated:"2025-01-12",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.66,output:1},limit:{context:32768,output:32768}},"m2m100-1.2b":{id:"m2m100-1.2b",name:"@cf/meta/m2m100-1.2b",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2022-03-02",last_updated:"2023-11-16",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.34,output:.34},limit:{context:0,output:0}},melotts:{id:"melotts",name:"@cf/myshell-ai/melotts",attachment:!0,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-07-19",last_updated:"2024-07-19",modalities:{input:["text"],output:["audio"]},open_weights:!0,cost:{input:2e-4,output:0},limit:{context:0,output:0}},"stable-diffusion-xl-base-1.0":{id:"stable-diffusion-xl-base-1.0",name:"@cf/stabilityai/stable-diffusion-xl-base-1.0",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2023-07-25",last_updated:"2023-10-30",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"lucid-origin":{id:"lucid-origin",name:"@cf/leonardo/lucid-origin",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-08-25",last_updated:"2025-08-05",modalities:{input:["text"],output:["image"]},open_weights:!1,cost:{input:.007,output:.007},limit:{context:0,output:0}},"llama-3.1-8b-instruct":{id:"llama-3.1-8b-instruct",name:"@cf/meta/llama-3.1-8b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-07-18",last_updated:"2024-09-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.28,output:.83},limit:{context:7968,output:7968}},"qwen1.5-7b-chat-awq":{id:"qwen1.5-7b-chat-awq",name:"@cf/qwen/qwen1.5-7b-chat-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-02-03",last_updated:"2024-04-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:2e4,output:2e4}},"mistral-small-3.1-24b-instruct":{id:"mistral-small-3.1-24b-instruct",name:"@cf/mistralai/mistral-small-3.1-24b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-03-11",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.35,output:.56},limit:{context:128e3,output:128e3}},"llama-3.2-11b-vision-instruct":{id:"llama-3.2-11b-vision-instruct",name:"@cf/meta/llama-3.2-11b-vision-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-09-18",last_updated:"2024-12-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.049,output:.68},limit:{context:128e3,output:128e3}},"llama-3.3-70b-instruct-fp8-fast":{id:"llama-3.3-70b-instruct-fp8-fast",name:"@cf/meta/llama-3.3-70b-instruct-fp8-fast",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.29,output:2.25},limit:{context:24e3,output:24e3}},"phi-2":{id:"phi-2",name:"@cf/microsoft/phi-2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-12-13",last_updated:"2024-04-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:2048,output:2048}},"whisper-large-v3-turbo":{id:"whisper-large-v3-turbo",name:"@cf/openai/whisper-large-v3-turbo",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-10-01",last_updated:"2024-10-04",modalities:{input:["audio"],output:["text"]},open_weights:!0,cost:{input:51e-5,output:51e-5},limit:{context:0,output:0}},"mistral-7b-instruct-v0.1-awq":{id:"mistral-7b-instruct-v0.1-awq",name:"@hf/thebloke/mistral-7b-instruct-v0.1-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-09-27",last_updated:"2023-11-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"aura-1":{id:"aura-1",name:"@cf/deepgram/aura-1",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-08-27",last_updated:"2025-07-07",modalities:{input:["text"],output:["audio"]},open_weights:!0,cost:{input:.015,output:.015},limit:{context:0,output:0}},"neural-chat-7b-v3-1-awq":{id:"neural-chat-7b-v3-1-awq",name:"@hf/thebloke/neural-chat-7b-v3-1-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-11-15",last_updated:"2023-11-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"gpt-oss-120b":{id:"gpt-oss-120b",name:"@cf/openai/gpt-oss-120b",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-08-04",last_updated:"2025-08-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.35,output:.75},limit:{context:128e3,output:128e3}},"qwen1.5-1.8b-chat":{id:"qwen1.5-1.8b-chat",name:"@cf/qwen/qwen1.5-1.8b-chat",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-01-30",last_updated:"2024-04-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32e3,output:32e3}},"nova-3":{id:"nova-3",name:"@cf/deepgram/nova-3",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2025-06-05",last_updated:"2025-07-08",modalities:{input:["audio"],output:["text"]},open_weights:!0,cost:{input:.0052,output:.0052},limit:{context:0,output:0}},"llama-4-scout-17b-16e-instruct":{id:"llama-4-scout-17b-16e-instruct",name:"@cf/meta/llama-4-scout-17b-16e-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-04-02",last_updated:"2025-05-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.27,output:.85},limit:{context:131e3,output:131e3}},"gemma-2b-it-lora":{id:"gemma-2b-it-lora",name:"@cf/google/gemma-2b-it-lora",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-04-02",last_updated:"2024-04-02",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"sqlcoder-7b-2":{id:"sqlcoder-7b-2",name:"@cf/defog/sqlcoder-7b-2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-02-05",last_updated:"2024-02-12",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:1e4,output:1e4}},"deepseek-math-7b-instruct":{id:"deepseek-math-7b-instruct",name:"@cf/deepseek-ai/deepseek-math-7b-instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-02-05",last_updated:"2024-02-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"llama-2-7b-chat-fp16":{id:"llama-2-7b-chat-fp16",name:"@cf/meta/llama-2-7b-chat-fp16",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-07-26",last_updated:"2023-07-26",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.56,output:6.67},limit:{context:4096,output:4096}},"deepseek-r1-distill-qwen-32b":{id:"deepseek-r1-distill-qwen-32b",name:"@cf/deepseek-ai/deepseek-r1-distill-qwen-32b",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-01-20",last_updated:"2025-02-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:4.88},limit:{context:8e4,output:8e4}},"discolm-german-7b-v1-awq":{id:"discolm-german-7b-v1-awq",name:"@cf/thebloke/discolm-german-7b-v1-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2024-01-18",last_updated:"2024-01-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"stable-diffusion-xl-lightning":{id:"stable-diffusion-xl-lightning",name:"@cf/bytedance/stable-diffusion-xl-lightning",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-02-20",last_updated:"2024-04-03",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"whisper-tiny-en":{id:"whisper-tiny-en",name:"@cf/openai/whisper-tiny-en",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2022-09-26",last_updated:"2024-01-22",modalities:{input:["audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"zephyr-7b-beta-awq":{id:"zephyr-7b-beta-awq",name:"@hf/thebloke/zephyr-7b-beta-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-10-27",last_updated:"2023-11-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"flux-1-schnell":{id:"flux-1-schnell",name:"@cf/black-forest-labs/flux-1-schnell",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-07-31",last_updated:"2024-08-16",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:53e-6,output:11e-5},limit:{context:2048,output:0}},"stable-diffusion-v1-5-img2img":{id:"stable-diffusion-v1-5-img2img",name:"@cf/runwayml/stable-diffusion-v1-5-img2img",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-02-27",last_updated:"2024-02-27",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}},"llama-2-7b-chat-int8":{id:"llama-2-7b-chat-int8",name:"@cf/meta/llama-2-7b-chat-int8",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-09-25",last_updated:"2023-09-25",modalities:{input:["text"],output:["text"]},open_weights:!0,limit:{context:8192,output:8192}},"llamaguard-7b-awq":{id:"llamaguard-7b-awq",name:"@hf/thebloke/llamaguard-7b-awq",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2023-12-11",last_updated:"2023-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:4096}},"llama-guard-3-8b":{id:"llama-guard-3-8b",name:"@cf/meta/llama-guard-3-8b",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,release_date:"2024-07-22",last_updated:"2024-10-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.48,output:.03},limit:{context:0,output:0}},"dreamshaper-8-lcm":{id:"dreamshaper-8-lcm",name:"@cf/lykon/dreamshaper-8-lcm",attachment:!0,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2023-12-06",last_updated:"2023-12-07",modalities:{input:["text"],output:["image"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:0}}}},TOt={id:"deepinfra",name:"Deep Infra",npm:"@ai-sdk/deepinfra",doc:"https://deepinfra.com/models",env:["DEEPINFRA_API_KEY"],models:{"Qwen/Qwen3-Coder-480B-A35B-Instruct-Turbo":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct-Turbo",name:"Qwen3 Coder 480B A35B Instruct Turbo",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:1.2},limit:{context:262144,output:66536}},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.4,output:1.6},limit:{context:262144,output:66536}},"zai-org/GLM-4.5":{id:"zai-org/GLM-4.5",name:"GLM-4.5",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.2},limit:{context:131072,output:98304}},"moonshotai/Kimi-K2-Instruct":{id:"moonshotai/Kimi-K2-Instruct",name:"Kimi K2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:131072,output:32768}}}},COt={id:"deepseek",name:"DeepSeek",api:"https://api.deepseek.com",npm:"@ai-sdk/openai-compatible",doc:"https://platform.deepseek.com/api-docs/pricing",env:["DEEPSEEK_API_KEY"],models:{"deepseek-reasoner":{id:"deepseek-reasoner",name:"DeepSeek Reasoner",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.57,output:1.68,cache_read:.07},limit:{context:128e3,output:128e3}},"deepseek-chat":{id:"deepseek-chat",name:"DeepSeek Chat",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2024-12-26",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.57,output:1.68,cache_read:.07},limit:{context:128e3,output:8192}}}},kOt={id:"fastrouter",name:"FastRouter",api:"https://go.fastrouter.ai/api/v1",npm:"@ai-sdk/openai-compatible",doc:"https://fastrouter.ai/models",env:["FASTROUTER_API_KEY"],models:{"deepseek-ai/deepseek-r1-distill-llama-70b":{id:"deepseek-ai/deepseek-r1-distill-llama-70b",name:"DeepSeek R1 Distill Llama 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-01-23",last_updated:"2025-01-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.03,output:.14},limit:{context:131072,output:131072}},"anthropic/claude-sonnet-4":{id:"anthropic/claude-sonnet-4",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic/claude-opus-4.1":{id:"anthropic/claude-opus-4.1",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"openai/gpt-5-nano":{id:"openai/gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4,cache_read:.005},limit:{context:4e5,output:128e3}},"openai/gpt-4.1":{id:"openai/gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"openai/gpt-oss-20b":{id:"openai/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.2},limit:{context:131072,output:65536}},"openai/gpt-5":{id:"openai/gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.125},limit:{context:4e5,output:128e3}},"openai/gpt-5-mini":{id:"openai/gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2,cache_read:.025},limit:{context:4e5,output:128e3}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:131072,output:32768}},"x-ai/grok-4":{id:"x-ai/grok-4",name:"Grok 4",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-09",last_updated:"2025-07-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75,cache_write:15},limit:{context:256e3,output:64e3}},"google/gemini-2.5-pro":{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"google/gemini-2.5-flash":{id:"google/gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.0375},limit:{context:1048576,output:65536}},"qwen/qwen3-coder":{id:"qwen/qwen3-coder",name:"Qwen3 Coder",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:1.2},limit:{context:262144,output:66536}},"moonshotai/kimi-k2":{id:"moonshotai/kimi-k2",name:"Kimi K2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.55,output:2.2},limit:{context:131072,output:32768}}}},AOt={id:"fireworks-ai",name:"Fireworks AI",api:"https://api.fireworks.ai/inference/v1/",npm:"@ai-sdk/openai-compatible",doc:"https://fireworks.ai/docs/",env:["FIREWORKS_API_KEY"],models:{"accounts/fireworks/models/qwen3-235b-a22b":{id:"accounts/fireworks/models/qwen3-235b-a22b",name:"Qwen3 235B-A22B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-29",last_updated:"2025-04-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.22,output:.88},limit:{context:128e3,output:16384}},"accounts/fireworks/models/gpt-oss-20b":{id:"accounts/fireworks/models/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.2},limit:{context:131072,output:32768}},"accounts/fireworks/models/deepseek-v3-0324":{id:"accounts/fireworks/models/deepseek-v3-0324",name:"Deepseek V3 03-24",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.9,output:.9},limit:{context:16e4,output:16384}},"accounts/fireworks/models/qwen3-coder-480b-a35b-instruct":{id:"accounts/fireworks/models/qwen3-coder-480b-a35b-instruct",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-07-22",last_updated:"2025-07-22",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.45,output:1.8},limit:{context:256e3,output:32768}},"accounts/fireworks/models/deepseek-r1-0528":{id:"accounts/fireworks/models/deepseek-r1-0528",name:"Deepseek R1 05/28",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-28",last_updated:"2025-05-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3,output:8},limit:{context:16e4,output:16384}},"accounts/fireworks/models/glm-4p5-air":{id:"accounts/fireworks/models/glm-4p5-air",name:"GLM 4.5 Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.22,output:.88},limit:{context:131072,output:131072}},"accounts/fireworks/models/kimi-k2-instruct":{id:"accounts/fireworks/models/kimi-k2-instruct",name:"Kimi K2 Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:128e3,output:16384}},"accounts/fireworks/models/gpt-oss-120b":{id:"accounts/fireworks/models/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:131072,output:32768}},"accounts/fireworks/models/glm-4p5":{id:"accounts/fireworks/models/glm-4p5",name:"GLM 4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-29",last_updated:"2025-07-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.55,output:2.19},limit:{context:131072,output:131072}},"accounts/fireworks/models/deepseek-v3p1":{id:"accounts/fireworks/models/deepseek-v3p1",name:"DeepSeek V3.1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-08-21",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.56,output:1.68},limit:{context:163840,output:163840}}}},POt={id:"github-copilot",name:"GitHub Copilot",api:"https://api.githubcopilot.com",npm:"@ai-sdk/openai-compatible",doc:"https://docs.github.com/en/copilot",env:["GITHUB_TOKEN"],models:{"gemini-2.5-pro":{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video"],output:["text"]},open_weights:!1,limit:{context:128e3,output:64e3}},"claude-sonnet-4":{id:"claude-sonnet-4",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:16e3}},"gpt-4.1":{id:"gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:16384}},"gemini-2.0-flash-001":{id:"gemini-2.0-flash-001",name:"Gemini 2.0 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video"],output:["text"]},open_weights:!1,limit:{context:1e6,output:8192}},"claude-opus-4":{id:"claude-opus-4",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:8e4,output:16e3}},"grok-code-fast-1":{id:"grok-code-fast-1",name:"Grok Code Fast 1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-08",release_date:"2025-08-27",last_updated:"2025-08-27",modalities:{input:["text"],output:["text"]},open_weights:!1,limit:{context:256e3,output:1e4}},"claude-opus-41":{id:"claude-opus-41",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:8e4,output:16e3}},"claude-3.7-sonnet-thought":{id:"claude-3.7-sonnet-thought",name:"Claude Sonnet 3.7 Thinking",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:2e5,output:16384}},"gpt-5":{id:"gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:64e3}},o3:{id:"o3",name:"o3 (Preview)",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:16384}},"gpt-5-mini":{id:"gpt-5-mini",name:"GPT-5-mini",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-08-13",last_updated:"2025-08-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:64e3}},"claude-3.7-sonnet":{id:"claude-3.7-sonnet",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:2e5,output:16384}},"claude-3.5-sonnet":{id:"claude-3.5-sonnet",name:"Claude Sonnet 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:9e4,output:8192}},"gpt-4o":{id:"gpt-4o",name:"GPT-4o",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-05-13",last_updated:"2024-05-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,limit:{context:128e3,output:16384}},"o4-mini":{id:"o4-mini",name:"o4-mini (Preview)",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-10",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text"],output:["text"]},open_weights:!1,limit:{context:128e3,output:65536}},"o3-mini":{id:"o3-mini",name:"o3-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-10",release_date:"2024-12-20",last_updated:"2025-01-29",modalities:{input:["text"],output:["text"]},open_weights:!1,limit:{context:128e3,output:65536}}}},EOt={id:"github-models",name:"GitHub Models",api:"https://models.github.ai/inference",npm:"@ai-sdk/openai-compatible",doc:"https://docs.github.com/en/github-models",env:["GITHUB_TOKEN"],models:{"deepseek/deepseek-v3-0324":{id:"deepseek/deepseek-v3-0324",name:"DeepSeek-V3-0324",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"deepseek/deepseek-r1-0528":{id:"deepseek/deepseek-r1-0528",name:"DeepSeek-R1-0528",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-05-28",last_updated:"2025-05-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:65536,output:8192}},"deepseek/deepseek-r1":{id:"deepseek/deepseek-r1",name:"DeepSeek-R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:65536,output:8192}},"meta/meta-llama-3-8b-instruct":{id:"meta/meta-llama-3-8b-instruct",name:"Meta-Llama-3-8B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-04-18",last_updated:"2024-04-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:2048}},"meta/llama-3.2-90b-vision-instruct":{id:"meta/llama-3.2-90b-vision-instruct",name:"Llama-3.2-90B-Vision-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"meta/llama-3.3-70b-instruct":{id:"meta/llama-3.3-70b-instruct",name:"Llama-3.3-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"meta/meta-llama-3.1-70b-instruct":{id:"meta/meta-llama-3.1-70b-instruct",name:"Meta-Llama-3.1-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"meta/llama-4-maverick-17b-128e-instruct-fp8":{id:"meta/llama-4-maverick-17b-128e-instruct-fp8",name:"Llama 4 Maverick 17B 128E Instruct FP8",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"meta/meta-llama-3.1-8b-instruct":{id:"meta/meta-llama-3.1-8b-instruct",name:"Meta-Llama-3.1-8B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"meta/meta-llama-3.1-405b-instruct":{id:"meta/meta-llama-3.1-405b-instruct",name:"Meta-Llama-3.1-405B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"meta/llama-3.2-11b-vision-instruct":{id:"meta/llama-3.2-11b-vision-instruct",name:"Llama-3.2-11B-Vision-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"meta/llama-4-scout-17b-16e-instruct":{id:"meta/llama-4-scout-17b-16e-instruct",name:"Llama 4 Scout 17B 16E Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"meta/meta-llama-3-70b-instruct":{id:"meta/meta-llama-3-70b-instruct",name:"Meta-Llama-3-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-04-18",last_updated:"2024-04-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:2048}},"xai/grok-3":{id:"xai/grok-3",name:"Grok 3",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-09",last_updated:"2024-12-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"xai/grok-3-mini":{id:"xai/grok-3-mini",name:"Grok 3 Mini",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-09",last_updated:"2024-12-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"openai/gpt-4.1":{id:"openai/gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:16384}},"openai/o1":{id:"openai/o1",name:"OpenAI o1",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2023-10",release_date:"2024-09-12",last_updated:"2024-12-17",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e5,output:1e5}},"openai/o3":{id:"openai/o3",name:"OpenAI o3",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-04",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e5,output:1e5}},"openai/o1-preview":{id:"openai/o1-preview",name:"OpenAI o1-preview",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2023-10",release_date:"2024-09-12",last_updated:"2024-09-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"openai/gpt-4o-mini":{id:"openai/gpt-4o-mini",name:"GPT-4o mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:16384}},"openai/gpt-4.1-nano":{id:"openai/gpt-4.1-nano",name:"GPT-4.1-nano",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:16384}},"openai/gpt-4.1-mini":{id:"openai/gpt-4.1-mini",name:"GPT-4.1-mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:16384}},"openai/o1-mini":{id:"openai/o1-mini",name:"OpenAI o1-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2023-10",release_date:"2024-09-12",last_updated:"2024-12-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:65536}},"openai/gpt-4o":{id:"openai/gpt-4o",name:"GPT-4o",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-05-13",last_updated:"2024-05-13",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:16384}},"openai/o4-mini":{id:"openai/o4-mini",name:"OpenAI o4-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-04",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e5,output:1e5}},"openai/o3-mini":{id:"openai/o3-mini",name:"OpenAI o3-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2024-04",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e5,output:1e5}},"ai21-labs/ai21-jamba-1.5-mini":{id:"ai21-labs/ai21-jamba-1.5-mini",name:"AI21 Jamba 1.5 Mini",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-08-29",last_updated:"2024-08-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:256e3,output:4096}},"ai21-labs/ai21-jamba-1.5-large":{id:"ai21-labs/ai21-jamba-1.5-large",name:"AI21 Jamba 1.5 Large",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-08-29",last_updated:"2024-08-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:256e3,output:4096}},"microsoft/phi-3-medium-4k-instruct":{id:"microsoft/phi-3-medium-4k-instruct",name:"Phi-3-medium instruct (4k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:1024}},"microsoft/phi-3.5-vision-instruct":{id:"microsoft/phi-3.5-vision-instruct",name:"Phi-3.5-vision instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-4-reasoning":{id:"microsoft/phi-4-reasoning",name:"Phi-4-Reasoning",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-4":{id:"microsoft/phi-4",name:"Phi-4",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:16e3,output:4096}},"microsoft/phi-3-small-8k-instruct":{id:"microsoft/phi-3-small-8k-instruct",name:"Phi-3-small instruct (8k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:2048}},"microsoft/phi-4-mini-instruct":{id:"microsoft/phi-4-mini-instruct",name:"Phi-4-mini-instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-3-mini-128k-instruct":{id:"microsoft/phi-3-mini-128k-instruct",name:"Phi-3-mini instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-3-small-128k-instruct":{id:"microsoft/phi-3-small-128k-instruct",name:"Phi-3-small instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/mai-ds-r1":{id:"microsoft/mai-ds-r1",name:"MAI-DS-R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:65536,output:8192}},"microsoft/phi-3.5-moe-instruct":{id:"microsoft/phi-3.5-moe-instruct",name:"Phi-3.5-MoE instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-4-multimodal-instruct":{id:"microsoft/phi-4-multimodal-instruct",name:"Phi-4-multimodal-instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-4-mini-reasoning":{id:"microsoft/phi-4-mini-reasoning",name:"Phi-4-mini-reasoning",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-3.5-mini-instruct":{id:"microsoft/phi-3.5-mini-instruct",name:"Phi-3.5-mini instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"microsoft/phi-3-mini-4k-instruct":{id:"microsoft/phi-3-mini-4k-instruct",name:"Phi-3-mini instruct (4k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:4096,output:1024}},"microsoft/phi-3-medium-128k-instruct":{id:"microsoft/phi-3-medium-128k-instruct",name:"Phi-3-medium instruct (128k)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-04-23",last_updated:"2024-04-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"mistral-ai/mistral-small-2503":{id:"mistral-ai/mistral-small-2503",name:"Mistral Small 3.1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2025-03-01",last_updated:"2025-03-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"mistral-ai/mistral-large-2411":{id:"mistral-ai/mistral-large-2411",name:"Mistral Large 24.11",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2024-11-01",last_updated:"2024-11-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"mistral-ai/mistral-medium-2505":{id:"mistral-ai/mistral-medium-2505",name:"Mistral Medium 3 (25.05)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2025-05-01",last_updated:"2025-05-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:32768}},"mistral-ai/ministral-3b":{id:"mistral-ai/ministral-3b",name:"Ministral 3B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"mistral-ai/mistral-nemo":{id:"mistral-ai/mistral-nemo",name:"Mistral Nemo",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"mistral-ai/codestral-2501":{id:"mistral-ai/codestral-2501",name:"Codestral 25.01",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:32e3,output:8192}},"cohere/cohere-command-r-08-2024":{id:"cohere/cohere-command-r-08-2024",name:"Cohere Command R 08-2024",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-08-01",last_updated:"2024-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cohere/cohere-command-r-plus-08-2024":{id:"cohere/cohere-command-r-plus-08-2024",name:"Cohere Command R+ 08-2024",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-08-01",last_updated:"2024-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cohere/cohere-command-a":{id:"cohere/cohere-command-a",name:"Cohere Command A",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-11-01",last_updated:"2024-11-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cohere/cohere-command-r":{id:"cohere/cohere-command-r",name:"Cohere Command R",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-03-11",last_updated:"2024-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cohere/cohere-command-r-plus":{id:"cohere/cohere-command-r-plus",name:"Cohere Command R+",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-03",release_date:"2024-04-04",last_updated:"2024-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"core42/jais-30b-chat":{id:"core42/jais-30b-chat",name:"JAIS 30b Chat",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-03",release_date:"2023-08-30",last_updated:"2023-08-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:2048}}}},MOt={id:"google",name:"Google",npm:"@ai-sdk/google",doc:"https://ai.google.dev/gemini-api/docs/pricing",env:["GOOGLE_GENERATIVE_AI_API_KEY"],models:{"gemini-2.5-flash-preview-05-20":{id:"gemini-2.5-flash-preview-05-20",name:"Gemini 2.5 Flash Preview 05-20",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-05-20",last_updated:"2025-05-20",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.0375},limit:{context:1048576,output:65536}},"gemini-2.5-pro":{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-1.5-flash":{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-05-14",last_updated:"2024-05-14",modalities:{input:["text","image","audio","video"],output:["text"]},open_weights:!1,cost:{input:.075,output:.3,cache_read:.01875},limit:{context:1e6,output:8192}},"gemini-2.0-flash-lite":{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash Lite",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.075,output:.3},limit:{context:1048576,output:8192}},"gemini-1.5-pro":{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-02-15",last_updated:"2024-02-15",modalities:{input:["text","image","audio","video"],output:["text"]},open_weights:!1,cost:{input:1.25,output:5,cache_read:.3125},limit:{context:1e6,output:8192}},"gemini-1.5-flash-8b":{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash-8B",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-10-03",last_updated:"2024-10-03",modalities:{input:["text","image","audio","video"],output:["text"]},open_weights:!1,cost:{input:.0375,output:.15,cache_read:.01},limit:{context:1e6,output:8192}},"gemini-2.5-flash":{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.075},limit:{context:1048576,output:65536}},"gemini-2.5-pro-preview-06-05":{id:"gemini-2.5-pro-preview-06-05",name:"Gemini 2.5 Pro Preview 06-05",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-05",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-2.5-pro-preview-05-06":{id:"gemini-2.5-pro-preview-05-06",name:"Gemini 2.5 Pro Preview 05-06",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-05-06",last_updated:"2025-05-06",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-2.0-flash":{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:1048576,output:8192}},"gemini-2.5-flash-lite-preview-06-17":{id:"gemini-2.5-flash-lite-preview-06-17",name:"Gemini 2.5 Flash Lite Preview 06-17",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:65536,output:65536}},"gemini-2.5-flash-preview-04-17":{id:"gemini-2.5-flash-preview-04-17",name:"Gemini 2.5 Flash Preview 04-17",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-04-17",last_updated:"2025-04-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.0375},limit:{context:1048576,output:65536}}}},DOt={id:"google-vertex",name:"Vertex",npm:"@ai-sdk/google-vertex",doc:"https://cloud.google.com/vertex-ai/generative-ai/docs/models",env:["GOOGLE_VERTEX_PROJECT","GOOGLE_VERTEX_LOCATION","GOOGLE_APPLICATION_CREDENTIALS"],models:{"gemini-2.5-flash-preview-05-20":{id:"gemini-2.5-flash-preview-05-20",name:"Gemini 2.5 Flash Preview 05-20",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-05-20",last_updated:"2025-05-20",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.0375},limit:{context:1048576,output:65536}},"gemini-2.5-pro":{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-2.0-flash-lite":{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash Lite",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.075,output:.3},limit:{context:1048576,output:8192}},"gemini-2.5-flash":{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.075,cache_write:.383},limit:{context:1048576,output:65536}},"gemini-2.5-pro-preview-06-05":{id:"gemini-2.5-pro-preview-06-05",name:"Gemini 2.5 Pro Preview 06-05",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-05",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-2.5-pro-preview-05-06":{id:"gemini-2.5-pro-preview-05-06",name:"Gemini 2.5 Pro Preview 05-06",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-05-06",last_updated:"2025-05-06",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"gemini-2.0-flash":{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:1048576,output:8192}},"gemini-2.5-flash-lite-preview-06-17":{id:"gemini-2.5-flash-lite-preview-06-17",name:"Gemini 2.5 Flash Lite Preview 06-17",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:65536,output:65536}},"gemini-2.5-flash-preview-04-17":{id:"gemini-2.5-flash-preview-04-17",name:"Gemini 2.5 Flash Preview 04-17",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-04-17",last_updated:"2025-04-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.0375},limit:{context:1048576,output:65536}}}},IOt={id:"google-vertex-anthropic",name:"Vertex",npm:"@ai-sdk/google-vertex",doc:"https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/claude",env:["GOOGLE_VERTEX_PROJECT","GOOGLE_VERTEX_LOCATION","GOOGLE_APPLICATION_CREDENTIALS"],models:{"claude-3-5-haiku@20241022":{id:"claude-3-5-haiku@20241022",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07-31",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"claude-opus-4@20250514":{id:"claude-opus-4@20250514",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"claude-3-5-sonnet@20241022":{id:"claude-3-5-sonnet@20241022",name:"Claude Sonnet 3.5 v2",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04-30",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"claude-opus-4-1@20250805":{id:"claude-opus-4-1@20250805",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"claude-3-7-sonnet@20250219":{id:"claude-3-7-sonnet@20250219",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-31",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"claude-sonnet-4@20250514":{id:"claude-sonnet-4@20250514",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}}}},ROt={id:"groq",name:"Groq",npm:"@ai-sdk/groq",doc:"https://console.groq.com/docs/models",env:["GROQ_API_KEY"],models:{"llama-3.1-8b-instant":{id:"llama-3.1-8b-instant",name:"Llama 3.1 8B Instant",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.08},limit:{context:131072,output:8192}},"qwen-qwq-32b":{id:"qwen-qwq-32b",name:"Qwen QwQ 32B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2024-11-27",last_updated:"2024-11-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.29,output:.39},limit:{context:131072,output:16384}},"llama3-70b-8192":{id:"llama3-70b-8192",name:"Llama 3 70B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-03",release_date:"2024-04-18",last_updated:"2024-04-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.59,output:.79},limit:{context:8192,output:8192}},"deepseek-r1-distill-llama-70b":{id:"deepseek-r1-distill-llama-70b",name:"DeepSeek R1 Distill Llama 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.75,output:.99},limit:{context:131072,output:8192}},"llama3-8b-8192":{id:"llama3-8b-8192",name:"Llama 3 8B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-03",release_date:"2024-04-18",last_updated:"2024-04-18",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.08},limit:{context:8192,output:8192}},"gemma2-9b-it":{id:"gemma2-9b-it",name:"Gemma 2 9B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-06-27",last_updated:"2024-06-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.2},limit:{context:8192,output:8192}},"llama-3.3-70b-versatile":{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B Versatile",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.59,output:.79},limit:{context:131072,output:32768}},"mistral-saba-24b":{id:"mistral-saba-24b",name:"Mistral Saba 24B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-02-06",last_updated:"2025-02-06",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.79,output:.79},limit:{context:32768,output:32768}},"llama-guard-3-8b":{id:"llama-guard-3-8b",name:"Llama Guard 3 8B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.2},limit:{context:8192,output:8192}},"openai/gpt-oss-20b":{id:"openai/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.5},limit:{context:131072,output:32768}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.75},limit:{context:131072,output:32768}},"meta-llama/llama-guard-4-12b":{id:"meta-llama/llama-guard-4-12b",name:"Llama Guard 4 12B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.2,output:.2},limit:{context:131072,output:128}},"meta-llama/llama-4-maverick-17b-128e-instruct":{id:"meta-llama/llama-4-maverick-17b-128e-instruct",name:"Llama 4 Maverick 17B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.2,output:.6},limit:{context:131072,output:8192}},"meta-llama/llama-4-scout-17b-16e-instruct":{id:"meta-llama/llama-4-scout-17b-16e-instruct",name:"Llama 4 Scout 17B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.11,output:.34},limit:{context:131072,output:8192}},"qwen/qwen3-32b":{id:"qwen/qwen3-32b",name:"Qwen3 32B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11-08",release_date:"2024-12-23",last_updated:"2024-12-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.29,output:.59},limit:{context:131072,output:16384}},"moonshotai/kimi-k2-instruct-0905":{id:"moonshotai/kimi-k2-instruct-0905",name:"Kimi K2 Instruct 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:262144,output:16384}},"moonshotai/kimi-k2-instruct":{id:"moonshotai/kimi-k2-instruct",name:"Kimi K2 Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:131072,output:16384}}}},LOt={id:"huggingface",name:"Hugging Face",api:"https://router.huggingface.co/v1",npm:"@ai-sdk/openai-compatible",doc:"https://huggingface.co/docs/inference-providers",env:["HF_TOKEN"],models:{"deepseek-ai/Deepseek-V3-0324":{id:"deepseek-ai/Deepseek-V3-0324",name:"DeepSeek-V3-0324",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.25,output:1.25},limit:{context:16384,output:8192}},"deepseek-ai/DeepSeek-R1-0528":{id:"deepseek-ai/DeepSeek-R1-0528",name:"DeepSeek-R1-0528",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-28",last_updated:"2025-05-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3,output:5},limit:{context:163840,output:163840}},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen3-Coder-480B-A35B-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:2},limit:{context:262144,output:66536}},"Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3-235B-A22B-Thinking-2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:3},limit:{context:262144,output:131072}},"zai-org/GLM-4.5-Air":{id:"zai-org/GLM-4.5-Air",name:"GLM-4.5-Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:1.1},limit:{context:128e3,output:96e3}},"zai-org/GLM-4.5":{id:"zai-org/GLM-4.5",name:"GLM-4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.2},limit:{context:131072,output:98304}},"moonshotai/Kimi-K2-Instruct":{id:"moonshotai/Kimi-K2-Instruct",name:"Kimi-K2-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:131072,output:16384}}}},NOt={id:"inception",name:"Inception",api:"https://api.inceptionlabs.ai/v1/",npm:"@ai-sdk/openai-compatible",doc:"https://platform.inceptionlabs.ai/docs",env:["INCEPTION_API_KEY"],models:{"mercury-coder":{id:"mercury-coder",name:"Mercury Coder",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2025-02-26",last_updated:"2025-07-31",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.25,output:1,cache_read:.25,cache_write:1},limit:{context:128e3,output:16384}},mercury:{id:"mercury",name:"Mercury",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2025-06-26",last_updated:"2025-07-31",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.25,output:1,cache_read:.25,cache_write:1},limit:{context:128e3,output:16384}}}},$Ot={id:"inference",name:"Inference",api:"https://inference.net/v1",npm:"@ai-sdk/openai-compatible",doc:"https://inference.net/models",env:["INFERENCE_API_KEY"],models:{"meta/llama-3.2-3b-instruct":{id:"meta/llama-3.2-3b-instruct",name:"Llama 3.2 3B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.02,output:.02},limit:{context:16e3,output:4096}},"meta/llama-3.2-1b-instruct":{id:"meta/llama-3.2-1b-instruct",name:"Llama 3.2 1B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.01,output:.01},limit:{context:16e3,output:4096}},"meta/llama-3.1-8b-instruct":{id:"meta/llama-3.1-8b-instruct",name:"Llama 3.1 8B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.025,output:.025},limit:{context:16e3,output:4096}},"meta/llama-3.2-11b-vision-instruct":{id:"meta/llama-3.2-11b-vision-instruct",name:"Llama 3.2 11B Vision Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.055,output:.055},limit:{context:16e3,output:4096}},"mistral/mistral-nemo-12b-instruct":{id:"mistral/mistral-nemo-12b-instruct",name:"Mistral Nemo 12B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.038,output:.1},limit:{context:16e3,output:4096}},"google/gemma-3":{id:"google/gemma-3",name:"Google Gemma 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.15,output:.3},limit:{context:125e3,output:4096}},"osmosis/osmosis-structure-0.6b":{id:"osmosis/osmosis-structure-0.6b",name:"Osmosis Structure 0.6B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.5},limit:{context:4e3,output:2048}},"qwen/qwen-2.5-7b-vision-instruct":{id:"qwen/qwen-2.5-7b-vision-instruct",name:"Qwen 2.5 7B Vision Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.2,output:.2},limit:{context:125e3,output:4096}},"qwen/qwen3-embedding-4b":{id:"qwen/qwen3-embedding-4b",name:"Qwen 3 Embedding 4B",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,knowledge:"2024-12",release_date:"2025-01-01",last_updated:"2025-01-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.01,output:0},limit:{context:32e3,output:2048}}}},zOt={id:"llama",name:"Llama",api:"https://api.llama.com/compat/v1/",npm:"@ai-sdk/openai-compatible",doc:"https://llama.developer.meta.com/docs/models",env:["LLAMA_API_KEY"],models:{"groq-llama-4-maverick-17b-128e-instruct":{id:"groq-llama-4-maverick-17b-128e-instruct",name:"Groq-Llama-4-Maverick-17B-128E-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"llama-3.3-70b-instruct":{id:"llama-3.3-70b-instruct",name:"Llama-3.3-70B-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"llama-4-maverick-17b-128e-instruct-fp8":{id:"llama-4-maverick-17b-128e-instruct-fp8",name:"Llama-4-Maverick-17B-128E-Instruct-FP8",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"llama-4-scout-17b-16e-instruct-fp8":{id:"llama-4-scout-17b-16e-instruct-fp8",name:"Llama-4-Scout-17B-16E-Instruct-FP8",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cerebras-llama-4-scout-17b-16e-instruct":{id:"cerebras-llama-4-scout-17b-16e-instruct",name:"Cerebras-Llama-4-Scout-17B-16E-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"llama-3.3-8b-instruct":{id:"llama-3.3-8b-instruct",name:"Llama-3.3-8B-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"cerebras-llama-4-maverick-17b-128e-instruct":{id:"cerebras-llama-4-maverick-17b-128e-instruct",name:"Cerebras-Llama-4-Maverick-17B-128E-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}}}},BOt={id:"lmstudio",name:"LMStudio",api:"http://127.0.0.1:1234/v1",npm:"@ai-sdk/openai-compatible",doc:"https://lmstudio.ai/models",env:["LMSTUDIO_API_KEY"],models:{"openai/gpt-oss-20b":{id:"openai/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:32768}},"qwen/qwen3-coder-30b":{id:"qwen/qwen3-coder-30b",name:"Qwen3 Coder 30B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:65536}},"qwen/qwen3-30b-a3b-2507":{id:"qwen/qwen3-30b-a3b-2507",name:"Qwen3 30B A3B 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-30",last_updated:"2025-07-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:16384}}}},QOt={id:"mistral",name:"Mistral",npm:"@ai-sdk/mistral",doc:"https://docs.mistral.ai/getting-started/models/",env:["MISTRAL_API_KEY"],models:{"pixtral-large-latest":{id:"pixtral-large-latest",name:"Pixtral Large",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2024-11-01",last_updated:"2024-11-04",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:128e3,output:128e3}},"open-mixtral-8x7b":{id:"open-mixtral-8x7b",name:"Mixtral 8x7B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-01",release_date:"2023-12-11",last_updated:"2023-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.7,output:.7},limit:{context:32e3,output:32e3}},"codestral-latest":{id:"codestral-latest",name:"Codestral",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-05-29",last_updated:"2025-01-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:.9},limit:{context:256e3,output:4096}},"devstral-small-2505":{id:"devstral-small-2505",name:"Devstral Small 2505",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-07",last_updated:"2025-05-07",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.3},limit:{context:128e3,output:128e3}},"devstral-medium-2507":{id:"devstral-medium-2507",name:"Devstral Medium",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-07-10",last_updated:"2025-07-10",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.4,output:2},limit:{context:128e3,output:128e3}},"mistral-medium-2505":{id:"mistral-medium-2505",name:"Mistral Medium 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-07",last_updated:"2025-05-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:2},limit:{context:131072,output:131072}},"devstral-small-2507":{id:"devstral-small-2507",name:"Devstral Small",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-07-10",last_updated:"2025-07-10",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.3},limit:{context:128e3,output:128e3}},"ministral-8b-latest":{id:"ministral-8b-latest",name:"Ministral 8B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-10-01",last_updated:"2024-10-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:128e3,output:128e3}},"magistral-medium-latest":{id:"magistral-medium-latest",name:"Magistral Medium",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-03-17",last_updated:"2025-03-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:5},limit:{context:128e3,output:16384}},"pixtral-12b":{id:"pixtral-12b",name:"Pixtral 12B",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2024-09-01",last_updated:"2024-09-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.15,output:.15},limit:{context:128e3,output:128e3}},"open-mistral-7b":{id:"open-mistral-7b",name:"Mistral 7B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2023-09-27",last_updated:"2023-09-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.25,output:.25},limit:{context:8e3,output:8e3}},"magistral-small":{id:"magistral-small",name:"Magistral Small",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-03-17",last_updated:"2025-03-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:1.5},limit:{context:128e3,output:128e3}},"mistral-medium-2508":{id:"mistral-medium-2508",name:"Mistral Medium 3.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-08-12",last_updated:"2025-08-12",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:2},limit:{context:262144,output:262144}},"open-mixtral-8x22b":{id:"open-mixtral-8x22b",name:"Mixtral 8x22B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-04-17",last_updated:"2024-04-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:64e3,output:64e3}},"mistral-medium-latest":{id:"mistral-medium-latest",name:"Mistral Medium",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-07",last_updated:"2025-05-10",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.4,output:2},limit:{context:128e3,output:16384}},"mistral-small-latest":{id:"mistral-small-latest",name:"Mistral Small",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-03",release_date:"2024-09-01",last_updated:"2024-09-04",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.1,output:.3},limit:{context:128e3,output:16384}},"mistral-large-latest":{id:"mistral-large-latest",name:"Mistral Large",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2024-11-01",last_updated:"2024-11-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:131072,output:16384}},"mistral-nemo":{id:"mistral-nemo",name:"Mistral Nemo",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2024-07-01",last_updated:"2024-07-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.15},limit:{context:128e3,output:128e3}},"ministral-3b-latest":{id:"ministral-3b-latest",name:"Ministral 3B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-10-01",last_updated:"2024-10-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.04,output:.04},limit:{context:128e3,output:128e3}}}},jOt={id:"modelscope",name:"ModelScope",api:"https://api-inference.modelscope.cn/v1",npm:"@ai-sdk/openai-compatible",doc:"https://modelscope.cn/docs/model-service/API-Inference/intro",env:["MODELSCOPE_API_KEY"],models:{"Qwen/Qwen3-30B-A3B-Thinking-2507":{id:"Qwen/Qwen3-30B-A3B-Thinking-2507",name:"Qwen3 30B A3B Thinking 2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-30",last_updated:"2025-07-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:32768}},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen3-Coder-480B-A35B-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:66536}},"Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3-235B-A22B-Thinking-2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:131072}},"Qwen/Qwen3-30B-A3B-Instruct-2507":{id:"Qwen/Qwen3-30B-A3B-Instruct-2507",name:"Qwen3 30B A3B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-30",last_updated:"2025-07-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:16384}},"Qwen/Qwen3-235B-A22B-Instruct-2507":{id:"Qwen/Qwen3-235B-A22B-Instruct-2507",name:"Qwen3 235B A22B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:131072}},"Qwen/Qwen3-Coder-30B-A3B-Instruct":{id:"Qwen/Qwen3-Coder-30B-A3B-Instruct",name:"Qwen3 Coder 30B A3B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-31",last_updated:"2025-07-31",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:65536}},"ZhipuAI/GLM-4.5":{id:"ZhipuAI/GLM-4.5",name:"GLM-4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:98304}},"moonshotai/Kimi-K2-Instruct":{id:"moonshotai/Kimi-K2-Instruct",name:"Kimi-K2-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:16384}}}},VOt={id:"moonshotai",name:"Moonshot AI",api:"https://api.moonshot.ai/v1",npm:"@ai-sdk/openai-compatible",doc:"https://platform.moonshot.ai/docs/api/chat",env:["MOONSHOT_API_KEY"],models:{"kimi-k2-turbo-preview":{id:"kimi-k2-turbo-preview",name:"Kimi K2 Turbo",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2.4,output:10,cache_read:.6},limit:{context:262144,output:262144}},"kimi-k2-0711-preview":{id:"kimi-k2-0711-preview",name:"Kimi K2 0711",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5,cache_read:.15},limit:{context:131072,output:16384}},"kimi-k2-0905-preview":{id:"kimi-k2-0905-preview",name:"Kimi K2 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5,cache_read:.15},limit:{context:262144,output:262144}}}},FOt={id:"moonshotai-cn",name:"Moonshot AI (China)",api:"https://api.moonshot.cn/v1",npm:"@ai-sdk/openai-compatible",doc:"https://platform.moonshot.cn/docs/api/chat",env:["MOONSHOT_API_KEY"],models:{"kimi-k2-0905-preview":{id:"kimi-k2-0905-preview",name:"Kimi K2 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5,cache_read:.15},limit:{context:262144,output:262144}},"kimi-k2-0711-preview":{id:"kimi-k2-0711-preview",name:"Kimi K2 0711",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5,cache_read:.15},limit:{context:131072,output:16384}},"kimi-k2-turbo-preview":{id:"kimi-k2-turbo-preview",name:"Kimi K2 Turbo",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2.4,output:10,cache_read:.6},limit:{context:262144,output:262144}}}},GOt={id:"morph",name:"Morph",api:"https://api.morphllm.com/v1",npm:"@ai-sdk/openai-compatible",doc:"https://docs.morphllm.com/api-reference/introduction",env:["MORPH_API_KEY"],models:{auto:{id:"auto",name:"Auto",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-06-01",last_updated:"2024-06-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.85,output:1.55},limit:{context:32e3,output:32e3}},"morph-v3-fast":{id:"morph-v3-fast",name:"Morph v3 Fast",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.8,output:1.2},limit:{context:16e3,output:16e3}},"morph-v3-large":{id:"morph-v3-large",name:"Morph v3 Large",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.9,output:1.9},limit:{context:32e3,output:32e3}}}},WOt={id:"nvidia",name:"Nvidia",api:"https://integrate.api.nvidia.com/v1",npm:"@ai-sdk/openai-compatible",doc:"https://docs.api.nvidia.com/nim/",env:["NVIDIA_API_KEY"],models:{"mistral-small-3.1-24b-instruct-2503":{id:"mistral-small-3.1-24b-instruct-2503",name:"Mistral-Small-3.1-24B-Instruct-2503",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2025-04-01",last_updated:"2025-09-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"llama-3.3-nemotron-super-49b-v1.5":{id:"llama-3.3-nemotron-super-49b-v1.5",name:"Llama-3.3-Nemotron-Super-49B-v1.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-07-25",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"qwen3-235b-a22b":{id:"qwen3-235b-a22b",name:"Qwen3-235B-A22B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2024-12-01",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"deepseek-v3.1":{id:"deepseek-v3.1",name:"DeepSeek V3.1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-08-20",last_updated:"2025-08-26",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"flux_1-dev":{id:"flux_1-dev",name:"FLUX.1-dev",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-08",release_date:"2024-08-01",last_updated:"2025-09-05",modalities:{input:["text"],output:["image"]},open_weights:!1,cost:{input:0,output:0},limit:{context:4096,output:0}},"cosmos-nemotron-34b":{id:"cosmos-nemotron-34b",name:"Cosmos Nemotron 34B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-01",release_date:"2024-01-01",last_updated:"2025-09-05",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"whisper-large-v3":{id:"whisper-large-v3",name:"Whisper Large v3",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,knowledge:"2023-09",release_date:"2023-09-01",last_updated:"2025-09-05",modalities:{input:["audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:0,output:4096}},"qwen3-coder-480b-a35b-instruct":{id:"qwen3-coder-480b-a35b-instruct",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:262144,output:66536}},"phi-4-multimodal-instruct":{id:"phi-4-multimodal-instruct",name:"Phi-4-Multimodal-Instruct",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2024-12-01",last_updated:"2025-09-05",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"parakeet-tdt-0.6b-v2":{id:"parakeet-tdt-0.6b-v2",name:"Parakeet TDT 0.6B v2",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,knowledge:"2024-01",release_date:"2024-01-01",last_updated:"2025-09-05",modalities:{input:["audio"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:0,output:4096}},"llama-3.1-nemotron-ultra-253b-v1":{id:"llama-3.1-nemotron-ultra-253b-v1",name:"Llama-3.1-Nemotron-Ultra-253B-v1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2024-07-01",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"deepseek-r1":{id:"deepseek-r1",name:"DeepSeek R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-11",release_date:"2024-11-01",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}},"nemoretriever-ocr-v1":{id:"nemoretriever-ocr-v1",name:"NeMo Retriever OCR v1",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,knowledge:"2024-01",release_date:"2024-01-01",last_updated:"2025-09-05",modalities:{input:["image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:0,output:4096}},"gemma-3-27b-it":{id:"gemma-3-27b-it",name:"Gemma-3-27B-IT",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2024-12-01",last_updated:"2025-09-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:131072,output:8192}}}},UOt={id:"openai",name:"OpenAI",npm:"@ai-sdk/openai",doc:"https://platform.openai.com/docs/models",env:["OPENAI_API_KEY"],models:{"gpt-5-nano":{id:"gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4,cache_read:.01},limit:{context:4e5,output:128e3}},"o3-pro":{id:"o3-pro",name:"o3-pro",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-06-10",last_updated:"2025-06-10",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:20,output:80},limit:{context:2e5,output:1e5}},"codex-mini-latest":{id:"codex-mini-latest",name:"Codex Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-04",release_date:"2025-05-16",last_updated:"2025-05-16",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.5,output:6,cache_read:.375},limit:{context:2e5,output:1e5}},"gpt-4.1":{id:"gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"gpt-4-turbo":{id:"gpt-4-turbo",name:"GPT-4 Turbo",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2023-11-06",last_updated:"2024-04-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:10,output:30},limit:{context:128e3,output:4096}},o1:{id:"o1",name:"o1",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2024-12-05",last_updated:"2024-12-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:60,cache_read:7.5},limit:{context:2e5,output:1e5}},"o3-deep-research":{id:"o3-deep-research",name:"o3-deep-research",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2024-06-26",last_updated:"2024-06-26",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:10,output:40,cache_read:2.5},limit:{context:2e5,output:1e5}},"gpt-5":{id:"gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.13},limit:{context:4e5,output:128e3}},"o1-pro":{id:"o1-pro",name:"o1-pro",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2025-03-19",last_updated:"2025-03-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:150,output:600},limit:{context:2e5,output:1e5}},o3:{id:"o3",name:"o3",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:2e5,output:1e5}},"gpt-5-chat-latest":{id:"gpt-5-chat-latest",name:"GPT-5 Chat (latest)",attachment:!0,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10},limit:{context:4e5,output:128e3}},"gpt-5-mini":{id:"gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2,cache_read:.03},limit:{context:4e5,output:128e3}},"o1-preview":{id:"o1-preview",name:"o1-preview",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2023-09",release_date:"2024-09-12",last_updated:"2024-09-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:15,output:60,cache_read:7.5},limit:{context:128e3,output:32768}},"o4-mini-deep-research":{id:"o4-mini-deep-research",name:"o4-mini-deep-research",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2024-06-26",last_updated:"2024-06-26",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:2e5,output:1e5}},"gpt-4o-mini":{id:"gpt-4o-mini",name:"GPT-4o mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.08},limit:{context:128e3,output:16384}},"gpt-4.1-nano":{id:"gpt-4.1-nano",name:"GPT-4.1 nano",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.03},limit:{context:1047576,output:32768}},"gpt-4.1-mini":{id:"gpt-4.1-mini",name:"GPT-4.1 mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:1.6,cache_read:.1},limit:{context:1047576,output:32768}},"o1-mini":{id:"o1-mini",name:"o1-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!1,knowledge:"2023-09",release_date:"2024-09-12",last_updated:"2024-09-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.55},limit:{context:128e3,output:65536}},"gpt-4o":{id:"gpt-4o",name:"GPT-4o",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-05-13",last_updated:"2024-05-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2.5,output:10,cache_read:1.25},limit:{context:128e3,output:16384}},"gpt-4":{id:"gpt-4",name:"GPT-4",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-11",release_date:"2023-11-06",last_updated:"2024-04-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:30,output:60},limit:{context:8192,output:8192}},"gpt-3.5-turbo":{id:"gpt-3.5-turbo",name:"GPT-3.5-turbo",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-09-01",release_date:"2023-03-01",last_updated:"2023-11-06",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.5,output:1.5,cache_read:1.25},limit:{context:16385,output:4096}},"o4-mini":{id:"o4-mini",name:"o4-mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.28},limit:{context:2e5,output:1e5}},"o3-mini":{id:"o3-mini",name:"o3-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2024-12-20",last_updated:"2025-01-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.55},limit:{context:2e5,output:1e5}}}},qOt={id:"opencode",name:"opencode",api:"https://opencode.ai/zen/v1",npm:"@ai-sdk/openai-compatible",doc:"https://opencode.ai/docs",env:["OPENCODE_API_KEY"],models:{"claude-3-5-haiku":{id:"claude-3-5-haiku",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07-31",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"claude-sonnet-4":{id:"claude-sonnet-4",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,reasoning:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"grok-code":{id:"grok-code",name:"Grok Code Fast 1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-20",last_updated:"2025-08-20",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:256e3,output:32e3}},"claude-opus-4-1":{id:"claude-opus-4-1",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,reasoning:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"gpt-5":{id:"gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,reasoning:10,cache_read:.125},limit:{context:4e5,output:128e3}},"kimi-k2":{id:"kimi-k2",name:"Kimi K2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5},limit:{context:262144,output:262144}},"qwen3-coder":{id:"qwen3-coder",name:"Qwen3 Coder",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.45,output:1.8},limit:{context:262144,output:65536}}}},ZOt={id:"openrouter",name:"OpenRouter",api:"https://openrouter.ai/api/v1",npm:"@ai-sdk/openai-compatible",doc:"https://openrouter.ai/models",env:["OPENROUTER_API_KEY"],models:{"deepseek/deepseek-r1-0528:free":{id:"deepseek/deepseek-r1-0528:free",name:"R1 0528 (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-28",last_updated:"2025-05-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:163840,output:163840}},"deepseek/deepseek-chat-v3.1":{id:"deepseek/deepseek-chat-v3.1",name:"DeepSeek-V3.1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-08-21",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.8},limit:{context:163840,output:163840}},"deepseek/deepseek-r1-distill-llama-70b":{id:"deepseek/deepseek-r1-distill-llama-70b",name:"DeepSeek R1 Distill Llama 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-01-23",last_updated:"2025-01-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"deepseek/deepseek-v3-base:free":{id:"deepseek/deepseek-v3-base:free",name:"DeepSeek V3 Base (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2025-03",release_date:"2025-03-29",last_updated:"2025-03-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:163840,output:163840}},"deepseek/deepseek-r1-0528-qwen3-8b:free":{id:"deepseek/deepseek-r1-0528-qwen3-8b:free",name:"Deepseek R1 0528 Qwen3 8B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-29",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:131072}},"deepseek/deepseek-chat-v3-0324":{id:"deepseek/deepseek-chat-v3-0324",name:"DeepSeek V3 0324",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:16384,output:8192}},"deepseek/deepseek-r1:free":{id:"deepseek/deepseek-r1:free",name:"R1 (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:163840,output:163840}},"deepseek/deepseek-r1-distill-qwen-14b":{id:"deepseek/deepseek-r1-distill-qwen-14b",name:"DeepSeek R1 Distill Qwen 14B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-01-29",last_updated:"2025-01-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:64e3,output:8192}},"rekaai/reka-flash-3":{id:"rekaai/reka-flash-3",name:"Reka Flash 3",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-12",last_updated:"2025-03-12",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"featherless/qwerky-72b":{id:"featherless/qwerky-72b",name:"Qwerky 72B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-03-20",last_updated:"2025-03-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"openrouter/horizon-beta":{id:"openrouter/horizon-beta",name:"Horizon Beta",attachment:!0,reasoning:!1,temperature:!1,tool_call:!0,knowledge:"2025-07",release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:256e3,output:128e3}},"openrouter/cypher-alpha:free":{id:"openrouter/cypher-alpha:free",name:"Cypher Alpha (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-01",last_updated:"2025-07-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:1e6,output:1e6}},"openrouter/sonoma-dusk-alpha":{id:"openrouter/sonoma-dusk-alpha",name:"Sonoma Dusk Alpha",attachment:!0,reasoning:!1,temperature:!1,tool_call:!0,release_date:"2024-09-05",last_updated:"2024-09-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e6,output:2e6}},"openrouter/sonoma-sky-alpha":{id:"openrouter/sonoma-sky-alpha",name:"Sonoma Sky Alpha",attachment:!0,reasoning:!1,temperature:!1,tool_call:!0,release_date:"2024-09-05",last_updated:"2024-09-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:2e6,output:2e6}},"openrouter/horizon-alpha":{id:"openrouter/horizon-alpha",name:"Horizon Alpha",attachment:!0,reasoning:!1,temperature:!1,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-30",last_updated:"2025-07-30",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:256e3,output:128e3}},"anthropic/claude-sonnet-4":{id:"anthropic/claude-sonnet-4",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic/claude-opus-4":{id:"anthropic/claude-opus-4",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-3.5-haiku":{id:"anthropic/claude-3.5-haiku",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07-31",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"anthropic/claude-opus-4.1":{id:"anthropic/claude-opus-4.1",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-3.7-sonnet":{id:"anthropic/claude-3.7-sonnet",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-01",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:128e3}},"openai/gpt-5-nano":{id:"openai/gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4},limit:{context:4e5,output:128e3}},"openai/gpt-4.1":{id:"openai/gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"openai/gpt-oss-20b":{id:"openai/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.05,output:.2},limit:{context:131072,output:32768}},"openai/gpt-5":{id:"openai/gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10},limit:{context:4e5,output:128e3}},"openai/gpt-5-chat":{id:"openai/gpt-5-chat",name:"GPT-5 Chat (latest)",attachment:!0,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10},limit:{context:4e5,output:128e3}},"openai/gpt-5-mini":{id:"openai/gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-01",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2},limit:{context:4e5,output:128e3}},"openai/gpt-4o-mini":{id:"openai/gpt-4o-mini",name:"GPT-4o-mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.08},limit:{context:128e3,output:16384}},"openai/gpt-4.1-mini":{id:"openai/gpt-4.1-mini",name:"GPT-4.1 Mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:1.6,cache_read:.1},limit:{context:1047576,output:32768}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.072,output:.28},limit:{context:131072,output:32768}},"openai/o4-mini":{id:"openai/o4-mini",name:"o4 Mini",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.28},limit:{context:2e5,output:1e5}},"thudm/glm-z1-32b:free":{id:"thudm/glm-z1-32b:free",name:"GLM Z1 32B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-17",last_updated:"2025-04-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"sarvamai/sarvam-m:free":{id:"sarvamai/sarvam-m:free",name:"Sarvam-M (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-25",last_updated:"2025-05-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"x-ai/grok-code-fast-1":{id:"x-ai/grok-code-fast-1",name:"Grok Code Fast 1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-08",release_date:"2025-08-26",last_updated:"2025-08-26",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:1.5,cache_read:.02},limit:{context:256e3,output:1e4}},"x-ai/grok-3-mini-beta":{id:"x-ai/grok-3-mini-beta",name:"Grok 3 Mini Beta",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.3,output:.5,cache_read:.075,cache_write:.5},limit:{context:131072,output:8192}},"x-ai/grok-3":{id:"x-ai/grok-3",name:"Grok 3",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75,cache_write:15},limit:{context:131072,output:8192}},"x-ai/grok-3-mini":{id:"x-ai/grok-3-mini",name:"Grok 3 Mini",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.3,output:.5,cache_read:.075,cache_write:.5},limit:{context:131072,output:8192}},"x-ai/grok-4":{id:"x-ai/grok-4",name:"Grok 4",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-09",last_updated:"2025-07-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75,cache_write:15},limit:{context:256e3,output:64e3}},"x-ai/grok-3-beta":{id:"x-ai/grok-3-beta",name:"Grok 3 Beta",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75,cache_write:15},limit:{context:131072,output:8192}},"mistralai/codestral-2508":{id:"mistralai/codestral-2508",name:"Codestral 2508",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:.9},limit:{context:256e3,output:256e3}},"mistralai/mistral-medium-3":{id:"mistralai/mistral-medium-3",name:"Mistral Medium 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-07",last_updated:"2025-05-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:2},limit:{context:131072,output:131072}},"mistralai/devstral-small-2505":{id:"mistralai/devstral-small-2505",name:"Devstral Small",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-07",last_updated:"2025-05-07",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.06,output:.12},limit:{context:128e3,output:128e3}},"mistralai/mistral-small-3.2-24b-instruct:free":{id:"mistralai/mistral-small-3.2-24b-instruct:free",name:"Mistral Small 3.2 24B (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-06-20",last_updated:"2025-06-20",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:96e3,output:96e3}},"mistralai/devstral-medium-2507":{id:"mistralai/devstral-medium-2507",name:"Devstral Medium",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-07-10",last_updated:"2025-07-10",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.4,output:2},limit:{context:131072,output:131072}},"mistralai/mistral-small-3.2-24b-instruct":{id:"mistralai/mistral-small-3.2-24b-instruct",name:"Mistral Small 3.2 24B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-06-20",last_updated:"2025-06-20",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:96e3,output:8192}},"mistralai/devstral-small-2507":{id:"mistralai/devstral-small-2507",name:"Devstral Small 1.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-07-10",last_updated:"2025-07-10",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.3},limit:{context:131072,output:131072}},"mistralai/mistral-nemo:free":{id:"mistralai/mistral-nemo:free",name:"Mistral Nemo (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2024-07-19",last_updated:"2024-07-19",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:131072}},"mistralai/mistral-small-3.1-24b-instruct":{id:"mistralai/mistral-small-3.1-24b-instruct",name:"Mistral Small 3.1 24B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-17",last_updated:"2025-03-17",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:8192}},"mistralai/mistral-7b-instruct:free":{id:"mistralai/mistral-7b-instruct:free",name:"Mistral 7B Instruct (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-05",release_date:"2024-05-27",last_updated:"2024-05-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"mistralai/mistral-medium-3.1":{id:"mistralai/mistral-medium-3.1",name:"Mistral Medium 3.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-08-12",last_updated:"2025-08-12",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:2},limit:{context:262144,output:262144}},"mistralai/devstral-small-2505:free":{id:"mistralai/devstral-small-2505:free",name:"Devstral Small 2505 (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-21",last_updated:"2025-05-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"meta-llama/llama-4-scout:free":{id:"meta-llama/llama-4-scout:free",name:"Llama 4 Scout (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:64e3,output:64e3}},"meta-llama/llama-3.2-11b-vision-instruct":{id:"meta-llama/llama-3.2-11b-vision-instruct",name:"Llama 3.2 11B Vision Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-12",release_date:"2024-09-25",last_updated:"2024-09-25",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:8192}},"meta-llama/llama-3.3-70b-instruct:free":{id:"meta-llama/llama-3.3-70b-instruct:free",name:"Llama 3.3 70B Instruct (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:65536,output:65536}},"google/gemini-2.5-pro":{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"google/gemma-3-12b-it":{id:"google/gemma-3-12b-it",name:"Gemma 3 12B IT",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-13",last_updated:"2025-03-13",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:96e3,output:8192}},"google/gemini-2.0-flash-001":{id:"google/gemini-2.0-flash-001",name:"Gemini 2.0 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:1048576,output:8192}},"google/gemini-2.0-flash-exp:free":{id:"google/gemini-2.0-flash-exp:free",name:"Gemini 2.0 Flash Experimental (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:0,output:0},limit:{context:1048576,output:1048576}},"google/gemma-3n-e4b-it:free":{id:"google/gemma-3n-e4b-it:free",name:"Gemma 3n 4B (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-20",last_updated:"2025-05-20",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"google/gemma-2-9b-it:free":{id:"google/gemma-2-9b-it:free",name:"Gemma 2 9B (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-06-28",last_updated:"2024-06-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"google/gemini-2.5-flash":{id:"google/gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-07-17",last_updated:"2025-07-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.0375},limit:{context:1048576,output:65536}},"google/gemini-2.5-pro-preview-06-05":{id:"google/gemini-2.5-pro-preview-06-05",name:"Gemini 2.5 Pro Preview 06-05",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-05",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"google/gemini-2.5-pro-preview-05-06":{id:"google/gemini-2.5-pro-preview-05-06",name:"Gemini 2.5 Pro Preview 05-06",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-05-06",last_updated:"2025-05-06",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"google/gemma-3n-e4b-it":{id:"google/gemma-3n-e4b-it",name:"Gemma 3n E4B IT",attachment:!0,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-05-20",last_updated:"2025-05-20",modalities:{input:["text","image","audio"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"google/gemma-3-27b-it":{id:"google/gemma-3-27b-it",name:"Gemma 3 27B IT",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-12",last_updated:"2025-03-12",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:96e3,output:8192}},"microsoft/mai-ds-r1:free":{id:"microsoft/mai-ds-r1:free",name:"MAI DS R1 (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-21",last_updated:"2025-04-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:163840,output:163840}},"z-ai/glm-4.5-air:free":{id:"z-ai/glm-4.5-air:free",name:"GLM 4.5 Air (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:96e3}},"z-ai/glm-4.5-air":{id:"z-ai/glm-4.5-air",name:"GLM 4.5 Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:1.1},limit:{context:128e3,output:96e3}},"z-ai/glm-4.5v":{id:"z-ai/glm-4.5v",name:"GLM 4.5V",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-08-11",last_updated:"2025-08-11",modalities:{input:["text","image","video"],output:["text"]},open_weights:!0,cost:{input:.6,output:1.8},limit:{context:64e3,output:16384}},"z-ai/glm-4.5":{id:"z-ai/glm-4.5",name:"GLM 4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.2},limit:{context:128e3,output:96e3}},"cognitivecomputations/dolphin3.0-mistral-24b":{id:"cognitivecomputations/dolphin3.0-mistral-24b",name:"Dolphin3.0 Mistral 24B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-02-13",last_updated:"2025-02-13",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"cognitivecomputations/dolphin3.0-r1-mistral-24b":{id:"cognitivecomputations/dolphin3.0-r1-mistral-24b",name:"Dolphin3.0 R1 Mistral 24B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-02-13",last_updated:"2025-02-13",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"qwen/qwen2.5-vl-72b-instruct":{id:"qwen/qwen2.5-vl-72b-instruct",name:"Qwen2.5 VL 72B Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2025-02-01",last_updated:"2025-02-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"qwen/qwen3-coder:free":{id:"qwen/qwen3-coder:free",name:"Qwen3 Coder 480B A35B Instruct (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:66536}},"qwen/qwen3-235b-a22b-thinking-2507":{id:"qwen/qwen3-235b-a22b-thinking-2507",name:"Qwen3 235B A22B Thinking 2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.078,output:.312},limit:{context:262144,output:81920}},"qwen/qwen3-30b-a3b:free":{id:"qwen/qwen3-30b-a3b:free",name:"Qwen3 30B A3B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:40960,output:40960}},"qwen/qwen3-32b:free":{id:"qwen/qwen3-32b:free",name:"Qwen3 32B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:40960,output:40960}},"qwen/qwen3-max":{id:"qwen/qwen3-max",name:"Qwen3 Max",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.2,output:6},limit:{context:262144,output:32768}},"qwen/qwen3-235b-a22b:free":{id:"qwen/qwen3-235b-a22b:free",name:"Qwen3 235B A22B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:131072}},"qwen/qwen3-30b-a3b-instruct-2507":{id:"qwen/qwen3-30b-a3b-instruct-2507",name:"Qwen3 30B A3B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2025-04",release_date:"2025-07-29",last_updated:"2025-07-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.8},limit:{context:131072,output:33e3}},"qwen/qwen-2.5-coder-32b-instruct":{id:"qwen/qwen-2.5-coder-32b-instruct",name:"Qwen2.5 Coder 32B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2024-11-11",last_updated:"2024-11-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:8192}},"qwen/qwen2.5-vl-72b-instruct:free":{id:"qwen/qwen2.5-vl-72b-instruct:free",name:"Qwen2.5 VL 72B Instruct (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-02",release_date:"2025-02-01",last_updated:"2025-02-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"qwen/qwen3-235b-a22b-07-25:free":{id:"qwen/qwen3-235b-a22b-07-25:free",name:"Qwen3 235B A22B Instruct 2507 (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:262144,output:131072}},"qwen/qwq-32b:free":{id:"qwen/qwq-32b:free",name:"QwQ 32B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03",release_date:"2025-03-05",last_updated:"2025-03-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32768,output:32768}},"qwen/qwen2.5-vl-32b-instruct:free":{id:"qwen/qwen2.5-vl-32b-instruct:free",name:"Qwen2.5 VL 32B Instruct (free)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-03",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text","image","video"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:8192,output:8192}},"qwen/qwen3-coder":{id:"qwen/qwen3-coder",name:"Qwen3 Coder",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:1.2},limit:{context:262144,output:66536}},"qwen/qwen3-8b:free":{id:"qwen/qwen3-8b:free",name:"Qwen3 8B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:40960,output:40960}},"qwen/qwen3-235b-a22b-07-25":{id:"qwen/qwen3-235b-a22b-07-25",name:"Qwen3 235B A22B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.85},limit:{context:262144,output:131072}},"qwen/qwen3-next-80b-a3b-instruct":{id:"qwen/qwen3-next-80b-a3b-instruct",name:"Qwen3 Next 80B A3B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-09-11",last_updated:"2025-09-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.14,output:1.4},limit:{context:262144,output:262144}},"qwen/qwen3-14b:free":{id:"qwen/qwen3-14b:free",name:"Qwen3 14B (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-04-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:40960,output:40960}},"tngtech/deepseek-r1t2-chimera:free":{id:"tngtech/deepseek-r1t2-chimera:free",name:"DeepSeek R1T2 Chimera (free)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-07",release_date:"2025-07-08",last_updated:"2025-07-08",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:163840,output:163840}},"nousresearch/hermes-4-405b":{id:"nousresearch/hermes-4-405b",name:"Hermes 4 405B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-08-25",last_updated:"2025-08-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:131072,output:131072}},"nousresearch/hermes-4-70b":{id:"nousresearch/hermes-4-70b",name:"Hermes 4 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-08-25",last_updated:"2025-08-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.13,output:.4},limit:{context:131072,output:131072}},"nousresearch/deephermes-3-llama-3-8b-preview":{id:"nousresearch/deephermes-3-llama-3-8b-preview",name:"DeepHermes 3 Llama 3 8B Preview",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-02-28",last_updated:"2025-02-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:8192}},"moonshotai/kimi-k2-0905":{id:"moonshotai/kimi-k2-0905",name:"Kimi K2 Instruct 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5},limit:{context:262144,output:16384}},"moonshotai/kimi-k2:free":{id:"moonshotai/kimi-k2:free",name:"Kimi K2 (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:32800,output:32800}},"moonshotai/kimi-k2":{id:"moonshotai/kimi-k2",name:"Kimi K2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.55,output:2.2},limit:{context:131072,output:32768}},"moonshotai/kimi-dev-72b:free":{id:"moonshotai/kimi-dev-72b:free",name:"Kimi Dev 72b (free)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-06-16",last_updated:"2025-06-16",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:131072,output:131072}}}},HOt={id:"perplexity",name:"Perplexity",npm:"@perplexity-ai/sdk",doc:"https://docs.perplexity.ai",env:["PERPLEXITY_API_KEY"],models:{"sonar-pro":{id:"sonar-pro",name:"Sonar Pro",attachment:!0,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2025-09-01",release_date:"2024-01-01",last_updated:"2025-09-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:2e5,output:8192}},sonar:{id:"sonar",name:"Sonar",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2025-09-01",release_date:"2024-01-01",last_updated:"2025-09-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1,output:1},limit:{context:128e3,output:4096}},"sonar-reasoning":{id:"sonar-reasoning",name:"Sonar Reasoning",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-09-01",release_date:"2024-01-01",last_updated:"2025-09-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1,output:5},limit:{context:128e3,output:4096}},"sonar-reasoning-pro":{id:"sonar-reasoning-pro",name:"Sonar Reasoning Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2025-09-01",release_date:"2024-01-01",last_updated:"2025-09-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8},limit:{context:128e3,output:4096}}}},XOt={id:"requesty",name:"Requesty",npm:"@requesty/ai-sdk",doc:"https://requesty.ai/solution/llm-routing/models",env:["REQUESTY_API_KEY"],models:{"anthropic/claude-opus-4":{id:"anthropic/claude-opus-4",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-opus-4-1-20250805":{id:"anthropic/claude-opus-4-1-20250805",name:"Claude Opus 4.1",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-3-7-sonnet":{id:"anthropic/claude-3-7-sonnet",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-01",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic/claude-4-sonnet-20250522":{id:"anthropic/claude-4-sonnet-20250522",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"openai/gpt-5-nano":{id:"openai/gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4,cache_read:.01},limit:{context:16e3,output:4e3}},"openai/gpt-4.1":{id:"openai/gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"openai/gpt-5":{id:"openai/gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","audio","image","video"],output:["text","audio","image"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.13},limit:{context:4e5,output:128e3}},"openai/gpt-5-mini":{id:"openai/gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2,cache_read:.03},limit:{context:128e3,output:32e3}},"openai/gpt-4o-mini":{id:"openai/gpt-4o-mini",name:"GPT-4o Mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.08},limit:{context:128e3,output:16384}},"openai/gpt-4.1-mini":{id:"openai/gpt-4.1-mini",name:"GPT-4.1 Mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:1.6,cache_read:.1},limit:{context:1047576,output:32768}},"openai/o4-mini":{id:"openai/o4-mini",name:"o4 Mini",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.28},limit:{context:2e5,output:1e5}},"google/gemini-2.5-pro":{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31,cache_write:2.375},limit:{context:1048576,output:65536}},"google/gemini-2.5-flash":{id:"google/gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-06-17",last_updated:"2025-06-17",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.075,cache_write:.55},limit:{context:1048576,output:65536}}}},YOt={id:"submodel",name:"submodel",api:"https://llm.submodel.ai/v1",npm:"@ai-sdk/openai-compatible",doc:"https://submodel.gitbook.io",env:["SUBMODEL_INSTAGEN_ACCESS_KEY"],models:{"deepseek-ai/DeepSeek-V3.1":{id:"deepseek-ai/DeepSeek-V3.1",name:"DeepSeek V3.1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:75e3,output:163840}},"deepseek-ai/DeepSeek-V3-0324":{id:"deepseek-ai/DeepSeek-V3-0324",name:"DeepSeek V3 0324",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:75e3,output:163840}},"deepseek-ai/DeepSeek-R1-0528":{id:"deepseek-ai/DeepSeek-R1-0528",name:"DeepSeek R1 0528",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.5,output:2.15},limit:{context:75e3,output:163840}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.5},limit:{context:131072,output:32768}},"Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3 235B A22B Thinking 2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.6},limit:{context:262144,output:131072}},"Qwen/Qwen3-235B-A22B-Instruct-2507":{id:"Qwen/Qwen3-235B-A22B-Instruct-2507",name:"Qwen3 235B A22B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.3},limit:{context:262144,output:131072}},"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-23",last_updated:"2025-08-23",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.2,output:.8},limit:{context:262144,output:262144}},"zai-org/GLM-4.5-FP8":{id:"zai-org/GLM-4.5-FP8",name:"GLM 4.5 FP8",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.8},limit:{context:131072,output:131072}},"zai-org/GLM-4.5-Air":{id:"zai-org/GLM-4.5-Air",name:"GLM 4.5 Air",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.5},limit:{context:131072,output:131072}}}},KOt={id:"synthetic",name:"Synthetic",api:"https://api.synthetic.new/v1",npm:"@ai-sdk/openai-compatible",doc:"https://synthetic.new/pricing",env:["SYNTHETIC_API_KEY"],models:{"hf:meta-llama/Llama-3.1-405B-Instruct":{id:"hf:meta-llama/Llama-3.1-405B-Instruct",name:"Llama-3.1-405B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3,output:3},limit:{context:128e3,output:32768}},"hf:meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8":{id:"hf:meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8",name:"Llama-4-Maverick-17B-128E-Instruct-FP8",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.22,output:.88},limit:{context:524e3,output:4096}},"hf:meta-llama/Llama-3.1-70B-Instruct":{id:"hf:meta-llama/Llama-3.1-70B-Instruct",name:"Llama-3.1-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.9,output:.9},limit:{context:128e3,output:32768}},"hf:meta-llama/Llama-4-Scout-17B-16E-Instruct":{id:"hf:meta-llama/Llama-4-Scout-17B-16E-Instruct",name:"Llama-4-Scout-17B-16E-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:328e3,output:4096}},"hf:meta-llama/Llama-3.3-70B-Instruct":{id:"hf:meta-llama/Llama-3.3-70B-Instruct",name:"Llama-3.3-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.9,output:.9},limit:{context:128e3,output:32768}},"hf:meta-llama/Llama-3.1-8B-Instruct":{id:"hf:meta-llama/Llama-3.1-8B-Instruct",name:"Llama-3.1-8B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.2},limit:{context:128e3,output:32768}},"hf:deepseek-ai/DeepSeek-V3.1":{id:"hf:deepseek-ai/DeepSeek-V3.1",name:"DeepSeek V3.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-21",last_updated:"2025-08-21",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.56,output:1.68},limit:{context:128e3,output:128e3}},"hf:deepseek-ai/DeepSeek-V3":{id:"hf:deepseek-ai/DeepSeek-V3",name:"DeepSeek V3",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.25,output:1.25},limit:{context:128e3,output:128e3}},"hf:deepseek-ai/DeepSeek-V3-0324":{id:"hf:deepseek-ai/DeepSeek-V3-0324",name:"DeepSeek V3 (0324)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.2,output:1.2},limit:{context:128e3,output:128e3}},"hf:deepseek-ai/DeepSeek-R1":{id:"hf:deepseek-ai/DeepSeek-R1",name:"DeepSeek R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.55,output:2.19},limit:{context:128e3,output:128e3}},"hf:deepseek-ai/DeepSeek-R1-0528":{id:"hf:deepseek-ai/DeepSeek-R1-0528",name:"DeepSeek R1 (0528)",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-01",last_updated:"2025-08-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:8},limit:{context:128e3,output:128e3}},"hf:zai-org/GLM-4.5":{id:"hf:zai-org/GLM-4.5",name:"GLM 4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.55,output:2.19},limit:{context:128e3,output:96e3}},"hf:moonshotai/Kimi-K2-Instruct":{id:"hf:moonshotai/Kimi-K2-Instruct",name:"Kimi K2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-11",last_updated:"2025-07-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.5},limit:{context:128e3,output:32768}},"hf:moonshotai/Kimi-K2-Instruct-0905":{id:"hf:moonshotai/Kimi-K2-Instruct-0905",name:"Kimi K2 0905",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-09-05",last_updated:"2025-09-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.2,output:1.2},limit:{context:262144,output:32768}},"hf:Qwen/Qwen2.5-Coder-32B-Instruct":{id:"hf:Qwen/Qwen2.5-Coder-32B-Instruct",name:"Qwen2.5-Coder-32B-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2024-10",release_date:"2024-11-11",last_updated:"2024-11-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.8,output:.8},limit:{context:32768,output:32768}},"hf:Qwen/Qwen3-Coder-480B-A35B-Instruct":{id:"hf:Qwen/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen 3 Coder 480B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:2},limit:{context:256e3,output:32e3}},"hf:Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"hf:Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3 235B A22B Thinking 2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.65,output:3},limit:{context:256e3,output:32e3}},"hf:Qwen/Qwen3-235B-A22B-Instruct-2507":{id:"hf:Qwen/Qwen3-235B-A22B-Instruct-2507",name:"Qwen 3 235B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:.6},limit:{context:256e3,output:32e3}},"hf:openai/gpt-oss-120b":{id:"hf:openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:128e3,output:32768}}}},JOt={id:"togetherai",name:"Together AI",npm:"@ai-sdk/togetherai",doc:"https://docs.together.ai/docs/serverless-models",env:["TOGETHER_API_KEY"],models:{"deepseek-ai/DeepSeek-V3":{id:"deepseek-ai/DeepSeek-V3",name:"DeepSeek V3",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.25,output:1.25},limit:{context:131072,output:12288}},"deepseek-ai/DeepSeek-R1":{id:"deepseek-ai/DeepSeek-R1",name:"DeepSeek R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2024-07",release_date:"2024-12-26",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3,output:7},limit:{context:163839,output:12288}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:131072,output:131072}},"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct-FP8",name:"Qwen3 Coder 480B A35B Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:2},limit:{context:262144,output:66536}},"meta-llama/Llama-3.3-70B-Instruct-Turbo":{id:"meta-llama/Llama-3.3-70B-Instruct-Turbo",name:"Llama 3.3 70B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.88,output:.88},limit:{context:131072,output:66536}},"moonshotai/Kimi-K2-Instruct":{id:"moonshotai/Kimi-K2-Instruct",name:"Kimi K2 Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:131072,output:32768}}}},ebt={id:"upstage",name:"Upstage",api:"https://api.upstage.ai",npm:"@ai-sdk/openai-compatible",doc:"https://developers.upstage.ai/docs/apis/chat",env:["UPSTAGE_API_KEY"],models:{"solar-pro2":{id:"solar-pro2",name:"solar-pro2",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03",release_date:"2025-05-20",last_updated:"2025-05-20",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.25,output:.25},limit:{context:65536,output:8192}},"solar-mini":{id:"solar-mini",name:"solar-mini",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2024-06-12",last_updated:"2025-04-22",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.15,output:.15},limit:{context:32768,output:4096}}}},tbt={id:"v0",name:"v0",npm:"@ai-sdk/vercel",doc:"https://sdk.vercel.ai/providers/ai-sdk-providers/vercel",env:["V0_API_KEY"],models:{"v0-1.5-md":{id:"v0-1.5-md",name:"v0-1.5-md",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-06-09",last_updated:"2025-06-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:128e3,output:32e3}},"v0-1.0-md":{id:"v0-1.0-md",name:"v0-1.0-md",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:128e3,output:32e3}},"v0-1.5-lg":{id:"v0-1.5-lg",name:"v0-1.5-lg",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-06-09",last_updated:"2025-06-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75},limit:{context:512e3,output:32e3}}}},nbt={id:"venice",name:"Venice AI",api:"https://api.venice.ai/api/v1",npm:"@ai-sdk/openai-compatible",doc:"https://docs.venice.ai",env:["VENICE_API_KEY"],models:{"qwen-2.5-coder-32b":{id:"qwen-2.5-coder-32b",name:"Qwen 2.5 Coder 32B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-10",release_date:"2025-06-14",last_updated:"2025-06-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:32768,output:8192}},"venice-uncensored":{id:"venice-uncensored",name:"Venice Uncensored 1.1",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-10",release_date:"2025-07-15",last_updated:"2025-07-15",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:32768,output:8192}},"deepseek-coder-v2-lite":{id:"deepseek-coder-v2-lite",name:"DeepSeek Coder V2 Lite",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-09",release_date:"2025-06-22",last_updated:"2025-06-22",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:131072,output:8192}},"dolphin-2.9.2-qwen2-72b":{id:"dolphin-2.9.2-qwen2-72b",name:"Dolphin 72B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2021-09",release_date:"2025-05-21",last_updated:"2025-05-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.7,output:2.8},limit:{context:32768,output:8192}},"qwen3-4b":{id:"qwen3-4b",name:"Venice Small",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-07-27",last_updated:"2025-07-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:32768,output:8192}},"qwen-2.5-vl":{id:"qwen-2.5-vl",name:"Qwen 2.5 VL 72B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-10",release_date:"2025-06-09",last_updated:"2025-06-09",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.7,output:2.8},limit:{context:32768,output:8192}},"llama-3.3-70b":{id:"llama-3.3-70b",name:"Llama 3.3 70B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-06-09",last_updated:"2025-06-09",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.7,output:2.8},limit:{context:65536,output:8192}},"llama-3.1-405b":{id:"llama-3.1-405b",name:"Llama 3.1 405B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!1,knowledge:"2023-12",release_date:"2025-06-30",last_updated:"2025-06-30",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.5,output:6},limit:{context:65536,output:8192}},"llama-3.2-3b":{id:"llama-3.2-3b",name:"Llama 3.2 3B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2025-05-23",last_updated:"2025-05-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.15,output:.6},limit:{context:131072,output:8192}},"deepseek-r1-671b":{id:"deepseek-r1-671b",name:"DeepSeek R1 671B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2023-10",release_date:"2025-06-05",last_updated:"2025-06-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:3.5,output:14},limit:{context:131072,output:8192}},"qwen-2.5-qwq-32b":{id:"qwen-2.5-qwq-32b",name:"Venice Reasoning",attachment:!1,reasoning:!0,temperature:!0,tool_call:!1,knowledge:"2023-10",release_date:"2025-07-08",last_updated:"2025-07-08",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:32768,output:8192}},"qwen3-235b":{id:"qwen3-235b",name:"Venice Large",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-27",last_updated:"2025-07-27",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.5,output:6},limit:{context:131072,output:8192}},"mistral-31-24b":{id:"mistral-31-24b",name:"Venice Medium",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2025-07-15",last_updated:"2025-07-15",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.5,output:2},limit:{context:131072,output:8192}}}},rbt={id:"vercel",name:"Vercel AI Gateway",npm:"@ai-sdk/gateway",doc:"https://github.com/vercel/ai/tree/5eb85cc45a259553501f535b8ac79a77d0e79223/packages/gateway",env:["AI_GATEWAY_API_KEY"],models:{"deepseek/deepseek-r1":{id:"deepseek/deepseek-r1",name:"DeepSeek-R1",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-05-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.35,output:5.4},limit:{context:128e3,output:32768}},"deepseek/deepseek-r1-distill-llama-70b":{id:"deepseek/deepseek-r1-distill-llama-70b",name:"DeepSeek R1 Distill Llama 70B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-07",release_date:"2025-01-20",last_updated:"2025-01-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.75,output:.99},limit:{context:131072,output:8192}},"meta/llama-4-scout":{id:"meta/llama-4-scout",name:"Llama-4-Scout-17B-16E-Instruct-FP8",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"meta/llama-3.3-70b":{id:"meta/llama-3.3-70b",name:"Llama-3.3-70B-Instruct",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"meta/llama-4-maverick":{id:"meta/llama-4-maverick",name:"Llama-4-Maverick-17B-128E-Instruct-FP8",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2025-04-05",last_updated:"2025-04-05",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:128e3,output:4096}},"xai/grok-3-mini-fast":{id:"xai/grok-3-mini-fast",name:"Grok 3 Mini Fast",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.6,output:4,reasoning:4,cache_read:.15},limit:{context:131072,output:8192}},"xai/grok-4":{id:"xai/grok-4",name:"Grok 4",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-09",last_updated:"2025-07-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,reasoning:15,cache_read:.75},limit:{context:256e3,output:64e3}},"xai/grok-3-fast":{id:"xai/grok-3-fast",name:"Grok 3 Fast",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:5,output:25,cache_read:1.25},limit:{context:131072,output:8192}},"xai/grok-2-vision":{id:"xai/grok-2-vision",name:"Grok 2 Vision",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:8192,output:4096}},"xai/grok-2":{id:"xai/grok-2",name:"Grok 2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:131072,output:8192}},"xai/grok-3-mini":{id:"xai/grok-3-mini",name:"Grok 3 Mini",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.3,output:.5,reasoning:.5,cache_read:.075},limit:{context:131072,output:8192}},"xai/grok-3":{id:"xai/grok-3",name:"Grok 3",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75},limit:{context:131072,output:8192}},"cerebras/qwen3-coder":{id:"cerebras/qwen3-coder",name:"Qwen 3 Coder 480B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:2},limit:{context:131e3,output:32e3}},"anthropic/claude-4-opus":{id:"anthropic/claude-4-opus",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-3.5-sonnet":{id:"anthropic/claude-3.5-sonnet",name:"Claude Sonnet 3.5 v2",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04-30",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:8192}},"anthropic/claude-3.7-sonnet":{id:"anthropic/claude-3.7-sonnet",name:"Claude Sonnet 3.7",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-10-31",release_date:"2025-02-19",last_updated:"2025-02-19",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic/claude-4-sonnet":{id:"anthropic/claude-4-sonnet",name:"Claude Sonnet 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.3,cache_write:3.75},limit:{context:2e5,output:64e3}},"anthropic/claude-3-haiku":{id:"anthropic/claude-3-haiku",name:"Claude Haiku 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08-31",release_date:"2024-03-13",last_updated:"2024-03-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:1.25,cache_read:.03,cache_write:.3},limit:{context:2e5,output:4096}},"anthropic/claude-3-opus":{id:"anthropic/claude-3-opus",name:"Claude Opus 3",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-08-31",release_date:"2024-02-29",last_updated:"2024-02-29",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:4096}},"anthropic/claude-4-1-opus":{id:"anthropic/claude-4-1-opus",name:"Claude Opus 4",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-03-31",release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:75,cache_read:1.5,cache_write:18.75},limit:{context:2e5,output:32e3}},"anthropic/claude-3-5-haiku":{id:"anthropic/claude-3-5-haiku",name:"Claude Haiku 3.5",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-07-31",release_date:"2024-10-22",last_updated:"2024-10-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.8,output:4,cache_read:.08,cache_write:1},limit:{context:2e5,output:8192}},"openai/gpt-oss-20b":{id:"openai/gpt-oss-20b",name:"GPT OSS 20B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.07,output:.3},limit:{context:131072,output:32768}},"openai/gpt-oss-120b":{id:"openai/gpt-oss-120b",name:"GPT OSS 120B",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-08-05",last_updated:"2025-08-05",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.5},limit:{context:131072,output:32768}},"openai/o3-mini":{id:"openai/o3-mini",name:"o3-mini",attachment:!1,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2024-12-20",last_updated:"2025-01-29",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.55},limit:{context:2e5,output:1e5}},"openai/o4-mini":{id:"openai/o4-mini",name:"o4-mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.1,output:4.4,cache_read:.28},limit:{context:2e5,output:1e5}},"openai/gpt-4o":{id:"openai/gpt-4o",name:"GPT-4o",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-05-13",last_updated:"2024-05-13",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2.5,output:10,cache_read:1.25},limit:{context:128e3,output:16384}},"openai/gpt-4.1-mini":{id:"openai/gpt-4.1-mini",name:"GPT-4.1 mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.4,output:1.6,cache_read:.1},limit:{context:1047576,output:32768}},"openai/gpt-4.1-nano":{id:"openai/gpt-4.1-nano",name:"GPT-4.1 nano",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.03},limit:{context:1047576,output:32768}},"openai/gpt-4o-mini":{id:"openai/gpt-4o-mini",name:"GPT-4o mini",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-09",release_date:"2024-07-18",last_updated:"2024-07-18",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.15,output:.6,cache_read:.08},limit:{context:128e3,output:16384}},"openai/gpt-5-mini":{id:"openai/gpt-5-mini",name:"GPT-5 Mini",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.25,output:2,cache_read:.03},limit:{context:4e5,output:128e3}},"openai/o3":{id:"openai/o3",name:"o3",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05",release_date:"2025-04-16",last_updated:"2025-04-16",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:2e5,output:1e5}},"openai/gpt-5":{id:"openai/gpt-5",name:"GPT-5",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-09-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.13},limit:{context:4e5,output:128e3}},"openai/o1":{id:"openai/o1",name:"o1",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2023-09",release_date:"2024-12-05",last_updated:"2024-12-05",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:15,output:60,cache_read:7.5},limit:{context:2e5,output:1e5}},"openai/gpt-4-turbo":{id:"openai/gpt-4-turbo",name:"GPT-4 Turbo",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2023-11-06",last_updated:"2024-04-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:10,output:30},limit:{context:128e3,output:4096}},"openai/gpt-4.1":{id:"openai/gpt-4.1",name:"GPT-4.1",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2025-04-14",last_updated:"2025-04-14",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:8,cache_read:.5},limit:{context:1047576,output:32768}},"openai/gpt-5-nano":{id:"openai/gpt-5-nano",name:"GPT-5 Nano",attachment:!0,reasoning:!0,temperature:!1,tool_call:!0,knowledge:"2024-05-30",release_date:"2025-08-07",last_updated:"2025-08-07",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:.05,output:.4,cache_read:.01},limit:{context:4e5,output:128e3}},"mistral/mixtral-8x22b-instruct":{id:"mistral/mixtral-8x22b-instruct",name:"Mixtral 8x22B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-04",release_date:"2024-04-17",last_updated:"2024-04-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:64e3,output:64e3}},"mistral/mistral-small":{id:"mistral/mistral-small",name:"Mistral Small",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-03",release_date:"2024-09-01",last_updated:"2024-09-04",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.1,output:.3},limit:{context:128e3,output:16384}},"mistral/pixtral-large":{id:"mistral/pixtral-large",name:"Pixtral Large",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2024-11-01",last_updated:"2024-11-04",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:128e3,output:128e3}},"mistral/ministral-3b":{id:"mistral/ministral-3b",name:"Ministral 3B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-10-01",last_updated:"2024-10-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.04,output:.04},limit:{context:128e3,output:128e3}},"mistral/magistral-medium":{id:"mistral/magistral-medium",name:"Magistral Medium",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-03-17",last_updated:"2025-03-20",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:5},limit:{context:128e3,output:16384}},"mistral/magistral-small":{id:"mistral/magistral-small",name:"Magistral Small",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-06",release_date:"2025-03-17",last_updated:"2025-03-17",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.5,output:1.5},limit:{context:128e3,output:128e3}},"mistral/pixtral-12b":{id:"mistral/pixtral-12b",name:"Pixtral 12B",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-09",release_date:"2024-09-01",last_updated:"2024-09-01",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.15,output:.15},limit:{context:128e3,output:128e3}},"mistral/codestral":{id:"mistral/codestral",name:"Codestral",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-05-29",last_updated:"2025-01-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.3,output:.9},limit:{context:256e3,output:4096}},"mistral/ministral-8b":{id:"mistral/ministral-8b",name:"Ministral 8B",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-10-01",last_updated:"2024-10-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:128e3,output:128e3}},"mistral/mistral-large":{id:"mistral/mistral-large",name:"Mistral Large",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2024-11-01",last_updated:"2024-11-04",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:2,output:6},limit:{context:131072,output:16384}},"vercel/v0-1.0-md":{id:"vercel/v0-1.0-md",name:"v0-1.0-md",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-05-22",last_updated:"2025-05-22",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:128e3,output:32e3}},"vercel/v0-1.5-md":{id:"vercel/v0-1.5-md",name:"v0-1.5-md",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,release_date:"2025-06-09",last_updated:"2025-06-09",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:3,output:15},limit:{context:128e3,output:32e3}},"google/gemini-2.0-flash":{id:"google/gemini-2.0-flash",name:"Gemini 2.0 Flash",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.1,output:.4,cache_read:.025},limit:{context:1048576,output:8192}},"google/gemini-2.5-flash":{id:"google/gemini-2.5-flash",name:"Gemini 2.5 Flash",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.3,output:2.5,cache_read:.075},limit:{context:1048576,output:65536}},"google/gemini-2.0-flash-lite":{id:"google/gemini-2.0-flash-lite",name:"Gemini 2.0 Flash Lite",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-06",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:.075,output:.3},limit:{context:1048576,output:8192}},"google/gemini-2.5-pro":{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-01",release_date:"2025-03-20",last_updated:"2025-06-05",modalities:{input:["text","image","audio","video","pdf"],output:["text"]},open_weights:!1,cost:{input:1.25,output:10,cache_read:.31},limit:{context:1048576,output:65536}},"amazon/nova-micro":{id:"amazon/nova-micro",name:"Nova Micro",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.035,output:.14,cache_read:.00875},limit:{context:128e3,output:8192}},"amazon/nova-lite":{id:"amazon/nova-lite",name:"Nova Lite",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:.06,output:.24,cache_read:.015},limit:{context:3e5,output:8192}},"amazon/nova-pro":{id:"amazon/nova-pro",name:"Nova Pro",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2024-12-03",last_updated:"2024-12-03",modalities:{input:["text","image","video"],output:["text"]},open_weights:!1,cost:{input:.8,output:3.2,cache_read:.2},limit:{context:3e5,output:8192}},"morph/morph-v3-large":{id:"morph/morph-v3-large",name:"Morph v3 Large",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.9,output:1.9},limit:{context:32e3,output:32e3}},"morph/morph-v3-fast":{id:"morph/morph-v3-fast",name:"Morph v3 Fast",attachment:!1,reasoning:!1,temperature:!1,tool_call:!1,release_date:"2024-08-15",last_updated:"2024-08-15",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.8,output:1.2},limit:{context:16e3,output:16e3}},"moonshotai/kimi-k2":{id:"moonshotai/kimi-k2",name:"Kimi K2 Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:3},limit:{context:131072,output:16384}}}},ibt={id:"wandb",name:"Weights & Biases",api:"https://api.inference.wandb.ai/v1",npm:"@ai-sdk/openai-compatible",doc:"https://weave-docs.wandb.ai/guides/integrations/inference/",env:["WANDB_API_KEY"],models:{"deepseek-ai/DeepSeek-V3-0324":{id:"deepseek-ai/DeepSeek-V3-0324",name:"DeepSeek-V3-0324",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-03-24",last_updated:"2025-03-24",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.14,output:2.75},limit:{context:161e3,output:8192}},"deepseek-ai/DeepSeek-R1-0528":{id:"deepseek-ai/DeepSeek-R1-0528",name:"DeepSeek-R1-0528",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-05",release_date:"2025-05-28",last_updated:"2025-05-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.35,output:5.4},limit:{context:161e3,output:163840}},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{id:"Qwen/Qwen3-Coder-480B-A35B-Instruct",name:"Qwen3-Coder-480B-A35B-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-23",last_updated:"2025-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1,output:1.5},limit:{context:262144,output:66536}},"Qwen/Qwen3-235B-A22B-Thinking-2507":{id:"Qwen/Qwen3-235B-A22B-Thinking-2507",name:"Qwen3-235B-A22B-Thinking-2507",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-25",last_updated:"2025-07-25",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:262144,output:131072}},"Qwen/Qwen3-235B-A22B-Instruct-2507":{id:"Qwen/Qwen3-235B-A22B-Instruct-2507",name:"Qwen3 235B A22B Instruct 2507",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-04-28",last_updated:"2025-07-21",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.1,output:.1},limit:{context:262144,output:131072}},"meta-llama/Llama-4-Scout-17B-16E-Instruct":{id:"meta-llama/Llama-4-Scout-17B-16E-Instruct",name:"Llama 4 Scout 17B 16E Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-12",release_date:"2025-01-31",last_updated:"2025-01-31",modalities:{input:["text","image"],output:["text"]},open_weights:!0,cost:{input:.17,output:.66},limit:{context:64e3,output:8192}},"meta-llama/Llama-3.3-70B-Instruct":{id:"meta-llama/Llama-3.3-70B-Instruct",name:"Llama-3.3-70B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-12-06",last_updated:"2024-12-06",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.71,output:.71},limit:{context:128e3,output:32768}},"meta-llama/Llama-3.1-8B-Instruct":{id:"meta-llama/Llama-3.1-8B-Instruct",name:"Meta-Llama-3.1-8B-Instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-12",release_date:"2024-07-23",last_updated:"2024-07-23",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.22,output:.22},limit:{context:128e3,output:32768}},"microsoft/Phi-4-mini-instruct":{id:"microsoft/Phi-4-mini-instruct",name:"Phi-4-mini-instruct",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2023-10",release_date:"2024-12-11",last_updated:"2024-12-11",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.08,output:.35},limit:{context:128e3,output:4096}},"moonshotai/Kimi-K2-Instruct":{id:"moonshotai/Kimi-K2-Instruct",name:"Kimi-K2-Instruct",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-10",release_date:"2025-07-14",last_updated:"2025-07-14",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:1.35,output:4},limit:{context:128e3,output:16384}}}},abt={id:"xai",name:"xAI",npm:"@ai-sdk/xai",doc:"https://docs.x.ai/docs/models",env:["XAI_API_KEY"],models:{"grok-3-mini-fast-latest":{id:"grok-3-mini-fast-latest",name:"Grok 3 Mini Fast Latest",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.6,output:4,reasoning:4,cache_read:.15},limit:{context:131072,output:8192}},"grok-3-mini-latest":{id:"grok-3-mini-latest",name:"Grok 3 Mini Latest",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.3,output:.5,reasoning:.5,cache_read:.075},limit:{context:131072,output:8192}},"grok-beta":{id:"grok-beta",name:"Grok Beta",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-11-01",last_updated:"2024-11-01",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:5,output:15,cache_read:5},limit:{context:131072,output:4096}},"grok-3-fast-latest":{id:"grok-3-fast-latest",name:"Grok 3 Fast Latest",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:5,output:25,cache_read:1.25},limit:{context:131072,output:8192}},"grok-3":{id:"grok-3",name:"Grok 3",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75},limit:{context:131072,output:8192}},"grok-3-mini":{id:"grok-3-mini",name:"Grok 3 Mini",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.3,output:.5,reasoning:.5,cache_read:.075},limit:{context:131072,output:8192}},"grok-2-vision-1212":{id:"grok-2-vision-1212",name:"Grok 2 Vision (1212)",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-12-12",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:8192,output:4096}},"grok-2":{id:"grok-2",name:"Grok 2",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:131072,output:8192}},"grok-2-vision-latest":{id:"grok-2-vision-latest",name:"Grok 2 Vision Latest",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-12-12",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:8192,output:4096}},"grok-3-latest":{id:"grok-3-latest",name:"Grok 3 Latest",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,cache_read:.75},limit:{context:131072,output:8192}},"grok-2-vision":{id:"grok-2-vision",name:"Grok 2 Vision",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-08-20",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:8192,output:4096}},"grok-2-latest":{id:"grok-2-latest",name:"Grok 2 Latest",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-08-20",last_updated:"2024-12-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:131072,output:8192}},"grok-3-fast":{id:"grok-3-fast",name:"Grok 3 Fast",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:5,output:25,cache_read:1.25},limit:{context:131072,output:8192}},"grok-2-1212":{id:"grok-2-1212",name:"Grok 2 (1212)",attachment:!1,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-12-12",last_updated:"2024-12-12",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:2,output:10,cache_read:2},limit:{context:131072,output:8192}},"grok-4":{id:"grok-4",name:"Grok 4",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-07",release_date:"2025-07-09",last_updated:"2025-07-09",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:3,output:15,reasoning:15,cache_read:.75},limit:{context:256e3,output:64e3}},"grok-vision-beta":{id:"grok-vision-beta",name:"Grok Vision Beta",attachment:!0,reasoning:!1,temperature:!0,tool_call:!0,knowledge:"2024-08",release_date:"2024-11-01",last_updated:"2024-11-01",modalities:{input:["text","image"],output:["text"]},open_weights:!1,cost:{input:5,output:15,cache_read:5},limit:{context:8192,output:4096}},"grok-3-mini-fast":{id:"grok-3-mini-fast",name:"Grok 3 Mini Fast",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2024-11",release_date:"2025-02-17",last_updated:"2025-02-17",modalities:{input:["text"],output:["text"]},open_weights:!1,cost:{input:.6,output:4,reasoning:4,cache_read:.15},limit:{context:131072,output:8192}}}},obt={id:"zai",name:"Z.AI",api:"https://api.z.ai/api/paas/v4",npm:"@ai-sdk/openai-compatible",doc:"https://docs.z.ai/guides/overview/pricing",env:["ZHIPU_API_KEY"],models:{"glm-4.5-air":{id:"glm-4.5-air",name:"GLM-4.5-Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:1.1,cache_read:.03,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5v":{id:"glm-4.5v",name:"GLM 4.5V",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-08-11",last_updated:"2025-08-11",modalities:{input:["text","image","video"],output:["text"]},open_weights:!0,cost:{input:.6,output:1.8},limit:{context:64e3,output:16384}},"glm-4.5-flash":{id:"glm-4.5-flash",name:"GLM-4.5-Flash",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5":{id:"glm-4.5",name:"GLM-4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.2,cache_read:.11,cache_write:0},limit:{context:131072,output:98304}}}},sbt={id:"zai-coding-plan",name:"Z.AI Coding Plan",api:"https://api.z.ai/api/coding/paas/v4",npm:"@ai-sdk/openai-compatible",doc:"https://docs.z.ai/devpack/overview",env:["ZHIPU_API_KEY"],models:{"glm-4.5-air":{id:"glm-4.5-air",name:"GLM-4.5-Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5v":{id:"glm-4.5v",name:"GLM 4.5V",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-08-11",last_updated:"2025-08-11",modalities:{input:["text","image","video"],output:["text"]},open_weights:!0,cost:{input:0,output:0},limit:{context:64e3,output:16384}},"glm-4.5-flash":{id:"glm-4.5-flash",name:"GLM-4.5-Flash",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5":{id:"glm-4.5",name:"GLM-4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:131072,output:98304}}}},lbt={id:"zhipuai",name:"Zhipu AI",api:"https://open.bigmodel.cn/api/paas/v4",npm:"@ai-sdk/openai-compatible",doc:"https://docs.z.ai/guides/overview/pricing",env:["ZHIPU_API_KEY"],models:{"glm-4.5":{id:"glm-4.5",name:"GLM-4.5",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.6,output:2.2,cache_read:.11,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5-flash":{id:"glm-4.5-flash",name:"GLM-4.5-Flash",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:0,output:0,cache_read:0,cache_write:0},limit:{context:131072,output:98304}},"glm-4.5v":{id:"glm-4.5v",name:"GLM 4.5V",attachment:!0,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-08-11",last_updated:"2025-08-11",modalities:{input:["text","image","video"],output:["text"]},open_weights:!0,cost:{input:.6,output:1.8},limit:{context:64e3,output:16384}},"glm-4.5-air":{id:"glm-4.5-air",name:"GLM-4.5-Air",attachment:!1,reasoning:!0,temperature:!0,tool_call:!0,knowledge:"2025-04",release_date:"2025-07-28",last_updated:"2025-07-28",modalities:{input:["text"],output:["text"]},open_weights:!0,cost:{input:.2,output:1.1,cache_read:.03,cache_write:0},limit:{context:131072,output:98304}}}},ubt={alibaba:gOt,"alibaba-cn":vOt,"amazon-bedrock":yOt,anthropic:xOt,azure:_Ot,baseten:OOt,cerebras:bOt,chutes:wOt,"cloudflare-workers-ai":SOt,deepinfra:TOt,deepseek:COt,fastrouter:kOt,"fireworks-ai":AOt,"github-copilot":POt,"github-models":EOt,google:MOt,"google-vertex":DOt,"google-vertex-anthropic":IOt,groq:ROt,huggingface:LOt,inception:NOt,inference:$Ot,llama:zOt,lmstudio:BOt,mistral:QOt,modelscope:jOt,moonshotai:VOt,"moonshotai-cn":FOt,morph:GOt,nvidia:WOt,openai:UOt,opencode:qOt,openrouter:ZOt,perplexity:HOt,requesty:XOt,submodel:YOt,synthetic:KOt,togetherai:JOt,upstage:ebt,v0:tbt,venice:nbt,vercel:rbt,wandb:ibt,xai:abt,zai:obt,"zai-coding-plan":sbt,zhipuai:lbt};function cbt(){return ubt}const z1e=cbt();function dbt(t,e){return dOt(t,{catalog:z1e})}function sO(t){return mOt({modelId:t.modelId,usage:t.usage,providers:t.providers??z1e,reserveOutput:t.reserveOutput})}var xV="Progress",_V=100,[fbt]=kQe(xV),[hbt,pbt]=fbt(xV),B1e=K.forwardRef((t,e)=>{const{__scopeProgress:i,value:s=null,max:u,getValueLabel:d=mbt,...h}=t;(u||u===0)&&!dse(u)&&console.error(gbt(`${u}`,"Progress"));const m=dse(u)?u:_V;s!==null&&!fse(s,m)&&console.error(vbt(`${s}`,"Progress"));const y=fse(s,m)?s:null,_=fk(y)?d(y,m):void 0;return I.jsx(hbt,{scope:i,value:y,max:m,children:I.jsx(Jse.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":fk(y)?y:void 0,"aria-valuetext":_,role:"progressbar","data-state":V1e(y,m),"data-value":y??void 0,"data-max":m,...h,ref:e})})});B1e.displayName=xV;var Q1e="ProgressIndicator",j1e=K.forwardRef((t,e)=>{const{__scopeProgress:i,...s}=t,u=pbt(Q1e,i);return I.jsx(Jse.div,{"data-state":V1e(u.value,u.max),"data-value":u.value??void 0,"data-max":u.max,...s,ref:e})});j1e.displayName=Q1e;function mbt(t,e){return`${Math.round(t/e*100)}%`}function V1e(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function fk(t){return typeof t=="number"}function dse(t){return fk(t)&&!isNaN(t)&&t>0}function fse(t,e){return fk(t)&&!isNaN(t)&&t<=e&&t>=0}function gbt(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_V}\`.`}function vbt(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_V} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ybt=B1e,xbt=j1e;function _bt({className:t,value:e,...i}){return I.jsx(ybt,{className:We("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),"data-slot":"progress",...i,children:I.jsx(xbt,{className:"h-full w-full flex-1 bg-primary transition-all","data-slot":"progress-indicator",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Obt=100,B3=10,hse=24,ZS=12,pse=2,F1e=K.createContext(null),of=()=>{const t=K.useContext(F1e);if(!t)throw new Error("Context components must be used within Context");return t},bbt=({usedTokens:t,maxTokens:e,usage:i,modelId:s,...u})=>I.jsx(F1e.Provider,{value:{usedTokens:t,maxTokens:e,usage:i,modelId:s},children:I.jsx(x1e,{closeDelay:0,openDelay:0,...u})}),wbt=()=>{const{usedTokens:t,maxTokens:e}=of(),i=2*Math.PI*B3,s=t/e,u=i*(1-s);return I.jsxs("svg",{"aria-label":"Model context usage",height:"20",role:"img",style:{color:"currentcolor"},viewBox:`0 0 ${hse} ${hse}`,width:"20",children:[I.jsx("circle",{cx:ZS,cy:ZS,fill:"none",opacity:"0.25",r:B3,stroke:"currentColor",strokeWidth:pse}),I.jsx("circle",{cx:ZS,cy:ZS,fill:"none",opacity:"0.7",r:B3,stroke:"currentColor",strokeDasharray:`${i} ${i}`,strokeDashoffset:u,strokeLinecap:"round",strokeWidth:pse,style:{transformOrigin:"center",transform:"rotate(-90deg)"}})]})},Sbt=({children:t,...e})=>{const{usedTokens:i,maxTokens:s}=of(),u=i/s,d=new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:1}).format(u);return I.jsx(_1e,{asChild:!0,children:t??I.jsxs(xn,{type:"button",variant:"ghost",...e,children:[I.jsx("span",{className:"font-medium text-muted-foreground",children:d}),I.jsx(wbt,{})]})})},Tbt=({className:t,...e})=>I.jsx(O1e,{className:We("min-w-60 divide-y overflow-hidden p-0",t),...e}),Cbt=({children:t,className:e,...i})=>{const{usedTokens:s,maxTokens:u}=of(),d=s/u,h=new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:1}).format(d),m=new Intl.NumberFormat("en-US",{notation:"compact"}).format(s),y=new Intl.NumberFormat("en-US",{notation:"compact"}).format(u);return I.jsx("div",{className:We("w-full space-y-2 p-3",e),...i,children:t??I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center justify-between gap-3 text-xs",children:[I.jsx("p",{children:h}),I.jsxs("p",{className:"font-mono text-muted-foreground",children:[m," / ",y]})]}),I.jsx("div",{className:"space-y-2",children:I.jsx(_bt,{className:"bg-muted",value:d*Obt})})]})})},kbt=({children:t,className:e,...i})=>I.jsx("div",{className:We("w-full p-3",e),...i,children:t}),Abt=({children:t,className:e,...i})=>{const{modelId:s,usage:u}=of(),d=s?sO({modelId:s,usage:{input:u?.inputTokens??0,output:u?.outputTokens??0}}).costUSD?.totalUSD:void 0,h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d??0);return I.jsx("div",{className:We("flex w-full items-center justify-between gap-3 bg-secondary p-3 text-xs",e),...i,children:t??I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"text-muted-foreground",children:"Total cost"}),I.jsx("span",{children:h})]})})},Pbt=({className:t,children:e,...i})=>{const{usage:s,modelId:u}=of(),d=s?.inputTokens??0;if(e)return e;if(!d)return null;const h=u?sO({modelId:u,usage:{input:d,output:0}}).costUSD?.totalUSD:void 0,m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h??0);return I.jsxs("div",{className:We("flex items-center justify-between text-xs",t),...i,children:[I.jsx("span",{className:"text-muted-foreground",children:"Input"}),I.jsx(nP,{costText:m,tokens:d})]})},Ebt=({className:t,children:e,...i})=>{const{usage:s,modelId:u}=of(),d=s?.outputTokens??0;if(e)return e;if(!d)return null;const h=u?sO({modelId:u,usage:{input:0,output:d}}).costUSD?.totalUSD:void 0,m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h??0);return I.jsxs("div",{className:We("flex items-center justify-between text-xs",t),...i,children:[I.jsx("span",{className:"text-muted-foreground",children:"Output"}),I.jsx(nP,{costText:m,tokens:d})]})},Mbt=({className:t,children:e,...i})=>{const{usage:s,modelId:u}=of(),d=s?.reasoningTokens??0;if(e)return e;if(!d)return null;const h=u?sO({modelId:u,usage:{reasoningTokens:d}}).costUSD?.totalUSD:void 0,m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h??0);return I.jsxs("div",{className:We("flex items-center justify-between text-xs",t),...i,children:[I.jsx("span",{className:"text-muted-foreground",children:"Reasoning"}),I.jsx(nP,{costText:m,tokens:d})]})},Dbt=({className:t,children:e,...i})=>{const{usage:s,modelId:u}=of(),d=s?.cachedInputTokens??0;if(e)return e;if(!d)return null;const h=u?sO({modelId:u,usage:{cacheReads:d,input:0,output:0}}).costUSD?.totalUSD:void 0,m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h??0);return I.jsxs("div",{className:We("flex items-center justify-between text-xs",t),...i,children:[I.jsx("span",{className:"text-muted-foreground",children:"Cache"}),I.jsx(nP,{costText:m,tokens:d})]})},nP=({tokens:t,costText:e})=>I.jsxs("span",{children:[t===void 0?"—":new Intl.NumberFormat("en-US",{notation:"compact"}).format(t),e?I.jsxs("span",{className:"ml-2 text-muted-foreground",children:["• ",e]}):null]}),Q3=10,mse=24,HS=12,gse=2;function Ibt({usedTokens:t,maxTokens:e}){const i=2*Math.PI*Q3,s=t/e,u=i*(1-s);return I.jsxs("svg",{"aria-label":"Model context usage",height:"20",role:"img",style:{color:"currentcolor"},viewBox:`0 0 ${mse} ${mse}`,width:"20",children:[I.jsx("circle",{cx:HS,cy:HS,fill:"none",opacity:"0.25",r:Q3,stroke:"currentColor",strokeWidth:gse}),I.jsx("circle",{cx:HS,cy:HS,fill:"none",opacity:"0.7",r:Q3,stroke:"currentColor",strokeDasharray:`${i} ${i}`,strokeDashoffset:u,strokeLinecap:"round",strokeWidth:gse,style:{transformOrigin:"center",transform:"rotate(-90deg)"}})]})}function Rbt({usage:t,selectedModelId:e,iconOnly:i=!1}){const s=K.useMemo(()=>{try{const d=dbt(e);return d.combinedMax??d.inputMax??0}catch{return 0}},[e]),u=K.useMemo(()=>{if(!t)return 0;const d=t.inputTokens??0,h=t.cachedInputTokens??0;return d+h},[t]);return I.jsxs(bbt,{maxTokens:s,modelId:e.split("/").join(":"),usage:t,usedTokens:u,children:[I.jsx(Sbt,{children:i?I.jsx(xn,{className:"size-8 p-0",type:"button",variant:"ghost",children:I.jsx(Ibt,{maxTokens:s,usedTokens:u})}):void 0}),I.jsxs(Tbt,{align:"end",children:[I.jsx(Cbt,{}),I.jsxs(kbt,{className:"space-y-2",children:[I.jsx(Pbt,{}),I.jsx(Ebt,{}),I.jsx(Mbt,{}),I.jsx(Dbt,{})]}),I.jsx(Abt,{})]})]})}function Lbt({parentMessageId:t,selectedModelId:e,iconOnly:i=!1,className:s}){const u=W7e(t),{getModelById:d}=b_(),h=d(e);return u&&h?I.jsx("div",{className:s,children:I.jsx(Rbt,{iconOnly:i,selectedModelId:h.apiModelId,usage:u})}):null}function Nbt(t,e){return e.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(s){if(s!=="default"&&!(s in t)){var u=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,u.get?u:{enumerable:!0,get:function(){return i[s]}})}}))})),Object.freeze(t)}function G1e(t,e){return new Promise((function(i,s){let u;return $bt(t).then((function(d){try{return u=d,i(new Blob([e.slice(0,2),u,e.slice(2)],{type:"image/jpeg"}))}catch(h){return s(h)}}),s)}))}const $bt=t=>new Promise(((e,i)=>{const s=new FileReader;s.addEventListener("load",(({target:{result:u}})=>{const d=new DataView(u);let h=0;if(d.getUint16(h)!==65496)return i("not a valid JPEG");for(h+=2;;){const m=d.getUint16(h);if(m===65498)break;const y=d.getUint16(h+2);if(m===65505&&d.getUint32(h+4)===1165519206){const _=h+10;let b;switch(d.getUint16(_)){case 18761:b=!0;break;case 19789:b=!1;break;default:return i("TIFF header contains invalid endian")}if(d.getUint16(_+2,b)!==42)return i("TIFF header contains invalid version");const T=d.getUint32(_+4,b),C=_+T+2+12*d.getUint16(_+T,b);for(let A=_+T+2;A<C;A+=12)if(d.getUint16(A,b)==274){if(d.getUint16(A+2,b)!==3)return i("Orientation data type is invalid");if(d.getUint32(A+4,b)!==1)return i("Orientation data count is invalid");d.setUint16(A+8,1,b);break}return e(u.slice(h,h+2+y))}h+=2+y}return e(new Blob)})),s.readAsArrayBuffer(t)}));var hk={},zbt={get exports(){return hk},set exports(t){hk=t}};(function(t){var e,i,s={};zbt.exports=s,s.parse=function(u,d){for(var h=s.bin.readUshort,m=s.bin.readUint,y=0,_={},b=new Uint8Array(u),T=b.length-4;m(b,T)!=101010256;)T--;y=T,y+=4;var C=h(b,y+=4);h(b,y+=2);var A=m(b,y+=2),D=m(b,y+=4);y+=4,y=D;for(var L=0;L<C;L++){m(b,y),y+=4,y+=4,y+=4,m(b,y+=4),A=m(b,y+=4);var z=m(b,y+=4),$=h(b,y+=4),Q=h(b,y+2),B=h(b,y+4);y+=6;var q=m(b,y+=8);y+=4,y+=$+Q+B,s._readLocal(b,q,_,A,z,d)}return _},s._readLocal=function(u,d,h,m,y,_){var b=s.bin.readUshort,T=s.bin.readUint;T(u,d),b(u,d+=4),b(u,d+=2);var C=b(u,d+=2);T(u,d+=2),T(u,d+=4),d+=4;var A=b(u,d+=8),D=b(u,d+=2);d+=2;var L=s.bin.readUTF8(u,d,A);if(d+=A,d+=D,_)h[L]={size:y,csize:m};else{var z=new Uint8Array(u.buffer,d);if(C==0)h[L]=new Uint8Array(z.buffer.slice(d,d+m));else{if(C!=8)throw"unknown compression method: "+C;var $=new Uint8Array(y);s.inflateRaw(z,$),h[L]=$}}},s.inflateRaw=function(u,d){return s.F.inflate(u,d)},s.inflate=function(u,d){return u[0],u[1],s.inflateRaw(new Uint8Array(u.buffer,u.byteOffset+2,u.length-6),d)},s.deflate=function(u,d){d==null&&(d={level:6});var h=0,m=new Uint8Array(50+Math.floor(1.1*u.length));m[h]=120,m[h+1]=156,h+=2,h=s.F.deflateRaw(u,m,h,d.level);var y=s.adler(u,0,u.length);return m[h+0]=y>>>24&255,m[h+1]=y>>>16&255,m[h+2]=y>>>8&255,m[h+3]=y>>>0&255,new Uint8Array(m.buffer,0,h+4)},s.deflateRaw=function(u,d){d==null&&(d={level:6});var h=new Uint8Array(50+Math.floor(1.1*u.length)),m=s.F.deflateRaw(u,h,m,d.level);return new Uint8Array(h.buffer,0,m)},s.encode=function(u,d){d==null&&(d=!1);var h=0,m=s.bin.writeUint,y=s.bin.writeUshort,_={};for(var b in u){var T=!s._noNeed(b)&&!d,C=u[b],A=s.crc.crc(C,0,C.length);_[b]={cpr:T,usize:C.length,crc:A,file:T?s.deflateRaw(C):C}}for(var b in _)h+=_[b].file.length+30+46+2*s.bin.sizeUTF8(b);h+=22;var D=new Uint8Array(h),L=0,z=[];for(var b in _){var $=_[b];z.push(L),L=s._writeHeader(D,L,b,$,0)}var Q=0,B=L;for(var b in _)$=_[b],z.push(L),L=s._writeHeader(D,L,b,$,1,z[Q++]);var q=L-B;return m(D,L,101010256),L+=4,y(D,L+=4,Q),y(D,L+=2,Q),m(D,L+=2,q),m(D,L+=4,B),L+=4,L+=2,D.buffer},s._noNeed=function(u){var d=u.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(d)!=-1},s._writeHeader=function(u,d,h,m,y,_){var b=s.bin.writeUint,T=s.bin.writeUshort,C=m.file;return b(u,d,y==0?67324752:33639248),d+=4,y==1&&(d+=2),T(u,d,20),T(u,d+=2,0),T(u,d+=2,m.cpr?8:0),b(u,d+=2,0),b(u,d+=4,m.crc),b(u,d+=4,C.length),b(u,d+=4,m.usize),T(u,d+=4,s.bin.sizeUTF8(h)),T(u,d+=2,0),d+=2,y==1&&(d+=2,d+=2,b(u,d+=6,_),d+=4),d+=s.bin.writeUTF8(u,d,h),y==0&&(u.set(C,d),d+=C.length),d},s.crc={table:(function(){for(var u=new Uint32Array(256),d=0;d<256;d++){for(var h=d,m=0;m<8;m++)1&h?h=3988292384^h>>>1:h>>>=1;u[d]=h}return u})(),update:function(u,d,h,m){for(var y=0;y<m;y++)u=s.crc.table[255&(u^d[h+y])]^u>>>8;return u},crc:function(u,d,h){return 4294967295^s.crc.update(4294967295,u,d,h)}},s.adler=function(u,d,h){for(var m=1,y=0,_=d,b=d+h;_<b;){for(var T=Math.min(_+5552,b);_<T;)y+=m+=u[_++];m%=65521,y%=65521}return y<<16|m},s.bin={readUshort:function(u,d){return u[d]|u[d+1]<<8},writeUshort:function(u,d,h){u[d]=255&h,u[d+1]=h>>8&255},readUint:function(u,d){return 16777216*u[d+3]+(u[d+2]<<16|u[d+1]<<8|u[d])},writeUint:function(u,d,h){u[d]=255&h,u[d+1]=h>>8&255,u[d+2]=h>>16&255,u[d+3]=h>>24&255},readASCII:function(u,d,h){for(var m="",y=0;y<h;y++)m+=String.fromCharCode(u[d+y]);return m},writeASCII:function(u,d,h){for(var m=0;m<h.length;m++)u[d+m]=h.charCodeAt(m)},pad:function(u){return u.length<2?"0"+u:u},readUTF8:function(u,d,h){for(var m,y="",_=0;_<h;_++)y+="%"+s.bin.pad(u[d+_].toString(16));try{m=decodeURIComponent(y)}catch{return s.bin.readASCII(u,d,h)}return m},writeUTF8:function(u,d,h){for(var m=h.length,y=0,_=0;_<m;_++){var b=h.charCodeAt(_);if((4294967168&b)==0)u[d+y]=b,y++;else if((4294965248&b)==0)u[d+y]=192|b>>6,u[d+y+1]=128|b>>0&63,y+=2;else if((4294901760&b)==0)u[d+y]=224|b>>12,u[d+y+1]=128|b>>6&63,u[d+y+2]=128|b>>0&63,y+=3;else{if((4292870144&b)!=0)throw"e";u[d+y]=240|b>>18,u[d+y+1]=128|b>>12&63,u[d+y+2]=128|b>>6&63,u[d+y+3]=128|b>>0&63,y+=4}}return y},sizeUTF8:function(u){for(var d=u.length,h=0,m=0;m<d;m++){var y=u.charCodeAt(m);if((4294967168&y)==0)h++;else if((4294965248&y)==0)h+=2;else if((4294901760&y)==0)h+=3;else{if((4292870144&y)!=0)throw"e";h+=4}}return h}},s.F={},s.F.deflateRaw=function(u,d,h,m){var y=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][m],_=s.F.U,b=s.F._goodIndex;s.F._hash;var T=s.F._putsE,C=0,A=h<<3,D=0,L=u.length;if(m==0){for(;C<L;)T(d,A,C+(ae=Math.min(65535,L-C))==L?1:0),A=s.F._copyExact(u,C,ae,d,A+8),C+=ae;return A>>>3}var z=_.lits,$=_.strt,Q=_.prev,B=0,q=0,Y=0,G=0,H=0,V=0;for(L>2&&($[V=s.F._hash(u,0)]=0),C=0;C<L;C++){if(H=V,C+1<L-2){V=s.F._hash(u,C+1);var F=C+1&32767;Q[F]=$[V],$[V]=F}if(D<=C){(B>14e3||q>26697)&&L-C>100&&(D<C&&(z[B]=C-D,B+=2,D=C),A=s.F._writeBlock(C==L-1||D==L?1:0,z,B,G,u,Y,C-Y,d,A),B=q=G=0,Y=C);var te=0;C<L-2&&(te=s.F._bestMatch(u,C,Q,H,Math.min(y[2],L-C),y[3]));var ae=te>>>16,oe=65535&te;if(te!=0){oe=65535&te;var fe=b(ae=te>>>16,_.of0);_.lhst[257+fe]++;var de=b(oe,_.df0);_.dhst[de]++,G+=_.exb[fe]+_.dxb[de],z[B]=ae<<23|C-D,z[B+1]=oe<<16|fe<<8|de,B+=2,D=C+ae}else _.lhst[u[C]]++;q++}}for(Y==C&&u.length!=0||(D<C&&(z[B]=C-D,B+=2,D=C),A=s.F._writeBlock(1,z,B,G,u,Y,C-Y,d,A),B=0,q=0,B=q=G=0,Y=C);(7&A)!=0;)A++;return A>>>3},s.F._bestMatch=function(u,d,h,m,y,_){var b=32767&d,T=h[b],C=b-T+32768&32767;if(T==b||m!=s.F._hash(u,d-C))return 0;for(var A=0,D=0,L=Math.min(32767,d);C<=L&&--_!=0&&T!=b;){if(A==0||u[d+A]==u[d+A-C]){var z=s.F._howLong(u,d,C);if(z>A){if(D=C,(A=z)>=y)break;C+2<z&&(z=C+2);for(var $=0,Q=0;Q<z-2;Q++){var B=d-C+Q+32768&32767,q=B-h[B]+32768&32767;q>$&&($=q,T=B)}}}C+=(b=T)-(T=h[b])+32768&32767}return A<<16|D},s.F._howLong=function(u,d,h){if(u[d]!=u[d-h]||u[d+1]!=u[d+1-h]||u[d+2]!=u[d+2-h])return 0;var m=d,y=Math.min(u.length,d+258);for(d+=3;d<y&&u[d]==u[d-h];)d++;return d-m},s.F._hash=function(u,d){return(u[d]<<8|u[d+1])+(u[d+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(u,d,h,m,y,_,b,T,C){var A,D,L,z,$,Q,B,q,Y,G=s.F.U,H=s.F._putsF,V=s.F._putsE;G.lhst[256]++,D=(A=s.F.getTrees())[0],L=A[1],z=A[2],$=A[3],Q=A[4],B=A[5],q=A[6],Y=A[7];var F=32+((C+3&7)==0?0:8-(C+3&7))+(b<<3),te=m+s.F.contSize(G.fltree,G.lhst)+s.F.contSize(G.fdtree,G.dhst),ae=m+s.F.contSize(G.ltree,G.lhst)+s.F.contSize(G.dtree,G.dhst);ae+=14+3*B+s.F.contSize(G.itree,G.ihst)+(2*G.ihst[16]+3*G.ihst[17]+7*G.ihst[18]);for(var oe=0;oe<286;oe++)G.lhst[oe]=0;for(oe=0;oe<30;oe++)G.dhst[oe]=0;for(oe=0;oe<19;oe++)G.ihst[oe]=0;var fe=F<te&&F<ae?0:te<ae?1:2;if(H(T,C,u),H(T,C+1,fe),C+=3,fe==0){for(;(7&C)!=0;)C++;C=s.F._copyExact(y,_,b,T,C)}else{var de,he;if(fe==1&&(de=G.fltree,he=G.fdtree),fe==2){s.F.makeCodes(G.ltree,D),s.F.revCodes(G.ltree,D),s.F.makeCodes(G.dtree,L),s.F.revCodes(G.dtree,L),s.F.makeCodes(G.itree,z),s.F.revCodes(G.itree,z),de=G.ltree,he=G.dtree,V(T,C,$-257),V(T,C+=5,Q-1),V(T,C+=5,B-4),C+=4;for(var ue=0;ue<B;ue++)V(T,C+3*ue,G.itree[1+(G.ordr[ue]<<1)]);C+=3*B,C=s.F._codeTiny(q,G.itree,T,C),C=s.F._codeTiny(Y,G.itree,T,C)}for(var ne=_,me=0;me<h;me+=2){for(var ge=d[me],ee=ge>>>23,be=ne+(8388607&ge);ne<be;)C=s.F._writeLit(y[ne++],de,T,C);if(ee!=0){var Me=d[me+1],se=Me>>16,Ae=Me>>8&255,we=255&Me;V(T,C=s.F._writeLit(257+Ae,de,T,C),ee-G.of0[Ae]),C+=G.exb[Ae],H(T,C=s.F._writeLit(we,he,T,C),se-G.df0[we]),C+=G.dxb[we],ne+=ee}}C=s.F._writeLit(256,de,T,C)}return C},s.F._copyExact=function(u,d,h,m,y){var _=y>>>3;return m[_]=h,m[_+1]=h>>>8,m[_+2]=255-m[_],m[_+3]=255-m[_+1],_+=4,m.set(new Uint8Array(u.buffer,d,h),_),y+(h+4<<3)},s.F.getTrees=function(){for(var u=s.F.U,d=s.F._hufTree(u.lhst,u.ltree,15),h=s.F._hufTree(u.dhst,u.dtree,15),m=[],y=s.F._lenCodes(u.ltree,m),_=[],b=s.F._lenCodes(u.dtree,_),T=0;T<m.length;T+=2)u.ihst[m[T]]++;for(T=0;T<_.length;T+=2)u.ihst[_[T]]++;for(var C=s.F._hufTree(u.ihst,u.itree,7),A=19;A>4&&u.itree[1+(u.ordr[A-1]<<1)]==0;)A--;return[d,h,C,y,b,A,m,_]},s.F.getSecond=function(u){for(var d=[],h=0;h<u.length;h+=2)d.push(u[h+1]);return d},s.F.nonZero=function(u){for(var d="",h=0;h<u.length;h+=2)u[h+1]!=0&&(d+=(h>>1)+",");return d},s.F.contSize=function(u,d){for(var h=0,m=0;m<d.length;m++)h+=d[m]*u[1+(m<<1)];return h},s.F._codeTiny=function(u,d,h,m){for(var y=0;y<u.length;y+=2){var _=u[y],b=u[y+1];m=s.F._writeLit(_,d,h,m);var T=_==16?2:_==17?3:7;_>15&&(s.F._putsE(h,m,b,T),m+=T)}return m},s.F._lenCodes=function(u,d){for(var h=u.length;h!=2&&u[h-1]==0;)h-=2;for(var m=0;m<h;m+=2){var y=u[m+1],_=m+3<h?u[m+3]:-1,b=m+5<h?u[m+5]:-1,T=m==0?-1:u[m-1];if(y==0&&_==y&&b==y){for(var C=m+5;C+2<h&&u[C+2]==y;)C+=2;(A=Math.min(C+1-m>>>1,138))<11?d.push(17,A-3):d.push(18,A-11),m+=2*A-2}else if(y==T&&_==y&&b==y){for(C=m+5;C+2<h&&u[C+2]==y;)C+=2;var A=Math.min(C+1-m>>>1,6);d.push(16,A-3),m+=2*A-2}else d.push(y,0)}return h>>>1},s.F._hufTree=function(u,d,h){var m=[],y=u.length,_=d.length,b=0;for(b=0;b<_;b+=2)d[b]=0,d[b+1]=0;for(b=0;b<y;b++)u[b]!=0&&m.push({lit:b,f:u[b]});var T=m.length,C=m.slice(0);if(T==0)return 0;if(T==1){var A=m[0].lit;return C=A==0?1:0,d[1+(A<<1)]=1,d[1+(C<<1)]=1,1}m.sort((function(q,Y){return q.f-Y.f}));var D=m[0],L=m[1],z=0,$=1,Q=2;for(m[0]={lit:-1,f:D.f+L.f,l:D,r:L,d:0};$!=T-1;)D=z!=$&&(Q==T||m[z].f<m[Q].f)?m[z++]:m[Q++],L=z!=$&&(Q==T||m[z].f<m[Q].f)?m[z++]:m[Q++],m[$++]={lit:-1,f:D.f+L.f,l:D,r:L};var B=s.F.setDepth(m[$-1],0);for(B>h&&(s.F.restrictDepth(C,h,B),B=h),b=0;b<T;b++)d[1+(C[b].lit<<1)]=C[b].d;return B},s.F.setDepth=function(u,d){return u.lit!=-1?(u.d=d,d):Math.max(s.F.setDepth(u.l,d+1),s.F.setDepth(u.r,d+1))},s.F.restrictDepth=function(u,d,h){var m=0,y=1<<h-d,_=0;for(u.sort((function(T,C){return C.d==T.d?T.f-C.f:C.d-T.d})),m=0;m<u.length&&u[m].d>d;m++){var b=u[m].d;u[m].d=d,_+=y-(1<<h-b)}for(_>>>=h-d;_>0;)(b=u[m].d)<d?(u[m].d++,_-=1<<d-b-1):m++;for(;m>=0;m--)u[m].d==d&&_<0&&(u[m].d--,_++);_!=0&&console.log("debt left")},s.F._goodIndex=function(u,d){var h=0;return d[16|h]<=u&&(h|=16),d[8|h]<=u&&(h|=8),d[4|h]<=u&&(h|=4),d[2|h]<=u&&(h|=2),d[1|h]<=u&&(h|=1),h},s.F._writeLit=function(u,d,h,m){return s.F._putsF(h,m,d[u<<1]),m+d[1+(u<<1)]},s.F.inflate=function(u,d){var h=Uint8Array;if(u[0]==3&&u[1]==0)return d||new h(0);var m=s.F,y=m._bitsF,_=m._bitsE,b=m._decodeTiny,T=m.makeCodes,C=m.codes2map,A=m._get17,D=m.U,L=d==null;L&&(d=new h(u.length>>>2<<3));for(var z,$,Q=0,B=0,q=0,Y=0,G=0,H=0,V=0,F=0,te=0;Q==0;)if(Q=y(u,te,1),B=y(u,te+1,2),te+=3,B!=0){if(L&&(d=s.F._check(d,F+(1<<17))),B==1&&(z=D.flmap,$=D.fdmap,H=511,V=31),B==2){q=_(u,te,5)+257,Y=_(u,te+5,5)+1,G=_(u,te+10,4)+4,te+=14;for(var ae=0;ae<38;ae+=2)D.itree[ae]=0,D.itree[ae+1]=0;var oe=1;for(ae=0;ae<G;ae++){var fe=_(u,te+3*ae,3);D.itree[1+(D.ordr[ae]<<1)]=fe,fe>oe&&(oe=fe)}te+=3*G,T(D.itree,oe),C(D.itree,oe,D.imap),z=D.lmap,$=D.dmap,te=b(D.imap,(1<<oe)-1,q+Y,u,te,D.ttree);var de=m._copyOut(D.ttree,0,q,D.ltree);H=(1<<de)-1;var he=m._copyOut(D.ttree,q,Y,D.dtree);V=(1<<he)-1,T(D.ltree,de),C(D.ltree,de,z),T(D.dtree,he),C(D.dtree,he,$)}for(;;){var ue=z[A(u,te)&H];te+=15&ue;var ne=ue>>>4;if(!(ne>>>8))d[F++]=ne;else{if(ne==256)break;var me=F+ne-254;if(ne>264){var ge=D.ldef[ne-257];me=F+(ge>>>3)+_(u,te,7&ge),te+=7&ge}var ee=$[A(u,te)&V];te+=15&ee;var be=ee>>>4,Me=D.ddef[be],se=(Me>>>4)+y(u,te,15&Me);for(te+=15&Me,L&&(d=s.F._check(d,F+(1<<17)));F<me;)d[F]=d[F++-se],d[F]=d[F++-se],d[F]=d[F++-se],d[F]=d[F++-se];F=me}}}else{(7&te)!=0&&(te+=8-(7&te));var Ae=4+(te>>>3),we=u[Ae-4]|u[Ae-3]<<8;L&&(d=s.F._check(d,F+we)),d.set(new h(u.buffer,u.byteOffset+Ae,we),F),te=Ae+we<<3,F+=we}return d.length==F?d:d.slice(0,F)},s.F._check=function(u,d){var h=u.length;if(d<=h)return u;var m=new Uint8Array(Math.max(h<<1,d));return m.set(u,0),m},s.F._decodeTiny=function(u,d,h,m,y,_){for(var b=s.F._bitsE,T=s.F._get17,C=0;C<h;){var A=u[T(m,y)&d];y+=15&A;var D=A>>>4;if(D<=15)_[C]=D,C++;else{var L=0,z=0;D==16?(z=3+b(m,y,2),y+=2,L=_[C-1]):D==17?(z=3+b(m,y,3),y+=3):D==18&&(z=11+b(m,y,7),y+=7);for(var $=C+z;C<$;)_[C]=L,C++}}return y},s.F._copyOut=function(u,d,h,m){for(var y=0,_=0,b=m.length>>>1;_<h;){var T=u[_+d];m[_<<1]=0,m[1+(_<<1)]=T,T>y&&(y=T),_++}for(;_<b;)m[_<<1]=0,m[1+(_<<1)]=0,_++;return y},s.F.makeCodes=function(u,d){for(var h,m,y,_,b=s.F.U,T=u.length,C=b.bl_count,A=0;A<=d;A++)C[A]=0;for(A=1;A<T;A+=2)C[u[A]]++;var D=b.next_code;for(h=0,C[0]=0,m=1;m<=d;m++)h=h+C[m-1]<<1,D[m]=h;for(y=0;y<T;y+=2)(_=u[y+1])!=0&&(u[y]=D[_],D[_]++)},s.F.codes2map=function(u,d,h){for(var m=u.length,y=s.F.U.rev15,_=0;_<m;_+=2)if(u[_+1]!=0)for(var b=_>>1,T=u[_+1],C=b<<4|T,A=d-T,D=u[_]<<A,L=D+(1<<A);D!=L;)h[y[D]>>>15-d]=C,D++},s.F.revCodes=function(u,d){for(var h=s.F.U.rev15,m=15-d,y=0;y<u.length;y+=2){var _=u[y]<<d-u[y+1];u[y]=h[_]>>>m}},s.F._putsE=function(u,d,h){h<<=7&d;var m=d>>>3;u[m]|=h,u[m+1]|=h>>>8},s.F._putsF=function(u,d,h){h<<=7&d;var m=d>>>3;u[m]|=h,u[m+1]|=h>>>8,u[m+2]|=h>>>16},s.F._bitsE=function(u,d,h){return(u[d>>>3]|u[1+(d>>>3)]<<8)>>>(7&d)&(1<<h)-1},s.F._bitsF=function(u,d,h){return(u[d>>>3]|u[1+(d>>>3)]<<8|u[2+(d>>>3)]<<16)>>>(7&d)&(1<<h)-1},s.F._get17=function(u,d){return(u[d>>>3]|u[1+(d>>>3)]<<8|u[2+(d>>>3)]<<16)>>>(7&d)},s.F._get25=function(u,d){return(u[d>>>3]|u[1+(d>>>3)]<<8|u[2+(d>>>3)]<<16|u[3+(d>>>3)]<<24)>>>(7&d)},s.F.U=(e=Uint16Array,i=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var u=s.F.U,d=0;d<32768;d++){var h=d;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,u.rev15[d]=(h>>>16|h<<16)>>>17}function m(y,_,b){for(;_--!=0;)y.push(0,b)}for(d=0;d<32;d++)u.ldef[d]=u.of0[d]<<3|u.exb[d],u.ddef[d]=u.df0[d]<<4|u.dxb[d];m(u.fltree,144,8),m(u.fltree,112,9),m(u.fltree,24,7),m(u.fltree,8,8),s.F.makeCodes(u.fltree,9),s.F.codes2map(u.fltree,9,u.flmap),s.F.revCodes(u.fltree,9),m(u.fdtree,32,5),s.F.makeCodes(u.fdtree,5),s.F.codes2map(u.fdtree,5,u.fdmap),s.F.revCodes(u.fdtree,5),m(u.itree,19,0),m(u.ltree,286,0),m(u.dtree,30,0),m(u.ttree,320,0)})()})();var Bbt=Nbt({__proto__:null,default:hk},[hk]);const Vs=(function(){var t={nextZero(b,T){for(;b[T]!=0;)T++;return T},readUshort:(b,T)=>b[T]<<8|b[T+1],writeUshort(b,T,C){b[T]=C>>8&255,b[T+1]=255&C},readUint:(b,T)=>16777216*b[T]+(b[T+1]<<16|b[T+2]<<8|b[T+3]),writeUint(b,T,C){b[T]=C>>24&255,b[T+1]=C>>16&255,b[T+2]=C>>8&255,b[T+3]=255&C},readASCII(b,T,C){let A="";for(let D=0;D<C;D++)A+=String.fromCharCode(b[T+D]);return A},writeASCII(b,T,C){for(let A=0;A<C.length;A++)b[T+A]=C.charCodeAt(A)},readBytes(b,T,C){const A=[];for(let D=0;D<C;D++)A.push(b[T+D]);return A},pad:b=>b.length<2?`0${b}`:b,readUTF8(b,T,C){let A,D="";for(let L=0;L<C;L++)D+=`%${t.pad(b[T+L].toString(16))}`;try{A=decodeURIComponent(D)}catch{return t.readASCII(b,T,C)}return A}};function e(b,T,C,A){const D=T*C,L=d(A),z=Math.ceil(T*L/8),$=new Uint8Array(4*D),Q=new Uint32Array($.buffer),{ctype:B}=A,{depth:q}=A,Y=t.readUshort;if(B==6){const ge=D<<2;if(q==8)for(var G=0;G<ge;G+=4)$[G]=b[G],$[G+1]=b[G+1],$[G+2]=b[G+2],$[G+3]=b[G+3];if(q==16)for(G=0;G<ge;G++)$[G]=b[G<<1]}else if(B==2){const ge=A.tabs.tRNS;if(ge==null){if(q==8)for(G=0;G<D;G++){var H=3*G;Q[G]=255<<24|b[H+2]<<16|b[H+1]<<8|b[H]}if(q==16)for(G=0;G<D;G++)H=6*G,Q[G]=255<<24|b[H+4]<<16|b[H+2]<<8|b[H]}else{var V=ge[0];const ee=ge[1],be=ge[2];if(q==8)for(G=0;G<D;G++){var F=G<<2;H=3*G,Q[G]=255<<24|b[H+2]<<16|b[H+1]<<8|b[H],b[H]==V&&b[H+1]==ee&&b[H+2]==be&&($[F+3]=0)}if(q==16)for(G=0;G<D;G++)F=G<<2,H=6*G,Q[G]=255<<24|b[H+4]<<16|b[H+2]<<8|b[H],Y(b,H)==V&&Y(b,H+2)==ee&&Y(b,H+4)==be&&($[F+3]=0)}}else if(B==3){const ge=A.tabs.PLTE,ee=A.tabs.tRNS,be=ee?ee.length:0;if(q==1)for(var te=0;te<C;te++){var ae=te*z,oe=te*T;for(G=0;G<T;G++){F=oe+G<<2;var fe=3*(de=b[ae+(G>>3)]>>7-((7&G)<<0)&1);$[F]=ge[fe],$[F+1]=ge[fe+1],$[F+2]=ge[fe+2],$[F+3]=de<be?ee[de]:255}}if(q==2)for(te=0;te<C;te++)for(ae=te*z,oe=te*T,G=0;G<T;G++)F=oe+G<<2,fe=3*(de=b[ae+(G>>2)]>>6-((3&G)<<1)&3),$[F]=ge[fe],$[F+1]=ge[fe+1],$[F+2]=ge[fe+2],$[F+3]=de<be?ee[de]:255;if(q==4)for(te=0;te<C;te++)for(ae=te*z,oe=te*T,G=0;G<T;G++)F=oe+G<<2,fe=3*(de=b[ae+(G>>1)]>>4-((1&G)<<2)&15),$[F]=ge[fe],$[F+1]=ge[fe+1],$[F+2]=ge[fe+2],$[F+3]=de<be?ee[de]:255;if(q==8)for(G=0;G<D;G++){var de;F=G<<2,fe=3*(de=b[G]),$[F]=ge[fe],$[F+1]=ge[fe+1],$[F+2]=ge[fe+2],$[F+3]=de<be?ee[de]:255}}else if(B==4){if(q==8)for(G=0;G<D;G++){F=G<<2;var he=b[ue=G<<1];$[F]=he,$[F+1]=he,$[F+2]=he,$[F+3]=b[ue+1]}if(q==16)for(G=0;G<D;G++){var ue;F=G<<2,he=b[ue=G<<2],$[F]=he,$[F+1]=he,$[F+2]=he,$[F+3]=b[ue+2]}}else if(B==0)for(V=A.tabs.tRNS?A.tabs.tRNS:-1,te=0;te<C;te++){const ge=te*z,ee=te*T;if(q==1)for(var ne=0;ne<T;ne++){var me=(he=255*(b[ge+(ne>>>3)]>>>7-(7&ne)&1))==255*V?0:255;Q[ee+ne]=me<<24|he<<16|he<<8|he}else if(q==2)for(ne=0;ne<T;ne++)me=(he=85*(b[ge+(ne>>>2)]>>>6-((3&ne)<<1)&3))==85*V?0:255,Q[ee+ne]=me<<24|he<<16|he<<8|he;else if(q==4)for(ne=0;ne<T;ne++)me=(he=17*(b[ge+(ne>>>1)]>>>4-((1&ne)<<2)&15))==17*V?0:255,Q[ee+ne]=me<<24|he<<16|he<<8|he;else if(q==8)for(ne=0;ne<T;ne++)me=(he=b[ge+ne])==V?0:255,Q[ee+ne]=me<<24|he<<16|he<<8|he;else if(q==16)for(ne=0;ne<T;ne++)he=b[ge+(ne<<1)],me=Y(b,ge+(ne<<1))==V?0:255,Q[ee+ne]=me<<24|he<<16|he<<8|he}return $}function i(b,T,C,A){const D=d(b),L=Math.ceil(C*D/8),z=new Uint8Array((L+1+b.interlace)*A);return T=b.tabs.CgBI?u(T,z):s(T,z),b.interlace==0?T=h(T,b,0,C,A):b.interlace==1&&(T=(function(Q,B){const q=B.width,Y=B.height,G=d(B),H=G>>3,V=Math.ceil(q*G/8),F=new Uint8Array(Y*V);let te=0;const ae=[0,0,4,0,2,0,1],oe=[0,4,0,2,0,1,0],fe=[8,8,8,4,4,2,2],de=[8,8,4,4,2,2,1];let he=0;for(;he<7;){const ne=fe[he],me=de[he];let ge=0,ee=0,be=ae[he];for(;be<Y;)be+=ne,ee++;let Me=oe[he];for(;Me<q;)Me+=me,ge++;const se=Math.ceil(ge*G/8);h(Q,B,te,ge,ee);let Ae=0,we=ae[he];for(;we<Y;){let Le=oe[he],Z=te+Ae*se<<3;for(;Le<q;){var ue;if(G==1&&(ue=(ue=Q[Z>>3])>>7-(7&Z)&1,F[we*V+(Le>>3)]|=ue<<7-((7&Le)<<0)),G==2&&(ue=(ue=Q[Z>>3])>>6-(7&Z)&3,F[we*V+(Le>>2)]|=ue<<6-((3&Le)<<1)),G==4&&(ue=(ue=Q[Z>>3])>>4-(7&Z)&15,F[we*V+(Le>>1)]|=ue<<4-((1&Le)<<2)),G>=8){const ve=we*V+Le*H;for(let ze=0;ze<H;ze++)F[ve+ze]=Q[(Z>>3)+ze]}Z+=G,Le+=me}Ae++,we+=ne}ge*ee!=0&&(te+=ee*(1+se)),he+=1}return F})(T,b)),T}function s(b,T){return u(new Uint8Array(b.buffer,2,b.length-6),T)}var u=(function(){const b={H:{}};return b.H.N=function(T,C){const A=Uint8Array;let D,L,z=0,$=0,Q=0,B=0,q=0,Y=0,G=0,H=0,V=0;if(T[0]==3&&T[1]==0)return C||new A(0);const F=b.H,te=F.b,ae=F.e,oe=F.R,fe=F.n,de=F.A,he=F.Z,ue=F.m,ne=C==null;for(ne&&(C=new A(T.length>>>2<<5));z==0;)if(z=te(T,V,1),$=te(T,V+1,2),V+=3,$!=0){if(ne&&(C=b.H.W(C,H+(1<<17))),$==1&&(D=ue.J,L=ue.h,Y=511,G=31),$==2){Q=ae(T,V,5)+257,B=ae(T,V+5,5)+1,q=ae(T,V+10,4)+4,V+=14;let ge=1;for(var me=0;me<38;me+=2)ue.Q[me]=0,ue.Q[me+1]=0;for(me=0;me<q;me++){const Me=ae(T,V+3*me,3);ue.Q[1+(ue.X[me]<<1)]=Me,Me>ge&&(ge=Me)}V+=3*q,fe(ue.Q,ge),de(ue.Q,ge,ue.u),D=ue.w,L=ue.d,V=oe(ue.u,(1<<ge)-1,Q+B,T,V,ue.v);const ee=F.V(ue.v,0,Q,ue.C);Y=(1<<ee)-1;const be=F.V(ue.v,Q,B,ue.D);G=(1<<be)-1,fe(ue.C,ee),de(ue.C,ee,D),fe(ue.D,be),de(ue.D,be,L)}for(;;){const ge=D[he(T,V)&Y];V+=15&ge;const ee=ge>>>4;if(!(ee>>>8))C[H++]=ee;else{if(ee==256)break;{let be=H+ee-254;if(ee>264){const Le=ue.q[ee-257];be=H+(Le>>>3)+ae(T,V,7&Le),V+=7&Le}const Me=L[he(T,V)&G];V+=15&Me;const se=Me>>>4,Ae=ue.c[se],we=(Ae>>>4)+te(T,V,15&Ae);for(V+=15&Ae;H<be;)C[H]=C[H++-we],C[H]=C[H++-we],C[H]=C[H++-we],C[H]=C[H++-we];H=be}}}}else{(7&V)!=0&&(V+=8-(7&V));const ge=4+(V>>>3),ee=T[ge-4]|T[ge-3]<<8;ne&&(C=b.H.W(C,H+ee)),C.set(new A(T.buffer,T.byteOffset+ge,ee),H),V=ge+ee<<3,H+=ee}return C.length==H?C:C.slice(0,H)},b.H.W=function(T,C){const A=T.length;if(C<=A)return T;const D=new Uint8Array(A<<1);return D.set(T,0),D},b.H.R=function(T,C,A,D,L,z){const $=b.H.e,Q=b.H.Z;let B=0;for(;B<A;){const q=T[Q(D,L)&C];L+=15&q;const Y=q>>>4;if(Y<=15)z[B]=Y,B++;else{let G=0,H=0;Y==16?(H=3+$(D,L,2),L+=2,G=z[B-1]):Y==17?(H=3+$(D,L,3),L+=3):Y==18&&(H=11+$(D,L,7),L+=7);const V=B+H;for(;B<V;)z[B]=G,B++}}return L},b.H.V=function(T,C,A,D){let L=0,z=0;const $=D.length>>>1;for(;z<A;){const Q=T[z+C];D[z<<1]=0,D[1+(z<<1)]=Q,Q>L&&(L=Q),z++}for(;z<$;)D[z<<1]=0,D[1+(z<<1)]=0,z++;return L},b.H.n=function(T,C){const A=b.H.m,D=T.length;let L,z,$,Q;const B=A.j;for(var q=0;q<=C;q++)B[q]=0;for(q=1;q<D;q+=2)B[T[q]]++;const Y=A.K;for(L=0,B[0]=0,z=1;z<=C;z++)L=L+B[z-1]<<1,Y[z]=L;for($=0;$<D;$+=2)Q=T[$+1],Q!=0&&(T[$]=Y[Q],Y[Q]++)},b.H.A=function(T,C,A){const D=T.length,L=b.H.m.r;for(let z=0;z<D;z+=2)if(T[z+1]!=0){const $=z>>1,Q=T[z+1],B=$<<4|Q,q=C-Q;let Y=T[z]<<q;const G=Y+(1<<q);for(;Y!=G;)A[L[Y]>>>15-C]=B,Y++}},b.H.l=function(T,C){const A=b.H.m.r,D=15-C;for(let L=0;L<T.length;L+=2){const z=T[L]<<C-T[L+1];T[L]=A[z]>>>D}},b.H.M=function(T,C,A){A<<=7&C;const D=C>>>3;T[D]|=A,T[D+1]|=A>>>8},b.H.I=function(T,C,A){A<<=7&C;const D=C>>>3;T[D]|=A,T[D+1]|=A>>>8,T[D+2]|=A>>>16},b.H.e=function(T,C,A){return(T[C>>>3]|T[1+(C>>>3)]<<8)>>>(7&C)&(1<<A)-1},b.H.b=function(T,C,A){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16)>>>(7&C)&(1<<A)-1},b.H.Z=function(T,C){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16)>>>(7&C)},b.H.i=function(T,C){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16|T[3+(C>>>3)]<<24)>>>(7&C)},b.H.m=(function(){const T=Uint16Array,C=Uint32Array;return{K:new T(16),j:new T(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new T(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new C(32),J:new T(512),_:[],h:new T(32),$:[],w:new T(32768),C:[],v:[],d:new T(32768),D:[],u:new T(512),Q:[],r:new T(32768),s:new C(286),Y:new C(30),a:new C(19),t:new C(15e3),k:new T(65536),g:new T(32768)}})(),(function(){const T=b.H.m;for(var C=0;C<32768;C++){let D=C;D=(2863311530&D)>>>1|(1431655765&D)<<1,D=(3435973836&D)>>>2|(858993459&D)<<2,D=(4042322160&D)>>>4|(252645135&D)<<4,D=(4278255360&D)>>>8|(16711935&D)<<8,T.r[C]=(D>>>16|D<<16)>>>17}function A(D,L,z){for(;L--!=0;)D.push(0,z)}for(C=0;C<32;C++)T.q[C]=T.S[C]<<3|T.T[C],T.c[C]=T.p[C]<<4|T.z[C];A(T._,144,8),A(T._,112,9),A(T._,24,7),A(T._,8,8),b.H.n(T._,9),b.H.A(T._,9,T.J),b.H.l(T._,9),A(T.$,32,5),b.H.n(T.$,5),b.H.A(T.$,5,T.h),b.H.l(T.$,5),A(T.Q,19,0),A(T.C,286,0),A(T.D,30,0),A(T.v,320,0)})(),b.H.N})();function d(b){return[1,null,3,1,2,null,4][b.ctype]*b.depth}function h(b,T,C,A,D){let L=d(T);const z=Math.ceil(A*L/8);let $,Q;L=Math.ceil(L/8);let B=b[C],q=0;if(B>1&&(b[C]=[0,0,1][B-2]),B==3)for(q=L;q<z;q++)b[q+1]=b[q+1]+(b[q+1-L]>>>1)&255;for(let Y=0;Y<D;Y++)if($=C+Y*z,Q=$+Y+1,B=b[Q-1],q=0,B==0)for(;q<z;q++)b[$+q]=b[Q+q];else if(B==1){for(;q<L;q++)b[$+q]=b[Q+q];for(;q<z;q++)b[$+q]=b[Q+q]+b[$+q-L]}else if(B==2)for(;q<z;q++)b[$+q]=b[Q+q]+b[$+q-z];else if(B==3){for(;q<L;q++)b[$+q]=b[Q+q]+(b[$+q-z]>>>1);for(;q<z;q++)b[$+q]=b[Q+q]+(b[$+q-z]+b[$+q-L]>>>1)}else{for(;q<L;q++)b[$+q]=b[Q+q]+m(0,b[$+q-z],0);for(;q<z;q++)b[$+q]=b[Q+q]+m(b[$+q-L],b[$+q-z],b[$+q-L-z])}return b}function m(b,T,C){const A=b+T-C,D=A-b,L=A-T,z=A-C;return D*D<=L*L&&D*D<=z*z?b:L*L<=z*z?T:C}function y(b,T,C){C.width=t.readUint(b,T),T+=4,C.height=t.readUint(b,T),T+=4,C.depth=b[T],T++,C.ctype=b[T],T++,C.compress=b[T],T++,C.filter=b[T],T++,C.interlace=b[T],T++}function _(b,T,C,A,D,L,z,$,Q){const B=Math.min(T,D),q=Math.min(C,L);let Y=0,G=0;for(let he=0;he<q;he++)for(let ue=0;ue<B;ue++)if(z>=0&&$>=0?(Y=he*T+ue<<2,G=($+he)*D+z+ue<<2):(Y=(-$+he)*T-z+ue<<2,G=he*D+ue<<2),Q==0)A[G]=b[Y],A[G+1]=b[Y+1],A[G+2]=b[Y+2],A[G+3]=b[Y+3];else if(Q==1){var H=b[Y+3]*.00392156862745098,V=b[Y]*H,F=b[Y+1]*H,te=b[Y+2]*H,ae=A[G+3]*(1/255),oe=A[G]*ae,fe=A[G+1]*ae,de=A[G+2]*ae;const ne=1-H,me=H+ae*ne,ge=me==0?0:1/me;A[G+3]=255*me,A[G+0]=(V+oe*ne)*ge,A[G+1]=(F+fe*ne)*ge,A[G+2]=(te+de*ne)*ge}else if(Q==2)H=b[Y+3],V=b[Y],F=b[Y+1],te=b[Y+2],ae=A[G+3],oe=A[G],fe=A[G+1],de=A[G+2],H==ae&&V==oe&&F==fe&&te==de?(A[G]=0,A[G+1]=0,A[G+2]=0,A[G+3]=0):(A[G]=V,A[G+1]=F,A[G+2]=te,A[G+3]=H);else if(Q==3){if(H=b[Y+3],V=b[Y],F=b[Y+1],te=b[Y+2],ae=A[G+3],oe=A[G],fe=A[G+1],de=A[G+2],H==ae&&V==oe&&F==fe&&te==de)continue;if(H<220&&ae>20)return!1}return!0}return{decode:function(T){const C=new Uint8Array(T);let A=8;const D=t,L=D.readUshort,z=D.readUint,$={tabs:{},frames:[]},Q=new Uint8Array(C.length);let B,q=0,Y=0;const G=[137,80,78,71,13,10,26,10];for(var H=0;H<8;H++)if(C[H]!=G[H])throw"The input is not a PNG file!";for(;A<C.length;){const he=D.readUint(C,A);A+=4;const ue=D.readASCII(C,A,4);if(A+=4,ue=="IHDR")y(C,A,$);else if(ue=="iCCP"){for(var V=A;C[V]!=0;)V++;D.readASCII(C,A,V-A),C[V+1];const ne=C.slice(V+2,A+he);let me=null;try{me=s(ne)}catch{me=u(ne)}$.tabs[ue]=me}else if(ue=="CgBI")$.tabs[ue]=C.slice(A,A+4);else if(ue=="IDAT"){for(H=0;H<he;H++)Q[q+H]=C[A+H];q+=he}else if(ue=="acTL")$.tabs[ue]={num_frames:z(C,A),num_plays:z(C,A+4)},B=new Uint8Array(C.length);else if(ue=="fcTL"){Y!=0&&((de=$.frames[$.frames.length-1]).data=i($,B.slice(0,Y),de.rect.width,de.rect.height),Y=0);const ne={x:z(C,A+12),y:z(C,A+16),width:z(C,A+4),height:z(C,A+8)};let me=L(C,A+22);me=L(C,A+20)/(me==0?100:me);const ge={rect:ne,delay:Math.round(1e3*me),dispose:C[A+24],blend:C[A+25]};$.frames.push(ge)}else if(ue=="fdAT"){for(H=0;H<he-4;H++)B[Y+H]=C[A+H+4];Y+=he-4}else if(ue=="pHYs")$.tabs[ue]=[D.readUint(C,A),D.readUint(C,A+4),C[A+8]];else if(ue=="cHRM")for($.tabs[ue]=[],H=0;H<8;H++)$.tabs[ue].push(D.readUint(C,A+4*H));else if(ue=="tEXt"||ue=="zTXt"){$.tabs[ue]==null&&($.tabs[ue]={});var F=D.nextZero(C,A),te=D.readASCII(C,A,F-A),ae=A+he-F-1;if(ue=="tEXt")fe=D.readASCII(C,F+1,ae);else{var oe=s(C.slice(F+2,F+2+ae));fe=D.readUTF8(oe,0,oe.length)}$.tabs[ue][te]=fe}else if(ue=="iTXt"){$.tabs[ue]==null&&($.tabs[ue]={}),F=0,V=A,F=D.nextZero(C,V),te=D.readASCII(C,V,F-V);const ne=C[V=F+1];var fe;C[V+1],V+=2,F=D.nextZero(C,V),D.readASCII(C,V,F-V),V=F+1,F=D.nextZero(C,V),D.readUTF8(C,V,F-V),ae=he-((V=F+1)-A),ne==0?fe=D.readUTF8(C,V,ae):(oe=s(C.slice(V,V+ae)),fe=D.readUTF8(oe,0,oe.length)),$.tabs[ue][te]=fe}else if(ue=="PLTE")$.tabs[ue]=D.readBytes(C,A,he);else if(ue=="hIST"){const ne=$.tabs.PLTE.length/3;for($.tabs[ue]=[],H=0;H<ne;H++)$.tabs[ue].push(L(C,A+2*H))}else if(ue=="tRNS")$.ctype==3?$.tabs[ue]=D.readBytes(C,A,he):$.ctype==0?$.tabs[ue]=L(C,A):$.ctype==2&&($.tabs[ue]=[L(C,A),L(C,A+2),L(C,A+4)]);else if(ue=="gAMA")$.tabs[ue]=D.readUint(C,A)/1e5;else if(ue=="sRGB")$.tabs[ue]=C[A];else if(ue=="bKGD")$.ctype==0||$.ctype==4?$.tabs[ue]=[L(C,A)]:$.ctype==2||$.ctype==6?$.tabs[ue]=[L(C,A),L(C,A+2),L(C,A+4)]:$.ctype==3&&($.tabs[ue]=C[A]);else if(ue=="IEND")break;A+=he,D.readUint(C,A),A+=4}var de;return Y!=0&&((de=$.frames[$.frames.length-1]).data=i($,B.slice(0,Y),de.rect.width,de.rect.height)),$.data=i($,Q,$.width,$.height),delete $.compress,delete $.interlace,delete $.filter,$},toRGBA8:function(T){const C=T.width,A=T.height;if(T.tabs.acTL==null)return[e(T.data,C,A,T).buffer];const D=[];T.frames[0].data==null&&(T.frames[0].data=T.data);const L=C*A*4,z=new Uint8Array(L),$=new Uint8Array(L),Q=new Uint8Array(L);for(let q=0;q<T.frames.length;q++){const Y=T.frames[q],G=Y.rect.x,H=Y.rect.y,V=Y.rect.width,F=Y.rect.height,te=e(Y.data,V,F,T);if(q!=0)for(var B=0;B<L;B++)Q[B]=z[B];if(Y.blend==0?_(te,V,F,z,C,A,G,H,0):Y.blend==1&&_(te,V,F,z,C,A,G,H,1),D.push(z.buffer.slice(0)),Y.dispose!=0){if(Y.dispose==1)_($,V,F,z,C,A,G,H,0);else if(Y.dispose==2)for(B=0;B<L;B++)z[B]=Q[B]}}return D},_paeth:m,_copyTile:_,_bin:t}})();(function(){const{_copyTile:t}=Vs,{_bin:e}=Vs,i=Vs._paeth;var s={table:(function(){const V=new Uint32Array(256);for(let F=0;F<256;F++){let te=F;for(let ae=0;ae<8;ae++)1&te?te=3988292384^te>>>1:te>>>=1;V[F]=te}return V})(),update(V,F,te,ae){for(let oe=0;oe<ae;oe++)V=s.table[255&(V^F[te+oe])]^V>>>8;return V},crc:(V,F,te)=>4294967295^s.update(4294967295,V,F,te)};function u(V,F,te,ae){F[te]+=V[0]*ae>>4,F[te+1]+=V[1]*ae>>4,F[te+2]+=V[2]*ae>>4,F[te+3]+=V[3]*ae>>4}function d(V){return Math.max(0,Math.min(255,V))}function h(V,F){const te=V[0]-F[0],ae=V[1]-F[1],oe=V[2]-F[2],fe=V[3]-F[3];return te*te+ae*ae+oe*oe+fe*fe}function m(V,F,te,ae,oe,fe,de){de==null&&(de=1);const he=ae.length,ue=[];for(var ne=0;ne<he;ne++){const we=ae[ne];ue.push([we>>>0&255,we>>>8&255,we>>>16&255,we>>>24&255])}for(ne=0;ne<he;ne++){let we=4294967295;for(var me=0,ge=0;ge<he;ge++){var ee=h(ue[ne],ue[ge]);ge!=ne&&ee<we&&(we=ee,me=ge)}}const be=new Uint32Array(oe.buffer),Me=new Int16Array(F*te*4),se=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(ne=0;ne<se.length;ne++)se[ne]=255*((se[ne]+.5)/16-.5);for(let we=0;we<te;we++)for(let Le=0;Le<F;Le++){var Ae;ne=4*(we*F+Le),de!=2?Ae=[d(V[ne]+Me[ne]),d(V[ne+1]+Me[ne+1]),d(V[ne+2]+Me[ne+2]),d(V[ne+3]+Me[ne+3])]:(ee=se[4*(3&we)+(3&Le)],Ae=[d(V[ne]+ee),d(V[ne+1]+ee),d(V[ne+2]+ee),d(V[ne+3]+ee)]),me=0;let Z=16777215;for(ge=0;ge<he;ge++){const Qe=h(Ae,ue[ge]);Qe<Z&&(Z=Qe,me=ge)}const ve=ue[me],ze=[Ae[0]-ve[0],Ae[1]-ve[1],Ae[2]-ve[2],Ae[3]-ve[3]];de==1&&(Le!=F-1&&u(ze,Me,ne+4,7),we!=te-1&&(Le!=0&&u(ze,Me,ne+4*F-4,3),u(ze,Me,ne+4*F,5),Le!=F-1&&u(ze,Me,ne+4*F+4,1))),fe[ne>>2]=me,be[ne>>2]=ae[me]}}function y(V,F,te,ae,oe){oe==null&&(oe={});const{crc:fe}=s,de=e.writeUint,he=e.writeUshort,ue=e.writeASCII;let ne=8;const me=V.frames.length>1;let ge,ee=!1,be=33+(me?20:0);if(oe.sRGB!=null&&(be+=13),oe.pHYs!=null&&(be+=21),oe.iCCP!=null&&(ge=pako.deflate(oe.iCCP),be+=21+ge.length+4),V.ctype==3){for(var Me=V.plte.length,se=0;se<Me;se++)V.plte[se]>>>24!=255&&(ee=!0);be+=8+3*Me+4+(ee?8+1*Me+4:0)}for(var Ae=0;Ae<V.frames.length;Ae++)me&&(be+=38),be+=(ve=V.frames[Ae]).cimg.length+12,Ae!=0&&(be+=4);be+=12;const we=new Uint8Array(be),Le=[137,80,78,71,13,10,26,10];for(se=0;se<8;se++)we[se]=Le[se];if(de(we,ne,13),ne+=4,ue(we,ne,"IHDR"),ne+=4,de(we,ne,F),ne+=4,de(we,ne,te),ne+=4,we[ne]=V.depth,ne++,we[ne]=V.ctype,ne++,we[ne]=0,ne++,we[ne]=0,ne++,we[ne]=0,ne++,de(we,ne,fe(we,ne-17,17)),ne+=4,oe.sRGB!=null&&(de(we,ne,1),ne+=4,ue(we,ne,"sRGB"),ne+=4,we[ne]=oe.sRGB,ne++,de(we,ne,fe(we,ne-5,5)),ne+=4),oe.iCCP!=null){const ze=13+ge.length;de(we,ne,ze),ne+=4,ue(we,ne,"iCCP"),ne+=4,ue(we,ne,"ICC profile"),ne+=11,ne+=2,we.set(ge,ne),ne+=ge.length,de(we,ne,fe(we,ne-(ze+4),ze+4)),ne+=4}if(oe.pHYs!=null&&(de(we,ne,9),ne+=4,ue(we,ne,"pHYs"),ne+=4,de(we,ne,oe.pHYs[0]),ne+=4,de(we,ne,oe.pHYs[1]),ne+=4,we[ne]=oe.pHYs[2],ne++,de(we,ne,fe(we,ne-13,13)),ne+=4),me&&(de(we,ne,8),ne+=4,ue(we,ne,"acTL"),ne+=4,de(we,ne,V.frames.length),ne+=4,de(we,ne,oe.loop!=null?oe.loop:0),ne+=4,de(we,ne,fe(we,ne-12,12)),ne+=4),V.ctype==3){for(de(we,ne,3*(Me=V.plte.length)),ne+=4,ue(we,ne,"PLTE"),ne+=4,se=0;se<Me;se++){const ze=3*se,Qe=V.plte[se],et=255&Qe,He=Qe>>>8&255,yt=Qe>>>16&255;we[ne+ze+0]=et,we[ne+ze+1]=He,we[ne+ze+2]=yt}if(ne+=3*Me,de(we,ne,fe(we,ne-3*Me-4,3*Me+4)),ne+=4,ee){for(de(we,ne,Me),ne+=4,ue(we,ne,"tRNS"),ne+=4,se=0;se<Me;se++)we[ne+se]=V.plte[se]>>>24&255;ne+=Me,de(we,ne,fe(we,ne-Me-4,Me+4)),ne+=4}}let Z=0;for(Ae=0;Ae<V.frames.length;Ae++){var ve=V.frames[Ae];me&&(de(we,ne,26),ne+=4,ue(we,ne,"fcTL"),ne+=4,de(we,ne,Z++),ne+=4,de(we,ne,ve.rect.width),ne+=4,de(we,ne,ve.rect.height),ne+=4,de(we,ne,ve.rect.x),ne+=4,de(we,ne,ve.rect.y),ne+=4,he(we,ne,ae[Ae]),ne+=2,he(we,ne,1e3),ne+=2,we[ne]=ve.dispose,ne++,we[ne]=ve.blend,ne++,de(we,ne,fe(we,ne-30,30)),ne+=4);const ze=ve.cimg;de(we,ne,(Me=ze.length)+(Ae==0?0:4)),ne+=4;const Qe=ne;ue(we,ne,Ae==0?"IDAT":"fdAT"),ne+=4,Ae!=0&&(de(we,ne,Z++),ne+=4),we.set(ze,ne),ne+=Me,de(we,ne,fe(we,Qe,ne-Qe)),ne+=4}return de(we,ne,0),ne+=4,ue(we,ne,"IEND"),ne+=4,de(we,ne,fe(we,ne-4,4)),ne+=4,we.buffer}function _(V,F,te){for(let ae=0;ae<V.frames.length;ae++){const oe=V.frames[ae];oe.rect.width;const fe=oe.rect.height,de=new Uint8Array(fe*oe.bpl+fe);oe.cimg=A(oe.img,fe,oe.bpp,oe.bpl,de,F,te)}}function b(V,F,te,ae,oe){const fe=oe[0],de=oe[1],he=oe[2],ue=oe[3],ne=oe[4],me=oe[5];let ge=6,ee=8,be=255;for(var Me=0;Me<V.length;Me++){const ke=new Uint8Array(V[Me]);for(var se=ke.length,Ae=0;Ae<se;Ae+=4)be&=ke[Ae+3]}const we=be!=255,Le=(function(Ge,De,Pt,dt,Ze,nn){const ut=[];for(var st=0;st<Ge.length;st++){const $e=new Uint8Array(Ge[st]),zt=new Uint32Array($e.buffer);var Ve;let Ut=0,gn=0,Ke=De,An=Pt,ln=dt?1:0;if(st!=0){const Cr=nn||dt||st==1||ut[st-2].dispose!=0?1:2;let bn=0,It=1e9;for(let fn=0;fn<Cr;fn++){var Ce=new Uint8Array(Ge[st-1-fn]);const $n=new Uint32Array(Ge[st-1-fn]);let rn=De,Xe=Pt,Xn=-1,zn=-1;for(let Je=0;Je<Pt;Je++)for(let an=0;an<De;an++)zt[qe=Je*De+an]!=$n[qe]&&(an<rn&&(rn=an),an>Xn&&(Xn=an),Je<Xe&&(Xe=Je),Je>zn&&(zn=Je));Xn==-1&&(rn=Xe=Xn=zn=0),Ze&&((1&rn)==1&&rn--,(1&Xe)==1&&Xe--);const Dr=(Xn-rn+1)*(zn-Xe+1);Dr<It&&(It=Dr,bn=fn,Ut=rn,gn=Xe,Ke=Xn-rn+1,An=zn-Xe+1)}Ce=new Uint8Array(Ge[st-1-bn]),bn==1&&(ut[st-1].dispose=2),Ve=new Uint8Array(Ke*An*4),t(Ce,De,Pt,Ve,Ke,An,-Ut,-gn,0),ln=t($e,De,Pt,Ve,Ke,An,-Ut,-gn,3)?1:0,ln==1?C($e,De,Pt,Ve,{x:Ut,y:gn,width:Ke,height:An}):t($e,De,Pt,Ve,Ke,An,-Ut,-gn,0)}else Ve=$e.slice(0);ut.push({rect:{x:Ut,y:gn,width:Ke,height:An},img:Ve,blend:ln,dispose:0})}if(dt)for(st=0;st<ut.length;st++){if((tt=ut[st]).blend==1)continue;const $e=tt.rect,zt=ut[st-1].rect,Ut=Math.min($e.x,zt.x),gn=Math.min($e.y,zt.y),Ke={x:Ut,y:gn,width:Math.max($e.x+$e.width,zt.x+zt.width)-Ut,height:Math.max($e.y+$e.height,zt.y+zt.height)-gn};ut[st-1].dispose=1,st-1!=0&&T(Ge,De,Pt,ut,st-1,Ke,Ze),T(Ge,De,Pt,ut,st,Ke,Ze)}let je=0;if(Ge.length!=1)for(var qe=0;qe<ut.length;qe++){var tt;je+=(tt=ut[qe]).rect.width*tt.rect.height}return ut})(V,F,te,fe,de,he),Z={},ve=[],ze=[];if(ae!=0){const ke=[];for(Ae=0;Ae<Le.length;Ae++)ke.push(Le[Ae].img.buffer);const Ge=(function(Ze){let nn=0;for(var ut=0;ut<Ze.length;ut++)nn+=Ze[ut].byteLength;const st=new Uint8Array(nn);let Ve=0;for(ut=0;ut<Ze.length;ut++){const Ce=new Uint8Array(Ze[ut]),je=Ce.length;for(let qe=0;qe<je;qe+=4){let tt=Ce[qe],$e=Ce[qe+1],zt=Ce[qe+2];const Ut=Ce[qe+3];Ut==0&&(tt=$e=zt=0),st[Ve+qe]=tt,st[Ve+qe+1]=$e,st[Ve+qe+2]=zt,st[Ve+qe+3]=Ut}Ve+=je}return st.buffer})(ke),De=L(Ge,ae);for(Ae=0;Ae<De.plte.length;Ae++)ve.push(De.plte[Ae].est.rgba);let Pt=0;for(Ae=0;Ae<Le.length;Ae++){const dt=(et=Le[Ae]).img.length;var Qe=new Uint8Array(De.inds.buffer,Pt>>2,dt>>2);ze.push(Qe);const Ze=new Uint8Array(De.abuf,Pt,dt);me&&m(et.img,et.rect.width,et.rect.height,ve,Ze,Qe),et.img.set(Ze),Pt+=dt}}else for(Me=0;Me<Le.length;Me++){var et=Le[Me];const ke=new Uint32Array(et.img.buffer);var He=et.rect.width;for(se=ke.length,Qe=new Uint8Array(se),ze.push(Qe),Ae=0;Ae<se;Ae++){const Ge=ke[Ae];if(Ae!=0&&Ge==ke[Ae-1])Qe[Ae]=Qe[Ae-1];else if(Ae>He&&Ge==ke[Ae-He])Qe[Ae]=Qe[Ae-He];else{let De=Z[Ge];if(De==null&&(Z[Ge]=De=ve.length,ve.push(Ge),ve.length>=300))break;Qe[Ae]=De}}}const yt=ve.length;for(yt<=256&&ne==0&&(ee=yt<=2?1:yt<=4?2:yt<=16?4:8,ee=Math.max(ee,ue)),Me=0;Me<Le.length;Me++){(et=Le[Me]).rect.x,et.rect.y,He=et.rect.width;const ke=et.rect.height;let Ge=et.img;new Uint32Array(Ge.buffer);let De=4*He,Pt=4;if(yt<=256&&ne==0){De=Math.ceil(ee*He/8);var Ee=new Uint8Array(De*ke);const dt=ze[Me];for(let Ze=0;Ze<ke;Ze++){Ae=Ze*De;const nn=Ze*He;if(ee==8)for(var Ue=0;Ue<He;Ue++)Ee[Ae+Ue]=dt[nn+Ue];else if(ee==4)for(Ue=0;Ue<He;Ue++)Ee[Ae+(Ue>>1)]|=dt[nn+Ue]<<4-4*(1&Ue);else if(ee==2)for(Ue=0;Ue<He;Ue++)Ee[Ae+(Ue>>2)]|=dt[nn+Ue]<<6-2*(3&Ue);else if(ee==1)for(Ue=0;Ue<He;Ue++)Ee[Ae+(Ue>>3)]|=dt[nn+Ue]<<7-1*(7&Ue)}Ge=Ee,ge=3,Pt=1}else if(we==0&&Le.length==1){Ee=new Uint8Array(He*ke*3);const dt=He*ke;for(Ae=0;Ae<dt;Ae++){const Ze=3*Ae,nn=4*Ae;Ee[Ze]=Ge[nn],Ee[Ze+1]=Ge[nn+1],Ee[Ze+2]=Ge[nn+2]}Ge=Ee,ge=2,Pt=3,De=3*He}et.img=Ge,et.bpl=De,et.bpp=Pt}return{ctype:ge,depth:ee,plte:ve,frames:Le}}function T(V,F,te,ae,oe,fe,de){const he=Uint8Array,ue=Uint32Array,ne=new he(V[oe-1]),me=new ue(V[oe-1]),ge=oe+1<V.length?new he(V[oe+1]):null,ee=new he(V[oe]),be=new ue(ee.buffer);let Me=F,se=te,Ae=-1,we=-1;for(let Z=0;Z<fe.height;Z++)for(let ve=0;ve<fe.width;ve++){const ze=fe.x+ve,Qe=fe.y+Z,et=Qe*F+ze,He=be[et];He==0||ae[oe-1].dispose==0&&me[et]==He&&(ge==null||ge[4*et+3]!=0)||(ze<Me&&(Me=ze),ze>Ae&&(Ae=ze),Qe<se&&(se=Qe),Qe>we&&(we=Qe))}Ae==-1&&(Me=se=Ae=we=0),de&&((1&Me)==1&&Me--,(1&se)==1&&se--),fe={x:Me,y:se,width:Ae-Me+1,height:we-se+1};const Le=ae[oe];Le.rect=fe,Le.blend=1,Le.img=new Uint8Array(fe.width*fe.height*4),ae[oe-1].dispose==0?(t(ne,F,te,Le.img,fe.width,fe.height,-fe.x,-fe.y,0),C(ee,F,te,Le.img,fe)):t(ee,F,te,Le.img,fe.width,fe.height,-fe.x,-fe.y,0)}function C(V,F,te,ae,oe){t(V,F,te,ae,oe.width,oe.height,-oe.x,-oe.y,2)}function A(V,F,te,ae,oe,fe,de){const he=[];let ue,ne=[0,1,2,3,4];fe!=-1?ne=[fe]:(F*ae>5e5||te==1)&&(ne=[0]),de&&(ue={level:0});const me=Bbt;for(var ge=0;ge<ne.length;ge++){for(let Me=0;Me<F;Me++)D(oe,V,Me,ae,te,ne[ge]);he.push(me.deflate(oe,ue))}let ee,be=1e9;for(ge=0;ge<he.length;ge++)he[ge].length<be&&(ee=ge,be=he[ge].length);return he[ee]}function D(V,F,te,ae,oe,fe){const de=te*ae;let he=de+te;if(V[he]=fe,he++,fe==0)if(ae<500)for(var ue=0;ue<ae;ue++)V[he+ue]=F[de+ue];else V.set(new Uint8Array(F.buffer,de,ae),he);else if(fe==1){for(ue=0;ue<oe;ue++)V[he+ue]=F[de+ue];for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue]-F[de+ue-oe]+256&255}else if(te==0){for(ue=0;ue<oe;ue++)V[he+ue]=F[de+ue];if(fe==2)for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue];if(fe==3)for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue]-(F[de+ue-oe]>>1)+256&255;if(fe==4)for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue]-i(F[de+ue-oe],0,0)+256&255}else{if(fe==2)for(ue=0;ue<ae;ue++)V[he+ue]=F[de+ue]+256-F[de+ue-ae]&255;if(fe==3){for(ue=0;ue<oe;ue++)V[he+ue]=F[de+ue]+256-(F[de+ue-ae]>>1)&255;for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue]+256-(F[de+ue-ae]+F[de+ue-oe]>>1)&255}if(fe==4){for(ue=0;ue<oe;ue++)V[he+ue]=F[de+ue]+256-i(0,F[de+ue-ae],0)&255;for(ue=oe;ue<ae;ue++)V[he+ue]=F[de+ue]+256-i(F[de+ue-oe],F[de+ue-ae],F[de+ue-oe-ae])&255}}}function L(V,F){const te=new Uint8Array(V),ae=te.slice(0),oe=new Uint32Array(ae.buffer),fe=z(ae,F),de=fe[0],he=fe[1],ue=te.length,ne=new Uint8Array(ue>>2);let me;if(te.length<2e7)for(var ge=0;ge<ue;ge+=4)me=$(de,ee=te[ge]*(1/255),be=te[ge+1]*(1/255),Me=te[ge+2]*(1/255),se=te[ge+3]*(1/255)),ne[ge>>2]=me.ind,oe[ge>>2]=me.est.rgba;else for(ge=0;ge<ue;ge+=4){var ee=te[ge]*.00392156862745098,be=te[ge+1]*(1/255),Me=te[ge+2]*(1/255),se=te[ge+3]*(1/255);for(me=de;me.left;)me=Q(me.est,ee,be,Me,se)<=0?me.left:me.right;ne[ge>>2]=me.ind,oe[ge>>2]=me.est.rgba}return{abuf:ae.buffer,inds:ne,plte:he}}function z(V,F,te){te==null&&(te=1e-4);const ae=new Uint32Array(V.buffer),oe={i0:0,i1:V.length,bst:null,est:null,tdst:0,left:null,right:null};oe.bst=Y(V,oe.i0,oe.i1),oe.est=G(oe.bst);const fe=[oe];for(;fe.length<F;){let he=0,ue=0;for(var de=0;de<fe.length;de++)fe[de].est.L>he&&(he=fe[de].est.L,ue=de);if(he<te)break;const ne=fe[ue],me=B(V,ae,ne.i0,ne.i1,ne.est.e,ne.est.eMq255);if(ne.i0>=me||ne.i1<=me){ne.est.L=0;continue}const ge={i0:ne.i0,i1:me,bst:null,est:null,tdst:0,left:null,right:null};ge.bst=Y(V,ge.i0,ge.i1),ge.est=G(ge.bst);const ee={i0:me,i1:ne.i1,bst:null,est:null,tdst:0,left:null,right:null};for(ee.bst={R:[],m:[],N:ne.bst.N-ge.bst.N},de=0;de<16;de++)ee.bst.R[de]=ne.bst.R[de]-ge.bst.R[de];for(de=0;de<4;de++)ee.bst.m[de]=ne.bst.m[de]-ge.bst.m[de];ee.est=G(ee.bst),ne.left=ge,ne.right=ee,fe[ue]=ge,fe.push(ee)}for(fe.sort(((he,ue)=>ue.bst.N-he.bst.N)),de=0;de<fe.length;de++)fe[de].ind=de;return[oe,fe]}function $(V,F,te,ae,oe){if(V.left==null)return V.tdst=(function(ge,ee,be,Me,se){const Ae=ee-ge[0],we=be-ge[1],Le=Me-ge[2],Z=se-ge[3];return Ae*Ae+we*we+Le*Le+Z*Z})(V.est.q,F,te,ae,oe),V;const fe=Q(V.est,F,te,ae,oe);let de=V.left,he=V.right;fe>0&&(de=V.right,he=V.left);const ue=$(de,F,te,ae,oe);if(ue.tdst<=fe*fe)return ue;const ne=$(he,F,te,ae,oe);return ne.tdst<ue.tdst?ne:ue}function Q(V,F,te,ae,oe){const{e:fe}=V;return fe[0]*F+fe[1]*te+fe[2]*ae+fe[3]*oe-V.eMq}function B(V,F,te,ae,oe,fe){for(ae-=4;te<ae;){for(;q(V,te,oe)<=fe;)te+=4;for(;q(V,ae,oe)>fe;)ae-=4;if(te>=ae)break;const de=F[te>>2];F[te>>2]=F[ae>>2],F[ae>>2]=de,te+=4,ae-=4}for(;q(V,te,oe)>fe;)te-=4;return te+4}function q(V,F,te){return V[F]*te[0]+V[F+1]*te[1]+V[F+2]*te[2]+V[F+3]*te[3]}function Y(V,F,te){const ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=[0,0,0,0],fe=te-F>>2;for(let de=F;de<te;de+=4){const he=V[de]*.00392156862745098,ue=V[de+1]*(1/255),ne=V[de+2]*(1/255),me=V[de+3]*(1/255);oe[0]+=he,oe[1]+=ue,oe[2]+=ne,oe[3]+=me,ae[0]+=he*he,ae[1]+=he*ue,ae[2]+=he*ne,ae[3]+=he*me,ae[5]+=ue*ue,ae[6]+=ue*ne,ae[7]+=ue*me,ae[10]+=ne*ne,ae[11]+=ne*me,ae[15]+=me*me}return ae[4]=ae[1],ae[8]=ae[2],ae[9]=ae[6],ae[12]=ae[3],ae[13]=ae[7],ae[14]=ae[11],{R:ae,m:oe,N:fe}}function G(V){const{R:F}=V,{m:te}=V,{N:ae}=V,oe=te[0],fe=te[1],de=te[2],he=te[3],ue=ae==0?0:1/ae,ne=[F[0]-oe*oe*ue,F[1]-oe*fe*ue,F[2]-oe*de*ue,F[3]-oe*he*ue,F[4]-fe*oe*ue,F[5]-fe*fe*ue,F[6]-fe*de*ue,F[7]-fe*he*ue,F[8]-de*oe*ue,F[9]-de*fe*ue,F[10]-de*de*ue,F[11]-de*he*ue,F[12]-he*oe*ue,F[13]-he*fe*ue,F[14]-he*de*ue,F[15]-he*he*ue],me=ne,ge=H;let ee=[Math.random(),Math.random(),Math.random(),Math.random()],be=0,Me=0;if(ae!=0)for(let Ae=0;Ae<16&&(ee=ge.multVec(me,ee),Me=Math.sqrt(ge.dot(ee,ee)),ee=ge.sml(1/Me,ee),!(Ae!=0&&Math.abs(Me-be)<1e-9));Ae++)be=Me;const se=[oe*ue,fe*ue,de*ue,he*ue];return{Cov:ne,q:se,e:ee,L:be,eMq255:ge.dot(ge.sml(255,se),ee),eMq:ge.dot(ee,se),rgba:(Math.round(255*se[3])<<24|Math.round(255*se[2])<<16|Math.round(255*se[1])<<8|Math.round(255*se[0])<<0)>>>0}}var H={multVec:(V,F)=>[V[0]*F[0]+V[1]*F[1]+V[2]*F[2]+V[3]*F[3],V[4]*F[0]+V[5]*F[1]+V[6]*F[2]+V[7]*F[3],V[8]*F[0]+V[9]*F[1]+V[10]*F[2]+V[11]*F[3],V[12]*F[0]+V[13]*F[1]+V[14]*F[2]+V[15]*F[3]],dot:(V,F)=>V[0]*F[0]+V[1]*F[1]+V[2]*F[2]+V[3]*F[3],sml:(V,F)=>[V*F[0],V*F[1],V*F[2],V*F[3]]};Vs.encode=function(F,te,ae,oe,fe,de,he){oe==null&&(oe=0),he==null&&(he=!1);const ue=b(F,te,ae,oe,[!1,!1,!1,0,he,!1]);return _(ue,-1),y(ue,te,ae,fe,de)},Vs.encodeLL=function(F,te,ae,oe,fe,de,he,ue){const ne={ctype:0+(oe==1?0:2)+(fe==0?0:4),depth:de,frames:[]},me=(oe+fe)*de,ge=me*te;for(let ee=0;ee<F.length;ee++)ne.frames.push({rect:{x:0,y:0,width:te,height:ae},img:new Uint8Array(F[ee]),blend:0,dispose:1,bpp:Math.ceil(me/8),bpl:Math.ceil(ge/8)});return _(ne,0,!0),y(ne,te,ae,he,ue)},Vs.encode.compress=b,Vs.encode.dither=m,Vs.quantize=L,Vs.quantize.getKDtree=z,Vs.quantize.getNearest=$})();const W1e={toArrayBuffer(t,e){const i=t.width,s=t.height,u=i<<2,d=t.getContext("2d").getImageData(0,0,i,s),h=new Uint32Array(d.data.buffer),m=(32*i+31)/32<<2,y=m*s,_=122+y,b=new ArrayBuffer(_),T=new DataView(b),C=1<<20;let A,D,L,z,$=C,Q=0,B=0,q=0;function Y(V){T.setUint16(B,V,!0),B+=2}function G(V){T.setUint32(B,V,!0),B+=4}function H(V){B+=V}Y(19778),G(_),H(4),G(122),G(108),G(i),G(-s>>>0),Y(1),Y(32),G(3),G(y),G(2835),G(2835),H(8),G(16711680),G(65280),G(255),G(4278190080),G(1466527264),(function V(){for(;Q<s&&$>0;){for(z=122+Q*m,A=0;A<u;)$--,D=h[q++],L=D>>>24,T.setUint32(z+A,D<<8|L),A+=4;Q++}q<h.length?($=C,setTimeout(V,W1e._dly)):e(b)})()},toBlob(t,e){this.toArrayBuffer(t,(i=>{e(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var Xa={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Qbt={[Xa.CHROME]:16384,[Xa.FIREFOX]:11180,[Xa.DESKTOP_SAFARI]:16384,[Xa.IE]:8192,[Xa.IOS]:4096,[Xa.ETC]:8192};const OV=typeof window<"u",U1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,pk=OV&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),jbt=(OV||U1e)&&(pk&&pk.getOriginalSymbol(window,"File")||typeof File<"u"&&File),q1e=(OV||U1e)&&(pk&&pk.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function bV(t,e,i=Date.now()){return new Promise((s=>{const u=t.split(","),d=u[0].match(/:(.*?);/)[1],h=globalThis.atob(u[1]);let m=h.length;const y=new Uint8Array(m);for(;m--;)y[m]=h.charCodeAt(m);const _=new Blob([y],{type:d});_.name=e,_.lastModified=i,s(_)}))}function Z1e(t){return new Promise(((e,i)=>{const s=new q1e;s.onload=()=>e(s.result),s.onerror=u=>i(u),s.readAsDataURL(t)}))}function H1e(t){return new Promise(((e,i)=>{const s=new Image;s.onload=()=>e(s),s.onerror=u=>i(u),s.src=t}))}function Hh(){if(Hh.cachedResult!==void 0)return Hh.cachedResult;let t=Xa.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Xa.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Xa.IOS:/Safari/i.test(e)?t=Xa.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Xa.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Xa.IE),Hh.cachedResult=t,Hh.cachedResult}function X1e(t,e){const i=Hh(),s=Qbt[i];let u=t,d=e,h=u*d;const m=u>d?d/u:u/d;for(;h>s*s;){const y=(s+u)/2,_=(s+d)/2;y<_?(d=_,u=_*m):(d=y*m,u=y),h=u*d}return{width:u,height:d}}function rP(t,e){let i,s;try{if(i=new OffscreenCanvas(t,e),s=i.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),s=i.getContext("2d")}return i.width=t,i.height=e,[i,s]}function Y1e(t,e){const{width:i,height:s}=X1e(t.width,t.height),[u,d]=rP(i,s);return e&&/jpe?g/.test(e)&&(d.fillStyle="white",d.fillRect(0,0,u.width,u.height)),d.drawImage(t,0,0,u.width,u.height),u}function MT(){return MT.cachedResult!==void 0||(MT.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),MT.cachedResult}function mk(t,e={}){return new Promise((function(i,s){let u,d;var h=function(){try{return d=Y1e(u,e.fileType||t.type),i([u,d])}catch(y){return s(y)}},m=function(y){try{var _=function(b){try{throw b}catch(T){return s(T)}};try{let b;return Z1e(t).then((function(T){try{return b=T,H1e(b).then((function(C){try{return u=C,(function(){try{return h()}catch(A){return s(A)}})()}catch(A){return _(A)}}),_)}catch(C){return _(C)}}),_)}catch(b){_(b)}}catch(b){return s(b)}};try{if(MT()||[Xa.DESKTOP_SAFARI,Xa.MOBILE_SAFARI].includes(Hh()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(y){try{return u=y,h()}catch{return m()}}),m)}catch{m()}}))}function gk(t,e,i,s,u=1){return new Promise((function(d,h){let m;if(e==="image/png"){let _,b,T;return _=t.getContext("2d"),{data:b}=_.getImageData(0,0,t.width,t.height),T=Vs.encode([b.buffer],t.width,t.height,4096*u),m=new Blob([T],{type:e}),m.name=i,m.lastModified=s,y.call(this)}{let _=function(){return y.call(this)};if(e==="image/bmp")return new Promise((b=>W1e.toBlob(t,b))).then((function(b){try{return m=b,m.name=i,m.lastModified=s,_.call(this)}catch(T){return h(T)}}).bind(this),h);{let b=function(){return _.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:u}).then((function(T){try{return m=T,m.name=i,m.lastModified=s,b.call(this)}catch(C){return h(C)}}).bind(this),h);{let T;return T=t.toDataURL(e,u),bV(T,i,s).then((function(C){try{return m=C,b.call(this)}catch(A){return h(A)}}).bind(this),h)}}}function y(){return d(m)}}))}function Hl(t){t.width=0,t.height=0}function zg(){return new Promise((function(t,e){let i,s,u,d;return zg.cachedResult!==void 0?t(zg.cachedResult):bV("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(h){try{return i=h,mk(i).then((function(m){try{return s=m[1],gk(s,i.type,i.name,i.lastModified).then((function(y){try{return u=y,Hl(s),mk(u).then((function(_){try{return d=_[0],zg.cachedResult=d.width===1&&d.height===2,t(zg.cachedResult)}catch(b){return e(b)}}),e)}catch(_){return e(_)}}),e)}catch(y){return e(y)}}),e)}catch(m){return e(m)}}),e)}))}function K1e(t){return new Promise(((e,i)=>{const s=new q1e;s.onload=u=>{const d=new DataView(u.target.result);if(d.getUint16(0,!1)!=65496)return e(-2);const h=d.byteLength;let m=2;for(;m<h;){if(d.getUint16(m+2,!1)<=8)return e(-1);const y=d.getUint16(m,!1);if(m+=2,y==65505){if(d.getUint32(m+=2,!1)!=1165519206)return e(-1);const _=d.getUint16(m+=6,!1)==18761;m+=d.getUint32(m+4,_);const b=d.getUint16(m,_);m+=2;for(let T=0;T<b;T++)if(d.getUint16(m+12*T,_)==274)return e(d.getUint16(m+12*T+8,_))}else{if((65280&y)!=65280)break;m+=d.getUint16(m,!1)}}return e(-1)},s.onerror=u=>i(u),s.readAsArrayBuffer(t)}))}function J1e(t,e){const{width:i}=t,{height:s}=t,{maxWidthOrHeight:u}=e;let d,h=t;return isFinite(u)&&(i>u||s>u)&&([h,d]=rP(i,s),i>s?(h.width=u,h.height=s/i*u):(h.width=i/s*u,h.height=u),d.drawImage(t,0,0,h.width,h.height),Hl(t)),h}function e_e(t,e){const{width:i}=t,{height:s}=t,[u,d]=rP(i,s);switch(e>4&&e<9?(u.width=s,u.height=i):(u.width=i,u.height=s),e){case 2:d.transform(-1,0,0,1,i,0);break;case 3:d.transform(-1,0,0,-1,i,s);break;case 4:d.transform(1,0,0,-1,0,s);break;case 5:d.transform(0,1,1,0,0,0);break;case 6:d.transform(0,1,-1,0,s,0);break;case 7:d.transform(0,-1,-1,0,s,i);break;case 8:d.transform(0,-1,1,0,0,i)}return d.drawImage(t,0,0,i,s),Hl(t),u}function vse(t,e,i=0){return new Promise((function(s,u){let d,h,m,y,_,b,T,C,A,D,L,z,$,Q,B,q,Y,G,H,V;function F(ae=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;d+=ae,e.onProgress(Math.min(d,100))}function te(ae){if(e.signal&&e.signal.aborted)throw e.signal.reason;d=Math.min(Math.max(ae,d),100),e.onProgress(d)}return d=i,h=e.maxIteration||10,m=1024*e.maxSizeMB*1024,F(),mk(t,e).then((function(ae){try{return[,y]=ae,F(),_=J1e(y,e),F(),new Promise((function(oe,fe){var de;if(!(de=e.exifOrientation))return K1e(t).then((function(ue){try{return de=ue,he.call(this)}catch(ne){return fe(ne)}}).bind(this),fe);function he(){return oe(de)}return he.call(this)})).then((function(oe){try{return b=oe,F(),zg().then((function(fe){try{return T=fe?_:e_e(_,b),F(),C=e.initialQuality||1,A=e.fileType||t.type,gk(T,A,t.name,t.lastModified,C).then((function(de){try{{let ue=function(){if(h--&&(B>m||B>$)){let me,ge;return me=V?.95*H.width:H.width,ge=V?.95*H.height:H.height,[Y,G]=rP(me,ge),G.drawImage(H,0,0,me,ge),C*=A==="image/png"?.85:.95,gk(Y,A,t.name,t.lastModified,C).then((function(ee){try{return q=ee,Hl(H),H=Y,B=q.size,te(Math.min(99,Math.floor((Q-B)/(Q-m)*100))),ue}catch(be){return u(be)}}),u)}return[1]},ne=function(){return Hl(H),Hl(Y),Hl(_),Hl(T),Hl(y),te(100),s(q)};if(D=de,F(),L=D.size>m,z=D.size>t.size,!L&&!z)return te(100),s(D);var he;return $=t.size,Q=D.size,B=Q,H=T,V=!e.alwaysKeepResolution&&L,(he=(function(me){for(;me;){if(me.then)return void me.then(he,u);try{if(me.pop){if(me.length)return me.pop()?ne.call(this):me;me=ue}else me=me.call(this)}catch(ge){return u(ge)}}}).bind(this))(ue)}}catch(ue){return u(ue)}}).bind(this),u)}catch(de){return u(de)}}).bind(this),u)}catch(fe){return u(fe)}}).bind(this),u)}catch(oe){return u(oe)}}).bind(this),u)}))}const Vbt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let j3;function Fbt(t,e){return new Promise(((i,s)=>{j3||(j3=(function(h){const m=[];return m.push(h),URL.createObjectURL(new Blob(m))})(Vbt));const u=new Worker(j3);u.addEventListener("message",(function(h){if(e.signal&&e.signal.aborted)u.terminate();else if(h.data.progress===void 0){if(h.data.error)return s(new Error(h.data.error)),void u.terminate();i(h.data.file),u.terminate()}else e.onProgress(h.data.progress)})),u.addEventListener("error",s),e.signal&&e.signal.addEventListener("abort",(()=>{s(e.signal.reason),u.terminate()})),u.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function aa(t,e){return new Promise((function(i,s){let u,d,h,m,y,_;if(u={...e},h=0,{onProgress:m}=u,u.maxSizeMB=u.maxSizeMB||Number.POSITIVE_INFINITY,y=typeof u.useWebWorker!="boolean"||u.useWebWorker,delete u.useWebWorker,u.onProgress=A=>{h=A,typeof m=="function"&&m(h)},!(t instanceof Blob||t instanceof jbt))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return s(new Error("The file given is not an image"));if(_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!y||typeof Worker!="function"||_)return vse(t,u).then((function(A){try{return d=A,C.call(this)}catch(D){return s(D)}}).bind(this),s);var b=(function(){try{return C.call(this)}catch(A){return s(A)}}).bind(this),T=function(A){try{return vse(t,u).then((function(D){try{return d=D,b()}catch(L){return s(L)}}),s)}catch(D){return s(D)}};try{return u.libURL=u.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Fbt(t,u).then((function(A){try{return d=A,b()}catch{return T()}}),T)}catch{T()}function C(){try{d.name=t.name,d.lastModified=t.lastModified}catch{}try{u.preserveExif&&t.type==="image/jpeg"&&(!u.fileType||u.fileType&&u.fileType===t.type)&&(d=G1e(t,d))}catch{}return i(d)}}))}aa.getDataUrlFromFile=Z1e,aa.getFilefromDataUrl=bV,aa.loadImage=H1e,aa.drawImageInCanvas=Y1e,aa.drawFileInCanvas=mk,aa.canvasToFile=gk,aa.getExifOrientation=K1e,aa.handleMaxWidthOrHeight=J1e,aa.followExifOrientation=e_e,aa.cleanupCanvasMemory=Hl,aa.isAutoOrientationInBrowser=zg,aa.approximateBelowMaximumCanvasSizeOfBrowser=X1e,aa.copyExifWithoutOrientation=G1e,aa.getBrowserName=Hh,aa.version="2.0.2";const Gbt=/\.[^.]+$/;async function Wbt(t,{maxBytes:e,maxDimension:i,minQuality:s=.5}){if(!t.type.startsWith("image/")||t.size<=e||!["image/jpeg","image/png"].includes(t.type))return t;const u=t.type,d={maxSizeMB:e/(1024*1024),maxWidthOrHeight:i,useWebWorker:!0,fileType:u,initialQuality:Math.min(.9,Math.max(s,.1))};try{const h=await aa(t,d),m=h instanceof File?h:new File([h],t.name,{type:u,lastModified:Date.now()});if(m.size>=t.size)return t;const y=t.name.replace(Gbt,"");let _;return u==="image/jpeg"?_="jpg":u==="image/png"?_="png":_=u.split("/")[1]??"jpg",new File([m],`${y}.${_}`,{type:u,lastModified:Date.now()})}catch{return t}}async function Ubt(t,e){const i=[],s=[],u=[],d=[],h=e.maxBytes;for(const m of t)if(m.type.startsWith("image/")){const y=await Wbt(m,e);if(y.size>h){u.push(m);continue}i.push(y)}else if(m.type==="application/pdf"){if(m.size>h){u.push(m);continue}s.push(m)}else d.push(m);return{processedImages:i,pdfFiles:s,stillOversized:u,unsupportedFiles:d}}function qbt(){const t=_k(),{data:e}=Ia(),i=!!e?.user,{data:s}=Cp({queryKey:W3.listConnected,queryFn:KQe,enabled:Ka.integrations.mcp&&i}),u=W3.listConnected,{mutate:d}=Ok({mutationFn:YQe,onMutate:async h=>{await t.cancelQueries({queryKey:u});const m=t.getQueryData(u);return t.setQueryData(u,y=>y&&y.map(_=>_.id===h.id?{..._,enabled:h.enabled}:_)),{prev:m}},onError:(h,m,y)=>{t.setQueryData(u,y?.prev),En.error("Failed to update connector")},onSettled:()=>{t.invalidateQueries({queryKey:u})}});return!Ka.integrations.mcp||!s||s.length===0?null:I.jsxs(y_,{children:[I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsx(x_,{asChild:!0,children:I.jsxs(xn,{className:"@[500px]:h-10 h-8 @[500px]:gap-2 gap-1 p-1.5 px-2.5",size:"sm",variant:"ghost",children:[I.jsx(cje,{size:14}),I.jsx("span",{className:"@[500px]:inline hidden",children:"Connectors"})]})})}),I.jsx(ps,{children:"MCP Connectors"})]}),I.jsxs(__,{align:"start",className:"w-56",onClick:h=>h.stopPropagation(),onMouseDown:h=>h.stopPropagation(),children:[s.map(h=>{const m=h.type==="http"?ele(h.url):"";return I.jsxs(kd,{className:"flex items-center gap-2",onSelect:y=>y.preventDefault(),children:[I.jsx("div",{className:"flex size-5 shrink-0 items-center justify-center",children:m?I.jsxs(I.Fragment,{children:[I.jsx(tv,{className:"size-4 rounded-sm",url:m}),I.jsx(x1,{className:"hidden size-4 text-muted-foreground"})]}):I.jsx(x1,{className:"size-4 text-muted-foreground"})}),I.jsx("span",{className:"flex-1 truncate text-sm",children:h.name}),I.jsx(eje,{checked:h.enabled,className:"scale-75",onCheckedChange:y=>d({id:h.id,enabled:y}),onClick:y=>y.stopPropagation()})]},h.id)}),I.jsx(cQe,{}),I.jsx(kd,{asChild:!0,children:I.jsxs(Ad,{className:"flex items-center gap-2",href:"/settings/connectors",children:[I.jsx(dje,{className:"size-4"}),I.jsx("span",{children:"Manage Connectors"})]})})]})]})}const Zbt=K.memo(qbt),Vv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Hbt=Vv&&"documentMode"in document?document.documentMode:null,Xbt=!(!Vv||!("InputEvent"in window)||Hbt)&&"getTargetRanges"in new window.InputEvent("input"),Ybt=Vv&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),yse=Vv&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Kbt=Vv&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Jbt=Vv&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Kbt;function xse(t,e){e.update((()=>{if(t!==null){const i=fc(t,KeyboardEvent)?null:t.clipboardData,s=Nt();if(s!==null&&i!=null){t.preventDefault();const u=fvt(e);u!==null&&i.setData("text/html",u),i.setData("text/plain",s.getTextContent())}}}))}function e2t(t){return yu(t.registerCommand(ev,(e=>{const i=Nt();return!!jt(i)&&(i.deleteCharacter(e),!0)}),Xt),t.registerCommand(sye,(e=>{const i=Nt();return!!jt(i)&&(i.deleteWord(e),!0)}),Xt),t.registerCommand(oye,(e=>{const i=Nt();return!!jt(i)&&(i.deleteLine(e),!0)}),Xt),t.registerCommand(iye,(e=>{const i=Nt();if(!jt(i))return!1;if(typeof e=="string")i.insertText(e);else{const s=e.dataTransfer;if(s!=null)soe(s,i);else{const u=e.data;u&&i.insertText(u)}}return!0}),Xt),t.registerCommand(gye,(()=>{const e=Nt();return!!jt(e)&&(e.removeText(),!0)}),Xt),t.registerCommand(HC,(e=>{const i=Nt();return!!jt(i)&&(i.insertLineBreak(e),!0)}),Xt),t.registerCommand(XC,(()=>{const e=Nt();return!!jt(e)&&(e.insertLineBreak(),!0)}),Xt),t.registerCommand(cye,(e=>{const i=Nt();if(!jt(i))return!1;const s=e,u=s.shiftKey;return!!KC(i,!0)&&(s.preventDefault(),YC(i,u,!0),!0)}),Xt),t.registerCommand(dye,(e=>{const i=Nt();if(!jt(i))return!1;const s=e,u=s.shiftKey;return!!KC(i,!1)&&(s.preventDefault(),YC(i,u,!1),!0)}),Xt),t.registerCommand(fye,(e=>{const i=Nt();return!!jt(i)&&(!yse||navigator.language!=="ko-KR")&&(e.preventDefault(),t.dispatchCommand(ev,!0))}),Xt),t.registerCommand(hye,(e=>{const i=Nt();return!!jt(i)&&(e.preventDefault(),t.dispatchCommand(ev,!1))}),Xt),t.registerCommand(Hj,(e=>{const i=Nt();if(!jt(i))return!1;if(e!==null){if((yse||Ybt||Jbt)&&Xbt)return!1;e.preventDefault()}return t.dispatchCommand(HC,!1)}),Xt),t.registerCommand(vye,(()=>(Wj(),!0)),Xt),t.registerCommand(qj,(e=>{const i=Nt();return!!jt(i)&&(xse(e,t),!0)}),Xt),t.registerCommand(aye,(e=>{const i=Nt();return!!jt(i)&&((function(s,u){xse(s,u),u.update((()=>{const d=Nt();jt(d)&&d.removeText()}))})(e,t),!0)}),Xt),t.registerCommand(pye,(e=>{const i=Nt();return!!jt(i)&&((function(s,u){s.preventDefault(),u.update((()=>{const d=Nt(),h=fc(s,ClipboardEvent)?s.clipboardData:null;h!=null&&jt(d)&&soe(h,d)}),{tag:mye})})(e,t),!0)}),Xt),t.registerCommand(uye,(e=>{const i=Nt();return!!jt(i)&&(e.preventDefault(),!0)}),Xt),t.registerCommand(lye,(e=>{const i=Nt();return!!jt(i)&&(e.preventDefault(),!0)}),Xt))}const t2t=Object.freeze(Object.defineProperty({__proto__:null,registerPlainText:e2t},Symbol.toStringTag,{value:"Module"})),n2t=t2t,r2t=n2t.registerPlainText,Lz=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?K.useLayoutEffect:K.useEffect;function _se(t){return t.getEditorState().read(uV(t.isComposing()))}function i2t({contentEditable:t,placeholder:e=null,ErrorBoundary:i}){const[s]=pa(),u=(function(d,h){const[m,y]=K.useState((()=>d.getDecorators()));return Lz((()=>d.registerDecoratorListener((_=>{Bd.flushSync((()=>{y(_)}))}))),[d]),K.useEffect((()=>{y(d.getDecorators())}),[d]),K.useMemo((()=>{const _=[],b=Object.keys(m);for(let T=0;T<b.length;T++){const C=b[T],A=I.jsx(h,{onError:L=>d._onError(L),children:I.jsx(K.Suspense,{fallback:null,children:m[C]})}),D=d.getElementByKey(C);D!==null&&_.push(Bd.createPortal(A,D,C))}return _}),[h,m,d])})(s,i);return(function(d){Lz((()=>yu(r2t(d),Yxe(d))),[d])})(s),I.jsxs(I.Fragment,{children:[t,I.jsx(a2t,{content:e}),u]})}function a2t({content:t}){const[e]=pa(),i=(function(u){const[d,h]=K.useState((()=>_se(u)));return Lz((()=>{function m(){const y=_se(u);h(y)}return m(),yu(u.registerUpdateListener((()=>{m()})),u.registerEditableListener((()=>{m()})))}),[u]),d})(e),s=Xxe();return i?typeof t=="function"?t(s):t:null}const o2t=Object.freeze(Object.defineProperty({__proto__:null,PlainTextPlugin:i2t},Symbol.toStringTag,{value:"Module"})),s2t=o2t,l2t=s2t.PlainTextPlugin;function u2t({autoFocus:t,editor:e}){K.useEffect(()=>{if(!(t&&e))return;const i=document.activeElement;if(i&&i!==document.body)return;const s=window.requestAnimationFrame(()=>{e.focus()});return()=>window.cancelAnimationFrame(s)},[t,e])}function c2t({onEnterSubmit:t}){const[e]=pa();return K.useEffect(()=>e.registerCommand(Hj,i=>t&&t(i)?(i.preventDefault(),!0):!1,egt),[e,t]),null}function d2t({setEditor:t}){const[e]=pa();return K.useEffect(()=>{t(e)},[e,t]),null}const f2t={root:"lexical-root",ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph"};function h2t(t){console.error("Lexical error:",t)}const t_e=({initialValue:t="",onInputChange:e,onKeyDown:i,onPaste:s,onEnterSubmit:u,placeholder:d="Type a message...",autoFocus:h=!1,className:m,"data-testid":y,ref:_,...b})=>{const[T,C]=K.useState(null);u2t({autoFocus:h,editor:T});const A={namespace:"LexicalChatInput",theme:f2t,onError:h2t,nodes:[]},D=K.useCallback(z=>{e&&z.read(()=>{const Q=Xi().getTextContent();e(Q)})},[e]);K.useImperativeHandle(_,()=>({focus:()=>{T&&T.focus()},clear:()=>{T&&T.update(()=>{Xi().clear()})},getValue:()=>T?T.getEditorState().read(()=>Xi().getTextContent()):""}),[T]),K.useEffect(()=>{T&&t!==void 0&&T.update(()=>{const z=Xi();if(z.getTextContent()!==t){z.clear();const Q=da();if(t){const B=nO(t);Q.append(B)}z.append(Q)}})},[T,t]);const L=K.useCallback(()=>I.jsx("div",{className:"lexical-placeholder pointer-events-none absolute pt-2 pl-3 text-muted-foreground",children:d}),[d]);return I.jsx(lV,{initialConfig:A,children:I.jsxs("div",{className:"lexical-editor-container",style:{borderTop:"0px"},children:[I.jsx(l2t,{contentEditable:I.jsx(cV,{className:We("focus:outline-hidden focus-visible:outline-hidden","[&>.lexical-root]:min-h-[20px] [&>.lexical-root]:outline-hidden","lexical-content-editable","editor-input",m),"data-testid":y,onKeyDown:i,onPaste:s,spellCheck:!0,style:{WebkitBoxShadow:"none",MozBoxShadow:"none",boxShadow:"none"}}),ErrorBoundary:dV,placeholder:I.jsx(L,{})}),I.jsx(Hxe,{onChange:D}),I.jsx(Uxe,{}),I.jsx(d2t,{setEditor:C}),I.jsx(c2t,{onEnterSubmit:u})]})})};t_e.displayName="LexicalChatInput";var iP="Checkbox",[p2t]=bk(iP),[m2t,wV]=p2t(iP);function g2t(t){const{__scopeCheckbox:e,checked:i,children:s,defaultChecked:u,disabled:d,form:h,name:m,onCheckedChange:y,required:_,value:b="on",internal_do_not_use_render:T}=t,[C,A]=ip({prop:i,defaultProp:u??!1,onChange:y,caller:iP}),[D,L]=K.useState(null),[z,$]=K.useState(null),Q=K.useRef(!1),B=D?!!h||!!D.closest("form"):!0,q={checked:C,disabled:d,setChecked:A,control:D,setControl:L,name:m,form:h,value:b,hasConsumerStoppedPropagationRef:Q,required:_,defaultChecked:$d(u)?!1:u,isFormControl:B,bubbleInput:z,setBubbleInput:$};return I.jsx(m2t,{scope:e,...q,children:v2t(T)?T(q):s})}var n_e="CheckboxTrigger",r_e=K.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:i,...s},u)=>{const{control:d,value:h,disabled:m,checked:y,required:_,setControl:b,setChecked:T,hasConsumerStoppedPropagationRef:C,isFormControl:A,bubbleInput:D}=wV(n_e,t),L=wk(u,b),z=K.useRef(y);return K.useEffect(()=>{const $=d?.form;if($){const Q=()=>T(z.current);return $.addEventListener("reset",Q),()=>$.removeEventListener("reset",Q)}},[d,T]),I.jsx(vs.button,{type:"button",role:"checkbox","aria-checked":$d(y)?"mixed":y,"aria-required":_,"data-state":l_e(y),"data-disabled":m?"":void 0,disabled:m,value:h,...s,ref:L,onKeyDown:la(e,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:la(i,$=>{T(Q=>$d(Q)?!0:!Q),D&&A&&(C.current=$.isPropagationStopped(),C.current||$.stopPropagation())})})});r_e.displayName=n_e;var SV=K.forwardRef((t,e)=>{const{__scopeCheckbox:i,name:s,checked:u,defaultChecked:d,required:h,disabled:m,value:y,onCheckedChange:_,form:b,...T}=t;return I.jsx(g2t,{__scopeCheckbox:i,checked:u,defaultChecked:d,disabled:m,required:h,onCheckedChange:_,name:s,form:b,value:y,internal_do_not_use_render:({isFormControl:C})=>I.jsxs(I.Fragment,{children:[I.jsx(r_e,{...T,ref:e,__scopeCheckbox:i}),C&&I.jsx(s_e,{__scopeCheckbox:i})]})})});SV.displayName=iP;var i_e="CheckboxIndicator",a_e=K.forwardRef((t,e)=>{const{__scopeCheckbox:i,forceMount:s,...u}=t,d=wV(i_e,i);return I.jsx(w_,{present:s||$d(d.checked)||d.checked===!0,children:I.jsx(vs.span,{"data-state":l_e(d.checked),"data-disabled":d.disabled?"":void 0,...u,ref:e,style:{pointerEvents:"none",...t.style}})})});a_e.displayName=i_e;var o_e="CheckboxBubbleInput",s_e=K.forwardRef(({__scopeCheckbox:t,...e},i)=>{const{control:s,hasConsumerStoppedPropagationRef:u,checked:d,defaultChecked:h,required:m,disabled:y,name:_,value:b,form:T,bubbleInput:C,setBubbleInput:A}=wV(o_e,t),D=wk(i,A),L=fje(d),z=ZQe(s);K.useEffect(()=>{const Q=C;if(!Q)return;const B=window.HTMLInputElement.prototype,Y=Object.getOwnPropertyDescriptor(B,"checked").set,G=!u.current;if(L!==d&&Y){const H=new Event("click",{bubbles:G});Q.indeterminate=$d(d),Y.call(Q,$d(d)?!1:d),Q.dispatchEvent(H)}},[C,L,d,u]);const $=K.useRef($d(d)?!1:d);return I.jsx(vs.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??$.current,required:m,disabled:y,name:_,value:b,form:T,...e,tabIndex:-1,ref:D,style:{...e.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});s_e.displayName=o_e;function v2t(t){return typeof t=="function"}function $d(t){return t==="indeterminate"}function l_e(t){return $d(t)?"indeterminate":t?"checked":"unchecked"}const u_e=K.forwardRef(({className:t,...e},i)=>I.jsx(SV,{className:We("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),ref:i,...e,children:I.jsx(a_e,{className:We("flex items-center justify-center text-current"),children:I.jsx(qse,{className:"h-4 w-4"})})}));u_e.displayName=SV.displayName;function y2t({message:t,className:e,variant:i="default",dismissible:s=!1,compact:u=!1}){const[d,h]=K.useState(!1);if(d)return null;const m={default:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800",amber:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800",red:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800"},y={default:"text-blue-800 dark:text-blue-200",amber:"text-amber-800 dark:text-amber-200",red:"text-red-800 dark:text-red-200"},_={default:"text-blue-700 dark:text-blue-300 hover:text-blue-900 dark:hover:text-blue-100",amber:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",red:"text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-100"};return I.jsx(DB,{children:I.jsx(Ti.div,{animate:{opacity:1,height:"auto"},className:"w-full",exit:{opacity:0,height:0},initial:{opacity:0,height:0},transition:{duration:.2},children:I.jsxs("div",{className:We("flex items-center justify-between gap-3 rounded-lg",u?"px-3 py-2":"px-4 py-3",m[i],e),children:[I.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[!u&&I.jsx(Nse,{className:We("h-4 w-4 shrink-0",y[i])}),I.jsxs("span",{className:We("text-sm",y[i]),children:[t," ",I.jsx(Ad,{className:We("font-medium underline hover:no-underline",_[i]),href:"/login",children:"Sign in"})]})]}),s&&I.jsx(xn,{className:"h-6 w-6 p-0 opacity-70 hover:bg-transparent hover:opacity-100",onClick:()=>h(!0),size:"sm",variant:"ghost",children:I.jsx(bc,{className:"h-4 w-4"})})]})})})}const c_e=Ak(),Ose=c_e.reduce((t,e)=>(t[e.key]=!1,t),{});function x2t(t){const e=[],i=Ak(),s=[{key:"functionCalling",condition:t.toolCall,config:i.find(u=>u.key==="functionCalling")},{key:"imageInput",condition:t.input?.image,config:i.find(u=>u.key==="imageInput")},{key:"pdfInput",condition:t.input?.pdf,config:i.find(u=>u.key==="pdfInput")}];for(const{condition:u,config:d}of s)if(u&&d){const h=d.icon;e.push(I.jsx("div",{className:"flex items-center",title:d.description,children:I.jsx(h,{className:"h-3 w-3 text-muted-foreground"})},d.key))}return e}function _2t({model:t,disabled:e,isSelected:i,onSelect:s}){const[u]=t.id.split("/"),d=K.useMemo(()=>x2t(t),[t]),h=K.useMemo(()=>`${t.name} ${t.reasoning?"reasoning":""} ${t.owned_by} `.toLowerCase(),[t]),m=K.useMemo(()=>Ak().find(y=>y.key==="reasoning"),[]);return I.jsxs(yje,{className:We("flex h-9 w-full cursor-pointer items-center justify-between px-3 py-1.5 transition-all",i&&"border-l-2 border-l-primary bg-primary/10",e&&"cursor-not-allowed opacity-50"),onSelect:()=>!e&&s(),value:h,children:[I.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2.5",children:[u&&I.jsx("div",{className:"shrink-0",children:I.jsx(rle,{provider:u})}),I.jsxs("span",{className:"flex items-center gap-1.5 truncate font-medium text-sm",children:[t.name,t.reasoning&&m&&I.jsx("span",{className:"inline-flex shrink-0 items-center gap-1",title:m.description,children:I.jsx(m.icon,{className:"h-3 w-3 text-muted-foreground"})})]})]}),d.length>0&&I.jsx("div",{className:"flex shrink-0 items-center gap-1",children:d})]})}const O2t=K.memo(_2t,(t,e)=>t.model.id===e.model.id&&t.disabled===e.disabled&&t.isSelected===e.isSelected);function b2t({selectedModelId:t,className:e,onModelChangeAction:i}){const{data:s}=Ia(),u=!s?.user,{models:d,allModels:h}=b_(),[m,y]=K.useState(!1),[_,b]=K.useState(!1),[T,C]=K.useOptimistic(t),[A,D]=K.useState(Ose),L=K.useMemo(()=>d.map(H=>({model:H,disabled:u&&!U3.AVAILABLE_MODELS.includes(H.id)})),[u,d]),z=K.useMemo(()=>L.some(H=>H.disabled),[L]),$=K.useMemo(()=>Object.values(A).some(Boolean)?L.filter(({model:V})=>Object.entries(A).every(([F,te])=>{if(!te)return!0;switch(F){case"reasoning":return V.reasoning;case"functionCalling":return V.toolCall;case"imageInput":return V.input?.image;case"pdfInput":return V.input?.pdf;case"audioInput":return V.input?.audio;case"imageOutput":return V.output?.image;case"audioOutput":return V.output?.audio;default:return!0}})):L,[L,A]),Q=K.useMemo(()=>{const H=L.find(F=>F.model.id===T);if(H)return H;const V=h.find(F=>F.id===T);return V?{model:V,disabled:u&&!U3.AVAILABLE_MODELS.includes(V.id)}:null},[L,h,T,u]),B=Q?Q.model.id.split("/")[0]:null,q=K.useMemo(()=>Ak().find(H=>H.key==="reasoning"),[]),Y=K.useMemo(()=>Object.values(A).filter(Boolean).length,[A]),G=K.useCallback(H=>{K.startTransition(()=>{C(H),i?.(H),y(!1)})},[i,C]);return I.jsxs(g1,{onOpenChange:y,open:m,children:[I.jsx(v1,{asChild:!0,children:I.jsxs(xn,{"aria-expanded":m,className:We("flex w-fit justify-between gap-2 md:px-2",e),"data-testid":"model-selector",role:"combobox",variant:"ghost",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[B&&I.jsx("div",{className:"shrink-0",children:I.jsx(rle,{provider:B})}),I.jsxs("p",{className:"inline-flex items-center gap-1.5 truncate",children:[Q?.model.name||"Select model",Q?.model.reasoning&&q&&I.jsx("span",{className:"inline-flex shrink-0 items-center gap-1",title:q.description,children:I.jsx(q.icon,{className:"h-3 w-3 text-muted-foreground"})})]})]}),I.jsx(TQe,{className:We("h-4 w-4 shrink-0 opacity-50 transition-transform",m&&"rotate-180")})]})}),I.jsx(y1,{align:"start",className:"w-[350px] p-0",onInteractOutside:H=>{H.target.closest('[data-slot="command-input"]')&&H.preventDefault()},children:m&&I.jsxs(hje,{children:[I.jsxs("div",{className:"flex items-center border-b",children:[I.jsx(pje,{className:"px-3",containerClassName:"w-full border-0 h-11",onClick:H=>{H.stopPropagation()},placeholder:"Search models..."}),I.jsxs(g1,{onOpenChange:b,open:_,children:[I.jsx(v1,{asChild:!0,children:I.jsxs(xn,{className:We("relative mr-3 h-8 w-8 p-0",Y>0&&"text-primary"),size:"sm",variant:"ghost",children:[I.jsx(Uje,{className:"h-4 w-4"}),Y>0&&I.jsx(Sk,{className:"absolute -top-1 -right-1 flex h-4 min-w-[16px] items-center justify-center p-0 text-xs",variant:"secondary",children:Y})]})}),I.jsx(y1,{align:"end",className:"p-0",children:I.jsxs("div",{className:"p-4",children:[I.jsxs("div",{className:"mb-3 flex h-7 items-center justify-between",children:[I.jsx("div",{className:"font-medium text-sm",children:"Filter by Tools"}),Y>0&&I.jsx(xn,{className:"h-6 text-xs",onClick:()=>D(Ose),size:"sm",variant:"ghost",children:"Clear filters"})]}),I.jsx("div",{className:"grid grid-cols-1 gap-2",children:c_e.map(H=>{const V=H.icon;return I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(u_e,{checked:A[H.key],id:H.key,onCheckedChange:F=>D(te=>({...te,[H.key]:!!F}))}),I.jsxs(LQe,{className:"flex items-center gap-1.5 text-sm",htmlFor:H.key,children:[I.jsx(V,{className:"h-3.5 w-3.5"}),H.name]})]},H.key)})})]})})]})]}),z&&I.jsx("div",{className:"p-3",children:I.jsx(y2t,{compact:!0,message:"Sign in to unlock all models.",variant:"default"})}),I.jsxs(mje,{className:"max-h-[400px]",onMouseDown:H=>H.stopPropagation(),children:[I.jsx(gje,{children:"No model found."}),I.jsx(vje,{children:$.map(({model:H,disabled:V})=>I.jsx(O2t,{disabled:V,isSelected:H.id===T,model:H,onSelect:()=>G(H.id)},H.id))})]}),!u&&I.jsx("div",{className:"border-t p-2",children:I.jsx(xn,{asChild:!0,className:"w-full justify-between",size:"sm",variant:"ghost",children:I.jsxs(Ad,{"aria-label":"Add Models",href:"/settings/models",children:["Add Models",I.jsx(Gz,{className:"h-4 w-4"})]})})})]})})]})}const w2t=K.memo(b2t,(t,e)=>t.selectedModelId===e.selectedModelId&&t.className===e.className&&t.onModelChangeAction===e.onModelChangeAction),V3={webSearch:{name:"Web Search",icon:x1,shortName:"Search"},deepResearch:{name:"Deep Research",icon:_Ve,shortName:"Research"},generateImage:{name:"Create an image",icon:Kje,shortName:"Image"},createTextDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"},createCodeDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"},createSheetDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"},editTextDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"},editCodeDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"},editSheetDocument:{name:"Canvas",icon:Eh,shortName:"Canvas"}},S2t=["createTextDocument",...Ka.integrations.webSearch?["webSearch","deepResearch"]:[],...Ka.integrations.imageGeneration?["generateImage"]:[]];function T2t({tools:t,setTools:e,selectedModelId:i}){const{data:s}=Ia(),u=!s?.user,[d,h]=K.useState(!1),{getModelById:m}=b_(),_=!m(i)?.input,b=t,T=C=>{if(!(_&&C!==null)){if(u&&C!==null){h(!0);return}e(C)}};return I.jsxs("div",{className:"flex items-center @[500px]:gap-2 gap-1",children:[u?I.jsxs(g1,{onOpenChange:h,open:d,children:[I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsx(v1,{asChild:!0,children:I.jsxs(xn,{className:"@[500px]:h-10 h-8 @[500px]:gap-2 gap-1 p-1.5",variant:"ghost",children:[I.jsx(dJ,{size:14}),I.jsx("span",{className:"@[500px]:inline hidden",children:"Tools"})]})})}),I.jsx(ps,{children:"Select Tools"})]}),I.jsx(y1,{align:"start",className:"w-80 p-0",children:I.jsx(G3,{description:"Access web search, deep research, and more to get better answers.",title:"Sign in to use Tools"})})]}):I.jsxs(y_,{children:[I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsx(x_,{asChild:!0,children:I.jsxs(xn,{className:"@[500px]:h-10 h-8 @[500px]:gap-2 gap-1 p-1.5 px-2.5",size:"sm",variant:"ghost",children:[I.jsx(dJ,{size:14}),I.jsx("span",{className:"@[500px]:inline hidden",children:"Tools"})]})})}),I.jsx(ps,{children:"Select Tools"})]}),I.jsx(__,{align:"start",className:"w-48",onClick:C=>C.stopPropagation(),onMouseDown:C=>C.stopPropagation(),children:S2t.map(C=>{const A=V3[C],D=A.icon;return I.jsxs(kd,{className:"flex items-center gap-2",disabled:_,onClick:L=>{L.stopPropagation(),T(t===C?null:C)},children:[I.jsx(D,{size:14}),I.jsx("span",{children:A.name}),t===C&&I.jsx("span",{className:"text-xs opacity-70",children:"✓"}),_&&I.jsx("span",{className:"text-xs opacity-60",children:"(not supported)"})]},C)})})]}),b&&I.jsxs(I.Fragment,{children:[I.jsx(Qz,{className:"h-4 bg-muted-foreground/50",orientation:"vertical"}),I.jsxs(xn,{className:"@[500px]:h-10 h-8 @[500px]:gap-2 gap-1 rounded-full text-primary hover:text-primary/80",onClick:()=>T(null),size:"sm",variant:"ghost",children:[K.createElement(V3[b].icon,{size:14}),I.jsx("span",{className:"@[500px]:inline hidden",children:V3[b].shortName}),I.jsx(bc,{className:"opacity-70",size:12})]})]})]})}const C2t={credits:{dismissible:!0,getMessage:({remaining:t,isAtLimit:e})=>e?I.jsxs("span",{children:["You've reached your credit limit."," ",I.jsx(Ad,{className:"font-medium text-red-700 underline hover:no-underline dark:text-red-300",href:"/login",children:"Sign in to reset your limits"})]}):I.jsxs("span",{children:["You only have"," ",I.jsxs("strong",{children:[t," credit",t!==1?"s":""]})," ","left."," ",I.jsx(Ad,{className:"font-medium text-amber-700 underline hover:no-underline dark:text-amber-300",href:"/login",children:"Sign in to reset your limits"})]}),getClasses:({isAtLimit:t})=>t?"bg-red-100 dark:bg-red-950/30 text-red-800 dark:text-red-200":"bg-amber-100 dark:bg-amber-950/30 text-amber-800 dark:text-amber-200"},model:{dismissible:!1,getMessage:()=>I.jsxs("span",{children:["This model isn't available for anonymous users."," ",I.jsx(Ad,{className:"font-medium text-amber-700 underline hover:no-underline dark:text-amber-300",href:"/login",children:"Log in to use this model"})]}),getClasses:()=>"bg-amber-100 dark:bg-amber-950/30 text-amber-800 dark:text-amber-200"},image:{dismissible:!1,getMessage:()=>I.jsx("span",{children:"Image models are not supported here yet."}),getClasses:()=>"bg-amber-100 dark:bg-amber-950/30 text-amber-800 dark:text-amber-200"}};function k2t({className:t,forceVariant:e}){const{credits:i,isLoadingCredits:s}=vQe(),{data:u}=Ia(),d=!!u?.user,[h,m]=K.useState(!1);if(d)return null;const y=e??"credits",_=C2t[y];if(y==="credits"&&s||_.dismissible&&h)return null;const b=i??0,T=b<=0;return I.jsx(DB,{children:I.jsx(Ti.div,{animate:{opacity:1,height:"auto"},className:We("w-full",t),exit:{opacity:0,height:0},initial:{opacity:0,height:0},transition:{duration:.2},children:I.jsxs("div",{className:We("flex items-center justify-between gap-3 rounded-lg px-4 py-3 text-sm",_.getClasses({isAtLimit:T})),children:[I.jsx("div",{className:"flex-1",children:_.getMessage({remaining:b,isAtLimit:T})}),_.dismissible?I.jsx(xn,{className:"h-6 w-6 p-0 hover:bg-transparent",onClick:()=>m(!0),size:"sm",variant:"ghost",children:I.jsx(bc,{className:"h-4 w-4"})}):null]})})})}const A2t=/^\/project\/([^/]+)$/;function P2t(t){return Object.entries(t).filter(([e])=>e.startsWith("image/")).flatMap(([,e])=>e).join(",")}function E2t(t){return Object.entries(t).filter(([e])=>!e.startsWith("image/")).flatMap(([,e])=>e).join(",")}function M2t(t){return Object.values(t).flat().join(",")}function D2t({chatId:t,status:e,className:i,isEditMode:s=!1,parentMessageId:u,onSendMessage:d}){const h=wc(),{artifact:m,closeArtifact:y}=hu(),{data:_}=Ia(),b=yk(),{mutate:T}=Gse();xk();const{setMessages:C,sendMessage:A,stop:D}=fu(),L=zk(),{editorRef:z,selectedTool:$,setSelectedTool:Q,attachments:B,setAttachments:q,selectedModelId:Y,handleModelChange:G,getInputValue:H,handleInputChange:V,getInitialInput:F,isEmpty:te,handleSubmit:ae}=$_(),fe=!_?.user&&!U3.AVAILABLE_MODELS.includes(Y),{getModelById:de}=b_(),he=Ok({mutationFn:({messageId:ut})=>yQe({messageId:ut})}),{maxBytes:ue,maxDimension:ne,acceptedTypes:me}=Ka.attachments,ge=Math.round(ue/(1024*1024)),ee=Ka.integrations.attachments,be=K.useMemo(()=>P2t(me),[me]),Me=K.useMemo(()=>E2t(me),[me]),se=K.useMemo(()=>M2t(me),[me]),Ae=K.useCallback(()=>{const ut=Ka.models.defaults.pdf,st=de(ut);return st&&En.success(`Switched to ${st.name} (supports PDF)`),G(ut),st},[G,de]),we=K.useCallback(()=>{const ut=Ka.models.defaults.chatImageCompatible,st=de(ut);return st&&En.success(`Switched to ${st.name} (supports images)`),G(ut),st},[G,de]),Le=K.useRef(null),[Z,ve]=K.useState([]),ze=K.useMemo(()=>fe?{enabled:!1,message:"Log in to use this model"}:e!=="ready"&&e!=="error"?{enabled:!1,message:"Please wait for the model to finish its response!"}:Z.length>0?{enabled:!1,message:"Please wait for files to finish uploading!"}:te?{enabled:!1,message:"Please enter a message before sending!"}:{enabled:!0},[te,fe,e,Z.length]),Qe=K.useCallback(async ut=>{const{processedImages:st,pdfFiles:Ve,stillOversized:Ce,unsupportedFiles:je}=await Ubt(ut,{maxBytes:ue,maxDimension:ne});if(Ce.length>0&&En.error(`${Ce.length} file(s) exceed ${ge}MB after compression`),je.length>0&&En.error(`${je.length} unsupported file type(s). Only images and PDFs are allowed`),Ve.length>0||st.length>0){let qe=de(Y);Ve.length>0&&!qe?.input?.pdf&&(qe=Ae()),st.length>0&&!qe?.input?.image&&(qe=we())}return[...st,...Ve]},[ue,ne,ge,Y,Ae,we,de]),et=K.useCallback(ut=>{if(!_?.user)return;const st=window.location.pathname;if(st==="/"){window.history.pushState({},"",`/chat/${ut}`);return}const Ve=st.match(A2t);if(Ve){const[,Ce]=Ve;window.history.pushState({},"",`/project/${Ce}/chat/${ut}`)}},[_?.user]),He=K.useCallback(ut=>{if(ut===null){C([]),m.isVisible&&y();return}const st=h.getState().getThrottledMessages().findIndex(Ve=>Ve.id===ut);if(st!==-1){const Ve=h.getState().getThrottledMessages().slice(0,st+1);m.isVisible&&m.messageId&&!Ve.some(Ce=>Ce.id===m.messageId)&&y(),C(Ve)}},[m.isVisible,m.messageId,y,C,h]),yt=K.useCallback(()=>{const ut=H();et(t);const st=s?u:L;s&&He(u);const Ve={id:vk(),parts:[...B.map(Ce=>({type:"file",url:Ce.url,name:Ce.name,mediaType:Ce.contentType})),{type:"text",text:ut}],metadata:{createdAt:new Date,parentMessageId:st,selectedModel:Y,activeStreamId:null,selectedTool:$||void 0},role:"user"};d?.(Ve),T({message:Ve,chatId:t}),A(Ve),b||z.current?.focus()},[B,b,t,$,s,H,T,u,Y,z,L,d,A,et,He]),Ee=K.useCallback(()=>{ae(yt,s)},[ae,yt,s]),Ue=K.useCallback(async ut=>{const st=new FormData;st.append("file",ut);try{const Ve=await fetch("/api/files/upload",{method:"POST",body:st});if(Ve.ok){const je=await Ve.json(),{url:qe,pathname:tt,contentType:$e}=je;return{url:qe,name:tt,contentType:$e}}const{error:Ce}=await Ve.json();En.error(Ce)}catch{En.error("Failed to upload file, please try again!")}},[]),ke=K.useCallback(async ut=>{const st=Array.from(ut.target.files||[]),Ve=await Qe(st);if(Ve.length!==0){ve(Ve.map(Ce=>Ce.name));try{const Ce=Ve.map(tt=>Ue(tt)),qe=(await Promise.all(Ce)).filter(tt=>tt!==void 0);q(tt=>[...tt,...qe])}catch(Ce){console.error("Error uploading files!",Ce)}finally{ve([])}}},[q,Qe,Ue]),Ge=K.useCallback(async ut=>{if(e!=="ready"||!ee)return;const st=ut.clipboardData;if(!st)return;const Ve=Array.from(st.files);if(Ve.length===0)return;if(ut.preventDefault(),!_?.user){En.error("Sign in to attach files from clipboard");return}const Ce=await Qe(Ve);if(Ce.length!==0){ve(Ce.map(je=>je.name));try{const je=Ce.map($e=>Ue($e)),tt=(await Promise.all(je)).filter($e=>$e!==void 0);q($e=>[...$e,...tt]),En.success(`${tt.length} file(s) pasted from clipboard`)}catch(je){console.error("Error uploading pasted files!",je)}finally{ve([])}}},[q,Qe,e,_,Ue,ee]),De=K.useCallback(ut=>{q(st=>st.filter(Ve=>Ve.url!==ut.url))},[q]),{getRootProps:Pt,getInputProps:dt,isDragActive:Ze}=N1e({onDrop:async ut=>{if(ut.length===0)return;if(!_?.user){En.error("Sign in to attach files");return}const st=await Qe(ut);if(st.length!==0){ve(st.map(Ve=>Ve.name));try{const Ve=st.map(qe=>Ue(qe)),je=(await Promise.all(Ve)).filter(qe=>qe!==void 0);q(qe=>[...qe,...je])}catch(Ve){console.error("Error uploading files!",Ve)}finally{ve([])}}},noClick:!0,disabled:e!=="ready"||!ee,noDrag:!ee,accept:me}),nn=K.useCallback(()=>{_?.user&&L&&he.mutate({messageId:L}),D?.()},[L,_?.user,D,he]);return I.jsxs("div",{className:"relative",children:[ee&&I.jsx("input",{accept:se,className:"pointer-events-none fixed -top-4 -left-4 size-0.5 opacity-0",multiple:!0,onChange:ke,ref:Le,tabIndex:-1,type:"file"}),I.jsx("div",{className:"relative",children:I.jsxs(Y1t,{className:We("@container relative transition-colors",Ze&&"border-blue-500 bg-blue-50 dark:bg-blue-950/20",i),inputGroupClassName:"dark:bg-muted bg-muted",...Pt({onError:void 0,onSubmit:void 0}),onSubmit:(ut,st)=>{if(st.preventDefault(),!ze.enabled){ze.message&&En.error(ze.message);return}Ee()},children:[I.jsx("input",{...dt()}),Ze&&ee&&I.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-xl border-2 border-blue-500 border-dashed bg-blue-50/80 dark:bg-blue-950/40",children:I.jsx("div",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Drop images or PDFs here to attach"})}),!s&&I.jsx(k2t,{className:"p-2",forceVariant:fe?"model":"credits"}),I.jsx(cOt,{attachments:B,className:"w-full",onRemoveAction:De,uploadQueue:Z}),I.jsx(t_e,{autoFocus:!0,className:"max-h-[max(35svh,5rem)] min-h-[60px] overflow-y-scroll sm:min-h-[80px]","data-testid":"multimodal-input",initialValue:F(),onEnterSubmit:ut=>(b?ut.ctrlKey:!ut.shiftKey)?ze.enabled?(Ee(),!0):(ze.message&&En.error(ze.message),!0):!1,onInputChange:V,onPaste:Ge,placeholder:b?"Send a message... (Ctrl+Enter to send)":"Send a message...",ref:z}),I.jsx(N2t,{acceptAll:se,acceptFiles:Me,acceptImages:be,attachmentsEnabled:ee,fileInputRef:Le,onModelChange:G,onStop:nn,parentMessageId:u,selectedModelId:Y,selectedTool:$,setSelectedTool:Q,status:e,submission:ze,submitForm:Ee})]})})]})}function I2t({fileInputRef:t,status:e,acceptAll:i,acceptImages:s,acceptFiles:u}){const{data:d}=Ia(),h=yk(),m=!d?.user,[y,_]=K.useState(!1),b=K.useCallback((C,A)=>{const D=t.current;D&&(D.accept=C,A?D.capture=A:D.removeAttribute("capture"),D.click())},[t]),T=C=>{if(C.preventDefault(),m){_(!0);return}b(i)};return h?m?I.jsxs(g1,{onOpenChange:_,open:y,children:[I.jsx(v1,{asChild:!0,children:I.jsx(I3,{className:"size-8","data-testid":"attachments-button",disabled:e!=="ready",onClick:()=>_(!0),variant:"ghost",children:I.jsx(YS,{className:"size-4"})})}),I.jsx(y1,{align:"start",className:"w-80 p-0",children:I.jsx(G3,{description:"You can attach images and PDFs to your messages for the AI to analyze.",title:"Sign in to attach files"})})]}):I.jsxs(y_,{children:[I.jsx(x_,{asChild:!0,children:I.jsx(I3,{className:"size-8","data-testid":"attachments-button",disabled:e!=="ready",variant:"ghost",children:I.jsx(YS,{className:"size-4"})})}),I.jsxs(__,{align:"start",children:[I.jsxs(kd,{onClick:()=>b(s),children:[I.jsx(ije,{}),"Add photos"]}),I.jsxs(kd,{onClick:()=>b(s,"environment"),children:[I.jsx(iQe,{}),"Take photo"]}),I.jsxs(kd,{onClick:()=>b(u),children:[I.jsx(S_,{}),"Add files"]})]})]}):I.jsxs(g1,{onOpenChange:_,open:y,children:[I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:I.jsx(v1,{asChild:!0,children:I.jsx(I3,{className:"@[500px]:size-10 size-8","data-testid":"attachments-button",disabled:e!=="ready",onClick:T,variant:"ghost",children:I.jsx(YS,{className:"size-4"})})})}),I.jsx(ps,{children:"Add Files"})]}),I.jsx(y1,{align:"end",className:"w-80 p-0",children:I.jsx(G3,{description:"You can attach images and PDFs to your messages for the AI to analyze.",title:"Sign in to attach files"})})]})}const R2t=K.memo(I2t);function L2t({selectedModelId:t,onModelChange:e,selectedTool:i,setSelectedTool:s,fileInputRef:u,status:d,submitForm:h,submission:m,parentMessageId:y,acceptAll:_,acceptImages:b,acceptFiles:T,attachmentsEnabled:C,onStop:A}){return I.jsxs(J1t,{className:"flex w-full min-w-0 flex-row items-center justify-between @[500px]:gap-2 gap-1 border-t px-1 py-1 group-has-[>input]/input-group:pb-1 [.border-t]:pt-1",children:[I.jsxs(e_t,{className:"flex min-w-0 items-center @[500px]:gap-2 gap-1",children:[C&&I.jsx(R2t,{acceptAll:_,acceptFiles:T,acceptImages:b,fileInputRef:u,status:d}),I.jsx(w2t,{className:"@[500px]:h-10 h-8 w-fit max-w-none shrink justify-start truncate @[500px]:px-3 px-2 @[500px]:text-sm text-xs",onModelChangeAction:e,selectedModelId:t}),I.jsx(Zbt,{}),I.jsx(T2t,{selectedModelId:t,setTools:s,tools:i})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx(Lbt,{className:"@[500px]:block hidden",iconOnly:!0,parentMessageId:y,selectedModelId:t}),I.jsx(t_t,{className:"@[500px]:size-10 size-8 shrink-0",disabled:d==="ready"&&!m.enabled,onClick:D=>{if(D.preventDefault(),d==="streaming"||d==="submitted")A();else if(d==="ready"||d==="error"){if(!m.enabled){m.message&&En.error(m.message);return}h()}},status:d})]})]})}const N2t=K.memo(L2t),aP=K.memo(D2t,(t,e)=>!(t.status!==e.status||t.isEditMode!==e.isEditMode||t.chatId!==e.chatId||t.className!==e.className));function $2t({chatId:t,setMode:e,parentMessageId:i}){const s=Pp(),u=K.useCallback(d=>{e("view")},[e]);return I.jsx("div",{className:"w-full",children:I.jsx(aP,{chatId:t,isEditMode:!0,onSendMessage:u,parentMessageId:i,status:s})})}function z2t(t){const e=$Be(t.message),i=F3(t.message),s=t.message.metadata?.selectedModel,{parentMessageId:u,...d}=t;return I.jsx(efe,{initialAttachments:i,initialInput:e,initialTool:t.message.metadata?.selectedTool,localStorageEnabled:!1,overrideModelId:s||void 0,children:I.jsx($2t,{...d,parentMessageId:t.message.metadata?.parentMessageId})},`edit-${t.message.id}`)}const B2t=({messageId:t,isLoading:e,isReadonly:i,parentMessageId:s})=>{const u=$k(),d=gue(t),[h,m]=K.useState("view"),[y,_]=K.useState({isOpen:!1,imageUrl:""}),b=(C,A)=>{_({isOpen:!0,imageUrl:C,imageName:A})};if(!d)return null;const T=d.parts.find(C=>C.type==="text");return T&&u?I.jsxs(I.Fragment,{children:[I.jsx(Ude,{className:We(h==="edit"?"max-w-full [&>div]:max-w-full":void 0,"py-1"),from:"user",children:I.jsxs("div",{className:We("flex w-full flex-col gap-2",d.role==="user"&&h!=="edit"&&"items-end"),children:[h==="view"&&i&&I.jsxs(I4,{className:"text-left group-[.is-user]:bg-card","data-testid":"message-content",children:[I.jsx(Pz,{attachments:F3(d),onImageClick:b,testId:"message-attachments"}),I.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:T.text})]}),h==="view"&&!i&&I.jsx("button",{className:"block cursor-pointer text-left transition-opacity hover:opacity-80","data-testid":"message-content",onClick:()=>m("edit"),type:"button",children:I.jsxs(I4,{className:"text-left group-[.is-user]:max-w-none group-[.is-user]:bg-card","data-testid":"message-content",children:[I.jsx(Pz,{attachments:F3(d),onImageClick:b,testId:"message-attachments"}),I.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:T.text})]})}),h!=="view"&&I.jsx("div",{className:"flex flex-row items-start gap-2",children:I.jsx(z2t,{chatId:u,message:d,parentMessageId:s,setMode:m},d.id)}),I.jsx("div",{className:"self-end",children:I.jsx(hfe,{chatId:u,isEditing:h==="edit",isLoading:e,isReadOnly:i,messageId:d.id,onCancelEdit:()=>m("view"),onStartEdit:()=>m("edit")},`action-${d.id}`)})]})}),I.jsx(r1e,{imageName:y.imageName,imageUrl:y.imageUrl,isOpen:y.isOpen,onClose:()=>_({isOpen:!1,imageUrl:""})})]}):null},Q2t=K.memo(B2t,(t,e)=>!(t.messageId!==e.messageId||t.isReadonly!==e.isReadonly||t.parentMessageId!==e.parentMessageId||t.isLoading!==e.isLoading)),j2t=({messageId:t,isLoading:e,isReadonly:i,parentMessageId:s})=>{const u=yue(t);return u?I.jsx(I.Fragment,{children:u==="user"?I.jsx(Q2t,{isLoading:e,isReadonly:i,messageId:t,parentMessageId:s}):I.jsx(D1t,{isLoading:e,isReadonly:i,messageId:t})}):null},V2t=K.memo(j2t,(t,e)=>!(t.isLoading!==e.isLoading||t.messageId!==e.messageId||t.parentMessageId!==e.parentMessageId));function F2t(){const{setMessages:t,regenerate:e}=fu(),i=wc();return I.jsxs("div",{className:"mx-auto flex w-full flex-col items-center gap-4 rounded-lg px-6 py-8 shadow-xs md:max-w-2xl",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("svg",{"aria-label":"Error icon",className:"h-5 w-5",fill:"currentColor",role:"img",viewBox:"0 0 20 20",children:I.jsx("path",{clipRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",fillRule:"evenodd"})}),I.jsx("p",{className:"font-medium",children:"Something went wrong"})]}),I.jsx("p",{className:"text-center text-sm",children:"An error occurred while processing your request. Please try again."}),I.jsxs(xn,{className:" ",onClick:()=>{const s=i.getState().messages.slice(0,-1);t(s),e()},variant:"outline",children:[I.jsx(dle,{className:"mr-2 h-4 w-4"}),"Try again"]})]})}const G2t=()=>I.jsx(Ti.div,{animate:{y:0,opacity:1,transition:{delay:1}},className:"group/message mx-auto w-full max-w-3xl px-4","data-role":"assistant","data-testid":"message-assistant-loading",initial:{y:5,opacity:0},children:I.jsx("div",{className:"m-1.5 size-3 animate-[pulse-dot_2s_ease-in-out_infinite] rounded-full bg-muted-foreground",children:I.jsx("span",{className:"sr-only",children:"Loading"})})}),W2t=K.memo(({isReadonly:t})=>{const e=$k(),i=Pp(),s=P_();return e?s.length===0?I.jsx(GUe,{}):I.jsxs(I.Fragment,{children:[s.map((u,d)=>I.jsx(V2t,{isLoading:i==="streaming"&&s.length-1===d,isReadonly:t,messageId:u,parentMessageId:d>0?s[d-1]:null},u)),i==="submitted"&&s.length>0&&I.jsx(G2t,{}),i==="error"&&I.jsx(F2t,{})]}):null});function U2t({isReadonly:t,className:e}){return I.jsxs(e6e,{className:We("h-full w-full overflow-hidden",e),children:[I.jsx(r6e,{className:We("container mx-auto w-full pb-10 sm:max-w-2xl md:max-w-3xl",e),children:I.jsx(W2t,{isReadonly:t})}),I.jsx(t6e,{})]})}const q2t=K.memo(U2t,(t,e)=>t.isReadonly===e.isReadonly);function Z2t({chatId:t,status:e,isReadonly:i,className:s}){const u=zk();return I.jsxs("div",{className:We("flex h-full min-h-0 w-full flex-1 flex-col",s),children:[I.jsx(q2t,{className:"h-full min-h-0 flex-1",isReadonly:i}),I.jsx("div",{className:"relative @[500px]:bottom-4 z-10 w-full shrink-0",children:i?I.jsx(q7e,{chatId:t,className:"w-full"}):I.jsx("div",{className:"mx-auto w-full p-2 @[500px]:px-4 @[500px]:pb-4 md:max-w-3xl @[500px]:md:pb-6",children:I.jsx(aP,{chatId:t,parentMessageId:u,status:e})})})]})}const bse=K.memo(Z2t);function H2t({open:t,onOpenChange:e,currentTitle:i,onSubmit:s,isLoading:u}){const[d,h]=K.useState(i);K.useEffect(()=>{t&&h(i)},[t,i]);const m=async()=>{const b=d.trim();b&&b!==i&&await s(b),e(!1)},y=b=>{b||h(i),e(b)},_=!d.trim()||d.trim()===i||u;return I.jsx(Tk,{onOpenChange:y,open:t,children:I.jsxs(Ck,{children:[I.jsxs(jz,{children:[I.jsx(kk,{children:"Rename Chat"}),I.jsx(Vz,{children:"Enter a new name for this chat."})]}),I.jsx("div",{className:"py-4",children:I.jsx(Qse,{autoFocus:!0,maxLength:255,onChange:b=>h(b.target.value),onKeyDown:b=>{b.key==="Enter"?m():b.key==="Escape"&&y(!1)},placeholder:"Chat name",value:d})}),I.jsxs(nle,{children:[I.jsx(xn,{onClick:()=>y(!1),variant:"outline",children:"Cancel"}),I.jsx(xn,{disabled:_,onClick:m,children:"Save"})]})]})})}function X2t({chat:t,onDelete:e,onRename:i}){const[s,u]=K.useState(!1),[d,h]=K.useState(!1),m=`/project/${t.projectId}/chat/${t.id}`,y=async b=>{await i(t.id,b)},_=`${f1e(new Date(t.updatedAt),new Date,{addSuffix:!0})}`;return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"group relative",children:I.jsxs("div",{className:"relative flex items-center gap-3 px-4 py-3 transition-colors hover:bg-muted/50",children:[I.jsx(Ad,{className:"absolute inset-0 z-10",href:m}),I.jsxs("div",{className:"min-w-0 flex-1",children:[I.jsx("div",{className:"truncate font-medium text-sm",children:t.title}),I.jsx("div",{className:"text-muted-foreground text-xs",children:_})]}),I.jsx("div",{className:"z-20",children:I.jsxs(y_,{modal:!0,children:[I.jsx(x_,{asChild:!0,children:I.jsxs(xn,{className:"h-7 w-7 opacity-100 transition-opacity md:opacity-0 md:group-hover:opacity-100",size:"icon",type:"button",variant:"ghost",children:[I.jsx(_je,{size:16}),I.jsx("span",{className:"sr-only",children:"More"})]})}),I.jsxs(__,{align:"end",side:"bottom",children:[I.jsxs(kd,{className:"cursor-pointer",onClick:()=>u(!0),children:[I.jsx(Tp,{size:16}),I.jsx("span",{children:"Rename"})]}),I.jsx(aQe,{onShare:()=>h(!0)}),I.jsxs(kd,{className:"cursor-pointer text-destructive focus:bg-destructive/15 focus:text-destructive dark:text-red-500",onSelect:()=>e(t.id),children:[I.jsx(AQe,{size:16}),I.jsx("span",{children:"Delete"})]})]})]})})]})}),d&&I.jsx($se,{chatId:t.id,onOpenChange:h,open:d}),s&&I.jsx(H2t,{currentTitle:t.title,isLoading:!1,onOpenChange:u,onSubmit:y,open:s})]})}function Y2t({chats:t,onDelete:e,onRename:i}){return t?t.length===0?I.jsxs("div",{className:"rounded-xl border border-border/60 px-4 py-6",children:[I.jsx("p",{className:"font-medium text-foreground text-sm",children:"No chats in this project"}),I.jsx("p",{className:"mt-1 text-muted-foreground text-sm",children:"Start a chat to keep conversations organized and re-use project knowledge."})]}):I.jsx("div",{children:t.map((s,u)=>I.jsxs("div",{children:[u>0&&I.jsx(Qz,{}),I.jsx(X2t,{chat:s,onDelete:e,onRename:i})]},s.id))}):null}function K2t({projectName:t,projectIcon:e,projectColor:i,instructions:s,onEditInstructions:u,onRenameProject:d}){const h=!!s?.trim();return I.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t&&I.jsxs("div",{className:"flex items-center gap-2",children:[e&&i&&I.jsx(zse,{color:i,icon:e,size:24}),I.jsx("h1",{className:"font-bold text-2xl",children:t}),I.jsxs(xn,{className:"h-8 w-8",onClick:d,size:"icon",type:"button",variant:"ghost",children:[I.jsx(Tp,{size:16}),I.jsx("span",{className:"sr-only",children:"Rename project"})]})]}),I.jsxs(xn,{className:"rounded-full",onClick:u,size:"sm",type:"button",variant:"outline",children:[h?I.jsx("span",{className:"text-sm leading-none",children:"✓"}):I.jsx("span",{className:"text-base leading-none",children:"+"}),"Instructions"]})]})}function J2t({chatId:t,projectId:e,status:i,className:s}){const u=_k(),d=zk(),{data:h}=Cp({queryKey:jw.byId(e),queryFn:()=>wQe({id:e})}),{data:m}=xQe({projectId:e}),[y,_]=K.useState(!1),[b,T]=K.useState(""),[C,A]=K.useState(!1),D=m!==void 0&&m.length===0,{deleteChat:L}=_Qe(),z=Vse(),$=OQe(),Q=Ok({mutationFn:bQe,onSuccess:()=>{u.invalidateQueries({queryKey:jw.byId(e)}),_(!1)}}),B=()=>{T(h?.instructions??""),_(!0)},q=()=>{_(!1),T(h?.instructions??"")},Y=()=>{Q.mutate({id:e,instructions:b})},G=async V=>{await $.mutateAsync({id:e,updates:{name:V.name,icon:V.icon,iconColor:V.color}}),u.invalidateQueries({queryKey:jw.byId(e)}),u.invalidateQueries({queryKey:jw.list})},H=async(V,F)=>{await z.mutateAsync({chatId:V,title:F}),En.success("Chat renamed successfully")};return I.jsx("div",{className:We("flex flex-1 justify-center overflow-y-auto",s),children:I.jsxs("div",{className:We("mx-auto flex h-full min-h-0 w-full flex-col p-2 @[500px]:px-4 @[500px]:pb-4 md:max-w-3xl @[500px]:md:pb-6",D&&"grid grid-rows-[1fr_auto_1fr]"),children:[I.jsxs("div",{className:We("space-y-4",D?"row-start-2":"mt-4"),children:[I.jsx(K2t,{instructions:h?.instructions,onEditInstructions:B,onRenameProject:()=>A(!0),projectColor:h?.iconColor,projectIcon:h?.icon,projectName:h?.name}),I.jsx(aP,{chatId:t,parentMessageId:d,status:i})]}),m!==void 0&&I.jsx("div",{className:We(D?"row-start-3 mt-6":"mt-4 min-h-0 flex-1"),children:I.jsx(Y2t,{chats:m,onDelete:L,onRename:H})}),I.jsx(Tk,{onOpenChange:q,open:y,children:I.jsxs(Ck,{className:"sm:max-w-2xl",children:[I.jsxs(jz,{children:[I.jsx(kk,{children:"Set project instructions"}),I.jsxs(Vz,{children:["Provide relevant instructions and information for chats within"," ",h?.name??"this project",". This will work alongside user preferences and the selected style in a chat."]})]}),I.jsx("div",{className:"py-4",children:I.jsx(b1e,{autoFocus:!0,className:"min-h-[200px] resize-none",onChange:V=>T(V.target.value),placeholder:"Enter project instructions...",value:b})}),I.jsxs(nle,{children:[I.jsx(xn,{onClick:q,type:"button",variant:"outline",children:"Cancel"}),I.jsx(xn,{disabled:Q.isPending,onClick:Y,type:"button",children:Q.isPending?"Saving...":"Save instructions"})]})]})}),I.jsx(oQe,{initialColor:h?.iconColor,initialIcon:h?.icon,initialName:h?.name,isLoading:$.isPending,mode:"edit",onOpenChange:A,onSubmit:G,open:C})]})})}function ewt({chatId:t,selectedModelId:e,className:i}){const{sendMessage:s}=fu(),u=K.useRef(null),d=K.useMemo(()=>[{id:"write",label:"Write",icon:Eh,prompts:["Write a concise email to reschedule a meeting","Turn these bullet points into a clear memo","Rewrite this paragraph to be more direct","Draft a blog post outline about this topic","Brainstorm 10 headline ideas for this"]},{id:"learn",label:"Learn",icon:sQe,prompts:["Explain this concept like I'm smart but new to it","Quiz me on this topic (start easy, ramp up)","Give me a mental model + common pitfalls","Summarize this in 5 bullets + 3 key takeaways","Compare these two approaches and when to use each"]},{id:"code",label:"Code",icon:zje,prompts:["Implement this feature and explain tradeoffs","Find the bug in this snippet and fix it","Refactor this for readability + performance","Write tests for this module (edge cases too)","Design a clean API for this requirement"]},{id:"life",label:"Life stuff",icon:Uz,prompts:["Plan a simple healthy meal prep for the week","Help me choose between these options (pros/cons)","Create a 30-minute daily routine I'll stick to","Write a message to resolve a conflict calmly","Suggest a weekend plan based on my constraints"]}],[]),[h,m]=K.useState(null),y=h?d.find(b=>b.id===h):null;K.useEffect(()=>{if(!h)return;const b=T=>{u.current&&!u.current.contains(T.target)&&m(null)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[h]);const _=b=>{s&&(m(null),window.history.pushState({},"",`/chat/${t}`),s({role:"user",parts:[{type:"text",text:b}],metadata:{selectedModel:e,createdAt:new Date,parentMessageId:null,activeStreamId:null}},{body:{data:{deepResearch:!1,webSearch:!1,reason:!1,generateImage:!1,writeOrCode:!1}}}))};return I.jsxs("div",{className:We("relative flex w-full flex-col",i),"data-testid":"suggested-actions",ref:u,children:[I.jsx(qde,{className:"mx-auto gap-1.5",children:d.map((b,T)=>{const C=b.icon,A=b.id===h;return I.jsx(Ti.div,{animate:{opacity:1,y:0},exit:{opacity:0,y:6},initial:{opacity:0,y:6},transition:{delay:.03*T},children:I.jsxs(Zde,{"aria-pressed":A,className:We("gap-2",A&&"border border-transparent shadow-sm"),onClick:()=>m(D=>D===b.id?null:b.id),suggestion:b.label,variant:A?"default":"outline",children:[I.jsx(C,{className:"size-4"}),I.jsx("span",{className:"@[500px]:inline hidden",children:b.label})]})},b.id)})}),y?I.jsx(Ti.div,{animate:{opacity:1,y:0},className:"absolute start-0 @[500px]:top-full @[500px]:bottom-auto bottom-full z-20 w-full @[500px]:pt-2 @[500px]:pb-0 pb-2",initial:{opacity:0,y:6},transition:{duration:.15},children:I.jsx("div",{className:"w-full rounded-xl border bg-background p-2 shadow-sm",children:I.jsx("div",{className:"flex w-full flex-col",children:y.prompts.map((b,T)=>I.jsxs("div",{className:"w-full",children:[I.jsx(xn,{className:"h-auto w-full justify-start whitespace-pre-wrap rounded-lg px-3 py-2 text-left text-sm",onClick:()=>_(b),type:"button",variant:"ghost",children:b}),T<y.prompts.length-1?I.jsx(Qz,{className:"my-1"}):null]},b))})})},y.id):null]})}const twt=K.memo(ewt);function nwt(){return I.jsx("div",{className:"pointer-events-none text-center",children:I.jsx("h1",{className:"font-normal text-2xl text-foreground sm:text-3xl",children:"How can I help you today?"})})}function rwt({chatId:t,status:e,className:i}){const s=zk(),{selectedModelId:u}=$_();return I.jsx("div",{className:We("flex min-h-0 flex-1 flex-col items-center justify-center",i),children:I.jsxs("div",{className:"mx-auto w-full p-2 @[500px]:px-4 md:max-w-3xl",children:[I.jsx("div",{className:"mb-6",children:I.jsx(nwt,{})}),I.jsx(aP,{chatId:t,parentMessageId:s,status:e}),I.jsx(twt,{chatId:t,className:"mt-4",selectedModelId:u})]})})}const iwt=K.memo(rwt);function awt({chatId:t,className:e,projectId:i,isReadonly:s}){const u=Pp(),h=P_().length>0;return i?h?I.jsx(bse,{chatId:t,className:We("bg-background",e),isReadonly:s,status:u}):I.jsx(J2t,{chatId:t,className:We("h-full",e),projectId:i,status:u}):I.jsxs(I.Fragment,{children:[I.jsx(iwt,{chatId:t,className:We(e,h&&"hidden"),status:u}),I.jsx(bse,{chatId:t,className:We("bg-background",e,!h&&"hidden"),isReadonly:s,status:u})]})}const owt=K.memo(awt);function swt({chatId:t,projectId:e,isReadonly:i,className:s}){const{data:u}=Ia(),h=P_().length>0;return I.jsxs("div",{className:s,children:[I.jsx(S8e,{chatId:t,className:"h-(--header-height)",hasMessages:h,isReadonly:i,projectId:e,user:u?.user}),I.jsx(owt,{chatId:t,className:"h-[calc(100dvh_-_var(--header-height))]",isReadonly:i,projectId:e})]})}function lwt(t){return t.status==="in_progress"?"Initializing...":t.status==="loading_packages"?t.contents.filter(i=>i.type==="text").map(i=>i.value).join(""):null}function uwt({consoleOutputs:t,setConsoleOutputs:e,className:i}){const s=K.useRef(null),u=sfe(d=>d.isVisible);return K.useEffect(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[]),K.useEffect(()=>{u||e([])},[u,e]),t.length>0?I.jsx("div",{className:We("flex w-full flex-col overflow-hidden",i),children:I.jsxs("div",{className:"flex h-full w-full flex-col overflow-x-hidden overflow-y-scroll border-zinc-200 border-t bg-zinc-50 dark:border-zinc-700 dark:bg-zinc-900",children:[I.jsxs("div",{className:"sticky top-0 z-50 flex h-fit w-full flex-row items-center justify-between border-zinc-200 border-b bg-muted px-2 py-1 dark:border-zinc-700",children:[I.jsxs("div",{className:"flex flex-row items-center gap-3 pl-2 text-sm text-zinc-800 dark:text-zinc-50",children:[I.jsx("div",{className:"text-muted-foreground",children:I.jsx(bVe,{size:16})}),I.jsx("div",{children:"Console"})]}),I.jsx(xn,{className:"size-fit p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700",onClick:()=>e([]),size:"icon",variant:"ghost",children:I.jsx(bc,{size:16})})]}),I.jsxs("div",{children:[t.map((d,h)=>I.jsxs("div",{className:"flex flex-row border-zinc-200 border-b bg-zinc-50 px-4 py-2 font-mono text-sm dark:border-zinc-700 dark:bg-zinc-900",children:[I.jsxs("div",{className:We("w-12 shrink-0",{"text-muted-foreground":["in_progress","loading_packages"].includes(d.status),"text-emerald-500":d.status==="completed","text-red-400":d.status==="failed"}),children:["[",h+1,"]"]}),["in_progress","loading_packages"].includes(d.status)?I.jsxs("div",{className:"flex flex-row gap-2",children:[I.jsx("div",{className:"mt-0.5 mb-auto size-fit animate-spin self-center",children:I.jsx(du,{size:16})}),I.jsx("div",{className:"text-muted-foreground",children:lwt(d)})]}):I.jsx("div",{className:"flex w-full flex-col gap-2 overflow-x-scroll text-zinc-900 dark:text-zinc-50",children:d.contents.map((m,y)=>m.type==="image"?I.jsx("picture",{children:I.jsx("img",{alt:"output",className:"w-full max-w-(--breakpoint-toast-mobile) rounded-md",height:"auto",src:m.value,width:"100%"})},`${d.id}-${y}`):I.jsx("div",{className:"break-word-wrap w-full whitespace-pre-line",children:m.value},`${d.id}-${y}`))})]},d.id)),I.jsx("div",{ref:s})]})]})}):null}let TV=class{kind;description;content;footer;actions;toolbar;initialize;onStreamPart;constructor(e){this.kind=e.kind,this.description=e.description,this.content=e.content,this.footer=e.footer,this.actions=e.actions||[],this.toolbar=e.toolbar||[],this.initialize=e.initialize||(async()=>({})),this.onStreamPart=e.onStreamPart}};const wse={matplotlib:`
    import io
    import base64
    from matplotlib import pyplot as plt

    # Clear any existing plots
    plt.clf()
    plt.close('all')

    # Switch to agg backend
    plt.switch_backend('agg')

    def setup_matplotlib_output():
        def custom_show():
            if plt.gcf().get_size_inches().prod() * plt.gcf().dpi ** 2 > 25_000_000:
                print("Warning: Plot size too large, reducing quality")
                plt.gcf().set_dpi(100)

            png_buf = io.BytesIO()
            plt.savefig(png_buf, format='png')
            png_buf.seek(0)
            png_base64 = base64.b64encode(png_buf.read()).decode('utf-8')
            print(f'data:image/png;base64,{png_base64}')
            png_buf.close()

            plt.clf()
            plt.close('all')

        plt.show = custom_show
  `,basic:`
    # Basic output capture setup
  `};function cwt(t){const e=["basic"];return(t.includes("matplotlib")||t.includes("plt."))&&e.push("matplotlib"),e}const dwt=new TV({kind:"code",description:"Useful for code generation; Code execution is only available for Python code.",initialize:({setMetadata:t})=>{t({outputs:[],language:"python"})},content:({isReadonly:t,content:e,title:i,...s})=>{const u=zBe(i);return I.jsx(nve,{...s,content:e,isReadonly:t,language:u})},footer:({metadata:t,setMetadata:e})=>t?.outputs?.length?I.jsx(uwt,{className:"min-h-[200px]",consoleOutputs:t.outputs,setConsoleOutputs:()=>{e({...t,outputs:[]})}}):null,actions:[{icon:I.jsx(hVe,{size:18}),label:"Run",description:"Execute code",onClick:async({content:t,setMetadata:e,metadata:i})=>{const s=vk(),u=[];e(d=>({...d,outputs:[...d.outputs,{id:s,contents:[],status:"in_progress"}]}));try{const d=await globalThis.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.23.4/full/"});d.setStdout({batched:m=>{u.push({type:m.startsWith("data:image/png;base64")?"image":"text",value:m})}}),await d.loadPackagesFromImports(t,{messageCallback:m=>{e(y=>({...y,outputs:[...y.outputs.filter(_=>_.id!==s),{id:s,contents:[{type:"text",value:m}],status:"loading_packages"}]}))}});const h=cwt(t);for(const m of h)wse[m]&&(await d.runPythonAsync(wse[m]),m==="matplotlib"&&await d.runPythonAsync("setup_matplotlib_output()"));await d.runPythonAsync(t),e(m=>({...m,outputs:[...m.outputs.filter(y=>y.id!==s),{id:s,contents:u,status:"completed"}]}))}catch(d){e(h=>({...h,outputs:[...h.outputs.filter(m=>m.id!==s),{id:s,contents:[{type:"text",value:d.message}],status:"failed"}]}))}},isDisabled:({isReadonly:t,content:e,metadata:i})=>t?!0:(i?.language||"python")!=="python"},{icon:I.jsx(qz,{size:18}),description:"View Previous version",onClick:({handleVersionChange:t})=>{t("prev")},isDisabled:({currentVersionIndex:t})=>t===0},{icon:I.jsx(Wz,{size:18}),description:"View Next version",onClick:({handleVersionChange:t})=>{t("next")},isDisabled:({isCurrentVersion:t})=>!!t},{icon:I.jsx(Sp,{size:18}),description:"Copy code to clipboard",onClick:({content:t})=>{navigator.clipboard.writeText(t),En.success("Copied to clipboard!")}}],toolbar:[{icon:I.jsx(xje,{size:16}),description:"Add comments",onClick:({sendMessage:t,storeApi:e})=>{t({role:"user",parts:[{type:"text",text:"Add comments to the code snippet for understanding"}],metadata:{selectedModel:Ka.models.defaults.codeEdits,createdAt:new Date,parentMessageId:e.getState().getLastMessageId(),activeStreamId:null}})}},{icon:I.jsx(eVe,{size:16}),description:"Add logs",onClick:({sendMessage:t,storeApi:e})=>{t({role:"user",parts:[{type:"text",text:"Add logs to the code snippet for debugging"}],metadata:{selectedModel:Ka.models.defaults.codeEdits,createdAt:new Date,parentMessageId:e.getState().getLastMessageId(),activeStreamId:null}})}}]}),fwt=new TV({kind:"sheet",description:"Useful for working with spreadsheets",initialize:async()=>{},content:({content:t,currentVersionIndex:e,isCurrentVersion:i,onSaveContent:s,status:u,isReadonly:d})=>I.jsx(pve,{content:t,currentVersionIndex:e,isCurrentVersion:i,isReadonly:d,saveContent:s,status:u}),actions:[{icon:I.jsx(qz,{size:18}),description:"View Previous version",onClick:({handleVersionChange:t})=>{t("prev")},isDisabled:({currentVersionIndex:t})=>t===0},{icon:I.jsx(Wz,{size:18}),description:"View Next version",onClick:({handleVersionChange:t})=>{t("next")},isDisabled:({isCurrentVersion:t})=>!!t},{icon:I.jsx(Sp,{size:16}),description:"Copy as .csv",onClick:({content:t})=>{const i=DC.parse(t,{skipEmptyLines:!0}).data.filter(u=>u.some(d=>d.trim()!=="")),s=DC.unparse(i);navigator.clipboard.writeText(s),En.success("Copied csv to clipboard!")}}],toolbar:[{description:"Format and clean data",icon:I.jsx(Uz,{size:16}),onClick:({sendMessage:t,storeApi:e})=>{t({role:"user",parts:[{type:"text",text:"Can you please format and clean the data?"}],metadata:{selectedModel:Ka.models.defaults.formatSheet,createdAt:new Date,parentMessageId:e.getState().getLastMessageId(),activeStreamId:null}})}},{description:"Analyze and visualize data",icon:I.jsx(Aje,{size:16}),onClick:({sendMessage:t,storeApi:e})=>{t({role:"user",parts:[{type:"text",text:"Can you please analyze and visualize the data by creating a new code artifact in python?"}],metadata:{selectedModel:Ka.models.defaults.analyzeSheet,createdAt:new Date,parentMessageId:e.getState().getLastMessageId(),activeStreamId:null}})}}]});class hwt{diff(e,i,s={}){let u;typeof s=="function"?(u=s,s={}):"callback"in s&&(u=s.callback);const d=this.castInput(e,s),h=this.castInput(i,s),m=this.removeEmpty(this.tokenize(d,s)),y=this.removeEmpty(this.tokenize(h,s));return this.diffWithOptionsObj(m,y,s,u)}diffWithOptionsObj(e,i,s,u){var d;const h=Q=>{if(Q=this.postProcess(Q,s),u){setTimeout(function(){u(Q)},0);return}else return Q},m=i.length,y=e.length;let _=1,b=m+y;s.maxEditLength!=null&&(b=Math.min(b,s.maxEditLength));const T=(d=s.timeout)!==null&&d!==void 0?d:1/0,C=Date.now()+T,A=[{oldPos:-1,lastComponent:void 0}];let D=this.extractCommon(A[0],i,e,0,s);if(A[0].oldPos+1>=y&&D+1>=m)return h(this.buildValues(A[0].lastComponent,i,e));let L=-1/0,z=1/0;const $=()=>{for(let Q=Math.max(L,-_);Q<=Math.min(z,_);Q+=2){let B;const q=A[Q-1],Y=A[Q+1];q&&(A[Q-1]=void 0);let G=!1;if(Y){const V=Y.oldPos-Q;G=Y&&0<=V&&V<m}const H=q&&q.oldPos+1<y;if(!G&&!H){A[Q]=void 0;continue}if(!H||G&&q.oldPos<Y.oldPos?B=this.addToPath(Y,!0,!1,0,s):B=this.addToPath(q,!1,!0,1,s),D=this.extractCommon(B,i,e,Q,s),B.oldPos+1>=y&&D+1>=m)return h(this.buildValues(B.lastComponent,i,e))||!0;A[Q]=B,B.oldPos+1>=y&&(z=Math.min(z,Q-1)),D+1>=m&&(L=Math.max(L,Q+1))}_++};if(u)(function Q(){setTimeout(function(){if(_>b||Date.now()>C)return u(void 0);$()||Q()},0)})();else for(;_<=b&&Date.now()<=C;){const Q=$();if(Q)return Q}}addToPath(e,i,s,u,d){const h=e.lastComponent;return h&&!d.oneChangePerToken&&h.added===i&&h.removed===s?{oldPos:e.oldPos+u,lastComponent:{count:h.count+1,added:i,removed:s,previousComponent:h.previousComponent}}:{oldPos:e.oldPos+u,lastComponent:{count:1,added:i,removed:s,previousComponent:h}}}extractCommon(e,i,s,u,d){const h=i.length,m=s.length;let y=e.oldPos,_=y-u,b=0;for(;_+1<h&&y+1<m&&this.equals(s[y+1],i[_+1],d);)_++,y++,b++,d.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return b&&!d.oneChangePerToken&&(e.lastComponent={count:b,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=y,_}equals(e,i,s){return s.comparator?s.comparator(e,i):e===i||!!s.ignoreCase&&e.toLowerCase()===i.toLowerCase()}removeEmpty(e){const i=[];for(let s=0;s<e.length;s++)e[s]&&i.push(e[s]);return i}castInput(e,i){return e}tokenize(e,i){return Array.from(e)}join(e){return e.join("")}postProcess(e,i){return e}get useLongestToken(){return!1}buildValues(e,i,s){const u=[];let d;for(;e;)u.push(e),d=e.previousComponent,delete e.previousComponent,e=d;u.reverse();const h=u.length;let m=0,y=0,_=0;for(;m<h;m++){const b=u[m];if(b.removed)b.value=this.join(s.slice(_,_+b.count)),_+=b.count;else{if(!b.added&&this.useLongestToken){let T=i.slice(y,y+b.count);T=T.map(function(C,A){const D=s[_+A];return D.length>C.length?D:C}),b.value=this.join(T)}else b.value=this.join(i.slice(y,y+b.count));y+=b.count,b.added||(_+=b.count)}}return u}}function Sse(t,e){let i;for(i=0;i<t.length&&i<e.length;i++)if(t[i]!=e[i])return t.slice(0,i);return t.slice(0,i)}function Tse(t,e){let i;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(i=0;i<t.length&&i<e.length;i++)if(t[t.length-(i+1)]!=e[e.length-(i+1)])return t.slice(-i);return t.slice(-i)}function Nz(t,e,i){if(t.slice(0,e.length)!=e)throw Error(`string ${JSON.stringify(t)} doesn't start with prefix ${JSON.stringify(e)}; this is a bug`);return i+t.slice(e.length)}function $z(t,e,i){if(!e)return t+i;if(t.slice(-e.length)!=e)throw Error(`string ${JSON.stringify(t)} doesn't end with suffix ${JSON.stringify(e)}; this is a bug`);return t.slice(0,-e.length)+i}function Ox(t,e){return Nz(t,e,"")}function XS(t,e){return $z(t,e,"")}function Cse(t,e){return e.slice(0,pwt(t,e))}function pwt(t,e){let i=0;t.length>e.length&&(i=t.length-e.length);let s=e.length;t.length<e.length&&(s=t.length);const u=Array(s);let d=0;u[0]=0;for(let h=1;h<s;h++){for(e[h]==e[d]?u[h]=u[d]:u[h]=d;d>0&&e[h]!=e[d];)d=u[d];e[h]==e[d]&&d++}d=0;for(let h=i;h<t.length;h++){for(;d>0&&t[h]!=e[d];)d=u[d];t[h]==e[d]&&d++}return d}function bx(t){let e;for(e=t.length-1;e>=0&&t[e].match(/\s/);e--);return t.substring(e+1)}function hd(t){const e=t.match(/^\s*/);return e?e[0]:""}const kse="a-zA-Z0-9_\\u{AD}\\u{C0}-\\u{D6}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",mwt=new RegExp(`[${kse}]+|\\s+|[^${kse}]`,"ug");class gwt extends hwt{equals(e,i,s){return s.ignoreCase&&(e=e.toLowerCase(),i=i.toLowerCase()),e.trim()===i.trim()}tokenize(e,i={}){let s;if(i.intlSegmenter){const h=i.intlSegmenter;if(h.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');s=[];for(const m of Array.from(h.segment(e))){const y=m.segment;s.length&&/\s/.test(s[s.length-1])&&/\s/.test(y)?s[s.length-1]+=y:s.push(y)}}else s=e.match(mwt)||[];const u=[];let d=null;return s.forEach(h=>{/\s/.test(h)?d==null?u.push(h):u.push(u.pop()+h):d!=null&&/\s/.test(d)?u[u.length-1]==d?u.push(u.pop()+h):u.push(d+h):u.push(h),d=h}),u}join(e){return e.map((i,s)=>s==0?i:i.replace(/^\s+/,"")).join("")}postProcess(e,i){if(!e||i.oneChangePerToken)return e;let s=null,u=null,d=null;return e.forEach(h=>{h.added?u=h:h.removed?d=h:((u||d)&&Ase(s,d,u,h),s=h,u=null,d=null)}),(u||d)&&Ase(s,d,u,null),e}}const vwt=new gwt;function ywt(t,e,i){return vwt.diff(t,e,i)}function Ase(t,e,i,s){if(e&&i){const u=hd(e.value),d=bx(e.value),h=hd(i.value),m=bx(i.value);if(t){const y=Sse(u,h);t.value=$z(t.value,h,y),e.value=Ox(e.value,y),i.value=Ox(i.value,y)}if(s){const y=Tse(d,m);s.value=Nz(s.value,m,y),e.value=XS(e.value,y),i.value=XS(i.value,y)}}else if(i){if(t){const u=hd(i.value);i.value=i.value.substring(u.length)}if(s){const u=hd(s.value);s.value=s.value.substring(u.length)}}else if(t&&s){const u=hd(s.value),d=hd(e.value),h=bx(e.value),m=Sse(u,d);e.value=Ox(e.value,m);const y=Tse(Ox(u,m),h);e.value=XS(e.value,y),s.value=Nz(s.value,u,y),t.value=$z(t.value,u,u.slice(0,u.length-y.length))}else if(s){const u=hd(s.value),d=bx(e.value),h=Cse(d,u);e.value=XS(e.value,h)}else if(t){const u=bx(t.value),d=hd(e.value),h=Cse(u,d);e.value=Ox(e.value,h)}}const p1={Unchanged:0,Deleted:-1,Inserted:1};class g_ extends Xj{__diffType;static getType(){return"diff-text"}static clone(e){const i=new g_(e.__text,e.__key);return i.__diffType=e.__diffType,i}static importJSON(e){const{text:i,diffType:s}=e,u=new g_(i);return s!==void 0&&u.setDiffType(s),u}exportJSON(){return{...super.exportJSON(),diffType:this.__diffType,type:"diff-text",version:1}}setDiffType(e){const i=this.getWritable();i.__diffType=e}getDiffType(){return this.__diffType}createDOM(e,i){const s=super.createDOM(e,i),u=this.getDiffType();if(u){let d="";switch(u){case p1.Inserted:d="bg-green-100 text-green-700 dark:bg-green-500/70 dark:text-green-300";break;case p1.Deleted:d="bg-red-100 line-through text-red-600 dark:bg-red-500/70 dark:text-red-300";break;default:d=""}s.className=d}return s}updateDOM(e,i,s){const u=e.getDiffType(),d=this.getDiffType();return u!==d?!1:super.updateDOM(e,i,s)}}function xwt(t,e){return ywt(t,e).map(s=>{let u;return s.added?u=p1.Inserted:s.removed?u=p1.Deleted:u=p1.Unchanged,{text:s.value,type:u}})}function _wt({oldContent:t,newContent:e}){const[i]=pa();return K.useEffect(()=>{t&&e&&i.update(()=>{const s=Xi(),u=s.getChildren();for(const m of u)m.remove();const d=xwt(t,e),h=da();for(const{text:m,type:y}of d){const _=new g_(m);_.setDiffType(y),h.append(_)}s.append(h)})},[t,e,i]),null}const Owt=({oldContent:t,newContent:e})=>{const i={...Jxe(),nodes:[g_],editable:!1};return I.jsx("div",{className:"prose dark:prose-invert relative w-full text-left",children:I.jsxs(lV,{initialConfig:i,children:[I.jsx(Kxe,{contentEditable:I.jsx(cV,{className:"lexical-editor text-left outline-hidden"}),ErrorBoundary:dV,placeholder:null}),I.jsx(_wt,{newContent:e,oldContent:t})]})})},bwt=new TV({kind:"text",description:"Useful for text content, like drafting essays and emails.",content:({mode:t,status:e,content:i,isCurrentVersion:s,currentVersionIndex:u,onSaveContent:d,getDocumentContentById:h,isLoading:m,isReadonly:y})=>{if(m)return I.jsx(gft,{artifactKind:"text"});if(t==="diff"){const _=h(u-1),b=h(u);return I.jsx("div",{className:"m-auto flex max-w-3xl flex-row px-4 py-8 md:p-20",children:I.jsx(Owt,{newContent:b,oldContent:_})})}return I.jsx("div",{className:"m-auto flex max-w-3xl flex-row px-4 py-8 md:p-20",children:I.jsx(e1e,{content:i,currentVersionIndex:u,isCurrentVersion:s,isReadonly:y,onSaveContent:d,status:e})})},actions:[{icon:I.jsx(Xje,{size:18}),description:"View changes",onClick:({handleVersionChange:t})=>{t("toggle")},isDisabled:({currentVersionIndex:t})=>t===0},{icon:I.jsx(qz,{size:18}),description:"View Previous version",onClick:({handleVersionChange:t})=>{t("prev")},isDisabled:({currentVersionIndex:t})=>t===0},{icon:I.jsx(Wz,{size:18}),description:"View Next version",onClick:({handleVersionChange:t})=>{t("next")},isDisabled:({isCurrentVersion:t})=>!!t},{icon:I.jsx(Sp,{size:18}),description:"Copy to clipboard",onClick:({content:t})=>{navigator.clipboard.writeText(t),En.success("Copied to clipboard!")}}],toolbar:[{icon:I.jsx(uVe,{size:16}),description:"Add final polish",onClick:({sendMessage:t,storeApi:e})=>{t({role:"user",parts:[{type:"text",text:"Please add final polish and check for grammar, add section titles for better structure, and ensure everything reads smoothly."}],metadata:{selectedModel:Ka.models.defaults.polishText,createdAt:new Date,parentMessageId:e.getState().getLastMessageId(),activeStreamId:null}})}}]}),wwt=({className:t,...e})=>I.jsx("div",{className:We("flex flex-col overflow-hidden rounded-lg border bg-background shadow-sm",t),...e}),Swt=({className:t,...e})=>I.jsx("div",{className:We("flex items-center justify-between border-b bg-muted/50 px-4 py-3",t),...e}),Twt=({className:t,children:e,size:i="sm",variant:s="ghost",...u})=>I.jsxs(xn,{className:We("size-8 p-0 text-muted-foreground hover:text-foreground",t),size:i,type:"button",variant:s,...u,children:[e??I.jsx(bc,{className:"size-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]}),Cwt=({className:t,...e})=>I.jsx("p",{className:We("font-medium text-foreground text-sm",t),...e}),Pse=({className:t,...e})=>I.jsx("p",{className:We("text-muted-foreground text-sm",t),...e}),kwt=({className:t,...e})=>I.jsx("div",{className:We("flex items-center gap-1",t),...e}),Awt=({className:t,...e})=>I.jsx("div",{className:We("flex-1 overflow-auto p-4",t),...e});var d_e="Toggle",f_e=K.forwardRef((t,e)=>{const{pressed:i,defaultPressed:s,onPressedChange:u,...d}=t,[h,m]=ip({prop:i,onChange:u,defaultProp:s??!1,caller:d_e});return I.jsx(vs.button,{type:"button","aria-pressed":h,"data-state":h?"on":"off","data-disabled":t.disabled?"":void 0,...d,ref:e,onClick:la(t.onClick,()=>{t.disabled||m(!h)})})});f_e.displayName=d_e;var Pwt=f_e;const Ewt=Bz("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-[color,box-shadow] hover:bg-muted hover:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Mwt({className:t,variant:e,size:i,...s}){return I.jsx(Pwt,{className:We(Ewt({variant:e,size:i,className:t})),"data-slot":"toggle",...s})}function Dwt({artifact:t,handleVersionChange:e,currentVersionIndex:i,isCurrentVersion:s,mode:u,metadata:d,setMetadata:h,isReadonly:m}){const[y,_]=K.useState(!1),b=oP.find(A=>A.kind===t.kind);if(!b)throw new Error("Artifact definition not found!");const T={content:t.content,handleVersionChange:e,currentVersionIndex:i,isCurrentVersion:s,mode:u,metadata:d,setMetadata:h,isReadonly:m};function C(A){return y||t.status==="streaming"?!0:A.isDisabled?A.isDisabled(T):!1}return I.jsx("div",{className:"flex flex-row gap-1",children:b.actions.filter(A=>m?A.description==="View changes"||A.description==="View Previous version"||A.description==="View Next version"||A.description==="Copy to clipboard":!0).map(A=>I.jsxs(fs,{children:[I.jsx(hs,{asChild:!0,children:A.description==="View changes"?I.jsx("div",{children:I.jsxs(Mwt,{className:We("h-fit",{"p-2":!A.label,"px-2 py-1.5":A.label}),disabled:C(A),onClick:async()=>{_(!0);try{await Promise.resolve(A.onClick(T))}catch{En.error("Failed to execute action")}finally{_(!1)}},pressed:u==="diff",children:[A.icon,A.label]})}):I.jsxs(xn,{className:We("h-fit dark:hover:bg-zinc-700",{"p-2":!A.label,"px-2 py-1.5":A.label}),disabled:C(A),onClick:async()=>{_(!0);try{await Promise.resolve(A.onClick(T))}catch{En.error("Failed to execute action")}finally{_(!1)}},variant:"outline",children:[A.icon,A.label]})}),I.jsx(ps,{children:A.description})]},A.description))})}const Iwt=K.memo(Dwt,(t,e)=>!(t.artifact.status!==e.artifact.status||t.currentVersionIndex!==e.currentVersionIndex||t.isCurrentVersion!==e.isCurrentVersion||t.artifact.content!==e.artifact.content||t.isReadonly!==e.isReadonly||t.mode!==e.mode));function Ese({description:t,icon:e,selectedTool:i,setSelectedTool:s,isToolbarVisible:u,setIsToolbarVisible:d,isAnimating:h,isSingleTool:m,onClick:y,storeApi:_}){const{sendMessage:b}=fu(),[T,C]=K.useState(!1);K.useEffect(()=>{i!==t&&C(!1)},[i,t]);const A=()=>{if(m){y({sendMessage:b,storeApi:_});return}if(!u&&d){d(!0);return}if(!i){C(!0),s(t);return}i!==t?s(t):(s(null),y({sendMessage:b,storeApi:_}))};return I.jsxs(fs,{open:T&&!h,children:[I.jsx(hs,{asChild:!0,children:I.jsx(Ti.div,{animate:{opacity:1,transition:{delay:.1}},className:tp("rounded-full p-3",{"bg-primary text-primary-foreground!":i===t}),exit:{scale:.9,opacity:0,transition:{duration:.1}},initial:{scale:1,opacity:0},onClick:()=>{A()},onHoverEnd:()=>{i!==t&&C(!1)},onHoverStart:()=>{C(!0)},onKeyDown:D=>{D.key==="Enter"&&A()},whileHover:{scale:1.1},whileTap:{scale:.95},children:i===t?I.jsx(sle,{size:16}):e})}),I.jsx(ps,{className:"rounded-2xl bg-foreground p-3 px-4 text-background",side:"left",sideOffset:16,children:t})]})}const Rwt=[...new Array(6)].map(t=>T1e(5));function Lwt({setSelectedTool:t,isAnimating:e,storeApi:i}){const{sendMessage:s}=fu(),u=["Elementary","Middle School","Keep current level","High School","College","Graduate"],{selectedModelId:d}=$_(),h=nde(-80),m=ide(h,[0,-202],[0,5]),[y,_]=K.useState(2),[b,T]=K.useState(!1);return K.useEffect(()=>{const C=m.on("change",A=>{const D=Math.min(5,Math.max(0,Math.round(Math.abs(A))));_(D)});return()=>C()},[m]),I.jsxs("div",{className:"relative flex flex-col items-center justify-end",children:[Rwt.map(C=>I.jsx(Ti.div,{animate:{opacity:1},className:"flex size-[40px] flex-row items-center justify-center",exit:{opacity:0},initial:{opacity:0},transition:{delay:.1},children:I.jsx("div",{className:"size-2 rounded-full bg-muted-foreground/40"})},C)),I.jsxs(fs,{open:!e,children:[I.jsx(hs,{asChild:!0,children:I.jsx(Ti.div,{className:tp("absolute flex flex-row items-center rounded-full border bg-background p-3",{"bg-primary text-primary-foreground":y!==2,"bg-background text-foreground":y===2}),drag:"y",dragConstraints:{top:-202,bottom:0},dragElastic:0,dragMomentum:!1,onClick:()=>{y!==2&&b&&(s?.({role:"user",parts:[{type:"text",text:`Please adjust the reading level to ${u[y]} level.`}],metadata:{selectedModel:d,createdAt:new Date,parentMessageId:i.getState().getLastMessageId(),activeStreamId:null}}),t(null))},onDragEnd:()=>{y===2?t(null):T(!0)},onDragStart:()=>{T(!1)},style:{y:h},transition:{duration:.1},whileHover:{scale:1.05},whileTap:{scale:.95},children:y===2?I.jsx(d8e,{}):I.jsx(sle,{size:16})})}),I.jsx(ps,{className:"rounded-2xl bg-foreground p-3 px-4 text-background text-sm",side:"left",sideOffset:16,children:u[y]})]})]})}function Nwt({isToolbarVisible:t,selectedTool:e,setSelectedTool:i,isAnimating:s,setIsToolbarVisible:u,tools:d,storeApi:h}){const[m,...y]=d;return I.jsxs(Ti.div,{animate:{opacity:1,scale:1},className:"flex flex-col gap-1.5",exit:{opacity:0,scale:.95},initial:{opacity:0,scale:.95},children:[I.jsx(DB,{children:t&&y.map(_=>I.jsx(Ese,{description:_.description,icon:_.icon,isAnimating:s,onClick:_.onClick,selectedTool:e,setSelectedTool:i,storeApi:h},_.description))}),I.jsx(Ese,{description:m.description,icon:m.icon,isAnimating:s,isSingleTool:d.length===1,isToolbarVisible:t,onClick:m.onClick,selectedTool:e,setIsToolbarVisible:u,setSelectedTool:i,storeApi:h})]})}function $wt({isToolbarVisible:t,setIsToolbarVisible:e,status:i,stop:s,artifactKind:u,storeApi:d}){const h=K.useRef(null),m=K.useRef(null),[y,_]=K.useState(null),[b,T]=K.useState(!1);kYe(h,()=>{e(!1),_(null)});const C=()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{_(null),e(!1)},2e3)},A=()=>{m.current&&clearTimeout(m.current)};K.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),K.useEffect(()=>{i==="streaming"&&e(!1)},[i,e]);const D=oP.find(z=>z.kind===u);if(!D)throw new Error("Artifact definition not found!");const L=D.toolbar;return L.length===0?null:I.jsx(zz,{delayDuration:0,children:I.jsx(Ti.div,{animate:t?y==="adjust-reading-level"?{opacity:1,y:0,height:258,transition:{delay:0},scale:.95}:{opacity:1,y:0,height:L.length*50,transition:{delay:0},scale:1}:{opacity:1,y:0,height:54,transition:{delay:0}},className:"absolute right-6 bottom-6 flex cursor-pointer flex-col justify-end rounded-full border bg-background p-1.5 shadow-lg",exit:{opacity:0,y:-20,transition:{duration:.1}},initial:{opacity:0,y:-20,scale:1},onAnimationComplete:()=>{T(!1)},onAnimationStart:()=>{T(!0)},onHoverEnd:()=>{i!=="streaming"&&C()},onHoverStart:()=>{i!=="streaming"&&(A(),e(!0))},ref:h,transition:{type:"spring",stiffness:300,damping:25},children:i==="streaming"?I.jsx(Ti.div,{animate:{scale:1.4},className:"p-3",exit:{scale:1},initial:{scale:1},onClick:()=>{s()},children:I.jsx(fle,{size:16})},"stop-icon"):y==="adjust-reading-level"?I.jsx(Lwt,{isAnimating:b,setSelectedTool:_,storeApi:d},"reading-level-selector"):I.jsx(Nwt,{isAnimating:b,isToolbarVisible:t,selectedTool:y,setIsToolbarVisible:e,setSelectedTool:_,storeApi:d,tools:L},"tools")})})}const zwt=K.memo($wt,(t,e)=>!(t.status!==e.status||t.isToolbarVisible!==e.isToolbarVisible||t.artifactKind!==e.artifactKind)),Bwt=({handleVersionChange:t,documents:e,currentVersionIndex:i})=>{const{artifact:s}=hu(),{width:u}=PYe(),d=u<768,h=Wse(s.documentId,s.messageId);if(e)return I.jsxs(Ti.div,{animate:{y:0},className:"flex w-full flex-col justify-between gap-4 border-t bg-background p-4 lg:flex-row",exit:{y:d?200:77},initial:{y:d?200:77},transition:{type:"spring",stiffness:140,damping:20},children:[I.jsxs("div",{children:[I.jsx("div",{children:"You are viewing a previous version"}),I.jsx("div",{className:"text-muted-foreground text-sm",children:"Restore this version to make edits"})]}),I.jsxs("div",{className:"flex flex-row gap-4",children:[I.jsxs(xn,{disabled:h.isPending,onClick:()=>{const m=e[i];h.mutate({id:s.documentId,content:m.content??"",title:m.title,kind:m.kind})},children:[I.jsx("div",{children:"Restore this version"}),h.isPending&&I.jsx("div",{className:"animate-spin",children:I.jsx(du,{size:16})})]}),I.jsx(xn,{onClick:()=>{t("latest")},variant:"outline",children:"Back to latest version"})]})]})},oP=[bwt,dwt,fwt];function Qwt({isReadonly:t,isAuthenticated:e,className:i}){const s=wc(),{artifact:u,setArtifact:d,metadata:h,setMetadata:m,closeArtifact:y}=hu(),_=_k(),{data:b,isLoading:T}=Fse(u.documentId||"",u.documentId==="init"||u.status==="streaming"),[C,A]=K.useState("edit"),[D,L]=K.useState(null),[z,$]=K.useState(-1),Q=K.useRef("");K.useEffect(()=>{if(b&&b.length>0){const be=b.findLastIndex(Me=>Me.messageId===u.messageId);if(be!==-1){const Me=b[be];L(Me),$(be),d(se=>({...se,content:Me.content??""}))}else{const Me=b.at(-1);Me&&(L(Me),$(b.length-1),d(se=>({...se,content:Me.content??""})))}}},[b,d,u.messageId]);const[B,q]=K.useState(!1),Y=Wse(u.documentId,u.messageId,{onSettled:()=>{q(!1)}}),G=oP.find(be=>be.kind===u.kind);if(!G)throw new Error("Artifact definition not found!");const H=G.content,V=G.footer,F=K.useCallback(be=>{if(!b)return;const Me=b.at(-1);Me&&Me?.content!==be&&Q.current===be&&(q(!0),Y.mutate({id:Me.id,title:Me.title,content:be,kind:Me.kind}))},[Y,b]),te=rfe(F,2e3),ae=K.useCallback((be,Me)=>{t||(Q.current=be,D&&be!==D.content&&(q(!0),Me?te(be):F(be)))},[D,te,F,t]);function oe(be){return!b||!b[be]?"":b[be].content??""}const fe=be=>{b&&(be==="latest"&&($(b.length-1),A("edit")),be==="toggle"&&A(Me=>Me==="edit"?"diff":"edit"),be==="prev"?z>0&&$(Me=>Me-1):be==="next"&&z<b.length-1&&$(Me=>Me+1))},de=Pp(),{stop:he}=fu(),[ue,ne]=K.useState(!1),me=b&&b.length>0?z===b.length-1:!0;if(K.useEffect(()=>{u.documentId!=="init"&&u.status!=="streaming"&&G.initialize&&G.initialize({documentId:u.documentId,setMetadata:m,queryClient:_,isAuthenticated:e})},[u.documentId,G,m,_,e,u.status]),!u.isVisible)return null;const ee={content:me?u.content:oe(z),currentVersionIndex:z,getDocumentContentById:oe,isCurrentVersion:me,isInline:!1,isLoading:T&&!u.content,isReadonly:t,metadata:h,mode:C,onSaveContent:ae,setMetadata:m,status:u.status,title:u.title};return I.jsxs(wwt,{className:We("h-full w-full rounded-none border-0 border-border bg-background transition-all duration-200 ease-out",i),"data-testid":"artifact",children:[I.jsxs(Swt,{className:"items-start bg-background/80 p-2",children:[I.jsxs("div",{className:"flex flex-row items-start gap-4",children:[I.jsx(Twt,{className:"h-fit p-2 dark:hover:bg-zinc-700","data-testid":"artifact-close-button",onClick:y,variant:"outline"}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx(Cwt,{children:u.title}),(()=>{if(B)return I.jsx(Pse,{children:"Saving changes..."});const be=u.date??D?.createdAt;return be?I.jsx(Pse,{children:`Updated ${f1e(new Date(be),new Date,{addSuffix:!0})}`}):I.jsx("div",{className:"mt-2 h-3 w-32 animate-pulse rounded-md bg-muted-foreground/20"})})()]})]}),I.jsx(kwt,{children:I.jsx(Iwt,{artifact:u,currentVersionIndex:z,handleVersionChange:fe,isCurrentVersion:me,isReadonly:t,metadata:h,mode:C,setMetadata:m})})]}),I.jsxs(Awt,{className:"flex h-full flex-col p-0",children:[I.jsx(Xse,{className:"h-full max-w-full!",children:I.jsxs("div",{className:"flex flex-col items-center bg-background/80",children:[I.jsx(H,{...ee}),me&&!t&&I.jsx(zwt,{artifactKind:u.kind,isToolbarVisible:ue,setIsToolbarVisible:ne,status:de,stop:he,storeApi:s})]})}),V?I.jsx(V,{...ee}):null,!(me||t)&&I.jsx(Bwt,{currentVersionIndex:z,documents:b,handleVersionChange:fe})]})]})}const jwt=K.memo(Qwt,(t,e)=>!(t.isReadonly!==e.isReadonly||t.isAuthenticated!==e.isAuthenticated||t.className!==e.className));function Vwt({isReadonly:t,className:e}){const{data:i}=Ia();return I.jsx(jwt,{className:e,isAuthenticated:!!i?.user,isReadonly:t})}function Mse({id:t,initialMessages:e,isReadonly:i,projectId:s}){const u=sfe(d=>d.isVisible);return I.jsxs(o8e,{isSecondaryPanelVisible:u,children:[I.jsx(s8e,{children:I.jsx(swt,{chatId:t,className:"flex h-full min-w-0 flex-1 flex-col",isReadonly:i,projectId:s})}),I.jsx(u8e,{}),I.jsx(l8e,{children:I.jsx(Vwt,{className:"flex h-full min-w-0 flex-1 flex-col",isReadonly:i})})]})}function Fwt(){const{dataStream:t}=Yk(),{setMessages:e}=fu(),i=wc();K.useEffect(()=>{if(!t||t.length===0)return;const s=t[0];if(s.type!=="data-appendMessage")return;const u=JSON.parse(s.data),d=i.getState().messages,h=d.findIndex(m=>m.id===u.id);if(h!==-1){e([...d.slice(0,h),u,...d.slice(h+1)]);return}e([...d,u])},[t,e,i])}function Gwt({id:t,projectId:e}){const{data:i}=Ia(),{mutate:s}=Gse(),{setDataStream:u}=Yk(),[d,h]=K.useState(!0),m=!!i?.user,{stop:y}=fu(),_=QYe(),b=_.at(-1),T=!!b?.metadata?.activeStreamId;return K.useEffect(()=>()=>{y?.(),u([])},[u,y]),$7e({experimental_throttle:100,id:t,messages:_,generateId:vk,onFinish:({message:C})=>{s({message:C,chatId:t}),h(!0)},resume:T,transport:new hue({api:"/api/chat",fetch:BBe,prepareSendMessagesRequest({messages:C,id:A,body:D}){return h(!0),{body:{id:A,message:C.at(-1),prevMessages:m?[]:C.slice(0,-1),projectId:e,...D}}},prepareReconnectToStreamRequest({id:C}){const A=b?.metadata?.activeStreamId?b.id:null;return{api:`/api/chat/${C}/stream${A?`?messageId=${A}`:""}`}}}),onData:C=>{u(A=>A?[...A,C]:[])},onError:C=>{C instanceof QBe&&C.type==="not_found"&&C.surface==="stream"&&h(!1),console.error(C);const A=C.cause;A&&typeof A=="string"?En.error(C.message??"An error occured, please try again!",{description:A}):En.error(C.message??"An error occured, please try again!")}}),Fwt(),null}function Wwt({delta:t,setSelectedTool:e}){t.type==="data-researchUpdate"&&t.data?.type==="completed"&&e(s=>s==="deepResearch"?null:s)}function Uwt({delta:t,artifact:e,setArtifact:i,setMetadata:s}){const u=oP.find(d=>d.kind===e.kind);u?.onStreamPart&&u.onStreamPart({streamPart:t,setArtifact:i,setMetadata:s})}function qwt({id:t}){const{dataStream:e}=Yk(),{artifact:i,setArtifact:s,setMetadata:u}=hu(),d=K.useRef(-1),{data:h}=Ia(),{setSelectedTool:m}=$_(),{confirmChatId:y}=xk(),_=!!h;return K.useEffect(()=>{if(!e?.length)return;const b=e.slice(d.current+1);d.current=e.length-1;for(const T of b)T.type==="data-chatConfirmed"&&_&&t===T.data.chatId&&y(T.data.chatId),Wwt({delta:T,setSelectedTool:m}),Uwt({delta:T,artifact:i,setArtifact:s,setMetadata:u})},[e,s,u,i,_,m,y,t]),null}function Dse({id:t,projectId:e,withHandler:i}){const{threadEpoch:s}=ffe();return I.jsxs(I.Fragment,{children:[I.jsx(Gwt,{id:t,projectId:e},`chat-sync:${t}:${s}`),i?I.jsx(qwt,{id:t},`stream:${t}:${s}`):null]})}const eTt=K.memo(function({id:e,initialMessages:i,isReadonly:s,initialTool:u=null,overrideModelId:d,projectId:h}){return I.jsx(zYe,{children:I.jsx($Ye,{children:I.jsx(vYe,{initialMessages:i,children:I.jsx(WYe,{children:s?I.jsxs(I.Fragment,{children:[I.jsx(Dse,{id:e,projectId:h,withHandler:!1}),I.jsx(Mse,{id:e,initialMessages:i,isReadonly:s,projectId:h},e)]}):I.jsxs(efe,{initialTool:u??null,isProjectContext:!!h,localStorageEnabled:!0,overrideModelId:d,children:[I.jsx(Dse,{id:e,projectId:h,withHandler:!0}),I.jsx(Mse,{id:e,initialMessages:i,isReadonly:s,projectId:h},e)]})})},e)},e)},e)});export{eTt as C,VSt as a,WSt as g,g8e as u};
//# sourceMappingURL=chat-system-DDZKKNv-.js.map
