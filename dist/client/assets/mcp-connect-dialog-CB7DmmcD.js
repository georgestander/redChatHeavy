import{j as e,r as m}from"./client-BXVv_YeC.js";import{g as f,F as p,B as x,h as v,E as y}from"./get-google-favicon-url-Bedu1OEO.js";import{G as d,a as w,L as k}from"./trash-2-DP4m9RAL.js";import{u as z}from"./useMutation-BU4p8oK4.js";import{t as C}from"./index-BMGOATel.js";import{B as u}from"./button-BvmNNHkl.js";import{D,d as b,a as F,b as M,c as U,e as B}from"./dialog-BVCtBu-i.js";import{c as h}from"./config-DrLGYCgI.js";import{c as j}from"./createLucideIcon-CqP9863P.js";const L=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],E=j("shield",L);const R=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_=j("triangle-alert",R);function g(t){try{const a=new URL(t);return`${a.origin}${a.pathname}`}catch{const a=t.indexOf("?");return a===-1?t:t.slice(0,a)}}function q({name:t,url:a,type:s,isCustom:i,statusText:l}){const n=s==="http"?f(a):"";return e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-muted",children:n?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"size-5 rounded-sm",url:n}),e.jsx(d,{className:"hidden size-5 text-muted-foreground"})]}):e.jsx(d,{className:"size-5 text-muted-foreground"})}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx("span",{className:"truncate font-medium text-sm",children:t}),i?e.jsx(x,{className:"h-5 shrink-0 px-2 text-[10px]",variant:"secondary",children:"CUSTOM"}):e.jsx(x,{className:"h-5 shrink-0 px-2 text-[10px]",variant:"outline",children:"Built-in"})]}),e.jsx("p",{className:"mt-0.5 truncate text-muted-foreground text-xs",children:g(a)}),l?e.jsx("p",{className:"mt-0.5 text-[11px] text-muted-foreground",children:l}):null]})]})}function V({open:t,onClose:a,connector:s}){const[i,l]=m.useState(!1),n=m.useMemo(()=>s&&s.type==="http"?f(s.url):"",[s]),{mutateAsync:c,isPending:o}=z({mutationFn:v,onError:r=>{C.error(r.message||"Failed to start connection")}}),N=m.useCallback(async()=>{if(!s)return;const{authorizationUrl:r}=await c({id:s.id});l(!0),window.location.href=r},[c,s]);return e.jsx(D,{onOpenChange:r=>!r&&a(),open:t,children:e.jsxs(b,{className:"sm:max-w-md",children:[e.jsx(F,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-md bg-muted",children:n?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"size-5 rounded-sm",url:n}),e.jsx(d,{className:"hidden size-5 text-muted-foreground"})]}):e.jsx(d,{className:"size-5 text-muted-foreground"})}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsxs(M,{className:"truncate",children:["Connect ",s?.name??"connector"]}),e.jsx(U,{className:"truncate",children:s?.url?g(s.url):null})]})]})}),e.jsxs("div",{className:"space-y-6 py-2",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(E,{className:"mt-0.5 size-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Permissions always respected"}),e.jsxs("p",{className:"mt-1 text-muted-foreground text-sm",children:[h.appName," is strictly limited to permissions you explicitly set. Disable access anytime to revoke permissions."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{className:"mt-0.5 size-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:["How ",h.appName," uses data"]}),e.jsxs("p",{className:"mt-1 text-muted-foreground text-sm",children:["By default, we do not train on your data. Data from"," ",s?.name??"this connector"," may be used to provide you relevant and useful information."]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_,{className:"mt-0.5 size-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Connectors may introduce risk"}),e.jsx("p",{className:"mt-1 text-muted-foreground text-sm",children:"Connectors are designed to respect your privacy, but sites may attempt to steal your data."})]})]})]}),e.jsxs(B,{className:"mt-4 flex-col gap-3 sm:flex-col",children:[e.jsx(u,{className:"w-full",disabled:o||i||!s,onClick:N,children:o||i?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"size-4 animate-spin"}),"Redirecting..."]}):e.jsxs(e.Fragment,{children:["Continue to ",s?.name??"connector",e.jsx(y,{className:"size-4"})]})}),e.jsx(u,{className:"w-full",disabled:o||i,onClick:a,variant:"ghost",children:"Cancel"})]})]})})}export{q as C,V as M,_ as T};
//# sourceMappingURL=mcp-connect-dialog-CB7DmmcD.js.map
