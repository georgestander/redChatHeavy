{"version":3,"file":"document-Caj9SmU3-D4kH4oKJ.mjs","sources":["document-Caj9SmU3.mjs"],"sourcesContent":["import{o as i,s as r,al as u,am as m,an as d,ao as p,ap as w,a as D,r as f,c as n}from\"./worker-entry-DwuZrGJP.mjs\";import\"/Users/georgestander/dev/tools/chatjs/node_modules/.pnpm/rwsdk@1.0.0-beta.53_@cloudflare+vite-plugin@1.23.0_bufferutil@4.1.0_vite@7.3.1_@types+node@22_zvk7ynha23nrady3r6nbat6zha/node_modules/rwsdk/dist/__intermediate_builds/ssr/ssr_bridge.js\";import\"node:events\";import\"cloudflare:workers\";import\"async_hooks\";import\"node:os\";import\"node:diagnostics_channel\";import\"fs\";import\"events\";import\"util\";import\"path\";import\"assert\";import\"node:stream\";import\"module\";import\"node:path\";import\"url\";import\"buffer\";import\"crypto\";import\"node:crypto\";const c=i({id:r()}),g=i({id:r(),content:r(),title:r(),kind:u()});async function a(){const e=await D.api.getSession({headers:f.request.headers});if(!e?.user)throw new Error(\"UNAUTHORIZED\");const{id:s,...t}=e.user;if(!s)throw console.error(\"User ID missing in session callback\"),new Error(\"UNAUTHORIZED\");return{id:s,...t}}async function l(e){const s=await a(),t=c.parse(e),o=await m({id:t.id,userId:s.id});if(o.length===0)throw new Error(\"Document not found\");return o}async function I(e){const s=c.parse(e),t=await d({id:s.id});if(t.length===0)throw new Error(\"Public document not found\");return t}async function h(e){const s=await a(),t=g.parse(e),o=await p({id:t.id});if(!o)throw new Error(\"Document not found\");return await w({id:t.id,content:t.content,title:t.title,kind:t.kind,userId:s.id,messageId:o.messageId}),{success:!0}}n(l,\"/src/server/actions/document.ts\",\"getDocuments\");n(I,\"/src/server/actions/document.ts\",\"getPublicDocuments\");n(h,\"/src/server/actions/document.ts\",\"saveDocument\");export{l as getDocuments,I as getPublicDocuments,h as saveDocument};\n//# sourceMappingURL=document-Caj9SmU3.mjs.map\n"],"names":["c","i","r","u","a","e","D","f","s","l","o","m","I","d","h","p","w","n"],"mappings":"uZAAwpB,MAAMA,EAAEC,EAAE,CAAC,GAAGC,EAAC,CAAE,CAAC,EAAE,EAAED,EAAE,CAAC,GAAGC,EAAC,EAAG,QAAQA,EAAC,EAAG,MAAMA,EAAC,EAAG,KAAKC,GAAG,CAAC,EAAE,eAAeC,GAAG,CAAC,MAAMC,EAAE,MAAMC,EAAE,IAAI,WAAW,CAAC,QAAQC,EAAE,QAAQ,OAAO,CAAC,EAAE,GAAG,CAACF,GAAG,KAAK,MAAM,IAAI,MAAM,cAAc,EAAE,KAAK,CAAC,GAAGG,EAAE,GAAG,CAAC,EAAEH,EAAE,KAAK,GAAG,CAACG,EAAE,MAAM,QAAQ,MAAM,qCAAqC,EAAE,IAAI,MAAM,cAAc,EAAE,MAAM,CAAC,GAAGA,EAAE,GAAG,CAAC,CAAC,CAAC,eAAeC,EAAEJ,EAAE,CAAC,MAAMG,EAAE,MAAMJ,EAAC,EAAG,EAAEJ,EAAE,MAAMK,CAAC,EAAEK,EAAE,MAAMC,EAAE,CAAC,GAAG,EAAE,GAAG,OAAOH,EAAE,EAAE,CAAC,EAAE,GAAGE,EAAE,SAAS,EAAE,MAAM,IAAI,MAAM,oBAAoB,EAAE,OAAOA,CAAC,CAAC,eAAeE,EAAEP,EAAE,CAAC,MAAMG,EAAER,EAAE,MAAMK,CAAC,EAAE,EAAE,MAAMQ,EAAE,CAAC,GAAGL,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,MAAM,IAAI,MAAM,2BAA2B,EAAE,OAAO,CAAC,CAAC,eAAeM,EAAET,EAAE,CAAC,MAAMG,EAAE,MAAMJ,EAAC,EAAG,EAAE,EAAE,MAAMC,CAAC,EAAEK,EAAE,MAAMK,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,GAAG,CAACL,EAAE,MAAM,IAAI,MAAM,oBAAoB,EAAE,OAAO,MAAMM,EAAE,CAAC,GAAG,EAAE,GAAG,QAAQ,EAAE,QAAQ,MAAM,EAAE,MAAM,KAAK,EAAE,KAAK,OAAOR,EAAE,GAAG,UAAUE,EAAE,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAACO,EAAER,EAAE,kCAAkC,cAAc,EAAEQ,EAAEL,EAAE,kCAAkC,oBAAoB,EAAEK,EAAEH,EAAE,kCAAkC,cAAc"}