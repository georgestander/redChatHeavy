import{o as s,_ as c,s as n,f as l,h as w,i as u,j as I,k as j,l as d,a as h,r as g,c as a}from"./worker-entry-DwuZrGJP.mjs";import"/Users/georgestander/dev/tools/chatjs/node_modules/.pnpm/rwsdk@1.0.0-beta.53_@cloudflare+vite-plugin@1.23.0_bufferutil@4.1.0_vite@7.3.1_@types+node@22_zvk7ynha23nrady3r6nbat6zha/node_modules/rwsdk/dist/__intermediate_builds/ssr/ssr_bridge.js";import"node:events";import"cloudflare:workers";import"async_hooks";import"node:os";import"node:diagnostics_channel";import"fs";import"events";import"util";import"path";import"assert";import"node:stream";import"module";import"node:path";import"url";import"buffer";import"crypto";import"node:crypto";const p=["folder","briefcase","book","code","dollar-sign","graduation-cap","heart","home","lightbulb","music","pencil","plane","shopping-cart","star","target","users","zap","coffee","camera","globe","flask","chart-bar","calendar","clipboard","rocket"],v=[{name:"gray",value:"#6b7280"},{name:"red",value:"#ef4444"},{name:"orange",value:"#f97316"},{name:"yellow",value:"#eab308"},{name:"green",value:"#22c55e"},{name:"cyan",value:"#06b6d4"},{name:"blue",value:"#3b82f6"},{name:"purple",value:"#a855f7"},{name:"pink",value:"#ec4899"}],m=v.map(t=>t.name),P=s({name:n().min(1),instructions:n().default(""),icon:c(p).optional(),iconColor:c(m).optional()}),y=s({id:n().uuid()}),S=s({id:n().uuid(),updates:s({name:n().min(1).optional(),instructions:n().optional(),icon:c(p).optional(),iconColor:c(m).optional()})}),E=s({id:n().uuid(),instructions:n()}),b=s({id:n().uuid()});function f(t){return{...t,createdAt:t.createdAt instanceof Date?t.createdAt.toISOString():t.createdAt,updatedAt:t.updatedAt instanceof Date?t.updatedAt.toISOString():t.updatedAt}}async function i(){const e=(await h.api.getSession({headers:g.request.headers}))?.user?.id;if(!e)throw new Error("UNAUTHORIZED");return e}async function C(){const t=await i();return(await I({userId:t})).map(o=>f(o))}async function O(t){const e=P.parse(t),o=await i(),r=l();return await w({id:r,userId:o,name:e.name,instructions:e.instructions,icon:e.icon,iconColor:e.iconColor}),{id:r}}async function A(t){const e=y.parse(t),o=await i(),r=await u({id:e.id});if(!r)throw new Error("Project not found");if(r.userId!==o)throw new Error("Project not found");return f(r)}async function R(t){const e=S.parse(t),o=await i(),r=await u({id:e.id});if(!r)throw new Error("Project not found");if(r.userId!==o)throw new Error("Project not found");return await d({id:e.id,updates:e.updates}),{success:!0}}async function U(t){const e=E.parse(t),o=await i(),r=await u({id:e.id});if(!r)throw new Error("Project not found");if(r.userId!==o)throw new Error("Project not found");return await d({id:e.id,updates:{instructions:e.instructions}}),{success:!0}}async function _(t){const e=b.parse(t),o=await i(),r=await u({id:e.id});if(!r)throw new Error("Project not found");if(r.userId!==o)throw new Error("Project not found");return await j({id:e.id}),{success:!0}}a(C,"/src/server/actions/project.ts","list");a(O,"/src/server/actions/project.ts","create");a(A,"/src/server/actions/project.ts","getById");a(R,"/src/server/actions/project.ts","update");a(U,"/src/server/actions/project.ts","setInstructions");a(_,"/src/server/actions/project.ts","remove");export{O as create,A as getById,C as list,_ as remove,U as setInstructions,R as update};
//# sourceMappingURL=project-Cwy3jbFk.mjs.map
